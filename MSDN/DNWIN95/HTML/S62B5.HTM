<HTML><HEAD><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Troubleshooting Specific Setup Errors</TITLE><META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset= iso-8859-1"><style>@import url(msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="msdn_ie3.css"></HEAD><BODY BGCOLOR="#FFFFFF">
<FONT FACE="verdana,arial,helvetica" size="2">
<h3>Troubleshooting Specific Setup Errors</H3><P>This section describes Setup problems and how to diagnose and correct them. </P>
<P>You can also get useful troubleshooting information from the SETUPLOG.TXT log file that Setup creates in the root directory of your startup drive, as described earlier in this chapter. </P>
<P>If Setup fails, attempt to restart it by using the following procedure. </P>
<H4><A NAME="sec0"></A>To restart Setup after a failure</H4><OL><LI>Press F3 or click the Exit button. 
<P>If the system does not respond, restart the computer by pressing CTRL+ALT+DEL. If this fails, turn off the computer, wait 10 seconds, and then turn it on again.</P></LI><LI>Start Setup again. Setup prompts you to use Safe Recovery to recover the failed installation. Choose the Safe Recovery option and click the Continue button. Setup will skip the portion that caused the initial failure. </LI><LI>If the computer stops again during the hardware detection process, restart Setup again, and repeat the process until the hardware detection portion of Setup is completed.</LI></OL><P>You can use the information in SETUPLOG.TXT and DETLOG.TXT to check for the device or devices that caused the problems. Also review any messages added by Setup in the AUTOEXEC.BAT file for instructions on correcting setup problems.</P>
<P>The following sections describe specific setup problems and how to resolve them.</P>
<h5><A NAME="sec1"></A>Setup fails to start.</H5><P>If Setup fails to start, you should check memory, check for hardware detection conflicts, and check the access to the source for the Windows&nbsp;95 installation files. Use the following checklist and procedures to find a solution.</P>
<UL><LI>Check the computer for viruses.</LI><LI>Check for sufficient conventional memory.
<P>Windows&nbsp;95 requires 420K. If this is not available, check for unnecessary drivers or TSRs, remove them and then try again. You can also run the MS-DOS MEMMAKER utility to optimize conventional memory. </P></LI><LI>Check the RAM configuration in CONFIG.SYS.
<P>For MS-DOS 4.x or earlier, settings should contain the following:</P></LI><LI>device=himem.sys
<P>For MS-DOS 5 or later, settings should contain the following:</P></LI><LI>device=himem.sys</LI><LI>device=emm386.exe noems</LI><LI>dos=high,umb
<P><B>Note</B>   The path to these drivers is not specified in the preceding example. If you don't specify the path, you need to copy the drivers to the root of the startup drive. Using <B>emm386 </B>and<B> dos=high,umb</B> enables UMBs, but it is optional.</P></LI><LI>Check for adequate XMS memory. Windows&nbsp;95 requires at least 3 MB of XMS. If you are using MS-DOS 6.xx, press F4 when you start the computer and the Starting MS-DOS message appears. Choose Step-by-Step Confirmation to verify that HIMEM.SYS is loading. If not, make sure that verify the startup file syntax.</LI><LI>At the command prompt, use <B>mem /c /p</B> to check for free conventional and XMS memory.</LI><LI>If installing from a floppy disk or compact disc, check access to the drive. For more information, see "Troubleshooting Specific Setup Errors" earlier in this chapter.</LI><LI>Remove all extra entries in CONFIG.SYS and AUTOEXEC.BAT, except those required to start the system and, for a networked computer, to start the network. It is especially helpful to remove any entries related to non-Microsoft disk caching software.</LI></UL>
<h5><A NAME="sec2"></A>Setup starts but an error is reported during the installation process.</H5><UL><LI>Restart Windows&nbsp;95 Setup and use Safe Recovery.</LI><LI>Check the SETUPLOG.TXT or DETLOG.TXT files. </LI><LI>Check the computer for viruses. This is an especially important step if Setup fails on disk 2 with floppy disk source files, or if it fails when the Windows 95 Startup wizard is preparing to run.</LI><LI>Verify that all system and networking components function normally. Run virus detection software and <B>scandisk</B> (specifying a Thorough Type of Test) to identify system problems that might cause errors.</LI><LI>Check the content of the error message. Windows&nbsp;95 Setup errors contain additional information about the condition causing Setup to fail. Examine the device or condition that the error describes. </LI><LI>Verify that system hardware is compatible.<B> </B>If Setup repeatedly fails, or if you suspect hardware conflicts with the Setup process, verify that the system components are supported. You might want to skip hardware detection. To do this, see "Troubleshooting Specific Setup Errors" earlier in this chapter.</LI><LI>Check for a missing or damaged file. If a driver or system component file is referenced in the error, check to see if the file exists, if it is in the expected location, and if it has the correct file size, date, and version. For more information, see Chapter 35, "General Troubleshooting."</LI></UL><P></P>
<h5><A NAME="sec3"></A>Setup fails when run from floppy disks.</H5><P>When Setup fails when it is being run from floppy disks, you might see a message asking you to insert a disk in the floppy drive when a disk is already in the drive. Or, you might use the <B>dir</B> command to examine a Setup floppy disk and find that it fails or that garbled characters appear on the screen. </P>
<P>To solve this problem, first disable any BIOS-enable virus checking routine. Then check your computer hardware documentation or check with the manufacturer to ensure that the computer's CMOS settings are correct. If changing settings as advised by the manufacturer does not solve the problem, you can use the DRIVPARM utility.</P>
<H4><A NAME="sec4"></A>To use DRIVPARM to solve floppy-disk hardware problems</H4><OL><LI>Start the computer using the most basic configuration files possible, loading no additional hardware drivers or other software in CONFIG.SYS and AUTOEXEC.BAT.</LI><LI>Insert a standard disk in drive A or drive B. At the command prompt, switch to that drive and type <B>dir</B></LI><LI>If this works, insert a disk from the Windows 95 floppy disks in the same drive, and type <B>dir</B></LI><LI>If this fails, garbled characters appear on the screen, or subsequent attempts to read the floppy disk fail, insert one of the following statements at the end of CONFIG.SYS.
<P>For a 1.44-MB A drive, add:</P></LI></OL><UL><LI>drivparm=/d:0 /f:7
<P>For a 1.44-MB B drive, add:</P></LI><LI>drivparm=/d:1 /f:7</LI></UL><OL><LI>If CONFIG.SYS contains an entry for DRIVER.SYS, disable it by adding <B>rem</B> before the related command line. </LI><LI>Save the CONFIG.SYS file, and restart the computer. Then repeat steps 2 and 3. If these steps are successful, leave the <B>drivparm</B> statement in CONFIG.SYS so that you can run Windows&nbsp;95 Setup.
<P>If this procedure is not successful, the problem is related to the CMOS settings on the computer. For information and assistance, contact your computer manufacturer.</P></LI></OL>
<h5><A NAME="sec5"></A>You cannot access the server when installing from the network.</H5><UL><LI>Verify that the network domain is validating the user account.</LI><LI>Check the user name, password, and access rights.</LI><LI>Check basic network functionality.</LI><LI>Check conventional and XMS memory.</LI><LI>Check for and remove unnecessary drivers and TSRs.</LI><LI>If using a login script, check that the login script runs properly.</LI></UL><P>For more information, see Chapter 7, "Introduction to Windows 95 Networking."</P>
<h5><A NAME="sec6"></A>The network connection fails when you are installing from the network.</H5><UL><LI>Try to reconnect to the network share.</LI><LI>If you cannot reconnect, restart the computer, and try again.</LI><LI>Use another computer on the network to verify the installation server is working.</LI><LI>Check the basic network connection.</LI></UL><h5><A NAME="sec7"></A>Setup stops during hardware detection.</H5><P>When Setup stalls during hardware detection, you might need to disable hardware detection for a device or class of devices. Before you do this, wait until at least three minutes have passed with neither disk nor screen activity (that is, the mouse pointer cannot be moved). Some detection routines take long enough that the computer might appear to stop temporarily. </P>
<H4><A NAME="sec8"></A>To skip hardware detection in order to avoid problems</H4><OL><LI>Run Windows&nbsp;95 Setup from MS-DOS and, if this is not the first attempt to install, select Safe Recovery.</LI><LI>To disable the specific device detection during Setup, in the Hardware Detection dialog box, select the option to specify the hardware devices to detect. Then make sure the check box next to the device is not checked.</LI></OL><h5><A NAME="sec9"></A>Setup cannot communicate with a device.</H5><P>If Setup cannot communicate with a specific hardware device on the system during the installation of Windows&nbsp;95, a message states that Setup has found a hardware device on your computer that is not responding and prompts you to try this device again. For persistent problems, the message provides instructions on how to exit Setup and restart the computer.</P>
<P>This error message can be caused by one of the following:</P>
<UL><LI>The network has stopped responding</LI><LI>A CD-ROM drive has stopped responding</LI><LI>A floppy disk drive has stopped responding</LI><LI>Setup can no longer access the hard drive to complete the installation process</LI></UL><P>Follow the recommendation in the message to turn off the computer, turn it back on, and then rerun Setup with Safe Recovery. If the problem persists, identify the problem from the preceding list and correct it.</P>
<h5><A NAME="sec10"></A>Setup fails with error B1.</H5><P>A B1 error message indicates that Setup has detected an older 80386 processor that is not supported and instructs you to upgrade your processor. Intel 80386 microprocessors dated before April 1987 are known as B1 stepping chips. These chips introduce random math errors when performing 32-bit operations, thus making them incompatible with Windows&nbsp;95. If your 80386 chip was manufactured before April 1987 or has a label on it that reads "For 16-bit operations only," contact your hardware manufacturer about an upgrade.</P>
<h5><A NAME="sec11"></A>Problems occur during the file-copying phase of Setup.</H5><P>If this occurs, exit Setup, restart your computer, and then rerun Setup. When prompted, select the Safe Recovery option and click Continue. The installation process should complete successfully. </P>
<P>If your computer stalls after all files have been copied, or if you receive an error at this point, it might be due to virus-protection software. Some computers have virus protection built into the ROM BIOS. You should disable the virus protection software or run your computer's configuration program to disable virus checking and then restart Setup. Select the Safe Recovery option, and the installation process should complete successfully. </P>
<h5><A NAME="sec12"></A>An "Incorrect MS-DOS version" error message appears.</H5><P>When starting Setup from MS-DOS, you might receive an error stating that MS-DOS 3.1 or greater is required. MS-DOS versions earlier than 3.1 are not compatible with Windows&nbsp;95.</P>
<P>This error can also occur when starting Setup from MS-DOS if you are using the 386MAX software utility. If this error occurs, temporarily disable the 386MAX commands from the startup files, and then run Setup again.</P>
<h5><A NAME="sec13"></A>A "Standard Mode: Fault in MS-DOS Extender" error message appears.</H5><P>When running Windows&nbsp;95 Setup from MS-DOS you might receive this error, indicating there might be a conflict in the upper memory region. To resolve this, either disable UMBs or remove EMM386 statements from CONFIG.SYS and rerun Setup. Or run Setup from Windows 3.x. </P>
<h5><A NAME="sec14"></A>A "Cannot open file *.INF" error message appears.</H5><P>If you receive an error that states that an *.INF file cannot be opened, you might need to free memory by disabling SMARTDrive in AUTOEXEC.BAT, or by closing any applications running in Windows.</P>
<h5><A NAME="sec15"></A>Setup requests a new source path.</H5><P>If this occurs, check the file source (the floppy disk drive or the CD-ROM drive).</P>
<UL><LI>In Windows File Manager, click the floppy disk drive, and verify that the drive and files are accessible by viewing directories and loading readable text files.
<P> – Or –</P>

<P><li>At the MS-DOS command prompt, use the <B>dir</B> and <B>type</B> commands to verify that the drive and files are accessible by viewing directories and loading readable text files.</P></LI><LI>If the floppy disk drive is inaccessible, try reading a different disk. If that doesn't work, shut down and restart the computer. Check CMOS settings for the floppy disk drive using the hardware manufacturer's diagnostic routine (consult your hardware documentation).</LI><LI>If installing from a compact disc, verify that MSCDEX and the CD-ROM drivers are loaded and configured properly.</LI></UL><h5><A NAME="sec16"></A>Setup is unable to find a valid boot partition.</H5><P>A valid MS-DOS partition must exist in order for Setup to install Windows&nbsp;95. If Windows&nbsp;95 Setup is unable to find a valid boot partition during installation, it displays an error message. If you receive an error message, there might be an actual partition error, but it is more likely that disk compression software or network components are mapping over the boot drive. This might occur if you are mapping a network drive to E, but E is the hidden host drive for your disk compression software, or you are using a LANtastic network and drive C is being mapped or shared. </P>
<P>To resolve the invalid partition error:</P>
<UL><LI>Verify the drive is not mapped over (or logically remapped).</LI><LI>Verify a valid, active partition using Fdisk. If no valid partition exists, take appropriate drive or data recovery efforts. If no active partition exists, use Fdisk to mark an appropriate partition as active.</LI><LI>Remove interfering drivers from the startup configuration files, and run Setup again. </LI><LI>If you are using disk compression software, ensure that none of your mapped network drive letters conflict with the host drive for disk compression.</LI></UL><h5><A NAME="sec17"></A>Setup finds insufficient disk space.</H5><P>If Setup does not find sufficient space to install Windows&nbsp;95, check for space on the destination and boot drives, and if you are using compression, check actual free space. </P>
<h5><A NAME="sec18"></A>Setup error occurs on a system with OS/2.</H5><P>Setup disables OS/2 Boot Manager to ensure that Windows&nbsp;95 can restart the computer and complete its installation. Therefore, if you are using OS/2 Boot Manager to choose operating systems at startup, OS/2 Boot Manager must be reset after Windows&nbsp;95 is installed. Boot Manager can be reactivated by starting the computer with an OS/2 boot disk and by using the OS/2 Fdisk utility.</P>
<P>If you are not using Boot Manager, you should configure the computer to use Boot Manager, and then follow the preceding instructions. If you start MS-DOS from a floppy disk and run Setup, you will no longer be able to start OS/2 after Windows&nbsp;95 has been installed. To avoid this, rename or delete the AUTOEXEC.BAT and CONFIG.SYS files that OS/2 uses before running Windows&nbsp;95 Setup.</P>
<P></P>
<h5><A NAME="sec19"></A>Setup fails automated installation from MSBATCH.INF.</H5><P>If the automated installation fails, check the following:</P>
<UL><LI>Verify the network connection if source files are on the network</LI><LI>Check errors messages, if any</LI><LI>Check the MSBATCH.INF file contents and syntax</LI><LI>Check the network validation of user logon</LI><LI>Check for enough memory</LI><LI>Check for and remove unnecessary drivers and TSRs</LI><LI>If using a login script, verify that the script ran properly</LI></UL></FONT></BODY></HTML>
