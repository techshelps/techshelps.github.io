<HTML><HEAD><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Using DLC for Connectivity</TITLE><META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset= iso-8859-1"><style>@import url(msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="msdn_ie3.css"></HEAD><BODY BGCOLOR="#FFFFFF">
<FONT FACE="verdana,arial,helvetica" size="2">
<h3>Using DLC for Connectivity</H3><P>For direct connection and communication with a mainframe computer that uses DLC, the DLC protocol must be installed on the client computer that is running Windows&nbsp;95. The Microsoft DLC protocol works with either token-ring or Ethernet network adapter drivers.</P>
<P>Microsoft DLC is also used to provide connectivity to local area printers connected directly to the network. For example, DLC can be used for printing to a printer such as a Hewlett-Packard HP&reg; LaserJet&reg; 4Si that uses an HP JetDirect&reg; network adapter to connect directly to the network (rather than to a port on a print server). The DLC protocol must be installed and running on the print server for the printer. Computers sending print jobs to a print server for a DLC network printer do not need the DLC protocol — only the print server requires DLC. To take advantage of the DLC protocol device driver, you must create a network printer in the Printers folder.</P>
<P>The following sections describe how to install the Microsoft DLC protocol and how to configure it with Novell NetWare ODI drivers and IBM LanSupport.    </P>
<P><B>Note</B>   Windows 95 contains the most up-to-date Microsoft DLC protocol. Make sure you are running the latest version, which is also available from Microsoft Download Service (MSDL) and CompuServe. For more information about MSDL, see Appendix J, "Windows 95 Resource Directory."</P>
<H4><A NAME="sec0"></A>Installing and Configuring Real-Mode Microsoft DLC</H4><P><B>Architecture for real-mode DLC with NDIS 2 network adapter drivers</B></P>
<P><img src="RK10_16.gif"></P>
<P>This section describes how to install the real-mode NDIS 2 Microsoft DLC protocol to bind with an NDIS 2 network adapter driver. This is an NDIS 2 protocol that, when installed, is bound to an NDIS 2 network adapter driver. The Windows&nbsp;95 protected-mode protocols use the NDIS2SUP.VXD module to coexist with and run over the real-mode NDIS&nbsp;2 network adapter drivers.</P>
<P>When you install Windows&nbsp;95, Windows 95 Setup detects whether the computer already has the Microsoft DLC protocol installed; if so, Setup migrates the protocol and its settings to Windows 95. Otherwise, you can add Microsoft DLC as a protocol after Windows&nbsp;95 is installed. </P>
<P><b>Note</b></P>
<P>You must install the version of Microsoft DLC provided with Windows&nbsp;95. You cannot use the Microsoft DLC INF file from Windows for Workgroups 3.x to install this protocol; Windows 95 uses a new INF file format.</P>
<P>You can also install Microsoft DLC using setup scripts, as described in Appendix D, "MSBATCH.INF Parameters."</P>
<h4><A NAME="sec1"></A>To install the Microsoft DLC protocol on a computer running Windows&nbsp;95</h4>
<p></p>
<UL>
<LI>In the Network option in Control Panel, click Add.</LI>
<LI>In the Select Network Component Type dialog box, double-click Protocol.</LI>
<LI>In the Select Network Protocol dialog box, click Microsoft in the Manufacturers list, and then click Microsoft DLC in the Network Protocols list. Then click OK.</LI>
<LI>Shut down and restart the computer for the changes to take effect.</LI>
<LI>Make sure that there is only one net start entry in AUTOEXEC.BAT, because Setup automatically adds an entry to support DLC, even if such an entry already exists.</LI>
</UL>
<P>The properties in the following table are set by default for real-mode Microsoft DLC. You can use the Network option in Control Panel to change these default values, or to set values for other parameters that you might use, in the Advanced properties for Microsoft DLC protocol.</P>

<TABLE COLS="2" BORDER="0" CELLPADDING="7"><COLGROUP><COL WIDTH="72pt" VALIGN="TOP"><COL WIDTH="275pt" VALIGN="TOP"></COLGROUP><TBODY><TR><TD VALIGN="TOP"><P><B>Value</B></P></TD><TD VALIGN="TOP"><P><B>Description</B></P></TD></TR><TR><TD VALIGN="TOP"><P>Saps</P></TD><TD VALIGN="TOP"><P>Indicates the number of SAPs that can be opened simultaneously. The range for SAPs is 1 to 255 inclusive. The default is 3.</P>
<P>For a description of SAPs, see the <I>IBM Local Area Network Technical Reference</I>. For more information about adjusting the SAPs value, see the entry for Stations.</P></TD></TR><TR><TD VALIGN="TOP"><P>Stations</P></TD><TD VALIGN="TOP"><P>Indicates the number of link stations that can be opened simultaneously. The range for stations is 1 to 255 inclusive. The default is 20.</P>
<P>Each application requires a certain number of SAPs and stations. Because each SAP or station takes up memory, you should provide only enough for your application to run.</P></TD></TR><TR><TD VALIGN="TOP"><P>Swap</P></TD><TD VALIGN="TOP"><P>Turns on address bit-swapping when it is enabled and Microsoft&nbsp;DLC is bound to an Ethernet driver. The default is 1 (enabled). </P></TD></TR><TR><TD VALIGN="TOP"><P>Usedix</P></TD><TD VALIGN="TOP"><P>Sets the frame format. By default, this value is 0 (disabled), which is the correct value for 802.3 Ethernet format. Set this value to 1 for Ethernet DIX 2.0 (Ethertype 0x80D5) format. Ethernet DIX frames have an extra type-field.</P></TD></TR></TBODY></TABLE>
<P><BR></P><P>The default values for Swap<B> </B>and Usedix<B> </B>are appropriate for most token-ring LAN environments. If the computer has an Ethernet adapter, then you should set the correct values for these<B> </B>parameters in the Advanced properties for Microsoft DLC. If you previously used the IBM DXME0MOD.SYS driver, use the following table to map the XMIT_SWAP parameter to set values for the two Microsoft&nbsp;DLC parameters.</P>

<TABLE COLS="3" BORDER="0" CELLPADDING="7"><COLGROUP><COL WIDTH="119pt" VALIGN="TOP"><COL WIDTH="114pt" VALIGN="TOP"><COL WIDTH="114pt" VALIGN="TOP"></COLGROUP><TBODY><TR><TD VALIGN="TOP"><P><B>DXME0MOD.SYS</B></P></TD><TD COLSPAN="2" VALIGN="TOP"><P><B>Microsoft DLC Parameters</B></P></TD></TR><TR><TD VALIGN="TOP"><P><B>xmit_swap</B></P></TD><TD VALIGN="TOP"><P>Swap</P></TD><TD VALIGN="TOP"><P>Usedix</P></TD></TR><TR><TD VALIGN="TOP"><P>0</P></TD><TD VALIGN="TOP"><P>1</P></TD><TD VALIGN="TOP"><P>0</P></TD></TR><TR><TD VALIGN="TOP"><P>1</P></TD><TD VALIGN="TOP"><P>1</P></TD><TD VALIGN="TOP"><P>1</P></TD></TR><TR><TD VALIGN="TOP"><P>2</P></TD><TD VALIGN="TOP"><P>0</P></TD><TD VALIGN="TOP"><P>0</P></TD></TR><TR><TD VALIGN="TOP"><P>3</P></TD><TD VALIGN="TOP"><P>0</P></TD><TD VALIGN="TOP"><P>1</P></TD></TR></TBODY></TABLE>
<P><BR></P><P>The following example shows some typical settings in AUTOEXEC.BAT and PROTOCOL.INI for Microsoft DLC with an Intel EtherExpress PRO LAN NDIS&nbsp;2 network adapter driver on an Ethernet network. Notice that the [Msdlc$] section is added automatically by Windows&nbsp;95 when the protocol is installed.</P>
<P><B>Sample Configuration File Settings for Microsoft DLC with NDIS 2 Adapters</B></P>

<TABLE COLS="2" BORDER="0" CELLPADDING="7"><COLGROUP><COL WIDTH="82pt" VALIGN="TOP"><COL WIDTH="266pt" VALIGN="TOP"></COLGROUP><TBODY><TR><TD VALIGN="TOP"><P><B>Filename</B></P></TD><TD VALIGN="TOP"><P><B>Required settings</B></P></TD></TR><TR><TD VALIGN="TOP"><P>AUTOEXEC.BAT</P></TD><TD VALIGN="TOP"><P>net init<BR>msdlc.exe<BR>net start</P></TD></TR><TR><TD VALIGN="TOP"><P>PROTOCOL.INI</P></TD><TD VALIGN="TOP"><P>[netbeui$]<BR>DriverName=NETBEUI$<BR>Lanabase=0<BR>sessions=10<BR>ncbs=12<BR>Bindings=EPRO$</P>
<P>[nwlink$]<BR>DriverName=nwlink$<BR>Frame_Type=4<BR>cachesize=0<BR>Bindings=EPRO$</P>
<P>[epro$]<BR>DriverName=EPRO$<BR>INTERRUPT=10<BR>ioaddress=0x300</P>
<P>[protman$]<BR>priority=ndishlp$<BR>DriverName=protman$</P>
<P>[ndishlp$]<BR>DriverName=ndishlp$<BR>Bindings=EPRO$</P>
<P>[data]<BR>version=v4.00.000<BR>netcards=EPRO$,*PNP8132</P>
<P>[msdlc$]<BR>DriverName=msdlc$<BR>stations=20<BR>saps=3<BR>swap=0<BR>usedix=1<BR>Bindings=EPRO$</P></TD></TR></TBODY></TABLE>
<P><BR></P><H4><A NAME="sec2"></A>Configuring Microsoft DLC with ODI Drivers</H4><P><B>Architecture for real-mode DLC with ODI network adapter drivers</B></P>
<P><img src="RK10_14.gif"></P>
<P>For computers that are running Microsoft DLC with ODI drivers using the Novell-supplied ODINSUP.EXE file, Windows 95 Setup installs over this configuration and leaves entries for ODINSUP and MSDLC in AUTOEXEC.BAT. Microsoft does not provide direct support for Microsoft DLC used with ODINSUP.EXE.</P>
<P>If you must run a real-mode network redirector or TSR (NETX.EXE, VLM.EXE, and so on), you need to configure Microsoft DLC by binding the Microsoft DLC protocol to an ODI network adapter driver, as shown in the illustration. Otherwise, install Microsoft DLC over NDIS 2 with the protected-mode Microsoft Client for NetWare Networks.</P>
<P>The following table shows settings used to configure Microsoft DLC with ODI drivers.</P>
<P><B>Configuration File Settings for Real-Mode Microsoft DLC over ODI Drivers</B></P>

<TABLE COLS="2" BORDER="0" CELLPADDING="7"><COLGROUP><COL WIDTH="82pt" VALIGN="TOP"><COL WIDTH="266pt" VALIGN="TOP"></COLGROUP><TBODY><TR><TD VALIGN="TOP"><P><B>Filename</B></P></TD><TD VALIGN="TOP"><P><B>Required settings</B></P></TD></TR><TR><TD VALIGN="TOP"><P>AUTOEXEC.BAT</P></TD><TD VALIGN="TOP"><P>lsl               ;Novell-supplied component<BR><I>mlid_driver</I>.com       ;Novell-supplied component<BR>odinhlp.exe       ;Windows 95 component<BR>odinsup.exe       ;Novell-supplied component<BR>msdlc.exe         ;Windows 95 component<BR>net start netbind ;Windows 95 component</P></TD></TR><TR><TD VALIGN="TOP"><P>NET.CFG</P></TD><TD VALIGN="TOP"><P>Protocol ODINSUP<BR>    Bind EPROODI<BR>    BUFFERED<BR>Link Driver EPROODI<BR>    Port 300<BR>    Frame Ethernet_802.2<BR>    Frame Ethernet_802.3<BR>    Frame Ethernet_II<BR>    Frame Ethernet_Snap</P></TD></TR><TR><TD VALIGN="TOP"><P>PROTOCOL.INI</P></TD><TD VALIGN="TOP"><P>[protman$]<BR>priority=ndishlp$<BR>DriverName=protman$</P>
<P>[ndishlp$]<BR>DriverName=ndishlp$<BR>Bindings=</P>
<P>[data]<BR>version=v4.00.000<BR>netcards=</P>
<P>[nwlink$]<BR>Frame_Type=4<BR>cachesize=0<BR>DriverName=nwlink$</P>
<P>[msdlc$]<BR>DriverName=msdlc$<BR>xstations0=0<BR>xstations1=0<BR>stations=20<BR>saps=3<BR>xsaps0=1<BR>xsaps1=1<BR>swap=0<BR>usedix=1<BR>Bindings=EPROODI</P>
<P>[EPROODI]<BR>Drivername=EPROODI<BR>INTERRUPT=10<BR>ioaddress=0x300</P></TD></TR></TBODY></TABLE>
<P><BR></P><H4><A NAME="sec3"></A>Upgrading Existing IBM LanSupport Installations</H4><P>If you are using DLC support supplied by IBM to connect to host computers, Windows&nbsp;95 Setup can detect IBM DLC; it leaves the installation intact and configures Windows 95 to run over that configuration. Although support for IBM DLC can be installed using the Network option in Control Panel, the required components must be provided by your network vendor.</P>
<P>This section describes two typical IBM LanSupport configurations, using DXMC0MOD.SYS and DXME0MOD.SYS.</P>
<P><B>DXMC0MOD.SYS, the monolithic IBM DLC driver.</B></P>
<P>For this configuration, Windows 95 Setup does one of two things:</P>
<UL><LI>If the computer is running NetWare, Setup keeps the DXMC0MOD.SYS driver and related settings, and installs the Generic ODI driver plus Microsoft Client for NetWare Networks, or keeps the real-mode client, as described in Chapter 9, "Windows 95 on NetWare Networks."</LI><LI>If the computer is running DXMC0MOD.SYS and no other networking components, Setups keeps the DXMC0MOD.SYS driver and does not install any Windows&nbsp;95 networking components.</LI></UL><P>The following shows a sample configuration for IBM DXMC0MOD.SYS with Microsoft Client for NetWare Networks.</P>
<P><B>Example of Configuration Settings for DXMC0MOD.SYS with ODI Drivers</B></P>

<TABLE COLS="2" BORDER="0" CELLPADDING="7"><COLGROUP><COL WIDTH="90pt" VALIGN="TOP"><COL WIDTH="270pt" VALIGN="TOP"></COLGROUP><TBODY><TR><TD VALIGN="TOP"><P><B>Filename</B></P></TD><TD VALIGN="TOP"><P><B>Required settings</B></P></TD></TR><TR><TD VALIGN="TOP"><P>AUTOEXEC.BAT</P></TD><TD VALIGN="TOP"><P>lsl         ; Novell-supplied component<BR>lansup      ; Novell-supplied component<BR>odihlp.exe  ; Microsoft component</P></TD></TR><TR><TD VALIGN="TOP"><P>CONFIG.SYS</P></TD><TD VALIGN="TOP"><P>device=<I>path</I>\dxmaood.sys   ;IBM-supplied component<BR>device=<I>path</I>\dxmcomod.sys  ;IBM-supplied component</P></TD></TR></TBODY></TABLE>
<P><BR></P><P><B>DXME0MOD.SYS, the NDIS driver for IBM DLC.</B></P>
<P>For this configuration, Windows 95 Setup does one of three things:</P>
<P><B>Architecture for real-mode DLC with NDIS&nbsp;2 network adapter and IBM LanSupport</B></P>
<P><img src="RK10_15.gif"></P>
<UL><LI>If the computer is running DXME0MOD.SYS and no other networking components, Setup keeps the DXME0MOD.SYS driver and does not install any Windows&nbsp;95 networking components.</LI><LI>If the computer is running DXME0MOD.SYS and Novell NetWare, Setup installs an NDIS network adapter driver plus Microsoft Client for NetWare Networks, and leaves the DXME0MOD.SYS driver intact.</LI><LI>If the computer is running DXME0MOD.SYS with the IBM DOS LAN Requestor, Setup installs an NDIS 2 adapter driver, keeps the DXME0MOD.SYS driver, installs Client for Microsoft Networks, and removes the IBM DOS LAN Requestor redirector components.</LI></UL><P>The following shows a sample configuration for IBM DXME0MOD.SYS with Client for Microsoft Networks using an NDIS 2 adapter driver. The same basic kinds of settings are used for a computer running Microsoft Client for NetWare Networks with an NDIS 2 adapter driver.</P>
<P><B>Example of Settings for DXMCE0MOD.SYS with Client for Microsoft Networks</B></P>

<TABLE COLS="2" BORDER="0" CELLPADDING="7"><COLGROUP><COL WIDTH="82pt" VALIGN="TOP"><COL WIDTH="266pt" VALIGN="TOP"></COLGROUP><TBODY><TR><TD VALIGN="TOP"><P><B>Filename</B></P></TD><TD VALIGN="TOP"><P><B>Required settings</B></P></TD></TR><TR><TD VALIGN="TOP"><P>AUTOEXEC.BAT</P></TD><TD VALIGN="TOP"><P>net start netbind</P></TD></TR><TR><TD VALIGN="TOP"><P>CONFIG.SYS</P></TD><TD VALIGN="TOP"><P>device=c:\windows\protman.dos /i:c:\windows<BR>device=c:\windows\epro.dos       ;ndis2 driver<BR>device=c:\lsp\dxma0mod.sys       ;IBM-supplied<BR>device=c:\lsp\dxme0mod.sys ,,3   ;IBM-supplied<BR>device=c:\windows\ndishlp.sys    ;Windows 95 </P></TD></TR><TR><TD VALIGN="TOP"><P>PROTOCOL.INI</P></TD><TD VALIGN="TOP"><P>[protman$]<BR>priority=ndishlp$<BR>DriverName=protman$</P>
<P>[ndishlp$]<BR>DriverName=ndishlp$<BR>Bindings=EPRO$</P>
<P>[data]<BR>version=v4.00.000<BR>netcards=EPRO$,*pnp8132</P>
<P>[netbeui$]<BR>DriverName=NETBEUI$<BR>Lanabase=0<BR>sessions=10<BR>ncbs=12<BR>Bindings=EPRO$</P>
<P>[nwlink$]<BR>DriverName=nwlink$<BR>Frame_Type=4<BR>cachesize=0<BR>Bindings=EPRO$<BR><BR>[EPRO$]<BR>DriverName=EPRO$<BR>INTERRUPT=10<BR>ioaddress=0x300<BR><BR>[DXMAIDXCFG]<BR>dxme0_nif=dxme0.nif<BR>dxmj0mod_nif=dxmj0mod.nif<BR>smcdosjp_nif=smcdosjp.nif<BR>smcdosjp2_nif=smcdosjp.nif<BR>smcdosat_nif=smcdosat.nif<BR>smcdosat2_nif=smcdosat.nif<BR>smcdosmc_nif=smcdosmc.nif<BR>smcdosmc2_nif=smcdosmc.nif</P>
<P>[ETHERAND]<BR>DriverName=DXME0$<BR>Bindings=EPRO$</P></TD></TR></TBODY></TABLE>
<P><BR></P></FONT></BODY></HTML>
