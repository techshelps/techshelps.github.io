<HTML><HEAD><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Supported Disk Devices</TITLE><META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset= iso-8859-1"><style>@import url(msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="msdn_ie3.css"></HEAD><BODY BGCOLOR="#FFFFFF">
<FONT FACE="verdana,arial,helvetica" size="2">
<h3>Supported Disk Devices</H3><P>Windows&nbsp;95 provides better disk device support than Windows 3.1, but it also ensures compatibility with existing MS-DOS – based and Windows-based disk device drivers. In addition, the disk device drivers in Windows&nbsp;95 are compatible with Windows&nbsp;NT miniport drivers.</P>
<P>Windows&nbsp;95 also provides enhanced support for large media using logical block addressing, including hard disks with more than 1024 cylinders. Extensions to the INT 13 disk controller support are provided in the protected-mode disk handler drivers for this support. (Windows 3.1 did not provide this support in its 32-bit disk access drivers.)</P>
<P>The following list shows the types of disk devices supported under Windows&nbsp;95:</P>

<TABLE COLS="4" BORDER="0" CELLPADDING="7"><COLGROUP><COL WIDTH="78pt" VALIGN="TOP"><COL WIDTH="90pt" VALIGN="TOP"><COL WIDTH="90pt" VALIGN="TOP"><COL WIDTH="90pt" VALIGN="TOP"></COLGROUP><TBODY><TR><TD VALIGN="TOP"><P><B>Device</B></P></TD><TD VALIGN="TOP"><P><B>Type supported</B></P></TD><TD VALIGN="TOP"><P><B></B></P></TD><TD VALIGN="TOP"><P><B></B></P></TD></TR><TR><TD VALIGN="TOP"><P>Hard disk drive </P></TD><TD VALIGN="TOP"><P>ESDI<BR>Hardcards</P></TD><TD VALIGN="TOP"><P>IDE<BR>IDE LBA</P></TD><TD VALIGN="TOP"><P>MFM</P></TD></TR><TR><TD VALIGN="TOP"><P>Bus adapter</P></TD><TD VALIGN="TOP"><P>EISA<BR>ISA<BR>MCA</P></TD><TD VALIGN="TOP"><P>PCI<BR>PCMCIA<BR>RLL</P></TD><TD VALIGN="TOP"><P>SCSI<BR>SCSI 2<BR>VL bus</P></TD></TR></TBODY></TABLE>
<P><BR></P><P>The following sections describe support in Windows&nbsp;95 for IDE, SCSI, high-speed floppy disk, and removable media devices. Information about SCSI and non-SCSI port drivers is also included.</P>
<H4><A NAME="sec0"></A>IDE Drives and Controllers</H4><P>Windows&nbsp;95 provides improved support for IDE drive configurations, as summarized in this section.</P>
<P><B>Support for alternate IDE controllers.</B></P>
<P>Windows&nbsp;95 provides protected-mode support for the use of two IDE controllers in a computer, or the combination of an IDE controller in a portable computer and an alternate controller in a docking station (available, for example, in some COMPAQ docking station products). IDE controllers provide support for multiple disk drives. </P>
<P><B>Support for IDE-based CD-ROM drives.</B></P>
<P>Currently, most disk devices in personal computers use an IDE-based hard disk controller. Adding a CD-ROM drive typically requires adding an additional controller card to provide either SCSI or a proprietary interface for connecting to the CD-ROM drive. Windows&nbsp;95 supports new, inexpensive CD-ROM drives that connect to IDE-compatible disk controllers.</P>
<P>Any IDE device that includes mechanisms for identification and declaration of resource requirements can take advantage of Plug and Play. </P>
<P><B>Note</B>   To use Syquest removable IDE drives under Windows&nbsp;95, the entry <B>RemovableIDE=true</B> must be added to the [386enh] section of SYSTEM.INI</P>
<P><B>Support for large IDE disk drives.</B></P>
<P>IDE drives are available that support a logical block addressing (LBA) scheme, allowing them to exceed the 0.5 GB (528 MB) size limitation. Windows&nbsp;95 provides protected-mode support for IDE disk drives larger than 504&nbsp;MB. The primary partition and the logical drives in an extended partition are each limited to 2 GB, but multiple 2-GB logical drives can be created in an extended partition.</P>
<P>The cluster size for a drive is defined by the Format program, depending on the size of the local drive, as shown in the following table:</P>
<P><B>Cluster Sizes for Logical Volumes on Hard Disks</B></P>

<TABLE COLS="3" BORDER="0" CELLPADDING="7"><COLGROUP><COL WIDTH="105pt" VALIGN="TOP"><COL WIDTH="121pt" VALIGN="TOP"><COL WIDTH="121pt" VALIGN="TOP"></COLGROUP><TBODY><TR><TD VALIGN="TOP"><P><B>Drive size (MB)</B></P></TD><TD VALIGN="TOP"><P><B>Sectors per cluster</B></P></TD><TD VALIGN="TOP"><P><B>Cluster size</B></P></TD></TR><TR><TD VALIGN="TOP"><P>0 – 151</P></TD><TD VALIGN="TOP"><P>8</P></TD><TD VALIGN="TOP"><P>4K</P></TD></TR><TR><TD VALIGN="TOP"><P>16 – 127</P></TD><TD VALIGN="TOP"><P>4</P></TD><TD VALIGN="TOP"><P>2K</P></TD></TR><TR><TD VALIGN="TOP"><P>128 – 255</P></TD><TD VALIGN="TOP"><P>8</P></TD><TD VALIGN="TOP"><P>4K</P></TD></TR><TR><TD VALIGN="TOP"><P>256 – 511</P></TD><TD VALIGN="TOP"><P>16</P></TD><TD VALIGN="TOP"><P>8K</P></TD></TR><TR><TD VALIGN="TOP"><P>512 – 1023</P></TD><TD VALIGN="TOP"><P>32</P></TD><TD VALIGN="TOP"><P>16K</P></TD></TR><TR><TD VALIGN="TOP"><P>1024 – 2048</P></TD><TD VALIGN="TOP"><P>64</P></TD><TD VALIGN="TOP"><P>32K</P></TD></TR></TBODY></TABLE>
<P><BR></P><P>1   FAT type is 12-bit; all other sizes use 16-bit FAT.</P>
<P>You can also use DriveSpace on 1-GB or 2-GB drives to eliminate the inefficiency of using 32K clusters, but in this case you must create multiple compressed drives. You can also use compression in Microsoft Plus! to create a single compressed drive on disks that are up to 2 GB in size.</P>
<H4><A NAME="sec1"></A>SCSI Devices and Drivers</H4><P>Windows&nbsp;95 provides support for SCSI disk devices, which was not available in Windows 3.1. SCSI support in Windows&nbsp;95 includes disk SCSI translator drivers, the SCSI Port Manager, and SCSI miniport drivers.</P>
<UL><LI>A disk SCSI translator driver (also called a SCSI'izer) are responsible for constructing SCSI command descriptor blocks for a specific device class and carrying out device-level error recovery and logging. There are two of these drivers (one for each class): one for SCSI hard disk devices and one for CD-ROM devices.</LI><LI>SCSI Port Manager manages the interaction between the SCSI'izer and a SCSI miniport driver, initializes the miniport driver, converts the I/O request format, and provides other services for the miniport driver. </LI><LI>The SCSI miniport driver is responsible for detecting and initializing a specific set of SCSI adapters. The driver also handles interrupts, transmits I/O requests to the device, and carries out adapter-level error recovery and logging. Windows&nbsp;95 supports the use of Windows&nbsp;NT miniport SCSI drivers without modification or recompiling. Compatibility with Windows&nbsp;NT-based miniport drivers ensures broad device support for disk devices under Windows&nbsp;95, while simplifying the driver development efforts for hardware manufacturers.</LI></UL><P>Windows&nbsp;95 provides broad support for popular SCSI controllers. Windows&nbsp;95 includes 32-bit disk device drivers for popular SCSI controllers from Adaptec, Future Domain, and other manufacturers. Windows 95 also provides compatability support for the Advanced SCSI Programming Interface (ASPI) and Common Access Method (CAM), which allows application and driver developers to submit I/O requests to SCSI devices. This allows existing MS-DOS – based applications and drivers that use the ASPI or CAM specification to work properly under Windows&nbsp;95. Windows&nbsp;95 also includes 16-bit and 32-bit drivers to support Windows-based ASPI clients and applications.</P>
<P>Although Windows&nbsp;95 can use Windows&nbsp;NT miniport drivers, the best choice for a SCSI driver is one that complies with Plug and Play. Most Windows&nbsp;NT miniport drivers ignore configuration information from the SCSI Manager and check I/O ports to identify hardware. Miniport drivers in Windows&nbsp;95 must honor configuration information without scanning for other adapters if the configuration information is not the default configuration. This is because many adapters supported under Windows&nbsp;95 have port ranges that conflict with other adapters and are affected adversely by scanning. For example, Artisoft&reg; LANtastic&reg; network adapters occupy a range of port addresses used by Adaptec 154X adapters, and accessing these ports will cause the system to lock up.</P>
<P>Windows&nbsp;95 provides several .MPD files with Plug and Play capabilities, including the ability to transition from protected mode to real mode (to support MS-DOS – based applications that must run in MS-DOS Mode) and to accept configuration information from the SCSI Manager for dynamically loading and unloading drivers. </P>
<P>For information about troubleshooting SCSI devices, see Chapter 19, "Devices."</P>
<H4><A NAME="sec2"></A>High-Speed Floppy Disk Driver</H4><P>Windows&nbsp;95 provides protected-mode support for communicating with floppy disk controllers. Windows&nbsp;95 provides INT 13 hard disk controller support as 32-bit device drivers, which results in improved performance, stability, and system robustness. </P>
<P>Windows&nbsp;95 provides floppy disk controller support as a 32-bit device driver, and offers improved performance for file I/O to floppy disk drives, plus improved reliability of the system. You can now format a disk or copy files to and from a disk while performing other tasks.</P>
<H4><A NAME="sec3"></A>Removable Media and Docking Devices</H4><P>Windows&nbsp;95 provides protected-mode support for removable media devices with MS-DOS – compatible partitions, including floppy disk drives and controllers, Bernoulli drives, and CD-ROM, plus docking stations for portable computers. Windows&nbsp;95 allows the system to lock or unlock the device to prevent the media from being removed prematurely. </P>
<P>Windows&nbsp;95 also supports an eject mechanism for devices that support it, so that users can use software control to eject media from a device (for example, new floppy disk drives that support software-based media ejection). </P>
<P><I>Docking</I> refers to the insertion or removal of a device in the system. Devices that can be docked include almost anything, depending on the hardware —  monitors, network access, removable hard disk drives, or any removable resource. A <I>docking station</I> is a base unit into which you can insert the portable hardware and which includes drive bays, expansion slots, and additional ports. Port replicators can also be used as docking station substitutes that provide extra functionality not available in the portable docking device.</P>
<P>If a docking change occurs in the computer configuration during operation, such as the insertion of a portable computer into the docking station, the system is notified so that the new device can be configured and applications can be notified of the change. </P>
<P>Windows&nbsp;95 supports "hot" docking, where the device can be docked or undocked while running at full power, and "cold" docking, where the device must be powered off or restarted before the device can be docked or undocked. Legacy portable computers use cold docking.</P>
<P>In addition, some devices require certain preliminary steps before they can be docked or undocked. For example, if you have a file open and decide to remove the hard disk, the file must be closed. To handle these situations, Windows&nbsp;95 supports different undocking systems, depending on the type of hardware: </P>
<UL><LI>Auto-ejection, which is a software interface that operates a VCR-type ejection mechanism, allowing Windows&nbsp;95 to request user action to resolve any open resources. The user can save files and so on before the system ejects the dockable resource.</LI><LI>Manual ejection, where the user undocks the resource without using any software interface. Because the system cannot be notified when this occurs, any closing of files or other actions must be performed manually to prevent loss of data.</LI></UL><H4><A NAME="sec4"></A>Non-SCSI Port Drivers</H4><P>A non-SCSI port driver usually works with a specific adapter, so the driver is retained in memory only if the related adapter is present in the system. Windows&nbsp;95 includes, for example, port drivers for IDE, ESDI, or NEC floppy disk drives. </P>
<P>A port driver provides the same functionality as the SCSI Manager and miniport driver, but these drivers are monolithic and are not portable to Windows&nbsp;NT. A port driver manages and controls the adapter for a given block device. The port driver detects and initializes the adapter, handles interrupts, transmits I/O requests to the device, and carries out adapter-level error recovery and logging.</P>
<P><B>Important</B>   Do not use a <B>device=</B> entry in SYSTEM.INI to load a port driver. Windows&nbsp;95 loads appropriate drivers from the SYSTEM\IOSUBSYS subdirectory in the Windows directory.</P></FONT></BODY></HTML>
