<HTML><HEAD><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Xcopy</TITLE><META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset= iso-8859-1"><style>@import url(msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="msdn_ie3.css"></HEAD><BODY BGCOLOR="#FFFFFF">
<FONT FACE="verdana,arial,helvetica" size="2">
<h3>Xcopy</H3><P>This command is used to copy files and directories, including subdirectories. </P>
<P>Syntax</P>
<P><B>xcopy</B> <I>source</I> [<I>destination</I>] [<B>/w</B>] [<B>/p</B>] [<B>/c</B>] [<B>/v</B>] [<B>/q</B>] [<B>/f</B>] [<B>/l</B>] [<B>/d</B>[<B>:</B><I>date</I>]] [<B>/u</B>] [<B>/i</B>]<BR>   [<B>/s</B>&nbsp;[<B>/e</B>]] [<B>/t</B>] [<B>/k</B>] [<B>/r</B>] [<B>/h</B>] [<B>/a</B>|<B>/m</B>] [/<B>n</B>] [<B>/exclude:</B><I>filename</I>] </P>
<P>Parameters </P>
<P><B><I>source </I></B></P>
<P>Specifies the location and names of the files you want to copy. <I>Source</I> must include either a drive or a path. </P>
<P><B><I>destination </I></B></P>
<P>Specifies the destination of the files you want to copy. <I>Destination</I> can include a drive letter and colon, a directory name, a filename, or a combination. </P>
<P><B><B>/w</B> </B></P>
<P>Displays a message asking you to press a key to begin copying files, and waits for your response before starting to copy files.</P>
<P><B><B>/p</B> </B></P>
<P>Prompts you to confirm whether you want to create each destination file. </P>
<P><B><B>/c</B></B></P>
<P>Ignores errors.</P>
<P><B><B>/v </B></B></P>
<P>Verifies each file as it is written to the destination file to make sure that the destination files are identical to the source files. This switch is ignored because the functionality is inherent to the Windows&nbsp;95 operating system. The switch is accepted only for compatibility with previous versions of MS-DOS.</P>
<P><B><B>/q</B></B></P>
<P>Suppresses display of <B>xcopy </B>messages.</P>
<P><B><B>/f</B></B></P>
<P>Displays source and destination filenames while copying.</P>
<P><B><B>/l</B></B></P>
<P>Does not copy files, only displays (lists) files that would be copied.</P>
<P><B><B>/d</B>[<B>:</B><I>date</I>]</B></P>
<P>Copies only source files changed on or after the specified date. If the <I>date</I> value is missing, <B>xcopy</B> copies all <I>source</I> files that are newer than the time of existing <I>destination</I> files. This option allows you to update only files that have changed. Notice that dates in the twenty-first century must be specified using four digits (for example, /D:1-1-2001 if <I>m-d-y</I> is the date format). That is, /D:1-1-01 is interpreted as 1 January 1901 rather than 1 January 2001. </P>
<P><B><B>/u</B></B></P>
<P>Copies (updates) only files from <I>source</I> that exist on <I>destination</I>.</P>
<P><B><B>/i</B></B></P>
<P>If <I>source</I> is a directory or contains wildcards, and <I>destination</I> does not exist, <B>xcopy</B> assumes<I> destination</I> specifies a directory name and creates a new directory and then copies all specified files into the new directory. By default, <B>xcopy</B> prompts you to specify whether <I>destination</I> is a file or directory.</P>
<P><B><B>/s</B> </B></P>
<P>Copies directories and subdirectories, unless they are empty. If you omit this switch, <B>xcopy </B>works within a single directory. </P>
<P><B><B>/e</B> </B></P>
<P>Copies all subdirectories, even if they are empty. Used with the <B>/s</B> and <B>/t</B> switches.</P>
<P><B><B>/t</B></B></P>
<P>Copies only subdirectory structure (tree), not files. To copy empty directories, you must include the <B>/e</B> switch.</P>
<P><B><B>/k</B></B></P>
<P>Copies files and retains the read-only attribute on destination files if present on the source files. By default, the read-only attribute is removed.</P>
<P><B><B>/r</B></B></P>
<P>Copies over read-only files.</P>
<P><B><B>/h</B></B></P>
<P>Copies files with the hidden and system file attributes. <B>Xcopy</B> will not copy hidden or system files by default.</P>
<P><B><B>/a</B> </B></P>
<P>Copies only source files that have their archive file attributes set. This switch does not modify the archive file attribute of the source file. For information about how to set the archive file attribute, see the online Help for the <B>attrib</B> command. </P>
<P><B><B>/m</B> </B></P>
<P>Copies source files that have their archive file attributes set. Unlike the <B>/a</B> switch, the <B>/m</B> switch turns off archive file attributes in the files specified in source. For information about how to set the archive file attributes, see the online Help for the <B>attrib </B>command. </P>
<P><B><B>/n</B> </B></P>
<P>Copies using aliases (short file or directory names). This switch is required when copying files or directories from a VFAT volume to a FAT volume or when the 8.3 file naming convention is required on the destination volume. </P>
<P><B><B>/exclude:</B><I>filename</I></B></P>
<P>Excludes the files listed in the specified file from the copy operation. The exclusion file can have a list of exclusion patterns (one per line, no wild card characters are supported). If any exclusion pattern in the file matches any part of the path of a subject file, that file is not copied.</P>
<P>Notes on Xcopy</P>
<P><B>Default value for destination.</B></P>
<P>If you omit <I>destination</I>, the <B>xcopy </B>command copies the files to the current directory. </P>
<P><B>Specifying whether the destination is a file or a directory.</B></P>
<P>If <I>destination</I> does not contain an existing directory and does not end with a backslash (\), <B>xcopy </B>prompts you with a message in the following format: </P>
<P><BR></P>
<pre><code>Does destination specify a file name <BR>or directory name on the target <BR>(F = file, D = directory)? </code></pre>
<P>You can avoid this prompt by using the <B>/i</B> switch, in which case <B>xcopy</B> assumes the destination is a directory if the source is more than one file or a directory.</P>
<P><B>Xcopy sets an archive attribute for destination files.</B></P>
<P><B>Xcopy</B> creates files with the archive attribute set, whether or not this attribute was set in the source file. For information, see the online Help for <B>atttrib </B>command. </P>
<P><B>Xcopy vs. diskcopy.</B></P>
<P>If you have a disk that contains files in subdirectories and you want to copy it to a disk that has a different format, you should use the <B>xcopy </B>command instead of <B>diskcopy</B>. The <B>diskcopy</B> command copies disks track by track; it requires that your source and destination disks have the same format. <B>Xcopy</B> has no such requirement. In general, use <B>xcopy </B>unless you need a complete disk image copy.</P>
<P><B>Xcopy exit codes.</B></P>
<P>The following list shows each exit code and a brief description of its meaning: </P>

<TABLE COLS="2" BORDER="0" CELLPADDING="7"><COLGROUP><COL WIDTH="20pt" VALIGN="TOP"><COL WIDTH="328pt" VALIGN="TOP"></COLGROUP><TBODY><TR><TD VALIGN="TOP"><P>0 </P></TD><TD VALIGN="TOP"><P>Files were copied without error. </P></TD></TR><TR><TD VALIGN="TOP"><P>1 </P></TD><TD VALIGN="TOP"><P>No files were found to copy. </P></TD></TR><TR><TD VALIGN="TOP"><P>2 </P></TD><TD VALIGN="TOP"><P>The user pressed CTRL+C to terminate <B>xcopy</B>. </P></TD></TR><TR><TD VALIGN="TOP"><P>4 </P></TD><TD VALIGN="TOP"><P>Initialization error occurred. There is not enough memory or disk space, or you entered an invalid drive name or invalid syntax on the command line. </P></TD></TR><TR><TD VALIGN="TOP"><P>5 </P></TD><TD VALIGN="TOP"><P>Disk write error occurred. </P></TD></TR></TBODY></TABLE>
<P><BR></P><P>You can use the <B>errorlevel</B> parameter on the <B>if</B> command line in a batch program to process exit codes returned by <B>xcopy</B>. </P>
<P>Xcopy Examples</P>
<P>To copy all the files and subdirectories (including any empty subdirectories) from the disk in drive A to the disk in drive B, type: </P>
<P><BR></P>
<pre><code>xcopy a: b: /s /e </code></pre>
<P>To include any system or hidden files in the previous example, add the <B>/h</B> switch when typing:</P>
<P><BR></P>
<pre><code>xcopy a: b: /s /e /h</code></pre>
<P>To update files in the REPORTS directory with the files in the directory RAWDATA that have changed since December 29, 1993, type: </P>
<P><BR></P>
<pre><code>xcopy \rawdata \reports /d:12/29/93 </code></pre>
<P>To update all the files that exist on \REPORTS in the previous example, regardless of date, type:</P>
<P><BR></P>
<pre><code>xcopy \rawdata \reports /u</code></pre>
<P>To obtain only a list of the files that would be copied for the previous command, without copying the files, type:</P>
<P><BR></P>
<pre><code>xcopy \rawdata \reports /d:12/29/93 /l &gt; xcopy.out</code></pre>
<P>The file XCOPY.OUT lists every file that would be copied.</P>
<P>To copy the \CUSTOMER directory and all subdirectories, including empty directories, to the directory \PUBLIC\ADDRESS on network drive H and retain the read-only attribute, while being prompted when a new file is being created on H, type the following:</P>
<P><BR></P>
<pre><code>xcopy \customer h:\public\address /s /e /k /p </code></pre>
<P>To issue the previous command and ensure <B>xcopy</B> creates, without prompting, the directory \ADDRESS if it does not exist, add the <B>/i</B> switch:</P>
<P><BR></P>
<pre><code>xcopy \customer h:\public\address /s /e /k /p /i</code></pre>
<P>You can create a batch program to perform <B>xcopy</B> operations and use the batch<B> if </B>command to process the exit code in case an error occurs. For example, the following batch program uses replaceable parameters for the<B> xcopy</B> <I>source</I> and <I>destination </I>parameters: </P>
<P><BR></P>
<pre><code>@echo off <BR>rem COPYIT.BAT transfers all files in all subdirectories of<BR>rem the source drive or directory (%1) to the destination 
rem drive or directory (%2) <BR>xcopy %1 %2 /s /e <BR>if errorlevel 4 goto lowmemory <BR>if errorlevel 2 goto abort <BR>if errorlevel 0 goto exit <BR>:lowmemory <BR>echo Insufficient memory to copy files or <BR>echo invalid drive or command-line syntax. <BR>goto exit <BR>:abort <BR>echo You pressed CTRL+C to end the copy operation. <BR>goto exit <BR>:exit </code></pre>
<P>To use this batch program to copy all files in the C:\PRGMCODE directory and its subdirectories to drive B, type the following command: </P>
<P><BR></P>
<pre><code>copyit c:\prgmcode b: </code></pre>
<P>The command interpreter substitutes C:\PRGMCODE for <B>%1</B> and B: for <B>%2</B>, then uses <B>xcopy</B> with the <B>/e</B> and <B>/s</B> switches. If <B>xcopy </B>encounters an error, the batch program reads the exit code and goes to the label indicated in the appropriate <B>if</B> <B>errorlevel</B> statement. Windows&nbsp;95 displays the appropriate message and exits from the batch program.</P></FONT></BODY></HTML>
