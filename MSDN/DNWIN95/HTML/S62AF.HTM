<HTML><HEAD><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Removing Windows 95 with Command-Line Startup</TITLE><META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset= iso-8859-1"><style>@import url(msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="msdn_ie3.css"></HEAD><BODY BGCOLOR="#FFFFFF">
<FONT FACE="verdana,arial,helvetica" size="2">
<h3>Removing Windows 95 with Command-Line Startup</H3><P>Before you begin this process, make sure you have a system startup disk that contains an earlier version of MS-DOS and the SYS.COM file. You need this startup disk because the Windows&nbsp;95 startup files (real-mode operating system files) must be deleted, so the process for removing Windows&nbsp;95 makes your hard disk temporarily unbootable.</P>
<P></P>
<P><B>Note</B>   The MS-DOS 6.x disk #1 is bootable, but the retail MS-DOS 5.0 disk #1 is not, and OEM versions might vary. To make a startup disk with MS-DOS 6.x, run <B>setup /f </B>from disk #1.</P>
<H4><A NAME="sec0"></A>To remove Windows&nbsp;95 when the computer is started to the command line</H4><OL><LI>Start the computer and press F8 when the<B> </B>Starting Windows message appears.
<P>If you have problems starting the computer in this way, you can use the procedure entitled "Removing Windows 95 with Your Previous Operating System" later in this chapter.</P></LI><LI>Select the Command Prompt Only option.</LI><LI>To make it easier to delete files and directories, copy the Windows&nbsp;95 version of DELTREE.EXE to the boot drive. At the command prompt, type:
<P><B>copy \windows\command\deltree.exe c:\</B></P></LI><LI>To use the Windows&nbsp;95 version of ScanDisk to clear invalid entries and long filenames, copy the ScanDisk files from the Windows COMMAND directory to the root directory. At the command prompt, type:
<P><B>copy \windows\command\scandisk.* c:\</B></P></LI><LI>Use Notepad or a similar text editor to edit SCANDISK.INI in the Windows directory. Change the entries controlling whether ScanDisk looks for invalid characters in filenames and volume labels: 

<UL><LI>Set <B>labelcheck=on</B> to specify that ScanDisk should check volume labels for invalid characters.</LI><LI>Set <B>spacecheck= on</B> to specify that ScanDisk should check for invalid spaces in filenames.</LI></UL><P>For information about the entries in SCANDISK.INI, see that file in the Windows directory.</P></LI><LI>To remove all entries that your earlier version of MS-DOS might see as invalid, at the command prompt, type <B>scandisk </B>followed by the letter identifying the drive containing the Windows&nbsp;95 installation. For example:
<P><B>scandisk c:</B></P>

<P>If you receive error messages during the ScanDisk process, refer to the online Help for information to help you resolve the error.</P></LI><LI>To delete the Windows&nbsp;95 directory, in the root directory of the drive containing the Windows&nbsp;95 installation, type:
<P><B>deltree</B> <I>windows</I></P>

<P>In this command, <I>windows </I>is the name of the directory containing the Windows&nbsp;95 files.</P>

<P><B>Caution</B>   All subdirectories of the Windows&nbsp;95 directory will be deleted by this command. Before performing this step, make sure that the Windows&nbsp;95 directory tree does not contain any critical data that has not been backed up. </P>

<P>This step will also require that you reinstall all Windows-based programs at the end of this procedure, so that the correct drivers and settings will be available in the restored Windows directory.</P></LI><LI>To delete the Windows&nbsp;95 CONFIG.SYS and AUTOEXEC.BAT files, in the root directory of the boot drive, type:
<P><B>deltree config.sys</B></P>

<P><B>deltree autoexec.bat</B></P></LI><LI>To delete the WINBOOT.INI file and the WINBOOT directory, if present, type:
<P><B>deltree winboot.*</B></P></LI><LI>To delete the setup, boot, and detection log files, type:
<P><B>deltree setuplog.*</B></P>

<P><B>deltree bootlog.*</B></P>

<P>deltree detlog.*</P></LI><LI>To delete the real-mode operating system files IO.SYS and MSDOS.SYS, in the root directory of the boot drive (or from the root directory of the host drive, if the boot drive is compressed), type:
<P><B>deltree io.sys</B></P>

<P><B>deltree msdos.sys</B></P></LI><LI>If you are using STAC Electronics Stacker&reg; version 3.1, either skip this step or back up the STAC DBLSPACE.BIN file before completing this step. 
<P>To delete the Windows&nbsp;95 compression drivers (DBLSPACE.BIN and DRVSPACE.BIN), if present, in the root directory of the boot drive (or from the root directory of the host drive, if the boot drive is compressed), type:</P>

<P><B>deltree d??space.bin</B></P></LI><LI>To delete the Windows&nbsp;95 command processor (COMMAND.COM), in the root directory of the boot drive (or both from the C drive and from the root of the host drive, if the boot drive is compressed), type:
<P><B>deltree command.com</B></P></LI><LI>Put a bootable floppy disk with your earlier version of MS-DOS into drive A, and then restart the computer. After the computer starts from the floppy disk, put your earlier version of MS-DOS back on the boot drive (or the host drive, if the C drive is compressed) by typing <B>sys</B> followed by the letter identifying the boot or host drive and a colon. For example:
<P><B>sys c:</B></P></LI><LI>If you have MS-DOS version 6.0 and are using compression, copy DBLSPACE.BIN from the DOS directory to the root directory of the boot drive. Also, for all versions of MS-DOS, if you have a <B>shell=</B> statement referencing COMMAND.COM from a different directory, copy COMMAND.COM to the root directory. Then remove the floppy disk, and restart the computer from the hard disk. </LI></OL><P>To start the system with previous configuration files, copy CONFIG.DOS to CONFIG.SYS and AUTOEXEC.DOS to AUTOEXEC.BAT.</P>
<P></P>
<P>If you remove Windows&nbsp;95 from a dual-boot installation, Windows&nbsp;95 will be removed completely, and the computer will start the same way it did before installing Windows&nbsp;95.</P>
<P>If you removed Windows&nbsp;95 from an upgraded Windows 3.x installation, drivers that were located in the Windows directory (such as HIMEM.SYS, IFSLHLP.SYS, and EMM386.EXE) will be missing until you reinstall Windows&nbsp;3.x. Then the computer will start the same way it did before Windows&nbsp;95 was installed. </P>
<P>You might need to reinstall the previous version of MS-DOS, if needed files were removed by Windows&nbsp;95 Setup.</P></FONT></BODY></HTML>
