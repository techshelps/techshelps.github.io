<HTML><HEAD><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Optimizing Conventional Memory</TITLE><META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset= iso-8859-1"><style>@import url(msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="msdn_ie3.css"></HEAD><BODY BGCOLOR="#FFFFFF">
<FONT FACE="verdana,arial,helvetica" size="2">
<h2>Optimizing Conventional Memory</H2>
<P>The methods for conventional memory management under Windows&nbsp;95 are the same as for MS-DOS 6.x:</P>
<UL><LI>In CONFIG.SYS, load <B>himem</B> and <B>emm386</B> (using either the <B>ram</B> or <B>noems</B> switches), and load any required real-mode drivers and applications using <B>devicehigh </B>or<B> loadhigh</B> statements.</LI><LI>Remove as many real-mode drivers and TSRs from CONFIG.SYS and AUTOEXEC.BAT as possible, and instead use new protected-mode drivers and applications created for Windows&nbsp;95.</LI><LI>Use <B>buffershigh</B>, <B>fcbshigh</B>, <B>fileshigh</B>, <B>lastdrivehigh</B>, and <B>stackshigh</B> to ensure that reserved memory is taken out of the upper memory area. For information about these commands, see Appendix A, "Command-Line Commands Summary."</LI><LI>Do not load <B>smartdrv</B> in your configuration files, except in configuration files for an application that you run in MS-DOS Mode. Windows&nbsp;95 uses an improved method for disk caching, so loading <B>smartdrv</B> typically wastes memory that could be used by MS-DOS – based applications.</LI></UL><P>You can still run the MEMMAKER utility provided with MS-DOS 6.2x to load real-mode drivers in the upper memory blocks (UMB). This utility is available in the OTHER\OLDDOS directory on the Windows 95 compact disc.</P>
<P>For information about MS-DOS Mode, and other configuration issues related to MS-DOS – based applications, see Chapter 22, "Application Support." For specific information about MS-DOS memory settings, consult the <I>Microsoft MS-DOS 6.2 Technical Reference</I> or other books on MS-DOS memory management.</P>
<P>Tip for MS-DOS Mode don't assume that running an MS-DOS – based application in MS-DOS Mode provides better performance. When an application runs in MS-DOS Mode, Windows&nbsp;95 and all of its protected-mode drivers are unloaded, so the application is running in real mode with exclusive use of the computer's resources. </P>
<P>Although this might help with a few applications that otherwise cannot run under Windows&nbsp;95, it does not benefit performance overall because the application doesn't get the benefit of protected-mode drivers, VCACHE, 32-bit disk access, and so on. Also, real-mode device drivers must be loaded, reducing the amount of conventional memory available to the application.</P>
<P></P></FONT></BODY></HTML>
