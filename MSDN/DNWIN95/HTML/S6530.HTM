<HTML><HEAD><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Disk Management Overview</TITLE><META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset= iso-8859-1"><style>@import url(msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="msdn_ie3.css"></HEAD><BODY BGCOLOR="#FFFFFF">
<FONT FACE="verdana,arial,helvetica" size="2">
<h2>Disk Management Overview</H2><P>Windows&nbsp;95 includes several tools for managing disks, protecting data, and ensuring good disk performance. To keep your computer in good working order, use these programs on a regular basis. To determine which tasks are necessary to manage your computer, consider the following. </P>

<TABLE COLS="2" BORDER="0" CELLPADDING="7"><COLGROUP><COL WIDTH="155pt" VALIGN="TOP"><COL WIDTH="195pt" VALIGN="TOP"></COLGROUP><TBODY><TR><TD VALIGN="TOP"><P><B>To ensure that</B></P></TD><TD VALIGN="TOP"><P><B>Do this</B></P></TD></TR><TR><TD COLSPAN="2" VALIGN="TOP"><P></P></TD></TR><TR><TD VALIGN="TOP"><P>Files aren't lost if the hard disk fails</P></TD><TD VALIGN="TOP"><P>Run Microsoft Backup or a network backup agent. For information, see Chapter 16, "Remote Administration."</P></TD></TR><TR><TD VALIGN="TOP"><P>The computer can access files quickly and efficiently</P></TD><TD VALIGN="TOP"><P>Defragment the hard disk. For information, see "Defragmenting Disks" later in this chapter.</P></TD></TR><TR><TD VALIGN="TOP"><P>Lost clusters don't take up space on a disk, or the hard disk is not damaged</P></TD><TD VALIGN="TOP"><P>Run ScanDisk. For information, see "Using ScanDisk" later in this chapter.</P></TD></TR><TR><TD VALIGN="TOP"><P>Space is available on the hard disk</P></TD><TD VALIGN="TOP"><P>Use various tips for freeing disk space, and use disk compression. For information, see "Managing the Recycle Bin to Free Disk Space" later in this chapter and "Using Disk Compression with Windows 95" later in this chapter.</P></TD></TR></TBODY></TABLE>
<P><BR></P><P>The routine for managing a computer's hard disks might include automatically running ScanDisk when starting the computer to check the integrity of the hard disk, backing up files once a week, and occasionally using the Disk Defragmenter to defragment the hard disk. No matter what your computer management plan, carry it out at regular intervals. </P>
<P>You can also use a scheduling utility such as System Agent in Microsoft Plus! for automatic disk maintenance. For information, see "Microsoft Plus! Utilities for Disk Management" later in this chapter.</P>
<P><b>Note</b></P>
<P>For best results, do not run other programs while running either Disk Defragmenter or ScanDisk. Although you can use the computer for other tasks while running either of these utilities, each time you write to the disk, the utility automatically reinitiates itself to work with the current view of the disk.</P>
<H3><A NAME="sec0"></A>About Volume Locking for Disk Utilities</H3><P>Windows&nbsp;95 provides volume-locking APIs that applications such as disk utilities can use to control direct disk access when the computer uses the Windows&nbsp;95 32-bit file system. (In Windows for Workgroups 3.11, VFAT generated an error whenever a disk utility tried to access the drive in protected mode.)</P>
<P>Disk utilities usually make absolute INT 25 and INT 26 disk calls, which do not require file system drivers. Instead of calling INT 21 and INT 13 to access the disk, the application calls INT 25 for reads and INT 26 for writes. </P>
<P>When an application is going to change the disk structure (such as a disk utility preparing to defragment the disk), it should first use the volume locking APIs to lock that volume or drive, so that no other application can write to that volume and interfere with its operations. When the application has completed its work, it must unlock the volume before the system can resume normal operation.</P>
<P>If a utility does not use volume locking before it attempts to read from or write to the disk, Windows&nbsp;95 returns an error and causes it to fail. All utilities included with Windows&nbsp;95, such as the Disk Defragmenter and ScanDisk, use volume locking. Such utilities cannot be used with Windows&nbsp;NT because Windows&nbsp;NT does not allow utilities to make direct calls to the hardware.</P>
<P></P></FONT></BODY></HTML>
