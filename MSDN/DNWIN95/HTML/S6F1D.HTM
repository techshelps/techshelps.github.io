<HTML><HEAD><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Customizing Windows 95 with WRKGRP.INI Files</TITLE><META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset= iso-8859-1"><style>@import url(msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="msdn_ie3.css"></HEAD><BODY BGCOLOR="#FFFFFF">
<FONT FACE="verdana,arial,helvetica" size="2">
<h2>Customizing Windows 95 with WRKGRP.INI Files</H2><P>You can use a file named WRKGRP.INI to specify a list of workgroups that users can choose to join. You can use WRKGRP.INI in these ways:</P>
<UL><LI>To help reduce the proliferation of workgroup names on the network</LI><LI>To control the workgroup choices that users can make</LI><LI>To specify defaults for the NetWare preferred server or Windows&nbsp;NT domain on a per-workgroup basis </LI></UL><P>The WRKGRP.INI file is stored in the Windows directory on the server that contains the Windows&nbsp;95 source files.</P>
<P>Windows&nbsp;95 Setup uses the values defined in WRKGRP.INI to set Registry values in the workgroup, logon domain, preferred server, and other values. The same values are used to control options available for users to select in the Network option in Control Panel. The WRKGRP.INI file contains the following sections. </P>

<TABLE COLS="2" BORDER="0" CELLPADDING="7"><COLGROUP><COL WIDTH="62pt" VALIGN="TOP"><COL WIDTH="287pt" VALIGN="TOP"></COLGROUP><TBODY><TR><TD VALIGN="TOP"><P><B>Section</B></P></TD><TD VALIGN="TOP"><P><B>Description</B></P></TD></TR><TR><TD VALIGN="TOP"><P>[Options]</P></TD><TD VALIGN="TOP"><P>Specifies the recognized options for workgroups</P></TD></TR><TR><TD VALIGN="TOP"><P>[Workgroups]</P></TD><TD VALIGN="TOP"><P>Contains a list of workgroups from which the user can choose</P></TD></TR></TBODY></TABLE>
<P><BR></P><P>In Windows&nbsp;95, for each workgroup, you can specify the domain, preferred server, and so on, that everyone in a workgroup will use, depending on the network providers used. </P>
<P>The following table describes the format of the Windows&nbsp;95 WRKGRP.INI file. </P>
<P><B>WRKGRP.INI Settings</B></P>

<TABLE COLS="2" BORDER="0" CELLPADDING="7"><COLGROUP><COL WIDTH="150pt" VALIGN="TOP"><COL WIDTH="197pt" VALIGN="TOP"></COLGROUP><TBODY><TR><TD VALIGN="TOP"><P><B>Section or entry</B></P></TD><TD VALIGN="TOP"><P><B>Description</B></P></TD></TR><TR><TD VALIGN="TOP"><P><B>[Options] section:</B></P></TD><TD VALIGN="TOP"><P></P></TD></TR><TR><TD VALIGN="TOP"><P><B>ANSI=true | false</B></P></TD><TD VALIGN="TOP"><P>Specifies whether the workgroups need to be converted from an OEM character set to ANSI. Default is <B>false</B>.</P></TD></TR><TR><TD VALIGN="TOP"><P><B>Required=true | false</B></P></TD><TD VALIGN="TOP"><P>Specifies whether users can type their own workgroup name or forces them to choose from those listed.</P></TD></TR><TR><TD VALIGN="TOP"><P><B>ForceMapping=true | false</B></P></TD><TD VALIGN="TOP"><P>Specifies whether users can change the workgroup, logon domain, or preferred server that are set by a mapping. </P></TD></TR><TR><TD VALIGN="TOP"><P><B>Mapping=</B><I>NP1</I>,<I> NP2</I>,<I> NP3</I>,...<BR>(comma-separated list of network providers)</P></TD><TD VALIGN="TOP"><P>Specifies a comma-separated list of the network providers to which workgroups can be mapped. Also specifies the order in which values will be listed in the [Workgroups] section. Implicitly, this specifies where in the Registry to store settings. This parameter is optional. By default, workgroups map to <I>domain, preferred server</I>.</P></TD></TR><TR><TD VALIGN="TOP"><P><B>Default=</B><I>NP1 default,NP2 default, NP3 default,... </I></P></TD><TD VALIGN="TOP"><P>Specifies the default mapping for workgroups listed in the [Workgroups] section that don't have a mapping defined. This allows you to add a single entry to an existing Windows for Workgroups WRKGRP.INI file to get minimal mapping functionality. The format is the same as for specifying a mapping in [Workgroups].</P></TD></TR><TR><TD VALIGN="TOP"><P><B>[Workgroups] section:</B></P></TD><TD VALIGN="TOP"><P></P></TD></TR><TR><TD VALIGN="TOP"><P><I>workgroup</I><B>=</B><B><I>optional_mapping</I></B></P></TD><TD VALIGN="TOP"><P>Specifies a workgroup that users can choose and its mappings will automatically be defined in the order specified in <B>Mapping=</B>. There can be a <I>workgroup=</I> entry in the file for every workgroup that users can choose. Each name of a workgroup must be followed by an equal sign (=) for the workgroup name to be interpreted correctly.</P></TD></TR></TBODY></TABLE>
<P><BR></P><P>The entry that defines the network providers for each workgroup has the following format in the [Workgroups] section:</P>
<P><I>workgroup_name</I><B>=</B><I>mapping1</I><B>,</B><I>mapping2</I><B>,</B><I>mapping3</I><B>,</B>...<I> </I></P>
<P>By default in Windows&nbsp;95, workgroups can be mapped to both Windows&nbsp;NT domains and NetWare preferred servers. (This is because Windows&nbsp;95 includes network providers for these two networks.) For example:</P>
<P><BR></P>
<pre><code>MktMain=MktDom1,master1</code></pre>
<P></P>
<P>This example specifies that the workgroup named MktMain has these two mappings: MktDom1 is the logon domain for the Windows NT network, and Master1 is the preferred server for the NetWare network. </P>
<P>Administrators can specify the 32-bit, protected-mode network providers that can be mapped for a workgroup by setting the <B>Mapping=</B> parameter in the [Options] section of WRKGRP.INI. For example, if the network uses two network providers (MSNP32 for Microsoft networks and NWNP32 for NetWare networks), the following is defined in WRKGRP.INI:</P>
<P><BR></P>
<pre><code>[options]
mapping=msnp32,nwnp32</code></pre>
<P>The order specified in the <B>Mapping</B>= entry also specifies the order of items in the [Workgroups] section.</P>
<P>You can also use the <B>Default=</B> entry to specify a default mapping for workgroups that do not have an explicit mapping. This allows you to use an existing WRKGRP.INI created for Windows for Workgroups 3.11, and add one entry to take advantage of Windows&nbsp;95 functionality. For example, add the entry <B>Default=MktDom1,Master1</B> to use the servers described in the previous example as the default mapping. </P>
<P>If a WRKGRP.INI exists, the Workgroup field in Windows&nbsp;95 Setup and the Network option in Control Panel both show all the workgroups listed in WRKGRP.INI. Users can choose a workgroup from the list or type a workgroup name. If <B>Required=true</B> in WRKGRP.INI, the user must choose from the list.</P>
<P>In WRKGRP.INI, <B>ForceMapping=</B> controls whether mapped values can be changed in the Windows&nbsp;95 user interface. For example, if <B>ForceMapping=true</B> and the user selects a workgroup that is mapped to a domain, the user cannot change the value in the Logon Domain box in the Network option in Control Panel and in the logon dialog box.</P>
<P><B>Note</B>   If Windows&nbsp;95 Setup finds the WRKGRP.INI file in the Windows&nbsp;95 source files, it copies the file to the shared Windows directory.</P></FONT></BODY></HTML>
