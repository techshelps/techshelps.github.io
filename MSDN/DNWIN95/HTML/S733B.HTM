<HTML><HEAD><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>ScanDisk</TITLE><META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset= iso-8859-1"><style>@import url(msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="msdn_ie3.css"></HEAD><BODY BGCOLOR="#FFFFFF">
<FONT FACE="verdana,arial,helvetica" size="2">
<h3>ScanDisk</H3><P>This command syntax controls Windows ScanDisk. For more information about this utility, see Chapter 20, "Disks and File Systems."</P>
<P><b>Note</b></P>
<P>At the command prompt (for example, when you use F8 to start only the command prompt), you can use <B>scandisk </B>with the same switches to run the MS-DOS – based equivalent for this command. At the command prompt, type <B>scandisk</B> <B>/?</B> for more information.</P>
<P>Syntax</P>
<P><B>scandskw</B> [<I>drive</I><B>:</B>] [<B>/A</B>] [<B>/N</B>] [<B>/P</B>]<BR><B>scandisk</B> <I>drive</I><B>:\dblspace.</B><I>nnn</I><BR><B>scandisk</B> <I>drive</I><B>:\drvspace.</B><I>nnn</I></P>
<P>Parameters</P>
<P><B><I>drive:</I></B></P>
<P>Specifies one or more drives to be checked.</P>
<P><B><B>/A </B>or<B> /All</B></B></P>
<P>Checks all local, nonremovable hard disk drives.</P>
<P><B><B>/N </B>or<B> /NonInteractive</B></B></P>
<P>Starts and closes ScanDisk automatically. However, this switch does not prevent ScanDisk from stopping to report errors found on the drive.</P>
<P><B><B>/p</B> or <B>/PREVIEW</B></B></P>
<P>Runs ScanDisk in Preview mode, where it reports and seems to correct errors that it finds, but it does not actually write changes to the disk. </P>
<P><B>Important</B>   When running <B>scandskw</B> in Preview mode, it appears as though ScanDisk is fixing errors, but it is not. Also, notice that unlike other settings in ScanDisk, the <B>/PREVIEW</B> switch is not saved in the Registry, so the next time you run ScanDisk, it is no longer in Preview mode.</P>
<P>To determine whether ScanDisk is running in Preview mode, look for the tag "(Preview)" in the caption of the main ScanDisk window. </P>
<P><B><B>dblspace.</B><I>nnn </I>or <B>drvspace.</B><I>nnn</I></B></P>
<P>Checks the specified unmounted DoubleSpace or DriveSpace compressed volume file, where <I>nnn</I> is the filename extension for the hidden host file.</P>
<P>The following table describes the codes provided when ScanDisk finished running. </P>

<TABLE COLS="2" BORDER="0" CELLPADDING="7"><COLGROUP><COL WIDTH="62pt" VALIGN="TOP"><COL WIDTH="285pt" VALIGN="TOP"></COLGROUP><TBODY><TR><TD VALIGN="TOP"><P><B>Exit code</B></P></TD><TD VALIGN="TOP"><P><B>Description</B></P></TD></TR><TR><TD VALIGN="TOP"><P>0x00</P></TD><TD VALIGN="TOP"><P>Drive checked, no errors found</P></TD></TR><TR><TD VALIGN="TOP"><P>0x01</P></TD><TD VALIGN="TOP"><P>Errors found, all fixed</P></TD></TR><TR><TD VALIGN="TOP"><P>0xFA</P></TD><TD VALIGN="TOP"><P>Check could not start — cannot load or find DSKMAINT.DLL</P></TD></TR><TR><TD VALIGN="TOP"><P>0xFB</P></TD><TD VALIGN="TOP"><P>Check could not start — insufficient memory</P></TD></TR><TR><TD VALIGN="TOP"><P>0xFC</P></TD><TD VALIGN="TOP"><P>Errors found, but at least some were not fixed</P></TD></TR><TR><TD VALIGN="TOP"><P>0xFD</P></TD><TD VALIGN="TOP"><P>At least one drive could not be checked</P></TD></TR><TR><TD VALIGN="TOP"><P>0xFE</P></TD><TD VALIGN="TOP"><P>Check was canceled</P></TD></TR><TR><TD VALIGN="TOP"><P>0xFF</P></TD><TD VALIGN="TOP"><P>Check was terminated because of an error</P></TD></TR></TBODY></TABLE>
<P><BR></P><P>You can capture the exit code in a batch file to define an action to take in the event of particular exit code. For example:</P>
<P><BR></P>
<pre><code>start /w scandksw c: d: /n<BR>if errorlevel <I>exitcode</I> goto <I>command<BR>...</I></code></pre>
<P>In this sample, <B>start /w</B> forces the batch file to stop and wait for <B>scandskw </B>to finish (otherwise, because it is a Windows-based program, the batch file would continue as soon as <B>scandskw </B>had been launched). Also in this example, if the actual exit code is greater than or equal to the exit code specified by <I>exitcode</I>, the batch file runs the specified <I>command</I>; otherwise, it continues to the next line in the batch file. The <B>goto</B> <I>command</I> entry could specify any command you want.</P></FONT></BODY></HTML>
