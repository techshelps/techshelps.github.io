<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>WM_ENDSESSION</title>
<link disabled rel=stylesheet href=../../backsdk3.css>
<style type="text/css">
@import url(../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h1><a name="_win32_wm_endsession"></a>WM_ENDSESSION</h1>
<p>
The WM_ENDSESSION message is sent to an application after the system processes the results of the <a href="shutdown_83se.htm">WM_QUERYENDSESSION</a> message. The WM_ENDSESSION message informs the application whether the session is ending. </p>
<pre><code>WM_ENDSESSION 
fEndSession = (BOOL) wParam;     // end-session flag 
fLogOff =  lParam                // logoff flag 
 </code></pre>
<h4>Parameters</h4>
<dl>
<dt>
<i>fEndSession</i></dt>
<dd>
Value of <i>wParam</i>. Specifies whether the session is being ended. If the session is being ended, this parameter is TRUE; otherwise, it is FALSE. </dd>
<dt>
<i>fLogOff</i></dt>
<dd>
Value of <i>lParam</i>. Indicates whether the user is logging off or shutting down the system. Supported values include: ENDSESSION_LOGOFF.
</dd>
</dl>
<h4>Return Values</h4>
<p>
If an application processes this message, it should return zero. </p>
<h4>Remarks</h4>
<p>
If the <i>fEndSession</i> parameter is TRUE, the session can end any time after all applications have returned from processing this message. Therefore, an application should perform all tasks required for termination before returning from this message. </p>
<p>
The application need not call the <b>DestroyWindow</b> or <b>PostQuitMessage</b> function when the session is ending. </p>
<h4>QuickInfo</h4>
<p>
<b>&nbsp;&nbsp;Windows NT: </b>Requires version 3.1 or later.<br>
<b>&nbsp;&nbsp;Windows: </b>Requires Windows 95 or later.<br>
<b>&nbsp;&nbsp;Windows CE: </b>Unsupported.<br>
<b>&nbsp;&nbsp;Header: </b>Declared in winuser.h.</p>
<h4>See Also</h4>
<p>
<a href="shutdown_29wu.htm">System Shutdown Overview</a>, <a href="shutdown_2hir.htm">System Shutdown Messages</a>, <object id=alink_1 type="application/x-oleobject"
	classid="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
<PARAM name="Command" value="ALink,MENU">
<PARAM name="DefaultTopic" value="../../notopic_0pk4.htm">
<PARAM name="Item1" value="">
<PARAM name="Item2" value="_win32_destroywindow">
</object><a href=JavaScript:alink_1.Click()><b>DestroyWindow</b></a>, <object id=alink_2 type="application/x-oleobject"
	classid="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
<PARAM name="Command" value="ALink,MENU">
<PARAM name="DefaultTopic" value="../../notopic_0pk4.htm">
<PARAM name="Item1" value="">
<PARAM name="Item2" value="_win32_postquitmessage">
</object><a href=JavaScript:alink_2.Click()><b>PostQuitMessage</b></a>, <a href="shutdown_83se.htm">WM_QUERYENDSESSION</a> </p>
<p>&nbsp;</p></body>
</HTML>
