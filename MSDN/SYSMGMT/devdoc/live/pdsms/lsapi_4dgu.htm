<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>How to Incorporate the LSAPI in an Application</title>
<link disabled rel=stylesheet href=../../backsdk3.css>
<style type="text/css">
@import url(../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h2><a name="_win32_how_to_incorporate_the_lsapi_in_an_application"></a>How to Incorporate the LSAPI in an Application</h2>
<p>
This section provides an example of how to incorporate the License Service Application Programming Interface (LSAPI) functions in your application, using the basic challenge protocol. For additional programming suggestions, see <a href="lsapi_6zoz.htm">Anti-Tampering Guidelines</a>. </p>
<p>
Before you begin coding your application,<i> </i>you will need to choose four secrets and create values for the <i>PublisherName, ProductName, </i>and <i>Version</i> parameters in the <a href="lsapi_36lw.htm"><b>LSRequest</b></a> function, as follows: 
<ul>
<li>
Create four secret values. You will need these secrets to initiate the basic challenge, and to verify the license system's response. For additional information, see <a href="lsapi_4vxh.htm">The Application Challenge</a> and <a href="lsapi_1jji.htm">The Application Verification</a>. </li>
<li>
Create a unique publisher name. This name can be up to 32 characters long. It should be a trademarked name and the same for all applications that your company develops. </li>
<li>
Create a unique product name within the publisher domain. This name must be unique within the first 32 characters. </li>
<li>
Create a unique version string within the product domain. The version string is used to differentiate multiple versions. </li>
</ul>
<p>
You will also need to select the specific LSAPI-compliant license systems for which you want to issue licenses. You can expand the set of license systems you support on platforms that allow shared or dynamically linked libraries after the software product has shipped, provided the application does not require functionality specific to one license system. </p>
<p>
When you code the application, use calls to the LSAPI function layer to register license usage and include code that implements the functionality of the basic challenge protocol. </p>
<h5><img src="../../images/wedge.gif" border=0>&nbsp;&nbsp;&nbsp;&nbsp;To code the application</h5>
<ol>
<li>
Add calls to the <a href="lsapi_36lw.htm"><b>LSRequest</b></a>, <a href="lsapi_4yp1.htm"><b>LSRelease</b></a> and <a href="lsapi_80o5.htm"><b>LSFreeHandle</b></a> functions in your application to grant and release license resources. </li>
<li>
Incorporate the code to prepare the challenge. For additional information about the steps required to initiate the challenge, see <a href="lsapi_4vxh.htm">The Application Challenge</a>. </li>
<li>
Select and implement the method to verify the challenge response. For additional information about the steps required to verify the response, see <a href="lsapi_1jji.htm">The Application Verification</a>, <a href="lsapi_1jji.htm#_win32_algorithmic_method">Algorithmic Method</a>, and <a href="lsapi_1jji.htm#_win32_table_lookup_method">Table Lookup Method</a>. </li>
<li>
Include periodic calls to the <a href="lsapi_1wpx.htm"><b>LSUpdate</b></a> function to verify that the current license is still valid. </li>
<li>
Choose and implement your license strategy. For examples, see <a href="lsapi_2qlv.htm">License Strategies</a>. </li>
<li>
Incorporate code to handle errors. Use a call to the <a href="lsapi_38h1.htm"><b>LSGetMessage</b></a> function to return a message string that describes the error. </li>
</ol>
<p>
You will also need to locate the following files on your hard disk in the location specified by your environment variable during application development. Note that the dynamic-link libraries must also be installed on all computers on which your application runs, so you should include their installation in your application's setup procedure.
<ul>
<li>
LSAPI.H, in your %INCLUDE% path </li>
<li>
LSAPI32.LIB, in your %LIB% path </li>
</ul>
<p>
For Windows NT: 
<ul>
<li>
LSAPI32.DLL and MSLSP32.DLL in %WinDir%\System32 </li>
</ul>
<p>
For Windows 95: 
<ul>
<li>
LSAPI32.DLL and MSLSP32.DLL in %WinDir%\System </li>
</ul>
<p>&nbsp;</p></body>
</HTML>
