<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>The Application Verification</title>
<link disabled rel=stylesheet href=../../backsdk3.css>
<style type="text/css">
@import url(../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h3><a name="_win32_the_application_verification"></a>The Application Verification</h3>
<p>
Your application must perform the following steps to verify the license system's response to the challenge: 
<ol>
<li>
Receive the output parameters of the call to the <a href="lsapi_36lw.htm"><b>LSRequest</b></a> or the <a href="lsapi_1wpx.htm"><b>LSUpdate</b></a> function, and the license system's response. </li>
<li>
Compute a second message digest with the MD4 Message-Digest Algorithm supplied by RSA Data Security, Inc. For additional information about the format of this message digest, see <a href="lsapi_88he.htm"><b>LS_CHALLDATA</b></a>. </li>
<li>
Compare this message digest to the license system's message digest. </li>
<li>
Accept the result only if the two are equal. </li>
</ol>
<p>
There are two different methods you can use to verify a challenge response: 
<ul>
<li>
You can either incorporate the secrets and the algorithm in the code (<a href="#_win32_algorithmic_method">Algorithmic Method</a>), or </li>
<li>
You can precompute a table containing a number of random challenges with their expected responses (<a href="#_win32_table_lookup_method">Table Lookup Method</a>). </li>
</ul>
<p>
For additional information about coding the challenge, see <a href="lsapi_6zoz.htm">Anti-Tampering Guidelines</a>. </p>

<h4><a name="_win32_algorithmic_method"></a>Algorithmic Method</h4>
<p>
With this method, you incorporate the challenge algorithm and the actual secret values in the program code. This method requires that you take steps to obscure the code and to ensure that the secrets themselves are not readily detectable. These steps are described in <a href="lsapi_6zoz.htm">Anti-Tampering Guidelines</a>. </p>

<h4><a name="_win32_table_lookup_method"></a>Table Lookup Method</h4>
<p>
With this method, you incorporate a precomputed table of valid challenge responses in the program code. The table should contain a row for each possible challenge and a column for each unique secret response. Your application can verify a challenge by examining the appropriate challenge/response intersection in the table. This method requires that you choose the challenge values in addition to the secrets when you code the application. </p>
<p>
If intruders successfully duplicate an application's challenge and response table, they can also circumvent and replace the legitimate license provider. If all the data in the table is known, the application's secrets are vulnerable. It becomes more difficult to copy the entire table while inspecting the data exchanges between the application and the license provider as the size of the table increases. Therefore, if you use the table lookup method, compute a large number of random number values to ensure that there are a large number of possible challenges and responses. </p>
<p>
At the beginning of each run time, your application must select one of the challenge values from your table. It must then pass this value in a call to the <a href="lsapi_36lw.htm"><b>LSRequest</b></a> function. When the call returns, the application must compare the actual challenge response to the expected response for that challenge value. </p>
<p>
A sample<i> </i>table follows. The format and size of the values are examples only. </p>
<table cellspacing=4 cols=5>
<tr valign=top>
<th align=left width=18%>Challenge<br>
Value</th>
<td width=20%><b>Secret 1<br>
Response</b></td>
<td width=22%><b>Secret 2<br>
Response</b></td>
<td width=20%><b>Secret 3<br>
Response</b></td>
<td width=20%><b>Secret 4<br>
Response</b></td>
</tr>
<tr valign=top>
<td width=18%><b>1.</b> 8675309</td>
<td width=20%>783ndmw732</td>
<td width=22%>3487dn262</td>
<td width=20%>367dkb37</td>
<td width=20%>476dndk263</td>
</tr>
<tr valign=top>
<td width=18%><b>2. </b>63JSk23</td>
<td width=20%>63387d6b36</td>
<td width=22%>7b6b5u8b7</td>
<td width=20%>8hn65bv4g7</td>
<td width=20%>076bb856v6</td>
</tr>
<tr valign=top>
<td width=18%><b>3. </b>833jh26</td>
<td width=20%>73d83m29s</td>
<td width=22%>8N7GJ829n8</td>
<td width=20%>89bn73nBH</td>
<td width=20%>89348nUU7</td>
</tr>
<tr valign=top>
<td width=18%><b>4. </b>8LES654</td>
<td width=20%>733nbV8</td>
<td width=22%>8H8hu8</td>
<td width=20%>B73h0dn39</td>
<td width=20%>7590nd73n</td>
</tr>
<tr valign=top>
<td width=18%><b>5. </b>28gHjB4</td>
<td width=20%>39834nd83</td>
<td width=22%>93n3d93n38</td>
<td width=20%>393n3ed83n</td>
<td width=20%>983n38db38</td>
</tr>
</table><br>
<p>
If an application used the preceding sample table and challenged <i>Secret 3</i> with the second challenge value, <i>63JSk23</i>, it would then pass this value in a call to the <a href="lsapi_36lw.htm"><b>LSRequest</b></a><b> </b>function. A legitimate license system would respond with a challenge response of <i>8hn65bv4g7</i> and a status of success. The application would then examine the entry at the appropriate challenge/response intersection in the table and compare it to the value <i>8hn65bv4g7</i>. In this case it would find a match, so the challenge response would be valid. </p>
<p>
In addition to including a table such as the preceding example, your application could also include a similar table of challenge responses for use with calls to the <a href="lsapi_1wpx.htm"><b>LSUpdate</b></a> function. </p>
<p>
For additional information about coding the challenge, see <a href="lsapi_6zoz.htm">Anti-Tampering Guidelines</a>. </p>
<p>&nbsp;</p></body>
</HTML>
