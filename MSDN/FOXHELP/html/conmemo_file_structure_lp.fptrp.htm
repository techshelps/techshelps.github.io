<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Memo File Structure (.fpt)</title>
<style>
<link disabled rel=stylesheet href=/stylesheets/msdn_ie3.css>
<style type="text/css">
@import url(/stylesheets/msdn_ie4.css);
</style></HEAD>
<BODY>

<h1><a name="conmemo_file_structure_lp.fptrp"></a><sup></sup>Memo File Structure (.FPT)</h1>
<p>
<a href="conmemo_file_structure_lp.fptrpsa.htm">See Also</a></p>
<p>
Memo files contain one header record and any number of block structures. The header record contains a pointer to the next free block and the size of the block in bytes. The size is determined by the <a href="lngset_blocksize.htm">SET BLOCKSIZE</a> command when the file is created. The header record starts at file position zero and occupies 512 bytes. The SET BLOCKSIZE TO 0 command sets the block size width to 1.</p>
<p>
Following the header record are the blocks that contain a block header and the text of the memo. The table file contains block numbers that are used to reference the memo blocks. The position of the block in the memo file is determined by multiplying the block number by the block size (found in the memo file header record). All memo blocks start at even block boundary addresses. A memo block can occupy more than one consecutive block.</p>
<p class=label>
<b>Memo Header Record</b></p>
<table border=1 cellpadding=5 cols=2 frame=below rules=rows>
<tr valign=top>
<td class=label width=21%><b>Byte offset</b></td>
<td class=label width=79%><b>Description</b></td>
</tr>
<tr valign=top>
<td width=21%>00&nbsp;–&nbsp;03</td>
<td width=79%>Location of next free block<sup>1</sup></td>
</tr>
<tr valign=top>
<td width=21%>04&nbsp;–&nbsp;05</td>
<td width=79%>Unused</td>
</tr>
<tr valign=top>
<td width=21%>06&nbsp;–&nbsp;07</td>
<td width=79%>Block size (bytes per block)<sup>1</sup></td>
</tr>
<tr valign=top>
<td width=21%>08&nbsp;–&nbsp;511</td>
<td width=79%>Unused</td>
</tr>
</table><br>
<p class=mini>
1 Integers stored with the most significant byte first.</p>
<p class=label>
<b>Memo Block Header and Memo Text</b></p>
<table border=1 cellpadding=5 cols=2 frame=below rules=rows>
<tr valign=top>
<td class=label width=21%><b>Byte offset</b></td>
<td class=label width=79%><b>Description</b></td>
</tr>
<tr valign=top>
<td width=21%>00&nbsp;–&nbsp;03</td>
<td width=79%>Block signature <sup>1</sup> (indicates the type of data in the block)<br>
0 – picture (picture field type)<br>
1 – text (memo field type)</td>
</tr>
<tr valign=top>
<td width=21%>04&nbsp;–&nbsp;07</td>
<td width=79%>Length <sup>1 </sup>of memo (in bytes)</td>
</tr>
<tr valign=top>
<td width=21%>08&nbsp;–&nbsp;n</td>
<td width=79%>Memo text (n = length)</td>
</tr>
</table><br>
<p class=mini>
1 Integers stored with the most significant byte first.</p>
</BODY>
</HTML>
