<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Compact Index File Structure (.idx)</title>
<style>
<link disabled rel=stylesheet href=/stylesheets/msdn_ie3.css>
<style type="text/css">
@import url(/stylesheets/msdn_ie4.css);
</style></HEAD>
<BODY>

<h1><a name="concompact_index_file_structure_lp.idxrp"></a><sup></sup>Compact Index File Structure (.idx)</h1>
<p>
<a href="concompact_index_file_structure_lp.idxrpsa.htm">See Also</a></p>
<p class=label>
<b>Compact Index Header Record</b></p>
<table border=1 cellpadding=5 cols=2 frame=below rules=rows>
<tr valign=top>
<td class=label width=21%><b>Byte offset</b></td>
<td class=label width=79%><b>Description</b></td>
</tr>
<tr valign=top>
<td width=21%>00&nbsp;–&nbsp;03</td>
<td width=79%>Pointer to root node</td>
</tr>
<tr valign=top>
<td width=21%>04&nbsp;–&nbsp;07</td>
<td width=79%>Pointer to free node list ( -1 if not present)</td>
</tr>
<tr valign=top>
<td width=21%>08&nbsp;–&nbsp;11</td>
<td width=79%>Reserved for internal use</td>
</tr>
<tr valign=top>
<td width=21%>12&nbsp;–&nbsp;13</td>
<td width=79%>Length of key</td>
</tr>
<tr valign=top>
<td width=21%>14</td>
<td width=79%>Index options (any of the following numeric values or their sums):<br>
1–a unique index <br>
8–index has FOR clause <br>
32 –compact index format <br>
64 –compound index header</td>
</tr>
<tr valign=top>
<td width=21%>15</td>
<td width=79%>Index signature</td>
</tr>
<tr valign=top>
<td width=21%>16&nbsp;–&nbsp;19</td>
<td width=79%>Reserved for internal use</td>
</tr>
<tr valign=top>
<td width=21%>20&nbsp;–&nbsp;23</td>
<td width=79%>Reserved for internal use</td>
</tr>
<tr valign=top>
<td width=21%>24&nbsp;–&nbsp;27</td>
<td width=79%>Reserved for internal use</td>
</tr>
<tr valign=top>
<td width=21%>28&nbsp;–&nbsp;31</td>
<td width=79%>Reserved for internal use</td>
</tr>
<tr valign=top>
<td width=21%>32&nbsp;–&nbsp;35</td>
<td width=79%>Reserved for internal use</td>
</tr>
<tr valign=top>
<td width=21%>36&nbsp;–&nbsp;501</td>
<td width=79%>Reserved for internal use</td>
</tr>
<tr valign=top>
<td width=21%>502&nbsp;–&nbsp;503 </td>
<td width=79%>Ascending or descending:<br>
0 = ascending <br>
1 = descending</td>
</tr>
<tr valign=top>
<td width=21%>504&nbsp;–&nbsp;505</td>
<td width=79%>Reserved for internal use</td>
</tr>
<tr valign=top>
<td width=21%>506&nbsp;–&nbsp;507</td>
<td width=79%>FOR expression pool length<sup>1</sup></td>
</tr>
<tr valign=top>
<td width=21%>508&nbsp;–&nbsp;509</td>
<td width=79%>Reserved for internal use</td>
</tr>
<tr valign=top>
<td width=21%>510&nbsp;–&nbsp;511</td>
<td width=79%>Key expression pool length<sup>1</sup></td>
</tr>
<tr valign=top>
<td width=21%>512&nbsp;–&nbsp;1023</td>
<td width=79%>Key expression pool (uncompiled)</td>
</tr>
</table><br>
<p class=mini>
1 This information tracks the space used in the key expression pool.</p>
<p class=label>
<b>Compact Index Interior Node Record</b></p>
<table border=1 cellpadding=5 cols=2 frame=below rules=rows>
<tr valign=top>
<td class=label width=21%><b>Byte offset</b></td>
<td class=label width=79%><b>Description</b></td>
</tr>
<tr valign=top>
<td width=21%>00&nbsp;–&nbsp;01 </td>
<td width=79%>Node attributes (any of the following numeric values or their sums):<br>
a.0 – index node<br>
b.1 – root node<br>
c.2 – leaf node</td>
</tr>
<tr valign=top>
<td width=21%>02&nbsp;–&nbsp;03</td>
<td width=79%>Number of keys present (0, 1 or many)</td>
</tr>
<tr valign=top>
<td width=21%>04&nbsp;–&nbsp;07</td>
<td width=79%>Pointer to node directly to left of current node (on same level, -1 if not present)</td>
</tr>
<tr valign=top>
<td width=21%>08&nbsp;–&nbsp;11</td>
<td width=79%>Pointer to node directly to right of current node (on same level; -1 if not present)</td>
</tr>
<tr valign=top>
<td width=21%>12&nbsp;–&nbsp;511</td>
<td width=79%>Up to 500 characters containing the key value for the length of the key with a four-byte hexadecimal number (stored in normal left-to-right format):<p>
This node always contains the index key, record<br>
number and intra-index pointer.<sup>2</sup></p>
<p>
The key/four-byte hexadecimal number combinations will occur the number of times indicated in bytes 02&nbsp;–&nbsp;03.</p>
</td>
</tr>
</table><br>
<p class=label>
<b>Compact Index Exterior Node Record</b></p>
<table border=1 cellpadding=5 cols=2 frame=below rules=rows>
<tr valign=top>
<td width=21%>00&nbsp;–&nbsp;01 </td>
<td width=79%>Node attributes (any of the following numeric values or their sums):<br>
0 – index node<br>
1 – root node<br>
2 – leaf node</td>
</tr>
<tr valign=top>
<td width=21%>02&nbsp;–&nbsp;03</td>
<td width=79%>Number of keys present (0, 1 or many)</td>
</tr>
<tr valign=top>
<td width=21%>04&nbsp;–&nbsp;07 </td>
<td width=79%>Pointer to the node directly to the left of current node (on same level; -1 if not present)</td>
</tr>
<tr valign=top>
<td width=21%>08&nbsp;–&nbsp;11 </td>
<td width=79%>Pointer to the node directly to right of the current node (on same level; -1 if not present)</td>
</tr>
<tr valign=top>
<td width=21%>12&nbsp;–&nbsp;13</td>
<td width=79%>Available free space in node</td>
</tr>
<tr valign=top>
<td width=21%>14&nbsp;–&nbsp;17</td>
<td width=79%>Record number mask</td>
</tr>
<tr valign=top>
<td width=21%>18</td>
<td width=79%>Duplicate byte count mask</td>
</tr>
<tr valign=top>
<td width=21%>19</td>
<td width=79%>Trailing byte count mask</td>
</tr>
<tr valign=top>
<td width=21%>20</td>
<td width=79%>Number of bits used for record number</td>
</tr>
<tr valign=top>
<td width=21%>21</td>
<td width=79%>Number of bits used for duplicate count</td>
</tr>
<tr valign=top>
<td width=21%>22</td>
<td width=79%>Number of bits used for trail count</td>
</tr>
<tr valign=top>
<td width=21%>23 </td>
<td width=79%>Number of bytes holding record number, duplicate count and trailing count</td>
</tr>
<tr valign=top>
<td width=21%>24&nbsp;–&nbsp;511</td>
<td width=79%>Index keys and information<sup>2</sup></td>
</tr>
</table><br>
<p class=mini>
2 Each entry consists of the record number, duplicate byte count and trailing byte count, all compacted. The key text is placed at the logical end of the node, working backwards, allowing for previous key entries.<sup></sup></p>
</BODY>
</HTML>
