<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>ALTER TABLE - SQL Command Examples</title>
<style>
<link disabled rel=stylesheet href=/stylesheets/msdn_ie3.css>
<style type="text/css">
@import url(/stylesheets/msdn_ie4.css);
</style></HEAD>
<BODY>

<p class=label>
<b><a name="lngalter_table___sqlx"></a><sup></sup>ALTER TABLE – SQL Command Examples</b></p>
<p>
Example 1 adds a field called <code>fax</code> to the <code>customer</code> table and allows the field to have null values.</p>
<p>
Example 2 makes the <code>cust_id</code> field the primary key of the <code>customer</code> table.</p>
<p>
Example 3 adds a field validation rule to the <code>quantity</code> field of the <code>orders</code> table so that values in the <code>quantity</code> field must be non-negative.</p>
<p>
Example 4 adds a one-to-many persistent relation between the <code>customer</code> and <code>orders</code> tables based on the primary key <code>cust_id</code> in the <code>customer</code> table and a new foreign key index <code>cust_id</code> in the <code>orders</code> table.</p>
<p>
Example 5 removes the field validation rule from the <code>quantity</code> field in the <code>orders</code> table.</p>
<p>
Example 6 removes the persistent relation between the <code>customer</code> and <code>orders</code> tables, but keeps the <code>cust_id</code> index tag in the <code>orders</code> table.</p>
<p>
Example 7 adds a field called <code>fax2</code> to the <code>customer</code> table and prevents the field from containing null values. The new structure of the table is displayed. Two ALTER COLUMN clauses are used to allow the field to have null values and set the default value for the field to the null value. Note that multiple ALTER COLUMN clauses are required to change more than one property of a field in a single ALTER TABLE command. The new field is then removed from the table to restore the table to its original state.</p>
<pre><code>* Example 1
SET PATH TO (HOME(2) + 'Data\')&nbsp;&nbsp;&nbsp;&nbsp; &amp;&amp; Sets path to table
ALTER TABLE customer ADD COLUMN fax c(20) NULL

* Example 2
ALTER TABLE customer ADD PRIMARY KEY cust_id TAG cust_id

ALTER TABLE customer ALTER COLUMN cust_id c(5) PRIMARY KEY

* Example 3
ALTER TABLE orders;
 &nbsp;&nbsp; ALTER COLUMN quantity SET CHECK quantity &gt;= 0;
 &nbsp;&nbsp; ERROR "Quantities must be non-negative"

* Example 4
ALTER TABLE orders;
 &nbsp; ADD FOREIGN KEY cust_id TAG cust_id REFERENCES customer

* Example 5
ALTER TABLE orders ALTER COLUMN quantity DROP CHECK

* Example 6
ALTER TABLE orders DROP FOREIGN KEY TAG cust_id SAVE

* Example 7
CLEAR
ALTER TABLE customer ADD COLUMN fax2 c(20) NOT NULL
DISPLAY STRUCTURE

ALTER TABLE customer;
 &nbsp; ALTER COLUMN fax2 NULL;
 &nbsp; ALTER COLUMN fax2 SET DEFAULT .NULL.

ALTER TABLE customer DROP COLUMN fax2
</code></pre>
</BODY>
</HTML>
