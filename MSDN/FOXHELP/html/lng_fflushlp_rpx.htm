<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>_FFlush( ) API Library Routine Example</title>
<style>
<link disabled rel=stylesheet href=/stylesheets/msdn_ie3.css>
<style type="text/css">
@import url(/stylesheets/msdn_ie4.css);
</style></HEAD>
<BODY>

<p class=label>
<b><a name="lng_fflushlp_rpx"></a><sup></sup>_FFlush(&nbsp;) API Library Routine Example</b></p>
<p>
The following example creates a file and sets its length to 8196 bytes. Executing the Visual FoxPro command line DIR TEMP.TXT in the Command window shows that the size of the file on disk is still 0. However, after executing = XFFLUSH(&nbsp;), issuing the command line DIR TEMP.TXT shows that the file on disk reflects the _FCHSize(&nbsp;) call, and has a file size of 8196 bytes.</p>
<h4>Visual FoxPro Code</h4>
<pre><code>SET LIBRARY TO FFLUSH&nbsp; 
DIR temp.txt&nbsp; &amp;&amp; size on disk is still 0
WAIT WINDOW "File Size = 0"
= XFFLUSH()
DIR temp.txt&nbsp; &amp;&amp; size on disk is 8196
WAIT WINDOW "File Size Does Not Equal 0"
CLOSE ALL
</code></pre>
<h4>C Code</h4>
<pre><code>#include &lt;pro_ext.h&gt;

static FCHAN fchan;

FAR CreateIt(ParamBlk FAR *parm)
{
 &nbsp; fchan = _FCreate("temp.txt", FC_NORMAL);
 &nbsp; _FCHSize(fchan, 8196);
}

FAR FFlushEx(ParamBlk FAR *parm)
{
 &nbsp; <span class=cfe><b>_FFlush(</b></span>fchan<span class=cfe><b>)</b></span>;
}

FoxInfo myFoxInfo[] = {
 &nbsp; {"ONLOAD", (FPFI) CreateIt, CALLONLOAD, ""},
 &nbsp; {"XFFLUSH", (FPFI) FFlushEx, 0, ""},
};
FoxTable _FoxTable = {
 &nbsp; (FoxTable FAR *) 0, sizeof(myFoxInfo)/sizeof(FoxInfo), myFoxInfo
};
</code></pre>
</BODY>
</HTML>
