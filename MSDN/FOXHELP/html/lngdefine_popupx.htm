<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>DEFINE POPUP Command Example</title>
<style>
<link disabled rel=stylesheet href=/stylesheets/msdn_ie3.css>
<style type="text/css">
@import url(/stylesheets/msdn_ie4.css);
</style></HEAD>
<BODY>

<p class=label>
<b><a name="lngdefine_popupx"></a><sup></sup>DEFINE POPUP Command Example</b></p>
<p>
The following example uses DEFINE POPUP to create menus that are activated when a menu title in the menu bar is chosen. The current system menu bar is first saved to memory with SET SYSMENU SAVE, and then all system menu titles are removed with SET SYSMENU TO.</p>
<p>
Two new system menu titles are created with DEFINE PAD, and DEFINE POPUP creates a drop-down menu for each menu title. DEFINE BAR creates items on each of the menus. When a menu title is chosen, ON PAD uses ACTIVATE POPUP to activate the corresponding menu.</p>
<p>
When an item is chosen from a menu, ON SELECTION POPUP uses PROMPT(&nbsp;) and POPUP(&nbsp;) to pass the item number and menu name to the CHOICE procedure. CHOICE displays the text of the chosen item and the name of the menu containing the item. If the Exit item is chosen from the Card Info menu, the original Visual FoxPro system menu is restored.</p>
<pre><code>*** Name this program DEFINPOP.PRG ***
CLEAR
SET SYSMENU SAVE
SET SYSMENU TO
DEFINE PAD convpad OF _MSYSMENU PROMPT '\&lt;Conversions' COLOR SCHEME 3 ;
 &nbsp; KEY ALT+C, ''
DEFINE PAD cardpad OF _MSYSMENU PROMPT 'Card \&lt;Info' COLOR SCHEME 3 ;
 &nbsp; KEY ALT+I, ''
ON PAD convpad OF _MSYSMENU ACTIVATE POPUP conversion
ON PAD cardpad OF _MSYSMENU ACTIVATE POPUP cardinfo
<span class=cfe><b>DEFINE POPUP</b></span> conversion <span class=cfe><b>MARGIN RELATIVE COLOR SCHEME</b></span> 4
DEFINE BAR 1 OF conversion PROMPT 'Ar\&lt;ea' KEY CTRL+E, '^E'
DEFINE BAR 2 OF conversion PROMPT '\&lt;Length' ;
 &nbsp; KEY CTRL+L, '^L'
DEFINE BAR 3 OF conversion PROMPT 'Ma\&lt;ss' ;
 &nbsp; KEY CTRL+S, '^S'
DEFINE BAR 4 OF conversion PROMPT 'Spee\&lt;d' ;
 &nbsp; KEY CTRL+D, '^D'
DEFINE BAR 5 OF conversion PROMPT '\&lt;Temperature' ;
 &nbsp; KEY CTRL+T, '^T'
DEFINE BAR 6 OF conversion PROMPT 'T\&lt;ime' ;
 &nbsp; KEY CTRL+I, '^I'
DEFINE BAR 7 OF conversion PROMPT 'Volu\&lt;me' ;
 &nbsp; KEY CTRL+M, '^M'
ON SELECTION POPUP conversion;
 &nbsp; DO choice IN definpop WITH PROMPT( ), POPUP( )
<span class=cfe><b>DEFINE POPUP</b></span> cardinfo <span class=cfe><b>MARGIN RELATIVE COLOR SCHEME</b></span> 4
DEFINE BAR 1 OF cardinfo PROMPT '\&lt;View Charges' ;
 &nbsp; KEY ALT+V, ''
DEFINE BAR 2 OF cardinfo PROMPT 'View \&lt;Payments' ;
 &nbsp; KEY ALT+P, ''
DEFINE BAR 3 OF cardinfo PROMPT 'Vie\&lt;w Users' ;
 &nbsp; KEY ALT+W, ''
DEFINE BAR 4 OF cardinfo PROMPT '\-'
DEFINE BAR 5 OF cardinfo PROMPT '\&lt;Charges '
DEFINE BAR 6 OF cardinfo PROMPT '\-'
DEFINE BAR 7 OF cardinfo PROMPT 'E\&lt;xit '
ON SELECTION POPUP cardinfo;
 &nbsp; DO choice IN definpop WITH PROMPT( ), POPUP( )
PROCEDURE choice
PARAMETERS mprompt, mpopup
WAIT WINDOW 'You chose ' + mprompt + ;
 &nbsp; ' from popup ' + mpopup NOWAIT
IF mprompt = 'Exit'
 &nbsp; SET SYSMENU TO DEFAULT
ENDIF
</code></pre>
</BODY>
</HTML>
