<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Device-Specific Effects</title>
<link disabled rel=stylesheet href=../../backsdk3.css>
<style type="text/css">
@import url(../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h3><a name="_dx5_device_specific_effects_dinput"></a>Device-Specific Effects</h3>
<p>
DirectInput provides a way to control device-specific effects. This is useful for hardware vendors who have extra effects that are not directly supported by DirectInput. </p>
<p>
The hardware vendor must provide a GUID identifying the device-specific effect and may provide a custom structure for the type-specific parameters of the effect. Your application then must initialize a <a href="dinput_6l2s.htm"><b>DIEFFECT</b></a> structure and a type-specific structure, just as with any other effect. You then call the <a href="dinput_92d0.htm"><b>IDirectInputDevice2::CreateEffect</b></a> method, passing the device-specific GUID and a pointer to the <b>DIEFFECT</b> structure.</p>
<p>
When you obtain information about a device-specific effect in a <a href="dinput_5m7o.htm"><b>DIEFFECTINFO</b></a> structure, the low byte of the <b>dwEffType</b> member (<b>DIEFT_GETTYPE</b>(<b>dwEfftype</b>)) indicates which of the predefined DirectInput effect categories (constant force, ramp force, periodic, or condition) the effect falls into. If it does not fall into any of the predefined categories, then the value is DIEFT_HARDWARE. </p>
<p>
If a device-specific effect falls into one of the predefined categories, then the <b>lpvTypeSpecificParams</b> member of the <b>DIEFFECT</b> structure must point to the corresponding <a href="dinput_3b5h.htm"><b>DICONSTANTFORCE</b></a>, <a href="dinput_567p.htm"><b>DIRAMPFORCE</b></a>, <a href="dinput_3fsk.htm"><b>DIPERIODIC</b></a>, or <a href="dinput_88tw.htm"><b>DICONDITION</b></a> structure, and the <b>cbTypeSpecificParams</b> member must be equal to the size of that structure.</p>
<p>
If the (<b>DIEFT_GETTYPE</b>(<b>dwEfftype</b>) == DIEFT_HARDWARE), then the values of the <b>lpvTypeSpecificParams</b> and <b>cbTypeSpecificParams</b> members depend on whether the effect requires custom type-specific parameters. If it does, then these values must refer to the appropriate structure defined in the manufacturer's header file and declared and initialized by your application. If the effect does not require custom parameters – that is, if the <b>dwStaticParms</b> member of the <b>DIEFFECTINFO</b> structure for the hardware effect does not have the DIEP_TYPESPECIFICPARAMS flag – then <b>lpvTypeSpecificParams</b> must be NULL and <b>cbTypeSpecificParams</b> must be zero. </p>
<p>
DirectInput passes the GUID and the <b>LPDIEFFECT</b> to the device driver for verification. If the GUID is unknown, the device will return <a href="dinput_7yk4.htm#_dx5_dierr_devicenotreg_dinput">DIERR_DEVICENOTREG</a>. If the GUID is known but the type-specific data is incorrect for that effect, the device will return <a href="dinput_7yk4.htm#_dx5_dierr_invalidparam_dinput">DIERR_INVALIDPARAM</a>.</p>
<p>&nbsp;</p></body>
</HTML>
