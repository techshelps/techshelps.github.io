<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Immediate Joystick Data</title>
<link disabled rel=stylesheet href=../../backsdk3.css>
<style type="text/css">
@import url(../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h4><a name="_dx5_immediate_joystick_data_dinput"></a>Immediate Joystick Data</h4>
<p>
To retrieve the current state of the joystick, call the <a href="dinput_0aes.htm"><b>IDirectInputDevice::GetDeviceState</b></a> method with a pointer to a <a href="dinput_414k.htm"><b>DIJOYSTATE</b></a> or <a href="dinput_5i9g.htm"><b>DIJOYSTATE2</b></a> structure, depending on whether the data format was set with <i>c_dfDIJoystick</i> or <i>c_dfDIJoystick2</i>. (See <a href="dinput_5ook.htm">Device Data Formats</a>.) The joystick state returned in the structure includes the coordinates of the axes, the state of the buttons, and the state of the point-of-view controllers.</p>
<p>
The first seven members of the <b>DIJOYSTATE</b> structure hold the axis coordinates. The last of these, <b>rglSlider</b>, is an array of two values. (See <a href="dinput_452s.htm">Interpreting Joystick Axis Data</a>.)</p>
<p>
The <b>rgdwPOV</b> member contains the position of up to four point-of-view controllers in hundredths of degrees clockwise from north (or forward). The center position is reported as -1. For controllers that have only five positions, <b>dwPOV</b> will be one of the following values:</p>
<table cellspacing=4 cols=1>
<tr valign=top>
<td width=100%>-1</td>
</tr>
<tr valign=top>
<td width=100%>0</td>
</tr>
<tr valign=top>
<td width=100%>90 * DI_DEGREES</td>
</tr>
<tr valign=top>
<td width=100%>180 * DI_DEGREES</td>
</tr>
<tr valign=top>
<td width=100%>270 * DI_DEGREES. </td>
</tr>
</table><br>
<p>
<b>Note</b>&nbsp;&nbsp;Some drivers report a value of 65,535 instead of -1 for the neutral position. You should check for a centered POV indicator as follows:</p>
<pre><code>BOOL POVCentered = (LOWORD(dwPOV) == 0xFFFF);</code></pre>
<p>
The <b>rgbButtons</b> member is an array of bytes, one for each of 32 or 128 buttons, depending on the data format. For each button, the high bit is set if the button is down and clear if the button is up or not present.</p>
<p>
The <b>DIJOYSTATE2</b> structure has additional members for information about the velocity, acceleration, force, and torque of the axes.</p>
<p>
See also <a href="dinput_0p4k.htm">Buffered and Immediate Data</a>.</p>
<p>&nbsp;</p></body>
</HTML>
