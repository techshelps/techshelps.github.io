<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Changing an Effect</title>
<link disabled rel=stylesheet href=../../backsdk3.css>
<style type="text/css">
@import url(../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h3><a name="_dx5_changing_an_effect_dinput"></a>Changing an Effect</h3>
<p>
You can modify the parameters of an effect, in some cases even while the effect is playing. You do this by using the <a href="dinput_4ptg.htm"><b>IDirectInputEffect::SetParameters</b></a> method.</p>
<p>
The <b>dwDynamicParams</b> member of the <a href="dinput_5m7o.htm"><b>DIEFFECTINFO</b></a> structure tells you which effect parameters can be changed while an effect is playing. If you attempt to modify an effect parameter that cannot be modified while the effect is playing, and the effect is still playing, then DirectInput will normally stop the effect, update the parameters, and restart the effect. You can override this default behavior by passing the DIEP_NORESTART flag.</p>
<p>
The following C++ example changes the magnitude of the constant force that was set in the example under <a href="dinput_2wqc.htm">Creating an Effect</a>.</p>
<pre><code>DIEFFECT        diEffect;           // parameters for effect
DICONSTANTFORCE diConstantForce;    
  // type-specific parameters.

diConstantForce.lMagnitude = 5000;
diEffect.dwSize = sizeof(DIEFFECT); 
diEffect.cbTypeSpecificParams = sizeof(DICONSTANTFORCE); 
diEffect.lpvTypeSpecificParams = &amp;diConstantForce;
hr = lpdiEffect-&gt;SetParameters(&amp;diEffect, DIEP_TYPESPECIFICPARAMS);
 </code></pre>
<p>
The flag ensures that the transfer of data from the <a href="dinput_6l2s.htm"><b>DIEFFECT</b></a> structure is restricted<u> </u>to the relevant members, so that you do not have to initialize the entire structure and so that the minimum possible amount of data needs to be sent to the device.</p>
<p>&nbsp;</p></body>
</HTML>
