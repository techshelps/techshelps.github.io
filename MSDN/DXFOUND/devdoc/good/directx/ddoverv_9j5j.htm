<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Step 2: Loading the Bitmaps to the Off-Screen Surfaces</title>
<link disabled rel=stylesheet href=../../backsdk3.css>
<style type="text/css">
@import url(../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h3><a name="_dx5_step_2_loading_the_bitmaps_to_the_off_screen_surfaces_ddraw"></a>Step 2: Loading the Bitmaps to the Off-Screen Surfaces</h3>
<p>
After the two <a href="glossary_938z.htm#_dx5_off_screen_surface_glos">off-screen surfaces</a> are created, DDEX3 uses the InitSurfaces sample function to load the bitmaps from the Frntback.bmp file onto the surfaces. The InitSurfaces function uses the DDCopyBitmap sample function located in Ddutil.cpp to load both of the bitmaps, as shown in the following example:</p>
<pre><code>// Load the bitmap resource. 
hbm = (HBITMAP)LoadImage(GetModuleHandle(NULL), szBitmap, 
    IMAGE_BITMAP, 0, 0, LR_CREATEDIBSECTION); 
 
if (hbm == NULL) 
    return FALSE; 
 
DDCopyBitmap(lpDDSOne, hbm, 0, 0,   640, 480); 
DDCopyBitmap(lpDDSTwo, hbm, 0, 480, 640, 480); 
DeleteObject(hbm); 
 
return TRUE; 
 </code></pre>
<p>
If you look at the Frntback.bmp file in Microsoft Paint or another drawing application, you can see that the bitmap consists of two screens, one on top of the other. The DDCopyBitmap function breaks the bitmap in two at the point where the screens meet. In addition, it loads the first bitmap into the first <a href="glossary_938z.htm#_dx5_off_screen_surface_glos">off-screen surface</a> (<i>lpDDSOne</i>) and the second bitmap into the second off-screen surface (<i>lpDDSTwo</i>).</p>
<p>&nbsp;</p></body>
</HTML>
