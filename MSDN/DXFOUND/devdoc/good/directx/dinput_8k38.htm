<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>DIOBJECTDATAFORMAT</title>
<link disabled rel=stylesheet href=../../backsdk3.css>
<style type="text/css">
@import url(../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h1><a name="_dx5_diobjectdataformat_dinput"></a>DIOBJECTDATAFORMAT</h1>
<p>
The <b>DIOBJECTDATAFORMAT</b> structure contains information about a device object's data format for use with the <a href="dinput_0q0k.htm"><b>IDirectInputDevice::SetDataFormat</b></a> method.</p>
<pre><code>typedef struct { 
    const GUID * pguid; 
    DWORD        dwOfs; 
    DWORD        dwType; 
    DWORD        dwFlags; 
} DIOBJECTDATAFORMAT, *LPDIOBJECTDATAFORMAT; 

typedef const DIOBJECTDATAFORMAT *LPCDIOBJECTDATAFORMAT;
 </code></pre>
<h4>Members</h4>
<dl>
<dt>
<b>pguid</b></dt>
<dd>
Unique identifier for the axis, button, or other input source. When requesting a data format, making this member NULL indicates that any type of object is permissible.</dd>
<dt>
<b>dwOfs</b></dt>
<dd>
Offset within the data packet where the data for the input source will be stored. This value must be a multiple of four for <b>DWORD</b> size data, such as axes. It can be byte-aligned for buttons.</dd>
<dt>
<b>dwType</b></dt>
<dd>
Device type that describes the object. It is a combination of the following flags describing the object type (axis, button, and so forth) and containing the object-instance number in the middle 16 bits. When requesting a data format, the instance portion must be set to DIDFT_ANYINSTANCE to indicate that any instance is permissible, or to DIDFT_MAKEINSTANCE(<i>n</i>) to restrict the request to instance <i>n</i>. See the examples under Remarks.
<table cellspacing=4 cols=2>
<tr valign=top>
<td colspan=2 width=100%>DIDFT_ABSAXIS </td>
</tr>
<tr valign=top>
<td width=10%></td>
<td width=90%>The object selected by the <b>IDirectInput::SetDataFormat</b> method must be an absolute axis. </td>
</tr>
<tr valign=top>
<td colspan=2 width=100%>DIDFT_AXIS </td>
</tr>
<tr valign=top>
<td width=10%></td>
<td width=90%>The object selected by the <b>IDirectInput::SetDataFormat</b> method must be an absolute or relative axis. </td>
</tr>
<tr valign=top>
<td colspan=2 width=100%>didft_button </td>
</tr>
<tr valign=top>
<td width=10%></td>
<td width=90%>The object selected by the <b>IDirectInput::SetDataFormat</b> method must be a push button or a toggle button.  </td>
</tr>
<tr valign=top>
<td colspan=2 width=100%>didft_ffactuator</td>
</tr>
<tr valign=top>
<td width=10%></td>
<td width=90%>The object selected by the <b>IDirectInput::SetDataFormat</b> method must contain a force feedback actuator; in other words, it must be possible to apply forces to the object. </td>
</tr>
<tr valign=top>
<td colspan=2 width=100%>DIDFT_FFEFFECTTRIGGER</td>
</tr>
<tr valign=top>
<td width=10%></td>
<td width=90%>The object selected by the <b>IDirectInput::SetDataFormat</b> method must be a valid force feedback effect trigger. </td>
</tr>
<tr valign=top>
<td colspan=2 width=100%>DIDFT_POV</td>
</tr>
<tr valign=top>
<td width=10%></td>
<td width=90%>The object selected by the <b>IDirectInput::SetDataFormat</b> method must be a point-of-view controller.</td>
</tr>
<tr valign=top>
<td colspan=2 width=100%>DIDFT_PSHBUTTON </td>
</tr>
<tr valign=top>
<td width=10%></td>
<td width=90%>The object selected by the <b>IDirectInput::SetDataFormat</b> method must be a push button. </td>
</tr>
<tr valign=top>
<td colspan=2 width=100%>DIDFT_RELAXIS </td>
</tr>
<tr valign=top>
<td width=10%></td>
<td width=90%>The object selected by <b>IDirectInputDevice::SetDataFormat</b> must be a relative axis. </td>
</tr>
<tr valign=top>
<td colspan=2 width=100%>DIDFT_TGLBUTTON </td>
</tr>
<tr valign=top>
<td width=10%></td>
<td width=90%>The object selected by <b>IDirectInputDevice::SetDataFormat</b> must be a toggle button.  </td>
</tr>
</table><br>

</dd>
<dt>
<b>dwFlags</b></dt>
<dd>
Zero or more of the following values:
<table cellspacing=4 cols=2>
<tr valign=top>
<td colspan=2 width=100%>DIDOI_ASPECTACCEL</td>
</tr>
<tr valign=top>
<td width=10%></td>
<td width=90%>The object selected by <b>IDirectInputDevice::SetDataFormat</b> must report acceleration information.</td>
</tr>
<tr valign=top>
<td colspan=2 width=100%>DIDOI_ASPECTFORCE</td>
</tr>
<tr valign=top>
<td width=10%></td>
<td width=90%>The object selected by <b>IDirectInputDevice::SetDataFormat</b> must report force information.</td>
</tr>
<tr valign=top>
<td colspan=2 width=100%>DIDOI_ASPECTPOSITION</td>
</tr>
<tr valign=top>
<td width=10%></td>
<td width=90%>The object selected by <b>IDirectInputDevice::SetDataFormat</b> must report position information.</td>
</tr>
<tr valign=top>
<td colspan=2 width=100%>DIDOI_ASPECTVELOCITY</td>
</tr>
<tr valign=top>
<td width=10%></td>
<td width=90%>The object selected by <b>IDirectInputDevice::SetDataFormat</b> must report velocity information.</td>
</tr>
</table><br>

</dd>
</dl>
<h4>Remarks</h4>
<p>
A data format is made up of several <b>DIOBJECTDATAFORMAT</b> structures, one for each object (axis, button, and so on). An array of these structures is contained in the <a href="dinput_0xtg.htm"><b>DIDATAFORMAT</b></a> structure that is passed to <a href="dinput_0q0k.htm"><b>IDirectInputDevice::SetDataFormat</b></a>. An application typically does not need to create an array of <b>DIOBJECTDATAFORMAT</b> structures; rather, it can use one of the predefined data formats, <i>c_dfDIMouse</i>, <i>c_dfDIKeyboard</i>, <i>c_dfDIJoystick</i>, or <i>c_dfDIJoystick2</i>, which have predefined settings for <b>DIOBJECTDATAFORMAT</b>.</p>
<p>
The following object data format specifies that DirectInput should choose the first available axis and report its value in the <b>DWORD</b> at offset 4 in the device data.</p>
<pre><code>DIOBJECTDATAFORMAT dfAnyAxis = { 
    0,                              // Wildcard 
    4,                              // Offset 
    DIDFT_AXIS | DIDFT_ANYINSTANCE, // Any axis is okay 
    0,                              // Don't care about aspect 
}; 
 </code></pre>
<p>
The following object data format specifies that the x-axis of the device should be stored in the <b>DWORD</b> at offset 12 in the device data. If the device has more than one x-axis, the first available one should be selected.</p>
<pre><code>
DIOBJECTDATAFORMAT dfAnyXAxis = { 
    &amp;GUID_XAxis,                    // Must be an X axis 
    12,                             // Offset 
    DIDFT_AXIS | DIDFT_ANYINSTANCE, // Any X axis is okay 
    0,                              // Don't care about aspect 
}; 
 </code></pre>
<p>
The following object data format specifies that DirectInput should choose the first available button and report its value in the high bit of the byte at offset 16 in the device data.</p>
<pre><code>DIOBJECTDATAFORMAT dfAnyButton = { 
    0,                                // Wildcard 
    16,                               // Offset 
    DIDFT_BUTTON | DIDFT_ANYINSTANCE, // Any button is okay 
    0,                                // Don't care about aspect 
}; 
 </code></pre>
<p>
The following object data format specifies that button 0 of the device should be reported as the high bit of the byte stored at offset 18 in the device data.</p>
<p>
If the device does not have a button 0, the attempt to set this data format will fail.</p>
<pre><code>DIOBJECTDATAFORMAT dfButton0 = { 
    0,                                    // Wildcard 
    18,                                   // Offset 
    DIDFT_BUTTON | DIDFT_MAKEINSTANCE(0), // Button zero 
    0,                                    // Don't care about aspect 
}; 
 </code></pre>
<h4>QuickInfo</h4>
<p>
<b>&nbsp;&nbsp;Windows NT: </b>Use version 5.0 or later.<br>
<b>&nbsp;&nbsp;Windows: </b>Use Windows 95 or later. Available as a redistributable for Windows 95.<br>
<b>&nbsp;&nbsp;Windows CE: </b>Unsupported.<br>
<b>&nbsp;&nbsp;Header: </b>Declared in dinput.h.</p>
<p>&nbsp;</p></body>
</HTML>
