<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>DirectXSetupGetVersion</title>
<link disabled rel=stylesheet href=../../backsdk3.css>
<style type="text/css">
@import url(../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h1><a name="_dx5_directxsetupgetversion_dsetup"></a>DirectXSetupGetVersion</h1>
<p>
The <b>DirectXSetupGetVersion</b> function retrieves the version number of the DirectX components that are currently installed.</p>
<pre><code><b>INT WINAPI DirectXSetupGetVersion(
  DWORD  </b><i> *pdwVersion,  </i>// receives the version number
<b>  DWORD  </b><i> *pdwRevision </i>// receives the revision number
<b>);</b>
 </code></pre>
<h4>Parameters</h4>
<dl>
<dt>
<i>pdwVersion</i></dt>
<dd>
Pointer to a <b>DWORD</b>. The <b>DirectXSetupGetVersion</b> function will fill the <b>DWORD</b> with the version number. If this parameter is NULL, it is ignored.</dd>
<dt>
<i>pdwRevision</i></dt>
<dd>
Pointer to a <b>DWORD</b>. The <b>DirectXSetupGetVersion</b> function will fill the <b>DWORD</b> with the revision number. If this parameter is NULL, it is ignored.</dd>
</dl>
<h4>Return Values</h4>
<p>
If this function is successful, it returns non-zero.</p>
<p>
If it is not successful, it returns zero.</p>
<h4>Remarks</h4>
<p>
The <b>DirectXSetupGetVersion</b> function can be used to retrieve the version and revision numbers before or after the <b>DirectXSetup</b> function is called. If it is called before the <b>DirectXSetup</b> function is invoked, it gives the version and revision numbers of the DirectX components that are currently installed. If it is called after the <b>DirectXSetup</b> function is called, but before the computer has been rebooted, it will give the version and revision numbers of the DirectX components that will take effect after the computer is restarted.</p>
<p>
The version number in the <i>pdwVersion</i> parameter is composed of the major version number and the minor version number. The major version number will be in the 16 most significant bits of the <b>DWORD</b> when this function returns. The minor version number will be in the 16 least significant bits of the <b>DWORD</b> when this function returns. The version numbers can be interpreted as follows:</p>
<table cellspacing=4 cols=2>
<tr valign=top>
<th align=left width=42%>DirectX Version</th>
<th align=left width=58%>Value Pointed At By <i>pdwVersion</i></th>
</tr>
<tr valign=top>
<td width=42%>DirectX 1</td>
<td width=58%>0x00040001</td>
</tr>
<tr valign=top>
<td width=42%>DirectX 2</td>
<td width=58%>0x00040002</td>
</tr>
<tr valign=top>
<td width=42%>DirectX 3</td>
<td width=58%>0x00040003</td>
</tr>
<tr valign=top>
<td width=42%>DirectX 5</td>
<td width=58%>0x00040005</td>
</tr>
</table><br>
<p>
Note that there is no version 4 of DirectX. The version number in the <i>pdwRevision </i>parameter is composed of the release number and the build number. The release number will be in the 16 most significant bits of the <b>DWORD</b> when this function returns. The build number will be in the 16 least significant bits of the <b>DWORD</b> when this function returns.</p>
<p>
The following sample code fragment demonstrates how the information returned by <b>DirectXSetupGetVersion</b> can be extracted and used.</p>
<pre><code>DWORD dwVersion;
DWORD dwRevision;
if (DirectXSetupGetVersion(&amp;dwVersion, &amp;dwRevision))
{
    printf("DirectX version is %d.%d.%d.%d\n",
           HIWORD(dwVersion), LOWORD(dwVersion),
           HIWORD(dwRevision), LOWORD(dwRevision));
}</code></pre>
<p>
Version and revision numbers can concatenated into a 64 bit quantity for comparison. The version number should be in the 32 most significant bits and the revision number should be in the 32 least significant bits.</p>
<h4>QuickInfo</h4>
<p>
<b>&nbsp;&nbsp;Windows NT: </b>Use version 4.0 or later.<br>
<b>&nbsp;&nbsp;Windows: </b>Use Windows 95 or later. Available as a redistributable for Windows 95.<br>
<b>&nbsp;&nbsp;Windows CE: </b>Unsupported.<br>
<b>&nbsp;&nbsp;Header: </b>Declared in dsetup.h.<br>
<b>&nbsp;&nbsp;Import Library: </b>Use dsetup.lib.</p>
<h4>See Also</h4>
<p>
<a href="dsetup_9vao.htm"><b>DirectXSetup</b></a> </p>
<p>&nbsp;</p></body>
</HTML>
