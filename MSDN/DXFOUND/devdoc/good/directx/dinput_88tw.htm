<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>DICONDITION</title>
<link disabled rel=stylesheet href=../../backsdk3.css>
<style type="text/css">
@import url(../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h1><a name="_dx5_dicondition_dinput"></a>DICONDITION</h1>
<p>
The <b>DICONDITION</b> structure contains type-specific information for effects that are marked as DIEFT_CONDITION.</p>
<p>
A pointer to an array of <b>DICONDITION</b> structures for an effect is passed in the <b>lpvTypeSpecificParams</b> member of the <a href="dinput_6l2s.htm"><b>DIEFFECT</b></a> structure. The number of elements in the array must be either one, or equal to the number of axes associated with the effect.</p>
<pre><code>typedef struct { 
    LONG lOffset; 
    LONG lPositiveCoefficient; 
    LONG lNegativeCoefficient; 
    DWORD dwPositiveSaturation; 
    DWORD dwNegativeSaturation; 
    LONG lDeadBand; 
} DICONDITION, *LPDICONDITION; 
 
typedef const DICONDITION *LPCDICONDITION;
</code></pre>
<h4>Members</h4>
<dl>
<dt>
<b>lOffset</b></dt>
<dd>
The offset for the condition, in the range -10,000 to +10,000.</dd>
<dt>
<b>lPositiveCoefficient</b></dt>
<dd>
The coefficient constant on the positive side of the offset, in the range -10,000 to +10,000.</dd>
<dt>
<b>lNegativeCoefficient</b></dt>
<dd>
The coefficient constant on the negative side of the offset, in the range -10,000 to +10,000.
<p>
If the device does not support separate positive and negative coefficients, then the value of <b>lNegativeCoefficient</b> is ignored and the value of <b>lPositiveCoefficient</b> is used as both the positive and negative coefficients.
</dd>
<dt>
<b>dwPositiveSaturation</b></dt>
<dd>
The maximum force output on the positive side of the offset, in the range 0 to 10,000.
<p>
If the device does not support force <a href="glossary_5583.htm#_dx5_saturation_glos">saturations</a>, then the value of this member is ignored.
</dd>
<dt>
<b>lNegativeSaturation</b></dt>
<dd>
The maximum force output on the negative side of the offset, in the range 0 to 10,000.
<p>
If the device does not support force saturations, then the value of this member is ignored.

<p>
If the device does not support separate positive and negative saturations, then the value of <b>lNegativeSaturation</b> is ignored and the value of <b>lPositiveSaturation</b> is used as both the positive and negative saturations.
</dd>
<dt>
<b>lDeadBand</b></dt>
<dd>
The region around <b>lOffset</b> where the condition is not active, in the range 0 to 10,000. In other words, the condition is not active between <b>lOffset </b>- <b>lDeadBand</b> and <b>lOffset </b>+ <b>lDeadBand</b>.</dd>
</dl>
<h4>Remarks</h4>
<p>
Different types of conditions will interpret the parameters differently, but the basic idea is that force resulting from a condition is equal to <i>A(q - q0)</i> where <i>A</i> is a scaling coefficient, <i>q</i> is some metric, and <i>q0</i> is the neutral value for that metric.</p>
<p>
The simplified formula give above must be adjusted if a nonzero dead band is provided. If the metric is less than <b>lOffset </b>- <b>lDeadBand</b>, then the resulting force is given by the following formula:</p>
<p>
<i>force</i> = <b>lNegativeCoefficient</b> * (<i>q</i> - (<b>lOffset </b>- <b>lDeadBand</b>))</p>
<p>
Similarly, if the metric is greater than <b>lOffset </b>+ <b>lDeadBand</b>, then the resulting force is given by the following formula:</p>
<p>
<i>force</i> = <b>lPositiveCoefficient</b> * (<i>q</i> - (<b>lOffset </b>+ <b>lDeadBand</b>))</p>
<p>
A spring condition uses axis position as the metric.</p>
<p>
A damper condition uses axis velocity as the metric.</p>
<p>
An inertia condition uses axis acceleration as the metric.</p>
<p>
If the number of <b>DICONDITION</b> structures in the array is equal to the number of axes for the effect, then the first structure applies to the first axis, the second applies to the second axis,and so on. For example, a two-axis spring condition with <b>lOffset</b> set to zero in both <b>DICONDITION</b> structures would have the same effect as the joystick self-centering spring. When a condition is defined for each axis in this way, the effect must not be rotated.</p>
<p>
If there is a single <b>DICONDITION</b> structure for an effect with more than one axis, then the direction along which the parameters of the <b>DICONDITION</b> structure are in effect is determined by the direction parameters passed in the <b>rglDirection</b> field of the <b>DIEFFECT</b> structure. For example, a friction condition rotated 45 degrees (in polar coordinates) would resist joystick motion in the northeast-southwest direction but would have no effect on joystick motion in the northwest-southeast direction. </p>
<h4>QuickInfo</h4>
<p>
<b>&nbsp;&nbsp;Windows NT: </b>Use version 5.0 or later.<br>
<b>&nbsp;&nbsp;Windows: </b>Use Windows 95 or later. Available as a redistributable for Windows 95.<br>
<b>&nbsp;&nbsp;Windows CE: </b>Unsupported.<br>
<b>&nbsp;&nbsp;Header: </b>Declared in dinput.h.</p>
<p>&nbsp;</p></body>
</HTML>
