<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>DIEFFECT</title>
<link disabled rel=stylesheet href=../../backsdk3.css>
<style type="text/css">
@import url(../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h1><a name="_dx5_dieffect_dinput"></a>DIEFFECT</h1>
<p>
The <b>DIEFFECT</b> structure is used by the <a href="dinput_92d0.htm"><b>IDirectInputDevice2::CreateEffect</b></a> method to initialize a new <b>IDirectInputEffect</b> object. It is also used by the <a href="dinput_4ptg.htm"><b>IDirectInputEffect::SetParameters</b></a> and <a href="dinput_8184.htm"><b>IDirectInputEffect::GetParameters</b></a> methods.</p>
<pre><code>typedef struct { 
    DWORD dwSize; 
    DWORD dwFlags; 
    DWORD dwDuration; 
    DWORD dwSamplePeriod; 
    DWORD dwGain; 
    DWORD dwTriggerButton; 
    DWORD dwTriggerRepeatInterval;
    DWORD cAxes; 
    LPDWORD rgdwAxes; 
    LPLONG rglDirection; 
    LPDIENVELOPE lpEnvelope; 
    DWORD cbTypeSpecificParams; 
    LPVOID lpvTypeSpecificParams; 
} DIEFFECT, *LPDIEFFECT; 
 
typedef const DIEFFECT *LPCDIEFFECT;
</code></pre>
<h4>Members</h4>
<dl>
<dt>
<b>dwSize</b></dt>
<dd>
Specifies the size, in bytes, of the structure. This member must be initialized before the structure is used.</dd>
<dt>
<b>dwFlags</b></dt>
<dd>
Flags associated with the effect. This value can be a combination of one or more of the following values:
<table cellspacing=4 cols=2>
<tr valign=top>
<td colspan=2 width=100%>DIEFF_CARTESIAN</td>
</tr>
<tr valign=top>
<td width=10%></td>
<td width=90%>The values of <b>rglDirection</b> are to be interpreted as Cartesian coordinates.</td>
</tr>
<tr valign=top>
<td colspan=2 width=100%>DIEFF_OBJECTIDS</td>
</tr>
<tr valign=top>
<td width=10%></td>
<td width=90%>The values of <b>dwTriggerButton</b> and <b>rgdwAxes</b> are object identifiers as obtained via <a href="dinput_0eus.htm"><b>IDirectInputDevice::EnumObjects</b></a>.</td>
</tr>
<tr valign=top>
<td colspan=2 width=100%>DIEFF_OBJECTOFFSETS</td>
</tr>
<tr valign=top>
<td width=10%></td>
<td width=90%>The values of <b>dwTriggerButton</b> and <b>rgdwAxes</b> are data format offsets, relative to the data format selected by <b>IDirectInput::SetDataFormat</b>.</td>
</tr>
<tr valign=top>
<td colspan=2 width=100%>DIEFF_POLAR</td>
</tr>
<tr valign=top>
<td width=10%></td>
<td width=90%>The values of <b>rglDirection</b> are to be interpreted as polar coordinates.</td>
</tr>
<tr valign=top>
<td colspan=2 width=100%>DIEFF_SPHERICAL</td>
</tr>
<tr valign=top>
<td width=10%></td>
<td width=90%>The values of <b>rglDirection</b> are to be interpreted as spherical coordinates. </td>
</tr>
</table><br>

</dd>
<dt>
<b>dwDuration</b></dt>
<dd>
The total duration of the effect in microseconds. If this value is INFINITE, then the effect has infinite duration. If an <a href="glossary_8yb7.htm#_dx5_envelope_glos">envelope</a> has been applied to the effect, then the <a href="glossary_2wc3.htm#_dx5_attack_glos">attack</a> will be applied, followed by an infinite <a href="glossary_5583.htm#_dx5_sustain_glos">sustain</a>.</dd>
<dt>
<b>dwSamplePeriod</b></dt>
<dd>
The period at which the device should play back the effect, in microseconds. A value of zero indicates that the default playback sample rate should be used.
<p>
If the device is not capable of playing back the effect at the specified rate, it will choose the supported rate that is closest to the requested value.

<p>
Setting a custom <b>dwSamplePeriod</b> can be used for special effects. For example, playing a sine wave at an artificially large sample period results in a rougher texture.
</dd>
<dt>
<b>dwGain</b></dt>
<dd>
The gain to be applied to the effect, in the range 0 to 10,000. The gain is a scaling factor applied to all magnitudes of the effect and its envelope.</dd>
<dt>
<b>dwTriggerButton</b></dt>
<dd>
The identifier or offset of the button to be used to trigger playback of the effect. The flags DIEFF_OBJECTIDS and DIEFF_OBJECTOFFSETS determine the semantics of the value. If this member is set to DIEB_NOTRIGGER, then no trigger button is associated with the effect.</dd>
<dt>
<b>dwTriggerRepeatInterval</b></dt>
<dd>
The interval, in microseconds, between the end of one playback and the start of the next when the effect is triggered by a button press and the button is held down. Setting this value to INFINITE suppresses repetition. 
<p>
Support for trigger repeat for an effect is indicated by the presence of the DIEP_TRIGGERREPEATINTERVAL flag in the <b>dwStaticParams</b> member of the <a href="dinput_5m7o.htm"><b>DIEFFECTINFO</b></a> structure. 
</dd>
<dt>
<b>cAxes</b></dt>
<dd>
Number of axes involved in the effect. This member must be filled in by the caller if changing or setting the axis list or the direction list.
<p>
The number of axes for an effect cannot be changed once it has been set.
</dd>
<dt>
<b>rgdwAxes</b></dt>
<dd>
Pointer to a <b>DWORD</b> array (of <b>cAxes</b> elements) containing identifiers or offsets identifying the axes to which the effect is to be applied. The flags DIEFF_OBJECTIDS and DIEFF_OBJECTOFFSETS determine the semantics of the values in the array. 
<p>
The list of axes associated with an effect cannot be changed once it has been set.

<p>
No more than 32 axes can be associated with a single effect.
</dd>
<dt>
<b>rglDirection</b></dt>
<dd>
Pointer to a <b>LONG</b> array (of <b>cAxes</b> elements) containing either Cartesian coordinates or polar coordinates. The flags DIEFF_CARTESIAN, DIEFF_POLAR, and DIEFF_SPHERICAL determine the semantics of the values in the array.
<p>
If Cartesian, then each value in <b>rglDirection</b> is associated with the corresponding axis in <b>rgdwAxes</b>.

<p>
If polar, then the angle is measured in hundredths of degrees from the (0, -1) direction, rotated in the direction of (1, 0). This usually means that "north" is away from the user, and "east" is to the user's right. The last element is not used.

<p>
If spherical, then the first angle is measured in hundredths of degrees from the (1, 0) direction, rotated in the direction of (0, 1). The second angle (if the number of axes is three or more) is measured in hundredths of degrees towards (0, 0, 1). The third angle (if the number of axes is four or more) is measured in hundredths of degrees towards (0, 0, 0, 1), and so on. The last element is not used.


<p>
<b>Note</b>&nbsp;&nbsp;The <b>rglDirection</b> array must contain <b>cAxes</b> entries, even if polar or spherical coordinates are given. In these cases the last element in the <b>rglDirection</b> array is reserved for future use and must be zero.

</dd>
<dt>
<b>lpEnvelope</b></dt>
<dd>
Optional pointer to a <a href="dinput_3bn8.htm"><b>DIENVELOPE</b></a> structure that describes the envelope to be used by this effect. Note that not all effect types use <a href="glossary_8yb7.htm#_dx5_envelope_glos">envelopes</a>. If no envelope is to be applied, then the member should be set to NULL.</dd>
<dt>
<b>cbTypeSpecificParams</b></dt>
<dd>
Number of bytes of additional type-specific parameters for the corresponding effect type.</dd>
<dt>
<b>lpvTypeSpecificParams</b></dt>
<dd>
Pointer to type-specific parameters, or NULL if there are no type-specific parameters.
<p>
If the effect is of type DIEFT_CONDITION, then this member contains a pointer to an array of <a href="dinput_88tw.htm"><b>DICONDITION</b></a> structures that define the parameters for the condition. A single structure may be used, in which case the condition is applied in the direction specified in the <b>rglDirection</b> array. Otherwise there must be one structure for each axis, in the same order as the axes in <b>rgdwAxes</b> array. If a structure is supplied for each axis, the effect should not be rotated; you should use the following values in the <b>rglDirection</b> array: 

<ul>
<li>
DIEFF_SPHERICAL: 0, 0, ...</li>
<li>
DIEFF_POLAR: 9000, 0, ...</li>
<li>
DIEFF_CARTESIAN: 1, 0, ...</li>
</ul>

<p>
If the effect is of type DIEFT_CUSTOMFORCE, then this member contains a pointer to a <a href="dinput_269g.htm"><b>DICUSTOMFORCE</b></a> structure that defines the parameters for the custom force.

<p>
If the effect is of type DIEFT_PERIODIC, then this member contains a pointer to a <a href="dinput_3fsk.htm"><b>DIPERIODIC</b></a> structure that defines the parameters for the effect.

<p>
If the effect is of type DIEFT_CONSTANTFORCE, then this member contains a pointer to a <a href="dinput_3b5h.htm"><b>DICONSTANTFORCE</b></a> structure that defines the parameters for the constant force.

<p>
If the effect is of type DIEFT_RAMPFORCE, then this member contains a pointer to a <a href="dinput_567p.htm"><b>DIRAMPFORCE</b></a> structure that defines the parameters for the ramp force.

</dd>
</dl>
<h4>QuickInfo</h4>
<p>
<b>&nbsp;&nbsp;Windows NT: </b>Use version 5.0 or later.<br>
<b>&nbsp;&nbsp;Windows: </b>Use Windows 95 or later. Available as a redistributable for Windows 95.<br>
<b>&nbsp;&nbsp;Windows CE: </b>Unsupported.<br>
<b>&nbsp;&nbsp;Header: </b>Declared in dinput.h.</p>
<p>&nbsp;</p></body>
</HTML>
