<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>IDirectDrawSurface3::Restore</title>
<link disabled rel=stylesheet href=../../backsdk3.css>
<style type="text/css">
@import url(../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h1><a name="_dx5_idirectdrawsurface3_restore_ddraw"></a>IDirectDrawSurface3::Restore</h1>
<p>
The <b>IDirectDrawSurface3::Restore</b> method restores a surface that has been lost. This occurs when the surface memory associated with the DirectDrawSurface object has been freed.</p>
<p>
<b>HRESULT Restore();</b></p>
<h4>Return Values</h4>
<p>
If the method succeeds, the return value is DD_OK.</p>
<p>
If the method fails, the return value may be one of the following error values: </p>
<table cellspacing=4 cols=1>
<tr valign=top>
<td width=100%><a href="ddref_71rr.htm#_dx5_dderr_generic_ddraw">DDERR_GENERIC</a> </td>
</tr>
<tr valign=top>
<td width=100%><a href="ddref_71rr.htm#_dx5_dderr_implicitlycreated_ddraw">DDERR_IMPLICITLYCREATED</a> </td>
</tr>
<tr valign=top>
<td width=100%><a href="ddref_71rr.htm#_dx5_dderr_incompatibleprimary_ddraw">DDERR_INCOMPATIBLEPRIMARY</a> </td>
</tr>
<tr valign=top>
<td width=100%><a href="ddref_71rr.htm#_dx5_dderr_invalidobject_ddraw">DDERR_INVALIDOBJECT</a> </td>
</tr>
<tr valign=top>
<td width=100%><a href="ddref_71rr.htm#_dx5_dderr_invalidparams_ddraw">DDERR_INVALIDPARAMS</a> </td>
</tr>
<tr valign=top>
<td width=100%><a href="ddref_71rr.htm#_dx5_dderr_noexclusivemode_ddraw">DDERR_NOEXCLUSIVEMODE</a> </td>
</tr>
<tr valign=top>
<td width=100%><a href="ddref_71rr.htm#_dx5_dderr_outofmemory_ddraw">DDERR_OUTOFMEMORY</a> </td>
</tr>
<tr valign=top>
<td width=100%><a href="ddref_71rr.htm#_dx5_dderr_unsupported_ddraw">DDERR_UNSUPPORTED</a> </td>
</tr>
<tr valign=top>
<td width=100%><a href="ddref_71rr.htm#_dx5_dderr_wrongmode_ddraw">DDERR_WRONGMODE</a> </td>
</tr>
</table><br>
<h4>Remarks</h4>
<p>
This method restores the memory allocated for a surface, but not the contents of that memory. The application is responsible for restoring the contents to reestablish any lost images.</p>
<p>
Surfaces can be lost because the mode of the display card was changed or because an application received exclusive access to the display card and freed all of the surface memory currently allocated on the card. When a DirectDrawSurface object loses its surface memory, many methods will return DDERR_SURFACELOST and perform no other function. The <b>IDirectDrawSurface3::Restore</b> method will reallocate surface memory and reattach it to the DirectDrawSurface object.</p>
<p>
A single call to this method will restore a DirectDrawSurface object's associated implicit surfaces (<a href="glossary_6wtv.htm#_dx5_back_buffer_glos">back buffers</a>, and so on). An attempt to restore an implicitly created surface will result in an error. <b>IDirectDrawSurface3::Restore</b> will not work across explicit attachments created by using the <a href="ddref_09pz.htm"><b>IDirectDrawSurface3::AddAttachedSurface</b></a> method — each of these surfaces must be restored individually.</p>
<h4>QuickInfo</h4>
<p>
<b>&nbsp;&nbsp;Windows NT: </b>Use version 5.0 or later.<br>
<b>&nbsp;&nbsp;Windows: </b>Use Windows 95 or later. Available as a redistributable for Windows 95.<br>
<b>&nbsp;&nbsp;Windows CE: </b>Unsupported.<br>
<b>&nbsp;&nbsp;Header: </b>Declared in ddraw.h.<br>
<b>&nbsp;&nbsp;Import Library: </b>Use ddraw.lib.</p>
<h4>See Also</h4>
<p>
<a href="ddref_9ad3.htm"><b>IDirectDrawSurface3::IsLost</b></a>, <b>IDirectDrawSurface3::AddAttachedSurface</b></p>
<p>&nbsp;</p></body>
</HTML>
