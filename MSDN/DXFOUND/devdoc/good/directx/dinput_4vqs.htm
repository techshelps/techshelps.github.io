<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Downloading and Unloading Effects</title>
<link disabled rel=stylesheet href=../../backsdk3.css>
<style type="text/css">
@import url(../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h3><a name="_dx5_downloading_and_unloading_effects_dinput"></a>Downloading and Unloading Effects</h3>
<p>
Before an effect can be played, it must be downloaded to the device. Downloading an effect means telling the driver to prepare the effect for playback. It is entirely up to the driver to determine how this is done. Generally the driver will place the parameters of the effect in hardware memory in order to minimize the subsequent transfer of data between the device and the system. The consequent reduction in <a href="glossary_71rn.htm#_dx5_latency_glos">latency</a> is particularly important for conditions and for effects played in response to a trigger, such as a "fire" button. Ideally the device will not have to communicate with the system at all in order to respond to axis movements and button presses.</p>
<p>
Downloading is done automatically when you create an effect, provided the device is not full and is acquired at the exclusive cooperative level. By default it is also done when you start the effect or change its parameters. If you specify the DIEP_NODOWNLOAD flag when changing parameters, you must subsequently use the <a href="dinput_5644.htm"><b>IDirectInputEffect::Download</b></a> method to download or update the effect.</p>
<p>
When the device is unacquired —  for example, when it has been acquired with the exclusive foreground cooperative level and the application moves to the background — effects are unloaded and must be downloaded again when the application regains the foreground. As stated above, this will be done automatically when you call the <a href="dinput_0t6c.htm"><b>IDirectInputEffect::Start</b></a> method, but you may choose to download all effects immediately on reacquiring the device. You always have to download effects associated with a trigger button, since the <b>Start</b> method will not normally be called for such effects.</p>
<p>
If your application gets the DIERR_DEVICEFULL error when downloading an effect, you have to make room for the new effect by unloading an old one. You can remove an effect from the device by calling the <a href="dinput_7ltg.htm"><b>IDirectInputEffect::Unload</b></a> method. You can also remove all effects by resetting the device through a call to <a href="dinput_6o8k.htm"><b>IDirectInputDevice2::SendForceFeedbackCommand</b></a>.</p>
<p>
When you create a force feedback device, the hardware and driver are reset, so any existing effects are cleared.</p>
<p>&nbsp;</p></body>
</HTML>
