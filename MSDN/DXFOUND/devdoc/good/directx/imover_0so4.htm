<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Triangle Fans</title>
<link disabled rel=stylesheet href=../../backsdk3.css>
<style type="text/css">
@import url(../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h3><a name="_dx5_triangle_fans_d3d"></a>Triangle Fans</h3>
<p>
A triangle fan is similar to a triangle strip, except that all of the triangles share one vertex, as shown in the following illustration. </p>
<p>
<img src="images/trifan.gif" border=0></p>
<p>
The system uses vertices v1, v2, and v3 to draw the first triangle, v3, v4, and v1 to draw the second triangle, v1, v4, and v5 to draw the third triangle, and so on. </p>
<p>
A triangle fan is created by first filling an array of vertices, as in the following code fragment.</p>
<pre><code>const DWORD TOTAL_VERTS=6;
D3DVERTEX lpVerts[TOTAL_VERTS];
 
lpVerts[0] = D3DVERTEX(D3DVECTOR(0,0,0),D3DVECTOR(0,0,-1),0,0);
lpVerts[1] = D3DVERTEX(D3DVECTOR(-5,-5,0),D3DVECTOR(0,0,-1),0,0);
lpVerts[2] = D3DVERTEX(D3DVECTOR(-3,7,0),D3DVECTOR(0,0,-1),0,0);
lpVerts[3] = D3DVERTEX(D3DVECTOR(0,10,0),D3DVECTOR(0,0,-1),0,0);
lpVerts[4] = D3DVERTEX(D3DVECTOR(3,7,0),D3DVECTOR(0,0,-1),0,0);
lpVerts[5] = D3DVERTEX(D3DVECTOR(5,5,0),D3DVECTOR(0,0,-1),0,0);
 </code></pre>
<p>
The triangle fan can then be drawn to the screen with the <a href="d3dimref_93tw.htm"><b>IDirect3DDevice2::DrawPrimitive</b></a> function. The following code fragment illustrates the use of <b>IDirect3DDevice2::DrawPrimitive</b> for drawing the triangle fan in the preceding example. Remember that all calls to <b>IDirect3DDevice2::DrawPrimitive</b> must occur between <a href="d3dimref_44kk.htm"><b>IDirect3DDevice2::BeginScene</b></a> and <a href="d3dimref_8iec.htm"><b>IDirect3DDevice2::EndScene</b></a>.</p>
<pre><code>HRESULT hResult;
hResult = 
    lpDirectDrawDevice2-&gt;DrawPrimitive(
                           D3DPT_TRIANGLEFAN, // The primitive type.
                           D3DVT_VERTEX,        // The vertex type.
                           lpVerts,     // Pointer to the vertex list.
                           TOTAL_VERTS, // Number of vertices.
                           D3DDP_WAIT); // For debugging only.
 </code></pre>
<p>
The resulting triangle fan is shown in the following illustration.</p>
<p>
<img src="images/tfan2.gif" border=0></p>
<p>&nbsp;</p></body>
</HTML>
