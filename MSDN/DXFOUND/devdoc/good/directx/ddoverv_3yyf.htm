<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Step 6: Hiding the Overlay Surface</title>
<link disabled rel=stylesheet href=../../backsdk3.css>
<style type="text/css">
@import url(../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h3><a name="_dx5_step_6_hiding_the_overlay_surface_ddraw"></a>Step 6: Hiding the Overlay Surface</h3>
<p>
When you do not need the overlay surface anymore, or if you simply want to remove it from view, you can hide the surface by calling the <a href="ddref_0nxz.htm"><b>IDirectDrawSurface3::UpdateOverlay</b></a> method with appropriate flags. Mosquito hides the overlay in preparation for closing the application using the following code:</p>
<pre><code>void DestroyOverlay()
{
    if (g_lpddsOverlay){
        // Use UpdateOverlay() with the DDOVER_HIDE flag to remove an overlay 
        // from the display.
        g_lpddsOverlay-&gt;UpdateOverlay(NULL, g_lpddsPrimary, NULL, DDOVER_HIDE, NULL);
        g_lpddsOverlay-&gt;Release();
        g_lpddsOverlay=NULL;
    }
}
 </code></pre>
<p>
When the preceding example calls <b>IDirectDrawSurface3::UpdateOverlay</b>, it specifies NULL for the source and destination rectangles, because they are irrelevant when hiding the overlay. Similarly, the example uses NULL in the fourth parameter because overlay effects aren't being used. The second parameter is a pointer to the target surface. Lastly, the example uses the DDOVER_HIDE flag in the fourth parameter to indicate that the overlay will be removed from view.</p>
<p>
After the example hides the overlay, the example releases its <a href="ddref_8053.htm"><b>IDirectDrawSurface3</b></a> interface and invalidates its global variable by setting it to NULL. For the purposes of the Mosquito sample application, the overlay surface is no longer needed. If you still need the overlay surface for later, you could simply hide the overlay without releasing it, then redisplay it whenever you require.</p>
<p>&nbsp;</p></body>
</HTML>
