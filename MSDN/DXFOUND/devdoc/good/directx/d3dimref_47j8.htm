<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>IDirect3DViewport2::TransformVertices</title>
<link disabled rel=stylesheet href=../../backsdk3.css>
<style type="text/css">
@import url(../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h1><a name="_dx5_idirect3dviewport2_transformvertices_d3d"></a>IDirect3DViewport2::TransformVertices</h1>
<p>
The <b>IDirect3DViewport2::TransformVertices</b> method transforms a set of vertices by the transformation matrix.</p>
<pre><code><b>HRESULT TransformVertices(
  DWORD</b><i> dwVertexCount</i><b>,        </b>
<b>  LPD3DTRANSFORMDATA</b><i> lpData</i><b>,  </b>
<b>  DWORD</b><i> dwFlags</i><b>,              </b>
<b>  LPDWORD</b><i> lpOffscreen         </i>
<b>);</b>
 </code></pre>
<h4>Parameters</h4>
<dl>
<dt>
<i>dwVertexCount</i></dt>
<dd>
Number of vertices in the <i>lpData</i> parameter to be transformed.</dd>
<dt>
<i>lpData</i></dt>
<dd>
Address of a <a href="d3dimref_5uas.htm"><b>D3DTRANSFORMDATA</b></a> structure that contains the vertices to be transformed.</dd>
<dt>
<i>dwFlags</i></dt>
<dd>
One of the following flags. See the comments section following the parameter description for a discussion of how to use these flags. 
<p>
D3DTRANSFORM_CLIPPED <br>
D3DTRANSFORM_UNCLIPPED 
</dd>
<dt>
<i>lpOffscreen</i></dt>
<dd>
Address of a variable that is set to a nonzero value if the resulting vertices are all off-screen.
</dd>
</dl>
<h4>Return Values</h4>
<p>
If the method succeeds, the return value is D3D_OK .</p>
<p>
If the method fails, the return value may be one of the following values: </p>
<p>
<a href="ddref_71rr.htm#_dx5_dderr_invalidobject_ddraw">DDERR_INVALIDOBJECT</a> <br>
<a href="ddref_71rr.htm#_dx5_dderr_invalidparams_ddraw">DDERR_INVALIDPARAMS</a> </p>
<h4>Remarks</h4>
<p>
If the <i>dwFlags</i> parameter is set to D3DTRANSFORM_CLIPPED, this method uses the current transformation matrix to transform a set of vertices, checking the resulting vertices to see if they are within the <a href="glossary_76pf.htm#_dx5_viewing_frustum_glos">viewing frustum</a>. The homogeneous part of the <a href="d3dimref_7wkk.htm"><b>D3DLVERTEX</b></a> structure within <i>lpData</i> will be set if the vertex is clipped; otherwise only the screen coordinates will be set. The clip intersection of all the vertices transformed is returned in <i>lpOffscreen</i>. That is, if <i>lpOffscreen</i> is nonzero, all the vertices were off-screen and not straddling the viewport. The <b>drExtent</b> member of the <a href="d3dimref_5uas.htm"><b>D3DTRANSFORMDATA</b></a> structure will also be set to the 2-D bounding rectangle of the resulting vertices.</p>
<p>
If the <i>dwFlags</i> parameter is set to D3DTRANSFORM_UNCLIPPED, this method uses the current transformation matrix to transform a set of vertices. In this case, the system assumes that all the resulting coordinates will be within the viewing frustum. The <b>drExtent</b> member of the <b>D3DTRANSFORMDATA</b> structure will be set to the bounding rectangle of the resulting vertices.</p>
<p>
The <b>dwClip</b> member of <b>D3DTRANSFORMDATA</b> can help the transformation module determine whether the geometry will need clipping against the viewing volume. Before transforming a geometry, high-level software often can test whether bounding boxes or bounding spheres are wholly within the viewing volume, allowing clipping tests to be skipped, or wholly outside the viewing volume, allowing the geometry to be skipped entirely.</p>
<p>
This method is unchanged from its implementation in the <b>IDirect3DViewport</b> interface.</p>
<h4>QuickInfo</h4>
<p>
<b>&nbsp;&nbsp;Windows NT: </b>Use version 5.0 or later.<br>
<b>&nbsp;&nbsp;Windows: </b>Use Windows 95 or later. Available as a redistributable for Windows 95.<br>
<b>&nbsp;&nbsp;Windows CE: </b>Unsupported.<br>
<b>&nbsp;&nbsp;Header: </b>Declared in d3d.h.<br>
<b>&nbsp;&nbsp;Import Library: </b>Use ddraw.lib.</p>
<p>&nbsp;</p></body>
</HTML>
