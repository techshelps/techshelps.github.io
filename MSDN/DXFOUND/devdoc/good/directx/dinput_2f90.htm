<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Step 1: Enumerating the Joysticks</title>
<link disabled rel=stylesheet href=../../backsdk3.css>
<style type="text/css">
@import url(../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h3><a name="_dx5_step_1_enumerating_the_joysticks_dinput"></a>Step 1: Enumerating the Joysticks</h3>
<p>
After creating the DirectInput system, call the <a href="dinput_41x0.htm"><b>IDirectInput::EnumDevices</b></a> method to enumerate the joysticks. The following code from Input.c in the Space Donuts source directory accomplishes this.</p>
<pre><code>//  LPDIRECTINPUT  pdi;  // previously initialized
 
pdi-&gt;lpVtbl-&gt;EnumDevices(pdi, DIDEVTYPE_JOYSTICK, 
                         InitJoystickInput, pdi, DIEDFL_ATTACHEDONLY); 
 </code></pre>
<p>
The method call is in the C form. Note that you could use the <b>IDirectInput_EnumDevices</b> macro to simplify the call. All DirectInput methods have corresponding macros defined in Dinput.h that expand to the appropriate C or C++ syntax.</p>
<p>
The DIDEVTYPE_JOYSTICK constant, passed as the second parameter, specifies the type of device to be enumerated.</p>
<p>
<i>InitJoystickInput</i> is the address of a callback function to be called each time a joystick is found; this is where the individual devices will be initialized in the following steps of the tutorial.</p>
<p>
The fourth parameter can be any 32-bit value that you want to make available to the callback function. In this case it's a pointer to the DirectInput interface, which the callback function needs to know so it can call <a href="dinput_4jw4.htm"><b>IDirectInput::CreateDevice</b></a>.</p>
<p>
The last parameter, DIEDFL_ATTACHEDONLY, is a flag that restricts enumeration to devices that are <a href="glossary_2wc3.htm#_dx5_attached_glos">attached</a> to the computer.</p>
<p>&nbsp;</p></body>
</HTML>
