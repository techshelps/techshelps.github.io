<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Effect Playback</title>
<link disabled rel=stylesheet href=../../backsdk3.css>
<style type="text/css">
@import url(../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h3><a name="_dx5_effect_playback_dinput"></a>Effect Playback</h3>
<p>
There are two principal ways to start playback of an effect: manually by a call to the <a href="dinput_0t6c.htm"><b>IDirectInputEffect::Start</b></a> method, and automatically in response to a button press. Playback also starts when you change an effect by calling the <a href="dinput_4ptg.htm"><b>IDirectInputEffect::SetParameters</b></a> method with the DIEP_START flag.</p>
<p>
Passing INFINITE in the <i>dwIterations</i> parameter has the effect of playing the effect repeatedly, with the <a href="glossary_8yb7.htm#_dx5_envelope_glos">envelope</a> being applied each time. If you want to repeat an effect without repeating the envelope — for example, to begin with a strong kick, then settle down to a steady throb — set <i>dwIterations</i> to 1 and set the <b>dwDuration</b> member of the <a href="dinput_6l2s.htm"><b>DIEFFECT</b></a> structure to INFINITE. (This is the structure passed to the <a href="dinput_92d0.htm"><b>IDirectInputDevice2::CreateEffect</b></a> method.)</p>
<p>
<b>Note</b>&nbsp;&nbsp;Some devices do not support multiple iterations of an effect and accept only the value 1 in the <i>dwIterations</i> parameter to the <b>Start</b> method. You should always check the return value from <b>Start</b> to make sure the effect played successfully.</p>
<p>
To associate an effect with a button press, you set the <b>dwTriggerButton</b> member of the <b>DIEFFECT</b> structure. You also set the <b>dwTriggerRepeatInterval </b>member to the desired delay between playbacks when the button is held down; this is the interval, in microseconds, between the end of one playback and the start of the next. On some devices, multiple effects cannot be triggered by the same button; if you associate more than one effect with a button; the last effect downloaded will be the one triggered. </p>
<p>
To dissociate an effect from its trigger button, you must either call the <a href="dinput_7ltg.htm"><b>IDirectInputEffect::Unload</b></a> method or set the parameters for the effect with <b>dwTriggerButton</b> set to DIEB_NOTRIGGER.</p>
<p>
Triggered effects, like all others, are lost when the application loses access to the device. In order to make them active again, you must download them as soon as the application reacquires the device. This step is not necessary for effects not associated with a trigger, because they are automatically downloaded if necessary whenever the <b>Start</b> method is called.</p>
<p>
If an effect has a finite duration and is started by a call to the <b>Start</b> method, it will stop playing when the time has elapsed. If its duration was set to INFINITE, playback ends only when the <a href="dinput_4apg.htm"><b>IDirectInputEffect::Stop</b></a> method is called. An effect associated with a trigger button starts when the button is pressed and stops when the button is released or the duration has elapsed, whichever comes sooner.</p>
<p>&nbsp;</p></body>
</HTML>
