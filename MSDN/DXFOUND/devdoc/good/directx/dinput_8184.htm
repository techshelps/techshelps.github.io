<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>IDirectInputEffect::GetParameters</title>
<link disabled rel=stylesheet href=../../backsdk3.css>
<style type="text/css">
@import url(../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h1><a name="_dx5_idirectinputeffect_getparameters_dinput"></a>IDirectInputEffect::GetParameters</h1>
<p>
The <b>IDirectInputEffect::GetParameters</b> method retrieves information about an effect.</p>
<pre><code><b>HRESULT GetParameters(
  LPDIEFFECT</b><i> peff</i><b>,  </b>
<b>  DWORD</b><i> dwFlags     </i>
<b>);</b>
 </code></pre>
<h4>Parameters</h4>
<dl>
<dt>
<i>peff</i></dt>
<dd>
Address of a <a href="dinput_6l2s.htm"><b>DIEFFECT</b></a> structure that receives effect information. The <b>dwSize</b> member must be filled in by the application before calling this function.</dd>
<dt>
<i>dwFlags</i></dt>
<dd>
Flags specifying which portions of the effect information is to be retrieved. The value may be zero, or one or more of the following constants:
<table cellspacing=4 cols=2>
<tr valign=top>
<td colspan=2 width=100%>DIEP_ALLPARAMS</td>
</tr>
<tr valign=top>
<td width=11%></td>
<td width=89%>The union of all other <b>DIEP_*</b> flags, indicating that all members of the <a href="dinput_6l2s.htm"><b>DIEFFECT</b></a> structure are being requested.</td>
</tr>
<tr valign=top>
<td colspan=2 width=100%>DIEP_AXES</td>
</tr>
<tr valign=top>
<td width=11%></td>
<td width=89%>The <b>cAxes</b> and <b>rgdwAxes</b> members should receive data. The <b>cAxes</b> member on entry contains the sizes (in <b>DWORD</b>s) of the buffer pointed to by the <b>rgdwAxes</b> member. If the buffer is too small, then the method returns DIERR_MOREDATA and sets <b>cAxes</b> to the necessary size of the buffer.</td>
</tr>
<tr valign=top>
<td colspan=2 width=100%>DIEP_DIRECTION</td>
</tr>
<tr valign=top>
<td width=11%></td>
<td width=89%>The <b>cAxes</b> and <b>rglDirection</b> members should receive data. The <b>cAxes</b> member on entry contains the size (in <b>DWORD</b>s) of the buffer pointed to by the <b>rglDirection</b> member. If the buffer is too small, then the <b>GetParameters</b> method returns DIERR_MOREDATA and sets <b>cAxes</b> to the necessary size of the buffer.<p>
The <b>dwFlags</b> member must include at least one of the coordinate system flags (DIEFF_CARTESIAN, DIEFF_POLAR, or DIEFF_SPHERICAL).  DirectInput will return the direction of the effect in one of the coordinate systems you specified, converting between coordinate systems as necessary. On exit, exactly one of the coordinate system flags will be set in the <b>dwFlags</b> member, indicating which coordinate system DirectInput used. In particular, passing all three coordinate system flags will retrieve the coordinates in exactly the same format in which they were set.</p>
</td>
</tr>
<tr valign=top>
<td colspan=2 width=100%>DIEP_DURATION</td>
</tr>
<tr valign=top>
<td width=11%></td>
<td width=89%>The <b>dwDuration</b> member should receive data.</td>
</tr>
<tr valign=top>
<td colspan=2 width=100%>DIEP_ENVELOPE</td>
</tr>
<tr valign=top>
<td width=11%></td>
<td width=89%>The <b>lpEnvelope</b> member points to a <a href="dinput_3bn8.htm"><b>DIENVELOPE</b></a> structure that should receive data. If the effect does not have an envelope associated with it, then the <b>lpEnvelope</b> member will be set to NULL.</td>
</tr>
<tr valign=top>
<td colspan=2 width=100%>DIEP_GAIN</td>
</tr>
<tr valign=top>
<td width=11%></td>
<td width=89%>The <b>dwGain</b> member should receive data.</td>
</tr>
<tr valign=top>
<td colspan=2 width=100%>DIEP_SAMPLEPERIOD</td>
</tr>
<tr valign=top>
<td width=11%></td>
<td width=89%>The <b>dwSamplePeriod</b> member should receive data.</td>
</tr>
<tr valign=top>
<td colspan=2 width=100%>DIEP_TRIGGERBUTTON</td>
</tr>
<tr valign=top>
<td width=11%></td>
<td width=89%>The <b>dwTriggerButton</b> member should receive data.</td>
</tr>
<tr valign=top>
<td colspan=2 width=100%>DIEP_TRIGGERREPEATINTERVAL</td>
</tr>
<tr valign=top>
<td width=11%></td>
<td width=89%>The <b>dwTriggerRepeatInterval </b>member should receive data.</td>
</tr>
<tr valign=top>
<td colspan=2 width=100%>DIEP_TYPESPECIFICPARAMS</td>
</tr>
<tr valign=top>
<td width=11%></td>
<td width=89%>The <b>lpvTypeSpecificParams</b> member points to a buffer whose size is specified by the <b>cbTypeSpecificParams</b> member. On return, the buffer will be filled in with the type-specific data associated with the effect, and the <b>cbTypeSpecificParams</b> member will contain the number of bytes copied. If the buffer supplied by the application is too small to contain all the type-specific data, then the method returns DIERR_MOREDATA, and the <b>cbTypeSpecificParams</b> member will contain the required size of the buffer in bytes.</td>
</tr>
</table><br>

</dd>
</dl>
<h4>Return Values</h4>
<p>
If the method succeeds, the return value is DI_OK.</p>
<p>
If the method fails, the return value may be one of the following error values:</p>
<table cellspacing=4 cols=1>
<tr valign=top>
<td width=100%><a href="dinput_7yk4.htm#_dx5_dierr_invalidparam_dinput">DIERR_INVALIDPARAM</a></td>
</tr>
<tr valign=top>
<td width=100%><a href="dinput_7yk4.htm#_dx5_dierr_moredata_dinput">DIERR_MOREDATA</a></td>
</tr>
<tr valign=top>
<td width=100%><a href="dinput_7yk4.htm#_dx5_dierr_notinitialized_dinput">DIERR_NOTINITIALIZED</a> </td>
</tr>
</table><br>
<h4>Remarks</h4>
<p>
Common errors resulting in a <b>DIERR_INVALIDPARAM</b> error include not setting the <b>dwSize</b> member of the <a href="dinput_6l2s.htm"><b>DIEFFECT</b></a> structure, passing invalid flags, or not setting up the members in the <b>DIEFFECT</b> structure properly in preparation for receiving the effect information. For example, if information is to be retrieved in the <b>dwTriggerButton</b> member, the <b>dwFlags</b> member must be set to either DIEFF_OBJECTIDS or DIEFF_OBJECTOFFSETS, so that DirectInput knows how to describe the button. </p>
<h4>QuickInfo</h4>
<p>
<b>&nbsp;&nbsp;Windows NT: </b>Use version 5.0 or later.<br>
<b>&nbsp;&nbsp;Windows: </b>Use Windows 95 or later. Available as a redistributable for Windows 95.<br>
<b>&nbsp;&nbsp;Windows CE: </b>Unsupported.<br>
<b>&nbsp;&nbsp;Header: </b>Declared in dinput.h.<br>
<b>&nbsp;&nbsp;Import Library: </b>Use dinput.lib.</p>
<p>&nbsp;</p></body>
</HTML>
