<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>IDirectDrawSurface3::UpdateOverlay</title>
<link disabled rel=stylesheet href=../../backsdk3.css>
<style type="text/css">
@import url(../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h1><a name="_dx5_idirectdrawsurface3_updateoverlay_ddraw"></a>IDirectDrawSurface3::UpdateOverlay</h1>
<p>
The <b>IDirectDrawSurface3::UpdateOverlay</b> method repositions or modifies the visual attributes of an <a href="glossary_938z.htm#_dx5_overlay_surface_glos">overlay surface</a>. These surfaces must have the DDSCAPS_OVERLAY value set.</p>
<pre><code><b>HRESULT UpdateOverlay(
  LPRECT</b><i> lpSrcRect</i><b>,                      </b>
<b>  LPDIRECTDRAWSURFACE3</b><i> lpDDDestSurface</i><b>,  </b>
<b>  LPRECT</b><i> lpDestRect</i><b>,                     </b>
<b>  DWORD</b><i> dwFlags</i><b>,                         </b>
<b>  LPDDOVERLAYFX</b><i> lpDDOverlayFx            </i>
<b>);</b>
 </code></pre>
<h4>Parameters</h4>
<dl>
<dt>
<i>lpSrcRect</i></dt>
<dd>
Address of a <b>RECT</b> structure that defines the x, y, width, and height of the region on the source surface being used as the overlay. This parameter can be NULL when hiding an overlay or to indicate that the entire overlay surface is to be used and that the overlay surface conforms to any boundary and size alignment restrictions imposed by the device driver.</dd>
<dt>
<i>lpDDDestSurface</i></dt>
<dd>
Address of the DirectDraw surface that is being overlaid.</dd>
<dt>
<i>lpDestRect</i></dt>
<dd>
Address of a <b>RECT</b> structure that defines the x, y, width, and height of the region on the destination surface that the overlay should be moved to. This parameter can be NULL when hiding the overlay.</dd>
<dt>
<i>dwFlags</i> </dt>
<dd>

<table cellspacing=4 cols=2>
<tr valign=top>
<td colspan=2 width=100%>DDOVER_ADDDIRTYRECT</td>
</tr>
<tr valign=top>
<td width=15%></td>
<td width=85%>Adds a dirty rectangle to an emulated overlaid surface.</td>
</tr>
<tr valign=top>
<td colspan=2 width=100%>DDOVER_ALPHADEST</td>
</tr>
<tr valign=top>
<td width=15%> </td>
<td width=85%>Uses either the alpha information in pixel format or the <a href="glossary_2wc3.htm#_dx5_alpha_channel_glos">alpha channel</a> surface attached to the destination surface as the <a href="glossary_2wc3.htm#_dx5_alpha_channel_glos">alpha channel</a> for this overlay. </td>
</tr>
<tr valign=top>
<td colspan=2 width=100%>DDOVER_ALPHADESTCONSTOVERRIDE</td>
</tr>
<tr valign=top>
<td width=15%></td>
<td width=85%>Uses the <b>dwAlphaDestConst</b> member of the <a href="ddref_31h3.htm"><b>DDOVERLAYFX</b></a> structure as the destination <a href="glossary_2wc3.htm#_dx5_alpha_channel_glos">alpha channel</a> for this overlay. </td>
</tr>
<tr valign=top>
<td colspan=2 width=100%>DDOVER_ALPHADESTNEG</td>
</tr>
<tr valign=top>
<td width=15%></td>
<td width=85%>Indicates that the destination surface becomes more transparent as the alpha value increases (0 is opaque). </td>
</tr>
<tr valign=top>
<td colspan=2 width=100%>DDOVER_ALPHADESTSURFACEOVERRIDE</td>
</tr>
<tr valign=top>
<td width=15%></td>
<td width=85%>Uses the <b>lpDDSAlphaDest</b> member of the <a href="ddref_31h3.htm"><b>DDOVERLAYFX</b></a> structure as the <a href="glossary_2wc3.htm#_dx5_alpha_channel_glos">alpha channel</a> destination for this overlay. </td>
</tr>
<tr valign=top>
<td colspan=2 width=100%>DDOVER_ALPHAEDGEBLEND</td>
</tr>
<tr valign=top>
<td width=15%></td>
<td width=85%>Uses the <b>dwAlphaEdgeBlend</b> member of the <a href="ddref_31h3.htm"><b>DDOVERLAYFX</b></a> structure as the <a href="glossary_2wc3.htm#_dx5_alpha_channel_glos">alpha channel</a> for the edges of the image that border the <a href="glossary_0xbn.htm#_dx5_color_key_glos">color key</a> colors. </td>
</tr>
<tr valign=top>
<td colspan=2 width=100%>DDOVER_ALPHASRC </td>
</tr>
<tr valign=top>
<td width=15%></td>
<td width=85%>Uses either the alpha information in pixel format or the <a href="glossary_2wc3.htm#_dx5_alpha_channel_glos">alpha channel</a> surface attached to the source surface as the source <a href="glossary_2wc3.htm#_dx5_alpha_channel_glos">alpha channel</a> for this overlay. </td>
</tr>
<tr valign=top>
<td colspan=2 width=100%>DDOVER_ALPHASRCCONSTOVERRIDE </td>
</tr>
<tr valign=top>
<td width=15%></td>
<td width=85%>Uses the <b>dwAlphaSrcConst</b> member of the <a href="ddref_31h3.htm"><b>DDOVERLAYFX</b></a> structure as the source <a href="glossary_2wc3.htm#_dx5_alpha_channel_glos">alpha channel</a> for this overlay. </td>
</tr>
<tr valign=top>
<td colspan=2 width=100%>DDOVER_ALPHASRCNEG</td>
</tr>
<tr valign=top>
<td width=15%></td>
<td width=85%>Indicates that the source surface becomes more transparent as the alpha value increases (0 is opaque). </td>
</tr>
<tr valign=top>
<td colspan=2 width=100%>DDOVER_ALPHASRCSURFACEOVERRIDE</td>
</tr>
<tr valign=top>
<td width=15%></td>
<td width=85%>Uses the <b>lpDDSAlphaSrc</b> member of the <a href="ddref_31h3.htm"><b>DDOVERLAYFX</b></a> structure as the <a href="glossary_2wc3.htm#_dx5_alpha_channel_glos">alpha channel</a> source for this overlay.</td>
</tr>
<tr valign=top>
<td colspan=2 width=100%>DDOVER_AUTOFLIP</td>
</tr>
<tr valign=top>
<td width=15%></td>
<td width=85%>Automatically flip to the next surface in the flip chain each time a video port VSYNC occurs.</td>
</tr>
<tr valign=top>
<td colspan=2 width=100%>DDOVER_BOB</td>
</tr>
<tr valign=top>
<td width=15%></td>
<td width=85%>Display each <a href="glossary_2ysz.htm#_dx5_field_glos">field</a> individually of the interlaced video stream without causing any artifacts.</td>
</tr>
<tr valign=top>
<td colspan=2 width=100%>DDOVER_BOBHARDWARE</td>
</tr>
<tr valign=top>
<td width=15%></td>
<td width=85%>Indicates that bob operations will be performed using hardware rather than software or emulated. This flag must be used with the DDOVER_BOB flag.</td>
</tr>
<tr valign=top>
<td colspan=2 width=100%>DDOVER_DDFX</td>
</tr>
<tr valign=top>
<td width=15%></td>
<td width=85%>Uses the overlay FX flags in the <i>lpDDOverlayFx</i> parameter to define special overlay effects. </td>
</tr>
<tr valign=top>
<td colspan=2 width=100%>DDOVER_HIDE </td>
</tr>
<tr valign=top>
<td width=15%></td>
<td width=85%>Turns this overlay off. </td>
</tr>
<tr valign=top>
<td colspan=2 width=100%>DDOVER_KEYDEST</td>
</tr>
<tr valign=top>
<td width=15%></td>
<td width=85%>Uses the <a href="glossary_0xbn.htm#_dx5_color_key_glos">color key</a> associated with the destination surface. </td>
</tr>
<tr valign=top>
<td colspan=2 width=100%>DDOVER_KEYDESTOVERRIDE</td>
</tr>
<tr valign=top>
<td width=15%></td>
<td width=85%>Uses the <b>dckDestColorkey</b> member of the <a href="ddref_31h3.htm"><b>DDOVERLAYFX</b></a> structure as the <a href="glossary_0xbn.htm#_dx5_color_key_glos">color key</a> for the destination surface. </td>
</tr>
<tr valign=top>
<td colspan=2 width=100%>DDOVER_KEYSRC </td>
</tr>
<tr valign=top>
<td width=15%></td>
<td width=85%>Uses the <a href="glossary_0xbn.htm#_dx5_color_key_glos">color key</a> associated with the source surface. </td>
</tr>
<tr valign=top>
<td colspan=2 width=100%>DDOVER_KEYSRCOVERRIDE</td>
</tr>
<tr valign=top>
<td width=15%></td>
<td width=85%>Uses the <b>dckSrcColorkey</b> member of the <a href="ddref_31h3.htm"><b>DDOVERLAYFX</b></a> structure as the <a href="glossary_0xbn.htm#_dx5_color_key_glos">color key</a> for the source surface.</td>
</tr>
<tr valign=top>
<td colspan=2 width=100%>DDOVER_OVERRIDEBOBWEAVE </td>
</tr>
<tr valign=top>
<td width=15%></td>
<td width=85%>Indicates that bob/weave decisions should not be overridden by other interfaces.</td>
</tr>
<tr valign=top>
<td colspan=2 width=100%>DDOVER_INTERLEAVED</td>
</tr>
<tr valign=top>
<td width=15%></td>
<td width=85%>Indicates that the surface memory is composed of interleaved fields.</td>
</tr>
<tr valign=top>
<td colspan=2 width=100%>DDOVER_SHOW</td>
</tr>
<tr valign=top>
<td width=15%></td>
<td width=85%>Turns this overlay on. </td>
</tr>
</table><br>

</dd>
<dt>
<i>lpDDOverlayFx</i></dt>
<dd>
Address of a <a href="ddref_31h3.htm"><b>DDOVERLAYFX</b></a> structure that describes the effects to be used. This parameter can be NULL if the DDOVER_DDFX flag is not specified.
</dd>
</dl>
<h4>Return Values</h4>
<p>
If the method succeeds, the return value is DD_OK.</p>
<p>
If the method fails, the return value may be one of the following error values: </p>
<table cellspacing=4 cols=1>
<tr valign=top>
<td width=100%><a href="ddref_71rr.htm#_dx5_dderr_devicedoesntownsurface_ddraw">DDERR_DEVICEDOESNTOWNSURFACE</a></td>
</tr>
<tr valign=top>
<td width=100%><a href="ddref_71rr.htm#_dx5_dderr_generic_ddraw">DDERR_GENERIC</a> </td>
</tr>
<tr valign=top>
<td width=100%><a href="ddref_71rr.htm#_dx5_dderr_heightalign_ddraw">DDERR_HEIGHTALIGN</a> </td>
</tr>
<tr valign=top>
<td width=100%><a href="ddref_71rr.htm#_dx5_dderr_invalidobject_ddraw">DDERR_INVALIDOBJECT</a> </td>
</tr>
<tr valign=top>
<td width=100%><a href="ddref_71rr.htm#_dx5_dderr_invalidparams_ddraw">DDERR_INVALIDPARAMS</a> </td>
</tr>
<tr valign=top>
<td width=100%><a href="ddref_71rr.htm#_dx5_dderr_invalidrect_ddraw">DDERR_INVALIDRECT</a> </td>
</tr>
<tr valign=top>
<td width=100%><a href="ddref_71rr.htm#_dx5_dderr_invalidsurfacetype_ddraw">DDERR_INVALIDSURFACETYPE</a> </td>
</tr>
<tr valign=top>
<td width=100%><a href="ddref_71rr.htm#_dx5_dderr_nostretchhw_ddraw">DDERR_NOSTRETCHHW</a> </td>
</tr>
<tr valign=top>
<td width=100%><a href="ddref_71rr.htm#_dx5_dderr_notaoverlaysurface_ddraw">DDERR_NOTAOVERLAYSURFACE</a> </td>
</tr>
<tr valign=top>
<td width=100%><a href="ddref_71rr.htm#_dx5_dderr_outofcaps_ddraw">DDERR_OUTOFCAPS</a></td>
</tr>
<tr valign=top>
<td width=100%><a href="ddref_71rr.htm#_dx5_dderr_surfacelost_ddraw">DDERR_SURFACELOST</a> </td>
</tr>
<tr valign=top>
<td width=100%><a href="ddref_71rr.htm#_dx5_dderr_unsupported_ddraw">DDERR_UNSUPPORTED</a> </td>
</tr>
<tr valign=top>
<td width=100%><a href="ddref_71rr.htm#_dx5_dderr_xalign_ddraw">DDERR_XALIGN</a> </td>
</tr>
</table><br>
<h4>QuickInfo</h4>
<p>
<b>&nbsp;&nbsp;Windows NT: </b>Use version 5.0 or later.<br>
<b>&nbsp;&nbsp;Windows: </b>Use Windows 95 or later. Available as a redistributable for Windows 95.<br>
<b>&nbsp;&nbsp;Windows CE: </b>Unsupported.<br>
<b>&nbsp;&nbsp;Header: </b>Declared in ddraw.h.<br>
<b>&nbsp;&nbsp;Import Library: </b>Use ddraw.lib.</p>
<p>&nbsp;</p></body>
</HTML>
