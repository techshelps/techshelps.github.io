<HTML><head><style>@import url(msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="msdn_ie3.css"></HEAD>

<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Core Components</TITLE><BODY BGCOLOR="#FFFFFF">


<H3 CLASS="h2">Core Components</H3><P CLASS="t">The following Microsoft Exchange Server core components are installed during Setup and must be running on the server at all times:</P>
<UL><LI>Directory</LI><LI>Information store </LI><LI>MTA</LI><LI>System attendant</LI></UL><P CLASS="t">The following illustration shows how the core components interact. The directory, information store, and MTA process requests from the client and each other. The system attendant maintains server operation and performs key functions, such as generating e-mail addresses for new recipients.</P>
<p>&nbsp;&nbsp;&nbsp;&nbsp;<img src="xerk_a01.gif"></P>
<P></P>
<P CLASS="t">The core components perform tasks similar to those of your local post office. When you use Microsoft Exchange Server to send a message, the message is first delivered to a central postoffice called the information store. The information store then determines where the message should be delivered by looking in the directory, which is like an address book. Then, the mail carrier or MTA delivers the message. The system attendant is a background process that makes sure the system runs smoothly and mail is routed correctly.</P>
<H4 CLASS="h3"><A NAME="sec0"></A>Directory</H4><P CLASS="t">The directory stores all the information about a Microsoft Exchange Server organization, such as addresses, mailboxes, distribution lists, public folders, and configuration information about sites and servers. It provides a single, central location where users and applications can look up and configure information about any object. The directory also generates the Address Book, which users can use to address messages or look up information about other users. The Address Book contains all the recipients in the organization and is organized into lists, such as the global address list and the personal address book (PAB).</P>
<P CLASS="t">All information about an organization is stored as configurable elements or objects in a database. Each object in an organization is represented in a hierarchical tree structure and has a set of attributes or properties. You can customize your organization by changing the properties on directory objects in the Administrator program. For example, you can set message storage limits on mailboxes by setting properties on the information store object for a server. You can also specify who has permission to make changes to directory objects. For information about how to change properties on objects in the Administrator program, see the <I>Microsoft Exchange Server Administrator's Guide</I>.</P>
<P CLASS="t">The directory makes the following tasks possible:</P>
<UL><LI>Users can access the directory to find information about Microsoft Exchange Server users, custom recipients, and other recipients of electronic mail, such as distribution lists and public folders.</LI><LI>Administrators can centrally manage all objects in a site by using the Administrator program or a custom application that calls the Microsoft Exchange Server directory functions.</LI><LI>Developers of third-party applications can write custom applications and add-on services that can store configuration information and make it available through an extension to the Administrator program as a custom property page.</LI><LI>Microsoft Exchange Server services, such as the information store, use the directory to look up information that is needed to provide a specific service. For example, the system attendant looks up connector configuration information to build the routing table. The MTA also looks up a user's address in the directory and uses it with the routing table to route a message.</LI></UL><P CLASS="t">The directory is automatically replicated between servers in a site to ensure that all servers have the same information. Between sites, the directory is replicated by directory bridgehead servers according to a schedule you set in the Administrator program. Each site has one or more directory bridgehead servers that are responsible for keeping the site's directory synchronized with the directory in other sites.</P>
<P CLASS="t">Keeping the directory up-to-date is important. If directory information is out of date, messages may not reach their destination. For example, if a new mailbox is added to a server, servers in another site won't know the new mailbox exists until the directory is replicated to the other site. Also, users can't send messages to the new mailbox until the directory on the mailbox's home server has been replicated. For more information about directory replication, see the <I>Microsoft Exchange Server Administrator's Guide</I>.</P>
<H5 CLASS="h4"><A NAME="sec1"></A>How the Directory Works</H5><P CLASS="t">The directory uses a memory cache to minimize the time required to process requests and a transaction log buffer to minimize wait time while read and write requests are logged. The directory's memory cache increases performance by maintaining the most recently requested information in memory, rather than reading from the disk for every request.</P>
<P CLASS="t">When an address is created or modified, the directory logs the transaction in the transaction log file. The log is written sequentially to increase performance. If the server fails before changes are written to the database, the directory uses this log to restore the changes. The following illustration shows how the directory uses the cache, directory database, and transaction logs.</P>
<p>&nbsp;&nbsp;&nbsp;&nbsp;<img src="xerk_a02.gif"></P>
<P></P>
<P CLASS="t">When the directory receives an address request, it:</P>
<UL><LI>Checks to see whether the address is already in memory (the buffer).</LI><LI>Accesses the directory database for the address, if the address is not already in memory.</LI><LI>Returns the requested address or a "not found" message to the requesting information service.</LI></UL><P CLASS="t">When the directory receives an address change, it:</P>
<UL><LI>Logs the change in the directory transaction log.</LI><LI>Writes the change to the memory buffer.</LI><LI>Returns a confirmation to the user who requested the change.</LI><LI>Writes the change to the directory database.</LI></UL><P CLASS="t">The directory can be accessed by users, administrators, and applications.</P>
<H5 CLASS="h4"><A NAME="sec2"></A>Users</H5><P CLASS="t">Users can access the directory by using mailboxes, distribution lists, custom recipients, and public folders, all of which are addressable objects.</P>
<P><B>Administrators</B>    Administrators can access the directory through the Administrator program to:</P>
<UL><LI>Create or delete most types of individual directory objects.</LI><LI>Modify the attribute values of directory objects.</LI><LI>Perform certain import/export operations.</LI></UL><P CLASS="t">In most cases, you can perform these tasks on one object at a time. After a directory object has been created, you can edit its attributes in the following ways.</P>
<UL><LI>Using property pages, which display the most commonly accessed attributes.</LI><LI>Using raw mode, which displays all of the available attributes for that object.</LI></UL><P><B>Applications</B>    The directory can be accessed by other applications running on Windows NT Server and custom applications developed for Microsoft Exchange Server. They access the directory to:</P>
<UL><LI>Manipulate a large number of directory objects; for example, during administration of custom add-on services.</LI><LI>Synchronize the Microsoft Exchange Server directory with directories of foreign systems.</LI><LI>Automatically update Windows NT user accounts when their associated directory objects (such as mailboxes) are updated.</LI><LI>Look up routing tables, which are stored in the directory.</LI></UL><H4 CLASS="h3"><A NAME="sec3"></A>Information Store</H4><P CLASS="t">The Microsoft Exchange Server information store maintains and accesses the message database for Microsoft Exchange Client users on the local server. The information store is visible as users' Inboxes and folders. It can store all types of information, including word processing documents, spreadsheets, and messages.</P>
<P CLASS="t">The information store has the following subcomponents:</P>
<UL><LI>A private information store that contains user mailboxes.</LI><LI>A public information store that contains public folders.</LI></UL><P CLASS="t">A server can have both a private information store and a public information store, or it can be dedicated to providing specific services, such as mailboxes or public folders. You can make a server a dedicated mailbox server by installing only the private information store, or you can make it a dedicated public folder server by installing only the public information store. You can significantly improve performance for users accessing the information store by dedicating a server to one of these functions.</P>
<H5 CLASS="h4"><A NAME="sec4"></A>How the Information Store Works</H5><P CLASS="t">The information store's memory cache provides increased performance by maintaining the most recently requested messages in memory, rather than reading from the hard disk for every request. This buffer allows a message that has been read or modified recently to be accessed quickly by subsequent requests. It also allows the information store to hold changes to the database in memory during busy periods and write to the database during slow periods.</P>
<P CLASS="t">When a message is created, modified, or deleted, the information store records the transaction in a log file. The log is written sequentially to increase performance. If the server fails before changes are written to the database, the information store uses this log to restore those changes.</P>
<P CLASS="t">The following illustration shows how the information store uses the cache, database, and logs.</P>
<p>&nbsp;&nbsp;&nbsp;&nbsp;<img src="xerk_a03.gif"></P>
<P></P>
<P CLASS="t">The information store maintains information in the public and private information databases. It uses single-instance storage of messages so a message sent to many recipients is stored only once on the server. This conserves disk space because the information store doesn't need to store a copy for every message recipient.</P>
<P CLASS="t">When the information store receives a request to access a message, it:</P>
<UL><LI>Determines whether the message is already in memory (the buffer).</LI><LI>Accesses the message database for the message, if the message is not already in memory.</LI><LI>Returns the requested message or a "not found" message to the requesting information service.</LI></UL><P CLASS="t">When the information store receives a message from a user on the local server to send, it:</P>
<UL><LI>Resolves individual addresses.</LI><LI>Logs the message received in the information store log.</LI><LI>Queries the MTA and directory to expand distribution lists, if a message is addressed to users on the same server.</LI><LI>Writes the message to the user's Inbox and notifies the Microsoft Exchange Client.</LI><LI>Applies rules the recipient has set as the message is delivered to the user's Inbox.</LI><LI>Forwards the message to the MTA for routing, if a recipient is on another server.</LI></UL><P CLASS="t">The information store can be accessed by users, administrators, and applications.</P>
<H5 CLASS="h4"><A NAME="sec5"></A>Users</H5><P CLASS="t">Users can access information store objects, such as messages, and private and public folders.</P>
<H5 CLASS="h4"><A NAME="sec6"></A>Administrators</H5><P CLASS="t">Administrators can access the information store through the Administrator program to:</P>
<UL><LI>Create or delete mailboxes.</LI><LI>Modify the attribute values of information store objects.</LI><LI>Create and modify permissions on public and private folders.</LI></UL><P CLASS="t"><B>Applications</B>    The information store accesses and is accessed by other applications running on Windows NT Server. The information store accesses the directory and MTA as follows:</P>
<UL><LI>Requests address information from the directory to resolve addresses or expand distribution lists.</LI><LI>Retrieves messages requested by users.</LI><LI>Forwards messages received for other Microsoft Exchange Servers to the MTA for routing. </LI><LI>Forwards messages for foreign gateways through the appropriate connector for delivery. </LI></UL><H4 CLASS="h3"><A NAME="sec7"></A>MTA </H4><P CLASS="t">The MTA routes messages between Microsoft Exchange Servers in a site and to MTAs in other sites. It also expands distribution lists. The MTA uses a memory cache and message tracking log for performance and reliability. The following illustration shows the MTA architecture.</P>
<p>&nbsp;&nbsp;&nbsp;&nbsp;<img src="xerk_a04.gif"></P>
<P></P>
<P CLASS="t">When the MTA receives a message, it:</P>
<UL><LI>Secures the message in the message transfer database and queues the message until it can be sent.</LI><LI>Queries the directory to determine where the message should be routed.</LI><LI>Routes the message to the MTAs of the recipients' servers or to the information store for delivery through a connector.</LI><LI>Deletes the message after it is routed.</LI></UL><P CLASS="t">The MTA uses two types of X.400 interfaces when routing messages:</P>
<UL><LI>The MA Interface is used between X.400 clients and X.400 MTAs. The MTA uses this interface to communicate with the other Microsoft Exchange Server components.</LI><LI>The MT Interface is used between X.400 MTAs. The MTA uses this interface to communicate with other Microsoft Exchange Server MTAs and X.400 compatible MTAs.</LI></UL><P CLASS="t">The MTA can be accessed by administrators and applications.</P>
<H5 CLASS="h4"><A NAME="sec8"></A>Administrators</H5><P CLASS="t">Administrators can access the MTA through the Administrator program to:</P>
<UL><LI>Set the MTA name or password.</LI><LI>Set limits on message size.</LI><LI>Recalculate the routing tables.</LI><LI>Expand distribution lists locally.</LI></UL><P CLASS="t"><B>Applications</B>    The MTA accesses and is accessed by other applications running on Windows NT Server. The MTA accesses the directory, information store, and system attendant as follows:</P>
<UL><LI>Requests address information from the directory when it needs to resolve addresses or expand distribution lists.</LI><LI>Sends log entries to the system attendant for message tracking.</LI><LI>Delivers messages received from remote MTAs to the local information store.</LI><LI>Routes messages from the local information store to remote MTAs.</LI></UL><H4 CLASS="h3"><A NAME="sec9"></A>System Attendant</H4><P CLASS="t">The system attendant is a general maintenance service. It rebuilds the routing tables, manages the server and link monitors, and sets up advanced security for Microsoft Exchange Client users.</P>
<P CLASS="t">The system attendant can be accessed by administrators and applications.</P>
<H5 CLASS="h4"><A NAME="sec10"></A>Administrators</H5><P CLASS="t">Administrators can access the system attendant through the Administrator program to set time limits for keeping message tracking logs.</P>
<P CLASS="t"><B>Applications</B>    The system attendant accesses and is accessed by other applications running on Windows NT Server. The system attendant accesses the directory, MTA, and key management component as follows:</P>
<UL><LI>Requests address information from the directory when it needs to resolve addresses or expand distribution lists.</LI><LI>Builds routing tables for the MTA.</LI><LI>Generates e-mail directory addresses for new recipients.</LI><LI>Checks the consistency of directory replication.</LI><LI>Stores and manages digital signatures and encryption information for a mailbox during configuration of advanced security.</LI><LI>Sends and receives mail for the link monitor.</LI></UL><UL><LI>Initiates and maintains link and server monitors.</LI></UL></BODY></HTML>
