<HTML><head><style>@import url(msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="msdn_ie3.css"></HEAD>

<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Backfilling</TITLE><BODY BGCOLOR="#FFFFFF">


<H3 CLASS="h2">Backfilling</H3><P CLASS="t">Although the Microsoft Exchange Server MTA guarantees a high degree of reliability (particularly in a homogenous environment), it cannot guarantee that replication messages or confirmation notifications will not be lost due to hardware failure or other problems. This is particularly true where public folder replicas are configured to reside in different sites and a foreign system is used for MTA connectivity between the sites. For this reason, information stores must be able to cope with lost replication messages. It does so through<I> backfilling</I>.</P>
<P CLASS="t">Backfilling is the process of acquiring information that was lost from an information store due to one of the following circumstances:</P>
<UL><LI>A new replica was added to a server and does not have any information replicated to it.</LI><LI>A message was lost in transit.</LI><LI>A server was restored from backup.</LI></UL><P CLASS="t">A server needs to be backfilled when it has not successfully received all the replica messages from other information stores.</P>
<P CLASS="t">When an information store fails to receive complete replica information, it generates a <I>backfill entry</I>, which serves as a placeholder to indicate that information is missing. After waiting for a specified amount of time to receive the missing folder content packet, the information store issues a <I>backfill request </I>to two other servers chosen by a predetermined algorithm<I>. </I>The backfill request indicates which folder content packet is missing and requests that another information store send the information. Any information store can respond to a backfill request, regardless of whether it was the source of the original folder content packet.</P>
<p>&nbsp;&nbsp;&nbsp;&nbsp;<img src="xerk_d12.gif"></P>
<P CLASS="t"></P>
<H4 CLASS="h3"><A NAME="sec0"></A>Adding a Replica</H4><P CLASS="t">To create a replica of an existing public folder, you must have public folder administrator authority. Start the Administrator program and then add the new information store to the <B>Instances</B> property page of the public folder, or add the public folder to the <B>Replicas</B> property page of the public information store.</P>
<P CLASS="t">When an information store detects a new replica and determines that it is responsible for that replica, it generates a backfill request for the contents of the folder (the folder content packet).</P>
<P CLASS="t">If an information store receives a folder content packet for a folder that does not exist in the hierarchy or for which it does not currently have a replica, it queues the content packet and waits for the folder hierarchy change. It then processes the content packet. If the hierarchy change does not occur within four hours, the packet expires and will have to be backfilled.</P>
<H4 CLASS="h3"><A NAME="sec1"></A>Replication Verification Tool</H4><P CLASS="t">The Public Folder Replication Verification Tool (Replver.exe) compares public folders on Microsoft Exchange Server computers and sends periodic status messages if a replica appears to be out-of-date.</P>
<P CLASS="t">For more information, see the Microsoft Exchange Server version 4.0 compact disc Readme file.</P></BODY></HTML>
