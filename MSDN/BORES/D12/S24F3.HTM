<HTML><head><style>@import url(msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="msdn_ie3.css"></HEAD>

<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Balancing Hardware Resources</TITLE><BODY BGCOLOR="#FFFFFF">


<H3 CLASS="h2">Balancing Hardware Resources</H3><P CLASS="t">Balancing your server's hardware resources once you've installed Microsoft Exchange Server is an essential step in optimizing your system's performance. Because a server's hardware resources work together to accomplish tasks, it's not always easy to determine which resource is the performance bottleneck. If your server appears to be using a hardware resource inefficiently, another resource can actually be at fault. For example, if your server's disk is thrashing due to excessive paging, the server needs more memory, not a larger disk. For information about using Performance Monitor to help detect bottlenecks, see Chapter 9, "Troubleshooting."</P>
<P CLASS="t">The following are the four main hardware resources to consider when optimizing server performance. Guidelines for minimizing bottlenecks in these resources are described in the following sections.</P>
<UL><LI>CPU</LI><LI>Disk</LI><LI>Memory</LI><LI>Network</LI></UL><H4 CLASS="h3"><A NAME="sec0"></A>Balancing CPU Usage</H4><P CLASS="t">If your server's CPU is a performance bottleneck, you can:</P>
<UL><LI>Restrict the amount or type of mail users can send.</LI><LI>Move Microsoft Exchange Server components or other applications to another server.</LI><LI>Move some or all mailboxes and public folder replicas to another server.</LI><LI>Add a faster processor.</LI><LI>If your server is a symmetric multiprocessor (SMP), add additional processors.</LI><LI>Optimize the way that the system responds to foreground and background applications. In Control Panel, choose System, choose <B>Tasking</B>, and then select <B>Foreground and Background Applications Equally Responsive</B>.</LI><LI>Upgrade to a CPU that has more Level 2 (L2) caching, particularly if the server has less than 256K of L2 cache. Some systems allow up to 2 megabytes (MB) or more of L2 memory. L2 cache is faster than RAM.</LI></UL><H4 CLASS="h3"><A NAME="sec1"></A>Balancing Disk Usage</H4><P CLASS="t">If your server's disk is a performance bottleneck, you can:</P>
<UL><LI>Move Microsoft Exchange Server transaction logs to another physical disk or another physical disk that is using a different disk controller than the disk containing the databases.</LI><LI>Restrict the amount or type of mail users can send.</LI><LI>Add more RAM and run Performance Optimizer to increase the database buffers.</LI><LI>Add more disks to the stripe set.</LI><LI>Use multiple disk controllers.</LI><LI>Add one or more caching disk controllers that cache read and write operations.</LI></UL><H4 CLASS="h3"><A NAME="sec2"></A>Balancing Memory Usage</H4><P CLASS="t">If memory is a performance bottleneck, you can:</P>
<UL><LI>Add more RAM.</LI><LI>Increase the size of your pagefile. In Control Panel, choose System, and then choose <B>Virtual Memory</B>. Under <B>Paging File Size For Selected Drive</B>, set a large pagefile. You can approximate the pagefile size by adding 125 MB to the amount of physical RAM available on your server. For example, if your server has 64 MB of RAM, you should set your pagefile size to 189 MB.</LI><LI>Move the pagefile to a separate physical disk.</LI><LI>Ensure that Windows NT Server is optimized for network applications. In Control Panel, choose Network, select Server in the list of installed network software, choose <B>Configure</B>, and then select <B>Maximize Throughput for Network Applications</B>.</LI><LI>Restrict the amount or type of mail users can send.</LI><LI>Move Microsoft Exchange Server components or other applications to another server.</LI><LI>If your server is paging excessively, adjust the size of the database buffer caches by typing <B>perfwiz -v </B>at the command prompt. You should reduce the size of the buffer cache by 10 to 30 percent.</LI><LI>Move some or all mailboxes and public folder replicas to another server.</LI></UL><H4 CLASS="h3"><A NAME="sec3"></A>Balancing Network Usage</H4><P CLASS="t">If your server's network adapter or the network is a performance bottleneck, you can:</P>
<UL><LI>Use a higher speed network type such as 100 MB per second Fast Ethernet or fiber.</LI><LI>Use a high performance network adapter and multithreaded driver.</LI><LI>Segment your network by using multiple network adapters in a single server.</LI><LI>Reduce the amount of network traffic by:

<UL><LI>Optimizing your public folder replication topology.</LI><LI>Optimizing your directory replication topology.</LI><LI>Restricting the times users can log on to minimize user traffic.</LI></UL></LI><LI>Limiting the size of messages users can send.</LI></UL></BODY></HTML>
