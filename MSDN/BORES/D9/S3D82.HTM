<HTML><head><style>@import url(msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="msdn_ie3.css"></HEAD>

<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>SNMP Configuration Tool Format Files</TITLE><BODY BGCOLOR="#FFFFFF">


<H3 CLASS="h2">SNMP Configuration Tool Format Files</H3><P CLASS="t">The configuration tool included with SMS is used to modify the configuration of the Event to Trap Translator through an SMS job. It allows the user to provide a data file that creates, deletes, and modifies the configuration of translated events. The tool can also be used to modify trap destinations and communities.</P>
<P CLASS="t">The tool generates an SMS status MIF file after it runs to indicate the overall status of the operation. It also generates a text log file with detailed information on which statements succeeded or failed. If any particular line results in an error, an error is written to a log file and processing continues with the next line in the file.</P>
<P CLASS="t">This tool is called EVENTCM<I>x</I>.EXE<I>, </I>where<I> x </I>is I<I> </I>for Intel<I>, </I>A<I> </I>for Alpha<I>, </I>and<I> </I>M for MIPS.<I> </I>This tool is located in the MSTEST directory on all SMS logon servers.</P>
<P CLASS="t">The syntax for adding or deleting events using the configuration tool format is:</P>
<P CLASS="t"><B>#pragma {add | delete}</B> <I>eventlog eventsource eventID </I><B>[count=</B><I>#</I><B>] [time=</B><I>#</I><B>]</B></P>
<P CLASS="term1"><B><B>add</B></B></P>
<P CLASS="dt1">Adds the specified event to the list of events to be translated to traps. If there are any errors in the <B>add</B> parameters, the event is not added and an error is returned. If the specified event and event source are already configured, then the count and time values are modified.</P>
<P CLASS="term1"><B><B>delete</B></B></P>
<P CLASS="dt1">Deletes the specified event from the translation list. If the event specified is not in the configuration, an error is returned.</P>
<P CLASS="term1"><B><I>eventlog</I></B></P>
<P CLASS="dt1">The Windows&nbsp;NT event log that contains the event. There are three possible values for this entry: <B>System</B>, <B>Application</B>, and <B>Security</B>.</P>
<P CLASS="term1"><B><I>eventsource</I></B></P>
<P CLASS="dt1">The source specified in the Windows&nbsp;NT event log. If the event source is more than one word, it should be enclosed in quotation marks.</P>
<P CLASS="term1"><B><I>eventID</I></B></P>
<P CLASS="dt1">The 32-bit event identification number. This is partially based on the 16-bit event number specified in the Windows&nbsp;NT event log.</P>
<P CLASS="term1"><B><B>count</B></B></P>
<P CLASS="dt1">The number of times that the event must occur before generating a trap. For example, you can specify that the event must occur 5 times before it is translated.</P>
<P CLASS="term1"><B><B>time</B></B></P>
<P CLASS="dt1">The time period for the count. For instance, you can specify that the event must occur 5 times in an hour to be translated.</P>
<P CLASS="t"></P>
<P CLASS="t">The syntax for modifying SNMP trap destinations is:</P>
<P CLASS="t"><B>#pragma {add_trap_dest | delete_trap_dest}</B> <I>community address</I></P>
<P CLASS="term1"><B><B>add_trap_dest</B></B></P>
<P CLASS="dt1">Adds the specified address to the list of trap destinations for the specified community. If the community does not exist, it is created and the address is added. If the specified address already exists in the specified community, the statement is ignored.</P>
<P CLASS="term1"><B><B>delete_trap_dest</B></B></P>
<P CLASS="dt1">Deletes the specified address from the specified community. If the community does not exist or the address is not in the community, an error is written to the log.</P>
<P CLASS="term1"><B><I>community</I></B></P>
<P CLASS="dt1">The group of computers to which the pragma should be applied.</P>
<P CLASS="term1"><B><I>address</I></B></P>
<P CLASS="dt1">The trap destination TCP/IP address.</P>
<P CLASS="t"></P>
<P CLASS="t">A semicolon in the first column of any line indicates a comment line. A sample CNF file follows:</P>
<P CLASS="spacing"><BR></P>
<PRE>; this is a sample CNF file
;
; the next line configures Rdr event 8003
#pragma Add System "Rdr" 3221227472 1 0
;
; the next line sets up the trap destination address
#pragma Add_Trap_Dest public 198.255.255.255
; end of file</PRE></BODY></HTML>
