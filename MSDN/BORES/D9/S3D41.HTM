<HTML><head><style>@import url(msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="msdn_ie3.css"></HEAD>

<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>SMS Network Applications</TITLE><BODY BGCOLOR="#FFFFFF">


<H3 CLASS="h2">SMS Network Applications</H3><P CLASS="t">This section discusses how configuration information for setting up and running SMS network applications is transmitted from the site database to SMS logon servers and clients. This process is summarized in Figure 3.13, SMS Network Application Software Distribution.</P>
<P><img src="srk_c11.gif"></P>
<P>Figure 3.13    SMS Network Application Software Distribution</P>
<P CLASS="t">When you set up an SMS network application within SMS, you create program items within packages, create program groups that contain the program items you want to offer, and assign program groups to the user groups to which you want to offer program items. There are two SMS programs that configure and run the SMS network applications on clients: the Application Control program, and the Application Start program. Together, these programs are often referred to as the Program Group Control application. These programs are described later in this section.</P>
<P CLASS="t">Package and program group properties defined in a site's database are used to configure program group offerings within the site. If a site is part of site hierarchy, the package and program group configuration information is propagated from the parent site down to the current site. Each parent site propagates its own package and program group configurations as well as those of its parent site.</P>
<P CLASS="t">For example, if site A is a parent site of site B and site B is a parent site of site C, site A propagates all its package and program group configuration information to site B; site B propagates its own package and program group configuration as well as those received from site A down to site C. Site C contains package and program group configuration information for sites A and B as well as those defined at site C. For more information about how package configurations and program group configurations are propagated from the parent site to its child sites, see "How SMS Maintains Package Inventory Rules and SMS Network Application Configurations" earlier in this chapter.</P>
<P CLASS="t">As noted earlier, all configuration information needed to set up and run SMS network applications at the site is stored in the site database. From the configuration information in the site database, the Applications Manager creates configuration files that are used by Program Group Control at Windows-based clients to set up and run SMS network applications. The Applications Manager creates and maintains two sets of configuration files: one for program items (*.HAF) and one for program groups (*.HGF). These files are located in the SITE.SRV\MAINCFG.BOX\APPCTL.SRC\DATABASE directory. These files serve as a database that Program Group Control can query to find out which program groups are assigned to the current user at the client and to retrieve configuration information for the program groups and their program items.</P>
<P CLASS="t">The Maintenance Manager replicates the .HAF and .HGF files to the SMS logon servers for all SMS domains in the current site. On the SMS logon servers, .HAF and .HGF files are located in the LOGON.SRV\APPCTL.BOX\DATABASE directory. </P>
<P CLASS="t">The Application Control program reads the Program Group Control files and creates the program groups for the appropriate SMS network applications. The Application Control program runs only on Windows-based clients at the site. There are three versions of the Application Control program: APPCTL95 for Windows 95 clients, APPCTL32 for Windows NT clients, and APPCTL16 for 16-bit Windows clients. </P>
<P CLASS="t">When a user logs on to the network, the Application Control program retrieves the list of user groups of which the current user is a member. How this list is retrieved depends on the type of client:</P>
<UL><LI>For clients running the Windows&nbsp;NT operating system, the Application Control program retrieves the list of user groups from the SMS domain containing the servers listed in the [Servers] section of SMS.INI.</LI></UL><UL><LI>For clients running the LAN&nbsp;Manager network operating system, the Application Control program retrieves the list of user groups from the SMS domain containing the server specified by the <B>ValidatingServer</B> entry in the [SMSLSIni] section of SMS.INI. If no server is specified in this entry or if it is unavailable, the Application Control program searches for a network logon server in the domain where the client has been logged on and retrieves the list of user groups from that server.</LI></UL><UL><LI>For clients running the NetWare network operating system, the Application Control program retrieves the list of user groups from all SMS logon servers listed in the [Servers] section of SMS.INI.</LI></UL><P CLASS="t">Next, the Application Control program connects to the server specified by <B>CurrentLogonServer</B> entry in the [Servers] section of the client's SMS.INI file. If this server is not available, it uses an algorithm to randomly select an SMS logon server from the other servers listed in the [Servers] section of SMS.INI.</P>
<P CLASS="t">Based on the user group memberships for the user, the Application Control program retrieves the list of assigned program groups and the configurations for the program items in those program groups. It then creates the assigned program groups in the client's Program Manager. It also creates entries in the client's registry to configure the program items for all assigned program groups.</P>
<P CLASS="t">Note that on clients running Windows&nbsp;95 and Windows&nbsp;NT version 4, the Application Control program adds the groups as menu items under Programs in the Start menu.</P>
<P CLASS="t">When the Application Control program creates the program items for an SMS network application, it configures the program item command line to call the Application Start program. When the user selects the program item, the Application Start program actually installs, configures, and runs the SMS network application. There are three versions of the Application Start program: APPSTA95 for Windows 95 clients, APPSTA32 for Windows NT-based clients, and APPSTA16 for 16-bit Windows-based clients.</P>
<P CLASS="t">If either the Application Control program or the Application Start program encounters any errors, it logs the errors to a local log file called PGC.LOG.This log file is located in the MS\SMS\LOGS directory on the client. Some errors are reported to the SMS logon server as SMS event MIF files, which are eventually added to the site database so that you can view these errors in the SMS Events window in the SMS&nbsp;Administrator.</P></BODY></HTML>
