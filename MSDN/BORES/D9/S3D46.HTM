<HTML><head><style>@import url(msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="msdn_ie3.css"></HEAD>

<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Remote Troubleshooting Across a WAN</TITLE><BODY BGCOLOR="#FFFFFF">


<H3 CLASS="h2">Remote Troubleshooting Across a WAN</H3><P CLASS="t">You can remotely control clients across a bridged or routed WAN. In a bridged WAN environment, you can establish the remote control session over both NetBIOS-based and socket-based protocols. However, in a routed WAN environment, you cannot use NetBIOS-based protocols unless you also configure name management for the protocol.</P>
<P CLASS="t">For instance, Windows&nbsp;NT supports socket-based TCP/IP and NetBIOS-based TCP/IP. NetBIOS-based TCP/IP (NBT) can locate resources on a local IP network by name. However, resources located on remote subnets are not responsive to name query requests because routers do not pass IP-level broadcasts. For that reason, Windows&nbsp;NT uses a LMHOSTS file to map IP addresses to the NetBIOS names of computers outside the local subnet. LMHOSTS is a text file located in the <I>winntsystemroot</I>\SYSTEM32\DRIVERS\ETC directory. To remotely control an SMS client using NBT, a remote address must be matched with an entry in the TCP/IP LMHOSTS file on the SMS&nbsp;Administrator computer.</P>
<P CLASS="t">At start up, Windows&nbsp;NT reads LMHOSTS and stores entries in a system cache. NBT reads its internal cache. If no match is found, it sends a NetBIOS broadcast and retries the broadcast up to five times. If there is no response, NBT reads the LMHOSTS file directly. If it finds an entry for the computer name and corresponding remote IP address, NBT sends a datagram to that address. The query includes the address of the originating computer running Windows&nbsp;NT. When the target NetBIOS client receives the query, it sends a return packet to that address.</P>
<P CLASS="t"></P></BODY></HTML>
