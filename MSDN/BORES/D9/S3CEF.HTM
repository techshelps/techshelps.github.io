<HTML><head><style>@import url(msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="msdn_ie3.css"></HEAD>

<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>SMS Logon Server Shares</TITLE><BODY BGCOLOR="#FFFFFF">


<H3 CLASS="h2">SMS Logon Server Shares</H3><P CLASS="t">During installation, the Site Configuration Manager creates the SMS_SHR<I>x</I> and SMS_SHR shares. SMS logon servers also use a NETLOGON share. The SMS logon server shares are described in the following table.</P>

<TABLE COLS="3" BORDER="0" CELLPADDING="7"><COLGROUP><COL WIDTH="63pt" VALIGN="TOP"><COL WIDTH="126pt" VALIGN="TOP"><COL WIDTH="158pt" VALIGN="TOP"></COLGROUP><TBODY><TR><TD VALIGN="TOP"><P CLASS="th"><B>Share name</B></P></TD><TD VALIGN="TOP"><P CLASS="th"><B>Used by</B></P></TD><TD VALIGN="TOP"><P CLASS="th"><B>Description</B></P></TD></TR><TR><TD VALIGN="TOP"><P CLASS="tt">SMS_SHR<I>x</I></P></TD><TD VALIGN="TOP"><P CLASS="tt">SMS services</P></TD><TD VALIGN="TOP"><P CLASS="tt">Represents the SMS root directory where <I>x</I> is the drive on which SMS is installed. It exists on all site, SMS logon, and helper servers running Windows&nbsp;NT or LAN&nbsp;Manager.</P></TD></TR><TR><TD VALIGN="TOP"><P CLASS="tt">SMS_SHR</P></TD><TD VALIGN="TOP"><P CLASS="tt">Inventory&nbsp;Agent, SMS Client&nbsp;Setup, Program Group Control, Package Command Manager, and MIF Entry</P></TD><TD VALIGN="TOP"><P CLASS="tt">Created on the site server and all SMS logon servers running Windows&nbsp;NT or LAN&nbsp;Manager. It represents the LOGON.SRV directory, which is a subdirectory of the SMS root directory. SMS_SHR contains all SMS logon server components and serves as the collection point for inventory files. </P></TD></TR><TR><TD VALIGN="TOP"><P CLASS="tt">NETLOGON</P></TD><TD VALIGN="TOP"><P CLASS="tt">SMS logon servers</P></TD><TD VALIGN="TOP"><P CLASS="tt">If you enable the Automatically Configure Workstation Logon Scripts option, the Site Configuration Manager automatically copies the files needed to use the SMSLS batch file as a logon script to the REPL$ share on servers running Windows&nbsp;NT or LAN&nbsp;Manager. These files are then replicated to the NETLOGON share of domain logon servers by the LAN&nbsp;Manager Replicator service or the Windows&nbsp;NT Directory Replicator service.</P></TD></TR></TBODY></TABLE>
<P CLASS="spacing"><BR></P><P></P>
<P CLASS="t"><B>Important </B>  Do not modify share comments! These are read by services and will cause errors if they are altered.</P>
<P CLASS="nt"><B>Note </B>  The SMSLS.BAT file from version 1.0 has been split into two files that initiate SMS inventory and client setup. The new version of SMSLS.BAT is used for logon scripts and is located in the NETLOGON share. The old version of SMSLS.BAT will remain under SMS_SHR to allow you to copy any custom changes from that file to the new SMSLS.BAT file in the NETLOGON share. You should delete the old SMSLS.BAT file after the changes are copied. Use the new RUNSMS.BAT file when manually running from SMS_SHR. There are also two command (.CMD) files to support OS/2 clients.</P>
<P CLASS="t">The Site Configuration Manager copies the files into a domain set to enumerate all servers added to SMS. The following table lists the components required by the SMS logon script.</P>

<TABLE COLS="2" BORDER="0" CELLPADDING="7"><COLGROUP><COL WIDTH="141pt" VALIGN="TOP"><COL WIDTH="206pt" VALIGN="TOP"></COLGROUP><TBODY><TR><TD VALIGN="TOP"><P CLASS="th"><B>Component </B></P></TD><TD VALIGN="TOP"><P CLASS="th"><B>Description</B></P></TD></TR><TR><TD VALIGN="TOP"><P CLASS="tt">CLRLEVEL.COM</P></TD><TD VALIGN="TOP"><P CLASS="tt">Resets the error level to 0 before the script quits.</P></TD></TR><TR><TD VALIGN="TOP"><P CLASS="tt">DOSVER.COM</P></TD><TD VALIGN="TOP"><P CLASS="tt">Verifies if the client is running an SMS-supported version of MS-DOS.</P></TD></TR><TR><TD VALIGN="TOP"><P CLASS="tt">NLSMSG16.EXE</P></TD><TD VALIGN="TOP"><P CLASS="tt">Used by clients running MS-DOS, Windows version&nbsp;3.1, Windows for Workgroups, and Windows&nbsp;95 as a NLS-enabled version of CHOICE.COM. It is used when user input is required.</P></TD></TR><TR><TD VALIGN="TOP"><P CLASS="tt">NLSMSG32.EXE</P></TD><TD VALIGN="TOP"><P CLASS="tt">Used by clients running Windows&nbsp;NT as an NLS-enabled version of CHOICE.COM. It is used when user input is required.</P></TD></TR><TR><TD VALIGN="TOP"><P CLASS="tt">NLSMSGO2.EXE</P></TD><TD VALIGN="TOP"><P CLASS="tt">Used by OS/2 clients as an NLS-enabled version of CHOICE.COM. It is used when user input is required.</P></TD></TR><TR><TD VALIGN="TOP"><P CLASS="tt">NLSRES.INI</P></TD><TD VALIGN="TOP"><P CLASS="tt">Used by NLSMSG<I>x</I>.EXE as a language mapping file to relate country codes or language IDs to the appropriate NLS_LS.DLL file.</P></TD></TR><TR><TD VALIGN="TOP"><P CLASS="tt">NETSPEED.COM</P></TD><TD VALIGN="TOP"><P CLASS="tt">Detects a slow network.</P></TD></TR><TR><TD VALIGN="TOP"><P CLASS="tt">SMSLS.BAT</P></TD><TD VALIGN="TOP"><P CLASS="tt">Logon script file (except for OS/2 clients).</P></TD></TR><TR><TD VALIGN="TOP"><P CLASS="tt">SMSLS.CMD</P></TD><TD VALIGN="TOP"><P CLASS="tt">Logon script file for OS/2 clients.</P></TD></TR><TR><TD VALIGN="TOP"><P CLASS="tt">SETLS16.EXE</P></TD><TD VALIGN="TOP"><P CLASS="tt">Finds SMS logon servers and launches CLI_DOS and INVDOS.</P></TD></TR><TR><TD VALIGN="TOP"><P CLASS="tt">SETLS32.EXE</P></TD><TD VALIGN="TOP"><P CLASS="tt">Used by clients running Windows&nbsp;NT to find SMS logon servers and launch CLI_NT and INVWIN32.</P></TD></TR><TR><TD VALIGN="TOP"><P CLASS="tt">SETLSOS.EXE</P></TD><TD VALIGN="TOP"><P CLASS="tt">Used by OS/2 clients to find SMS logon servers and launch CLI_DOS and INVOS2.</P></TD></TR><TR><TD VALIGN="TOP"><P CLASS="tt">SMSLS.INI (present when domain mapping is used)</P></TD><TD VALIGN="TOP"><P CLASS="tt">Maps clients to SMS domains.</P></TD></TR></TBODY></TABLE>
<P CLASS="spacing"><BR></P><P></P></BODY></HTML>
