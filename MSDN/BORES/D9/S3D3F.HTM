<HTML><head><style>@import url(msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="msdn_ie3.css"></HEAD>

<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Share Package On Server Jobs</TITLE><BODY BGCOLOR="#FFFFFF">


<H3 CLASS="h2">Share Package On Server Jobs</H3><P CLASS="t">This section describes how Share Package On Server jobs are transmitted from the originating site to the target site and distribution servers. This process is summarized in Figure 3.11, Share Package On Server Software Distribution.</P>
<P><img src="srk_c13.gif"></P>
<P>Figure 3.11    Share Package On Server Software Distribution</P>
<P CLASS="t">A Share Package On Server job installs a package on servers, shares the directory containing the package and all its files, and makes them available to users according to the access permissions specified by the job.</P>
<P CLASS="t">To share a package on servers, you create a package with Sharing properties, and then create a Share Package On Server job for that package. After the job is created, it is added to the site database where the Scheduler monitors all jobs created at the site.</P>
<P CLASS="t">The Scheduler and sender process is exactly the same as the process for Run Command On Workstation jobs—except that the Scheduler creates a compressed package with the name <I>packageid</I>.S* (whereas a Run Command On Workstation job uses the name <I>packageid</I>.W*). The process for Run Command On Workstations jobs is described in "Run Command On Workstation Jobs" earlier in this chapter.</P>
<P CLASS="t">At the site server for the target site, the Despooler monitors the SITE.SRV \DESPOOLR.BOX\RECEIVE directory for instruction files and then processes the files. The Despooler moves the compressed package to the SITE.SRV \DESPOOLR.BOX\STORE directory. Packages for Share Package On Server jobs are saved as <I>packageID</I>.SRV.</P>
<P CLASS="t">Next, the Despooler at the target site decompresses the compressed package (.SRV file) into the package source directory's original files and directory structure. The Despooler decompresses the package directory into a temporary directory located at the root directory of the local drive with the most free space. The selection and usage of the temporary directory is exactly the same as the process for Run Command On Workstation jobs.</P>
<P CLASS="t">The Despooler copies the decompressed package directory and files from the temporary directory to the target distribution servers specified by the job. Where the package directory is then placed on each target distribution server depends on the type of server:</P>
<UL><LI>On SMS logon servers running LAN&nbsp;Manager or Windows&nbsp;NT Server, the Despooler creates a directory (with the same name as the share name specified for the package) at the root of the drive with the most free space. The Despooler shares that directory using the specified share name and installs the package in that directory. If the package share name already exists, the Despooler copies the package to the existing share.</LI></UL><UL><LI>On SMS logon servers running NetWare, the Despooler tries to install the package to the volume specified for the package. Within the Sharing properties of the package, you should specify a volume name and a subdirectory for share name (for example, myvol\mydir).</LI></UL><P>If you specify TEST\ONE as the share name, and TEST is an existing volume, the Despooler puts the package in \\<I>servername</I>\TEST\ONE. If TEST is not a volume name on the NetWare server, the Despooler puts the package in \\<I>servername</I>\<I>defaultvolume</I>\TEST\ONE.</P>
<P>The default volume is the volume where SMS is installed; if SMS is not installed on the NetWare server, the Despooler creates the package share on the SYS volume.</P>
<P>If you specify only TEST as the share name, and TEST is an existing volume on the NetWare server, the Despooler puts the package in \\<I>servername</I>\TEST \<I>packageID</I>. If TEST is not a volume name on the NetWare server, the Despooler puts the package in \\<I>servername</I>\<I>defaultvolume</I>\TEST.</P>
<P>Thus, if you specify TEST\ONE as your volume and share name, all NetWare distribution servers should have a volume called TEST with enough space to install the shared package directory. If you specify a share name that does not exist on NetWare servers, the default volume on each server must have enough room for the package. If adequate space is not available on the default volume, the shared package directory is not created and an event is written to the SMS event log.</P>
<UL><LI>On computers running Windows&nbsp;NT Workstation, the package is installed only if the SMS Service Account is a member of the computer's Administrators group. The Despooler creates a directory (with the same name as the share name specified for the package) at the root of the drive with the most disk space. The Despooler shares this directory using the specified share name and installs the package in that directory.</LI></UL></BODY></HTML>
