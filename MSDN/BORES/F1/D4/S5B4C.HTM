<HTML><head><style>@import url(msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="msdn_ie3.css"></HEAD>

<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Use the RSERVICE Utility to Install the PCM Service</TITLE><BODY BGCOLOR="#FFFFFF">


<H3 CLASS="h2">Use the RSERVICE Utility to Install the PCM Service </H3><P CLASS="t">Once the user account and the initialization file have been prepared, you are ready to test the file and then install the PCM service.</P>
<P CLASS="t"><B>Note   </B>As always when modifying large numbers of computers with a single remote command, it is best to test the process before changing your organization's production environment. The specification of destination computers in the initialization file cannot be tested, of course. However, you can still test that the remainder of the initialization file has been set up correctly, that the required source files are accessible, that the user account specified for the PCM service has the necessary privileges, and that the PCM service itself serves the needs of your organization.</P>
<P CLASS="t">You can test the initialization file either by using the /M option with the RSERVICE command (so that you are only affecting a single computer), or by creating a different version of the RSERVICE initialization file that specifies a different set of computers. </P>
<P CLASS="t">To install the PCM service on the computers specified in the initialization file, run the RSERVICE utility once on an SMS site server that has network access to the domain. If you are logged on using the user account you established for RSERVICE, use the following command-line:</P>
<P>RSERVICE /INSTALL initialization_filename</P>
<P></P>
<P CLASS="t">If you are logged on using any other user account, use the /c option with the RSERVICE command, as follows:</P>
<P>RSERVICE /INSTALL <I>initialization_filename</I> /c</P>
<P></P>
<P CLASS="t">The /c option will cause RSERVICE to install PCM using the account specified in the initialization file. If the /c is not in the command line, RSERVICE will attempt to use the user account from which the RSERVICE command is issued, and you may get an "error 5(Access Denied)" message. Regardless of the /c command line switch, you will be prompted to enter a password for the service account under which the PCM service will run.</P>
<P CLASS="t"><B>Note   </B>RSERVICE installs services with a default startup mode of Manual. This means that after a reboot, such as occurs when upgrading the operating system, the PCM service will not be automatically restarted, and jobs normally executed by the PCM service will not be run until it is. You can use RSERVICE to start the service on a particular computer or on groups of computers.</P>
<P CLASS="t">If the initialization file is not found (for example, if the file name is mistyped or if the file is not in the current or specified directory), RSERVICE will return a message saying that no domain is specified in the [domain name] section of the initialization file. If you receive this message and you are sure that a domain is correctly specified in the file, make sure the file name has been specified correctly in the RSERVICE command.</P>
<P CLASS="t">For example:</P>
<P>RSERVICE /INSTALL EC_SALES_PCMSVC.INI</P>
<P></P>
<P CLASS="t">or</P>
<P>RSERVICE /INSTALL EC_SALES_PCMSVC.INI /c</P>
<P></P>
<P CLASS="t">In this example, the RSERVICE utility then creates a directory called C:\SMS_PCM on all Windows&nbsp;NT Workstation computers in the domain EC_SALES. It then copies file PCMSVC32.EXE from directory D:\SMS12\SITE.SRV\X86.BIN on the local computer (which is a site server) to the directory C:\SMS_PCM on all of these computers. Finally, it installs the service SMS_PACKAGE_COMMAND_MANAGER_NT with an executable file of C:\SMS_PCM\PCMSVC32.EXE and a user account of HQ_MASTER\SMS_PCMSVC.</P>
<P CLASS="t"><B>Note   </B>If RSERVICE will attempt to configure a drive connection to a computer, and you currently have one or more drive connections to that computer, RSERVICE may be unable to connect using the account specified in the INI file. This is because the same user cannot make more than one connection to the same system using different account credentials. If this happens, verbose output from RSERVICE includes a "1219" message code. (For verbose output, include the <B>/v</B> switch with the RSERVICE command.) To avoid the problem, log on using the account established for RSERVICE. </P></BODY></HTML>
