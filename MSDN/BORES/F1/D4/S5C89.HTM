<HTML><head><style>@import url(msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="msdn_ie3.css"></HEAD>

<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>MIPERF.BAT: Add MIF File Counters to Performance Monitor</TITLE><BODY BGCOLOR="#FFFFFF">


<H3 CLASS="h2">MIPERF.BAT: Add MIF File Counters to Performance Monitor</H3><P CLASS="t">MIPERF adds a new set of counters to Performance Monitor. These counters monitor the number of MIF files being processed by the dataloader.</P>
<P CLASS="t">The name of the new Performance Monitor object is <B>SMS_MIFS</B>. Look at the <B>Explain</B> text in Performance Monitor for a definition of the counters.</P>
<P CLASS="t">MIPERF must be run on the computer running the SMS site services.</P>
<H4 CLASS="h3"><A NAME="sec0"></A>Usage Notes</H4><SPAN CLASS="list"><UL><LI CLASS="ULI1">The <B>New Mifs</B> counter can only be displayed using the Performance Monitor in Windows&nbsp;NT 4.0 or later. <B>Total Mifs</B> works with any Performance Monitor.</LI><LI CLASS="ULI1">The <B>Total Mifs</B> number is stored once per server, which means that when you first open a counter for <B>Total Mifs</B>, it starts at 0 and counts up. If you start a second instance of Performance Monitor, it starts with the number that was last shown in the first instance of Performance Monitor. If you close all instances of Performance Monitor, then start the <B>Total Mifs</B> counter again, it starts from 0 again.</LI><LI CLASS="ULI1">The counters work by reading the log file, so if you turn off tracing for the dataloader, the counters no longer work.</LI><LI CLASS="ULI1">Some MIF files (such as usergroup MIF files) contain multiple "MIF files" per file; that is, If you have 100 user groups, the dataloader reports 100 machines processed while it processes this MIF file. The counter then shows this as 100 MIF files processed.</LI><LI CLASS="ULI1">Despite these limitations, this counter presents a reasonable view of the performance of the dataloader if used over a period of days.</LI></UL></SPAN><H4 CLASS="h3"><A NAME="sec1"></A>Removing MIPERF</H4><P CLASS="t">To remove this software, run the following command (<B>unlodctr</B> is provided with Windows&nbsp;NT):</P>
<P CLASS="t"><B>unlodctr</B> <B>SMS_Mifs</B></P>
<P CLASS="t">Do not simply delete the registry keys; you could lose other Performance Monitor counters.</P>
<H4 CLASS="h3"><A NAME="sec2"></A>Runs On</H4><P CLASS="t">Alpha, x86</P>
<H4 CLASS="h3"><A NAME="sec3"></A>Files Required for MIPERF</H4><P CLASS="t">MIPERF.DLL<BR>SMSPERF.DLL</P>
<P CLASS="t">The following files are required for installing the <B>SMS_MIFS</B> counter, but can be removed after installation:</P>
<P CLASS="t">MIPERF.BAT<BR>MICTRNM.H<BR>MI.INI</P>
<H4 CLASS="h3"><A NAME="sec4"></A>MIPERF Syntax</H4><P CLASS="t"><B>miperf</B></P></BODY></HTML>
