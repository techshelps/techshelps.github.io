<HTML><head><style>@import url(msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="msdn_ie3.css"></HEAD>

<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>DUMPSYNC.EXE: Resync-File Cleaner</TITLE><BODY BGCOLOR="#FFFFFF">


<H3 CLASS="h2">DUMPSYNC.EXE: Resync-File Cleaner</H3><P CLASS="t">DUMPSYNC cleans resync.cfg on all SMS logon servers in a domain. </P>
<P CLASS="t">When the information in a MIF file is out of sync with the database, SMS sends a resync request to the client containing the MIF file. SMS does this by having a resync.cfg file on each SMS logon server. This file contains (among other things) an SMS ID and the time of the resync request. </P>
<P CLASS="t">When a client connects to an SMS logon server, the client checks resync.cfg for the client's sms id; if found, the client sends a complete inventory and marks the inventory file as being a resync file. (The client also keeps track of when it sent this, so on future reads of resync.cfg, the client won't resend unless the time of the request in the resync file changes.) </P>
<P CLASS="t">SMS never cleans resync.cfg, which means the file keeps growing. DUMPSYNC cleans RESYNC.CFG. </P>
<P CLASS="t">DUMPSYNC must be run from sms\site.srv\invdom.box\<I>domain.</I>000 for each domain that you want to clean. </P>
<P CLASS="t">Maintenance Manager copies files from site.srv\maincfg.box\invdom.box\<I>domain</I>.000 and site.srv\maincfg.box\invdom.box\<I>domain</I>.000\invencfg.box to logon.srv on the appropriate domains. However, Maintenance Manager does not delete files from the logon servers if they are removed from the site.srv directory. A simple fix for this is to delete all the files from logon.srv\invencfg.box\*.cfg on all logon servers. Maintenance Manager will put them back. </P>
<H4 CLASS="h3"><A NAME="sec0"></A>Runs On</H4><P CLASS="t">Alpha, x86 </P>
<H4 CLASS="h3"><A NAME="sec1"></A>Files Required for DUMPSYNC </H4><P CLASS="t">DUMPSYNC.EXE </P>
<H4 CLASS="h3"><A NAME="sec2"></A>DUMPSYNC Syntax </H4><P CLASS="t"><B>dumpsync</B> [<I>days</I>] [<B>/Dump</B>] </P>
<P CLASS="term1"><I>days </I></P>
<P CLASS="dt1">All clients with a resync request in RESYNC.CFG more than <I>days </I>days old are removed from RESYNC.CFG, and their <I>SMSID</I>.CFG files are deleted from site.srv\maincfg.box\invdom.box\domain.000\invencfg.box. </P>
<P CLASS="term1"><B>/Dump </B></P>
<P CLASS="dt1">Displays the content of RESYNC.CFG. </P></BODY></HTML>
