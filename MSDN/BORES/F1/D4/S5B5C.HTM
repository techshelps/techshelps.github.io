<HTML><head><style>@import url(msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="msdn_ie3.css"></HEAD>

<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Trap Trimming</TITLE><BODY BGCOLOR="#FFFFFF">


<H3 CLASS="h2">Trap Trimming</H3><P CLASS="t">Traps longer than 4 K may be too large for some routers or other network devices to forward successfully, in which case they are dropped. This maximum length can easily be exceeded if the message string for an event is very long. However, the Event to Trap Translator includes a feature that enables you to specify a maximum trap length, and to specify what portions of the message should be trimmed first to reduce a longer trap to the length you have specified. This feature is available through the <B>Settings</B> button in the Event to Trap Translator.</P>
<P CLASS="t">If a trap is longer than the maximum you have specified, it is trimmed by one or more entire strings. You can set the Event to Trap Translator to trim either the formatted message or the insertion strings first. For example, if <B>Trim Insertion</B> <B>Strings First</B> is set, and the trap is too long, then the last insertion string is reduced to a zero-length string in the VarBind. If the trap is still too long, then the next is reduced to zero length, and so on. The VarBinds themselves are not deleted. There will always be the correct number of VarBinds, but some of them may contain zero-length octet strings.</P>
<H4 CLASS="h3"><A NAME="sec0"></A>Deciding Which Strings to Trim First</H4><P CLASS="t">The message strings for the events are stored in message DLLs; each event source has its own message DLL. The names of the DLLs are stored in the Registry on the computer that sends the traps. If the application that receives the traps has access to the DLL containing the message strings (the same DLL used to generate them), then you do not need the Message VarBind. The receiving application can either read the registry and open the message DLL remotely, or generate its own mapping of event sources to local copies of the message DLLs. In this case, choose <B>Trim</B> <B>Formatted Message First</B>. </P>
<P CLASS="t">Also choose <B>Trim Formatted Message First</B> if the specific information in the insertion strings is what is most important to the receiving application. </P>
<P CLASS="t">If the Message DLL is not available and it is this basic message that is most important, choose <B>Trim Insertion Strings First</B>. Although the specific information provided by the insertion strings may be lost, the basic message should be intact.</P></BODY></HTML>
