<HTML><head><style>@import url(msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="msdn_ie3.css"></HEAD>

<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>SNA Server Host Security: SNA Servers of Variables</TITLE><BODY BGCOLOR="#FFFFFF">


<H3 CLASS="h2">SNA&nbsp;Server Host Security: SNA&nbsp;Servers of Variables</H3><P CLASS="t">The Registry variables in this section affect Host Security Integration and are located in the following areas:</P>
<H4 CLASS="h3"><A NAME="sec0"></A>Windows NT Account Synchronization Setup</H4><P CLASS="t">There are two password change variables in the Registry. The first is found in the following location:</P>
<P CLASS="t">HKEY_LOCAL_MACHINE<BR>    SOFTWARE<BR>        Microsoft<BR>            SnaServer<BR>                CurrentVersion<BR>                    Host Security<BR>                        Password Change </P>
<P CLASS="t">The variable that affects this Registry entry is as follows:</P>
<P CLASS="term1"><B>MdbDomain:REG_MULTI_SZ</B>     <I>Windows NT Domain Name</I></P>
<P CLASS="dt1">This Registry entry contains the name of the Windows NT domain names entered in the <B>Domains Providing</B> dialog box in Setup. Additional Windows NT domain name can be added using this registry setting and can be an unlimited number.</P>
<P CLASS="t">The second Registry entry is in the following location:</P>
<P CLASS="t">HKEY_LOCAL_MACHINE<BR>    SYSTEM<BR>        CurrentControlSet<BR>            Control<BR>                Lsa</P>
<P CLASS="t">The variable that affects this Registry entry is as follows:</P>
<P CLASS="term1"><B>NotificationPackages: REG_MULTI_SZ </B>     <I>path name</I></P>
<P CLASS="dt1">This is the complete path for the SNA&nbsp;Server password change. It is entered without the DLL extension. For example, the path <I>d:\sna\system\snapwchg</I> is a valid path name.</P>
<H4 CLASS="h3"><A NAME="sec1"></A>Password Management Process (PMP)</H4><P CLASS="t">The Registry variables that affect PMP are in the following location:</P>
<P CLASS="t">HKEY_LOCAL_MACHINE<BR>    SYSTEM<BR>        CurrentControlSet<BR>            Services<BR>                SNAPMP<BR>                    Parameters</P>
<P CLASS="t">The variables that affect PMP are as follows:</P>
<P CLASS="term1"><B>RolePrimary: REG_DWORD {1 | 0}</B></P>
<P CLASS="dt1">For the primary process management process (PMP), the value is 1. For all other PMPs the value is 0.</P>
<P CLASS="term1"><B>MdbDomains:REG_MULTI_SZ</B></P>
<P CLASS="dt1">This Registry entry contains the name of the Windows NT domain names entered in the <B>Domains Providing</B> dialog box in Setup. An unlimited number of additional Windows NT domain names can be added using this registry setting. </P>
<P></P>
<H4 CLASS="h3"><A NAME="sec2"></A>Host Account Synchronization Process</H4><P CLASS="t">The Registry variables that affect the Host Account Synchronization are in two locations. The first is:</P>
<P CLASS="t">HKEY_LOCAL_MACHINE<BR>    SYSTEM<BR>        CurrentControlSet<BR>            Services<BR>                SNAHostProcess<BR>                    Parameters</P>
<P CLASS="t">The variables that affect Host Account Synchronization are as follows:</P>
<P CLASS="term1"><B>InitializeInterval: REG_DWORD</B>        Default: <B>60 seconds</B></P>
<P CLASS="dt1">This value represents the decimal number of seconds to reissue the RpcServerInitialize call.</P>
<P CLASS="t">The second Registry entry location is:</P>
<P CLASS="t">HKEY_LOCAL_MACHINE<BR>    SYSTEM<BR>        CurrentControlSet<BR>            Services<BR>                SNAHostProcess subkeys</P>
<P CLASS="t">The subkeys that affect Host Account Synchronization are as follows:</P>
<P CLASS="term1"><B>Domains</B></P>
<P CLASS="dt1">For each host security domain defined, there is a subkey under the Domains subkey that contains the values needed by the security integration DLL.</P>
<P CLASS="term1"><B>Security DLLs</B></P>
<P CLASS="dt1">This is the root of template information for registered security integration DLLs. The Host Security Wizard in SNA&nbsp;Server Manager uses this information to create host security domain definitions under the Domains subkey. For each security integration DLL supported by the wizard, there is a subkey whose name is the security integration DLL The wizard copies any values it finds under this subkey to the Domains subkey. The wizard then replaces the "placeholder" in the values with the actual names of SNA resources it collects from the user dialog and substitutes the actual strings into the Registry values constructed in the Domains subkey. The current placeholder values are:</P>
<SPAN CLASS="list"><UL><LI CLASS="ULI2">%F - The file name of the third-party DLL.</LI><LI CLASS="ULI2">%L - The local APPC LU.</LI><LI CLASS="ULI2">%R - The remote APPC LU. </LI></UL></SPAN><H5 CLASS="h4"><A NAME="sec3"></A>Host Security Domain Definitions for Security Integration DLLs</H5><P CLASS="t">The security integration DLLs are in the following Registry location:</P>
<P CLASS="t">HKEY_LOCAL_MACHINE<BR>    SYSTEM<BR>        CurrentControlSet<BR>            Services<BR>                SNAHostProcess<BR>                    Parameters<BR>                        Domains<BR>                            <I>domainName</I></P>
<P CLASS="t">The Host Account Synchronization process requires a single value under this subkey as follows:</P>
<P CLASS="term1"><B>HostSecurityDLL:REG_SZ</B>               Default: <B>%F</B></P>
<P CLASS="dt1">This is the file path to security integration DLLs. It is used by the host process to load the DLL during initialization.</P>
<P CLASS="dt1">The remaining variables are used only by the specific security integration DLL which varies from vendor to vendor. The variables used by SEC400.DLL, which is bundled with SNA&nbsp;Server, are as follows:</P>
<P CLASS="term1"><B>ForcetoUpper:REG_SZ:</B>                 Default: <B>True</B></P>
<P CLASS="dt1">When this is set to true, it causes the SEC400.DLL to force lowercase usernames and passwords when converting from Windows NT to AS/400. It forces uppercase to lowercase when converting from the AS/400 to Windows NT.</P>
<P CLASS="term1"><B>LocalLU:REG_SZ</B>                       Default: <B>%L</B></P>
<P CLASS="dt1">This identifies the local APPC LU used to communicate with the host computer.</P>
<P CLASS="term1"><B>RemoteLU:REG_SZ</B>                      Default: <B>%R</B></P>
<P CLASS="dt1">This identifies the remote APPC LU used to communicate with the host computer.</P>
<P CLASS="term1"><B>TPMode:REQ_SZ</B>                        Default: <B>QPCSUPP</B></P>
<P CLASS="dt1">The mode determines the type of session established in an APPC session. This entry determines whether the session is batch, interactive, on an AS/400, or to be used with the ODBC drivers. The default is QPCSUPP, which is used for all sessions with an AS/400 computer. </P>
<P CLASS="dt1">For more information about modes and how to use them, see the topic "What are Modes and How Do I Use Them" in Part 4, "SNA&nbsp;Server APPC Connectivity," in the <I>Microsoft SNA&nbsp;Server Administration Guide.</I> </P>
<H4 CLASS="h3"><A NAME="sec4"></A>Host Account Cache</H4><P CLASS="t">The Registry variables that affect the Host Account Cache are in the following location:</P>
<P CLASS="t">HKEY_LOCAL_MACHINE<BR>    SYSTEM<BR>        CurrentControlSet<BR>            Services<BR>                SnaDatabase<BR>                    Parameters</P>
<P CLASS="t">The variables that affect the Host Account Cache are:</P>
<P CLASS="term1"><B>Master:REG_DWORD</B>                     Default: <B>1</B></P>
<P CLASS="dt1">If the Host Account Cache resides on the primary controller, it is the master copy, or a default of 1. If it is on a backup or member server, the entry is 0.</P>
<P CLASS="term1"><B>DatabaseFile:REG_EXPAND_SZ   </B><I>path name</I></P>
<P CLASS="dt1">The full path to the master data base is used. For example, the default path could be <I>&lt;snaroot&gt;\CONFIG\Dbase.DBS</I>.</P></BODY></HTML>
