<HTML><head><style>@import url(msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="msdn_ie3.css"></HEAD>

<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>How Data and Indexes Are Stored</TITLE><BODY BGCOLOR="#FFFFFF">


<H3 CLASS="h2">How Data and Indexes Are Stored</H3><P CLASS="t">Rows from a table are stored on pages. A <I>table</I> consists of a group of pages linked together in a chain. As a table grows, a new page is added from a pool of available pages that are randomly distributed throughout the file. Available pages are allocated from unused pages in the device or from pages that have been released because of deletions. The pages that make up the table are not in any physical order, though they have been linked together with pointers that point to the physical position of the next or previous page. The pointers of linked pages are stored in each <I>page header</I>, as illustrated in the following diagram.</P>
<P CLASS="a"><img src="latch07.gif"></P>
<P CLASS="t">The<I> indexes</I> in SQL Server are made up of pages that form a branching structure known as a <I>B-tree</I>. The starting page contains ranges of values within the table. Each range on the starting page branches to another page that contains a more detailed range of values in the table. In turn, these index pages branch out to more layers, which increase the number of pages in the layer and narrow the range of data on each page.</P>
<P CLASS="t">The branching index pages are called <I>node pages</I>. The final layer in the branching structure is called the <I>leaf layer</I>. In a unique, <I>nonclustered index</I>, the ranges on each leaf layer page point to a specific row of data in the table, and the data is stored separately from the index. In a <I>clustered index</I>, the leaf layer is made up of the data pages themselves, because the data is stored with the index, in the physical order specified in the index.</P>
<P CLASS="t">The following diagram illustrates the page structures of clustered and nonclustered indexes.</P>
<P CLASS="a"><img src="latch08.gif"></P></BODY></HTML>
