<HTML><head><style>@import url(msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="msdn_ie3.css"></HEAD>

<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Using Average Sizes for text/image Data Pages</TITLE><BODY BGCOLOR="#FFFFFF">


<H3 CLASS="h2">Using Average Sizes for text/image Data Pages</H3><P CLASS="t">Each <B>text</B> or <B>image</B> column stores a 16-byte pointer in the data row, with the data type <B>varchar(16)</B>. Each <B>text </B>or <B>image </B>column that is initialized requires at least 2K, 1 data page, of storage space.</P>
<P CLASS="t">The <B>text</B> and <B>image</B> columns are designed to store implicit null values, meaning the text pointer in the data row remains null and no text page is initialized for the value, saving 2K of storage space.</P>
<P CLASS="t">If a <B>text </B>or <B>image</B> column is defined to allow null values and the row is created with an INSERT statement that includes NULL for the <B>text</B> or <B>image</B> column, the column is not initialized, and the storage is not allocated.</P>
<P CLASS="t">If a <B>text </B>or <B>image </B>column is changed in any way with UPDATE, including an update to a null value, then the text page is allocated. Inserts or updates that place actual data in a column initialize the page.</P>
<P CLASS="t">The text chains that store text and image data have 112 bytes of overhead per page. Use the following formula to calculate the number of text chain pages that a particular entry will use:</P>
<P CLASS="t">data length/1,800 = number of 2K pages</P>
<P CLASS="t">The result should be rounded up in all cases; for example, a data length of 1,801 bytes requires two 2K pages.</P></BODY></HTML>
