<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Using Outer References in a Query</title>
<link disabled rel=stylesheet href=msdn_ie3.css>
<style type="text/css">
@import url(msdn_ie4.css);
</style>
</HEAD>
<BODY>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="2">

	<!--TOOLBAR_START-->
	<!--TOOLBAR_EXEMPT-->
	<!--TOOLBAR_END-->


<h1><a name="usingouterreferencesinquery"></a>Using Outer References in a Query</h1>
<p>
In a multicube database, available data is segmented into various subcubes. For example, the data for actual sales and the data for budgeted sales may be in two subcubes. In such situations, it is useful to have the ability to reference a member (or in general, a tuple) from a cube that is not part of the FROM clause of an MDX statement.</p>
<p>
In this example using Actual Sales and Budgeted Sales cubes, suppose you want the actual sales of all products which exceeded their budgeted sales. In this query, data is being retrieved from the Actual Sales cube, but there is a filter condition on a tuple from the Budgeted Sales cube. The MDX statement for this query looks as follows:</p>
<pre><code>SELECT 
FILTER(Products.MEMBERS, [Measures].[Sales] &gt; 
 &nbsp; [Budgeted Sales].[Measures].[Sales]) ON COLUMNS,
 &nbsp; Grography.MEMBERS ON ROWS
FROM [Actual Sales]
WHERE ([1997])
</code></pre>
<p class=indent>
<B><b>Note</b></B>&nbsp;&nbsp;&nbsp;An outer reference in the <b>FILTER</b> function is made to the Sales member of the Measures dimension of the Budgeted Sales cube. The outer reference just refers to <i>one</i> coordinate of the Budgeted Sales cube. Like the other coordinates, they are derived from the MDX statement for the dimensions that are common between Actual Sales and Budgeted Sales cubes. The coordinate is the default member of that dimension for dimensions in the Budgeted Sales cube that are not in the Actual Sales cube.</p>
</font></BODY>
</HTML>
