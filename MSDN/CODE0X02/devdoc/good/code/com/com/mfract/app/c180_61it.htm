<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>DIB.H</title>
<link disabled rel=stylesheet href=../../../../../../backsdk3.css>
<style type="text/css">
@import url(../../../../../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>
<h2><a name="_code_context185"></a>DIB.H</h2>
<pre><code>/**************************************************************************** <br> *                                                                          * <br> *  FILE    : DIB.H                                                         * <br> *                                                                          * <br> *  DESCRIPTION : Header/include file for DIB.C                             * <br> *                                                                          * <br> ****************************************************************************/ <br> <br>// This is code that I lifted years ago from the Windows SDK and have since <br>// ported over to NT. <br>//      -- stevebl <br> <br>#ifndef __DIB_H__ <br>#define __DIB_H__ <br>#ifdef __cplusplus <br>extern "C" { <br>#endif <br> <br>/* Macros to display/remove hourglass cursor for lengthy operations */ <br>extern HCURSOR hcurSave; <br>#define StartWait() hcurSave = SetCursor(LoadCursor(NULL,IDC_WAIT)) <br>#define EndWait()   SetCursor(hcurSave) <br> <br>/* flags for _lseek */ <br>#define  SEEK_CUR 1 <br>#define  SEEK_END 2 <br>#define  SEEK_SET 0 <br> <br>#define MAXREAD  32768             /* Number of bytes to be read during */ <br>                       /* each read operation.          */ <br> <br>/* Header signatutes for various resources */ <br>#define BFT_ICON   0x4349   /* 'IC' */ <br>#define BFT_BITMAP 0x4d42   /* 'BM' */ <br>#define BFT_CURSOR 0x5450   /* 'PT' */ <br> <br>/* macro to determine if resource is a DIB */ <br>#define ISDIB(bft) ((bft) == BFT_BITMAP) <br> <br>/* Macro to determine to round off the given value to the closest byte */ <br>#define WIDTHBYTES(i)   ((i+31)/32*4) <br> <br>#define PALVERSION  0x300 <br>#define MAXPALETTE  256   /* max. # supported palette entries */ <br> <br> <br>/***************** FUNCTION DECLARATIONS *******************/ <br> <br>DWORD PASCAL lread(int fh, VOID FAR *pv, DWORD ul); <br>DWORD PASCAL lwrite(int fh, VOID FAR *pv, DWORD ul); <br> <br>/***********************************************************/ <br>/* Declarations of functions used in dib.c module      */ <br>/***********************************************************/ <br> <br>HANDLE      OpenDIB (LPWSTR szFile); <br>BOOL        WriteDIB (LPWSTR szFile,HANDLE hdib); <br>WORD        PaletteSize (VOID FAR * pv); <br>WORD        DibNumColors (VOID FAR * pv); <br>HPALETTE    CreateDibPalette (HANDLE hdib); <br>HPALETTE    CreateBIPalette (LPBITMAPINFOHEADER lpbi); <br>HANDLE      DibFromBitmap (HBITMAP hbm, DWORD biStyle, WORD biBits, HPALETTE hpal); <br>HBITMAP     BitmapFromDib (HANDLE hdib, HPALETTE hpal); <br>BOOL        DibBlt (HDC hdc, int x0, int y0, int dx, int dy, HANDLE hdib, int x1, int y1, LONG rop); <br>BOOL        StretchDibBlt (HDC hdc, int x0, int y0, int dx, int dy, HANDLE hdib, int x1, int y1, int dx1, int dy1, LONG rop); <br>BOOL        DibInfo (HANDLE hdib,LPBITMAPINFOHEADER lpbi); <br>HANDLE      ReadDibBitmapInfo (int fh); <br>BOOL        DrawBitmap (HDC hdc, int x, int y, HBITMAP hbm, DWORD rop); <br>#ifdef __cplusplus <br>} <br>#endif <br>#endif // __DIB_H__ </code></pre>
<p>&nbsp;</p></body>
</HTML>
