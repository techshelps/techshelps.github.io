<HTML><HEAD><META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252"><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>MCI_RESERVE</TITLE><style>@import url(msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="msdn_ie3.css"></HEAD><BODY BGCOLOR="#FFFFFF">
</OBJECT></FORM>
<H2>MCI_RESERVE</H2>  </P>
This MCI command message allocates contiguous disk space for this device driver instance's workspace for use by subsequent recording.</P>
<P></P>

<TABLE COLS="3" BORDER="0" CELLPADDING="7"><COLGROUP><COL WIDTH="97pt" VALIGN="TOP"><COL WIDTH="130pt" VALIGN="TOP"><COL WIDTH="199pt" VALIGN="TOP"></COLGROUP><TBODY><TR><TD VALIGN="TOP"><B>Parameters</B> </P></TD><TD VALIGN="TOP">DWORD  <I>lParam1</I> </P></TD><TD VALIGN="TOP">The following flags apply to all devices supporting MCI_RESERVE:</P></TD></TR></TBODY></TABLE>
<BR></P><P></P>

<TABLE COLS="3" BORDER="0" CELLPADDING="7"><COLGROUP><COL WIDTH="97pt" VALIGN="TOP"><COL WIDTH="319pt" VALIGN="TOP"><COL WIDTH="10pt" VALIGN="TOP"></COLGROUP><TBODY><TR><TD VALIGN="TOP">MCI_NOTIFY</P></TD><TD VALIGN="TOP">Specifies that MCI should post the MM_MCINOTIFY message when this command completes. The window that receives this message is specified in the <B>dwCallback</B> field of the data structure identified by <I>lParam2</I>.</P></TD><TD VALIGN="TOP"></P></TD></TR><TR><TD VALIGN="TOP">MCI_TEST</P></TD><TD VALIGN="TOP">Queries the device to determine if it can execute the command. The device returns an error if it is incapable of executing the command. It returns no error if it can handle the command. MCI returns control to the application without executing the command.</P></TD><TD VALIGN="TOP"></P></TD></TR><TR><TD VALIGN="TOP">MCI_WAIT</P></TD><TD VALIGN="TOP">Specifies that the operation should complete before MCI returns control to the application.</P></TD><TD VALIGN="TOP"></P></TD></TR><TR><TD VALIGN="TOP">MCI_DGV_RESERVE_IN</P></TD><TD VALIGN="TOP">Indicates the <B>lpstrPath</B> field of the data structure identified by <I>lParam2</I> contains a pointer to a buffer containing the location of a temporary file. The buffer contains only the drive and directory path of the file used to hold recorded data; the filename is specified by the device driver. This temporary file is deleted when the device instance is closed unless it is explicitly saved. If this flag is omitted, the device driver specifies where disk space is allocated.</P></TD><TD VALIGN="TOP"></P></TD></TR><TR><TD VALIGN="TOP">MCI_DGV_RESERVE_SIZE</P></TD><TD VALIGN="TOP">Indicates the <B>dwSize</B> field of the data structure identified by <I>lParam2</I> specifies the approximate amount of disk space to reserve in the workspace for recording. The value is specified in the current time format. The amount of disk space is estimated from the requested time and which file format and video and audio algorithm and quality values are in effect. If this flag is omitted, the device driver may use an device driver defined default.</P></TD><TD VALIGN="TOP"></P></TD></TR><TR><TD VALIGN="TOP">LPMCI_DGV_RESERVE_PARMS  <I>lParam2</I> </P></TD><TD VALIGN="TOP">Specifies a far pointer to the <B>MCI_DGV_RESERVE_PARMS</B> data structure.</P></TD><TD VALIGN="TOP"></P></TD></TR><TR><TD VALIGN="TOP"><B>Return Value</B> </P></TD><TD VALIGN="TOP">Returns zero if successful. Otherwise, it returns an MCI error code.</P></TD><TD VALIGN="TOP"></P></TD></TR><TR><TD VALIGN="TOP"><B>Comments</B> </P></TD><TD VALIGN="TOP">If the workspace contains unsaved data, then this data is lost. If disk space is not reserved prior to recording, MCI_RECORD will perform an implied reserve with device-specific default parameters. On some implementations, reserve is not required and might be ignored by the device driver. Explicitly reserving space gives you better control over when the delay for disk allocation will occur, how much space will be allocated, and where the disk space is allocated. The amount and location of disk space already reserved for this device instance can be changed by issuing another MCI_RESERVE. Any allocated, and still unused, disk space is not deallocated until any recorded data is saved or until the device driver instance is closed. </P></TD><TD VALIGN="TOP"></P></TD></TR><TR><TD VALIGN="TOP"></P></TD><TD VALIGN="TOP">If video is turned off with the MCI_OFF flag of the MCI_SETVIDEO command then the space reserved does not include any video. If audio is turned off with the MCI_OFF flag of the MCI_SETAUDIO command then the space reserved does not include any audio. If both audio and video are turned off or if the requested size is zero then no space is reserved and any existing reserved space is deallocated.</P></TD><TD VALIGN="TOP"></P></TD></TR><TR><TD VALIGN="TOP"><B>See Also</B> </P></TD><TD VALIGN="TOP">MCI_RECORD</P></TD><TD VALIGN="TOP"></P></TD></TR></TBODY></TABLE>
<BR></P> </P></BODY></HTML>
