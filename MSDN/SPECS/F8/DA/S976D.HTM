<HTML><HEAD><META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252"><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Wait, Notify, and Test</TITLE><style>@import url(msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="msdn_ie3.css"></HEAD><BODY BGCOLOR="#FFFFFF">
</OBJECT></FORM>
<H2>Wait, Notify, and Test</H2>  </P>
MCI supports the command flags <B>wait</B> and <B>notify</B> on every command. While these flags are not explicitly listed with the commands, they are always accepted. <B>Wait</B> and <B>notify</B> implement two different strategies for handling with delays associated with time consuming commands.</P>
The digital-video MCI command set adds the <B>test</B> flag that you can use with all commands except <B>open</B> and <B>close</B>. When this flag is used, the device checks if it can execute the associated command. If the device driver determines that it can execute the command, it exits without processing the command and without returning an error. If an application supplies a return buffer for a command that returns data, the device returns 0 for integer return values and an empty string for string return values. If the device cannot handle the command, it returns a suitable error. </P>
If a device cannot execute the command because the requested function is not supported, the device should return MCIERR_UNSUPPORTED_FUNCTION for the error. If the device supports a command but it cannot execute it because the device is not in a suitable state, the device should return the error MCIERR_NONAPPLICABLE_FUNCTION.</P>
Applications can use the <B>test</B> flag to determine and adapt to the subtle differences among the digital-video devices. For example, some devices do not disable audio with <B>setaudio</B> <B>off</B> when recording while other devices can disable it. An application might also use <B>test</B> to determine which capabilities are temporarily not available and dim buttons and menu entries accordingly.</P>
To improve the transition to future versions of MCI that include more extensive use of <B>test</B>, the <B>digitalvideo</B> device class also adds the <B>capability</B> <B>can</B> <B>test</B> command.</P>
 </P></BODY></HTML>
