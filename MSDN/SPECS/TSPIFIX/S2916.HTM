<HTML><HEAD><META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252"><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>4.1.0.14  LINE_MONITORTONE</TITLE><style>@import url(msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="msdn_ie3.css"></HEAD><BODY BGCOLOR="#FFFFFF">

</OBJECT></FORM>
<H3>4.1.0.14  LINE_MONITORTONE</H3>This message is sent whenever a monitored tone is detected. The sending of this message is controlled via the <B>TSPI_lineMonitorTone</B> function.  A single tone detection may result in the Service Provider sending this message several times in the case where the detected tone matches several tone descriptions in several different tone lists.  A tone may "match" several non-identical tone descriptions depending on how close they are to one another and the discrimination limits achieved by the Service Provider.  Multiple matches may occur within the same or different tone lists.</P>
  </P>

<TABLE COLS="2" BORDER="0" CELLPADDING="7"><COLGROUP><COL WIDTH="96pt" VALIGN="TOP"><COL WIDTH="325pt" VALIGN="TOP"></COLGROUP><TBODY><TR><TD VALIGN="TOP"><B>Sent to</B></P></TD><TD VALIGN="TOP">LINEEVENT</P></TD></TR></TBODY></TABLE>
<BR></P></P>

<TABLE COLS="2" BORDER="0" CELLPADDING="7"><COLGROUP><COL WIDTH="96pt" VALIGN="TOP"><COL WIDTH="325pt" VALIGN="TOP"></COLGROUP><TBODY><TR><TD VALIGN="TOP"><B>Parameters</B></P></TD><TD VALIGN="TOP">HTAPILINE    <I>htLine<BR></I>Specifies the TAPI DLL's opaque object handle to the line device.</P></TD></TR><TR><TD VALIGN="TOP"></P></TD><TD VALIGN="TOP">HTAPICALL    <I>htCall<BR></I>Specifies the TAPI DLL's opaque object handle to the call device.</P></TD></TR><TR><TD VALIGN="TOP"></P></TD><TD VALIGN="TOP">DWORD    <I>dwMsg<BR></I>The value LINE_MONITORTONE</P></TD></TR><TR><TD VALIGN="TOP"><B> </B></P></TD><TD VALIGN="TOP">DWORD    <I>dwParam1<BR></I>Specifies the app specific field <B>dwAppSpecific</B> of the <B>LINEMONITORTONE</B> structure for the tone that was detected.</P></TD></TR><TR><TD VALIGN="TOP"></P></TD><TD VALIGN="TOP">DWORD    <I>dwParam2<BR></I>Specifies the <B>dwToneListID</B> of the tone list containing a matching tone description.</P></TD></TR><TR><TD VALIGN="TOP"></P></TD><TD VALIGN="TOP">DWORD    <I>dwParam3<BR></I>Unused.</P></TD></TR><TR><TD VALIGN="TOP"><B>Comments</B></P></TD><TD VALIGN="TOP">This message is sent once for each tone it matches in each tone list.  Since there can be multiple matches both within a single tone list and across multiple tone lists, a single tone detection may result in several messages indicating the same <B>dwToneListID</B> and several messages with a differing <B>dwToneListID</B>.</P></TD></TR><TR><TD VALIGN="TOP"><B>Comparison</B></P></TD><TD VALIGN="TOP">The <I>dwParam2</I> field in the corresponding message at the TAPI level is unused.  The TAPI DLL forwards all tone monitoring requests from all applications to the Service Provider to be handled concurrently.  It assigns a unique <B>dwToneListID</B> to each tone list and uses the <B>dwToneListID</B> added to <I>dwParam2</I> at the TAPI level to discriminate the resulting messages.</P></TD></TR><TR><TD VALIGN="TOP"><B>See Also</B></P></TD><TD VALIGN="TOP">Functions:  <B>TSPI_lineMonitorTones<BR></B>Data Types:  <B>LINEMONITORTONE</B></P></TD></TR></TBODY></TABLE>
<BR></P></BODY></HTML>
