<HTML><HEAD><META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252"><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>2.3.11  Configuration Information</TITLE><style>@import url(msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="msdn_ie3.css"></HEAD><BODY BGCOLOR="#FFFFFF">

</OBJECT></FORM>
<H2>2.3.11  Configuration Information</H2>  </P>
When a Service Provider is installed, some configuration information must be added to the TELEPHON.INI file to give the Telephony Service required information regarding the Service Provider.  A Service Provider vendor must arrange for this information to be updated as part of the Service Provider installation.  The Telephony service also provides a tool to allow users to modify the Telelphony service configuration interactively.</P>
Whenever TELEPHON.INI is changed, the Telephony service, its active client applications, and its Service Providers need to be notified.  There is a special entry in WIN.INI that facilitates this notification:</P>
<BR></P>
<pre><code>[Windows Telephony]=<I>yyyy-mm-dd hh:mm:ss</I></code></pre>
Whenever the TELEPHON.INI is changed, the application making the change should update this entry with the new time stamp and broadcast the WM_WININICHANGE message.  The Telephony service takes care of notifying its client Telephony applications through the TAPI, while Service Providers need to handle this message directly.</P>
The TELEPHON.INI file contains a wide variety of information, only some of which is defined by the TSPI.  This section describes only the TSPI-defined information, leaving the other parts to be described where they are relevant.</P>
Within the following description, three kinds of identifying numbers are discussed:</P>
<SPAN CLASS="list"><UL><LI><B>    name-sequence numbers</B>.  These numbers simply provide a convenient way to index through a list of similar entries in a TELEPHON.INI file section.  For example, the list of "Driver" entries in the [Drivers] section uses the names Driver0, Driver1, Driver2, ... as a set of easily-indexed names for the entries.  The scope of these name-sequence numbers is strictly limited to the section in which they appear.  These numbers have unrelated to anything outside the section.  They may be completely renumbered whenever the TELEPHON.INI configuration changes.</LI><LI><B>    permanent ID numbers</B>.  These numbers as permanent identifiers for entries.  They typically appear in several different TELEPHON.INI file sections to identify a relationship between entries in those two sections.  For example, each entry in the [Lines] section include the permanent ID number of a driver.  This indicates that the entry corresponds to the driver with the matching permanent ID number in the [Drivers] section.  The scope of these numbers includes the entire TELEPHON.INI and persists until such numbers are explicitly changed.  Some of these numbers can be retrieved through the TAPI and TSPI interfaces.</LI><LI><B>    device ID numbers</B>.  Whenever an application "Opens" a device, it identifys the device by some sort of name.  Different device classes use different naming schemes.  The Telephony device class, as with most Windows device classes, uses a sequential range of integers starting at 0 for these device names.  The TAPI and TSPI interfaces refer to such a name as a "Device ID".  The device IDs for devices are computed and assigned by the Telephony service at run time.  Each Service Provider is told, at early initialization time, the beginnings of its contiguous ranges of "line" and "phone" device IDs.  These device ID numbers are unrelated to any other numbers discussed here.</LI></UL></SPAN></BODY></HTML>
