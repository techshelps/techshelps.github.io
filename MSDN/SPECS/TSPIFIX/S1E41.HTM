<HTML><HEAD><META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252"><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>3.1.6  End-to-End marking</TITLE><style>@import url(msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="msdn_ie3.css"></HEAD><BODY BGCOLOR="#FFFFFF">

</OBJECT></FORM>
<H2>3.1.6  End-to-End marking</H2>  </P>
A few of the functions in the TSPI have the properties that (1) they request a long-running operation for which there can be only one outstanding, and (2) a matching message is returned when the operation completes.  These characteristics together with the asynchronous request model lead to a subtle ambiguity as shown in the following timing diagram:</P>
<img src="LQ0C.gif"></P>
<B>A long-running operation with a matching message is shown.  Time proceeds downwards with the boundary between TAPI DLL and Service Provider shown by the long vertical line.  (1) An operation is requested.  The Service Provider returns (2) with an "asynchronous" indication and eventually a matching asynch-completion (3), which may indicate "success" or "failure".  What if the Service Provider issues a matching "operation complete" message (4) in the interval?  Does this correspond to the newly requested operation or some previously requested instance (5) of the same operation?</B></P></BODY></HTML>
