<HTML><HEAD><META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252"><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>2.4.2.5  Media Control</TITLE><style>@import url(msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="msdn_ie3.css"></HEAD><BODY BGCOLOR="#FFFFFF">

</OBJECT></FORM>
<H3>2.4.2.5  Media Control</H3>The TAPI DLL can request the execution of a limited set of media control operations on the call's media stream triggered by telephony events. Although the TAPI DLL's clients will usually use the media API specifically defined for the media mode, media control can yield a significant performance improvement for client/server implementations since simple "detect/control" sequences can be offloaded to the server. The operation <B>TSPI_lineSetMediaControl</B> allows the TAPI DLL to specify a list of tuples specifying a telephony event and the associated media control action.</P>
The telephony events that can trigger media control activities are:</P>
<SPAN CLASS="list"><UL><LI><B>    detection of a digit</B> - The TAPI DLL provides a list of specific digits and the media control action each of them triggers.</LI><LI><B>    detection of a media mode</B> - The TAPI DLL provides a list of media modes and the media control actions a transition into the media mode triggers.</LI><LI><B>    detection of a specified tone </B>- The TAPI DLL specifies a list of tones and the media control action each tone detection triggers.</LI><LI><B>    detection of a call state</B> - The TAPI DLL specifies a list of call states and the media control action each transition to the call state triggers.</LI></UL></SPAN>The media control actions are defined generically for the different media modes. Not all media streams may provide meaningful interpretations of the media control actions. The operations should map well to audio streams. </P>
<SPAN CLASS="list"><UL><LI><B>    start</B> - Starts the media stream. </LI><LI><B>    reset</B> - Resets the media stream. </LI><LI><B>    pause</B> - Stops or pauses the media stream.</LI><LI><B>    resume </B>- Starts or resumes the media stream. </LI><LI><B>    rate up</B> - Increases the rate (i.e., speed) of the media stream by a implementation-defined amount.</LI><LI><B>    rate down</B> - Decreases the rate (i.e., speed) of the media stream by a implementation-defined amount. </LI><LI><B>    rate normal</B> - Returns the rate (i.e., speed) to normal.</LI><LI><B>    volume up</B> - Increases the volume (i.e., amplitude) of the media stream.</LI><LI><B>    volume down</B> - Decreases the volume (i.e., amplitude) of the media stream. </LI><LI><B>    volume normal</B> - Returns the volume (i.e., amplitude) to normal.</LI></UL></SPAN>TSPI_lineSetMediaControl</P>
Sets up a call's media stream for media control.  </P>
The scope of media control is bound by the lifetime of the call. Media control on a call ends as soon the call <I>disconnects</I> or goes <I>idle</I>. Only a single media control request can be outstanding on a call across all apps.</P></BODY></HTML>
