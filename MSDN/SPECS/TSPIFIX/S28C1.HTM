<HTML><HEAD><META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252"><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>2.4.1.6  Address Formats</TITLE><style>@import url(msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="msdn_ie3.css"></HEAD><BODY BGCOLOR="#FFFFFF">

</OBJECT></FORM>
<H3>2.4.1.6  Address Formats</H3>Addresses assigned to a line device in the API are typically selected via their address ID. Each address ID corresponds to a directory number via which the address is known to entities that want to make calls to it. Also, making outbound calls typically requires that a directory number be supplied to identify the called party. </P>
Many users like to dial people, fax machines, bulletin boards, etc. by selecting their names from an address book. The actual directory number that is to be dialed depends on the geographical location of the user and the connectivity of the specific line device. For example, a PC may have access to two lines. One could be connected to a PBX while another could be connected to the central office. When making a call to the same party, different numbers (i.e., a different prefix; dial '9' to get out) will have to be used. The user may have a portable PC or notebook and should not have to change the entries in the address book simply because they operate in a different telephony environment. Rather, the user would like a way of telling the computer about his current location and the line device he wants to make calls on, leaving the address book unchanged, and instead have dialing take care of the differences transparently. </P>
Related to this is the handling of international call progress. The call progress tones involved in making a call may include all tones in the path from the originating switch to the remote party's switch. Call progress tone tables typically vary from country to country. To make call progress work internationally, the service provider needs to know what call progress to use when making an outbound call.</P>
To deal with directory numbers, the API defines two common formats. One is the <I>canonical</I> address format, the other is the <I>dialable</I> number format.</P>
The <B>canonical address format</B> is intended to be a universally constant directory number, it is the directory number one would like to store in the address book, and never change. </P>
The API contains operations to take address in the canonical address format and convert them to the dialable number format.  A side effect of this conversion process is to extract a country code identifying the target country for the call.  All addresses that appear at the TSPI have been translated to dialable address format.  Functions involving dialing include the extracted country code.  This country code can be used by the Service Provider to provide call progress determination that is independent of national boundaries.</P>
The <B>dialable address format</B> describes a number that can be dialed on the given line. A dialable address contains part addressing information and is part navigational in nature. A dialable address is an ASCII string with the following structure:</P>
DialableNumber<B> $ </B>BillingInfo<B> | </B>Subaddress<B> ^ </B>Name<B> CRLF </B>... <B>;    </B></P>
where</P>
</P>

<TABLE COLS="2" BORDER="0" CELLPADDING="7"><COLGROUP><COL WIDTH="96pt" VALIGN="TOP"><COL WIDTH="325pt" VALIGN="TOP"></COLGROUP><TBODY><TR><TD VALIGN="TOP">DialableNumber</P></TD><TD VALIGN="TOP">digits and delimiters <B>0-9 A-D * # ,</B> <B>! W w P p T t @ ;</B> delimited by <B>$ | ^ CRLF</B> or the end of the dialable address string.</P></TD></TR></TBODY></TABLE>
<BR></P></BODY></HTML>
