<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD><META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<META HTTP-EQUIV="Content-Type" Content="text-html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>5.7 The Attribute Certificate Table (Image Only)</title>
<style>@import url(msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="msdn_ie3.css"></HEAD>
<BODY BGCOLOR=#FFFFFF TEXT=#000000>


<FONT FACE="verdana, Arial, Helvetica" SIZE="2">

<h1><a name="5.7theattributecertificatetable(imageonly)"></a>5.7 The Attribute Certificate Table (Image Only)</h1>
<p>
Attribute Certificates may be associated with an image by adding an Attribute Certificate Table. There are a number of different types of  Attribute Certificates.  The meaning and use of each certificate type is not covered in this document.  For this information see<i><u><b> </b>the Microsoft Distributed System Architecture, Attribute Certificate Architecture Specification.</u></i></p>
<p>
An Attribute Certificate Table is added at the end of the image, with only a .debug section following (if a .debug section is present).  The Attribute Certificate Table contains one or more fixed length table entries which can be found via the Certificate Table field of the Optional Header Data Directories list (offset 128).  Each entry of this table identifies the beginning location and length of a corresponding certificate.  There is one Certificate Table entry for each certificate stored in this section. The number of entries in the certificate table can be calculated by dividing the size of the certificate table (found in offset 132)  by the size of an entry in the certificate table (8).  Note that the size of the certificate table includes only the table entries, not the actual certificates which the table entries, in turn, point to.</p>
<p>
The format of each table entry is:</p>
<table border=1 cols=4 frame=box rules=all>
<tr valign=top>
<TD width=69pt><FONT FACE="verdana, Arial, Helvetica" SIZE="2"><b>Offset</b></td>
<TD width=40pt><FONT FACE="verdana, Arial, Helvetica" SIZE="2"><b>Size</b></td>
<TD width=117pt><FONT FACE="verdana, Arial, Helvetica" SIZE="2"><b>Field</b></td>
<TD width=212pt><FONT FACE="verdana, Arial, Helvetica" SIZE="2"><b>Description</b></td>
</tr>
<tr valign=top>
<TD width=69pt><FONT FACE="verdana, Arial, Helvetica" SIZE="2">0</td>
<TD width=40pt><FONT FACE="verdana, Arial, Helvetica" SIZE="2">4</td>
<TD width=117pt><FONT FACE="verdana, Arial, Helvetica" SIZE="2">Certificate Data</td>
<TD width=212pt><FONT FACE="verdana, Arial, Helvetica" SIZE="2">File pointer to the certificate data.  This will always point to an address that is octaword aligned (i.e., is a multiple of 8 bytes and so the low-order 3 bits are zero).</td>
</tr>
<tr valign=top>
<TD width=69pt><FONT FACE="verdana, Arial, Helvetica" SIZE="2">0</td>
<TD width=40pt><FONT FACE="verdana, Arial, Helvetica" SIZE="2">4</td>
<TD width=117pt><FONT FACE="verdana, Arial, Helvetica" SIZE="2">Size of Certificate</td>
<TD width=212pt><FONT FACE="verdana, Arial, Helvetica" SIZE="2">Unsigned integer identifying the size (in bytes) of the certificate.</td>
</tr>
</table><br>
<p>
Notice that certificates always start on an octaword boundary.    If a certificate is not an even number of octawords long, it is zero padded to the next octaword boundary.  However, the length of the certificate does <b><i>not</i></b> include this padding and so any certificate navigation software must be sure to round up to the next octaword to locate another certificate.</p>

</BODY>
</HTML>
