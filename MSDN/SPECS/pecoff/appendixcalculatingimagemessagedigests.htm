<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD><META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<META HTTP-EQUIV="Content-Type" Content="text-html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Appendix: Calculating Image Message Digests</title>
<style>@import url(msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="msdn_ie3.css"></HEAD>
<BODY BGCOLOR=#FFFFFF TEXT=#000000>

<FONT FACE="verdana, Arial, Helvetica" SIZE="2">

<h1><a name="appendixcalculatingimagemessagedigests"></a>Appendix: Calculating Image Message Digests</h1>
<p>
Several Attribute Certificates are expected to be used to verify the integrity of the images.  That is, they will be used to ensure that a particular image file, or part of that image file, has not been altered in any way from its original form.  To accomplish this task, these certificates will typically include something called a Message Digest.  </p>
<p>
Message digests are similar to a file checksum in that they produce a small value that relates to the integrity of a file.  A checksum is produced by a simple algorithm and its use is primarily to detect memory failures.  That is, it is used to detect whether or not a block of memory on disk has gone bad and the values stored there have become corrupted.  A message digest is similar to a checksum in that it will also detect file corruption.  However, unlike most checksum algorithms, a message digest also has the property that it is very difficult to modify a file such that it will have the same message digest as its original (unmodified) form.  That is, a checksum is intended to detect simple memory failures leading to corruption, but a message digest may be used to detect intentional, and even crafty modifications to a file, such as those introduced by viruses, hackers, or Trojan Horse programs.</p>
<p>
It is not desirable to include all image file data in the calculation of a message digest.  In some cases it simply presents undesirable characteristics (like the file is no longer localizable without regenerating certificates) and in other cases it is simply impossible.  For example, It is not possible to include all information within an image file in a message digest, then insert a certificate containing that message digest in the file, and later be able to generate an identical message digest by including all image file data in the calculation again (since the file now contains a certificate that wasn&#39;t originally there).</p>
<p>
This specification does not attempt to architect what each Attribute Certificate may be used for, or which fields or sections of an image file must be included in a message digest.  However, this section does identify which fields you may not want to or may  not include in a message digest.</p>
<p>
In addition to knowing which fields are and are not included in the calculation of a message digest, it is important to know the order in which the contents of the image are presented to the digest algorithm.  This section specifies that order.</p>

</BODY>
</HTML>
