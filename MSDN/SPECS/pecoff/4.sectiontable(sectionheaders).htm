<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD><META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<META HTTP-EQUIV="Content-Type" Content="text-html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>4. Section Table (Section Headers)</title>
<style>@import url(msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="msdn_ie3.css"></HEAD>
<BODY BGCOLOR=#FFFFFF TEXT=#000000>


<FONT FACE="verdana, Arial, Helvetica" SIZE="2">

<h1><a name="4.sectiontable(sectionheaders)"></a>4. Section Table (Section Headers)</h1>
<p>
Each row of the Section Table, in effect, is a section header. This table immediately follows the optional header, if any. This positioning is required because the file header does not contain a direct pointer to the section table; the location of the section table is determined by calculating the location of the first byte after the headers.  Make sure to use the size of the optional header as specified in the file header.</p>
<p>
The number of entries in the Section Table is given by the NumberOfSections field in the file header. Entries in the Section Table are numbered starting from one. The code and data memory section entries are in the order chosen by the linker.</p>
<p>
In an image file, the virtual addresses for sections must be assigned by the linker such that they are in ascending order and adjacent, and they must be a multiple of the Section Align value in the optional header.</p>
<p>
Each section header (Section Table entry) has the following format, for a total of 40 bytes per entry:</p>
<table border=1 cols=4 frame=box rules=all>
<tr valign=top>
<TD width=60pt><FONT FACE="verdana, Arial, Helvetica" SIZE="2"><b>Offset</b></td>
<TD width=40pt><FONT FACE="verdana, Arial, Helvetica" SIZE="2"><b>Size</b></td>
<TD width=117pt><FONT FACE="verdana, Arial, Helvetica" SIZE="2"><b>Field</b></td>
<TD width=238pt><FONT FACE="verdana, Arial, Helvetica" SIZE="2"><b>Description</b></td>
</tr>
<tr valign=top>
<TD width=60pt><FONT FACE="verdana, Arial, Helvetica" SIZE="2">0</td>
<TD width=40pt><FONT FACE="verdana, Arial, Helvetica" SIZE="2">8</td>
<TD width=117pt><FONT FACE="verdana, Arial, Helvetica" SIZE="2">Name</td>
<TD width=238pt><FONT FACE="verdana, Arial, Helvetica" SIZE="2">An eight-byte, null-padded ASCII string. There is no terminating null if the string is exactly eight characters long. For longer names, this field contains a slash (/) followed by ASCII representation of a decimal number: this number is an offset into the string table.  Executable images do not use a string table and do not support section names longer than eight characters.  Long names in object files will be truncated if emitted to an executable file.</td>
</tr>
<tr valign=top>
<TD width=60pt><FONT FACE="verdana, Arial, Helvetica" SIZE="2">8</td>
<TD width=40pt><FONT FACE="verdana, Arial, Helvetica" SIZE="2">4</td>
<TD width=117pt><FONT FACE="verdana, Arial, Helvetica" SIZE="2">VirtualSize</td>
<TD width=238pt><FONT FACE="verdana, Arial, Helvetica" SIZE="2">Total size of the section when loaded into memory. If this value is greater than Size of Raw Data, the section is zero-padded. This field is valid only for executable images and should be set to 0 for object files.</td>
</tr>
<tr valign=top>
<TD width=60pt><FONT FACE="verdana, Arial, Helvetica" SIZE="2">12</td>
<TD width=40pt><FONT FACE="verdana, Arial, Helvetica" SIZE="2">4</td>
<TD width=117pt><FONT FACE="verdana, Arial, Helvetica" SIZE="2">VirtualAddress</td>
<TD width=238pt><FONT FACE="verdana, Arial, Helvetica" SIZE="2">For executable images  this is the address of the first byte of the section, when loaded into memory, relative to the image base. For object files, this field is the address of the first byte before relocation is applied; for simplicity, compilers should set this to zero. Otherwise, it is an arbitrary value that is subtracted from offsets during relocation.</td>
</tr>
<tr valign=top>
<TD width=60pt><FONT FACE="verdana, Arial, Helvetica" SIZE="2">16</td>
<TD width=40pt><FONT FACE="verdana, Arial, Helvetica" SIZE="2">4</td>
<TD width=117pt><FONT FACE="verdana, Arial, Helvetica" SIZE="2">SizeOfRawData</td>
<TD width=238pt><FONT FACE="verdana, Arial, Helvetica" SIZE="2">Size of the section (object file) or size of the initialized data on disk (image files).  For executable image, this must be a multiple of FileAlignment from the optional header.  If this is less than VirtualSize the remainder of the section is zero filled.  Because this field is rounded while the VirtualSize field is not it is possible for this to be greater than VirtualSize as well.  When a section contains only uninitialized data, this field should be 0.</td>
</tr>
<tr valign=top>
<TD width=60pt><FONT FACE="verdana, Arial, Helvetica" SIZE="2">20</td>
<TD width=40pt><FONT FACE="verdana, Arial, Helvetica" SIZE="2">4</td>
<TD width=117pt><FONT FACE="verdana, Arial, Helvetica" SIZE="2">PointerToRawData</td>
<TD width=238pt><FONT FACE="verdana, Arial, Helvetica" SIZE="2">File pointer to section&#39;s first page within the COFF file. For executable images, this must be a multiple of FileAlignment from the optional header.  For object files, the value should be aligned on a four-byte boundary for best performance.  When a section contains only uninitialized data, this field should be 0.</td>
</tr>
<tr valign=top>
<TD width=60pt><FONT FACE="verdana, Arial, Helvetica" SIZE="2">24</td>
<TD width=40pt><FONT FACE="verdana, Arial, Helvetica" SIZE="2">4</td>
<TD width=117pt><FONT FACE="verdana, Arial, Helvetica" SIZE="2">PointerToRelocations</td>
<TD width=238pt><FONT FACE="verdana, Arial, Helvetica" SIZE="2">File pointer to beginning of relocation entries for the section.  Set to 0 for executable images or if there are no relocations.</td>
</tr>
<tr valign=top>
<TD width=60pt><FONT FACE="verdana, Arial, Helvetica" SIZE="2">28</td>
<TD width=40pt><FONT FACE="verdana, Arial, Helvetica" SIZE="2">4</td>
<TD width=117pt><FONT FACE="verdana, Arial, Helvetica" SIZE="2">PointerToLinenumbers</td>
<TD width=238pt><FONT FACE="verdana, Arial, Helvetica" SIZE="2">File pointer to beginning of line-number entries for the section.  Set to 0 if there are no COFF line numbers.</td>
</tr>
<tr valign=top>
<TD width=60pt><FONT FACE="verdana, Arial, Helvetica" SIZE="2">32</td>
<TD width=40pt><FONT FACE="verdana, Arial, Helvetica" SIZE="2">2</td>
<TD width=117pt><FONT FACE="verdana, Arial, Helvetica" SIZE="2">NumberOfRelocations</td>
<TD width=238pt><FONT FACE="verdana, Arial, Helvetica" SIZE="2">Number of relocation entries for the section. Set to 0 for executable images.</td>
</tr>
<tr valign=top>
<TD width=60pt><FONT FACE="verdana, Arial, Helvetica" SIZE="2">34</td>
<TD width=40pt><FONT FACE="verdana, Arial, Helvetica" SIZE="2">2</td>
<TD width=117pt><FONT FACE="verdana, Arial, Helvetica" SIZE="2">NumberOfLinenumbers</td>
<TD width=238pt><FONT FACE="verdana, Arial, Helvetica" SIZE="2">Number of line-number entries for the section.</td>
</tr>
<tr valign=top>
<TD width=60pt><FONT FACE="verdana, Arial, Helvetica" SIZE="2">36</td>
<TD width=40pt><FONT FACE="verdana, Arial, Helvetica" SIZE="2">4</td>
<TD width=117pt><FONT FACE="verdana, Arial, Helvetica" SIZE="2">Characteristics</td>
<TD width=238pt><FONT FACE="verdana, Arial, Helvetica" SIZE="2">Flags describing section&#39;s characteristics. See Section 4.1, &quot;Section Flags,&quot; for more information.</td>
</tr>
</table><br>

</BODY>
</HTML>
