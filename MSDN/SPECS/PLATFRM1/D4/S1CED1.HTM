<HTML><HEAD><META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252"><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>B.2. LFSR Checksum Functions</TITLE><style>@import url(msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="msdn_ie3.css"></HEAD><BODY BGCOLOR="#FFFFFF">

</OBJECT></FORM>
<H3>B.2. LFSR Checksum Functions</H3>  </P>
The checksum algorithm uses the same LFSR as is used in the initiation key process.</P>
<img src="QI10O.gif"></P>
<B>Figure B-2.  Checksum LFSR</B></P>
The LFSR resets to 0x6A upon receiving the <B><I>Wake</I></B>[CSN] command.  The next shift value for the LFSR is calculated as LFSR[1] XOR LFSR[0] XOR Serial Data.  The LFSR is shifted right one bit at the conclusion of each pair of reads to the Serial Isolation register.  LFSR[7] is assigned the next shift value described above.</P>
As an example of the data pattern generated by the LFSR during the serial shift protocol consider a card with a vendor abbreviation of "PXQ", a manufacturer-specific product number of 540, a revision level of "9", and a serial number of 0x04000100.</P>
The ASCII EISA ID for "PXQ" is 0x1143 where 0x43 is byte 0 and 0x11 is byte 1 as per Table 2, Section 6.1.</P>
</P>

<TABLE COLS="2" BORDER="0" CELLPADDING="7"><COLGROUP><COL WIDTH="151pt" VALIGN="TOP"><COL WIDTH="154pt" VALIGN="TOP"></COLGROUP><TBODY><TR><TD VALIGN="TOP">Vendor ID Byte 0: </P></TD><TD VALIGN="TOP">0x43 </P></TD></TR><TR><TD VALIGN="TOP">Vendor ID Byte 1: </P></TD><TD VALIGN="TOP">0x11 </P></TD></TR><TR><TD VALIGN="TOP">Vendor ID Byte 2: </P></TD><TD VALIGN="TOP">0x54 </P></TD></TR><TR><TD VALIGN="TOP">Vendor ID Byte 3: </P></TD><TD VALIGN="TOP">0x09 </P></TD></TR><TR><TD VALIGN="TOP">Serial Number Byte 0:</P></TD><TD VALIGN="TOP">0x00</P></TD></TR><TR><TD VALIGN="TOP">Serial Number Byte 1:</P></TD><TD VALIGN="TOP">0x01</P></TD></TR><TR><TD VALIGN="TOP">Serial Number Byte 2:</P></TD><TD VALIGN="TOP">0x00</P></TD></TR><TR><TD VALIGN="TOP">Serial Number Byte 3:</P></TD><TD VALIGN="TOP">0x04</P></TD></TR></TBODY></TABLE>
<BR></P>The serial identifier is sent as</P>
  </P>
<BR></P>
<pre><code>0x43 (Bit 0 to bit 7, 1 1 0 0 0 0 1 0)
0x11                  1 0 0 0 1 0 0 0
0x54                  0 0 1 0 1 0 1 0
0x09                  1 0 0 1 0 0 0 0
0x00                  0 0 0 0 0 0 0 0
0x01                  1 0 0 0 0 0 0 0
0x00                  0 0 0 0 0 0 0 0
0x04                  0 0 1 0 0 0 0 0</code></pre>
  </P>
The LFSR is reset to value 0x6A when this card receives a Wake[CSN] command.  After 64 pairs of reads of the Serial Isolation register, the LFSR will have the value 0xDC.  </P>
 </P></BODY></HTML>
