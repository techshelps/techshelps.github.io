<HTML><HEAD><META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252"><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>3.1. Auto-configuration Ports</TITLE><style>@import url(msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="msdn_ie3.css"></HEAD><BODY BGCOLOR="#FFFFFF">

</OBJECT></FORM>
<H3>3.1. Auto-configuration Ports</H3>  </P>
Three 8-bit ports are used by the software to access the configuration space on each Plug and Play ISA card.  The ports are listed in table 1.  The configuration space is implemented as a set of 8-bit registers.  These registers are used by the Plug and Play software to issue commands, check status, access the resource data information, and configure the Plug and Play hardware.  </P>
The ports have been chosen so as to avoid conflicts in the installed base of ISA functions, while at the same time minimizing the number of ports needed in the ISA I/O space.  </P>
Table 1.  Auto-configuration Ports</P>
  </P>

<TABLE COLS="3" BORDER="0" CELLPADDING="7"><COLGROUP><COL WIDTH="154pt" VALIGN="TOP"><COL WIDTH="256pt" VALIGN="TOP"><COL WIDTH="82pt" VALIGN="TOP"></COLGROUP><TBODY><TR><TD VALIGN="TOP"><B>Port Name</B></P></TD><TD VALIGN="TOP"><B>Location</B></P></TD><TD VALIGN="TOP"><B>Type</B></P></TD></TR><TR><TD VALIGN="TOP">ADDRESS</P></TD><TD VALIGN="TOP">0x0279 (Printer status port) </P></TD><TD VALIGN="TOP">Write-only</P></TD></TR><TR><TD VALIGN="TOP">WRITE_DATA </P></TD><TD VALIGN="TOP">0x0A79 (Printer status port + 0x0800) </P></TD><TD VALIGN="TOP">Write-only</P></TD></TR><TR><TD VALIGN="TOP">READ_DATA</P></TD><TD VALIGN="TOP">Relocatable in range 0x0203 to 0x03FF</P></TD><TD VALIGN="TOP">Read-only</P></TD></TR></TBODY></TABLE>
<BR></P>The ADDRESS and WRITE_DATA ports are located at fixed addresses.  The WRITE_DATA port is located at an address alias of the ADDRESS port. All three auto-configuration ports use a 12-bit ISA address decode.</P>
The READ_DATA port is relocatable within the I/O range from 0x0203h to 0x03FFh.  This is the only readable auto-configuration port.</P>
<img src="QI2O.gif"></P>
<B>Figure 3.  Logic Flow for Auto-configuration </B></P>
<A NAME="PT2"></A>3.1.1. ADDRESS Port</P>
The Plug and Play registers are accessed by first writing the address of the desired register to the ADDRESS port, followed by a read of data from the READ_DATA port or a write of data to the WRITE_DATA port.  A write to the ADDRESS port may be followed by any number of WRITE_DATA or READ_DATA accesses to the same register location without the need to write to the ADDRESS port before each access.</P>
The ADDRESS port is also the write destination of the initiation key, which is described later.</P>
<A NAME="PT3"></A>3.1.2. WRITE_DATA Port</P>
The WRITE_DATA port is used to write information to the Plug and Play registers.  The destination of the data is determined by the last setting of the ADDRESS port.</P>
<A NAME="PT4"></A>3.1.3. READ_DATA Port</P>
The READ_DATA port is used to read information from the Plug and Play registers.  The source of the data is determined by the last setting of the ADDRESS port.</P>
The address of the READ_DATA port is set by writing the proper value to a Plug and Play control register.  The isolation protocol verifies that the location selected for the READ_DATA port is free of conflict.</P>
 </P></BODY></HTML>
