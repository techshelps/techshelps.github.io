<HTML><HEAD><META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252"><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>4.5 Cursor Resources</TITLE><style>@import url(msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="msdn_ie3.css"></HEAD><BODY BGCOLOR="#FFFFFF">

</OBJECT></FORM>
<H2>4.5 Cursor Resources</H2>Cursor resources are very much like icon resources. They are formed in groups with the components preceding the header. This header also employs a fixed-length component index that allows random access of the individual components. The structure of the cursor header is as follows:</P>
  </P>
<BR></P>
<pre><code>     [Resource header (type = 12)]

struct CursorHeader {
     WORD     wReserved;     // Currently zero
     WORD     wType;         // 2 for cursors
     WORD     cwCount;       // Number of components
     WORD     padding;       // Filler for DWORD alignment
     };</code></pre>
  </P>
The next portion is repeated for each component resource, and starts on a DWORD boundary.</P>
  </P>
<BR></P>
<pre><code>struct ResourceDirectory {
     WORD     wWidth;
     WORD     wHeight;
     WORD     wPlanes;
     WORD     wBitCount;
     DWORD    lBytesInRes;
     WORD     wNameOrdinal;     // Points to component
     WORD     padding;          // Filler for DWORD alignment
     };</code></pre>
  </P>
Each cursor component is also similar to each icon component. There is, however, one significant difference between the two: cursors have the concept of a "hotspot" where icons do not. Here is the component structure:</P>
  </P>
<BR></P>
<pre><code>     [Resource header (Type = 1)]

struct CursorComponent {
     short     xHotspot;
     short     yHotspot;
     }
          [Monochrome XOR mask]
          [Monochrome AND mask]</code></pre>
  </P>
These masks are bitmaps copied from the .CUR file. The main difference from icons in this regard is that cursors do not have color DIBs used for XOR masks like cursors. Although the bitmaps are monochrome and do not have DIB headers or color tables, the bits are still in DIB format with respect to alignment and direction. See the SDK Reference for more information on DIB formats.</P></BODY></HTML>
