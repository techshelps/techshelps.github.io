<HTML><HEAD><META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252"><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Priority</TITLE><style>@import url(msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="msdn_ie3.css"></HEAD><BODY BGCOLOR="#FFFFFF">

</OBJECT></FORM>
<H2>Priority</H2>Windows NT uses a notion of interrupt priority level to control and schedule Interrupt Service Routines (ISRs) and certain types of system operation.  To implement this, it is necessary to be able to mask off all interrupts at and below a given priority.  The masking operation must be reliable.  (That is, once interrupts have been masked off at and below level N, it is guaranteed that no interrupt of level N or below will be seen until unmasked).  Ideally, the interrupt controller would mask off all interrupts at level N and below when a level N interrupt is acknowledged, and the interrupt controller would allow the processor to mask off all interrupts at and below level N by doing a single write to a register.  The OS can emulate this behavior by "manually" writing mask registers, but at the cost of reduced performance.  Interrupt priority level is changed very frequently, so making the interface between the processor and the interrupt controller simple and efficient is important.</P>
Windows NT requires at least 16 interrupt priority levels.  Ideal systems will not use any more.  Notice that these are levels and not sources or vectors.  There can be an arbitrary number of vectors (sources) per level, and it is desirable to support as many sources as possible.</P>
<A NAME="PT2"></A>Priority Hierarchy</P>
The following ordering of priority levels is required:</P>
<P></P>

<TABLE COLS="2" BORDER="0" CELLPADDING="7"><COLGROUP><COL WIDTH="225pt" VALIGN="TOP"><COL WIDTH="166pt" VALIGN="TOP"></COLGROUP><TBODY><TR><TD VALIGN="TOP">NMI</P></TD><TD VALIGN="TOP"></P></TD></TR><TR><TD VALIGN="TOP">Power Fail</P></TD><TD VALIGN="TOP"></P></TD></TR><TR><TD VALIGN="TOP">Inter-Processor Interrupt</P></TD><TD VALIGN="TOP"></P></TD></TR><TR><TD VALIGN="TOP">Interval timers</P></TD><TD VALIGN="TOP"></P></TD></TR><TR><TD VALIGN="TOP">I/O devices</P></TD><TD VALIGN="TOP"></P></TD></TR><TR><TD VALIGN="TOP">...</P></TD><TD VALIGN="TOP"></P></TD></TR><TR><TD VALIGN="TOP">I/O devices</P></TD><TD VALIGN="TOP"></P></TD></TR><TR><TD VALIGN="TOP">DPC</P></TD><TD VALIGN="TOP">/ Software interrupts</P></TD></TR><TR><TD VALIGN="TOP">APC</P></TD><TD VALIGN="TOP">/ System sends to self.</P></TD></TR><TR><TD VALIGN="TOP">0</P></TD><TD VALIGN="TOP"></P></TD></TR></TBODY></TABLE>
<BR></P> </P></BODY></HTML>
