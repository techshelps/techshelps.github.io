<HTML><HEAD><META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252"><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Flow</TITLE><style>@import url(msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="msdn_ie3.css"></HEAD><BODY BGCOLOR="#FFFFFF">

</OBJECT></FORM>
<H2>Flow</H2>  </P>
To assist you in keeping track of how Winlogon and GINA DLLs work, here is the flow and response:</P>
<I>Boot</I></P>
Winlogon calls GINA's <B>WlxNegotiate()</B>.</P>
Winlogon calls GINA's <B>WlxInitialize()</B>.</P>
State of workstation becomes No One Logged On.</P>
<I>No one logged on</I></P>
(GINA monitoring device(s) for SAS).</P>
GINA calls <B>WlxSasNotify()</B> to indicate a SAS has been entered.</P>
Winlogon delivers SAS back to GINA by calling GINA's <B>WlxLoggedOutSas()</B>.</P>
<I>User logged on</I></P>
GINA calls <B>WlxSasNotify</B>.</P>
Winlogon delivers SAS back to GINA by calling GINA's <B>WlxLoggedOnSas()</B>.</P>
<I>User logged on, wants to lock machine</I></P>
GINA calls WlxSasNotify.</P>
Winlogon delivers SAS back to GINA by calling GINA's WlxLoggedOnSas().</P>
GINA returns WLX_LOCKWINSTA.</P>
<I>User logged on, windowstation locked, wants to unlock machine</I></P>
GINA calls <B>WlxSasNotify</B>. </P>
Winlogon delivers SAS back to GINA by calling GINA's <B>WlxWkstaLockedSas()</B>.</P>
GINA returns WLX_UNLOCKWINSTA.</P>
<I>User logged on, program issues </I><B><I>ExitWindowsEx()</I></B></P>
Winlogon calls GINA's <B>WlxLogoff()</B>.</P>
<I>User logged on, wants to log off via SAS</I></P>
GINA calls WlxSasNotify.</P>
Winlogon delivers SAS back to GINA by calling GINA's WlxLoggedOnSas().</P>
GINA returns WLX_LOGOFFUSER.</P>
Winlogon calls GINA's <B>WlxLogoff()</B>.</P>
<I>User logged on, wants to log off and shut down via </I><B><I>ExitWindowsEx</I></B></P>
Winlogon call's GINA's <B>WlxLogoff()</B>.</P>
Winlogon calls GINA's <B>WlxShutdown()</B>.</P>
<I>User logged on, wants to log off and shu tdown via SAS</I></P>
GINA calls <B>WlxSasNotify</B>. </P>
Winlogon delivers SAS back to GINA by calling GINA's <B>WlxLoggedOnSas()</B>.</P>
GINA returns WLX_LOGOFFANDSHUTDOWN.</P>
Winlogon calls GINA's <B>WlxLogoff()</B>.</P>
Winlogon calls GINA's <B>WlxShutdown()</B>.</P>
 </P></BODY></HTML>
