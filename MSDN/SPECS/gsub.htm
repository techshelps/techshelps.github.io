<HTML>
<HEAD><META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">

<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>The Glyph Substitution Table</TITLE>

<style>@import url(msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="msdn_ie3.css"></HEAD>

<BODY bgcolor="#FFFFFF" link=#003399 vlink=#996699>


<FONT FACE="Verdana, Arial, Helvetica" SIZE="2">

<H2>GSUB - The Glyph Substitution Table</H2>

<P>The Glyph Substitution table (GSUB) contains information for substituting glyphs to render the scripts and language systems supported in a font. Many language systems require glyph substitutes. For example, in the Arabic script, the glyph shape that depicts a particular character varies according to its position in a word or text string (see figure 1). In other language systems, glyph substitutes are aesthetic options for the user, such as the use of ligature glyphs in the English language (see Figure 2).<BR>

<BR>&nbsp;<BR>
<CENTER>
<TABLE CELLPADDING=10 BGCOLOR=#F0F0F0><TR><TD>
<IMG WIDTH=254 HEIGHT=61 ALT="DIAGRAM" SRC="fig3a.gif"><BR>
<BR>
</TABLE>
</CENTER>
<BR>

<STRONG>Figure 1. Isolated, initial, medial, and final forms of the Arabic character HAH</STRONG><BR>

<BR>&nbsp;<BR>
<CENTER>
<TABLE CELLPADDING=10 BGCOLOR=#F0F0F0><TR><TD>
<IMG WIDTH=201 HEIGHT=59 ALT="DIAGRAM" SRC="fig3b.gif"><BR>
<BR>
</TABLE>
</CENTER>
<BR>

<STRONG>Figure 2. Two Latin glyphs and their associated ligature</STRONG>

<H4>Overview</H4>

<P>Many fonts use limited character encoding standards that map glyphs to characters one-to-one, assigning a glyph to each character code value in a font. Multiple character codes cannot be mapped to a single glyph, as needed for ligature glyphs, and multiple glyphs cannot be mapped to a single character code, as needed to decompose a ligature into its component glyphs.

<P>To supply glyph substitutes, font developers must assign different character codes to the glyphs, or they must create additional fonts or character sets. To access these glyphs, users must bear the burden of switching between character codes, character sets, or fonts.

<H4>Substituting Glyphs with OpenType</H4>

<P>The OpenType GSUB table fully supports glyph substitution. To access glyph substitutes, GSUB maps from the glyph index or indices defined in a cmap table to the glyph index or indices of the glyph substitutes. For example, if a font has three alternative forms of an ampersand glyph, the cmap table associates the ampersand's character code with only one of these glyphs. In GSUB, the indices of the other ampersand glyphs are then referenced by this one index.

<P>The text-processing client uses the GSUB data to manage glyph substitution actions. GSUB identifies the glyphs that are input to and output from each glyph substitution action, specifies how and where the client uses glyph substitutes, and regulates the order of glyph substitution operations. Any number of substitutions can be defined for each script or language system represented in a font.

<P>The GSUB table supports five types of glyph substitutions that are widely used in international typography:

<UL>
<LI>A <CITE>single substitution</CITE> replaces a single glyph with another single glyph. This is used to render positional glyph variants in Arabic and vertical text in the Far East (see Figure 3).<BR>

<BR>&nbsp;<BR>
<CENTER>
<TABLE CELLPADDING=10 BGCOLOR=#F0F0F0><TR><TD>
<IMG WIDTH=240 HEIGHT=88 ALT="DIAGRAM" SRC="fig3c.gif"><BR>
<BR>
</TABLE>
</CENTER>
<BR>

<STRONG>Figure 3. Alternative forms of parentheses used when positioning Kanji vertically</STRONG>

<LI>A <CITE>multiple substitution</CITE> replaces a single glyph with more than one glyph. This is used to specify actions such as ligature decomposition (see Figure 4).<BR>

<BR>&nbsp;<BR>
<CENTER>
<TABLE CELLPADDING=10 BGCOLOR=#F0F0F0><TR><TD>
<IMG WIDTH=144 HEIGHT=52 ALT="DIAGRAM" SRC="fig3d.gif"><BR>
<BR>
</TABLE>
</CENTER>
<BR>

<STRONG>Figure 4. Decomposing a Latin ligature glyph into its individual glyph components</STRONG>

<LI>An <CITE>alternate substitution</CITE> identifies functionally equivalent but different looking forms of a glyph. These glyphs are often referred to as aesthetic alternatives. For example, a font might have five different glyphs for the ampersand symbol, but one would have a default glyph index in the cmap table. The client could use the default glyph or substitute any of the four alternatives (see Figure 5).<BR>

<BR>&nbsp;<BR>
<CENTER>
<TABLE CELLPADDING=10 BGCOLOR=#F0F0F0><TR><TD>
<IMG WIDTH=246 HEIGHT=49 ALT="DIAGRAM" SRC="fig3e.gif"><BR>
<BR>
</TABLE>
</CENTER>
<BR>

<STRONG>Figure 5. Alternative ampersand glyphs in a font</STRONG>
 
<LI>A <CITE>ligature substitution</CITE> replaces several glyph indices with a single glyph index, as when an Arabic ligature glyph replaces a string of separate glyphs (see Figure 6).<BR>

<BR>&nbsp;<BR>
<CENTER>
<TABLE CELLPADDING=10 BGCOLOR=#F0F0F0><TR><TD>
<IMG WIDTH=277 HEIGHT=68 ALT="DIAGRAM" SRC="fig3f.gif"><BR>
<BR>
</TABLE>
</CENTER>
<BR>

<STRONG>Figure 6. Three Arabic glyphs and their associated ligature glyph</STRONG>

<LI><STRONG>Contextual substitution,</STRONG> the most powerful type, describes glyph substitutions in context-that is, a substitution of one or more glyphs within a certain pattern of glyphs. Each substitution describes one or more input glyph sequences and one or more substitutions to be performed on that sequence. Contextual substitutions can be applied to specific glyph sequences, glyph classes, or sets of glyphs.
</UL>

<H4>Table Organization</H4>

The GSUB table begins with a header that defines offsets to a ScriptList, a FeatureList, and a LookupList (see Figure 3g):
<UL>
<LI>The ScriptList identifies all the scripts and language systems in the font that use glyph substitutes. 
<LI>The FeatureList defines all the glyph substitution features required to render these scripts and language systems. 
<LI>The LookupList contains all the lookup data needed to implement each glyph substitution feature. 
</UL>
<P>For a detailed discussion of ScriptLists, FeatureLists, and LookupLists, see the chapter Common Table Formats.<BR>

<BR>&nbsp;<BR>
<CENTER>
<TABLE CELLPADDING=10 BGCOLOR=#F0F0F0><TR><TD>
<IMG WIDTH=436 HEIGHT=431 ALT="DIAGRAM" SRC="fig3g.gif"><BR>
<BR>
</TABLE>
</CENTER>
<BR>
<STRONG>Figure 7. High-level organization of GSUB table</STRONG>

<P>This organization helps text-processing clients to easily locate the features and lookups that apply to a particular script or language system. To access GSUB information, clients should use the following procedure:
<OL>
<LI>Locate the current script in the GSUB ScriptList table. 
<LI>If the language system is known, search the script for the correct LangSys table; otherwise, use the script's default language system (DefaultLangSys table). 
<LI>The LangSys table provides index numbers into the GSUB FeatureList table to access a required feature and a number of additional features. 
<LI>Inspect the FeatureTag of each feature, and select the features to apply to an input glyph string. Each feature provides an array of index numbers into the GSUB LookupList table.
<LI>Assemble all lookups from the set of chosen features, and apply the lookups in the order given in the LookupList table. 
</OL>

<P>Lookup data is defined in one or more subtables that define the specific conditions, type, and results of a substitution action used to implement a feature. All subtables in a lookup must be of the same LookupType, as listed in the LookupType Enumeration table:


<BR>&nbsp;<BR><FONT SIZE=5>LookupType Enumeration table for glyph substitution</FONT>

<TABLE BGCOLOR="#F0F0F0" WIDTH=460 BORDER=0 CELLPADDING=3>
<THEAD>
<TR><TH BGCOLOR="#C0C0C0">Value</TH><TH BGCOLOR="#C0C0C0">Type</TH><TH BGCOLOR="#C0C0C0">Description</TH></TR>
</THEAD>
<TBODY>
<TR><TD VALIGN=TOP>1</TD><TD VALIGN=TOP>Single</TD><TD>Replace one glyph with one glyph</TD></TR>
<TR><TD VALIGN=TOP>2</TD><TD VALIGN=TOP>Multiple</TD><TD>Replace one glyph with more than one glyph</TD></TR>
<TR><TD VALIGN=TOP>3</TD><TD VALIGN=TOP>Alternate</TD><TD>Replace one glyph with one of many glyphs</TD></TR>
<TR><TD VALIGN=TOP>4</TD><TD VALIGN=TOP>Ligature</TD><TD>Replace multiple glyphs with one glyph</TD></TR>
<TR><TD VALIGN=TOP>5</TD><TD VALIGN=TOP>Context</TD><TD>Replace one or more glyphs in context</TD></TR>
<TR><TD VALIGN=TOP>6+</TD><TD VALIGN=TOP>Reserved</TD><TD>For future use</TD></TR>
</TABLE>&nbsp;&nbsp;&nbsp;&nbsp;
	
<P>Each LookupType subtable has one or more formats. The &quot;best&quot; format depends on the type of substitution and the resulting storage efficiency. When glyph information is best presented in more than one format, a single lookup may define more than one subtable, as long as all the subtables are for the same LookupType. For example, within a given lookup, a glyph index array format may best represent one set of target glyphs, whereas a glyph index range format may be better for another set. 

<P>A series of substitution operations on the same glyph or string requires multiple lookups, one for each separate action. Each lookup is given a different array number in the LookupList table and is applied in the LookupList order.

<P>During text processing, a client applies a lookup to each glyph in the string, starting with the first glyph, before moving to the next lookup. To apply a lookup, the client searches the subtables in the order they are defined in the lookup. If the first subtable does not contain data relevant to the glyph, the client searches the next subtable, and so on. If the client finds glyph data, it makes the substitution.

<P>A lookup is finished for a glyph when the client makes a substitution or when the client finds no relevant data in any of the subtables defined in the lookup. The client then advances to the next glyph in the glyph string and begins the lookup process again.

<P>The rest of this chapter describes the GSUB header and the subtables defined for each GSUB LookupType. Examples at the end of this page illustrate each of the five LookupTypes, including the three formats available for contextual substitutions.

<A NAME=HEADER><H4>GSUB Header</H4></A>

<P>The GSUB table begins with a header that contains a version number for the table (Version) and offsets to a three tables: ScriptList, FeatureList, and LookupList. For descriptions of each of these tables, see the chapter, Common Table Formats.
<A HREF="#EX1">Example 1</A> at the end of this chapter shows a GSUB Header table definition.



<BR>&nbsp;<BR><FONT SIZE=5>GSUB Header</FONT>

<TABLE BGCOLOR="#F0F0F0" WIDTH=460 BORDER=0 CELLPADDING=3>
<THEAD>
<TR><TH BGCOLOR="#C0C0C0">Type</TH><TH BGCOLOR="#C0C0C0">Name</TH><TH BGCOLOR="#C0C0C0">Description</TH></TR>
</THEAD>
<TBODY>
<TR><TD VALIGN=TOP>fixed32</TD><TD VALIGN=TOP>Version</TD><TD>Version of the GSUB table-initially set to 0x00010000</TD></TR>
<TR><TD VALIGN=TOP>Offset</TD><TD VALIGN=TOP>ScriptList</TD><TD>Offset to ScriptList table-from beginning of GSUB table</TD></TR>
<TR><TD VALIGN=TOP>Offset</TD><TD VALIGN=TOP>FeatureList</TD><TD>Offset to FeatureList table-from beginning of GSUB table</TD></TR>
<TR><TD VALIGN=TOP>Offset</TD><TD VALIGN=TOP>LookupList</TD><TD>Offset to LookupList table-from beginning of GSUB table</TD></TR>
</TABLE>&nbsp;&nbsp;&nbsp;&nbsp;
	
<H4>LookupType 1:<BR> 
Single Substitution Subtable</H4>

<P>Single substitution (SingleSubst) subtables tell a client to replace a single glyph with another glyph. The subtables can be either of two formats. Both formats require two distinct sets of glyph indices: one that defines input glyphs (specified in the Coverage table), and one that defines the output glyphs. Format 1 requires less space than Format 2, but it is less flexible.

<A NAME=SSF1><H4>Single Substitution Format 1</H4></A>

<P>Format 1 calculates the indices of the output glyphs, which are not explicitly defined in the subtable. To calculate an output glyph index, Format 1 adds a constant delta value to the input glyph index. For the substitutions to occur properly, the glyph indices in the input and output ranges must be in the same order. This format does not use the Coverage Index that is returned from the Coverage table.

<P>The SingleSubstFormat1 subtable begins with a format identifier (SubstFormat) of 1. An offset references a Coverage table that specifies the indices of the input glyphs. DeltaGlyphID is the constant value added to each input glyph index to calculate the index of the corresponding output glyph.

<A HREF="#EX2"><P>Example 2</A> at the end of this chapter uses Format 1 to replace standard numerals with lining numerals.


<BR>&nbsp;<BR><FONT SIZE=5>SingleSubstFormat1 subtable:<BR> Calculated output glyph indices</FONT>

<TABLE BGCOLOR="#F0F0F0" WIDTH=460 BORDER=0 CELLPADDING=3>
<THEAD>
<TR><TH BGCOLOR="#C0C0C0">Type</TH><TH BGCOLOR="#C0C0C0">Name</TH><TH BGCOLOR="#C0C0C0">Description</TH></TR>
</THEAD>
<TBODY>
<TR><TD VALIGN=TOP>uint16</TD><TD VALIGN=TOP>SubstFormat</TD><TD>Format identifier-format = 1</TD></TR>
<TR><TD VALIGN=TOP>Offset</TD><TD VALIGN=TOP>Coverage</TD><TD>Offset to Coverage table-from beginning of Substitution table</TD></TR>
<TR><TD VALIGN=TOP>int16</TD><TD VALIGN=TOP>DeltaGlyphID</TD><TD>Add to original GlyphID to get substitute GlyphID</TD></TR>
</TABLE>&nbsp;&nbsp;&nbsp;&nbsp;
	
<A NAME=SSF2><H4>Single Substitution Format 2</H4></A>

<P>Format 2 is more flexible than Format 1, but requires more space. It provides an array of output glyph indices (Substitute) explicitly matched to the input glyph indices specified in the Coverage table.

<P>The SingleSubstFormat2 subtable specifies a format identifier (SubstFormat), an offset to a Coverage table that defines the input glyph indices, a count of output glyph indices in the Substitute array (GlyphCount), and a list of the output glyph indices in the Substitute array (Substitute). 

<P>The Substitute array must contain the same number of glyph indices as the Coverage table. To locate the corresponding output glyph index in the Substitute array, this format uses the Coverage Index returned from the Coverage table.

<A HREF="#EX3"><P>Example 3</A> at the end of this chapter uses Format 2 to substitute vertically oriented glyphs for horizontally oriented glyphs.



<BR>&nbsp;<BR><FONT SIZE=5>SingleSubstFormat2 subtable:<BR> Specified output glyph indices</FONT>

<TABLE BGCOLOR="#F0F0F0" WIDTH=460 BORDER=0 CELLPADDING=3>
<THEAD>
<TR><TH BGCOLOR="#C0C0C0">Type</TH><TH BGCOLOR="#C0C0C0">Name</TH><TH BGCOLOR="#C0C0C0">Description</TH></TR>
</THEAD>
<TBODY>
<TR><TD VALIGN=TOP>uint16</TD><TD VALIGN=TOP>SubstFormat</TD><TD>Format identifier-format = 2</TD></TR>
<TR><TD VALIGN=TOP>Offset</TD><TD VALIGN=TOP>Coverage</TD><TD>Offset to Coverage table-from beginning of Substitution table</TD></TR>
<TR><TD VALIGN=TOP>uint16</TD><TD VALIGN=TOP>GlyphCount</TD><TD>Number of GlyphIDs in the Substitute array</TD></TR>
<TR><TD VALIGN=TOP>GlyphID</TD><TD VALIGN=TOP>Substitute<BR>[GlyphCount]</TD><TD VALIGN=TOP>Array of substitute GlyphIDs-ordered by Coverage Index</TD></TR>
</TABLE>&nbsp;&nbsp;&nbsp;&nbsp;
	
<A NAME=MSF1><H4>LookupType 2:<BR> 
Multiple Substitution Subtable</H4></A>

<P>A Multiple Substitution (MultipleSubst) subtable replaces a single glyph with more than one glyph, as when multiple glyphs replace a single ligature. The subtable has a single format: MultipleSubstFormat1. The subtable specifies a format identifier (SubstFormat), an offset to a Coverage table that defines the input glyph indices, a count of offsets in the Sequence array (SequenceCount), and an array of offsets to Sequence tables that define the output glyph indices (Sequence). The Sequence table offsets are ordered by the Coverage Index of the input glyphs.

<P>For each input glyph listed in the Coverage table, a Sequence table defines the output glyphs. Each Sequence table contains a count of the glyphs in the output glyph sequence (GlyphCount) and an array of output glyph indices (Substitute). 

<BLOCKQUOTE>
<STRONG>Note:</STRONG> The order of the output glyph indices depends on the writing direction of the text. For text written left to right, the left-most glyph will be first glyph in the sequence. Conversely, for text written right to left, the right-most glyph will be first. 
</BLOCKQUOTE>

<P>If the glyph should be deleted, the GlyphCount is set to zero, and no Substitute array is allocated.

<A HREF="#EX4"><P>Example 4</A> at the end of this chapter shows how to replace a single ligature with three glyphs.


<BR>&nbsp;<BR><FONT SIZE=5>MultipleSubstFormat1 subtable: Multiple output glyphs</FONT>

<TABLE BGCOLOR="#F0F0F0" WIDTH=460 BORDER=0 CELLPADDING=3>
<THEAD>
<TR><TH BGCOLOR="#C0C0C0">Type</TH><TH BGCOLOR="#C0C0C0">Name</TH><TH BGCOLOR="#C0C0C0">Description</TH></TR>
</THEAD>
<TBODY>
<TR><TD VALIGN=TOP>uint16</TD><TD VALIGN=TOP>SubstFormat</TD><TD>Format identifier-format = 1</TD></TR>
<TR><TD VALIGN=TOP>Offset</TD><TD VALIGN=TOP>Coverage</TD><TD>Offset to Coverage table-from beginning of Substitution table</TD></TR>
<TR><TD VALIGN=TOP>uint16</TD><TD VALIGN=TOP>SequenceCount</TD><TD>Number of Sequence table offsets in the Sequence array</TD></TR>
<TR><TD VALIGN=TOP>Offset</TD><TD VALIGN=TOP>Sequence<BR>[SequenceCount]</TD><TD>Array of offsets to Sequence tables-from beginning of Substitution table-ordered by Coverage Index</TD></TR>
</TABLE>&nbsp;&nbsp;&nbsp;&nbsp;	


<BR>&nbsp;<BR><FONT SIZE=5>Sequence table</FONT>

<TABLE BGCOLOR="#F0F0F0" WIDTH=460 BORDER=0 CELLPADDING=3>
<THEAD>
<TR><TH BGCOLOR="#C0C0C0">Type</TH><TH BGCOLOR="#C0C0C0">Name</TH><TH BGCOLOR="#C0C0C0">Description</TH></TR>
</THEAD>
<TBODY>
<TR><TD VALIGN=TOP>uint16</TD><TD VALIGN=TOP>GlyphCount</TD><TD>Number of GlyphIDs in the Substitute array-to indicate glyph deletion, set to zero (0)</TD></TR>
<TR><TD VALIGN=TOP>GlyphID</TD><TD VALIGN=TOP>Substitute<BR>[GlyphCount]</TD><TD VALIGN=TOP>String of GlyphIDs to substitute-ordered according to LookupFlag direction bit</TD></TR>
</TABLE>&nbsp;&nbsp;&nbsp;&nbsp;	

<A NAME=ASF1><H4>LookupType 3:<BR> 
Alternate Substitution Subtable</H4></A>

<P>An Alternate Substitution (AlternateSubst) subtable identifies any number of aesthetic alternatives from which a user can choose a glyph variant to replace the input glyph. For example, if a font contains four variants of the ampersand symbol, the cmap table will specify the index of one of the four glyphs as the default glyph index, and an AlternateSubst subtable will list the indices of the other three glyphs as alternatives. A text-processing client would then have the option of replacing the default glyph with any of the three alternatives.

<P>The subtable has one format: AlternateSubstFormat1. The subtable contains a format identifier (SubstFormat), an offset to a Coverage table containing the indices of glyphs with alternative forms (Coverage), a count of offsets to AlternateSet tables (AlternateSetCount), and an array of offsets to AlternateSet tables (AlternateSet). 

<P>For each glyph, an AlternateSet subtable contains a count of the alternative glyphs (GlyphCount) and an array of their glyph indices (Alternate). Because all the glyphs are functionally equivalent, they can be in any order in the array. 

<A HREF="#EX5"><P>Example 5</A> at the end of this chapter shows how to replace the default ampersand glyph with alternative glyphs.


<BR>&nbsp;<BR><FONT SIZE=5>AlternateSubstFormat1 subtable: Alternative output glyphs</FONT>

<TABLE BGCOLOR="#F0F0F0" WIDTH=460 BORDER=0 CELLPADDING=3>
<THEAD>
<TR><TH BGCOLOR="#C0C0C0">Type</TH><TH BGCOLOR="#C0C0C0">Name</TH><TH BGCOLOR="#C0C0C0">Description</TH></TR>
</THEAD>
<TBODY>
<TR><TD VALIGN=TOP>uint16</TD><TD VALIGN=TOP>SubstFormat</TD><TD>Format identifier-format = 1</TD></TR>
<TR><TD VALIGN=TOP>Offset</TD><TD VALIGN=TOP>Coverage</TD><TD>Offset to Coverage table-from beginning of Substitution table</TD></TR>
<TR><TD VALIGN=TOP>uint16</TD><TD VALIGN=TOP>AlternateSetCount</TD><TD>Number of AlternateSet tables</TD></TR>
<TR><TD VALIGN=TOP>Offset</TD><TD VALIGN=TOP>AlternateSet<BR>[AlternateSetCount]</TD><TD>Array of offsets to AlternateSet tables-from beginning of Substitution table-ordered by Coverage Index</TD></TR>
</TABLE>&nbsp;&nbsp;&nbsp;&nbsp;



<BR>&nbsp;<BR><FONT SIZE=5>AlternateSet table</FONT>

<TABLE BGCOLOR="#F0F0F0" WIDTH=460 BORDER=0 CELLPADDING=3>
<THEAD>
<TR><TH BGCOLOR="#C0C0C0">Type</TH><TH BGCOLOR="#C0C0C0">Name</TH><TH BGCOLOR="#C0C0C0">Description</TH></TR>
</THEAD>
<TBODY>
<TR><TD VALIGN=TOP>uint16</TD><TD VALIGN=TOP>GlyphCount</TD><TD>Number of GlyphIDs in the Alternate array</TD></TR>
<TR><TD VALIGN=TOP>GlyphID</TD><TD VALIGN=TOP>Alternate[GlyphCount]</TD><TD>Array of alternate GlyphIDs-in arbitrary order</TD></TR>
</TABLE>&nbsp;&nbsp;&nbsp;&nbsp;
	
<A NAME=LSF1><H4>LookupType 4:<BR> 
Ligature Substitution Subtable</H4></A>

<P>A Ligature Substitution (LigatureSubst) subtable identifies ligature substitutions where a single glyph replaces multiple glyphs. One LigatureSubst subtable can specify any number of ligature substitutions.

<P>The subtable uses a single format: LigatureSubstFormat1. It contains a format identifier (SubstFormat), a Coverage table offset (Coverage), a count of the ligature sets defined in this table (LigSetCount), and an array of offsets to LigatureSet tables (LigatureSet). The Coverage table specifies only the index of the first glyph component of each ligature set.

<BR>&nbsp;<BR><FONT SIZE=5>LigatureSubstFormat1 subtable:<BR> All ligature substitutions in a script</FONT>

<TABLE BGCOLOR="#F0F0F0" WIDTH=460 BORDER=0 CELLPADDING=3>
<THEAD>
<TR><TH BGCOLOR="#C0C0C0">Type</TH><TH BGCOLOR="#C0C0C0">Name</TH><TH BGCOLOR="#C0C0C0">Description</TH></TR>
</THEAD>
<TBODY>
<TR><TD VALIGN=TOP>uint16</TD><TD VALIGN=TOP>SubstFormat</TD><TD>Format identifier-format = 1</TD></TR>
<TR><TD VALIGN=TOP>Offset</TD><TD VALIGN=TOP>Coverage</TD><TD>Offset to Coverage table-from beginning of Substitution table</TD></TR>
<TR><TD VALIGN=TOP>uint16</TD><TD VALIGN=TOP>LigSetCount</TD><TD>Number of LigatureSet tables</TD></TR>
<TR><TD VALIGN=TOP>Offset</TD><TD VALIGN=TOP>LigatureSet<BR>[LigSetCount]</TD><TD>Array of offsets to LigatureSet tables-from beginning of Substitution table-ordered by Coverage Index</TD></TR>
</TABLE>&nbsp;&nbsp;&nbsp;&nbsp;
	
<P>A LigatureSet table, one for each covered glyph, specifies all the ligature strings that begin with the covered glyph. For example, if the Coverage table lists the glyph index for a lowercase &quot;f,&quot; then a LigatureSet table will define the &quot;ffl,&quot; &quot;fl,&quot; &quot;ffi,&quot; &quot;fi,&quot; and &quot;ff&quot; ligatures. If the Coverage table also lists the glyph index for a lowercase &quot;e,&quot; then a different LigatureSet table will define the &quot;etc&quot; ligature.

<P>A LigatureSet table consists of a count of the ligatures that begin with the covered glyph (LigatureCount) and an array of offsets to Ligature tables, which define the glyphs in each ligature (Ligature). The order in the Ligature offset array defines the preference for using the ligatures. For example, if the &quot;ffl&quot; ligature is preferable to the &quot;ff&quot; ligature, then the Ligature array would list the offset to the &quot;ffl&quot; Ligature table before the offset to the &quot;ff&quot; Ligature table. 

<BR>&nbsp;<BR><FONT SIZE=5>LigatureSet table:<BR>All ligatures beginning with the same glyph</FONT>

<TABLE BGCOLOR="#F0F0F0" WIDTH=460 BORDER=0 CELLPADDING=3>
<THEAD>
<TR><TH BGCOLOR="#C0C0C0">Type</TH><TH BGCOLOR="#C0C0C0">Name</TH><TH BGCOLOR="#C0C0C0">Description</TH></TR>
</THEAD>
<TBODY>
<TR><TD VALIGN=TOP>uint16</TD><TD VALIGN=TOP>LigatureCount</TD><TD>Number of Ligature tables</TD></TR>
<TR><TD VALIGN=TOP>Offset</TD><TD VALIGN=TOP>Ligature<BR>[LigatureCount]</TD><TD>Array of offsets to Ligature tables-from beginning of LigatureSet table-ordered by preference</TD></TR>
</TABLE>&nbsp;&nbsp;&nbsp;&nbsp;
	
<P>For each ligature in the set, a Ligature table specifies the GlyphID of the output ligature glyph (LigGlyph); a count of the total number of component glyphs in the ligature, including the first component (CompCount); and an array of GlyphIDs for the components (Component). The array starts with the second component glyph (array index = 1) in the ligature because the first component glyph is specified in the Coverage table.

<BLOCKQUOTE>
<STRONG>Note:</STRONG> The Component array lists GlyphIDs according to the LookupFlag bit that specifies the writing direction of the text. For text written right to left, the right-most glyph will be first. Conversely, for text written left to right, the left-most glyph will be first.
</BLOCKQUOTE>

<A HREF="#EX6">Example 6</A> at the end of this chapter shows how to replace a string of glyphs with a single ligature.


<BR>&nbsp;<BR><FONT SIZE=5>Ligature table: Glyph components for one ligature</FONT>

<TABLE BGCOLOR="#F0F0F0" WIDTH=460 BORDER=0 CELLPADDING=3>
<THEAD>
<TR><TH BGCOLOR="#C0C0C0">Type</TH><TH BGCOLOR="#C0C0C0">Name</TH><TH BGCOLOR="#C0C0C0">Description</TH></TR>
</THEAD>
<TBODY>
<TR><TD VALIGN=TOP>GlyphID</TD><TD VALIGN=TOP>LigGlyph</TD><TD>GlyphID of ligature to substitute</TD></TR>
<TR><TD VALIGN=TOP>uint16</TD><TD VALIGN=TOP>CompCount</TD><TD>Number of components in the ligature</TD></TR>
<TR><TD VALIGN=TOP>GlyphID</TD><TD VALIGN=TOP NOWRAP=NOWRAP>Component<BR>[CompCount - 1]</TD><TD>Array of component GlyphIDs-start with the second component-ordered by LookupFlag direction bit</TD></TR>
</TABLE>&nbsp;&nbsp;&nbsp;&nbsp;
	
<H4>LookupType 5:<BR>
Contextual Substitution Subtable</H4>

<P>A Contextual Substitution (ContextSubst) subtable defines the most powerful type of glyph substitution lookup: it describes glyph substitutions in context that replace one or more glyphs within a certain pattern of glyphs.

<P>ContextSubst subtables can be any of three formats that define a context in terms of a specific sequence of glyphs, glyph classes, or glyph sets. Each format can describe one or more input glyph sequences and one or more substitutions for each sequence.

<P>All ContextSubst subtables specify the substitution data in a SubstLookupRecord. A description of that record follows the descriptions of the three formats available for ContextSubst subtables.

<A NAME=CSF1><H4>Context Substitution Format 1</H4></A>

<P>Format 1 defines the context for a glyph substitution as a particular sequence of glyphs. For example, a context could be &lt;xyz&gt;, &lt;holiday&gt;, &lt;!?*#@&gt;, or any other glyph sequence. 

<P>Within a context sequence, Format 1 identifies particular glyph positions (not glyph indices) as the targets for specific substitutions. When a text-processing client locates a context in a string of text, it finds the lookup data for a targeted position and makes a substitution by applying the lookup data at that location.

<P>For example, to replace the glyph string &lt;abc&gt; with its reverse glyph string &lt;cba&gt;, the input context is defined as the glyph sequence, &lt;abc&gt;. On locating &quot;abc&quot; in the text, the client searches the ContextSubstFormat1 subtable for lookup data that applies to the first glyph in the sequence. When it finds the lookup data, the client applies the lookup and replaces the glyph in the first position (in this case, the &quot;a&quot;) with a &quot;c,&quot; producing the output glyph string &lt;cac&gt;.

<P>After completing the lookup for the first glyph position, the client searches the subtable for data applicable to the second glyph in the context sequence. Because the &quot;b&quot; does not need to be replaced, no data exists for this position. 

<P>Finally, the client searches the subtable for data to apply to the third glyph in the sequence. The subtable specifies a substitution, so the client applies the lookup and replaces the &quot;c&quot; glyph with an &quot;a.&quot; The contextual substitution ends, and the final output is the glyph string &lt;cba&gt;.

<P>To specify a context, a Coverage table lists the first glyph in the sequence, and a SubRule table identifies the remaining glyphs. To describe the &gt;abc&lt; context used in the previous example, the Coverage table lists the glyph index of the first component of the sequence-the &quot;a&quot; glyph. A SubRule table defines indices for the &quot;b&quot; and &quot;c&quot; glyphs. 

<P>A single ContextSubstFormat1 subtable may define more than one context glyph sequence. If different context sequences begin with the same glyph, then the Coverage table should list the glyph only once because all glyphs in the table must be unique. For example, if three contexts each start with an &quot;s&quot; and two start with a &quot;t,&quot; then the Coverage table will list one &quot;s&quot; and one &quot;t.&quot; 

<P>For each context, a SubRule table lists all the glyphs that follow the first glyph. The table also contains an array of SubstLookupRecords that specify the substitution lookup data for each glyph position (including the first glyph position) in the context.

<P>All of the SubRule tables defining contexts that begin with the same first glyph are grouped together and defined in a SubRuleSet table. For example, the SubRule tables that define the three contexts that begin with an &quot;s&quot; are grouped in one SubRuleSet table, and the SubRule tables that define the two contexts that begin with a &quot;t&quot; are grouped in a second SubRuleSet table. Each glyph listed in the Coverage table must have a SubRuleSet table defining all the SubRule tables that apply to a covered glyph.

<P>To locate a context glyph sequence, the text-processing client searches the Coverage table each time it encounters a new text glyph. If the glyph is covered, the client reads the corresponding SubRuleSet table and examines each SubRule table in the set to determine whether the rest of the context matches the subsequent glyphs in the text. If the context and text string match, the client finds the target glyph positions, applies the lookups for those positions, and completes the substitutions. 

<P>A ContextSubstFormat1 subtable contains a format identifier (SubstFormat), an offset to a Coverage table (Coverage), a count of defined SubRuleSets (SubRuleSetCount), and an array of offsets to the SubRuleSet tables (SubRuleSet). As mentioned, one SubRuleSet table must be defined for each glyph listed in the Coverage table. 

<P>In the SubRuleSet array, the SubRuleSet table offsets are ordered in the Coverage Index order. The first SubRuleSet in the array applies to the first GlyphID listed in the Coverage table, the second SubRuleSet in the array applies to the second GlyphID listed in the Coverage table, and so on.

<BR>&nbsp;<BR><FONT SIZE=5>ContextSubstFormat1 subtable:<BR> Simple context glyph substitution</FONT>

<TABLE BGCOLOR="#F0F0F0" WIDTH=460 BORDER=0 CELLPADDING=3>
<THEAD>
<TR><TH BGCOLOR="#C0C0C0">Type</TH><TH BGCOLOR="#C0C0C0">Name</TH><TH BGCOLOR="#C0C0C0">Description</TH></TR>
</THEAD>
<TBODY>
<TR><TD VALIGN=TOP>uint16</TD><TD VALIGN=TOP>SubstFormat</TD><TD>Format identifier-format = 1</TD></TR>
<TR><TD VALIGN=TOP>Offset</TD><TD VALIGN=TOP>Coverage</TD><TD>Offset to Coverage table-from beginning of Substitution table</TD></TR>
<TR><TD VALIGN=TOP>uint16</TD><TD VALIGN=TOP>SubRuleSetCount</TD><TD>Number of SubRuleSet tables-must equal GlyphCount in Coverage table</TD></TR>
<TR><TD VALIGN=TOP>Offset</TD><TD VALIGN=TOP>SubRuleSet<BR>[SubRuleSetCount]</TD><TD>Array of offsets to SubRuleSet tables-from beginning of Substitution table-ordered by Coverage Index</TD></TR>
</TABLE>&nbsp;&nbsp;&nbsp;&nbsp;
	
<P>A SubRuleSet table consists of an array of offsets to SubRule tables (SubRule), ordered by preference, and a count of the SubRule tables defined in the set (SubRuleCount). 
The order in the SubRule array can be critical. Consider two contexts, &lt;abc&gt; and &lt;abcd&gt;. If &lt;abc&gt; is first in the SubRule array, all instances of &lt;abc&gt; in the text-including all instances of &lt;abcd&gt;-will be changed. If &lt;abcd&gt; comes first in the array, however, only &lt;abcd&gt; sequences will be changed, without affecting any instances of &lt;abc&gt;.



<BR>&nbsp;<BR><FONT SIZE=5>SubRuleSet table:<BR> All contexts beginning with the same glyph</FONT>

<TABLE BGCOLOR="#F0F0F0" WIDTH=460 BORDER=0 CELLPADDING=3>
<THEAD>
<TR><TH BGCOLOR="#C0C0C0">Type</TH><TH BGCOLOR="#C0C0C0">Name</TH><TH BGCOLOR="#C0C0C0">Description</TH></TR>
</THEAD>
<TBODY>
<TR><TD VALIGN=TOP>uint16</TD><TD VALIGN=TOP>SubRuleCount</TD><TD>Number of SubRule tables</TD></TR>
<TR><TD VALIGN=TOP>Offset</TD><TD VALIGN=TOP>SubRule<BR>[SubRuleCount]</TD><TD>Array of offsets to SubRule tables-from beginning of SubRuleSet table-ordered by preference</TD></TR>
</TABLE>&nbsp;&nbsp;&nbsp;&nbsp;
	
<P>A SubRule table consists of a count of the glyphs to be matched in the input context sequence (GlyphCount), including the first glyph in the sequence, and an array of glyph indices that describe the context (Input). The Coverage table specifies the index of the first glyph in the context, and the Input array begins with the second glyph (array index = 1) in the context sequence. 

<BLOCKQUOTE>
<STRONG>Note:</STRONG> The Input array lists the indices in the order the corresponding glyphs appear in the text. For text written from right to left, the right-most glyph will be first; conversely, for text written from left to right, the left-most glyph will be first.
</BLOCKQUOTE>

<P>A SubRule table also contains a count of the substitutions to be performed on the input glyph sequence (SubstCount) and an array of SubstitutionLookupRecords (SubstLookupRecord). Each record specifies a position in the input glyph sequence and a LookupListIndex to the substitution lookup that is applied at that position. The array should list records in design order, or the order the lookups should be applied to the entire glyph sequence.
SubRule table: One simple context definition


<TABLE BGCOLOR="#F0F0F0" WIDTH=460 BORDER=0 CELLPADDING=3>
<THEAD>
<TR><TH BGCOLOR="#C0C0C0">Type</TH><TH BGCOLOR="#C0C0C0">Name</TH><TH BGCOLOR="#C0C0C0">Description</TH></TR>
</THEAD>
<TBODY>
<TR><TD VALIGN=TOP>uint16</TD><TD VALIGN=TOP>GlyphCount</TD><TD>Total number of glyphs in input glyph sequence-includes the first glyph</TD></TR>
<TR><TD VALIGN=TOP>uint16</TD><TD VALIGN=TOP>SubstCount</TD><TD>Number of SubstLookupRecords</TD></TR>
<TR><TD VALIGN=TOP>GlyphID</TD><TD VALIGN=TOP>Input<BR>[GlyphCount - 1]</TD><TD VALIGN=TOP>Array of input GlyphIDs-start with second glyph</TD></TR>
<TR><TD VALIGN=TOP>struct</TD><TD VALIGN=TOP>SubstLookupRecord<BR>[SubstCount]</TD><TD VALIGN=TOP>Array of SubstLookupRecords-in design order</TD></TR>
</TABLE>&nbsp;&nbsp;&nbsp;&nbsp;
	
<A HREF="#EX7"><P>Example 7</A> at the end of the chapter shows how to use the ContextSubstFormat1 subtable to replace three dashes with a sequence preferred for the French language system.

<A NAME=CSF2><H4>Context Substitution Format 2</H4></A>

<P>Format 2, a more flexible format than Format 1, describes class-based context substitution. For this format, a specific integer, called a class value, must be assigned to each glyph component in all context glyph sequences. Contexts are then defined as sequences of glyph class values. More than one context may be defined at a time.

<P>For example, suppose that a swash capital glyph should replace each uppercase letter glyph that is preceded by a space glyph and followed by a lowercase letter glyph (a glyph sequence of space - uppercase - lowercase). The set of uppercase glyphs would constitute one glyph class (Class 1), the set of lowercase glyphs would constitute a second class (Class 2), and the space glyph would constitute a third class (Class 3). The input context might be specified with a context rule (called a SubClassRule) that describes &quot;the set of glyph strings that form a sequence of three glyph classes, one glyph from Class 3, followed by one glyph from Class 1, followed by one glyph from Class 2.&quot;

<P>Each ContextSubstFormat2 subtable contains an offset to a class definition table (ClassDef), which defines the glyph class values of all input contexts. Generally, a unique ClassDef table will be declared in each instance of the ContextSubstFormat2 table that is included in a font, even though several Format 2 tables could share ClassDef tables. Class assignments are fixed (the same for each position in the context), and classes are exclusive (a glyph cannot be in more than one class at a time). The output glyphs that replace the glyphs in the context sequences do not need class values because they are specified elsewhere by GlyphID.

<P>The ContextSubstFormat2 subtable also contains a format identifier (SubstFormat) and defines an offset to a Coverage table (Coverage). For this format, the Coverage table lists indices for the complete set of unique glyphs (not glyph classes) that may appear as the first glyph of any class-based context. In other words, the Coverage table contains the list of glyph indices for all the glyphs in all classes that may be first in any of the context class sequences. For example, if the contexts begin with a Class 1 or Class 2 glyph, then the Coverage table will list the indices of all Class 1 and Class 2 glyphs. This Coverage listing is redundant because the ClassDef table also identifies input glyphs, but it accelerates the lookup process. 

<P>A ContextSubstFormat2 subtable also defines an array of offsets to the SubClassSet tables (SubClassSet) and a count of the SubClassSet tables (SubClassSetCnt). The array contains one offset for each class (including Class 0) in the ClassDef table. In the array, the class value defines an offset's index position, and the SubClassSet offsets are ordered by ascending class value (from 0 to SubClassSetCnt - 1). 

<P>For example, the first SubClassSet listed in the array contains all contexts beginning with Class 0 glyphs, the second SubClassSet contains all contexts beginning with Class 1 glyphs, and so on. If no contexts begin with a particular class (that is, if a SubClassSet contains no SubClassRule tables), then the offset to that particular SubClassSet in the SubClassSet array will be set to NULL.

<BR>&nbsp;<BR><FONT SIZE=5>ContextSubstFormat2 subtable:<BR> Class-based context glyph substitution</FONT>

<TABLE BGCOLOR="#F0F0F0" WIDTH=460 BORDER=0 CELLPADDING=3>
<THEAD>
<TR><TH BGCOLOR="#C0C0C0">Type</TH><TH BGCOLOR="#C0C0C0">Name</TH><TH BGCOLOR="#C0C0C0">Description</TH></TR>
</THEAD>
<TBODY>
<TR><TD VALIGN=TOP>uint16</TD><TD VALIGN=TOP>SubstFormat</TD><TD>Format identifier-format = 2</TD></TR>
<TR><TD VALIGN=TOP>Offset</TD><TD VALIGN=TOP>Coverage</TD><TD>Offset to Coverage table-from beginning of Substitution table</TD></TR>
<TR><TD VALIGN=TOP>Offset</TD><TD VALIGN=TOP>ClassDef</TD><TD>Offset to glyph ClassDef table-from beginning of Substitution table</TD></TR>
<TR><TD VALIGN=TOP>uint16</TD><TD VALIGN=TOP>SubClassSetCnt</TD><TD>Number of SubClassSet tables</TD></TR>
<TR><TD VALIGN=TOP>Offset</TD><TD VALIGN=TOP>SubClassSet<BR>[SubClassSetCnt]</TD><TD>Array of offsets to SubClassSet tables-from beginning of Substitution table-ordered by class-may be NULL</TD></TR>
</TABLE>&nbsp;&nbsp;&nbsp;&nbsp;
	
<P>Each context is defined in a SubClassRule table, and all SubClassRules that specify contexts beginning with the same class value are grouped in a SubClassSet table. Consequently, the SubClassSet containing a context identifies a context's first class component.

<P>Each SubClassSet table consists of a count of the SubClassRule tables defined in the SubClassSet (SubClassRuleCnt) and an array of offsets to SubClassRule tables (SubClassRule). The SubClassRule tables are ordered by preference in the SubClassRule array of the SubClassSet.

<BR>&nbsp;<BR><FONT SIZE=5>ContextSubstFormat2 subtable:<BR> Class-based context glyph substitution</FONT>

<TABLE BGCOLOR="#F0F0F0" WIDTH=460 BORDER=0 CELLPADDING=3>
<THEAD>
<TR><TH BGCOLOR="#C0C0C0">Type</TH><TH BGCOLOR="#C0C0C0">Name</TH><TH BGCOLOR="#C0C0C0">Description</TH></TR>
</THEAD>
<TBODY>
<TR><TD VALIGN=TOP>uint16</TD><TD VALIGN=TOP>SubClassRuleCnt</TD><TD>Number of SubClassRule tables</TD></TR>
<TR><TD VALIGN=TOP>Offset</TD><TD VALIGN=TOP>SubClassRule<BR>[SubClassRuleCount]</TD><TD>Array of offsets to SubClassRule tables-from beginning of SubClassSet-ordered by preference</TD></TR>
</TABLE>&nbsp;&nbsp;&nbsp;&nbsp;
	
<P>For each context, a SubClassRule table contains a count of the glyph classes in the context sequence (GlyphCount), including the first class. A Class array lists the classes, beginning with the second class (array index = 1), that follow the first class in the context.

<BLOCKQUOTE>
<STRONG>Note:</STRONG> Text order depends on the writing direction of the text. For text written from right to left, the right-most class will be first. Conversely, for text written from left to right, the left-most class will be first.
</BLOCKQUOTE>

<P>The values specified in the Class array are the values defined in the ClassDef table. For example, a context consisting of the sequence &quot;Class 2, Class 7, Class 5, Class 0&quot; will produce a Class array of 7,5,0. The first class in the sequence, Class 2, is identified in the ContextSubstFormat2 table by the SubClassSet array index of the corresponding SubClassSet.

<P>A SubClassRule also contains a count of the substitutions to be performed on the context (SubstCount) and an array of SubstLookupRecords (SubstLookupRecord) that supply the substitution data. For each position in the context that requires a substitution, a SubstLookupRecord specifies a LookupList index and a position in the input glyph sequence where the lookup is applied. The SubstLookupRecord array lists SubstLookupRecords in design order-that is, the order in which lookups should be applied to the entire glyph sequence. 



<BR>&nbsp;<BR><FONT SIZE=5>SubClassRule table: Context definition for one class</FONT>

<TABLE BGCOLOR="#F0F0F0" WIDTH=460 BORDER=0 CELLPADDING=3>
<THEAD>
<TR><TH BGCOLOR="#C0C0C0">Type</TH><TH BGCOLOR="#C0C0C0">Name</TH><TH BGCOLOR="#C0C0C0">Description</TH></TR>
</THEAD>
<TBODY>
<TR><TD VALIGN=TOP>uint16</TD><TD VALIGN=TOP>GlyphCount</TD><TD>Total number of classes specified for the context in the rule-includes the first class</TD></TR>
<TR><TD VALIGN=TOP>uint16</TD><TD VALIGN=TOP>SubstCount</TD><TD>Number of SubstLookupRecords</TD></TR>
<TR><TD VALIGN=TOP>uint16</TD><TD VALIGN=TOP>Class<BR>[GlyphCount - 1]</TD><TD>Array of classes-beginning with the second class-to be matched to the input glyph class sequence</TD></TR>
<TR><TD VALIGN=TOP>struct</TD><TD VALIGN=TOP>SubstLookupRecord<BR>[SubstCount]</TD><TD VALIGN=TOP>Array of Substitution lookups-in design order</TD></TR>
</TABLE>&nbsp;&nbsp;&nbsp;&nbsp;
	
<A HREF="#EX8"><P>Example 8</A> at the end of this chapter uses Format 2 to substitute Arabic mark glyphs for base glyphs of different heights.

<A NAME=CSF3><H4>Context Substitution Format 3</H4></A>

<P>Format 3, coverage-based context substitution, defines a context rule as a sequence of coverage tables. Each position in the sequence may define a different Coverage table for the set of glyphs that matches the context pattern. With Format 3, the glyph sets defined in the different Coverage tables may intersect, unlike Format 2 which specifies fixed class assignments (identical for each position in the context sequence) and exclusive classes (a glyph cannot be in more than one class at a time).

<P>For example, consider an input context that contains a lowercase glyph (position 0), followed by an uppercase glyph (position 1), either a lowercase or numeral glyph (position 2), and then either a lowercase or uppercase vowel (position 3). This context requires four Coverage tables, one for each position:
<UL>
<LI>In position 0, the Coverage table lists the set of lowercase glyphs. 
<LI>In position 1, the Coverage table lists the set of uppercase glyphs. 
<LI>In position 2, the Coverage table lists the set of lowercase and numeral glyphs, a superset of the glyphs defined in the Coverage table for position 0. 
<LI>In position 3, the Coverage table lists the set of lowercase and uppercase vowels, a subset of the glyphs defined in the Coverage tables for both positions 0 and 1. 
</UL>

<P>Unlike Formats 1 and 2, this format defines only one context rule at a time. It consists of a format identifier (SubstFormat), a count of the glyphs in the sequence to be matched (GlyphCount), and an array of Coverage offsets that describe the input context sequence (Coverage). 

<BLOCKQUOTE>Note: The order of the Coverage tables listed in the Coverage array must follow the writing direction. For text written from right to left, then the right-most glyph will be first. Conversely, for text written from left to right, the left-most glyph will be first. 
</BLOCKQUOTE>

<P>The subtable also contains a count of the substitutions to be performed on the input Coverage sequence (SubstCount) and an array of SubstLookupRecords (SubstLookupRecord) in design order-that is, the order in which lookups should be applied to the entire glyph sequence. (SubstLookupRecords are described next.)

<A HREF="#EX9"><P>Example 9</A> at the end of this chapter substitutes swash glyphs for two out of three glyphs in a sequence. 

<BR>&nbsp;<BR><FONT SIZE=5>ContextSubstFormat3 subtable: Coverage-based context glyph substitution</FONT>

<TABLE BGCOLOR="#F0F0F0" WIDTH=460 BORDER=0 CELLPADDING=3>
<THEAD>
<TR><TH BGCOLOR="#C0C0C0">Type</TH><TH BGCOLOR="#C0C0C0">Name</TH><TH BGCOLOR="#C0C0C0">Description</TH></TR>
</THEAD>
<TBODY>
<TR><TD VALIGN=TOP>uint16</TD><TD VALIGN=TOP>SubstFormat</TD><TD>Format identifier-format = 3</TD></TR>
<TR><TD VALIGN=TOP>uint16</TD><TD VALIGN=TOP>GlyphCount</TD><TD>Number of glyphs in the input glyph sequence</TD></TR>
<TR><TD VALIGN=TOP>uint16</TD><TD VALIGN=TOP>SubstCount</TD><TD>Number of SubstLookupRecords</TD></TR>
<TR><TD VALIGN=TOP>Offset</TD><TD VALIGN=TOP>Coverage[GlyphCount]</TD><TD>Array of offsets to Coverage table-from beginning of Substitution table-in glyph sequence order</TD></TR>
<TR><TD VALIGN=TOP>struct</TD><TD VALIGN=TOP>SubstLookupRecord<BR>[SubstCount]</TD><TD VALIGN=TOP>Array of SubstLookupRecords-in design order</TD></TR>
</TABLE>&nbsp;&nbsp;&nbsp;&nbsp;
	
<H4>Substitution Lookup Record</H4>

<P>All contextual substitution subtables specify the substitution data in a Substitution Lookup Record (SubstLookupRecord). Each record contains a SequenceIndex, which indicates the position where the substitution will occur in the glyph sequence. In addition, a LookupListIndex identifies the lookup to be applied at the glyph position specified by the SequenceIndex.

<P>The contextual substitution subtables defined in Examples 7, 8, and 9 at the end of this chapter show SubstLookupRecords.



<BR>&nbsp;<BR><FONT SIZE=5>SubstLookupRecord</FONT>

<TABLE BGCOLOR="#F0F0F0" WIDTH=460 BORDER=0 CELLPADDING=3>
<THEAD>
<TR><TH BGCOLOR="#C0C0C0">Type</TH><TH BGCOLOR="#C0C0C0">Name</TH><TH BGCOLOR="#C0C0C0">Description</TH></TR>
</THEAD>
<TBODY>
<TR><TD VALIGN=TOP>uint16</TD><TD VALIGN=TOP>SequenceIndex</TD><TD>Index into current glyph sequence-first glyph = 0</TD></TR>
<TR><TD VALIGN=TOP>uint16</TD><TD VALIGN=TOP>LookupListIndex</TD><TD>Lookup to apply to that position-zero-based</TD></TR>
</TABLE>&nbsp;&nbsp;&nbsp;&nbsp;
	
<P>The SequenceIndex in a SubstLookupRecord must take into consideration the order in which lookups are applied to the entire glyph sequence. Because multiple substitutions may occur per context, the SequenceIndex and LookupListIndex refer to the glyph sequence after the text-processing client has applied any previous lookups. In other words, the SequenceIndex identifies the location for the substitution at the time that the lookup is to be applied. 
For example, consider an input glyph sequence of four glyphs. The first glyph does not have a substitute, but the middle two glyphs will be replaced with a ligature, and a single glyph will replace the fourth glyph:

<UL>
<LI>The first glyph is in position 0. No lookups will be applied at position 0, so no SubstLookupRecord is defined. 
<LI>The SubstLookupRecord defined for the ligature substitution specifies the SequenceIndex as position 1, which is the position of the first-glyph component in the ligature string. After the ligature replaces the glyphs in positions 1 and 2, however, the input glyph sequence consists of only three glyphs, not the original four. 
<LI>To replace the last glyph in the sequence, the SubstLookupRecord defines the SequenceIndex as position 2 instead of position 3. This position reflects the effect of the ligature substitution applied before this single substitution. 
</UL>

<BLOCKQUOTE>
Note: This example assumes that the LookupList specifies the ligature substitution lookup before the single substitution lookup.
</BLOCKQUOTE>

<H4>GSUB Subtable Examples</H4>

<P>The rest of this chapter describes and illustrates examples of all the GSUB subtables, including each of the three formats available for contextual substitutions. All the examples reflect unique parameters described below, but the samples provide a useful reference for building subtables specific to other situations.

<P>All the examples have three columns showing hex data, source, and comments.

<A NAME=EX1><H4>Example 1: GSUB Header Table </H4></A>
<P>Example 1 shows a typical <A HREF="#HEADER">GSUB Header table</A> definition.


<BR>&nbsp;<BR><FONT SIZE=5>Example 1</FONT>

<TABLE BGCOLOR="#F0F0F0" WIDTH=460 BORDER=0 CELLPADDING=3>
<THEAD>
<TR><TH BGCOLOR="#C0C0C0">Hex Data</TH><TH BGCOLOR="#C0C0C0">Source</TH><TH BGCOLOR="#C0C0C0">Comments</TH></TR>
</THEAD>
<TBODY>
<TR><TD VALIGN=TOP>&nbsp;</TD><TD VALIGN=TOP><STRONG>GSUBHeader</STRONG><BR>TheGSUBHeader</TD><TD VALIGN=BOTTOM>GSUBHeader table definition</TD></TR>
<TR><TD VALIGN=TOP>00010000</TD><TD VALIGN=TOP>0x00010000</TD><TD>version</TD></TR>
<TR><TD VALIGN=TOP>000A</TD><TD VALIGN=TOP>TheScriptList</TD><TD>offset to ScriptList table</TD></TR>
<TR><TD VALIGN=TOP>001E</TD><TD VALIGN=TOP>TheFeatureList</TD><TD>offset to FeatureList table</TD></TR>
<TR><TD VALIGN=TOP>002C</TD><TD VALIGN=TOP>TheLookupList</TD><TD>offset to LookupList table</TD></TR>
</TABLE>&nbsp;&nbsp;&nbsp;&nbsp;

<A NAME=EX2><H4>Example 2: SingleSubstFormat1 Subtable</H4></A>
<P>Example 2 illustrates the <A HREF="#SSF1">SingleSubstFormat1 subtable</A>, which uses ranges to replace single input glyphs with their corresponding output glyphs. The indices of the output glyphs are calculated by adding a constant delta value to the indices of the input glyphs.
In this example, the Coverage table has a format identifier of 1 to indicate the range format, which is used because the input glyph indices are in consecutive order in the font. The Coverage table specifies one range that contains a StartGlyphID for the &quot;0&quot; (zero) glyph and an EndGlyphID for the &quot;9&quot; glyph.


<BR>&nbsp;<BR><FONT SIZE=5>Example 2</FONT>

<TABLE BGCOLOR="#F0F0F0" WIDTH=460 BORDER=0 CELLPADDING=3>
<THEAD>
<TR><TH BGCOLOR="#C0C0C0">Hex Data</TH><TH BGCOLOR="#C0C0C0">Source</TH><TH BGCOLOR="#C0C0C0">Comments</TH></TR>
</THEAD>
<TBODY>
<TR><TD VALIGN=TOP>&nbsp;</TD><TD VALIGN=TOP><STRONG>SingleSubstFormat1</STRONG><BR>LiningNumeralSubtable</TD><TD  VALIGN=BOTTOM>SingleSubst subtable definition</TD></TR>
<TR><TD VALIGN=TOP>0001</TD><TD VALIGN=TOP>1</TD><TD>SubstFormat, ranges</TD></TR>
<TR><TD VALIGN=TOP>0006</TD><TD VALIGN=TOP>LiningNumeralCoverage</TD><TD>offset to Coverage table for input glyphs</TD></TR>
<TR><TD VALIGN=TOP>00C0</TD><TD VALIGN=TOP>192</TD><TD>DeltaGlyphID = 192, add to each input glyph index to produce output glyph index<HR></TD></TR>
<TR><TD VALIGN=TOP>&nbsp;</TD><TD VALIGN=TOP><STRONG>CoverageFormat2</STRONG><BR>LiningNumeralCoverage</TD><TD  VALIGN=BOTTOM>Coverage table definition</TD></TR>
<TR><TD VALIGN=TOP>0002</TD><TD VALIGN=TOP>2</TD><TD>CoverageFormat, ranges</TD></TR>
<TR><TD VALIGN=TOP>&nbsp;</TD><TD VALIGN=TOP>1</TD><TD>RangeCount<BR>RangeRecord[0]</TD></TR>
<TR><TD VALIGN=TOP>004E</TD><TD VALIGN=TOP>78</TD><TD>Start GlyphID for numeral zero glyph</TD></TR>
<TR><TD VALIGN=TOP>0058</TD><TD VALIGN=TOP>87</TD><TD>End GlyphID for numeral nine glyph</TD></TR>
<TR><TD VALIGN=TOP>0000</TD><TD VALIGN=TOP>0</TD><TD>StartCoverageIndex first CoverageIndex = 0</TD></TR>
</TABLE>&nbsp;&nbsp;&nbsp;&nbsp;

<A NAME=EX3><H4>Example 3: SingleSubstFormat2 Subtable</H4></A>
<P>Example 3 uses the <A HREF="#SSF2">SingleSubstFormat2 subtable</A> for lists to substitute punctuation glyphs in Japanese text that is written vertically. Horizontally oriented parentheses and square brackets (the input glyphs) are replaced with vertically oriented parentheses and square brackets (the output glyphs).
 
<P>The Coverage table, Format 1, identifies each input glyph index. The number of input glyph indices listed in the Coverage table matches the number of output glyph indices listed in the subtable. For correct substitution, the order of the glyph indices in the Coverage table (input glyphs) must match the order in the Substitute array (output glyphs).


<BR>&nbsp;<BR><FONT SIZE=5>Example 3</FONT>

<TABLE BGCOLOR="#F0F0F0" WIDTH=460 BORDER=0 CELLPADDING=3>
<THEAD>
<TR><TH BGCOLOR="#C0C0C0">Hex Data</TH><TH BGCOLOR="#C0C0C0">Source</TH><TH BGCOLOR="#C0C0C0">Comments</TH></TR>
</THEAD>
<TBODY>
<TR><TD VALIGN=TOP>&nbsp;</TD><TD VALIGN=TOP><STRONG>SingleSubstFormat2</STRONG><BR>VerticalPunctuationSubtable</TD><TD VALIGN=BOTTOM>SingleSubst subtable definition</TD></TR>
<TR><TD VALIGN=TOP>0002</TD><TD VALIGN=TOP>2</TD><TD>SubstFormat lists</TD></TR>
<TR><TD VALIGN=TOP>000E</TD><TD VALIGN=TOP>VerticalPunctuationCoverage</TD><TD>offset to Coverage table</TD></TR>
<TR><TD VALIGN=TOP>0004</TD><TD VALIGN=TOP>4</TD><TD>GlyphCount, equals GlyphCount in Coverage table</TD></TR>
<TR><TD VALIGN=TOP>0131</TD><TD VALIGN=TOP>VerticalOpenBracketGlyph</TD><TD>Substitute[0], ordered by Coverage Index</TD></TR>
<TR><TD VALIGN=TOP>0135</TD><TD VALIGN=TOP>VerticalClosedBracketGlyph</TD><TD>Substitute[1]</TD></TR>
<TR><TD VALIGN=TOP>013E</TD><TD VALIGN=TOP>VerticalOpenParenthesisGlyph</TD><TD>Substitute[2]</TD></TR>
<TR><TD VALIGN=TOP>0143</TD><TD VALIGN=TOP>VerticalClosedParenthesisGlyph</TD><TD>Substitute[3]<HR></TD></TR>
<TR><TD VALIGN=TOP>&nbsp;</TD><TD VALIGN=TOP><STRONG>CoverageFormat1</STRONG><BR>VerticalPunctuationCoverage</TD><TD VALIGN=BOTTOM>Coverage table definition</TD></TR>
<TR><TD VALIGN=TOP>0001</TD><TD VALIGN=TOP>1</TD><TD>CoverageFormat lists</TD></TR>
<TR><TD VALIGN=TOP>0004</TD><TD VALIGN=TOP>4</TD><TD>GlyphCount</TD></TR>
<TR><TD VALIGN=TOP>003C</TD><TD VALIGN=TOP>HorizontalOpenBracketGlyph</TD><TD>GlyphArray[0], ordered by GlyphID</TD></TR>
<TR><TD VALIGN=TOP>0040</TD><TD VALIGN=TOP>HorizontalClosedBracketGlyph</TD><TD>GlyphArray[1]</TD></TR>
<TR><TD VALIGN=TOP>004B</TD><TD VALIGN=TOP>HorizontalOpenParenthesisGlyph</TD><TD>GlyphArray[2]</TD></TR>
<TR><TD VALIGN=TOP>004F</TD><TD VALIGN=TOP>HorizontalClosedParenthesisGlyph</TD><TD>GlyphArray[3]</TD></TR>
</TABLE>&nbsp;&nbsp;&nbsp;&nbsp;

<A NAME=EX4><H4>Example 4: MultipleSubstFormat1 Subtable</H4></A>
<P>Example 4 uses a <A HREF="#MSF1">MultipleSubstFormat1 subtable</A> to replace a single &quot;ffi&quot; ligature with three individual glyphs that form the string &lt;ffi&gt;. The subtable defines a format identifier of 1, an offset to a Coverage table that specifies the glyph index of the &quot;ffi&quot; ligature (the input glyph), an offset to a Sequence table that specifies the sequence of glyph indices for the &lt;ffi&gt; string in its substitute array (the output glyph sequence), and a count of Sequence table offsets.


<BR>&nbsp;<BR><FONT SIZE=5>Example 4</FONT>

<TABLE BGCOLOR="#F0F0F0" WIDTH=460 BORDER=0 CELLPADDING=3>
<THEAD>
<TR><TH BGCOLOR="#C0C0C0">Hex Data</TH><TH BGCOLOR="#C0C0C0">Source</TH><TH BGCOLOR="#C0C0C0">Comments</TH></TR>
</THEAD>
<TBODY>
<TR><TD VALIGN=TOP>&nbsp;</TD><TD VALIGN=TOP><STRONG>MultipleSubstFormat1</STRONG><BR>FfiDecompSubtable</TD><TD VALIGN=BOTTOM>MultipleSubst subtable definition</TD></TR>
<TR><TD VALIGN=TOP>0001</TD><TD VALIGN=TOP>1</TD><TD>SubstFormat</TD></TR>
<TR><TD VALIGN=TOP>0008</TD><TD VALIGN=TOP>FfiDecompCoverage</TD><TD>offset to Coverage table</TD></TR>
<TR><TD VALIGN=TOP>0001</TD><TD VALIGN=TOP>1</TD><TD>SequenceCount, equals GlyphCount in Coverage table</TD></TR>
<TR><TD VALIGN=TOP>000E</TD><TD VALIGN=TOP>FfiDecompSequence</TD><TD>offset to Sequence[0] table<HR></TD></TR>
<TR><TD VALIGN=TOP>&nbsp;</TD><TD VALIGN=TOP><STRONG>CoverageFormat1</STRONG><BR>FfiDecompCoverage</TD><TD VALIGN=BOTTOM>Coverage table definition</TD></TR>
<TR><TD VALIGN=TOP>0001</TD><TD VALIGN=TOP>1</TD><TD>CoverageFormat lists</TD></TR>
<TR><TD VALIGN=TOP>0001</TD><TD VALIGN=TOP>1</TD><TD>GlyphCount</TD></TR>
<TR><TD VALIGN=TOP>00F1</TD><TD VALIGN=TOP>ffiGlyphID</TD><TD>ligature glyph<HR></TD></TR>
<TR><TD VALIGN=TOP>&nbsp;</TD><TD VALIGN=TOP><STRONG>Sequence</STRONG><BR>FfiDecompSequence</TD><TD VALIGN=BOTTOM>Sequence table definition</TD></TR>
<TR><TD VALIGN=TOP>0003</TD><TD VALIGN=TOP>3</TD><TD>GlyphCount</TD></TR>
<TR><TD VALIGN=TOP>001A</TD><TD VALIGN=TOP>fGlyphID</TD><TD>first glyph in sequence order</TD></TR>
<TR><TD VALIGN=TOP>001A</TD><TD VALIGN=TOP>fGlyphID</TD><TD>second glyph</TD></TR>
<TR><TD VALIGN=TOP>001D</TD><TD VALIGN=TOP>iGlyphID</TD><TD>third glyph</TD></TR>
</TABLE>&nbsp;&nbsp;&nbsp;&nbsp;

<A NAME=EX5><H4>Example 5: AlternateSubstFormat 1 Subtable</H4></A>
<P>Example 5 uses the <A HREF="#ASF1">AlternateSubstFormat1 subtable</A> to replace the default ampersand glyph (input glyph) with one of two alternative ampersand glyphs (output glyph). 

<P>In this case, the Coverage table specifies the index of a single glyph, the default ampersand, because it is the only glyph covered by this lookup. The AlternateSet table for this covered glyph identifies the alternative glyphs: AltAmpersand1GlyphID and AltAmpersand2GlyphID. 

<P>In Example 5, the index position of the AlternateSet table offset in the AlternateSet array is zero (0), which correlates with the index position (also zero) of the default ampersand glyph in the Coverage table.


<BR>&nbsp;<BR><FONT SIZE=5>Example 5</FONT>

<TABLE BGCOLOR="#F0F0F0" WIDTH=460 BORDER=0 CELLPADDING=3>
<THEAD>
<TR><TH BGCOLOR="#C0C0C0">Hex Data</TH><TH BGCOLOR="#C0C0C0">Source</TH><TH BGCOLOR="#C0C0C0">Comments</TH></TR>
</THEAD>
<TBODY>
<TR><TD VALIGN=TOP>&nbsp;</TD><TD VALIGN=TOP><STRONG>AlternateSubstFormat1</STRONG><BR>AltAmpersandSubtable</TD><TD VALIGN=BOTTOM>AlternateSubstFormat1 subtable definition</TD></TR>
<TR><TD VALIGN=TOP>0001</TD><TD VALIGN=TOP>1</TD><TD>SubstFormat</TD></TR>
<TR><TD VALIGN=TOP>0008</TD><TD VALIGN=TOP>AltAmpersandCoverage</TD><TD>offset to Coverage table</TD></TR>
<TR><TD VALIGN=TOP>0001</TD><TD VALIGN=TOP>1</TD><TD>AlternateSetCnt, equals GlyphCount in Coverage table</TD></TR>
<TR><TD VALIGN=TOP>000E</TD><TD VALIGN=TOP>AltAmpersandSet</TD><TD>offset to AlternateSet[0] table<HR></TD></TR>
<TR><TD VALIGN=TOP>&nbsp;</TD><TD VALIGN=TOP><STRONG>CoverageFormat1</STRONG><BR>AltAmpersandCoverage</TD><TD VALIGN=BOTTOM>Coverage table definition</TD></TR>
<TR><TD VALIGN=TOP>0001</TD><TD VALIGN=TOP>1</TD><TD>CoverageFormat</TD></TR>
<TR><TD VALIGN=TOP>0001</TD><TD VALIGN=TOP>1</TD><TD>GlyphCount</TD></TR>
<TR><TD VALIGN=TOP>003A</TD><TD VALIGN=TOP>DefaultAmpersandGlyphID</TD><TD>GlyphArray[0]<HR></TD></TR>
<TR><TD VALIGN=TOP>&nbsp;</TD><TD VALIGN=TOP><STRONG>AlternateSet</STRONG><BR>AltAmpersandSet</TD><TD VALIGN=BOTTOM>AlternateSet table definition</TD></TR>
<TR><TD VALIGN=TOP>0002</TD><TD VALIGN=TOP>2</TD><TD>GlyphCount</TD></TR>
<TR><TD VALIGN=TOP>00C9</TD><TD VALIGN=TOP>AltAmpersand1GlyphID</TD><TD>offset to Alternate[0], in arbitrary order</TD></TR>
<TR><TD VALIGN=TOP>00CA</TD><TD VALIGN=TOP>AltAmpersand2GlyphID</TD><TD>offset to Alternate[1]</TD></TR>
</TABLE>&nbsp;&nbsp;&nbsp;&nbsp;
   		
<A NAME=EX6><H4>Example 6: LigatureSubstFormat1 Subtable</H4></A>
<P>Example 6 shows a <A HREF="#LSF1">LigatureSubstFormat1 subtable</A> that defines data to replace a string of glyphs with a single ligature glyph. Because a LigatureSubstFormat1 subtable can specify glyph substitutions for more than one ligature, this subtable defines three ligatures: &quot;etc,&quot; &quot;ffi,&quot; and &quot;fi.&quot;

<P>The sample subtable contains a format identifier (4) and an offset to a Coverage table. The Coverage table, which lists an index for each first glyph in the ligatures, lists indices for the &quot;e&quot; and &quot;f&quot; glyphs. The Coverage table range format is used here because the &quot;e&quot; and &quot;f&quot; glyph indices are numbered consecutively. 

<P>In the LigatureSubst subtable, LigSetCount specifies two LigatureSet tables, one for each covered glyph, and the LigatureSet array stores offsets to them. In this array, the &quot;e&quot; LigatureSet precedes the &quot;f&quot; LigatureSet, matching the order of the corresponding first-glyph components in the Coverage table. 

<P>Each LigatureSet table identifies all ligatures that begin with a covered glyph. The sample LigatureSet table defined for the &quot;e&quot; glyph contains only one ligature, &quot;etc.&quot; A LigatureSet table defined for the &quot;f&quot; glyph contains two ligatures, &quot;ffi&quot; and &quot;fi.&quot;

<P>The sample FLigaturesSet table has offsets to two Ligature tables, one for &quot;ffi&quot; and one for &quot;fi.&quot; The Ligature array lists the &quot;ffi&quot; Ligature table first to indicate that the &quot;ffi&quot; ligature is preferred to the &quot;fi&quot; ligature.


<BR>&nbsp;<BR><FONT SIZE=5>Example 6</FONT>

<TABLE BGCOLOR="#F0F0F0" WIDTH=460 BORDER=0 CELLPADDING=3>
<THEAD>
<TR><TH BGCOLOR="#C0C0C0">Hex Data</TH><TH BGCOLOR="#C0C0C0">Source</TH><TH BGCOLOR="#C0C0C0">Comments</TH></TR>
</THEAD>
<TBODY>
<TR><TD VALIGN=TOP>&nbsp;</TD><TD VALIGN=TOP><STRONG>LigatureSubstFormat1</STRONG><BR>LigaturesSubtable</TD><TD VALIGN=BOTTOM>LigatureSubstFormat1 subtable 
definition</TD></TR>
<TR><TD VALIGN=TOP>0001</TD><TD VALIGN=TOP>1</TD><TD>SubstFormat</TD></TR>
<TR><TD VALIGN=TOP>000A</TD><TD VALIGN=TOP>LigaturesCoverage</TD><TD>offset to Coverage table</TD></TR>
<TR><TD VALIGN=TOP>0002</TD><TD VALIGN=TOP>2</TD><TD>LigSetCount</TD></TR>
<TR><TD VALIGN=TOP>0014</TD><TD VALIGN=TOP>ELigaturesSet</TD><TD>offset to LigatureSet[0] table in Coverage Index order</TD></TR>
<TR><TD VALIGN=TOP>0020</TD><TD VALIGN=TOP>FLigaturesSet</TD><TD>offset to LigatureSet[1] table<HR></TD></TR>
<TR><TD VALIGN=TOP>&nbsp;</TD><TD VALIGN=TOP><STRONG>CoverageFormat2</STRONG><BR>LigaturesCoverage</TD><TD VALIGN=BOTTOM>Coverage table definition</TD></TR>
<TR><TD VALIGN=TOP>0002</TD><TD VALIGN=TOP>2</TD><TD>CoverageFormat, ranges</TD></TR>
<TR><TD VALIGN=TOP>0001</TD><TD VALIGN=TOP>1</TD><TD>RangeCount<BR>RangeRecord[0]</TD></TR>
<TR><TD VALIGN=TOP>0019</TD><TD VALIGN=TOP>eGlyphID</TD><TD>Start, first GlyphID</TD></TR>
<TR><TD VALIGN=TOP>001A</TD><TD VALIGN=TOP>fGlyphID</TD><TD>End, last GlyphID in range</TD></TR>
<TR><TD VALIGN=TOP>0000</TD><TD VALIGN=TOP>0</TD><TD>StartCoverageIndex, coverage index of start glyphID<HR></TD></TR>
<TR><TD VALIGN=TOP>&nbsp;</TD><TD VALIGN=TOP><STRONG>LigatureSet</STRONG><BR>ELigaturesSet</TD><TD>LigatureSet table definition<BR>all ligatures that start with e</TD></TR>
<TR><TD VALIGN=TOP>0001</TD><TD VALIGN=TOP>1</TD><TD>LigatureCount</TD></TR>
<TR><TD VALIGN=TOP>0004</TD><TD VALIGN=TOP>etcLigature</TD><TD>offset to Ligature[0] table<HR></TD></TR>
<TR><TD VALIGN=TOP>&nbsp;</TD><TD VALIGN=TOP><STRONG>Ligature</STRONG><BR>etcLigature</TD><TD VALIGN=BOTTOM>Ligature table definition</TD></TR>
<TR><TD VALIGN=TOP>015B</TD><TD VALIGN=TOP>etcGlyphID</TD><TD>LigGlyph, output GlyphID</TD></TR>
<TR><TD VALIGN=TOP>0003</TD><TD VALIGN=TOP>3</TD><TD>CompCount number of components</TD></TR>
<TR><TD VALIGN=TOP>0028</TD><TD VALIGN=TOP>tGlyphID</TD><TD>Component[1], second component in ligature</TD></TR>
<TR><TD VALIGN=TOP>0017</TD><TD VALIGN=TOP>cGlyphID</TD><TD>Component[2], third component in ligature<HR></TD></TR>
<TR><TD VALIGN=TOP>&nbsp;</TD><TD VALIGN=TOP><STRONG>LigatureSet</STRONG><BR>FLigaturesSet</TD><TD VALIGN=TOP>LigatureSet table definition all ligatures start with f</TD></TR>
<TR><TD VALIGN=TOP>0002</TD><TD VALIGN=TOP>2</TD><TD>LigatureCount</TD></TR>
<TR><TD VALIGN=TOP>0006</TD><TD VALIGN=TOP>ffiLigature</TD><TD>offset to Ligature[0] table, listed first because ffi ligature is preferred to 
fi ligature</TD></TR>
<TR><TD VALIGN=TOP>000E</TD><TD VALIGN=TOP>fiLigature</TD><TD>offset to Ligature[1] table<HR></TD></TR>
<TR><TD VALIGN=TOP>&nbsp;</TD><TD VALIGN=TOP><STRONG>Ligature</STRONG><BR>ffiLigature</TD><TD VALIGN=BOTTOM>Ligature table definition<HR></TD></TR>
<TR><TD VALIGN=TOP>00F1</TD><TD VALIGN=TOP>ffiGlyphID</TD><TD>LigGlyph, output GlyphID</TD></TR>
<TR><TD VALIGN=TOP>0003</TD><TD VALIGN=TOP>3</TD><TD>CompCount</TD></TR>
<TR><TD VALIGN=TOP>001A</TD><TD VALIGN=TOP>fGlyphID</TD><TD>Component[1], second component in ligature</TD></TR>
<TR><TD VALIGN=TOP>001D</TD><TD VALIGN=TOP>iGlyphID</TD><TD>Component[2], third component in ligature<HR></TD></TR>
<TR><TD VALIGN=TOP>&nbsp;</TD><TD VALIGN=TOP><STRONG>Ligature</STRONG><BR>fiLigature</TD><TD VALIGN=BOTTOM>Ligature table definition</TD></TR>
<TR><TD VALIGN=TOP>00F0</TD><TD VALIGN=TOP>fiGlyphID</TD><TD>LigGlyph, output GlyphID</TD></TR>
<TR><TD VALIGN=TOP>0002</TD><TD VALIGN=TOP>2</TD><TD>CompCount</TD></TR>
<TR><TD VALIGN=TOP>001D</TD><TD VALIGN=TOP>iGlyphID</TD><TD>Component[1] second component in ligature</TD></TR>
</TABLE>&nbsp;&nbsp;&nbsp;&nbsp;

<A NAME=EX7><H4>Example 7: ContextSubstFormat1 Subtable and SubstLookupRecord</H4></A>
<P>Example 7 uses a <A HREF="#CSF1">ContextSubstFormat1 subtable</A> for glyph sequences to replace a string of three glyphs with another string. For the French language system, the subtable defines a contextual substitution that replaces the input sequence, space-dash-space, with the output sequence, thin space-dash-thin space. 

<P>The contextual substitution, called Dash Lookup in this example, contains one ContextSubstFormat1 subtable called the DashSubtable. The subtable specifies two contexts: a SpaceGlyph followed by a DashGlyph, and a DashGlyph followed by a SpaceGlyph. In each sequence, a single substitution replaces the SpaceGlyph with a ThinSpaceGlyph. 

<P>The Coverage table, labeled DashCoverage, lists two GlyphIDs for the first glyphs in the SpaceGlyph and DashGlyph sequences. One SubRuleSet table is defined for each covered glyph.

<P>SpaceAndDashSubRuleSet lists all the contexts that begin with a SpaceGlyph. It contains an offset to one SubRule table (SpaceAndDashSubRule), which specifies two glyphs in the context sequence, the second of which is a DashGlyph. The SubRule table contains an offset to a SubstLookupRecord that lists the position in the sequence where the glyph substitution should occur (position 0) and the index of the SpaceToThinSpaceLookup applied there to replace the SpaceGlyph with a ThinSpaceGlyph.
DashAndSpaceSubRuleSet lists all the contexts that begin with a DashGlyph. An offset to a SubRule table (DashAndSpaceSubRule) specifies two glyphs in the context sequence, and the second one is a SpaceGlyph. The SubRule table contains an offset to a SubstLookupRecord, which lists the position in the sequence where the glyph substitution should occur, and an index to the same lookup used in the SpaceAndDashSubRule. The lookup replaces the SpaceGlyph with a ThinSpaceGlyph. 


<BR>&nbsp;<BR><FONT SIZE=5>Example 7</FONT>

<TABLE BGCOLOR="#F0F0F0" WIDTH=460 BORDER=0 CELLPADDING=3>
<THEAD>
<TR><TH BGCOLOR="#C0C0C0">Hex Data</TH><TH BGCOLOR="#C0C0C0">Source</TH><TH BGCOLOR="#C0C0C0">Comments</TH></TR>
</THEAD>
<TBODY>
<TR><TD VALIGN=TOP>&nbsp;</TD><TD VALIGN=TOP><STRONG>ContextSubstFormat1</STRONG><BR>DashSubtable</TD><TD>ContextSubstFormat1 subtable
definition for Lookup[0], DashLookup</TD></TR>
<TR><TD VALIGN=TOP>0001</TD><TD VALIGN=TOP>1</TD><TD>SubstFormat</TD></TR>
<TR><TD VALIGN=TOP>000A</TD><TD VALIGN=TOP>DashCoverage</TD><TD>offset to Coverage table</TD></TR>
<TR><TD VALIGN=TOP>0002</TD><TD VALIGN=TOP>2</TD><TD>SubRuleSetCount</TD></TR>
<TR><TD VALIGN=TOP>0012</TD><TD VALIGN=TOP>SpaceAndDashSubRuleSet</TD><TD>offset to SubRuleSet[0], ordered by Coverage Index</TD></TR>
<TR><TD VALIGN=TOP>0020</TD><TD VALIGN=TOP>DashAndSpaceSubRuleSet</TD><TD>offset to SubRuleSet[1]<HR></TD></TR>
<TR><TD VALIGN=TOP>&nbsp;</TD><TD VALIGN=TOP><STRONG>CoverageFormat1</STRONG><BR>DashCoverage</TD><TD VALIGN=BOTTOM>Coverage table definition</TD></TR>
<TR><TD VALIGN=TOP>0001</TD><TD VALIGN=TOP>1</TD><TD>CoverageFormat lists</TD></TR>
<TR><TD VALIGN=TOP>0002</TD><TD VALIGN=TOP>2</TD><TD>GlyphCount</TD></TR>
<TR><TD VALIGN=TOP>0028</TD><TD VALIGN=TOP>SpaceGlyph</TD><TD>GlyphArray[0], in numeric order</TD></TR>
<TR><TD VALIGN=TOP>005D</TD><TD VALIGN=TOP>DashGlyph</TD><TD>GlyphArray[1], dash GlyphID<HR></TD></TR>
<TR><TD VALIGN=TOP>&nbsp;</TD><TD VALIGN=TOP><STRONG>SubRuleSet</STRONG><BR>SpaceAndDashSubRuleSet</TD><TD VALIGN=BOTTOM>SubRuleSet[0] table definition</TD></TR>
<TR><TD VALIGN=TOP>0001</TD><TD VALIGN=TOP>1</TD><TD>SubRuleCount</TD></TR>
<TR><TD VALIGN=TOP>0004</TD><TD VALIGN=TOP>SpaceAndDashSubRule</TD><TD>offset to SubRule[0], ordered by preference<HR></TD></TR>
<TR><TD VALIGN=TOP>&nbsp;</TD><TD VALIGN=TOP><STRONG>SubRule</STRONG><BR>SpaceAndDashSubRule</TD><TD VALIGN=BOTTOM>SubRule[0] table definition</TD></TR>
<TR><TD VALIGN=TOP>0002</TD><TD VALIGN=TOP>2</TD><TD>GlyphCount number in input sequence</TD></TR>
<TR><TD VALIGN=TOP>0001</TD><TD VALIGN=TOP>1</TD><TD>SubstCount</TD></TR>
<TR><TD VALIGN=TOP>005D</TD><TD VALIGN=TOP>DashGlyph</TD><TD>Input[1], starting with second glyph SpaceGlyph in Coverage table is first glyph
<BR>SubstLookupRecord[0]</TD></TR>
<TR><TD VALIGN=TOP>0000</TD><TD VALIGN=TOP>0</TD><TD>SequenceIndex substitution at first glyph position (0)</TD></TR>
<TR><TD VALIGN=TOP>0001</TD><TD VALIGN=TOP>1</TD><TD>LookupListIndex index for SpaceToThinSpaceLookup in LookupList<HR></TD></TR>
<TR><TD VALIGN=TOP>&nbsp;</TD><TD VALIGN=TOP><STRONG>SubRuleSet</STRONG><BR>DashAndSpaceSubRuleSet</TD><TD VALIGN=BOTTOM>SubRuleSet[0] table definition</TD></TR>
<TR><TD VALIGN=TOP>0001</TD><TD VALIGN=TOP>1</TD><TD>SubRuleCount</TD></TR>
<TR><TD VALIGN=TOP>0004</TD><TD VALIGN=TOP>DashAndSpaceSubRule</TD><TD>offset to SubRule[0], ordered by preference<HR></TD></TR>
<TR><TD VALIGN=TOP>&nbsp;</TD><TD VALIGN=TOP><STRONG>SubRule</STRONG><BR>DashAndSpaceSubRule</TD><TD VALIGN=BOTTOM>SubRule[0] table definition</TD></TR>
<TR><TD VALIGN=TOP>0002</TD><TD VALIGN=TOP>2</TD><TD>GlyphCount number in the input glyph sequence</TD></TR>
<TR><TD VALIGN=TOP>0001</TD><TD VALIGN=TOP>1</TD><TD>SubstCount</TD></TR>
<TR><TD VALIGN=TOP>0028</TD><TD VALIGN=TOP>SpaceGlyph</TD><TD>Input[1], starting with second glyph SubstLookupRecord definition</TD></TR>
<TR><TD VALIGN=TOP>0001</TD><TD VALIGN=TOP>1</TD><TD>SequenceIndex substitution at second glyph position(1)</TD></TR>
<TR><TD VALIGN=TOP>0001</TD><TD VALIGN=TOP>1</TD><TD>LookupListIndex for SpaceToThinSpaceLookup</TD></TR>
</TABLE>&nbsp;&nbsp;&nbsp;&nbsp;

<A NAME=EX8><H4>Example 8: ContextSubstFormat2 Subtable</H4></A>
<P>Example 8 uses a <A HREF="#CSF2">ContextSubstFormat2 subtable</A> with glyph classes to replace default mark glyphs with their alternative forms. Glyph alternatives are selected depending upon the height of the base glyph that they combine with-that is, the mark glyph used above a high base glyph differs from the mark glyph above a very high base glyph. 

<P>In the example, SetMarksHighSubtable contains a Class table that defines four glyph classes: medium-height glyphs (Class 0), all default mark glyphs (Class 1), high glyphs (Class 2), and very high glyphs (Class 3). The subtable also contains a Coverage table that lists each base glyph that functions as a first component in a context, ordered by glyph index. 

<P>Two SubClassSets are defined, one for substituting high marks and one for very high marks. No SubClassSets are specified for Class 0 and Class 1 glyphs because no contexts begin with glyphs from these classes. The SubClassSet array lists SubClassSets in numerical order, so SubClassSet 2 precedes SubClassSet 3. 

<P>Within each SubClassSet, a SubClassRule is defined. In SetMarksHighSubClassSet2, the SubClassRule table specifies two glyphs in the context, the first glyph in Class 2 (a high glyph) and the second in Class 1 (a mark glyph). The SubstLookupRecord specifies applying SubstituteHighMarkLookup at the second position in the sequence-that is, a high mark glyph will replace the default mark glyph.

<P>In SetMarksVeryHighSubClassSet3, the SubClassRule specifies two glyphs in the context, the first in Class 3 (a very high glyph) and the second in Class 1 (a mark glyph). The SubstLookupRecord specifies applying SubstituteVeryHighMarkLookup at the second position in the sequence-that is, a very high mark glyph will replace the default mark glyph.


<BR>&nbsp;<BR><FONT SIZE=5>Example 8</FONT>

<TABLE BGCOLOR="#F0F0F0" WIDTH=460 BORDER=0 CELLPADDING=3>
<THEAD>
<TR><TH BGCOLOR="#C0C0C0">Hex Data</TH><TH BGCOLOR="#C0C0C0">Source</TH><TH BGCOLOR="#C0C0C0">Comments</TH></TR>
</THEAD>
<TBODY>
<TR><TD VALIGN=TOP>&nbsp;</TD><TD VALIGN=TOP><STRONG>ContextSubstFormat2</STRONG><BR>SetMarksHighSubtable</TD><TD VALIGN=BOTTOM>ContextSubstFormat2 subtable 
definition</TD></TR>
<TR><TD VALIGN=TOP>0002</TD><TD VALIGN=TOP>2</TD><TD>SubstFormat</TD></TR>
<TR><TD VALIGN=TOP>0010</TD><TD VALIGN=TOP>SetMarksHighCoverage</TD><TD>offset to Coverage table</TD></TR>
<TR><TD VALIGN=TOP>001C</TD><TD VALIGN=TOP>SetMarksHighClassDef</TD><TD>offset to Class Def table</TD></TR>
<TR><TD VALIGN=TOP>0004</TD><TD VALIGN=TOP>4</TD><TD>SubClassSetCnt</TD></TR>
<TR><TD VALIGN=TOP>0000</TD><TD VALIGN=TOP>NULL</TD><TD>offset to SubClassSet[0] table, no contexts that begin with Class 0 glyphs are defined</TD></TR>
<TR><TD VALIGN=TOP>0000</TD><TD VALIGN=TOP>NULL</TD><TD>offset to SubClassSet[1] table no contexts that begin with Class 1 glyphs are defined</TD></TR>
<TR><TD VALIGN=TOP>0032</TD><TD VALIGN=TOP>SetMarksHighSubClassSet2</TD><TD>offset to SubClassSet[2] table for contexts that begin with 
Class 2 glyphs (high base glyphs)</TD></TR>
<TR><TD VALIGN=TOP>0040</TD><TD VALIGN=TOP>SetMarksVeryHighSubClassSet3</TD><TD>offset to SubClassSet[3] table for contexts that begin with 
Class 3 glyphs (very high base glyphs)<HR></TD></TR>
<TR><TD VALIGN=TOP>&nbsp;</TD><TD VALIGN=TOP><STRONG>CoverageFormat1</STRONG><BR>SetMarksHighCoverage</TD><TD VALIGN=BOTTOM>Coverage table definition</TD></TR>
<TR><TD VALIGN=TOP>0001</TD><TD VALIGN=TOP>1</TD><TD>CoverageFormat, lists</TD></TR>
<TR><TD VALIGN=TOP>0004</TD><TD VALIGN=TOP>4</TD><TD>GlyphCount</TD></TR>
<TR><TD VALIGN=TOP>0030</TD><TD VALIGN=TOP>tahGlyphID</TD><TD>GlyphArray[0], high base glyph</TD></TR>
<TR><TD VALIGN=TOP>0031</TD><TD VALIGN=TOP>dhahGlyphID</TD><TD>GlyphArray[1], high base glyph</TD></TR>
<TR><TD VALIGN=TOP>0040</TD><TD VALIGN=TOP>cafGlyphID</TD><TD>GlyphArray[2], very high base glyph</TD></TR>
<TR><TD VALIGN=TOP>0041</TD><TD VALIGN=TOP>gafGlyphID</TD><TD>GlyphArray[3], very high base glyph<HR></TD></TR>
<TR><TD VALIGN=TOP>&nbsp;</TD><TD VALIGN=TOP><STRONG>ClassDefFormat2</STRONG><BR>SetMarksHighClassDef</TD><TD VALIGN=BOTTOM>Class table definition</TD></TR>
<TR><TD VALIGN=TOP>0002</TD><TD VALIGN=TOP>2</TD><TD>Class Format, ranges</TD></TR>
<TR><TD VALIGN=TOP>0003</TD><TD VALIGN=TOP>3</TD><TD>ClassRangeCount ClassRange[0] ordered by StartGlyphID for Class 2, high base glyphs</TD></TR>
<TR><TD VALIGN=TOP>0030</TD><TD VALIGN=TOP>tahGlyphID</TD><TD>Start, first Glyph ID in range</TD></TR>
<TR><TD VALIGN=TOP>0031</TD><TD VALIGN=TOP>dhahGlyphID</TD><TD>End, last Glyph ID in range</TD></TR>
<TR><TD VALIGN=TOP>0002</TD><TD VALIGN=TOP>2</TD><TD>Class<BR>ClassRange[1] for Class 3, very high base glyphs</TD></TR>
<TR><TD VALIGN=TOP>0040</TD><TD VALIGN=TOP>cafGlyphID</TD><TD>Start, first Glyph ID in the range</TD></TR>
<TR><TD VALIGN=TOP>0041</TD><TD VALIGN=TOP>gafGlyphID</TD><TD>End, last Glyph ID in the range</TD></TR>
<TR><TD VALIGN=TOP>0003</TD><TD VALIGN=TOP>3</TD><TD>Class<BR>ClassRange[2] for Class 1, mark gyphs</TD></TR>
<TR><TD VALIGN=TOP>00D2</TD><TD VALIGN=TOP>fathatanDefaultGlyphID</TD><TD>Start, first Glyph ID in range default fathatan mark</TD></TR>
<TR><TD VALIGN=TOP>00D3</TD><TD VALIGN=TOP>dammatanDefaultGlyphID</TD><TD>End, last Glyph ID in the range default dammatan mark</TD></TR>
<TR><TD VALIGN=TOP>0001</TD><TD VALIGN=TOP>1</TD><TD>Class<HR></TD></TR>
<TR><TD VALIGN=TOP>&nbsp;</TD><TD VALIGN=TOP><STRONG>SubClassSet</STRONG><BR>SetMarksHighSubClassSet2</TD><TD>SubClassSet[2] table definition<BR> all contexts that begin with Class 2 glyphs</TD></TR>
<TR><TD VALIGN=TOP>0001</TD><TD VALIGN=TOP>1</TD><TD>SubClassRuleCnt</TD></TR>
<TR><TD VALIGN=TOP>0004</TD><TD VALIGN=TOP>SetMarksHighSubClassRule2</TD><TD>offset to SubClassRule[0] table ordered by preference<HR></TD></TR>
<TR><TD VALIGN=TOP>&nbsp;</TD><TD VALIGN=TOP><STRONG>SubClassRule</STRONG><BR>SetMarksHighSubClassRule2</TD><TD>SubClassRule[0] table 
definition, Class 2 glyph (high base) glyph followed by a Class 1 glyph (mark)</TD></TR>
<TR><TD VALIGN=TOP>0002</TD><TD VALIGN=TOP>2</TD><TD>GlyphCount</TD></TR>
<TR><TD VALIGN=TOP>0001</TD><TD VALIGN=TOP>1</TD><TD>SubstCount</TD></TR>
<TR><TD VALIGN=TOP>0001</TD><TD VALIGN=TOP>1</TD><TD>offset to Class[1], beginning with the second Class in the context sequence (mark = Class 1) begin SubstLookupRecord array in design order SubstLookupRecord[0]</TD></TR>
<TR><TD VALIGN=TOP>0001</TD><TD VALIGN=TOP>1</TD><TD>SequenceIndex, apply substitution to position 2, a mark</TD></TR>
<TR><TD VALIGN=TOP>0001</TD><TD VALIGN=TOP>1</TD><TD>LookupListIndex <HR></TD></TR>
<TR><TD VALIGN=TOP>&nbsp;</TD><TD VALIGN=TOP><STRONG>SubClassSet</STRONG><BR>SetMarksVeryHighSubClassSet3</TD><TD>SubClassSet[3] table definition all contexts that begin with Class 3 glyphs</TD></TR>
<TR><TD VALIGN=TOP>0001</TD><TD VALIGN=TOP>1</TD><TD>SubClassRuleCnt</TD></TR>
<TR><TD VALIGN=TOP>0004</TD><TD VALIGN=TOP>SetMarksVeryHighSubClassRule3</TD><TD>offset to SubClassRule[0] table ordered by preference<HR></TD></TR>
<TR><TD VALIGN=TOP>&nbsp;</TD><TD VALIGN=TOP><STRONG>SubClassRule</STRONG><BR>SetMarksVeryHighSubClassRule3</TD><TD>SubClassRule[0] table 
definition Class 3 glyph (very high base glyph) followed by a Class 1 glyph (mark)</TD></TR>
<TR><TD VALIGN=TOP>0002</TD><TD VALIGN=TOP>2</TD><TD>GlyphCount</TD></TR>
<TR><TD VALIGN=TOP>0001</TD><TD VALIGN=TOP>1</TD><TD>SubstCount</TD></TR>
<TR><TD VALIGN=TOP>0001</TD><TD VALIGN=TOP>1</TD><TD>offset to Class[1], beginning with the second Class in the context sequence = marks, Class 1 begin SubstLookupRecord array in design order	SubstLookupRecord[0]</TD></TR>
<TR><TD VALIGN=TOP>0001</TD><TD VALIGN=TOP>1</TD><TD>SequenceIndex, apply substitution to position 2, second glyph class (mark)</TD></TR>
<TR><TD VALIGN=TOP>0002</TD><TD VALIGN=TOP>2</TD><TD>LookupListIndex</TD></TR>
</TABLE>&nbsp;&nbsp;&nbsp;&nbsp;

<A NAME=EX9><H4>Example 9: ContextualSubstFormat3 Subtable</H4></A>
<P>Example 9 uses the <A HREF="#CSF3">ContextSubstFormat3 subtable</A> with Coverage tables to describe a context sequence of three lowercase glyphs in the pattern: any ascender or descender glyph in position 0 (zero), any x-height glyph in position 1, and any descender glyph in position 2. The overlapping sets of covered glyphs for positions 0 and 2 make Format 3 better for this context than the class-based Format 2. 

<P>In positions 0 and 2, swash versions of the glyphs replace the default glyphs. The contextual-substitution lookup is SwashLookup (LookupList index = 0), and its subtable is SwashSubtable. The SwashSubtable defines three Coverage tables: AscenderDescenderCoverage, XheightCoverage, and DescenderCoverage-one for each glyph position in the context sequence, respectively. 

<P>The SwashSubtable also defines two SubstLookupRecords: one that applies to position 0, and one for position 2. (No substitutions are applied to position 1.) The record for position 0 uses a single substitution lookup called AscDescSwashLookup to replace the current ascender or descender glyph with a swash ascender or descender glyph. The record for position 2 uses a single substitution lookup called DescSwashLookup to replace the current descender glyph with a swash descender glyph.


<BR>&nbsp;<BR><FONT SIZE=5>Example 9</FONT>

<TABLE BGCOLOR="#F0F0F0" WIDTH=460 BORDER=0 CELLPADDING=3>
<THEAD>
<TR><TH BGCOLOR="#C0C0C0">Hex Data</TH><TH BGCOLOR="#C0C0C0">Source</TH><TH BGCOLOR="#C0C0C0">Comments</TH></TR>
</THEAD>
<TBODY>
<TR><TD VALIGN=TOP>&nbsp;</TD><TD VALIGN=TOP><STRONG>ContextSubstFormat3 </STRONG><BR>SwashSubtable</TD><TD VALIGN=BOTTOM>ContextSubstFormat3 subtable definition</TD></TR>
<TR><TD VALIGN=TOP>0003</TD><TD VALIGN=TOP>3</TD><TD>SubstFormat</TD></TR>
<TR><TD VALIGN=TOP>0003</TD><TD VALIGN=TOP>3</TD><TD>GlyphCount in input glyph sequence</TD></TR>
<TR><TD VALIGN=TOP>0002</TD><TD VALIGN=TOP>2</TD><TD>SubstCount</TD></TR>
<TR>
<TD VALIGN=TOP>0030</TD><TD VALIGN=TOP>AscenderDescenderCoverage</TD><TD>offset to Coverage[0] table in context sequence order</TD></TR>
<TR><TD VALIGN=TOP>004C</TD><TD VALIGN=TOP>XheightCoverage</TD><TD>offset to Coverage[1] table</TD></TR>
<TR><TD VALIGN=TOP>006E</TD><TD VALIGN=TOP>DescenderCoverage</TD><TD>offset to Coverage[2] table SubstLookupRecord[0] in glyph position order</TD></TR>
<TR><TD VALIGN=TOP>0000</TD><TD VALIGN=TOP>0</TD><TD>SequenceIndex</TD></TR>
<TR><TD VALIGN=TOP>0001</TD><TD VALIGN=TOP>1</TD><TD>LookupListIndex, single substitution to output ascender or descender swash	SubstLookupRecord[1]</TD></TR>
<TR><TD VALIGN=TOP>0002</TD><TD VALIGN=TOP>2</TD><TD>SequenceIndex</TD></TR>
<TR><TD VALIGN=TOP>0002</TD><TD VALIGN=TOP>2</TD><TD>LookupListIndex single substitution to output descender swash<HR></TD></TR>
<TR>
<TD VALIGN=TOP>&nbsp;</TD><TD VALIGN=TOP><STRONG>CoverageFormat1</STRONG><BR>AscenderDescenderCoverage</TD>
<TD VALIGN=BOTTOM>Coverage table definition<TR><TD VALIGN=TOP>0001</TD><TD VALIGN=TOP>1</TD><TD>CoverageFormat, lists</TD></TR>
<TR><TD VALIGN=TOP>000C</TD><TD VALIGN=TOP>12</TD><TD>GlyphCount</TD></TR>
<TR><TD VALIGN=TOP>0033</TD><TD VALIGN=TOP>bGlyphID</TD><TD>GlyphArray[0] in GlyphID order</TD></TR>
<TR><TD VALIGN=TOP>0035</TD><TD VALIGN=TOP>dGlyphID</TD><TD>GlyphArray[1]</TD></TR>
<TR><TD VALIGN=TOP>0037</TD><TD VALIGN=TOP>fGlyphID</TD><TD>GlyphArray[2]</TD></TR>
<TR><TD VALIGN=TOP>0038</TD><TD VALIGN=TOP>gGlyphID</TD><TD>GlyphArray[3]</TD></TR>
<TR><TD VALIGN=TOP>0039</TD><TD VALIGN=TOP>hGlyphID</TD><TD>GlyphArray[4]</TD></TR>
<TR><TD VALIGN=TOP>003B</TD><TD VALIGN=TOP>jGlyphID</TD><TD>GlyphArray[5]</TD></TR>
<TR><TD VALIGN=TOP>003C</TD><TD VALIGN=TOP>kGlyphID</TD><TD>GlyphArray[6]</TD></TR>
<TR><TD VALIGN=TOP>003D</TD><TD VALIGN=TOP>lGlyphID</TD><TD>GlyphArray[7]</TD></TR>
<TR><TD VALIGN=TOP>0041</TD><TD VALIGN=TOP>pGlyphID</TD><TD>GlyphArray[8]</TD></TR>
<TR><TD VALIGN=TOP>0042</TD><TD VALIGN=TOP>qGlyphID</TD><TD>GlyphArray[9]</TD></TR>
<TR><TD VALIGN=TOP>0045</TD><TD VALIGN=TOP>tGlyphID</TD><TD>GlyphArray[10]</TD></TR>
<TR><TD VALIGN=TOP>004A</TD><TD VALIGN=TOP>yGlyphID</TD><TD>GlyphArray[11]<HR></TD></TR>
<TR><TD VALIGN=TOP>&nbsp;</TD><TD VALIGN=TOP><STRONG>CoverageFormat1</STRONG><BR>XheightCoverage</TD><TD VALIGN=BOTTOM>Coverage table definition</TD></TR>
<TR><TD VALIGN=TOP>0001</TD><TD VALIGN=TOP>1</TD><TD>CoverageFormat, lists</TD></TR>
<TR><TD VALIGN=TOP>000F</TD><TD VALIGN=TOP>15</TD><TD>GlyphCount</TD></TR>
<TR><TD VALIGN=TOP>0032</TD><TD VALIGN=TOP>aGlyphID</TD><TD>GlyphArray[0] in GlyphID order</TD></TR>
<TR><TD VALIGN=TOP>0034</TD><TD VALIGN=TOP>cGlyphID</TD><TD>GlyphArray[1]</TD></TR>
<TR><TD VALIGN=TOP>0036</TD><TD VALIGN=TOP>eGlyphID</TD><TD>GlyphArray[2]</TD></TR>
<TR><TD VALIGN=TOP>003A</TD><TD VALIGN=TOP>iGlyphID</TD><TD>GlyphArray[3]</TD></TR>
<TR><TD VALIGN=TOP>003E</TD><TD VALIGN=TOP>mGlyphID</TD><TD>GlyphArray[4]</TD></TR>
<TR><TD VALIGN=TOP>003F</TD><TD VALIGN=TOP>nGlyphID</TD><TD>GlyphArray[5]</TD></TR>
<TR><TD VALIGN=TOP>0040</TD><TD VALIGN=TOP>oGlyphID</TD><TD>GlyphArray[6]</TD></TR>
<TR><TD VALIGN=TOP>0043</TD><TD VALIGN=TOP>rGlyphID</TD><TD>GlyphArray[7]</TD></TR>
<TR><TD VALIGN=TOP>0044</TD><TD VALIGN=TOP>sGlyphID</TD><TD>GlyphArray[8]</TD></TR>
<TR><TD VALIGN=TOP>0045</TD><TD VALIGN=TOP>tGlyphID</TD><TD>GlyphArray[9]</TD></TR>
<TR><TD VALIGN=TOP>0046</TD><TD VALIGN=TOP>uGlyphID</TD><TD>GlyphArray[10]</TD></TR>
<TR><TD VALIGN=TOP>0047</TD><TD VALIGN=TOP>vGlyphID</TD><TD>GlyphArray[11]</TD></TR>
<TR><TD VALIGN=TOP>0048</TD><TD VALIGN=TOP>wGlyphID</TD><TD>GlyphArray[12]</TD></TR>
<TR><TD VALIGN=TOP>0049</TD><TD VALIGN=TOP>xGlyphID</TD><TD>GlyphArray[13]</TD></TR>
<TR><TD VALIGN=TOP>004B</TD><TD VALIGN=TOP>zGlyphID</TD><TD>GlyphArray[14]<HR></TD></TR>
<TR><TD VALIGN=TOP>&nbsp;</TD><TD VALIGN=TOP><STRONG>CoverageFormat1</STRONG><BR>DescenderCoverage</TD><TD VALIGN=BOTTOM>Coverage table definition</TD></TR>
<TR><TD VALIGN=TOP>0001</TD><TD VALIGN=TOP>1</TD><TD>CoverageFormat, lists</TD></TR>
<TR><TD VALIGN=TOP>0005</TD><TD VALIGN=TOP>5</TD><TD>GlyphCount</TD></TR>
<TR><TD VALIGN=TOP>0038</TD><TD VALIGN=TOP>gGlyphID</TD><TD>GlyphArray[0] in GlyphID order</TD></TR>
<TR><TD VALIGN=TOP>003B</TD><TD VALIGN=TOP>jGlyphID</TD><TD>GlyphArray[1]</TD></TR>
<TR><TD VALIGN=TOP>0041</TD><TD VALIGN=TOP>pGlyphID</TD><TD>GlyphArray[2]</TD></TR>
<TR><TD VALIGN=TOP>0042</TD> <TD VALIGN=TOP>qGlyphID</TD><TD>GlyphArray[3]</TD></TR>
<TR><TD VALIGN=TOP>004A</TD><TD VALIGN=TOP>yGlyphID</TD><TD>GlyphArray[4]</TD></TR>
</TABLE>

</BODY></HTML>
