<HTML><HEAD><META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252"><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>A.2 Congestion Control: Adjusting for Time-Out</TITLE><style>@import url(msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="msdn_ie3.css"></HEAD><BODY BGCOLOR="#FFFFFF">
</OBJECT></FORM>
<H2>A.2 Congestion Control: Adjusting for Time-Out</H2>If a time-out occurs, the time-out value should be adjusted upward. Although GRE v2 packets are not retransmitted when a time-out occurs, the time-out should be adjusted up toward a maximum limit. To compensate for shifting internetwork time delays, a strategy must be employed to increase the time-out when it expires. A simple formula called Karn's Algorithm is used in TCP implementations and may be used in implementing the backoff timers for NTS or the FEP. Notice that in addition to increasing the time-out, we are also shrinking the size of the window.</P>
The timer backoff algorithm, as used in TCP, is:</P>
<img src="17460.gif"></P>
Adapted to our time-out calculations, the new ATO is calculated:</P>
<img src="17461.gif"></P>
In this modified calculation of ATO, only the two values that contribute to ATO and that are carried on to the next iteration are calculated. RTT is scaled by <SPAN CLASS="Symbol">d</SPAN>, and DEV is unmodified. DIFF is not carried forward and is not used in this scenario. <SPAN CLASS="Symbol">d</SPAN> is suggested to be 2.</P>
<A class="normal" href="/PPTP/D1/S9585.HTM">Back to table of contents</A>.</P></BODY></HTML>
