<HTML><HEAD><META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252"><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>2.2.1    Boot Record Fields</TITLE><style>@import url(msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="msdn_ie3.css"></HEAD><BODY BGCOLOR="#FFFFFF">

</OBJECT></FORM>
<H3>2.2.1    Boot Record Fields</H3>
<B>Signature</B><BR>Should be set to F1A5h.  Added as a check to insure that this is the Flash media's boot record.</P>
<B>SerialNumber</B><BR>Holds a unique identifier for the partition.</P>
<B>FFSWriteVersion</B><BR>Indicates which version of the Flash File System is required to write to the file system structures on this partition.  It is stored in binary with the high byte indicating version number and low byte indicating revision number.  For this version of the file system this field must be 0200h.  A value less than 0200h will prevent FFS from mounting the volume.</P>
<B>FFSReadVersion</B><BR>Indicates the version of the Flash File System that is required to read from the file system structures on this partition.  It has the same format as FFSWriteVersion.  For this version of the file system this field must be 0200h.    A value less than 0200h will prevent FFS from mounting the volume.</P>
<B>TotalBlockCount</B><BR>The total number of blocks, including the spare block count, in this partition.</P>
<B>SpareBlockCount</B><BR>The number of blocks in this partition that have been reserved for the block reclamation process.  A 'spare' block is a block that is used by the file system to reclaim deallocated areas in other blocks within the partition.  It is NEVER used to store file system structures or data and is only used during the file system's block reclamation process.  Unless at least one spare block within the partition exists, the file system will be unable to reclaim space in other blocks in the event that they become entirely filled.</P>
Additional spare blocks, beyond the mandatory one, up to a maximum of 8, may be set aside by the formatting utility.  Having additional spare blocks has two advantages:</P>
<P> <SPAN CLASS="Symbol">•</SPAN>    When the media is nearly full, additional spare blocks speed the file system's block reclamation process because the file system does not have to wait on a single block to be erased before it can continue doing writes.</P>
<P> <SPAN CLASS="Symbol">•</SPAN>    If an unrecoverable error occurs in either erasing or writing another block, the file system will use an additional spare block to recover from the error.  However, in doing so the file system will have reduced the spare block pool by one.  The file system will not use the last remaining spare block to recover from an error.</P>
<B>BlockLen</B><BR>The length of a single block in bytes.  The file system requires that all blocks within a file system partition are exactly the same size.</P>
<B>RootDirectoryPtr</B><BR>A pointer to the root directory entry for this partition.  If the root directory pointer must be superseded the boot record must be replaced in its entirety.  The boot record may be superseded through the use of the Block allocation structure Status field.</P>
<B>Status<BR></B>Contains information specifying options to be applied to this partition.</P>

<TABLE COLS="2" BORDER="1" CELLPADDING="7"><COLGROUP><COL WIDTH="69pt" VALIGN="TOP"><COL WIDTH="361pt" VALIGN="TOP"></COLGROUP><TBODY><TR><TD VALIGN="TOP"><P>Bit</P></TD><TD VALIGN="TOP"><P>Definition</P></TD></TR><TR><TD VALIGN="TOP"><P>0</P></TD><TD VALIGN="TOP"><P>MS-DOS Name Conventions</P>
<P>    1    Directory and file names are all 8.3 MS-DOS format.</P></TD></TR><TR><TD VALIGN="TOP"><P>15-1</P></TD><TD VALIGN="TOP"><P>Reserved<BR>    Must be 1's.</P></TD></TR></TBODY></TABLE>
<BR></P><B>BootCodeLen<BR></B>The number of bytes in the boot code array.  If the BootCodeLen is 0 then there is no boot code array in this boot record and the media is not bootable.</P>
<B>BootCode[...]<BR></B>The boot code for this card.  This variable length array contains the boot code for the operating system.</P></BODY></HTML>
