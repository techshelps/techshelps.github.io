<HTML><HEAD><META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252"><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>'LTSH' - Linear Threshold</TITLE><style>@import url(msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="msdn_ie3.css"></HEAD><BODY BGCOLOR="#FFFFFF">
</OBJECT></FORM>
<H3>'LTSH' - Linear Threshold</H3>There are noticeable improvements to fonts on the screen when instructions are carefully applied to the sidebearings. The gain in readability is offset by the necessity for the OS to grid fit the glyphs in order to find the actual advance width for the glyphs (since instructions may be moving the sidebearing points). TrueType already has one mechanism to side step the speed issues: the 'hdmx' table, where precomputed advance widths may be saved for selected ppem sizes. The 'LTSH' table (Linear ThreSHold) is a second, complementary method.</P>
The LTSH table defines the point at which it is reasonable to assume linearly scaled advance widths on a glyph-by-glyph basis. This table should <I>not</I> be included unless bit 4 of the "flags" field in the 'head' table is set. The criteria for linear scaling is:</P>
a. (ppem size is <SPAN CLASS="Symbol">³</SPAN> 50) AND (difference between the rounded linear width and the rounded instructed width <SPAN CLASS="Symbol">£</SPAN> 2% of the rounded linear width)</P>
or b. Linear width == Instructed width</P>
The LTSH table records the ppem for each glyph at which the scaling becomes linear again, despite instructions effecting the advance width. It is a requirement that, at and above the recorded threshold size, the glyph remain linear in its scaling (i.e., not legal to set threshold at 55 ppem if glyph becomes non-linear again at 90 ppem). The format for the table is:</P>

<TABLE COLS="3" BORDER="1" CELLPADDING="7"><COLGROUP><COL WIDTH="80pt" VALIGN="TOP"><COL WIDTH="108pt" VALIGN="TOP"><COL WIDTH="254pt" VALIGN="TOP"></COLGROUP><TBODY><TR><TD VALIGN="TOP"><P>Type</P></TD><TD VALIGN="TOP"><P>Name</P></TD><TD VALIGN="TOP"><P>Description</P></TD></TR><TR><TD VALIGN="TOP"><P>USHORT</P></TD><TD VALIGN="TOP"><P>version</P></TD><TD VALIGN="TOP"><P>Version number (starts at 0).</P></TD></TR><TR><TD VALIGN="TOP"><P>USHORT</P></TD><TD VALIGN="TOP"><P>numGlyphs</P></TD><TD VALIGN="TOP"><P>Number of glyphs (from "numGlyphs" in 'maxp' table).</P></TD></TR><TR><TD VALIGN="TOP"><P>BYTE</P></TD><TD VALIGN="TOP"><P>yPels[numGlyphs]</P></TD><TD VALIGN="TOP"><P>The vertical pel height at which the glyph can be assumed to scale linearly. On a per glyph basis.</P></TD></TR></TBODY></TABLE>
<BR></P>Note that glyphs which do not have instructions on their sidebearings should have yPels = 1; i.e., always scales linearly.</P></BODY></HTML>
