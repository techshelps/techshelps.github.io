<HTML><HEAD><META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252"><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>gasp - Grid-fitting And Scan-conversion Procedure</TITLE><style>@import url(msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="msdn_ie3.css"></HEAD><BODY BGCOLOR="#FFFFFF">
</OBJECT></FORM>
<H3>gasp - Grid-fitting And Scan-conversion Procedure</H3>This table contains information which describes the preferred rasterization techniques for the typeface when it is rendered on grayscale-capable devices. This table also has some use for monochrome devices, which may use the table to turn off hinting at very large or small sizes, to improve performance.</P>
At very small sizes, the best appearance on grayscale devices can usually be achieved by rendering the glyphs in grayscale without using hints. At intermediate sizes, hinting and monochrome rendering will usually produce the best appearance. At large sizes, the combination of hinting and grayscale rendering will typically produce the best appearance.</P>
If the 'gasp' table is not present in a typeface, TrueType will apply default rules to decide how to render the glyphs on grayscale devices.</P>
The 'gasp' table consists of a header followed by groupings of 'gasp' records:</P>
<H4><A NAME="sec0"></A>gasp Table</H4>
<TABLE COLS="3" BORDER="1" CELLPADDING="7"><COLGROUP><COL WIDTH="89pt" VALIGN="TOP"><COL WIDTH="126pt" VALIGN="TOP"><COL WIDTH="198pt" VALIGN="TOP"></COLGROUP><TBODY><TR><TD VALIGN="TOP"><P>Type</P></TD><TD VALIGN="TOP"><P>Name</P></TD><TD VALIGN="TOP"><P>Description</P></TD></TR><TR><TD VALIGN="TOP"><P>USHORT</P></TD><TD VALIGN="TOP"><P>version</P></TD><TD VALIGN="TOP"><P>Version number (set to 0)</P></TD></TR><TR><TD VALIGN="TOP"><P>USHORT</P></TD><TD VALIGN="TOP"><P>numRanges</P></TD><TD VALIGN="TOP"><P>Number of records to follow</P></TD></TR><TR><TD VALIGN="TOP"><P>GASPRANGE</P></TD><TD VALIGN="TOP"><P>gaspRange[numRanges]</P></TD><TD VALIGN="TOP"><P>Sorted by ppem</P></TD></TR></TBODY></TABLE>
<BR></P>Each GASPRANGE record looks like this:</P>

<TABLE COLS="3" BORDER="1" CELLPADDING="7"><COLGROUP><COL WIDTH="89pt" VALIGN="TOP"><COL WIDTH="126pt" VALIGN="TOP"><COL WIDTH="198pt" VALIGN="TOP"></COLGROUP><TBODY><TR><TD VALIGN="TOP"><P>Type</P></TD><TD VALIGN="TOP"><P>Name</P></TD><TD VALIGN="TOP"><P>Description</P></TD></TR><TR><TD VALIGN="TOP"><P>USHORT</P></TD><TD VALIGN="TOP"><P>rangeMaxPPEM</P></TD><TD VALIGN="TOP"><P>Upper limit of range, in PPEM</P></TD></TR><TR><TD VALIGN="TOP"><P>USHORT</P></TD><TD VALIGN="TOP"><P>rangeGaspBehavior</P></TD><TD VALIGN="TOP"><P>Flags describing desired rasterizer behavior.</P></TD></TR></TBODY></TABLE>
<BR></P>There are two flags for the rangeGaspBehavior flags:</P>

<TABLE COLS="2" BORDER="1" CELLPADDING="7"><COLGROUP><COL WIDTH="125pt" VALIGN="TOP"><COL WIDTH="288pt" VALIGN="TOP"></COLGROUP><TBODY><TR><TD VALIGN="TOP"><P>Flag</P></TD><TD VALIGN="TOP"><P>Meaning</P></TD></TR><TR><TD VALIGN="TOP"><P>GASP_GRIDFIT</P></TD><TD VALIGN="TOP"><P>Use gridfitting</P></TD></TR><TR><TD VALIGN="TOP"><P>GASP_DOGRAY</P></TD><TD VALIGN="TOP"><P>Use grayscale rendering</P></TD></TR></TBODY></TABLE>
<BR></P>The set of bit flags may be extended in the future.The four currently defined values of rangeGaspBehavior would have the following uses:</P>

<TABLE COLS="3" BORDER="1" CELLPADDING="7"><COLGROUP><COL WIDTH="103pt" VALIGN="TOP"><COL WIDTH="112pt" VALIGN="TOP"><COL WIDTH="198pt" VALIGN="TOP"></COLGROUP><TBODY><TR><TD VALIGN="TOP"><P>Flag</P></TD><TD VALIGN="TOP"><P>Value</P></TD><TD VALIGN="TOP"><P>Meaning</P></TD></TR><TR><TD VALIGN="TOP"><P>GASP_DOGRAY</P></TD><TD VALIGN="TOP"><P>0x0002</P></TD><TD VALIGN="TOP"><P>small sizes, typically ppem&lt;9</P></TD></TR><TR><TD VALIGN="TOP"><P>GASP_GRIDFIT</P></TD><TD VALIGN="TOP"><P>0x0001</P></TD><TD VALIGN="TOP"><P>medium sizes, typically 9&lt;=ppem&lt;=16</P></TD></TR><TR><TD VALIGN="TOP"><P>GASP_DOGRAY|<BR>GASP_GRIDFIT</P></TD><TD VALIGN="TOP"><P>0x0003</P></TD><TD VALIGN="TOP"><P>large sizes, typically ppem&gt;16</P></TD></TR><TR><TD VALIGN="TOP"><P>(neither)</P></TD><TD VALIGN="TOP"><P>0x0000</P></TD><TD VALIGN="TOP"><P>optional for very large sizes, typically ppem&gt;2048</P></TD></TR></TBODY></TABLE>
<BR></P>The records in the gaspRange[] array must be sorted in order of increasing rangeMaxPPEM value. The last record should use 0xFFFF as a sentinel value for rangeMaxPPEM and should describe the behavior desired at all sizes larger than the previous record's upper limit. If the only entry in 'gasp' is the 0xFFFF sentinel value, the behavior described will be used for <I>all</I> sizes.</P>
<H4><A NAME="sec1"></A>Sample 'gasp' table</H4>
<TABLE COLS="3" BORDER="1" CELLPADDING="7"><COLGROUP><COL WIDTH="103pt" VALIGN="TOP"><COL WIDTH="112pt" VALIGN="TOP"><COL WIDTH="198pt" VALIGN="TOP"></COLGROUP><TBODY><TR><TD VALIGN="TOP"><P>Field</P></TD><TD VALIGN="TOP"><P>Value</P></TD><TD VALIGN="TOP"><P>Meaning</P></TD></TR><TR><TD VALIGN="TOP"><P>version</P></TD><TD VALIGN="TOP"><P>0x0000</P></TD><TD VALIGN="TOP"><P></P></TD></TR><TR><TD VALIGN="TOP"><P>numRanges</P></TD><TD VALIGN="TOP"><P>0x0003</P></TD><TD VALIGN="TOP"><P></P></TD></TR><TR><TD VALIGN="TOP"><P>Range[0], Flag</P></TD><TD VALIGN="TOP"><P>0x0008  0x0002</P></TD><TD VALIGN="TOP"><P>ppem&lt;=8, grayscale only</P></TD></TR><TR><TD VALIGN="TOP"><P>Range[1], Flag</P></TD><TD VALIGN="TOP"><P>0x0010  0x0001</P></TD><TD VALIGN="TOP"><P>9&lt;=ppem&lt;=16, gridfit only</P></TD></TR><TR><TD VALIGN="TOP"><P>Range[2], Flag</P></TD><TD VALIGN="TOP"><P>0xFFFF  0x0003</P></TD><TD VALIGN="TOP"><P>16&lt;ppem, gridfit and grayscale</P></TD></TR></TBODY></TABLE>
<BR></P></BODY></HTML>
