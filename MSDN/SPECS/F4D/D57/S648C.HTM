<HTML><HEAD><META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252"><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>'loca' - Index to Location</TITLE><style>@import url(msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="msdn_ie3.css"></HEAD><BODY BGCOLOR="#FFFFFF">
</OBJECT></FORM>
<H3>'loca' - Index to Location</H3>The indexToLoc table stores the offsets to the locations of the glyphs in the font, relative to the beginning of the glyphData table. In order to compute the length of the last glyph element, there is an extra entry after the last valid index.</P>
By definition, index zero points to the "missing character," which is the character that appears if a character is not found in the font. The missing character is commonly represented by a blank box (such as <img src="ZA3T.gif">) or a space. If the font does not contain an outline for the missing character, then the first and second offsets should have the same value. This also applies to any other character without an outline, such as the space character.</P>
Most routines will look at the 'maxp' table to determine the number of glyphs in the font, but the value in the 'loca' table should agree.</P>
There are two versions of this table, the short and the long. The version is specified in the indexToLocFormat entry in the 'head' table.</P>
<H4><A NAME="sec0"></A>Short versionShort version</H4>
<TABLE COLS="3" BORDER="1" CELLPADDING="7"><COLGROUP><COL WIDTH="72pt" VALIGN="TOP"><COL WIDTH="144pt" VALIGN="TOP"><COL WIDTH="200pt" VALIGN="TOP"></COLGROUP><TBODY><TR><TD VALIGN="TOP"><P>Type</P></TD><TD VALIGN="TOP"><P>Name</P></TD><TD VALIGN="TOP"><P>Description</P></TD></TR><TR><TD VALIGN="TOP"><P>USHORT</P></TD><TD VALIGN="TOP"><P>offsets[<I>n</I>]</P></TD><TD VALIGN="TOP"><P>The actual local offset divided by 2 is stored. The value of <I>n</I>  is numGlyphs + 1. The value for numGlyphs is found in the 'maxp' table.</P></TD></TR></TBODY></TABLE>
<BR></P><H4><A NAME="sec1"></A>Long version</H4>
<TABLE COLS="3" BORDER="1" CELLPADDING="7"><COLGROUP><COL WIDTH="72pt" VALIGN="TOP"><COL WIDTH="144pt" VALIGN="TOP"><COL WIDTH="200pt" VALIGN="TOP"></COLGROUP><TBODY><TR><TD VALIGN="TOP"><P>Type</P></TD><TD VALIGN="TOP"><P>Name</P></TD><TD VALIGN="TOP"><P>Description</P></TD></TR><TR><TD VALIGN="TOP"><P>ULONG</P></TD><TD VALIGN="TOP"><P>offsets[<I>n</I>]</P></TD><TD VALIGN="TOP"><P>The actual local offset is stored. The value of <I>n</I>  is numGlyphs + 1. The value for numGlyphs is found in the 'maxp' table.</P></TD></TR></TBODY></TABLE>
<BR></P>Note that the local offsets should be long-aligned, i.e., multiples of 4. Offsets which are not long-aligned may seriously degrade performance of some processors.</P></BODY></HTML>
