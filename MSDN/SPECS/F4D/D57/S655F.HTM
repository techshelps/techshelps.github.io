<HTML><HEAD><META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252"><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Managing the stack</TITLE><style>@import url(msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="msdn_ie3.css"></HEAD><BODY BGCOLOR="#FFFFFF">
</OBJECT></FORM>
<H2>Managing the stack</H2>The following set of instructions make it possible to manage elements on the stack. They make it possible to duplicate the element at the top of the stack, remove the top element from the stack, clear the stack, swap the top two stack elements, determine the number of elements currently on the stack, copy a specified element to the top of the stack, move a specified element to the top of the stack, and rearrange the order of the top three elements on the stack.</P>
<H3><A NAME="sec0"></A>Duplicate top stack element</H3>DUP[ ] </P>

<TABLE COLS="2" BORDER="0" CELLPADDING="7"><COLGROUP><COL WIDTH="72pt" VALIGN="TOP"><COL WIDTH="370pt" VALIGN="TOP"></COLGROUP><TBODY><TR><TD VALIGN="TOP"><P>Code Range</P></TD><TD VALIGN="TOP"><P>0x20</P></TD></TR><TR><TD VALIGN="TOP"><P>Pops</P></TD><TD VALIGN="TOP"><P>e: stack element (ULONG)</P></TD></TR><TR><TD VALIGN="TOP"><P>Pushes</P></TD><TD VALIGN="TOP"><P>e, e (two ULONGs)</P></TD></TR></TBODY></TABLE>
<BR></P>Duplicates the element at the top of the stack.</P>
<P><img src="13893.gif"></P>
<H3><A NAME="sec1"></A>POP top stack element</H3>POP[ ]</P>

<TABLE COLS="2" BORDER="0" CELLPADDING="7"><COLGROUP><COL WIDTH="72pt" VALIGN="TOP"><COL WIDTH="370pt" VALIGN="TOP"></COLGROUP><TBODY><TR><TD VALIGN="TOP"><P>Code Range</P></TD><TD VALIGN="TOP"><P>0x21</P></TD></TR><TR><TD VALIGN="TOP"><P>Pops</P></TD><TD VALIGN="TOP"><P>e: stack element (ULONG)</P></TD></TR><TR><TD VALIGN="TOP"><P>Pushes</P></TD><TD VALIGN="TOP"><P>–</P></TD></TR></TBODY></TABLE>
<BR></P>Pops the top element of the stack.</P>
<P><img src="13894.gif"></P>
<P></P>
<H3><A NAME="sec2"></A>Clear the entire stack</H3>CLEAR[ ]</P>

<TABLE COLS="2" BORDER="0" CELLPADDING="7"><COLGROUP><COL WIDTH="72pt" VALIGN="TOP"><COL WIDTH="370pt" VALIGN="TOP"></COLGROUP><TBODY><TR><TD VALIGN="TOP"><P>Code Range</P></TD><TD VALIGN="TOP"><P>0x22</P></TD></TR><TR><TD VALIGN="TOP"><P>Pops</P></TD><TD VALIGN="TOP"><P>all the items on the stack (ULONGs)</P></TD></TR><TR><TD VALIGN="TOP"><P>Pushes</P></TD><TD VALIGN="TOP"><P> –</P></TD></TR></TBODY></TABLE>
<BR></P>Clears all elements from the stack.</P>
<P><img src="13895.gif"></P>
<H3><A NAME="sec3"></A>SWAP the top two elements on the stack</H3>SWAP[ ] </P>

<TABLE COLS="2" BORDER="0" CELLPADDING="7"><COLGROUP><COL WIDTH="72pt" VALIGN="TOP"><COL WIDTH="370pt" VALIGN="TOP"></COLGROUP><TBODY><TR><TD VALIGN="TOP"><P>Code Range</P></TD><TD VALIGN="TOP"><P>0x23</P></TD></TR><TR><TD VALIGN="TOP"><P>Pops</P></TD><TD VALIGN="TOP"><P>e2: stack element (ULONG)</P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>e1: stack element (ULONG)</P></TD></TR><TR><TD VALIGN="TOP"><P>Pushes</P></TD><TD VALIGN="TOP"><P>e1, e2 (pair of ULONGs)</P></TD></TR></TBODY></TABLE>
<BR></P>Swaps the top two elements of the stack making the old top element the second from the top and the old second element the top element.</P>
<P><img src="13896.gif"></P>
<H3><A NAME="sec4"></A>Returns the DEPTH of the stack</H3>DEPTH[ ]</P>

<TABLE COLS="2" BORDER="0" CELLPADDING="7"><COLGROUP><COL WIDTH="72pt" VALIGN="TOP"><COL WIDTH="370pt" VALIGN="TOP"></COLGROUP><TBODY><TR><TD VALIGN="TOP"><P>Code Range</P></TD><TD VALIGN="TOP"><P> 0x24</P></TD></TR><TR><TD VALIGN="TOP"><P>Pops</P></TD><TD VALIGN="TOP"><P>–</P></TD></TR><TR><TD VALIGN="TOP"><P>Pushes</P></TD><TD VALIGN="TOP"><P>n: number of elements (ULONG)</P></TD></TR></TBODY></TABLE>
<BR></P>Pushes n, the number of elements currently in the stack onto the stack. </P>
<P><img src="13897.gif"></P>
<I>Example:</I></P>
<P><img src="13898.gif"></P>
<H3><A NAME="sec5"></A>Copy the INDEXed element to the top of the stack</H3>CINDEX[ ] </P>

<TABLE COLS="2" BORDER="0" CELLPADDING="7"><COLGROUP><COL WIDTH="72pt" VALIGN="TOP"><COL WIDTH="370pt" VALIGN="TOP"></COLGROUP><TBODY><TR><TD VALIGN="TOP"><P>Code Range</P></TD><TD VALIGN="TOP"><P>0x25</P></TD></TR><TR><TD VALIGN="TOP"><P>Pops</P></TD><TD VALIGN="TOP"><P>k : stack element number</P></TD></TR><TR><TD VALIGN="TOP"><P>Pushes</P></TD><TD VALIGN="TOP"><P>ek: indexed element (ULONG)</P></TD></TR></TBODY></TABLE>
<BR></P>Puts a copy of the kth stack element on the top of the stack.</P>
<P><img src="13899.gif"></P>
<I>Example:</I></P>
CINDEX[ ]</P>
<P><img src="13900.gif"> </P>
<H3><A NAME="sec6"></A>Move the INDEXed element to the top of the stack</H3>MINDEX[ ] </P>

<TABLE COLS="2" BORDER="0" CELLPADDING="7"><COLGROUP><COL WIDTH="72pt" VALIGN="TOP"><COL WIDTH="370pt" VALIGN="TOP"></COLGROUP><TBODY><TR><TD VALIGN="TOP"><P>Code Range</P></TD><TD VALIGN="TOP"><P>0x26</P></TD></TR><TR><TD VALIGN="TOP"><P>Pops</P></TD><TD VALIGN="TOP"><P>k: stack element number</P></TD></TR><TR><TD VALIGN="TOP"><P>Pushes</P></TD><TD VALIGN="TOP"><P>e<SUB>k</SUB>: indexed element</P></TD></TR></TBODY></TABLE>
<BR></P>Moves the indexed element to the top of the stack.</P>
<P><img src="13901.gif"></P>
MINDEX[ ] </P>
<P><img src="13902.gif"></P>
<H3><A NAME="sec7"></A>ROLL the top three stack elements</H3>ROLL[ ]</P>

<TABLE COLS="2" BORDER="0" CELLPADDING="7"><COLGROUP><COL WIDTH="72pt" VALIGN="TOP"><COL WIDTH="370pt" VALIGN="TOP"></COLGROUP><TBODY><TR><TD VALIGN="TOP"><P>Code Range </P></TD><TD VALIGN="TOP"><P>0x8a</P></TD></TR><TR><TD VALIGN="TOP"><P>Pops</P></TD><TD VALIGN="TOP"><P>a, b, c (top three stack elements)</P></TD></TR><TR><TD VALIGN="TOP"><P>Pushes</P></TD><TD VALIGN="TOP"><P>b, a, c (elements reordered)</P></TD></TR></TBODY></TABLE>
<BR></P>Performs a circular shift of the top three objects on the stack with the effect being to move the third element to the top of the stack and to move the first two elements down one position. ROLL is equivalent to MINDEX[ ] 3.</P>
<P><img src="13903.gif"></P></BODY></HTML>
