<HTML><HEAD><META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252"><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>GSUB Subtable Examples</TITLE><style>@import url(msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="msdn_ie3.css"></HEAD><BODY BGCOLOR="#FFFFFF">
</OBJECT></FORM>
<H2>GSUB Subtable Examples</H2>The rest of this chapter describes and illustrates examples of all the GSUB subtables, including each of the three formats available for contextual substitutions. All the examples reflect unique parameters described below, but the samples provide a useful reference for building subtables specific to other situations.</P>
All the examples have three columns showing hex data, source, and comments.</P>
<H3><A NAME="sec0"></A>Example 1: GSUB Header Table </H3>Example 1 shows a typical GSUB Header table definition.</P>
Example 1</P>

<TABLE COLS="3" BORDER="0" CELLPADDING="7"><COLGROUP><COL WIDTH="59pt" VALIGN="TOP"><COL WIDTH="99pt" VALIGN="TOP"><COL WIDTH="284pt" VALIGN="TOP"></COLGROUP><TBODY><TR><TD VALIGN="TOP"><P>Hex Data</P></TD><TD VALIGN="TOP"><P>Source</P></TD><TD VALIGN="TOP"><P>Comments</P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P><B>GSUBHeader</B> </P></TD><TD VALIGN="TOP"><P></P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>TheGSUBHeader</P></TD><TD VALIGN="TOP"><P>;GSUBHeader table definition</P></TD></TR><TR><TD VALIGN="TOP"><P>00010000</P></TD><TD VALIGN="TOP"><P>0x00010000</P></TD><TD VALIGN="TOP"><P>;version</P></TD></TR><TR><TD VALIGN="TOP"><P>000A</P></TD><TD VALIGN="TOP"><P>TheScriptList</P></TD><TD VALIGN="TOP"><P>;offset to ScriptList table</P></TD></TR><TR><TD VALIGN="TOP"><P>001E</P></TD><TD VALIGN="TOP"><P>TheFeatureList</P></TD><TD VALIGN="TOP"><P>;offset to FeatureList table</P></TD></TR><TR><TD VALIGN="TOP"><P>002C</P></TD><TD VALIGN="TOP"><P>TheLookupList</P></TD><TD VALIGN="TOP"><P>;offset to LookupList table</P></TD></TR></TBODY></TABLE>
<BR></P><H3><A NAME="sec1"></A>Example 2: SingleSubstFormat1 Subtable</H3>Example 2 illustrates the SingleSubstFormat1 subtable, which uses ranges to replace single input glyphs with their corresponding output glyphs. The indices of the output glyphs are calculated by adding a constant delta value to the indices of the input glyphs.</P>
In this example, the Coverage table has a format identifier of 1 to indicate the range format, which is used because the input glyph indices are in consecutive order in the font. The Coverage table specifies one range that contains a StartGlyphID for the "0" (zero) glyph and an EndGlyphID for the "9" glyph.</P>
Example 2</P>

<TABLE COLS="3" BORDER="0" CELLPADDING="7"><COLGROUP><COL WIDTH="59pt" VALIGN="TOP"><COL WIDTH="148pt" VALIGN="TOP"><COL WIDTH="234pt" VALIGN="TOP"></COLGROUP><TBODY><TR><TD VALIGN="TOP"><P>Hex Data</P></TD><TD VALIGN="TOP"><P>Source</P></TD><TD VALIGN="TOP"><P>Comments</P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P><B>SingleSubstFormat1</B></P></TD><TD VALIGN="TOP"><P></P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>LiningNumeralSubtable</P></TD><TD VALIGN="TOP"><P>;SingleSubst subtable definition</P></TD></TR><TR><TD VALIGN="TOP"><P>0001  </P></TD><TD VALIGN="TOP"><P>1</P></TD><TD VALIGN="TOP"><P>;SubstFormat, ranges</P></TD></TR><TR><TD VALIGN="TOP"><P>0006  </P></TD><TD VALIGN="TOP"><P>LiningNumeralCoverage</P></TD><TD VALIGN="TOP"><P>;offset to Coverage table</P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>;  for input glyphs</P></TD></TR><TR><TD VALIGN="TOP"><P>00C0  </P></TD><TD VALIGN="TOP"><P>192</P></TD><TD VALIGN="TOP"><P>;DeltaGlyphID = 192</P></TD></TR><TR><TD VALIGN="TOP"><P><I></I></P></TD><TD VALIGN="TOP"><P><I></I></P></TD><TD VALIGN="TOP"><P>;  add to each input<I> </I>glyph index</P></TD></TR><TR><TD VALIGN="TOP"><P><I></I></P></TD><TD VALIGN="TOP"><P><I></I></P></TD><TD VALIGN="TOP"><P>;    to produce output glyph</P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>;    index</P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P></P></TD></TR><TR><TD VALIGN="TOP"><P><B></B></P></TD><TD VALIGN="TOP"><P><B>CoverageFormat2</B></P></TD><TD VALIGN="TOP"><P><B></B></P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>LiningNumeralCoverage</P></TD><TD VALIGN="TOP"><P>;Coverage table definition</P></TD></TR><TR><TD VALIGN="TOP"><P>0002  </P></TD><TD VALIGN="TOP"><P>2</P></TD><TD VALIGN="TOP"><P>;CoverageFormat, ranges</P></TD></TR><TR><TD VALIGN="TOP"><P><I>   </I></P></TD><TD VALIGN="TOP"><P>1</P></TD><TD VALIGN="TOP"><P>;RangeCount</P></TD></TR><TR><TD VALIGN="TOP"><P><I>   </I></P></TD><TD VALIGN="TOP"><P><I></I></P></TD><TD VALIGN="TOP"><P>;RangeRecord[0]</P></TD></TR><TR><TD VALIGN="TOP"><P>004E  </P></TD><TD VALIGN="TOP"><P>78</P></TD><TD VALIGN="TOP"><P>;Start GlyphID</P></TD></TR><TR><TD VALIGN="TOP"><P><I></I></P></TD><TD VALIGN="TOP"><P><I></I></P></TD><TD VALIGN="TOP"><P>;  for numeral zero glyph</P></TD></TR><TR><TD VALIGN="TOP"><P>0058  </P></TD><TD VALIGN="TOP"><P>87</P></TD><TD VALIGN="TOP"><P>;End GlyphID</P></TD></TR><TR><TD VALIGN="TOP"><P><I></I></P></TD><TD VALIGN="TOP"><P><I></I></P></TD><TD VALIGN="TOP"><P>;  for numeral nine glyph</P></TD></TR><TR><TD VALIGN="TOP"><P>0000  </P></TD><TD VALIGN="TOP"><P>0</P></TD><TD VALIGN="TOP"><P>;StartCoverageIndex</P></TD></TR><TR><TD VALIGN="TOP"><P><I></I></P></TD><TD VALIGN="TOP"><P><I></I></P></TD><TD VALIGN="TOP"><P>;  first CoverageIndex = 0</P></TD></TR></TBODY></TABLE>
<BR></P><H3><A NAME="sec2"></A>Example 3: SingleSubstFormat2 Subtable</H3>Example 3 uses the SingleSubstFormat2 subtable for lists to substitute punctuation glyphs in Japanese text that is written vertically. Horizontally oriented parentheses and square brackets (the input glyphs) are replaced with vertically oriented parentheses and square brackets (the output glyphs). </P>
The Coverage table, Format 1, identifies each input glyph index. The number of input glyph indices listed in the Coverage table matches the number of output glyph indices listed in the subtable. For correct substitution, the order of the glyph indices in the Coverage table (input glyphs) must match the order in the Substitute array (output glyphs).</P>
Example 3</P>

<TABLE COLS="3" BORDER="0" CELLPADDING="7"><COLGROUP><COL WIDTH="68pt" VALIGN="TOP"><COL WIDTH="187pt" VALIGN="TOP"><COL WIDTH="187pt" VALIGN="TOP"></COLGROUP><TBODY><TR><TD VALIGN="TOP"><P>Hex Data</P></TD><TD VALIGN="TOP"><P>Source</P></TD><TD VALIGN="TOP"><P>Comments</P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P><B>SingleSubstFormat2</B></P></TD><TD VALIGN="TOP"><P></P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>VerticalPunctuationSubtable</P></TD><TD VALIGN="TOP"><P>;SingleSubst subtable definition</P></TD></TR><TR><TD VALIGN="TOP"><P>0002  </P></TD><TD VALIGN="TOP"><P>2</P></TD><TD VALIGN="TOP"><P>;SubstFormat lists</P></TD></TR><TR><TD VALIGN="TOP"><P>000E  </P></TD><TD VALIGN="TOP"><P>VerticalPunctuationCoverage</P></TD><TD VALIGN="TOP"><P>;offset to Coverage table</P></TD></TR><TR><TD VALIGN="TOP"><P>0004  </P></TD><TD VALIGN="TOP"><P>4</P></TD><TD VALIGN="TOP"><P>;GlyphCount</P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>;  equals GlyphCount in </P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>;    Coverage table</P></TD></TR><TR><TD VALIGN="TOP"><P>0131  </P></TD><TD VALIGN="TOP"><P>VerticalOpenBracketGlyph</P></TD><TD VALIGN="TOP"><P>;Substitute[0]</P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>;  ordered by Coverage Index</P></TD></TR><TR><TD VALIGN="TOP"><P>0135  </P></TD><TD VALIGN="TOP"><P>VerticalClosedBracketGlyph</P></TD><TD VALIGN="TOP"><P>;Substitute[1]</P></TD></TR><TR><TD VALIGN="TOP"><P>013E  </P></TD><TD VALIGN="TOP"><P>VerticalOpenParenthesisGlyph</P></TD><TD VALIGN="TOP"><P>;Substitute[2]</P></TD></TR><TR><TD VALIGN="TOP"><P>0143  </P></TD><TD VALIGN="TOP"><P>VerticalClosedParenthesisGlyph</P></TD><TD VALIGN="TOP"><P>;Substitute[3]</P></TD></TR><TR><TD VALIGN="TOP"><P>   </P></TD><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P></P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P><B>CoverageFormat1</B></P></TD><TD VALIGN="TOP"><P></P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>VerticalPunctuationCoverage</P></TD><TD VALIGN="TOP"><P>;Coverage table definition</P></TD></TR><TR><TD VALIGN="TOP"><P>0001  </P></TD><TD VALIGN="TOP"><P>1</P></TD><TD VALIGN="TOP"><P>;CoverageFormat </P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>;  lists</P></TD></TR><TR><TD VALIGN="TOP"><P>0004  </P></TD><TD VALIGN="TOP"><P>4</P></TD><TD VALIGN="TOP"><P>;GlyphCount</P></TD></TR><TR><TD VALIGN="TOP"><P>003C  </P></TD><TD VALIGN="TOP"><P>HorizontalOpenBracketGlyph</P></TD><TD VALIGN="TOP"><P>;GlyphArray[0]</P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>;  ordered by GlyphID</P></TD></TR><TR><TD VALIGN="TOP"><P>0040  </P></TD><TD VALIGN="TOP"><P>HorizontalClosedBracketGlyph</P></TD><TD VALIGN="TOP"><P>;GlyphArray[1]</P></TD></TR><TR><TD VALIGN="TOP"><P>004B  </P></TD><TD VALIGN="TOP"><P>HorizontalOpenParenthesisGlyph</P></TD><TD VALIGN="TOP"><P>;GlyphArray[2]</P></TD></TR><TR><TD VALIGN="TOP"><P>004F  </P></TD><TD VALIGN="TOP"><P>HorizontalClosedParenthesisGlyph</P></TD><TD VALIGN="TOP"><P>;GlyphArray[3]</P></TD></TR></TBODY></TABLE>
<BR></P><H3><A NAME="sec3"></A>Example 4: MultipleSubstFormat1 Subtable</H3>Example 4 uses a MultipleSubstFormat1 subtable to replace a single "ffi" ligature with three individual glyphs that form the string &lt;ffi&gt;. The subtable defines a format identifier of 1, an offset to a Coverage table that specifies the glyph index of the "ffi" ligature (the input glyph), an offset to a Sequence table that specifies the sequence of glyph indices for the &lt;ffi&gt; string in its substitute array (the output glyph sequence), and a count of Sequence table offsets.</P>
Example 4</P>

<TABLE COLS="3" BORDER="0" CELLPADDING="7"><COLGROUP><COL WIDTH="63pt" VALIGN="TOP"><COL WIDTH="126pt" VALIGN="TOP"><COL WIDTH="180pt" VALIGN="TOP"></COLGROUP><TBODY><TR><TD VALIGN="TOP"><P>Hex Data</P></TD><TD VALIGN="TOP"><P>Source</P></TD><TD VALIGN="TOP"><P>Comments</P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P><B>MultipleSubstFormat1</B></P></TD><TD VALIGN="TOP"><P></P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>FfiDecompSubtable</P></TD><TD VALIGN="TOP"><P>;MultipleSubst subtable </P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>;  definition</P></TD></TR><TR><TD VALIGN="TOP"><P>0001  </P></TD><TD VALIGN="TOP"><P>1</P></TD><TD VALIGN="TOP"><P>;SubstFormat</P></TD></TR><TR><TD VALIGN="TOP"><P>0008  </P></TD><TD VALIGN="TOP"><P>FfiDecompCoverage</P></TD><TD VALIGN="TOP"><P>;offset to Coverage table</P></TD></TR><TR><TD VALIGN="TOP"><P>0001  </P></TD><TD VALIGN="TOP"><P>1</P></TD><TD VALIGN="TOP"><P>;SequenceCount</P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>;  equals GlyphCount in </P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>;    Coverage table</P></TD></TR><TR><TD VALIGN="TOP"><P>000E  </P></TD><TD VALIGN="TOP"><P>FfiDecompSequence</P></TD><TD VALIGN="TOP"><P>;offset to Sequence[0] table</P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P></P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P><B>CoverageFormat1</B></P></TD><TD VALIGN="TOP"><P></P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>FfiDecompCoverage</P></TD><TD VALIGN="TOP"><P>;Coverage table definition</P></TD></TR><TR><TD VALIGN="TOP"><P>0001  </P></TD><TD VALIGN="TOP"><P>1</P></TD><TD VALIGN="TOP"><P>;CoverageFormat </P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>;  lists</P></TD></TR><TR><TD VALIGN="TOP"><P>0001  </P></TD><TD VALIGN="TOP"><P>1</P></TD><TD VALIGN="TOP"><P>;GlyphCount</P></TD></TR><TR><TD VALIGN="TOP"><P>00F1  </P></TD><TD VALIGN="TOP"><P>ffiGlyphID</P></TD><TD VALIGN="TOP"><P>;ligature glyph</P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P></P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P><B>Sequence</B></P></TD><TD VALIGN="TOP"><P></P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>FfiDecompSequence</P></TD><TD VALIGN="TOP"><P>;Sequence table definition</P></TD></TR><TR><TD VALIGN="TOP"><P>0003  </P></TD><TD VALIGN="TOP"><P>3</P></TD><TD VALIGN="TOP"><P>;GlyphCount</P></TD></TR><TR><TD VALIGN="TOP"><P>001A  </P></TD><TD VALIGN="TOP"><P>fGlyphID</P></TD><TD VALIGN="TOP"><P>;first glyph in sequence order</P></TD></TR><TR><TD VALIGN="TOP"><P>001A  </P></TD><TD VALIGN="TOP"><P>fGlyphID</P></TD><TD VALIGN="TOP"><P>;second glyph</P></TD></TR><TR><TD VALIGN="TOP"><P>001D  </P></TD><TD VALIGN="TOP"><P>iGlyphID</P></TD><TD VALIGN="TOP"><P>;third glyph</P></TD></TR></TBODY></TABLE>
<BR></P><H3><A NAME="sec4"></A>Example 5: AlternateSubstFormat 1 Subtable</H3>Example 5 uses the AlternateSubstFormat1 subtable to replace the default ampersand glyph (input glyph) with one of two alternative ampersand glyphs (output glyph). </P>
In this case, the Coverage table specifies the index of a single glyph, the default ampersand, because it is the only glyph covered by this lookup. The AlternateSet table for this covered glyph identifies the alternative glyphs: AltAmpersand1GlyphID and AltAmpersand2GlyphID. </P>
In Example 5, the index position of the AlternateSet table offset in the AlternateSet array is zero (0), which correlates with the index position (also zero) of the default ampersand glyph in the Coverage table.</P>
Example 5</P>

<TABLE COLS="3" BORDER="0" CELLPADDING="7"><COLGROUP><COL WIDTH="63pt" VALIGN="TOP"><COL WIDTH="144pt" VALIGN="TOP"><COL WIDTH="234pt" VALIGN="TOP"></COLGROUP><TBODY><TR><TD VALIGN="TOP"><P>Hex Data</P></TD><TD VALIGN="TOP"><P>Source</P></TD><TD VALIGN="TOP"><P>Comments</P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P><B>AlternateSubstFormat1</B></P></TD><TD VALIGN="TOP"><P></P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>AltAmpersandSubtable</P></TD><TD VALIGN="TOP"><P>;AlternateSubstFormat1 subtable  ;definition</P></TD></TR><TR><TD VALIGN="TOP"><P>0001  </P></TD><TD VALIGN="TOP"><P>1</P></TD><TD VALIGN="TOP"><P>;SubstFormat</P></TD></TR><TR><TD VALIGN="TOP"><P>0008  </P></TD><TD VALIGN="TOP"><P>AltAmpersandCoverage</P></TD><TD VALIGN="TOP"><P>;offset to Coverage table</P></TD></TR><TR><TD VALIGN="TOP"><P>0001  </P></TD><TD VALIGN="TOP"><P>1</P></TD><TD VALIGN="TOP"><P>;AlternateSetCnt</P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>;  equals GlyphCount in </P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>;  Coverage table</P></TD></TR><TR><TD VALIGN="TOP"><P>000E  </P></TD><TD VALIGN="TOP"><P>AltAmpersandSet</P></TD><TD VALIGN="TOP"><P>;offset to AlternateSet[0] </P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>;  table</P></TD></TR><TR><TD VALIGN="TOP"><P> </P></TD><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P></P></TD></TR><TR><TD VALIGN="TOP"><P><B></B></P></TD><TD VALIGN="TOP"><P><B>CoverageFormat1</B></P></TD><TD VALIGN="TOP"><P><B></B></P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>AltAmpersandCoverage</P></TD><TD VALIGN="TOP"><P>;Coverage table definition</P></TD></TR><TR><TD VALIGN="TOP"><P>0001  </P></TD><TD VALIGN="TOP"><P>1</P></TD><TD VALIGN="TOP"><P>;CoverageFormat</P></TD></TR><TR><TD VALIGN="TOP"><P>0001  </P></TD><TD VALIGN="TOP"><P>1</P></TD><TD VALIGN="TOP"><P>;GlyphCount</P></TD></TR><TR><TD VALIGN="TOP"><P>003A  </P></TD><TD VALIGN="TOP"><P>DefaultAmpersandGlyphID</P></TD><TD VALIGN="TOP"><P>;GlyphArray[0]</P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P></P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P><B>AlternateSet</B></P></TD><TD VALIGN="TOP"><P></P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>AltAmpersandSet</P></TD><TD VALIGN="TOP"><P>;AlternateSet table definition</P></TD></TR><TR><TD VALIGN="TOP"><P>0002  </P></TD><TD VALIGN="TOP"><P>2</P></TD><TD VALIGN="TOP"><P>;GlyphCount</P></TD></TR><TR><TD VALIGN="TOP"><P>00C9  </P></TD><TD VALIGN="TOP"><P>AltAmpersand1GlyphID</P></TD><TD VALIGN="TOP"><P>;offset to Alternate[0]</P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>;  in arbitrary order</P></TD></TR><TR><TD VALIGN="TOP"><P>00CA  </P></TD><TD VALIGN="TOP"><P>AltAmpersand2GlyphID</P></TD><TD VALIGN="TOP"><P>;offset to Alternate[1]</P></TD></TR><TR><TD VALIGN="TOP"><P>   </P></TD><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P></P></TD></TR></TBODY></TABLE>
<BR></P><H3><A NAME="sec5"></A>Example 6: LigatureSubstFormat1 Subtable</H3>Example 6 shows a LigatureSubstFormat1 subtable that defines data to replace a string of glyphs with a single ligature glyph. Because a LigatureSubstFormat1 subtable can specify glyph substitutions for more than one ligature, this subtable defines three ligatures: "etc," "ffi," and "fi."</P>
The sample subtable contains a format identifier (4) and an offset to a Coverage table. The Coverage table, which lists an index for each first glyph in the ligatures, lists indices for the "e" and "f" glyphs. The Coverage table range format is used here because the "e" and "f" glyph indices are numbered consecutively. </P>
In the LigatureSubst subtable, LigSetCount specifies two LigatureSet tables, one for each covered glyph, and the LigatureSet array stores offsets to them. In this array, the "e" LigatureSet precedes the "f" LigatureSet, matching the order of the corresponding first-glyph components in the Coverage table. </P>
Each LigatureSet table identifies all ligatures that begin with a covered glyph. The sample LigatureSet table defined for the "e" glyph contains only one ligature, "etc." A LigatureSet table defined for the "f" glyph contains two ligatures, "ffi" and "fi."</P>
The sample FLigaturesSet table has offsets to two Ligature tables, one for "ffi" and one for "fi." The Ligature array lists the "ffi" Ligature table first to indicate that the "ffi" ligature is preferred to the "fi" ligature.</P>
Example 6</P>

<TABLE COLS="3" BORDER="0" CELLPADDING="7"><COLGROUP><COL WIDTH="63pt" VALIGN="TOP"><COL WIDTH="126pt" VALIGN="TOP"><COL WIDTH="252pt" VALIGN="TOP"></COLGROUP><TBODY><TR><TD VALIGN="TOP"><P>Hex Data</P></TD><TD VALIGN="TOP"><P>Source</P></TD><TD VALIGN="TOP"><P>Comments</P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P><B>LigatureSubstFormat1</B></P></TD><TD VALIGN="TOP"><P></P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>LigaturesSubtable</P></TD><TD VALIGN="TOP"><P>;LigatureSubstFormat1 subtable </P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>;  definition</P></TD></TR><TR><TD VALIGN="TOP"><P>0001  </P></TD><TD VALIGN="TOP"><P>1</P></TD><TD VALIGN="TOP"><P>;SubstFormat</P></TD></TR><TR><TD VALIGN="TOP"><P>000A  </P></TD><TD VALIGN="TOP"><P>LigaturesCoverage</P></TD><TD VALIGN="TOP"><P>;offset to Coverage table</P></TD></TR><TR><TD VALIGN="TOP"><P>0002  </P></TD><TD VALIGN="TOP"><P>2</P></TD><TD VALIGN="TOP"><P>;LigSetCount</P></TD></TR><TR><TD VALIGN="TOP"><P>0014  </P></TD><TD VALIGN="TOP"><P>ELigaturesSet</P></TD><TD VALIGN="TOP"><P>;offset to LigatureSet[0] table</P></TD></TR><TR><TD VALIGN="TOP"><P>   </P></TD><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>;  in Coverage Index order</P></TD></TR><TR><TD VALIGN="TOP"><P>0020  </P></TD><TD VALIGN="TOP"><P>FLigaturesSet</P></TD><TD VALIGN="TOP"><P>;offset to LigatureSet[1] table</P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P><B>CoverageFormat2</B></P></TD><TD VALIGN="TOP"><P></P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>LigaturesCoverage</P></TD><TD VALIGN="TOP"><P>;Coverage table definition</P></TD></TR><TR><TD VALIGN="TOP"><P>0002  </P></TD><TD VALIGN="TOP"><P>2</P></TD><TD VALIGN="TOP"><P>;CoverageFormat, ranges</P></TD></TR><TR><TD VALIGN="TOP"><P>0001  </P></TD><TD VALIGN="TOP"><P>1</P></TD><TD VALIGN="TOP"><P>;RangeCount</P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>;RangeRecord[0]</P></TD></TR><TR><TD VALIGN="TOP"><P>0019  </P></TD><TD VALIGN="TOP"><P>eGlyphID</P></TD><TD VALIGN="TOP"><P>;Start, first GlyphID</P></TD></TR><TR><TD VALIGN="TOP"><P>001A  </P></TD><TD VALIGN="TOP"><P>fGlyphID</P></TD><TD VALIGN="TOP"><P>;End, last GlyphID in range</P></TD></TR><TR><TD VALIGN="TOP"><P>0000  </P></TD><TD VALIGN="TOP"><P>0</P></TD><TD VALIGN="TOP"><P>;StartCoverageIndex</P></TD></TR><TR><TD VALIGN="TOP"><P>   </P></TD><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>;  coverage index of start</P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>;  glyphID</P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P><B>LigatureSet</B></P></TD><TD VALIGN="TOP"><P></P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>ELigaturesSet</P></TD><TD VALIGN="TOP"><P>;LigatureSet table definition</P></TD></TR><TR><TD VALIGN="TOP"><P>   </P></TD><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>;  all ligatures that start </P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>;  with e</P></TD></TR><TR><TD VALIGN="TOP"><P>0001  </P></TD><TD VALIGN="TOP"><P>1</P></TD><TD VALIGN="TOP"><P>;LigatureCount</P></TD></TR><TR><TD VALIGN="TOP"><P>0004  </P></TD><TD VALIGN="TOP"><P>etcLigature</P></TD><TD VALIGN="TOP"><P>;offset to Ligature[0] table</P></TD></TR><TR><TD VALIGN="TOP"><P> </P></TD><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P></P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P><B>Ligature</B></P></TD><TD VALIGN="TOP"><P></P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>etcLigature</P></TD><TD VALIGN="TOP"><P>;Ligature table definition</P></TD></TR><TR><TD VALIGN="TOP"><P>015B  </P></TD><TD VALIGN="TOP"><P>etcGlyphID</P></TD><TD VALIGN="TOP"><P>;LigGlyph</P></TD></TR><TR><TD VALIGN="TOP"><P>   </P></TD><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>;output GlyphID</P></TD></TR><TR><TD VALIGN="TOP"><P>0003  </P></TD><TD VALIGN="TOP"><P>3</P></TD><TD VALIGN="TOP"><P>;CompCount</P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>;  number of components</P></TD></TR><TR><TD VALIGN="TOP"><P>0028  </P></TD><TD VALIGN="TOP"><P>tGlyphID</P></TD><TD VALIGN="TOP"><P>;Component[1]</P></TD></TR><TR><TD VALIGN="TOP"><P>   </P></TD><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>;  second component in ligature</P></TD></TR><TR><TD VALIGN="TOP"><P>0017  </P></TD><TD VALIGN="TOP"><P>cGlyphID</P></TD><TD VALIGN="TOP"><P>;Component[2</P></TD></TR><TR><TD VALIGN="TOP"><P>   </P></TD><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>;  third component in ligature</P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P><B>LigatureSet</B></P></TD><TD VALIGN="TOP"><P></P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>FLigaturesSet</P></TD><TD VALIGN="TOP"><P>;LigatureSet table definition</P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>;  all ligatures start with f</P></TD></TR><TR><TD VALIGN="TOP"><P>0002  </P></TD><TD VALIGN="TOP"><P>2</P></TD><TD VALIGN="TOP"><P>;LigatureCount</P></TD></TR><TR><TD VALIGN="TOP"><P>0006  </P></TD><TD VALIGN="TOP"><P>ffiLigature</P></TD><TD VALIGN="TOP"><P>;offset to Ligature[0] table</P></TD></TR><TR><TD VALIGN="TOP"><P>   </P></TD><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>;  listed first because ffi </P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>;    ligature is preferred to </P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>;    fi ligature</P></TD></TR><TR><TD VALIGN="TOP"><P>000E  </P></TD><TD VALIGN="TOP"><P>fiLigature</P></TD><TD VALIGN="TOP"><P>;offset to Ligature[1] table</P></TD></TR><TR><TD VALIGN="TOP"><P>  </P></TD><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P></P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P><B>Ligature</B></P></TD><TD VALIGN="TOP"><P></P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>ffiLigature</P></TD><TD VALIGN="TOP"><P>;Ligature table definition</P></TD></TR><TR><TD VALIGN="TOP"><P>00F1  </P></TD><TD VALIGN="TOP"><P>ffiGlyphID</P></TD><TD VALIGN="TOP"><P>;LigGlyph, output GlyphID</P></TD></TR><TR><TD VALIGN="TOP"><P>0003  </P></TD><TD VALIGN="TOP"><P>3</P></TD><TD VALIGN="TOP"><P>;CompCount</P></TD></TR><TR><TD VALIGN="TOP"><P>001A  </P></TD><TD VALIGN="TOP"><P>fGlyphID</P></TD><TD VALIGN="TOP"><P>;Component[1]</P></TD></TR><TR><TD VALIGN="TOP"><P>   </P></TD><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>;  second component in ligature</P></TD></TR><TR><TD VALIGN="TOP"><P>001D  </P></TD><TD VALIGN="TOP"><P>iGlyphID</P></TD><TD VALIGN="TOP"><P>;Component[2]</P></TD></TR><TR><TD VALIGN="TOP"><P>   </P></TD><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>;  third component in ligature</P></TD></TR><TR><TD VALIGN="TOP"><P>   </P></TD><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P></P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P><B>Ligature</B></P></TD><TD VALIGN="TOP"><P></P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>fiLigature</P></TD><TD VALIGN="TOP"><P>;Ligature table definition</P></TD></TR><TR><TD VALIGN="TOP"><P>00F0  </P></TD><TD VALIGN="TOP"><P>fiGlyphID</P></TD><TD VALIGN="TOP"><P>;LigGlyph, output GlyphID</P></TD></TR><TR><TD VALIGN="TOP"><P>0002  </P></TD><TD VALIGN="TOP"><P>2</P></TD><TD VALIGN="TOP"><P>;CompCount</P></TD></TR><TR><TD VALIGN="TOP"><P>001D  </P></TD><TD VALIGN="TOP"><P>iGlyphID</P></TD><TD VALIGN="TOP"><P>;Component[1]</P></TD></TR><TR><TD VALIGN="TOP"><P>   </P></TD><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>;  second component in ligature</P></TD></TR></TBODY></TABLE>
<BR></P><H3><A NAME="sec6"></A>Example 7: ContextSubstFormat1 Subtable and SubstLookupRecord</H3>Example 7 uses a ContextSubstFormat1 subtable for glyph sequences to replace a string of three glyphs with another string. For the French language system, the subtable defines a contextual substitution that replaces the input sequence, space-dash-space, with the output sequence, thin space-dash-thin space. </P>
The contextual substitution, called Dash Lookup in this example, contains one ContextSubstFormat1 subtable called the DashSubtable. The subtable specifies two contexts: a SpaceGlyph followed by a DashGlyph, and a DashGlyph followed by a SpaceGlyph. In each sequence, a single substitution replaces the SpaceGlyph with a ThinSpaceGlyph. </P>
The Coverage table, labeled DashCoverage, lists two GlyphIDs for the first glyphs in the SpaceGlyph and DashGlyph sequences. One SubRuleSet table is defined for each covered glyph.</P>
SpaceAndDashSubRuleSet lists all the contexts that begin with a SpaceGlyph. It contains an offset to one SubRule table (SpaceAndDashSubRule), which specifies two glyphs in the context sequence, the second of which is a DashGlyph. The SubRule table contains an offset to a SubstLookupRecord that lists the position in the sequence where the glyph substitution should occur (position 0) and the index of the SpaceToThinSpaceLookup applied there to replace the SpaceGlyph with a ThinSpaceGlyph.</P>
DashAndSpaceSubRuleSet lists all the contexts that begin with a DashGlyph. An offset to a SubRule table (DashAndSpaceSubRule) specifies two glyphs in the context sequence, and the second one is a SpaceGlyph. The SubRule table contains an offset to a SubstLookupRecord, which lists the position in the sequence where the glyph substitution should occur, and an index to the same lookup used in the SpaceAndDashSubRule. The lookup replaces the SpaceGlyph with a ThinSpaceGlyph. </P>
Example 7</P>

<TABLE COLS="3" BORDER="0" CELLPADDING="7"><COLGROUP><COL WIDTH="63pt" VALIGN="TOP"><COL WIDTH="160pt" VALIGN="TOP"><COL WIDTH="182pt" VALIGN="TOP"></COLGROUP><TBODY><TR><TD VALIGN="TOP"><P>Hex Data</P></TD><TD VALIGN="TOP"><P>Source</P></TD><TD VALIGN="TOP"><P>Comments</P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P><B>ContextSubstFormat1</B></P></TD><TD VALIGN="TOP"><P></P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>DashSubtable</P></TD><TD VALIGN="TOP"><P>;ContextSubstFormat1 subtable</P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>;  definition</P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>;  for Lookup[0], DashLookup</P></TD></TR><TR><TD VALIGN="TOP"><P>0001</P></TD><TD VALIGN="TOP"><P>1</P></TD><TD VALIGN="TOP"><P>;SubstFormat</P></TD></TR><TR><TD VALIGN="TOP"><P>000A  </P></TD><TD VALIGN="TOP"><P>DashCoverage</P></TD><TD VALIGN="TOP"><P>;offset to Coverage table</P></TD></TR><TR><TD VALIGN="TOP"><P>0002  </P></TD><TD VALIGN="TOP"><P>2</P></TD><TD VALIGN="TOP"><P>;SubRuleSetCount</P></TD></TR><TR><TD VALIGN="TOP"><P>0012  </P></TD><TD VALIGN="TOP"><P>SpaceAndDashSubRuleSet</P></TD><TD VALIGN="TOP"><P>;offset to SubRuleSet[0]</P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>;  ordered by Coverage Index </P></TD></TR><TR><TD VALIGN="TOP"><P>0020  </P></TD><TD VALIGN="TOP"><P>DashAndSpaceSubRuleSet</P></TD><TD VALIGN="TOP"><P>;offset to SubRuleSet[1]</P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P><B>CoverageFormat1</B></P></TD><TD VALIGN="TOP"><P></P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>DashCoverage</P></TD><TD VALIGN="TOP"><P>;Coverage table definition</P></TD></TR><TR><TD VALIGN="TOP"><P>0001  </P></TD><TD VALIGN="TOP"><P>1</P></TD><TD VALIGN="TOP"><P>;CoverageFormat</P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>;  lists</P></TD></TR><TR><TD VALIGN="TOP"><P>0002  </P></TD><TD VALIGN="TOP"><P>2</P></TD><TD VALIGN="TOP"><P>;GlyphCount</P></TD></TR><TR><TD VALIGN="TOP"><P>0028  </P></TD><TD VALIGN="TOP"><P>SpaceGlyph</P></TD><TD VALIGN="TOP"><P>;GlyphArray[0] </P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>;  in numeric order</P></TD></TR><TR><TD VALIGN="TOP"><P>005D  </P></TD><TD VALIGN="TOP"><P>DashGlyph</P></TD><TD VALIGN="TOP"><P>;GlyphArray[1]</P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>;dash GlyphID</P></TD></TR><TR><TD VALIGN="TOP"><P>   </P></TD><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P></P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P><B>SubRuleSet</B></P></TD><TD VALIGN="TOP"><P></P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>SpaceAndDashSubRuleSet</P></TD><TD VALIGN="TOP"><P>;SubRuleSet[0] table definition</P></TD></TR><TR><TD VALIGN="TOP"><P>0001  </P></TD><TD VALIGN="TOP"><P>1</P></TD><TD VALIGN="TOP"><P>;SubRuleCount</P></TD></TR><TR><TD VALIGN="TOP"><P>0004  </P></TD><TD VALIGN="TOP"><P>SpaceAndDashSubRule</P></TD><TD VALIGN="TOP"><P>;offset to SubRule[0]</P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>;  ordered by preference</P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P><B>SubRule</B></P></TD><TD VALIGN="TOP"><P></P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>SpaceAndDashSubRule</P></TD><TD VALIGN="TOP"><P>;SubRule[0] table definition</P></TD></TR><TR><TD VALIGN="TOP"><P>0002  </P></TD><TD VALIGN="TOP"><P>2</P></TD><TD VALIGN="TOP"><P>;GlyphCount</P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>;number in input sequence</P></TD></TR><TR><TD VALIGN="TOP"><P>0001  </P></TD><TD VALIGN="TOP"><P>1</P></TD><TD VALIGN="TOP"><P>;SubstCount</P></TD></TR><TR><TD VALIGN="TOP"><P>005D  </P></TD><TD VALIGN="TOP"><P>DashGlyph</P></TD><TD VALIGN="TOP"><P>;Input[1]</P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>;   starting with second glyph</P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>;  SpaceGlyph in Coverage table</P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>;   is first glyph</P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>;SubstLookupRecord[0]</P></TD></TR><TR><TD VALIGN="TOP"><P>0000  </P></TD><TD VALIGN="TOP"><P>0</P></TD><TD VALIGN="TOP"><P>;SequenceIndex</P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>;  substitution at first glyph </P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>;    position (0)</P></TD></TR><TR><TD VALIGN="TOP"><P>0001  </P></TD><TD VALIGN="TOP"><P>1</P></TD><TD VALIGN="TOP"><P>;LookupListIndex</P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>;  index for</P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>;    SpaceToThinSpaceLookup in</P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>;    LookupList</P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P><B>SubRuleSet</B></P></TD><TD VALIGN="TOP"><P></P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>DashAndSpaceSubRuleSet</P></TD><TD VALIGN="TOP"><P>;SubRuleSet[0] table definition</P></TD></TR><TR><TD VALIGN="TOP"><P>0001  </P></TD><TD VALIGN="TOP"><P>1</P></TD><TD VALIGN="TOP"><P>;SubRuleCount</P></TD></TR><TR><TD VALIGN="TOP"><P>0004  </P></TD><TD VALIGN="TOP"><P>DashAndSpaceSubRule</P></TD><TD VALIGN="TOP"><P>;offset to SubRule[0]</P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>;  ordered by preference</P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P><B>SubRule</B></P></TD><TD VALIGN="TOP"><P></P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>DashAndSpaceSubRule</P></TD><TD VALIGN="TOP"><P>;SubRule[0] table definition</P></TD></TR><TR><TD VALIGN="TOP"><P>0002  </P></TD><TD VALIGN="TOP"><P>2</P></TD><TD VALIGN="TOP"><P>;GlyphCount </P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>;  number in the input glyph </P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>;    sequence</P></TD></TR><TR><TD VALIGN="TOP"><P>0001  </P></TD><TD VALIGN="TOP"><P>1</P></TD><TD VALIGN="TOP"><P>;SubstCount</P></TD></TR><TR><TD VALIGN="TOP"><P>0028  </P></TD><TD VALIGN="TOP"><P>SpaceGlyph</P></TD><TD VALIGN="TOP"><P>;Input[1]</P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>;  starting with second glyph</P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>;SubstLookupRecord definition</P></TD></TR><TR><TD VALIGN="TOP"><P>0001  </P></TD><TD VALIGN="TOP"><P>1</P></TD><TD VALIGN="TOP"><P>;SequenceIndex</P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>;substitution at second glyph</P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>;  position(1)</P></TD></TR><TR><TD VALIGN="TOP"><P>0001  </P></TD><TD VALIGN="TOP"><P>1</P></TD><TD VALIGN="TOP"><P>;LookupListIndex</P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>;  for SpaceToThinSpaceLookup</P></TD></TR></TBODY></TABLE>
<BR></P><H3><A NAME="sec7"></A>Example 8: ContextSubstFormat2 Subtable</H3>Example 8 uses a ContextSubstFormat2 subtable with glyph classes to replace default mark glyphs with their alternative forms. Glyph alternatives are selected depending upon the height of the base glyph that they combine with—that is, the mark glyph used above a high base glyph differs from the mark glyph above a very high base glyph. </P>
In the example, SetMarksHighSubtable contains a Class table that defines four glyph classes: medium-height glyphs (Class 0), all default mark glyphs (Class 1), high glyphs (Class 2), and very high glyphs (Class 3). The subtable also contains a Coverage table that lists each base glyph that functions as a first component in a context, ordered by glyph index. </P>
Two SubClassSets are defined, one for substituting high marks and one for very high marks. No SubClassSets are specified for Class 0 and Class 1 glyphs because no contexts begin with glyphs from these classes. The SubClassSet array lists SubClassSets in numerical order, so SubClassSet 2 precedes SubClassSet 3. </P>
Within each SubClassSet, a SubClassRule is defined. In SetMarksHighSubClassSet2, the SubClassRule table specifies two glyphs in the context, the first glyph in Class 2 (a high glyph) and the second in Class 1 (a mark glyph). The SubstLookupRecord specifies applying SubstituteHighMarkLookup at the second position in the sequence—that is, a high mark glyph will replace the default mark glyph.</P>
In SetMarksVeryHighSubClassSet3, the SubClassRule specifies two glyphs in the context, the first in Class 3 (a very high glyph) and the second in Class 1 (a mark glyph). The SubstLookupRecord specifies applying SubstituteVeryHighMarkLookup at the second position in the sequence—that is, a very high mark glyph will replace the default mark glyph.</P>
Example 8</P>

<TABLE COLS="3" BORDER="0" CELLPADDING="7"><COLGROUP><COL WIDTH="54pt" VALIGN="TOP"><COL WIDTH="180pt" VALIGN="TOP"><COL WIDTH="207pt" VALIGN="TOP"></COLGROUP><TBODY><TR><TD VALIGN="TOP"><P>Hex Data</P></TD><TD VALIGN="TOP"><P>Source</P></TD><TD VALIGN="TOP"><P>Comments</P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P><B>ContextSubstFormat2</B></P></TD><TD VALIGN="TOP"><P></P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>SetMarksHighSubtable</P></TD><TD VALIGN="TOP"><P>;ContextSubstFormat2<B> </B>subtable </P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>;  definition</P></TD></TR><TR><TD VALIGN="TOP"><P>0002  </P></TD><TD VALIGN="TOP"><P>2</P></TD><TD VALIGN="TOP"><P>;SubstFormat</P></TD></TR><TR><TD VALIGN="TOP"><P>0010  </P></TD><TD VALIGN="TOP"><P>SetMarksHighCoverage</P></TD><TD VALIGN="TOP"><P>;offset to Coverage table</P></TD></TR><TR><TD VALIGN="TOP"><P>001C  </P></TD><TD VALIGN="TOP"><P>SetMarksHighClassDef</P></TD><TD VALIGN="TOP"><P>;offset to Class Def table</P></TD></TR><TR><TD VALIGN="TOP"><P>0004  </P></TD><TD VALIGN="TOP"><P> 4</P></TD><TD VALIGN="TOP"><P>;SubClassSetCnt</P></TD></TR><TR><TD VALIGN="TOP"><P>0000  </P></TD><TD VALIGN="TOP"><P>NULL</P></TD><TD VALIGN="TOP"><P>;offset to SubClassSet[0] table</P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>;  no contexts that begin with </P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>;    Class 0 glyphs are defined</P></TD></TR><TR><TD VALIGN="TOP"><P>0000  </P></TD><TD VALIGN="TOP"><P>NULL</P></TD><TD VALIGN="TOP"><P>;offset to SubClassSet[1] table</P></TD></TR><TR><TD VALIGN="TOP"><P>   </P></TD><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>;  no contexts that begin with</P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>;    Class 1 glyphs are defined</P></TD></TR><TR><TD VALIGN="TOP"><P>0032  </P></TD><TD VALIGN="TOP"><P>SetMarksHighSubClassSet2</P></TD><TD VALIGN="TOP"><P>;offset to SubClassSet[2] table</P></TD></TR><TR><TD VALIGN="TOP"><P>   </P></TD><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>;  for contexts that begin with </P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>;    Class 2 glyphs (high base</P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>;    glyphs)</P></TD></TR><TR><TD VALIGN="TOP"><P>0040  </P></TD><TD VALIGN="TOP"><P>SetMarksVeryHighSubClassSet3</P></TD><TD VALIGN="TOP"><P>;offset to SubClassSet[3] table</P></TD></TR><TR><TD VALIGN="TOP"><P>   </P></TD><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>;  for contexts that begin with </P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>;    Class 3 glyphs (very high</P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>;    base glyphs)</P></TD></TR><TR><TD VALIGN="TOP"><P> </P></TD><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P></P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P><B>CoverageFormat1</B></P></TD><TD VALIGN="TOP"><P></P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>SetMarksHighCoverage</P></TD><TD VALIGN="TOP"><P>;Coverage table definition</P></TD></TR><TR><TD VALIGN="TOP"><P>0001  </P></TD><TD VALIGN="TOP"><P>1</P></TD><TD VALIGN="TOP"><P>;CoverageFormat, lists</P></TD></TR><TR><TD VALIGN="TOP"><P>0004  </P></TD><TD VALIGN="TOP"><P>4</P></TD><TD VALIGN="TOP"><P>;GlyphCount</P></TD></TR><TR><TD VALIGN="TOP"><P>0030  </P></TD><TD VALIGN="TOP"><P>tahGlyphID</P></TD><TD VALIGN="TOP"><P>;GlyphArray[0], high base glyph</P></TD></TR><TR><TD VALIGN="TOP"><P>0031  </P></TD><TD VALIGN="TOP"><P>dhahGlyphID</P></TD><TD VALIGN="TOP"><P>;GlyphArray[1], high base glyph</P></TD></TR><TR><TD VALIGN="TOP"><P>0040  </P></TD><TD VALIGN="TOP"><P>cafGlyphID</P></TD><TD VALIGN="TOP"><P>;GlyphArray[2], very high </P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>;  base glyph</P></TD></TR><TR><TD VALIGN="TOP"><P>0041  </P></TD><TD VALIGN="TOP"><P>gafGlyphID</P></TD><TD VALIGN="TOP"><P>;GlyphArray[3], very high </P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>;  base glyph</P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P></P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P><B>ClassDefFormat2</B></P></TD><TD VALIGN="TOP"><P></P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>SetMarksHighClassDef</P></TD><TD VALIGN="TOP"><P>;Class table definition</P></TD></TR><TR><TD VALIGN="TOP"><P>0002  </P></TD><TD VALIGN="TOP"><P>2</P></TD><TD VALIGN="TOP"><P>;Class Format, ranges</P></TD></TR><TR><TD VALIGN="TOP"><P>0003  </P></TD><TD VALIGN="TOP"><P>3</P></TD><TD VALIGN="TOP"><P>;ClassRangeCount</P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>;ClassRange[0]</P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>;  ordered by StartGlyphID</P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>;for Class 2, high base glyphs</P></TD></TR><TR><TD VALIGN="TOP"><P>0030  </P></TD><TD VALIGN="TOP"><P>tahGlyphID</P></TD><TD VALIGN="TOP"><P>;Start</P></TD></TR><TR><TD VALIGN="TOP"><P>   </P></TD><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>;  first Glyph ID in range</P></TD></TR><TR><TD VALIGN="TOP"><P>0031  </P></TD><TD VALIGN="TOP"><P>dhahGlyphID</P></TD><TD VALIGN="TOP"><P>;End</P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>;  last Glyph ID in range</P></TD></TR><TR><TD VALIGN="TOP"><P>0002  </P></TD><TD VALIGN="TOP"><P>2</P></TD><TD VALIGN="TOP"><P>;Class</P></TD></TR><TR><TD VALIGN="TOP"><P>   </P></TD><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>;ClassRange[1]</P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>;  for Class 3, very high </P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>;    base glyphs</P></TD></TR><TR><TD VALIGN="TOP"><P>0040  </P></TD><TD VALIGN="TOP"><P>cafGlyphID</P></TD><TD VALIGN="TOP"><P>;Start</P></TD></TR><TR><TD VALIGN="TOP"><P>   </P></TD><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>;  first Glyph ID in the range</P></TD></TR><TR><TD VALIGN="TOP"><P>0041  </P></TD><TD VALIGN="TOP"><P>gafGlyphID</P></TD><TD VALIGN="TOP"><P>;End</P></TD></TR><TR><TD VALIGN="TOP"><P>   </P></TD><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>;  last Glyph ID in the range</P></TD></TR><TR><TD VALIGN="TOP"><P>0003  </P></TD><TD VALIGN="TOP"><P>3</P></TD><TD VALIGN="TOP"><P>;Class</P></TD></TR><TR><TD VALIGN="TOP"><P>   </P></TD><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>;ClassRange[2]</P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>;  for Class 1, mark gyphs</P></TD></TR><TR><TD VALIGN="TOP"><P>00D2  </P></TD><TD VALIGN="TOP"><P>fathatanDefaultGlyphID</P></TD><TD VALIGN="TOP"><P>;Start</P></TD></TR><TR><TD VALIGN="TOP"><P>   </P></TD><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>;  first Glyph ID in range</P></TD></TR><TR><TD VALIGN="TOP"><P>    </P></TD><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>;    default fathatan mark</P></TD></TR><TR><TD VALIGN="TOP"><P>00D3    </P></TD><TD VALIGN="TOP"><P>dammatanDefaultGlyphID</P></TD><TD VALIGN="TOP"><P>;End</P></TD></TR><TR><TD VALIGN="TOP"><P>      </P></TD><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>;  last Glyph ID in the range</P></TD></TR><TR><TD VALIGN="TOP"><P>      </P></TD><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>;    default dammatan mark</P></TD></TR><TR><TD VALIGN="TOP"><P>0001    </P></TD><TD VALIGN="TOP"><P>1</P></TD><TD VALIGN="TOP"><P>;Class</P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P></P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P><B>SubClassSet</B></P></TD><TD VALIGN="TOP"><P></P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>SetMarksHighSubClassSet2</P></TD><TD VALIGN="TOP"><P>;SubClassSet[2] table definition</P></TD></TR><TR><TD VALIGN="TOP"><P>      </P></TD><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>;  all contexts that begin with </P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>;Class 2 glyphs</P></TD></TR><TR><TD VALIGN="TOP"><P>0001    </P></TD><TD VALIGN="TOP"><P>1</P></TD><TD VALIGN="TOP"><P>;SubClassRuleCnt</P></TD></TR><TR><TD VALIGN="TOP"><P>0004    </P></TD><TD VALIGN="TOP"><P>SetMarksHighSubClassRule2</P></TD><TD VALIGN="TOP"><P>;offset to SubClassRule[0] table</P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>;  ordered by preference</P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P></P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P><B>SubClassRule</B></P></TD><TD VALIGN="TOP"><P></P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>SetMarksHighSubClassRule2</P></TD><TD VALIGN="TOP"><P>;SubClassRule[0] table </P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>;  definition</P></TD></TR><TR><TD VALIGN="TOP"><P>      </P></TD><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>;Class 2 glyph (high base)</P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>;  glyph followed by a Class 1 </P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>;  glyph (mark)  </P></TD></TR><TR><TD VALIGN="TOP"><P>0002    </P></TD><TD VALIGN="TOP"><P>2</P></TD><TD VALIGN="TOP"><P>;GlyphCount</P></TD></TR><TR><TD VALIGN="TOP"><P>0001    </P></TD><TD VALIGN="TOP"><P>1</P></TD><TD VALIGN="TOP"><P>;SubstCount</P></TD></TR><TR><TD VALIGN="TOP"><P>0001    </P></TD><TD VALIGN="TOP"><P>1</P></TD><TD VALIGN="TOP"><P>;offset to Class[1] </P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>;  beginning with the second </P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>;    Class in the context </P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>;    sequence (mark = Class 1)</P></TD></TR><TR><TD VALIGN="TOP"><P>      </P></TD><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>;begin SubstLookupRecord array</P></TD></TR><TR><TD VALIGN="TOP"><P>      </P></TD><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>;  in design order</P></TD></TR><TR><TD VALIGN="TOP"><P>      </P></TD><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>;SubstLookupRecord[0]</P></TD></TR><TR><TD VALIGN="TOP"><P>0001    </P></TD><TD VALIGN="TOP"><P>1</P></TD><TD VALIGN="TOP"><P>;SequenceIndex</P></TD></TR><TR><TD VALIGN="TOP"><P>      </P></TD><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>;  apply substitution to </P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>;    position 2, a mark</P></TD></TR><TR><TD VALIGN="TOP"><P>0001    </P></TD><TD VALIGN="TOP"><P>1</P></TD><TD VALIGN="TOP"><P>;LookupListIndex</P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P></P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P><B>SubClassSet</B></P></TD><TD VALIGN="TOP"><P></P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>SetMarksVeryHighSubClassSet3</P></TD><TD VALIGN="TOP"><P>;SubClassSet[3] table definition</P></TD></TR><TR><TD VALIGN="TOP"><P>      </P></TD><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>;  all contexts that begin with </P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>;    Class 3 glyphs</P></TD></TR><TR><TD VALIGN="TOP"><P>0001    </P></TD><TD VALIGN="TOP"><P>1</P></TD><TD VALIGN="TOP"><P>;SubClassRuleCnt</P></TD></TR><TR><TD VALIGN="TOP"><P>0004    </P></TD><TD VALIGN="TOP"><P>SetMarksVeryHighSubClassRule3</P></TD><TD VALIGN="TOP"><P>;offset to SubClassRule[0] table</P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>;  ordered by preference</P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P></P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P><B>SubClassRule</B></P></TD><TD VALIGN="TOP"><P></P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>SetMarksVeryHighSubClassRule3</P></TD><TD VALIGN="TOP"><P>;SubClassRule[0] table </P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>;  definition</P></TD></TR><TR><TD VALIGN="TOP"><P>      </P></TD><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>;Class 3 glyph (very high base </P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>;  glyph) followed by a Class 1 </P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>;    glyph (mark)</P></TD></TR><TR><TD VALIGN="TOP"><P>0002    </P></TD><TD VALIGN="TOP"><P>2</P></TD><TD VALIGN="TOP"><P>;GlyphCount</P></TD></TR><TR><TD VALIGN="TOP"><P>0001    </P></TD><TD VALIGN="TOP"><P>1</P></TD><TD VALIGN="TOP"><P>;SubstCount</P></TD></TR><TR><TD VALIGN="TOP"><P>0001    </P></TD><TD VALIGN="TOP"><P>1</P></TD><TD VALIGN="TOP"><P>;offset to Class[1] </P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>;  beginning with the second </P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>;    Class in the context </P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>;    sequence = marks, Class 1</P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>;begin SubstLookupRecord array</P></TD></TR><TR><TD VALIGN="TOP"><P>      </P></TD><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>;  in design order</P></TD></TR><TR><TD VALIGN="TOP"><P>      </P></TD><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>;SubstLookupRecord[0]</P></TD></TR><TR><TD VALIGN="TOP"><P>0001    </P></TD><TD VALIGN="TOP"><P>1</P></TD><TD VALIGN="TOP"><P>;SequenceIndex</P></TD></TR><TR><TD VALIGN="TOP"><P>      </P></TD><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>;apply substitution to position</P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>;  2, second glyph class (mark)</P></TD></TR><TR><TD VALIGN="TOP"><P>0002    </P></TD><TD VALIGN="TOP"><P>2</P></TD><TD VALIGN="TOP"><P>;LookupListIndex</P></TD></TR></TBODY></TABLE>
<BR></P><H3><A NAME="sec8"></A>Example 9: ContextualSubstFormat3 Subtable</H3>Example 9 uses the ContextSubstFormat3 subtable with Coverage tables to describe a context sequence of three lowercase glyphs in the pattern: any ascender or descender glyph in position 0 (zero), any x-height glyph in position 1, and any descender glyph in position 2. The overlapping sets of covered glyphs for positions 0 and 2 make Format 3 better for this context than the class-based Format 2. </P>
In positions 0 and 2, swash versions of the glyphs replace the default glyphs. The contextual-substitution lookup is SwashLookup (LookupList index = 0), and its subtable is SwashSubtable. The SwashSubtable defines three Coverage tables: AscenderDescenderCoverage, XheightCoverage, and DescenderCoverage—one for each glyph position in the context sequence, respectively. </P>
The SwashSubtable also defines two SubstLookupRecords: one that applies to position 0, and one for position 2. (No substitutions are applied to position 1.) The record for position 0 uses a single substitution lookup called AscDescSwashLookup to replace the current ascender or descender glyph with a swash ascender or descender glyph. The record for position 2 uses a single substitution lookup called DescSwashLookup to replace the current descender glyph with a swash descender glyph.</P>
Example 9</P>

<TABLE COLS="3" BORDER="0" CELLPADDING="7"><COLGROUP><COL WIDTH="90pt" VALIGN="TOP"><COL WIDTH="153pt" VALIGN="TOP"><COL WIDTH="198pt" VALIGN="TOP"></COLGROUP><TBODY><TR><TD VALIGN="TOP"><P>Hex Data</P></TD><TD VALIGN="TOP"><P>Source</P></TD><TD VALIGN="TOP"><P>Comments</P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P><B>ContextSubstFormat3</B> </P></TD><TD VALIGN="TOP"><P></P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>SwashSubtable</P></TD><TD VALIGN="TOP"><P>;ContextSubstFormat3 subtable  </P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>;  definition</P></TD></TR><TR><TD VALIGN="TOP"><P>0003</P></TD><TD VALIGN="TOP"><P>3</P></TD><TD VALIGN="TOP"><P>;SubstFormat</P></TD></TR><TR><TD VALIGN="TOP"><P>0003</P></TD><TD VALIGN="TOP"><P>3</P></TD><TD VALIGN="TOP"><P>;GlyphCount</P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>;  in input glyph sequence</P></TD></TR><TR><TD VALIGN="TOP"><P>0002</P></TD><TD VALIGN="TOP"><P>2</P></TD><TD VALIGN="TOP"><P>;SubstCount</P></TD></TR><TR><TD VALIGN="TOP"><P>0030</P></TD><TD VALIGN="TOP"><P>AscenderDescenderCoverage</P></TD><TD VALIGN="TOP"><P>;offset to Coverage[0] table</P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>;  in context sequence order</P></TD></TR><TR><TD VALIGN="TOP"><P>004C</P></TD><TD VALIGN="TOP"><P>XheightCoverage</P></TD><TD VALIGN="TOP"><P>;offset to Coverage[1] table</P></TD></TR><TR><TD VALIGN="TOP"><P>006E</P></TD><TD VALIGN="TOP"><P>DescenderCoverage</P></TD><TD VALIGN="TOP"><P>;offset to Coverage[2] table</P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>;SubstLookupRecord[0]</P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>;  in glyph position order</P></TD></TR><TR><TD VALIGN="TOP"><P>0000</P></TD><TD VALIGN="TOP"><P>0</P></TD><TD VALIGN="TOP"><P>;SequenceIndex</P></TD></TR><TR><TD VALIGN="TOP"><P>0001</P></TD><TD VALIGN="TOP"><P>1</P></TD><TD VALIGN="TOP"><P>;LookupListIndex</P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>;single substitution to output </P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>;  ascender or descender swash</P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>;SubstLookupRecord[1]</P></TD></TR><TR><TD VALIGN="TOP"><P>0002</P></TD><TD VALIGN="TOP"><P>2</P></TD><TD VALIGN="TOP"><P>;SequenceIndex</P></TD></TR><TR><TD VALIGN="TOP"><P>0002</P></TD><TD VALIGN="TOP"><P>2</P></TD><TD VALIGN="TOP"><P>;LookupListIndex</P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>;  single substitution to output </P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>;    descender swash</P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P></P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P><B>CoverageFormat1</B></P></TD><TD VALIGN="TOP"><P></P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>AscenderDescenderCoverage</P></TD><TD VALIGN="TOP"><P>;Coverage table definition</P></TD></TR><TR><TD VALIGN="TOP"><P>0001</P></TD><TD VALIGN="TOP"><P>1</P></TD><TD VALIGN="TOP"><P>;CoverageFormat, lists</P></TD></TR><TR><TD VALIGN="TOP"><P>000C</P></TD><TD VALIGN="TOP"><P>12</P></TD><TD VALIGN="TOP"><P>;GlyphCount</P></TD></TR><TR><TD VALIGN="TOP"><P>0033</P></TD><TD VALIGN="TOP"><P>bGlyphID</P></TD><TD VALIGN="TOP"><P>;GlyphArray[0]</P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>;  in GlyphID order</P></TD></TR><TR><TD VALIGN="TOP"><P>0035</P></TD><TD VALIGN="TOP"><P>dGlyphID</P></TD><TD VALIGN="TOP"><P>;GlyphArray[1]</P></TD></TR><TR><TD VALIGN="TOP"><P>0037</P></TD><TD VALIGN="TOP"><P>fGlyphID</P></TD><TD VALIGN="TOP"><P>;GlyphArray[2]</P></TD></TR><TR><TD VALIGN="TOP"><P>0038</P></TD><TD VALIGN="TOP"><P>gGlyphID</P></TD><TD VALIGN="TOP"><P>;GlyphArray[3]</P></TD></TR><TR><TD VALIGN="TOP"><P>0039</P></TD><TD VALIGN="TOP"><P>hGlyphID</P></TD><TD VALIGN="TOP"><P>;GlyphArray[4]</P></TD></TR><TR><TD VALIGN="TOP"><P>003B</P></TD><TD VALIGN="TOP"><P>jGlyphID</P></TD><TD VALIGN="TOP"><P>;GlyphArray[5]</P></TD></TR><TR><TD VALIGN="TOP"><P>003C</P></TD><TD VALIGN="TOP"><P>kGlyphID</P></TD><TD VALIGN="TOP"><P>;GlyphArray[6]</P></TD></TR><TR><TD VALIGN="TOP"><P>003D</P></TD><TD VALIGN="TOP"><P>lGlyphID</P></TD><TD VALIGN="TOP"><P>;GlyphArray[7]</P></TD></TR><TR><TD VALIGN="TOP"><P>0041</P></TD><TD VALIGN="TOP"><P>pGlyphID</P></TD><TD VALIGN="TOP"><P>;GlyphArray[8]</P></TD></TR><TR><TD VALIGN="TOP"><P>0042</P></TD><TD VALIGN="TOP"><P>qGlyphID</P></TD><TD VALIGN="TOP"><P>;GlyphArray[9]</P></TD></TR><TR><TD VALIGN="TOP"><P>0045</P></TD><TD VALIGN="TOP"><P>tGlyphID</P></TD><TD VALIGN="TOP"><P>;GlyphArray[10]</P></TD></TR><TR><TD VALIGN="TOP"><P>004A</P></TD><TD VALIGN="TOP"><P>yGlyphID</P></TD><TD VALIGN="TOP"><P>;GlyphArray[11]</P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P><B>CoverageFormat1</B></P></TD><TD VALIGN="TOP"><P></P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>XheightCoverage</P></TD><TD VALIGN="TOP"><P>;Coverage table definition</P></TD></TR><TR><TD VALIGN="TOP"><P>0001</P></TD><TD VALIGN="TOP"><P>1</P></TD><TD VALIGN="TOP"><P>;CoverageFormat, lists</P></TD></TR><TR><TD VALIGN="TOP"><P>000F</P></TD><TD VALIGN="TOP"><P>15</P></TD><TD VALIGN="TOP"><P>;GlyphCount</P></TD></TR><TR><TD VALIGN="TOP"><P>0032</P></TD><TD VALIGN="TOP"><P>aGlyphID</P></TD><TD VALIGN="TOP"><P>;GlyphArray[0]</P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>;  in GlyphID order</P></TD></TR><TR><TD VALIGN="TOP"><P>0034 </P></TD><TD VALIGN="TOP"><P>cGlyphID</P></TD><TD VALIGN="TOP"><P>;GlyphArray[1]</P></TD></TR><TR><TD VALIGN="TOP"><P>0036</P></TD><TD VALIGN="TOP"><P>eGlyphID</P></TD><TD VALIGN="TOP"><P>;GlyphArray[2]</P></TD></TR><TR><TD VALIGN="TOP"><P>003A</P></TD><TD VALIGN="TOP"><P>iGlyphID</P></TD><TD VALIGN="TOP"><P>;GlyphArray[3]</P></TD></TR><TR><TD VALIGN="TOP"><P>003E</P></TD><TD VALIGN="TOP"><P>mGlyphID</P></TD><TD VALIGN="TOP"><P>;GlyphArray[4]</P></TD></TR><TR><TD VALIGN="TOP"><P>003F</P></TD><TD VALIGN="TOP"><P>nGlyphID</P></TD><TD VALIGN="TOP"><P>;GlyphArray[5]</P></TD></TR><TR><TD VALIGN="TOP"><P>0040</P></TD><TD VALIGN="TOP"><P>oGlyphID</P></TD><TD VALIGN="TOP"><P>;GlyphArray[6]</P></TD></TR><TR><TD VALIGN="TOP"><P>0043</P></TD><TD VALIGN="TOP"><P>rGlyphID</P></TD><TD VALIGN="TOP"><P>;GlyphArray[7]</P></TD></TR><TR><TD VALIGN="TOP"><P>0044</P></TD><TD VALIGN="TOP"><P>sGlyphID</P></TD><TD VALIGN="TOP"><P>;GlyphArray[8]</P></TD></TR><TR><TD VALIGN="TOP"><P>0045</P></TD><TD VALIGN="TOP"><P>tGlyphID</P></TD><TD VALIGN="TOP"><P>;GlyphArray[9]</P></TD></TR><TR><TD VALIGN="TOP"><P>0046</P></TD><TD VALIGN="TOP"><P>uGlyphID</P></TD><TD VALIGN="TOP"><P>;GlyphArray[10]</P></TD></TR><TR><TD VALIGN="TOP"><P>0047</P></TD><TD VALIGN="TOP"><P>vGlyphID</P></TD><TD VALIGN="TOP"><P>;GlyphArray[11]</P></TD></TR><TR><TD VALIGN="TOP"><P>0048</P></TD><TD VALIGN="TOP"><P>wGlyphID</P></TD><TD VALIGN="TOP"><P>;GlyphArray[12]</P></TD></TR><TR><TD VALIGN="TOP"><P>0049</P></TD><TD VALIGN="TOP"><P>xGlyphID</P></TD><TD VALIGN="TOP"><P>;GlyphArray[13]</P></TD></TR><TR><TD VALIGN="TOP"><P>004B</P></TD><TD VALIGN="TOP"><P>zGlyphID</P></TD><TD VALIGN="TOP"><P>;GlyphArray[14]</P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P><B>CoverageFormat1</B></P></TD><TD VALIGN="TOP"><P></P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>DescenderCoverage</P></TD><TD VALIGN="TOP"><P>;Coverage table definition</P></TD></TR><TR><TD VALIGN="TOP"><P>0001</P></TD><TD VALIGN="TOP"><P>1</P></TD><TD VALIGN="TOP"><P>;CoverageFormat, lists</P></TD></TR><TR><TD VALIGN="TOP"><P>0005</P></TD><TD VALIGN="TOP"><P>5</P></TD><TD VALIGN="TOP"><P>;GlyphCount</P></TD></TR><TR><TD VALIGN="TOP"><P>0038</P></TD><TD VALIGN="TOP"><P>gGlyphID</P></TD><TD VALIGN="TOP"><P>;GlyphArray[0]</P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>;  in GlyphID order</P></TD></TR><TR><TD VALIGN="TOP"><P>003B</P></TD><TD VALIGN="TOP"><P>jGlyphID</P></TD><TD VALIGN="TOP"><P>;GlyphArray[1]</P></TD></TR><TR><TD VALIGN="TOP"><P>0041</P></TD><TD VALIGN="TOP"><P>pGlyphID</P></TD><TD VALIGN="TOP"><P>;GlyphArray[2]</P></TD></TR><TR><TD VALIGN="TOP"><P>0042</P></TD><TD VALIGN="TOP"><P>qGlyphID</P></TD><TD VALIGN="TOP"><P>;GlyphArray[3]</P></TD></TR><TR><TD VALIGN="TOP"><P>004A</P></TD><TD VALIGN="TOP"><P>yGlyphID</P></TD><TD VALIGN="TOP"><P>;GlyphArray[4]</P></TD></TR></TBODY></TABLE>
<BR></P></P></BODY></HTML>
