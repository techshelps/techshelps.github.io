<HTML><HEAD><META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252"><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Lookup Type 2: Pair Adjustment Positioning Subtable</TITLE><style>@import url(msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="msdn_ie3.css"></HEAD><BODY BGCOLOR="#FFFFFF">
</OBJECT></FORM>
<H2>Lookup Type 2: <BR>Pair Adjustment Positioning Subtable</H2>A pair adjustment positioning subtable (PairPos) is used to adjust the positions of two glyphs in relation to one another듡or instance, to specify kerning data for pairs of glyphs. Compared to a typical kerning table, however, a PairPos subtable offers more flexiblity and precise control over glyph positioning. The PairPos subtable can adjust each glyph in a pair independently in both the X and Y directions, and it can explicitly describe the particular type of adjustment applied to each glyph. In addition, a PairPos subtable can use Device tables to subtly adjust glyph positions at each font size and device resolution.</P>
PairPos subtables can be either of two formats: one that identifies glyphs individually by index (Format 1), or one that identifies glyphs by class (Format 2).</P>
<H3><A NAME="sec0"></A>Pair Positioning Adjustment: Format 1</H3>Format 1 uses glyph indices to access positioning data for one or more specific pairs of glyphs. All pairs are specified in the order determined by the layout direction of the text. </P>
<B>Note:</B> For text written from right to left, the right-most glyph will be the first glyph in a pair; conversely, for text written from left to right, the left-most glyph will be first.</P>
A PairPosFormat1 subtable contains a format identifier (PosFormat) and two ValueFormats:</P>
ValueFormat1 applies to the ValueRecord of the first glyph in each pair. ValueRecords for all first glyphs must use ValueFormat1. </P>
ValueFormat2 applies to the ValueRecord of the second glyph in each pair. ValueRecords for all second glyphs must use ValueFormat2.</P>
Either of the two ValueFormats may be set to zero (0) to indicate that the corresponding glyph has no ValueRecord and, therefore, should not be repositioned.</P>
A PairPos subtable also defines an offset to a Coverage table (Coverage) that lists the indices of the first glyphs in each pair. More than one pair can have the same first glyph, but the Coverage table will list that glyph only once. </P>
The subtable also contains an array of offsets to PairSet tables (PairSet) and a count of the defined tables (PairSetCount). The PairSet array contains one offset for each glyph listed in the Coverage table and uses the same order as the Coverage Index.</P>
PairPosFormat1 subtable: Adjustments for glyph pairs</P>

<TABLE COLS="3" BORDER="1" CELLPADDING="7"><COLGROUP><COL WIDTH="69pt" VALIGN="TOP"><COL WIDTH="121pt" VALIGN="TOP"><COL WIDTH="245pt" VALIGN="TOP"></COLGROUP><TBODY><TR><TD VALIGN="TOP"><P>Type</P></TD><TD VALIGN="TOP"><P>Name</P></TD><TD VALIGN="TOP"><P>Description</P></TD></TR><TR><TD VALIGN="TOP"><P>uint16</P></TD><TD VALIGN="TOP"><P>PosFormat</P></TD><TD VALIGN="TOP"><P>Format identifier </P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>듡ormat = 1</P></TD></TR><TR><TD VALIGN="TOP"><P>Offset</P></TD><TD VALIGN="TOP"><P><SPAN CLASS="Symbol">ガ/SPAN> Coverage</P></TD><TD VALIGN="TOP"><P>Offset to Coverage table </P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>듡rom beginning of PairPos subtable</P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>듪nly the first glyph in each pair</P></TD></TR><TR><TD VALIGN="TOP"><P>uint16</P></TD><TD VALIGN="TOP"><P>ValueFormat1</P></TD><TD VALIGN="TOP"><P>Defines the types of data in ValueRecord1</P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>듡or the first glyph in the pair</P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>듨ay be zero (0)</P></TD></TR><TR><TD VALIGN="TOP"><P>uint16</P></TD><TD VALIGN="TOP"><P>ValueFormat2</P></TD><TD VALIGN="TOP"><P>Defines the types of data in ValueRecord2</P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>듡or the second glyph in the pair</P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>듨ay be zero (0)</P></TD></TR><TR><TD VALIGN="TOP"><P>uint16</P></TD><TD VALIGN="TOP"><P>PairSetCount</P></TD><TD VALIGN="TOP"><P>Number of PairSet tables</P></TD></TR><TR><TD VALIGN="TOP"><P>ValueRecord</P></TD><TD VALIGN="TOP"><P>PairSet[PairSetCount]</P></TD><TD VALIGN="TOP"><P>Array of offsets to PairSet tables</P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>듡rom beginning of PairPos subtable</P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>듪rdered by Coverage Index</P></TD></TR></TBODY></TABLE>
<BR></P>A PairSet table enumerates all the glyph pairs that begin with a covered glyph. An array of PairValueRecords (PairValueRecord) contains one record for each pair and lists the records alphabetically by the second glyph in each pair. PairValueCount specifies the number of PairValueRecords in the set. </P>
PairSet table</P>

<TABLE COLS="3" BORDER="1" CELLPADDING="7"><COLGROUP><COL WIDTH="69pt" VALIGN="TOP"><COL WIDTH="121pt" VALIGN="TOP"><COL WIDTH="245pt" VALIGN="TOP"></COLGROUP><TBODY><TR><TD VALIGN="TOP"><P>Type</P></TD><TD VALIGN="TOP"><P>Name</P></TD><TD VALIGN="TOP"><P>Description</P></TD></TR><TR><TD VALIGN="TOP"><P>uint16</P></TD><TD VALIGN="TOP"><P>PairValueCount</P></TD><TD VALIGN="TOP"><P>Number of PairValueRecords</P></TD></TR><TR><TD VALIGN="TOP"><P>struct</P></TD><TD VALIGN="TOP"><P>PairValueRecord</P></TD><TD VALIGN="TOP"><P>Array of PairValueRecords </P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>[PairValueCount]</P></TD><TD VALIGN="TOP"><P>듪rdered alphabetically by second glyph</P></TD></TR></TBODY></TABLE>
<BR></P>A PairValueRecord specifies the second glyph in a pair (SecondGlyph) and defines a ValueRecord for each glyph (Value1 and Value2). If ValueFormat1 is set to zero (0) in the PairPos subtable, ValueRecord1 will be empty; similarly, if ValueFormat2 is 0, Value2 will be empty. </P>
Example 4 at the end of this chapter shows a PairPosFormat1 subtable that defines two cases of pair kerning.</P>
PairValueRecord</P>

<TABLE COLS="3" BORDER="1" CELLPADDING="7"><COLGROUP><COL WIDTH="69pt" VALIGN="TOP"><COL WIDTH="121pt" VALIGN="TOP"><COL WIDTH="245pt" VALIGN="TOP"></COLGROUP><TBODY><TR><TD VALIGN="TOP"><P>Type</P></TD><TD VALIGN="TOP"><P>Name</P></TD><TD VALIGN="TOP"><P>Description</P></TD></TR><TR><TD VALIGN="TOP"><P>GlyphID</P></TD><TD VALIGN="TOP"><P>SecondGlyph</P></TD><TD VALIGN="TOP"><P>GlyphID of second glyph in the pair</P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>듡irst glyph is listed in the Coverage table</P></TD></TR><TR><TD VALIGN="TOP"><P>ValueRecord</P></TD><TD VALIGN="TOP"><P>Value1</P></TD><TD VALIGN="TOP"><P>Positioning data for the first glyph in the pair</P></TD></TR><TR><TD VALIGN="TOP"><P>ValueRecord</P></TD><TD VALIGN="TOP"><P>Value2</P></TD><TD VALIGN="TOP"><P>Positioning data for the second glyph in the pair</P></TD></TR></TBODY></TABLE>
<BR></P><H3><A NAME="sec1"></A>Pair Positioning Adjustment: Format 2</H3>Format 2 defines a pair as a set of two glyph classes and modifies the positions of all the glyphs in a class. For example, this format is useful in Japanese scripts that apply specific kerning operations to all glyph pairs that contain punctuation glyphs. One class would be defined as all glyphs that may be coupled with punctuation marks, and the other classes would be groups of similar punctuation glyphs. </P>
The PairPos Format2 subtable begins with a format identifier (PosFormat) and an offset to a Coverage table (Coverage), measured from the beginning of the PairPos subtable. The Coverage table lists the indices of the first glyphs that may appear in each glyph pair. More than one pair may begin with the same glyph, but the Coverage table lists the glyph index only once. </P>
<B>Note:</B> The ClassDef1 table also identifies the first glyphs in each pair, but the redundant listing in the Coverage table accelerates the lookup process.</P>
A PairPosFormat2 subtable also includes two ValueFormats:</P>
ValueFormat1 applies to the ValueRecord of the first glyph in each pair. The ValueRecords for all the first glyphs must use ValueFormat1.</P>
ValueFormat2 applies to the ValueRecord of the second glyph in each pair. The ValueRecords for all of the second glyphs must use ValueFormat2.</P>
Either of the two ValueFormats may be set to zero (0) to indicate that the corresponding glyph has no ValueRecord and, therefore, should not be repositioned.</P>
PairPosFormat2 requires that each glyph in all pairs be assigned to a class, which is identified by an integer called a class value. (For details about classes, see the chapter, Common Table Formats.) Pairs are then represented in a two-dimensional array as sequences of two class values. Multiple pairs can be represented in one Format 2 subtable.</P>
A PairPosFormat2 subtable contains offsets to two class definition tables: one that assigns class values to all the first glyphs in all pairs (ClassDef1), and one that assigns class values to all the second glyphs in all pairs (ClassDef2). If both glyphs in a pair use the same class definition, the offset value will be the same for ClassDef1 and ClassDef2. The subtable also specifies the number of glyph classes defined in ClassDef1 (Class1Count) and in ClassDef2 (Class2Count), including Class0.</P>
For each class identified in the ClassDef1 table, a Class1Record enumerates all pairs that contain a particular class as a first component. The Class1Record array stores all Class1Records according to class value. </P>
<B>Note:</B> Class1Records are not tagged with a class value identifier. Instead, the index value of a Class1Record in the array defines the class value represented by the record. For example, the first Class1Record enumerates pairs that begin with a Class 0 glyph, the second Class1Record enumerates pairs that begin with a Class1 glyph, and so on.</P>
PairPosFormat2 subtable: Class pair adjustment</P>

<TABLE COLS="3" BORDER="1" CELLPADDING="7"><COLGROUP><COL WIDTH="69pt" VALIGN="TOP"><COL WIDTH="121pt" VALIGN="TOP"><COL WIDTH="245pt" VALIGN="TOP"></COLGROUP><TBODY><TR><TD VALIGN="TOP"><P>Type</P></TD><TD VALIGN="TOP"><P>Name</P></TD><TD VALIGN="TOP"><P>Description</P></TD></TR><TR><TD VALIGN="TOP"><P>uint16</P></TD><TD VALIGN="TOP"><P>PosFormat</P></TD><TD VALIGN="TOP"><P>Format identifier </P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>듡ormat = 2</P></TD></TR><TR><TD VALIGN="TOP"><P>Offset</P></TD><TD VALIGN="TOP"><P><SPAN CLASS="Symbol">ガ/SPAN> Coverage</P></TD><TD VALIGN="TOP"><P>Offset to Coverage table </P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>듡rom beginning of PairPos subtable</P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>듡or the first glyph of the pair</P></TD></TR><TR><TD VALIGN="TOP"><P>uint16</P></TD><TD VALIGN="TOP"><P>ValueFormat1</P></TD><TD VALIGN="TOP"><P>ValueRecord definition </P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>듡or the first glyph of the pair</P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>듨ay be zero (0)</P></TD></TR><TR><TD VALIGN="TOP"><P>uint16</P></TD><TD VALIGN="TOP"><P>ValueFormat2</P></TD><TD VALIGN="TOP"><P>ValueRecord definition </P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>듡or the second glyph of the pair</P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>듨ay be zero (0)</P></TD></TR><TR><TD VALIGN="TOP"><P>Offset</P></TD><TD VALIGN="TOP"><P><SPAN CLASS="Symbol">ガ/SPAN> ClassDef1</P></TD><TD VALIGN="TOP"><P>Offset to ClassDef table </P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>듡rom beginning of PairPos subtable</P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>듡or the first glyph of the pair</P></TD></TR><TR><TD VALIGN="TOP"><P>Offset</P></TD><TD VALIGN="TOP"><P><SPAN CLASS="Symbol">ガ/SPAN> ClassDef2</P></TD><TD VALIGN="TOP"><P>Offset to ClassDef table </P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>듡rom beginning of PairPos subtable</P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>듡or the second glyph of the pair</P></TD></TR><TR><TD VALIGN="TOP"><P>uint16</P></TD><TD VALIGN="TOP"><P>Class1Count</P></TD><TD VALIGN="TOP"><P>Number of classes in ClassDef1 table</P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>들ncludes Class0</P></TD></TR><TR><TD VALIGN="TOP"><P>uint16</P></TD><TD VALIGN="TOP"><P>Class2Count</P></TD><TD VALIGN="TOP"><P>Number of classes in ClassDef2 table</P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>들ncludes Class0</P></TD></TR><TR><TD VALIGN="TOP"><P>struct</P></TD><TD VALIGN="TOP"><P>Class1Record</P></TD><TD VALIGN="TOP"><P>Array of Class1 records</P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>[Class1Count]</P></TD><TD VALIGN="TOP"><P>듪rdered by Class1</P></TD></TR></TBODY></TABLE>
<BR></P>Each Class1Record contains an array of Class2Records (Class2Record), which also are ordered by class value. One Class2Record must be declared for each class in the ClassDef2 table, including Class 0.</P>
Class1Record</P>

<TABLE COLS="5" BORDER="1" CELLPADDING="7"><COLGROUP><COL WIDTH="69pt" VALIGN="TOP"><COL WIDTH="0pt" VALIGN="TOP"><COL WIDTH="122pt" VALIGN="TOP"><COL WIDTH="0pt" VALIGN="TOP"><COL WIDTH="244pt" VALIGN="TOP"></COLGROUP><TBODY><TR><TD COLSPAN="2" VALIGN="TOP"><P>Type</P></TD><TD COLSPAN="3" VALIGN="TOP"><P>Name</P></TD><TD COLSPAN="3" VALIGN="TOP"><P>Description</P></TD></TR><TR><TD COLSPAN="2" VALIGN="TOP"><P>struct</P></TD><TD COLSPAN="3" VALIGN="TOP"><P>Class2Record</P></TD><TD COLSPAN="3" VALIGN="TOP"><P>Array of Class2 records</P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD COLSPAN="2" VALIGN="TOP"><P>[Class2Count]</P></TD><TD COLSPAN="3" VALIGN="TOP"><P>듪rdered by Class2</P></TD></TR></TBODY></TABLE>
<BR></P>A Class2Record consists of two ValueRecords, one for the first glyph in a class pair (Value1) and one for the second glyph (Value2). If the PairPos subtable has a value of zero (0) for ValueFormat1 or ValueFormat2, the corresponding record (ValueRecord1 or ValueRecord2) will be empty.</P>
Example 5 at the end of this chapter demonstrates pair kerning with glyph classes in a PairPosFormat2 subtable.</P>
Class2Record</P>

<TABLE COLS="3" BORDER="1" CELLPADDING="7"><COLGROUP><COL WIDTH="69pt" VALIGN="TOP"><COL WIDTH="122pt" VALIGN="TOP"><COL WIDTH="244pt" VALIGN="TOP"></COLGROUP><TBODY><TR><TD VALIGN="TOP"><P>Type</P></TD><TD VALIGN="TOP"><P>Name</P></TD><TD VALIGN="TOP"><P>Description</P></TD></TR><TR><TD VALIGN="TOP"><P>ValueRecord</P></TD><TD VALIGN="TOP"><P>Value1</P></TD><TD VALIGN="TOP"><P>Positioning for first glyph</P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>든mpty if ValueFormat1 = 0</P></TD></TR><TR><TD VALIGN="TOP"><P>ValueRecord</P></TD><TD VALIGN="TOP"><P>Value2</P></TD><TD VALIGN="TOP"><P>Positioning for second glyph</P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>든mpty if ValueFormat2 = 0</P></TD></TR></TBODY></TABLE>
<BR></P></BODY></HTML>
