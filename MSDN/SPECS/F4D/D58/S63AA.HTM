<HTML><HEAD><META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252"><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Table Organization</TITLE><style>@import url(msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="msdn_ie3.css"></HEAD><BODY BGCOLOR="#FFFFFF">
</OBJECT></FORM>
<H2>Table Organization</H2>The GSUB table begins with a header that defines offsets to a ScriptList, a FeatureList, and a LookupList (see Figure 3g):</P>
The ScriptList identifies all the scripts and language systems in the font that use glyph substitutes. </P>
The FeatureList defines all the glyph substitution features required to render these scripts and language systems. </P>
The LookupList contains all the lookup data needed to implement each glyph substitution feature. </P>
For a detailed discussion of ScriptLists, FeatureLists, and LookupLists, see the chapter Common Table Formats.</P>
<P><img src="13265.gif"></P>
Figure 3g. High-level organization of GSUB table</P>
This organization helps text-processing clients to easily locate the features and lookups that apply to a particular script or language system. To access GSUB information, clients should use the following procedure:</P>
Locate the current script in the GSUB ScriptList table. </P>
If the language system is known, search the script for the correct LangSys table; otherwise, use the script's default language system (DefaultLangSys table). </P>
The LangSys table provides index numbers into the GSUB FeatureList table to access a required feature and a number of additional features. </P>
Inspect the FeatureTag of each feature, and select the features to apply to an input glyph string. Each feature provides an array of index numbers into the GSUB LookupList table.</P>
Assemble all lookups from the set of chosen features, and apply the lookups in the order given in the LookupList table. </P>
Lookup data is defined in one or more subtables that define the specific conditions, type, and results of a substitution action used to implement a feature. All subtables in a lookup must be of the same LookupType, as listed in the LookupType Enumeration table:</P>
LookupType Enumeration table for glyph substitution</P>

<TABLE COLS="3" BORDER="1" CELLPADDING="7"><COLGROUP><COL WIDTH="69pt" VALIGN="TOP"><COL WIDTH="121pt" VALIGN="TOP"><COL WIDTH="245pt" VALIGN="TOP"></COLGROUP><TBODY><TR><TD VALIGN="TOP"><P>Value</P></TD><TD VALIGN="TOP"><P>Type</P></TD><TD VALIGN="TOP"><P>Description</P></TD></TR><TR><TD VALIGN="TOP"><P>1</P></TD><TD VALIGN="TOP"><P>Single</P></TD><TD VALIGN="TOP"><P>Replace one glyph with one glyph</P></TD></TR><TR><TD VALIGN="TOP"><P>2</P></TD><TD VALIGN="TOP"><P>Multiple</P></TD><TD VALIGN="TOP"><P>Replace one glyph with more than one glyph</P></TD></TR><TR><TD VALIGN="TOP"><P>3</P></TD><TD VALIGN="TOP"><P>Alternate</P></TD><TD VALIGN="TOP"><P>Replace one glyph with one of many glyphs</P></TD></TR><TR><TD VALIGN="TOP"><P>4</P></TD><TD VALIGN="TOP"><P>Ligature</P></TD><TD VALIGN="TOP"><P>Replace multiple glyphs with one glyph</P></TD></TR><TR><TD VALIGN="TOP"><P>5</P></TD><TD VALIGN="TOP"><P>Context</P></TD><TD VALIGN="TOP"><P>Replace one or more glyphs in context</P></TD></TR><TR><TD VALIGN="TOP"><P>6+</P></TD><TD VALIGN="TOP"><P>Reserved</P></TD><TD VALIGN="TOP"><P>For future use</P></TD></TR></TBODY></TABLE>
<BR></P>Each LookupType subtable has one or more formats. The "best" format depends on the type of substitution and the resulting storage efficiency. When glyph information is best presented in more than one format, a single lookup may define more than one subtable, as long as all the subtables are for the same LookupType. For example, within a given lookup, a glyph index array format may best represent one set of target glyphs, whereas a glyph index range format may be better for another set. </P>
A series of substitution operations on the same glyph or string requires multiple lookups, one for each separate action. Each lookup is given a different array number in the LookupList table and is applied in the LookupList order.</P>
During text processing, a client applies a lookup to each glyph in the string, starting with the first glyph, before moving to the next lookup. To apply a lookup, the client searches the subtables in the order they are defined in the lookup. If the first subtable does not contain data relevant to the glyph, the client searches the next subtable, and so on. If the client finds glyph data, it makes the substitution.</P>
A lookup is finished for a glyph when the client makes a substitution or when the client finds no relevant data in any of the subtables defined in the lookup. The client then advances to the next glyph in the glyph string and begins the lookup process again.</P>
The rest of this chapter describes the GSUB header and the subtables defined for each GSUB LookupType. Examples at the end of this chapter illustrate each of the five LookupTypes, including the three formats available for contextual substitutions.</P></BODY></HTML>
