<HTML><HEAD><META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252"><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>IServerSecurity::QueryBlanket</TITLE><style>@import url(msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="msdn_ie3.css"></HEAD><BODY BGCOLOR="#FFFFFF">

</OBJECT></FORM>
<H3>IServerSecurity::QueryBlanket</H3>  </P>
<B>HRESULT IServerSecurity::QueryBlanket(Privs, ServerPrincName, AuthnLevel, AuthnSvc, AuthzSvc);</B></P>
This method is used by the server to find out about the client that invoked one of its methods. CoGetCallContext with IID_ISeverSecurity returns an IServerSecurity interface for the current call on the current thread. This interface pointer may be used on any thread and calls to it may succeed until the call completes.</P>
  </P>

<TABLE COLS="3" BORDER="0" CELLPADDING="7"><COLGROUP><COL WIDTH="82pt" VALIGN="TOP"><COL WIDTH="110pt" VALIGN="TOP"><COL WIDTH="281pt" VALIGN="TOP"></COLGROUP><TBODY><TR><TD VALIGN="TOP"><B>Argument</B></P></TD><TD VALIGN="TOP"><B>Type</B></P></TD><TD VALIGN="TOP"><B>Description</B></P></TD></TR><TR><TD VALIGN="TOP">Privs</P></TD><TD VALIGN="TOP">RPC_AUTHZ _HANDLE*</P></TD><TD VALIGN="TOP">Returns a pointer to a handle to the privilege information for the client application. The format of the structure is authentication-service specific. The application should not write or free the memory. The information is only valid for the duration of the current call. NULL may be passed if the application is not interested in this parameter.</P></TD></TR><TR><TD VALIGN="TOP">ServerPrincName</P></TD><TD VALIGN="TOP">WCHAR*</P></TD><TD VALIGN="TOP">This parameter indicates the principal name the client specified. It is a copy allocated with CoTaskMemAlloc. The application must call CoTaskMemFree to release it. NULL may be passed if the application is not interested in this parameter.</P></TD></TR><TR><TD VALIGN="TOP">AuthnLevel</P></TD><TD VALIGN="TOP">DWORD*</P></TD><TD VALIGN="TOP">This parameter indicates the authentication level. NULL may be passed if the application is not interested in this parameter.</P></TD></TR><TR><TD VALIGN="TOP">AuthnSvc</P></TD><TD VALIGN="TOP">DWORD*</P></TD><TD VALIGN="TOP">This parameter indicate the authentication service the client specified. NULL may be passed if the application is not interested in this parameter.</P></TD></TR><TR><TD VALIGN="TOP">AuthzSvc</P></TD><TD VALIGN="TOP">DWORD*</P></TD><TD VALIGN="TOP">This parameter indicates the authorization service. NULL may be passed if the application is not interested in this parameter.</P></TD></TR><TR><TD VALIGN="TOP"><I>Returns</I></P></TD><TD VALIGN="TOP">S_OK</P></TD><TD VALIGN="TOP">Success.</P></TD></TR><TR><TD VALIGN="TOP"></P></TD><TD VALIGN="TOP">E_INVALIDARG</P></TD><TD VALIGN="TOP">One or more arguments are invalid.</P></TD></TR><TR><TD VALIGN="TOP"></P></TD><TD VALIGN="TOP">E_OUTOFMEMORY</P></TD><TD VALIGN="TOP">Insufficient memory to create one or more out-parameters.</P></TD></TR></TBODY></TABLE>
<BR></P> </P></BODY></HTML>
