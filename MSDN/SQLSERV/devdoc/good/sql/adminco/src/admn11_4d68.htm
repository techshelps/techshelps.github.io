<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Running bcp</title>
<link disabled rel=stylesheet href=../../../../backsdk3.css>
<style type="text/css">
@import url(../../../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h2><a name="_running_bcp"></a>Running bcp</h2>
<p>
The <b>bcp</b> utility transfers data between an existing database table or view and an operating-system file in a format that can be specified by the user. The <b>bcp</b> utility is executed from the operating system. </p>
<p>
In general, you must supply the following information for transferring data to and from SQL Server:
<ul>
<li>
The name of the database</li>
<li>
The name of the table or view</li>
<li>
The name of the operating-system file or disk drive</li>
<li>
The direction of the transfer (in or out)</li>
</ul>
<p>
In addition, for each column, you can modify the datatype, length, and terminator.</p>
<h5><img src="../../../../images/wedge.gif" border=0>&nbsp;&nbsp;&nbsp;&nbsp;To transfer data with the bcp utility</h5>
<p>
<b>bcp</b> [[<i>database_name</i><b>.</b>]<i>owner</i><b>.</b>]<i>table_name</i> {<b>in</b> | <b>out</b>} <i>datafile </i><br>
[<b>/m</b> <i>maxerrors</i>] [<b>/f</b> <i>formatfile</i>] [<b>/e</b> <i>errfile</i>] <br>
[<b>/F</b> <i>firstrow</i>] [<b>/L</b> <i>lastrow</i>] [<b>/b</b> <i>batchsize</i>] <br>
[<b>/n</b>] [<b>/c</b>] [/<b>E</b>]<br>
[<b>/t</b> <i>field_term</i>] [<b>/r</b> <i>row_term</i>] <br>
[<b>/i</b> <i>inputfile</i>] [<b>/o</b> <i>outputfile</i>] <br>
<b>/U</b> <i>login_id </i>[<b>/P</b> <i>password</i>] [<b>/S</b> <i>servername</i>] [<b>/v</b>] [<b>/a</b> <i>packet_size</i>]</p>
<p>
where
<dl>
<dt>
<i>database_name</i></dt>
<dd>
Specifies the database name. This name is optional if the table or view being copied is in your default database. Otherwise, you must specify a database name.</dd>
<dt>
<i>owner</i></dt>
<dd>
Is the owner's name. This name is optional if you own the table or view being copied. If no owner is specified and you do not own a table of that name, the program will not execute.</dd>
<dt>
<i>table_name</i></dt>
<dd>
Specifies which database table or view to copy.</dd>
<dt>
<b>in | out</b></dt>
<dd>
Specifies the direction of the copy. The <b>in</b> option copies from a file into the database table; the <b>out</b> option copies to a file from the database table or view.</dd>
<dt>
<i>datafile</i></dt>
<dd>
Is the full path of an operating-system file when copying to or from a hard-disk file or a single diskette. The path can have from 1 to 255 characters. To copy to or from multiple diskettes, <i>datafile</i> is a drive specifier only (such as A:).</dd>
<dt>
<b>/m </b><i>maxerrors</i></dt>
<dd>
Is the maximum number of errors that can occur before the copy is canceled. Each row that cannot be rebuilt by <b>bcp</b> is thrown out and counted as one error. If this option is not included, the default is 10.</dd>
<dt>
<b>/f </b><i>formatfile</i></dt>
<dd>
Is the full path of a file with stored responses from a previous use of <b>bcp</b> on the same table; creation of the format file is optional. Use this option when you have already created a format file that you want to use to copy in or out. After you answer format questions, <b>bcp</b> asks whether you want to save your answers in a format file. The default filename is BCP.FMT. The <b>bcp</b> utility can refer to a format file when you copy data, so that you do not have to duplicate your previous format responses interactively. If this option is not used, <b>bcp</b> queries you for format information.</dd>
<dt>
<b>/e </b><i>errfile</i></dt>
<dd>
Is the full path of an error file where <b>bcp</b> stores any rows that it was unable to transfer from the file to the database. Error messages from the <b>bcp</b> utility go to the user's workstation. If this option is not used, no error file is created.</dd>
<dt>
<b>/F </b><i>firstrow</i></dt>
<dd>
Is the number of the first row to copy (the default is the first row).</dd>
<dt>
<b>/L </b><i>lastrow</i></dt>
<dd>
Is the number of the last row to copy (the default is the last row).</dd>
<dt>
<b>/b </b><i>batchsize</i></dt>
<dd>
Is the number of rows per batch of data copied (the default copies all the rows in one batch).</dd>
<dt>
<b>/n</b></dt>
<dd>
Performs the copy operation using the data's native (database) datatypes as the default. This option does not prompt for each field; it uses the default values.</dd>
<dt>
<b>/c</b></dt>
<dd>
Performs the copy operation with a character datatype as the default. This option does not prompt for each field; it uses <i>char</i> as the default storage type, no prefixes, <b>\t</b> (tab) as the default field separator, and <b>\n</b> (new line) as the default row terminator.</dd>
<dt>
/<b>E</b></dt>
<dd>
Is used when identity values are present within the table to be imported.
<p>
When importing data, an identity column is temporarily assigned an identity value of 0. As the rows are inserted into the table, SQL Server assigns unique values based on the <i>seed</i> and <i>increment</i> values specified during table creation. Use the /<b>E</b> flag if identity values already exist in the file. If SQL Server-generated identity values are preferred, place only nonidentity columns in the file.

<p>
This option is in effect only during <b>bcp in</b>. It has no effect during <b>bcp out</b>.
</dd>
<dt>
<b>/t </b><i>field_term</i></dt>
<dd>
Is the default field terminator.</dd>
<dt>
<b>/r </b><i>row_term</i></dt>
<dd>
Is the default row terminator.</dd>
<dt>
<b>/i </b><i>inputfile</i></dt>
<dd>
Is the name of a file that redirects input to <b>bcp</b>.</dd>
<dt>
<b>/o </b><i>outputfile</i></dt>
<dd>
Is the name of a file that receives output redirected from <b>bcp</b>.</dd>
<dt>
<b>/U</b> <i>login_id</i></dt>
<dd>
Is a login ID.</dd>
<dt>
<b>/P </b><i>password</i></dt>
<dd>
Is a user specified password. If the <b>/P</b> option is not used, <b>bcp</b> prompts for a password. If the <b>/P</b> option is used at the end of the command line without any password, <b>bcp</b> uses the default password (NULL).</dd>
<dt>
<b>/S </b><i>servername</i></dt>
<dd>
Specifies which SQL Server to connect to. The <i>servername</i> is the name of the server computer on the network. This option is required when you are executing <b>bcp</b> from a remote computer on the network.</dd>
<dt>
<b>/v</b></dt>
<dd>
Reports the current DB-Library version number.</dd>
<dt>
<b>/a</b> <i>packet_size</i></dt>
<dd>
Is the number of bytes, per network packet, sent to and from the server. A server configuration option can be set using SQL Enterprise Manager (or the <b>sp_configure</b> system stored procedure). However, this option can be overridden on an individual basis with the <b>bcp /a</b> option. The valid values for <i>packet_size</i> are 512 through 65535. The server default is 4096, and the default value for the Windows NT - based <b>bcp</b> is 4096. The default value is 512 for MS-DOS, though larger sizes can be requested. 
<p>
Increased packet size may enhance performance on bulk copy operations. Microsoft testing indicates that 4096 to 8192 is typically the fastest setting for bulk copy operations. Packet sizes over 512 will work only for clients connected to a Windows NT - based SQL Server. If a larger packet is requested but cannot be granted, the client will default to 512. The performance statistics generated at the end of a <b>bcp</b> run will show the actual packet size used.

</dd>
</dl>
<p>
</p>
<p>&nbsp;</p></body>
</HTML>
