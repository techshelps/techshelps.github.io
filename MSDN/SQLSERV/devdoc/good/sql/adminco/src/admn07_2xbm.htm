<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Deciding What to Mirror</title>
<link disabled rel=stylesheet href=../../../../backsdk3.css>
<style type="text/css">
@import url(../../../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h2><a name="_deciding_what_to_mirror"></a>Deciding What to Mirror</h2>
<p>
You need to consider several factors to determine the best method for mirroring: the cost of system downtime, reduction or improvements in performance, and the cost of storage media. Three configurations (minimum, intermediate, and advanced) can be used to provide recovery with mirroring:
<ul>
<li>
<i>A minimum configuration</i> mirrors the transaction log of a user database on a separate disk drive.<p>
This configuration, shown in the following illustration, uses the minimum amount of disk space possible when mirroring and does not provide nonstop recovery because the master and/or user databases must be recovered. 
<p>
For example, on partition D, store DEVICE1 (which contains the user database) and DEVICE2 (which contains the transaction log). On partition E, store the MASTER device and the mirror of the device that contains the user database's transaction log.
<p>
<img src="images/fig10_3.gif" border=0>
</li>
<li>
<i>An intermediate configuration</i> mirrors the user database, transaction log, and <i>master</i> database on a separate disk drive. This configuration, shown in the following illustration, uses additional disk space to provide nonstop recovery. <p>
For example, on partition D store the MASTER device, DEVICE1 (which contains the user database) and DEVICE2 (which contains the transaction log). On partition E mirror the MASTER device, DEVICE1, and DEVICE2.
<p>
<img src="images/fig10_4.gif" border=0>
</li>
<li>
<i>An advanced configuration</i> mirrors the user database, transaction log, and <i>master</i> database on several disk drives. <p>
This configuration, shown in the following illustration, stores a mirror image of the transaction log and <i>master</i> database on one separate disk, and a mirror image of the user database on another separate disk. This option provides nonstop recovery with the highest level of redundancy. 
<p>
For example, on partition D store the MASTER device and DEVICE2 (which contains the user transaction log). On partition E mirror the MASTER device and DEVICE2. On partition F store DEVICE1 (which contains the user database). On partition G mirror DEVICE1.
<p>
<img src="images/fig10_5.gif" border=0>
</li>
</ul>
<p>
The following table summarizes each type of mirroring configuration.</p>
<table cellspacing=4 cols=2>
<tr valign=top>
<th align=left width=31%></th>
<th align=left width=69%></th>
</tr>
<tr valign=top>
<th align=left width=31%></th>
<th align=left width=69%></th>
</tr>
<tr valign=top>
<th align=left width=31%>Mirror type</th>
<th align=left width=69%>Description/Benefit</th>
</tr>
<tr valign=top>
<td width=31%></td>
<td width=69%></td>
</tr>
<tr valign=top>
<td width=31%></td>
<td width=69%></td>
</tr>
<tr valign=top>
<td width=31%>No mirroring</td>
<td width=69%>Provides the greatest savings in disk space. However, transactions can be lost, since the database can be restored only to the latest transaction dump.</td>
</tr>
<tr valign=top>
<td width=31%>Minimum configuration</td>
<td width=69%>Mirror only the device containing the transaction log.<p>
Guarantees up-to-the-minute recovery with no lost transactions. Does not allow nonstop recovery. To recover, it is necessary to reload transaction logs. This option uses the least storage space of any mirroring configuration.</p>
</td>
</tr>
<tr valign=top>
<td width=31%>Intermediate configuration</td>
<td width=69%>Place devices containing transaction log, <i>master</i> database, and user database on one physical device, and a mirror copy of each on another physical device.<p>
Allows nonstop recovery. Consumes more disk space than a minimum configuration. Requires more time for write operations.</p>
</td>
</tr>
<tr valign=top>
<td width=31%>Advanced configuration</td>
<td width=69%>Store a mirror image of the transaction log and <i>master</i> database on one separate disk, and a mirror image of the user database on another separate disk<p>
Allows nonstop recovery. Requires more disk devices than other configurations. Requires more time for write operations but generally improves read times over the intermediate configuration. (The transaction log is on a different device from the user database, so less disk head travel is required for read operations). Provides the greatest redundancy for maximum data integrity.</p>
</td>
</tr>
</table><br>
<p>
If you want to mirror a database or log that spans more than one device, you must mirror all devices that contain the database.</p>
<p>
</p>
<p>&nbsp;</p></body>
</HTML>
