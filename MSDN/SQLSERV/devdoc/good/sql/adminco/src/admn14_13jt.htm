<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Setting Up a Replication Topology</title>
<link disabled rel=stylesheet href=../../../../backsdk3.css>
<style type="text/css">
@import url(../../../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h2><a name="_setting_up_a_replication_topology"></a>Setting Up a Replication Topology</h2>
<p>
This example will show you how to set up servers in basic replication roles and how to establish replication relationships between servers. In this example:
<ul>
<li>
The server TERRIER will be configured as a publication server. It will also act as its own distribution server.</li>
<li>
The servers AIREDALE, COLLIE, and MUTT will be configured as subscription servers to TERRIER.</li>
<li>
The <i>pubs</i> database on TERRIER will be enabled for publishing.</li>
<li>
On each subscription server, one destination database will be created and enabled for subscribing.</li>
</ul>
<p>
<img src="images/repl_02p.gif" border=0></p>
<p>
The following example assumes that the servers AIREDALE, COLLIE, MUTT, and TERRIER have had SQL Server installed and that the servers are registered with the copy of SQL Enterprise Manager that is used to set up replication.</p>
<h5><img src="../../../../images/wedge.gif" border=0>&nbsp;&nbsp;&nbsp;&nbsp;To set up the replication topology example </h5>
<ol>
<li>
On TERRIER, verify that at least 16 MB of memory is assigned to SQL Server.<p>
Start SQL Enterprise Manager; from the Server Manager window, select TERRIER; from the Server menu, choose Configurations; and from the Server Configuration/Options dialog box that appears, select the Configuration tab. Verify that the <i>memory</i> setting is 8192 or greater. If it is not, change it, and then restart the server.
<p>
This computer must have at least 32 MB of memory installed.
</li>
<li>
Install a distribution database on TERRIER.<ul>
<li>
From the Server menu, choose Replication Configuration, and from the drop-down menu that appears, choose Install Publishing. The Install Replication Publishing dialog box appears. By default, the Local option is selected, and the Database Name box has an entry of <i>distribution</i>.<p>
<img src="images/ad14_x01.gif" border=0>
</li>
<li>
Add a device for the distribution database by choosing <b>&lt;new&gt;</b> from the Data Device box and completing the New Device dialog box that appears. Name the device <i>distdata</i> and give it a size of 30 MB.</li>
<li>
Add a device for the distribution database transaction log by choosing <b>&lt;new&gt;</b> from the Log Device box and completing the New Device dialog box that appears. Name the device <i>distlog</i> and give it a size of 15 MB.</li>
<li>
Choose OK. A dialog box asks whether you will configure publication options for this server at this time.<p>
<img src="images/ad14_x02.gif" border=0>
</li>
<li>
 Choose Yes. The Replication-Publishing dialog box appears.</li>
</ul>
</li>
<li>
Set the publishing options for TERRIER.<p>
<img src="images/ad14_x11.gif" border=0>
<ul>
<li>
Under Enable Publishing to These Servers, select the Enable checkboxes for AIREDALE, COLLIE, and MUTT. </li>
<li>
Under Publishing Databases, select the checkbox for <i>pubs</i>. <p>
This does not publish the database but does authorize the database to publish.
</li>
<li>
Choose the OK button.</li>
</ul>
</li>
<li>
Create a database on each subscription server, to be used as the destination databases.<p>
On AIREDALE, create a database named <i>inaire</i>; on COLLIE, create <i>incollie</i>; and on MUTT, create <i>inmutt</i>. For information on using SQL Enterprise Manager to create a database, see Chapter 6, <a href="admn06_4nn7.htm">Managing Databases</a>. 
</li>
<li>
Set the subscription options for each subscriber. For AIREDALE, COLLIE, and MUTT, perform these steps:<ul>
<li>
From the Server Manager window, select the subscription server (for example, AIREDALE); from the Server menu, choose Replication Configuration; and from the drop-down menu that appears, choose Subscribing. The Replication-Subscribing dialog box appears.<p>
<img src="images/ad14_x08.gif" border=0>
</li>
<li>
Under Enable Subscribing from These Servers, select the Enable checkbox for TERRIER.</li>
<li>
Under Subscribing Databases, select the Enable checkbox for the database that will be authorized to be a destination database (for example, <i>inaire</i>).<p>
This does not subscribe the database to any publications, but it does authorize the database to subscribe.
</li>
<li>
Choose OK.</li>
</ul>
<p>
You have finished setting up your example replication topology.
</li>
<li>
To view a graphic depiction of the replication topology that you have set up, from the Server Manager window, choose TERRIER, and then from the toolbar, choose the Replication Topology button.<p>
<img src="images/ad14_x09.gif" border=0>
<p>
The Replication Topology dialog box appears.
<p>
<img src="images/ad14_931.gif" border=0>
</li>
</ol>
<p>
The replication topology you have created will be the basis for most of the subsequent examples in this chapter.</p>
<p>
</p>
<p>&nbsp;</p></body>
</HTML>
