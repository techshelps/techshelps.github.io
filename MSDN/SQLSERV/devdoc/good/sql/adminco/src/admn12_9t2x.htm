<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>About Automatic Recovery</title>
<link disabled rel=stylesheet href=../../../../backsdk3.css>
<style type="text/css">
@import url(../../../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h2><a name="_about_automatic_recovery"></a>About Automatic Recovery</h2>
<p>
Microsoft SQL Server provides two different types of recovery:
<ul>
<li>
<i>Automatic recovery</i> occurs every time SQL Server is restarted. This type of recovery protects your database in the event of system failures. </li>
<li>
<i>User-initiated</i> means you back up the database and its log at regular intervals and then restore the database and its log when necessary. (You can perform the backups, or scheduled them to occur on a one-time or recurring basis.)<p>
Regular backups provide the means of recovering data in case of media failure (as do the disk storage methods¾for example, hardware-based RAID or Windows NT-based mirroring¾discussed in Chapter 7, <a href="admn07_7d83.htm">Managing Drives</a>.) 
</li>
</ul>
<p>
Whenever SQL Server is restarted, recovery is performed automatically on each database. This does the following:
<ul>
<li>
Rolls back uncommitted transactions¾those that were ongoing at the time SQL Server was shut down or when the system failed.</li>
<li>
Checks the transactions that had been committed between the last checkpoint and the failure, and rolls them forward.<p>
(In each database, the automatic recovery mechanism looks at the transaction log. If the log has committed transactions not yet written out to the database, it performs those transactions again. This action is known as <i>rolling forward</i>.)
</li>
</ul>
<p>
Automatic recovery begins with the <i>master</i> database, goes on to <i>model</i>, clears out the <i>tempdb</i> temporary database, recovers <i>msdb</i>, recovers <i>pubs</i>, recovers <i>distribution</i> (if the server is configured as a replication distributor), and, finally, recovers user databases. Users can log in to SQL Server as soon as the system databases have been recovered, but they cannot access a user database while recovery is in progress on it.</p>
<p>
Two configuration options are relevant to automatic recovery:
<ul>
<li>
The <b>recovery flags</b> option, which determines what information SQL Server displays during recovery. </li>
<li>
The <b>recovery interval</b> option, which controls the maximum time required to recover a database by setting the interval at which SQL Server decides whether to run an automatic checkpoint.</li>
</ul>
<p>
These two options are set by using SQL Enterprise Manager or <b>sp_configure</b>. For more information, see Chapter 3, <a href="admn03_20vn.htm">Configuring Servers</a>. </p>
<p>
</p>
<p>
</p>
<p>&nbsp;</p></body>
</HTML>
