<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Loading Transaction Logs</title>
<link disabled rel=stylesheet href=../../../../backsdk3.css>
<style type="text/css">
@import url(../../../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h2><a name="_loading_transaction_logs"></a>Loading Transaction Logs</h2>
<p>
If a situation arises that requires you to recover from database and transaction log dumps, the load procedure needs to be completed in one continuous step. That is, the database should first be loaded, followed by each of the transaction logs, with no activity taking place in between each load. However, users can be actively doing updates in other databases. If any updates take place in the target database before all the logs have been loaded, when the next log load is attempted, SQL Server will raise error 4306, stating:</p>
<pre><code>There was activity on database since last load, unable to load. Must restart load sequence with the load database to continue.</code></pre>
<p>
As the error indicates, you must start back at the beginning by loading the database dump, followed by all the log dumps. For this reason, it is often advisable to start SQL Server in single-user mode when loading a database. In single-user mode, only one user at a time is allowed access to SQL Server, and this should be the person loading the database. </p>
<p>
Alternatively, SQL Server could be started normally, but SQL Enterprise Manager or <b>sp_dboption</b> could be used to turn on the single user option for the database being loaded. This allows users to freely access other databases on the server but allows only one person to access the database being loaded (this should be the person performing the load).</p>
<p>
<b>Caution</b>  Shutting down and restarting SQL Server during a load sequence can lead to error 4306, because the SHUTDOWN statement puts a checkpoint record in each database, and each database is checkpointed when SQL Server is restarted.</p>
<p>
</p>
<p>&nbsp;</p></body>
</HTML>
