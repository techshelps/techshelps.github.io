<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Setting Alert Engine Options</title>
<link disabled rel=stylesheet href=../../../../backsdk3.css>
<style type="text/css">
@import url(../../../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h1><a name="_setting_alert_engine_options"></a>Setting Alert Engine Options</h1>
<p>
By setting the Alert Engines Options, you can designate an operator who will be notified when all pager notifications for an alert fail, specify a server to whose Event (application) log any unhandled SQL Server events will be sent, restrict the events forwarded to those of a specified severity or above, and format the To, CC and Subject lines of pager emails. </p>
<h5><img src="../../../../images/wedge.gif" border=0>&nbsp;&nbsp;&nbsp;&nbsp;To set alert engine options</h5>
<ol>
<li>
From the Server Manager window, select a server, and then from the toolbar choose the Manage Alerts button.<p>
<img src="images/ad17_01.gif" border=0>
<p>
The Manage Alerts window appears.
</li>
<li>
From the Manage Alerts toolbar, choose the Alert Engine Defaults button.<p>
<img src="images/ad17_00.gif" border=0>
<p>
The Alert Engine Options dialog box appears.
<p>
<img src="images/ad18_70.gif" border=0>
</li>
<li>
To set the Pager Fail-Safe Operator, choose the Fail-Safe tab, select an operator from the Operator to Notify list, and then select the notification method (Email or Pager). If the needed operator does not yet exist, choose New Fail-Safe Operator from the list, and complete the New Operator dialog box that appears.<p>
The Pager Fail-Safe Operator is the operator who will be notified when all pager notifications for an alert fail. Reasons for such a failure can include (but are not limited to) incorrect pager addresses, a problem with the mail system, or a "hole" in the pager schedules of the intended page recipients.
<p>
The fail-safe operator can be notified via email or pager (subject to necessary address information being defined for the operator). Emails or pages sent to the fail-safe operator have "(Fail-Safe)" at the beginning of the Subject line, to distinguish them from normal notifications. 
</li>
<li>
To specify a server whose event log will be sent unhandled SQL Server events from this server, from the Fail-Safe window select the server name from the Server To Forward Events To list. If the needed server does not appear in the list (meaning it has not been registered with SQL Enterprise Manager), choose New Forwarding Server from the list, and complete the Register Server dialog box that appears.<p>
The Unhandled SQL Server Event Forwarding Server is a remote server to whose event log any unhandled SQL Server events on the local server (events for which there are no locally defined alerts) will be sent. Once the event is placed in that remote server's Windows NT application log, SQL Executive on that computer can process the events just as if they had been generated by its own local SQL Server.
<p>
For information about using this capability to create a central alert management server, see <a href="admn17_581f.htm">Setting Alerts on Forwarded Events</a>, later in this chapter.
</li>
<li>
To restrict the events that are forwarded to the unhandled SQL Server event forwarding server, from the Fail-Safe tab window select a severity level from the Forward Events for Errors with Severity of or Above list.<p>
Since event forwarding can cause additional network load, you can restrict the events that are forwarded. By specifying a higher severity, fewer events are forwarded (that is, only those events with severity greater than or equal to the indicated severity). A severity of zero (0) causes all SQL Server events to be forwarded.
<p>
For information about severity levels, see Part 8, <a href="adpt_08_8fco.htm">Troubleshooting</a>. 
</li>
<li>
To create the template that will be used for the To, CC, and Subject lines of a pager email, select the Pager Email tab, and complete the Page Email window. <p>
<img src="images/ad18_71.gif" border=0>
<p>
Enter prefixes and suffixes as required. For the To and CC lines, select the Pager-Address option if an operator's actual pager address should be inserted after the prefix and before the suffix. When a message is constructed, the prefix is prepended to the Pager Address, and the suffix is appended. If a Pager Address option is not selected, the prefix and suffix (if one is provided) are simply combined. 
<p>
These entries allow you accomplish special addressing by creating a template that will be used for the To, CC, and Subject lines of a pager email. Special addressing of the pager email may be required in order to integrate with a pager service provider's email system.
<p>
For more information, see the example that follows this procedure.
</li>
<li>
To prevent the notification for a single alert from being split over multiple pages, select the option Include Body of Email in Notification Page. <p>
A notification page is an alert notification sent via pager or via email. A notification (for both page and email) consists of lines of text. For pager notifications (that is, a notification page) where hardware character buffers are at a premium, it is desirable to limit the amount of text sent. When this option in cleared, only the subject line is sent (and therefore there is much less text in the notification page).
<p>
This option is usually used with low-capacity alphanumeric paging systems (for example, those limited to 64 characters per page).
</li>
<li>
Choose OK.<p>
The Alert Engine Options are set.
</li>
</ol>
<p>
While setting the Pager Email options in step 6, you might enter these values, for example:</p>
<table cellspacing=4 cols=4>
<tr valign=top>
<th align=left width=22%></th>
<th align=left width=26%></th>
<th align=left width=26%></th>
<th align=left width=26%></th>
</tr>
<tr valign=top>
<th align=left width=22%></th>
<th align=left width=26%></th>
<th align=left width=26%></th>
<th align=left width=26%></th>
</tr>
<tr valign=top>
<th align=left width=22%>Line</th>
<th align=left width=26%>Prefix</th>
<th align=left width=26%>Pager Address</th>
<th align=left width=26%>Suffix</th>
</tr>
<tr valign=top>
<td width=22%></td>
<td width=26%></td>
<td width=26%></td>
<td width=26%></td>
</tr>
<tr valign=top>
<td width=22%>To</td>
<td width=26%>@PGR:</td>
<td width=26%>X</td>
<td width=26%></td>
</tr>
<tr valign=top>
<td width=22%>CC</td>
<td width=26%>MISPager</td>
<td width=26%></td>
<td width=26%></td>
</tr>
<tr valign=top>
<td width=22%>Subject</td>
<td width=26%></td>
<td width=26%></td>
<td width=26%></td>
</tr>
</table><br>
<p>
This template would be constructed as follows:</p>
<table cellspacing=4 cols=2>
<tr valign=top>
<th align=left width=22%></th>
<th align=left width=78%></th>
</tr>
<tr valign=top>
<th align=left width=22%></th>
<th align=left width=78%></th>
</tr>
<tr valign=top>
<th align=left width=22%>Line</th>
<th align=left width=78%>Template</th>
</tr>
<tr valign=top>
<td width=22%></td>
<td width=78%></td>
</tr>
<tr valign=top>
<td width=22%>To</td>
<td width=78%>@PGR:&lt;<i>Pager Email Address</i>&gt;</td>
</tr>
<tr valign=top>
<td width=22%>CC</td>
<td width=78%>MISPager</td>
</tr>
<tr valign=top>
<td width=22%>Subject</td>
<td width=78%></td>
</tr>
</table><br>
<p>
When an alert occurs and is sent to an operator with the pager address of <b>johnd</b>, the To, CC, and Subject lines of the email could be constructed as follows:</p>
<table cellspacing=4 cols=2>
<tr valign=top>
<th align=left width=22%></th>
<th align=left width=78%></th>
</tr>
<tr valign=top>
<th align=left width=22%></th>
<th align=left width=78%></th>
</tr>
<tr valign=top>
<th align=left width=22%>Line</th>
<th align=left width=78%>Entry</th>
</tr>
<tr valign=top>
<td width=22%></td>
<td width=78%></td>
</tr>
<tr valign=top>
<td width=22%>To</td>
<td width=78%>@PGR:johnd</td>
</tr>
<tr valign=top>
<td width=22%>CC</td>
<td width=78%>MISPager</td>
</tr>
<tr valign=top>
<td width=22%>Subject</td>
<td width=78%>SQL Server Alert System: 'My Alert' occurred on \\MYCOMPUTER</td>
</tr>
</table><br>
<p>
In this example, the Subject line was system-generated. If you had entered a Subject prefix in the template, those characters would have be prepended to the system-generated Subject line. If you had entered a Subject suffix in the template, those characters would have been appended to the system-generated Subject line. </p>
<p>
</p>
<p>&nbsp;</p></body>
</HTML>
