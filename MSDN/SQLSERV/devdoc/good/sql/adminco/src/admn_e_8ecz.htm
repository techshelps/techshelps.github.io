<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Effect of "trunc. log on chkpt." on Transaction Logs</title>
<link disabled rel=stylesheet href=../../../../backsdk3.css>
<style type="text/css">
@import url(../../../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h2><a name="_effect_of_.93.trunc.._log_on_chkpt...94_.on_transaction_logs"></a>Effect of "trunc. log on chkpt." on Transaction Logs</h2>
<p>
Two database options have an important effect on transaction logs:<b> trunc. log on chkpt. </b>and <b>select into/bulkcopy</b>. The <b>trunc. log on chkpt.</b> option automatically performs a DUMP TRANSACTION &lt;database&gt; WITH TRUNCATE_ONLY statement every time the SQL Server checkpoint handler wakes up (which depends on the value for the <b>recovery interval</b> configuration option). Setting this option for a database is useful primarily in a development environment when backups of the transaction log are not wanted. However, whether this option is set, you can rely only on recovering from your database dumps, not from your log dumps. When this option is set, SQL Server prohibits a transaction log dump to a physical dump device—attempting to do so will yield SQL Server error 4208, stating:</p>
<pre><code>DUMP TRANsaction is not allowed while the trunc. log on chkpt. option is enabled: use DUMP DATABASE, or disable the option with sp_dboption.</code></pre>
<p>
For databases that do not have the log on a separate device, there is no harm in having the <b>trunc. log on chkpt. </b>option set. If the log is located on the same device as the data, SQL Server disallows the dumping of the transaction log to a physical device (only DUMP DATABASE is allowed for backing them up), so sequencing of the transaction log is not an issue.</p>
<p>
</p>
<p>&nbsp;</p></body>
</HTML>
