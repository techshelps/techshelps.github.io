<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>About Database Loads</title>
<link disabled rel=stylesheet href=../../../../backsdk3.css>
<style type="text/css">
@import url(../../../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h3><a name="_about_database_loads"></a>About Database Loads</h3>
<p>
When SQL Server loads a database, it rolls back any uncommitted transactions that were active at the moment the dump began. When the load is complete, the database is in the same state it was in when the DUMP statement was executed, minus any transactions that were active at that point.</p>
<p>
Once the data from the dump has been reloaded, SQL Server reinitializes any remaining unused pages. For example, if a 100-MB database contains only 5 MB of data, all 100 MB of space is still rewritten. A database load command takes at least as long as the CREATE DATABASE statement that created the database.</p>
<p>
Loading a database locks it so that it cannot be modified while recovery is in progress. Users can, however, access and modify other databases on SQL Server during this time.</p>
<p>
If a failure occurs while a database is being loaded, SQL Server notifies the SA but does not recover the partially loaded database. The database load must be restarted.</p>
<p>
The destination database must have at least as much storage space as was allocated to the dumped database. The actual amount of data in the dumped database is irrelevant. To get information about allocated storage space, use SQL Enterprise Manager or the DBCC CHECKALLOC statement.</p>
<p>
After a media failure, restart SQL Server in the usual way. If SQL Server cannot access (USE) a database, it marks the database as suspect, locks it, and displays a warning message. A damaged database must be dropped, which can be done using SQL Enterprise Manager, the DROP DATABASE statement, DBCC DBREPAIR (<i>db_name</i>, DROPDB), or <b>sp_dbremove</b>. </p>
<p>
After the database is dropped, it must be re-created. After it is re-created, the SA or database owner can load the most recent database dump (plus any transaction log dumps) using SQL Enterprise Manager or the LOAD DATABASE statement. (The <i>master</i> database is restored using a special procedure. For information, see <a href="admn12_5w6d.htm">Restoring the master Database</a>, later in this chapter.)</p>
<p>
To learn how to load databases, see <a href="admn12_3b8n.htm">Restoring a Database or Applying a Transaction Log</a>, earlier in this chapter.</p>
<p>
</p>
<p>
</p>
<p>&nbsp;</p></body>
</HTML>
