<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Error 2514</title>
<link disabled rel=stylesheet href=../../../../backsdk3.css>
<style type="text/css">
@import url(../../../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h1><a name="_error_2514"></a>Error 2514</h1>
<h4>Severity Level 16 </h4>
<h4>Message Text</h4>
<pre>Table Corrupt: Type id %ld (type name = %.*s) do not match between %.*s and %.*s
</pre>
<h4>Explanation</h4>
<p>
This error occurs when there is a type mismatch between the <i>systypes</i> and the <i>syscolumns</i> system tables. The DBCC CHECKCATALOG statement incorrectly reports type mismatches between <i>systypes</i> and <i>syscolumns</i> using error 2514. It is supposed to report that the <i>usertype</i> column in <i>syscolumns</i> isn't consistent with the <i>usertype</i> column in <i>systypes</i>, but it doesn't print out the offending datatype correctly. Error 2514 often prints out a <i>usertype</i> value that seems out of place (typically 0 or a large number). Usually, the <i>usertype</i> column is either 0 or a number that doesn't appear in <i>systypes</i>. </p>
<h4>Action</h4>
<p>
The following example demonstrates how to find and correct this problem in most circumstances. If your particular example does not match this one, call your primary support provider. 
<ol>
<li>
Display the offending rows by executing the following query in the problem database:<pre>select name, type, usertype
from syscolumns
where usertype not in
(select usertype from systypes)</pre>
</li>
</ol>
<table cellspacing=4 cols=3>
<tr valign=top>
<td width=57%><pre>name</pre>
</td>
<td width=16%><pre>type</pre>
</td>
<td width=27%><pre>usertype</pre>
</td>
</tr>
<tr valign=top>
<td width=57%><pre>-----------------------</pre>
</td>
<td width=16%><pre>----</pre>
</td>
<td width=27%><pre>--------</pre>
</td>
</tr>
<tr valign=top>
<td width=57%><pre>BugId</pre>
</td>
<td width=16%><pre>56</pre>
</td>
<td width=27%><pre>0</pre>
</td>
</tr>
<tr valign=top>
<td width=57%><pre>Description</pre>
</td>
<td width=16%><pre>39</pre>
</td>
<td width=27%><pre>175</pre>
</td>
</tr>
</table><br>
<ol start=2>
<li>
Examine <i>systypes</i>:<pre>select name, type, usertype from systypes</pre>
</li>
</ol>
<table cellspacing=4 cols=3>
<tr valign=top>
<td width=57%><pre>name</pre>
</td>
<td width=20%><pre>type</pre>
</td>
<td width=23%><pre>usertype</pre>
</td>
</tr>
<tr valign=top>
<td width=57%><pre>-----------------------</pre>
</td>
<td width=20%><pre>----</pre>
</td>
<td width=23%><pre>--------</pre>
</td>
</tr>
<tr valign=top>
<td width=57%><pre>binary</pre>
</td>
<td width=20%><pre>45</pre>
</td>
<td width=23%><pre>3</pre>
</td>
</tr>
<tr valign=top>
<td width=57%><pre>bit</pre>
</td>
<td width=20%><pre>50</pre>
</td>
<td width=23%><pre>16</pre>
</td>
</tr>
<tr valign=top>
<td width=57%><pre>char</pre>
</td>
<td width=20%><pre>47</pre>
</td>
<td width=23%><pre>1</pre>
</td>
</tr>
<tr valign=top>
<td width=57%><pre>datetime</pre>
</td>
<td width=20%><pre>61</pre>
</td>
<td width=23%><pre>12</pre>
</td>
</tr>
<tr valign=top>
<td width=57%><pre>datetimn</pre>
</td>
<td width=20%><pre>111</pre>
</td>
<td width=23%><pre>15</pre>
</td>
</tr>
<tr valign=top>
<td width=57%><pre>float</pre>
</td>
<td width=20%><pre>62</pre>
</td>
<td width=23%><pre>8</pre>
</td>
</tr>
<tr valign=top>
<td width=57%><pre>floatn</pre>
</td>
<td width=20%><pre>109</pre>
</td>
<td width=23%><pre>14</pre>
</td>
</tr>
<tr valign=top>
<td width=57%><pre>image</pre>
</td>
<td width=20%><pre>34</pre>
</td>
<td width=23%><pre>20</pre>
</td>
</tr>
<tr valign=top>
<td width=57%><pre>int</pre>
</td>
<td width=20%><pre>56</pre>
</td>
<td width=23%><pre>7</pre>
</td>
</tr>
<tr valign=top>
<td width=57%><pre>intn</pre>
</td>
<td width=20%><pre>38</pre>
</td>
<td width=23%><pre>13</pre>
</td>
</tr>
<tr valign=top>
<td width=57%><pre>money</pre>
</td>
<td width=20%><pre>60</pre>
</td>
<td width=23%><pre>11</pre>
</td>
</tr>
<tr valign=top>
<td width=57%><pre>moneyn</pre>
</td>
<td width=20%><pre>110</pre>
</td>
<td width=23%><pre>17</pre>
</td>
</tr>
<tr valign=top>
<td width=57%><pre>smallint</pre>
</td>
<td width=20%><pre>52</pre>
</td>
<td width=23%><pre>6</pre>
</td>
</tr>
<tr valign=top>
<td width=57%><pre>sysname</pre>
</td>
<td width=20%><pre>39</pre>
</td>
<td width=23%><pre>18</pre>
</td>
</tr>
<tr valign=top>
<td width=57%><pre>text</pre>
</td>
<td width=20%><pre>35</pre>
</td>
<td width=23%><pre>19</pre>
</td>
</tr>
<tr valign=top>
<td width=57%><pre>timestamp</pre>
</td>
<td width=20%><pre>37</pre>
</td>
<td width=23%><pre>80</pre>
</td>
</tr>
<tr valign=top>
<td width=57%><pre>tinyint</pre>
</td>
<td width=20%><pre>48</pre>
</td>
<td width=23%><pre>5</pre>
</td>
</tr>
<tr valign=top>
<td width=57%><pre>varbinary</pre>
</td>
<td width=20%><pre>37</pre>
</td>
<td width=23%><pre>4</pre>
</td>
</tr>
<tr valign=top>
<td width=57%><pre>varchar</pre>
</td>
<td width=20%><pre>39</pre>
</td>
<td width=23%><pre>2</pre>
</td>
</tr>
</table><br>
<p class=indent1>
Match the <i>type</i> in step 1 to the <i>type</i> in step 2 to determine what the <i>usertype</i> in <i>syscolumns</i> should be. For example, the <i>type</i> for BugId is 56. Matching the <i>type</i> from the first query with the row from the second query, where <i>type</i> is 56, shows that the <i>usertype</i> should be 7. </p>
<p class=indent1>
If more than one row in <i>systypes</i> contains a matching value for <i>type </i>in <i>syscolumns</i>, choose the corresponding <i>usertype</i> from <i>systypes</i> that has the lowest value. In this example, two rows in <i>systypes</i> have a <i>type</i> of 39, corresponding to <i>usertype</i>s 18 and 2. Therefore, 2 should be the new value for <i>usertype</i> in <i>syscolumns</i>.</p>
<ol start=3>
<li>
For each mismatch, update the corresponding row in <i>syscolumns</i>, as follows:<ul>
<li>
Enable updates to system tables:<pre>sp_configure 'allow updates', 1
go

reconfigure with override 
go
</pre>
</li>
<li>
Update the <i>type</i> column in <i>syscolumns</i> for each <i>type</i> where there is an error. For example:<pre>begin tran 
go

update syscolumns set usertype = 7 
where type = 56 
and name = 'BugId' 
and usertype = 0 
go
</pre>
</li>
<li>
Check your results carefully and commit the transaction only if the update affects only one row. If it affects more than one row, roll back the transaction. To commit the transaction, use the following:<pre>commit tran 
go
</pre>
</li>
<li>
Perform updates for any other rows, substituting the required values for <i>usertype</i>, <i>type</i>, and <i>name</i> shown above. Always check that the update affects only one row. </li>
<li>
When you have updated all offending rows, disable updates to system tables:<pre>sp_configure 'allow updates', 0 
go

reconfigure with override
go

checkpoint
go
</pre>
</li>
</ul>
</li>
</ol>
<p>
</p>
<p>&nbsp;</p></body>
</HTML>
