<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Replicating a Partitioned Table</title>
<link disabled rel=stylesheet href=../../../../backsdk3.css>
<style type="text/css">
@import url(../../../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h2><a name="_replicating_a_partitioned_table"></a>Replicating a Partitioned Table</h2>
<p>
If appropriate for your requirements, you can publish only a subset of the data from a table. You can create an article that:
<ul>
<li>
Replicates only selected columns of the base table. Subscription servers receive only that vertically partitioned subset of the data. The replicated columns must include the declared primary key column.</li>
<li>
Replicates only selected rows of the base table. Subscription servers receive only that horizontally partitioned subset of the data. The following illustration shows the replication of a horizontally partitioned table.</li>
</ul>
<p>
Of course, an article can be simultaneously partitioned both vertically and horizontally<i>.</i></p>
<p>
In this example we publish a table and partition its article both vertically and horizontally. The server TERRIER publishes the <i>pubs</i>..<i>employee</i> table. It is vertically partitioned so that only the <i>emp_id</i> (primary key), <i>fname</i>, and <i>lname</i> columns are replicated. It is partitioned horizontally on the <i>job_lvl</i> value so that only rows for employees with a job level greater than 99 will be replicated. The server AIREDALE subscribes to this article.</p>
<p>
<img src="images/repl_18p.gif" border=0></p>
<h5><img src="../../../../images/wedge.gif" border=0>&nbsp;&nbsp;&nbsp;&nbsp;To replicate a partitioned table</h5>
<ol>
<li>
Publish the <i>pubs..employee</i> table.<p>
<img src="images/publish.gif" border=0>
<ul>
<li>
From the Server Manager window, select TERRIER, and then from the toolbar, choose the Manage Publications button. The Manage Publications dialog box appears.</li>
<li>
Select the <i>pubs</i> database, and then choose the New button. The Edit Publications dialog box appears.</li>
<li>
In the Publication Title box, type:<pre>filterpub
</pre>
</li>
<li>
In the Description box, type:<pre>Publishing a horizontally and vertically filtered table.
</pre>
</li>
<li>
From the Database Tables list, select the <i>employee</i> tables, and then choose the adjacent Add button. The table is added to the Articles in Publication column.</li>
</ul>
</li>
<li>
Set up vertical and horizontal partitions.<ul>
<li>
Choose the Edit button. The Manage Article dialog box appears, with the Filter tab selected.</li>
<li>
Partition the table vertically by clearing the Replicate check boxes for all the columns that will not be replicated. In this example, only the check boxes for <i>emp_id</i>, <i>fname</i>, and <i>lname</i> should remain selected.<p>
Note that the primary key column (in this case, <i>emp_id</i>) must be replicated.
</li>
<li>
Partition the table horizontally by typing this in the Restriction Clause box:<pre>job_lvl &gt; 99
</pre>
</li>
<li>
Choose OK. The Edit Publications dialog box returns.</li>
<li>
Choose Add. The Manage Publications dialog box returns.</li>
<li>
Choose Close.</li>
</ul>
</li>
<li>
Subscribe AIREDALE to the <i>filterpub</i> publication from TERRIER.<p>
<img src="images/subscrib.gif" border=0>
<ul>
<li>
From the Server Manager window, choose AIREDALE, and then from the toolbar, choose the Manage Subscriptions button. The Manage Subscriptions dialog box appears.</li>
<li>
Open the published database tree for TERRIER (choose the "" box next to the server name), and then open the publications list for the <i>pubs</i> database (choose the "" box next to the database).</li>
<li>
Select the <i>filterpub</i> publication, and then choose Subscribe. The Subscription Options dialog box appears.</li>
<li>
From the list in the Destination Database box, select the <i>inaire</i> database.</li>
<li>
Choose OK. The Manage Subscription dialog box returns.</li>
<li>
Choose Close.</li>
</ul>
</li>
</ol>
<p>
This replication example is now set up. If the default synchronization setting for the publication <i>filterpub</i> was not changed, synchronization will occur within five minutes. Synchronization will copy the schema and data from the published tables to the destination database. After that, replication of changes to table data will occur as changes are made.</p>
<p>
Only the specified columns and rows will be synchronized and replicated.</p>
<p>
</p>
<p>&nbsp;</p></body>
</HTML>
