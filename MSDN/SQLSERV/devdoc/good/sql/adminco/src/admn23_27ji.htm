<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>AND EXISTS : nested iteration</title>
<link disabled rel=stylesheet href=../../../../backsdk3.css>
<style type="text/css">
@import url(../../../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h2><a name="_and_exists_.3a_.nested_iteration"></a>AND EXISTS : nested iteration</h2>
<p>
This SHOWPLAN step indicates either a nested iteration on a subquery that is part of an existence test in a query, or a nested iteration on a correlated scalar subquery involving an aggregate, or a nested iteration on the plan for evaluating OR clauses involving subqueries. The plan for the subquery or the OR clause will immediately follow this step and is indented to isolate the steps for the subquery, or the steps for the OR clause, from the steps for the outer query.</p>
<p>
The following example demonstrates the SHOWPLAN output for an AND EXISTS nested iteration on a subquery that is part of an existence test:</p>
<h4>Query:</h4>
<pre>SELECT title
FROM titles
WHERE EXISTS
(SELECT *
FROM publishers p, titles t
WHERE t.pub_id = p.pub_id
AND p.pub_name = 'Algodata Infosystems'
AND titles.advance &gt; t.advance)
AND pub_id NOT IN
(SELECT pub_id
FROM publishers
WHERE city  LIKE 'B%')</pre>
<h4>SHOWPLAN:</h4>
<pre>STEP 1
The type of query is SELECT
FROM TABLE
titles
Nested iteration
Table Scan
AND EXISTS : nested iteration
FROM TABLE
publishers p
EXISTS TABLE : nested iteration
Table Scan
FROM TABLE
titles t
EXISTS TABLE : nested iteration
Table Scan
AND NOT EXISTS : nested iteration
FROM TABLE
publishers
EXISTS TABLE : nested iteration
Table Scan</pre>
<p>
The following example demonstrates the SHOWPLAN output for an AND EXISTS nested iteration on a subquery involving aggregates:</p>
<h4>Query:</h4>
<pre>SELECT ord_num, title_id, qty
FROM sales s1
WHERE qty &lt;
(SELECT avg(qty)
FROM sales s2
WHERE s2.title_id = s1.title_id)</pre>
<h4>SHOWPLAN:</h4>
<pre>STEP 1
The type of query is SELECT
FROM TABLE
sales s1
Nested iteration
Table Scan
AND EXISTS : nested iteration
FROM TABLE
Worktable 1
SUBQUERY : nested iteration
GROUP BY
Vector Aggregate
FROM TABLE
sales s2
Nested iteration
Table Scan
TO TABLE
Worktable 1
</pre>
<p>
The following example demonstrates the SHOWPLAN output for an AND EXISTS nested iteration on a plan for evaluating an OR clause involving subqueries:</p>
<h4>Query:</h4>
<pre>SELECT au_lname, au_fname
FROM authors
WHERE    EXISTS
(SELECT *
FROM publishers
WHERE authors.city = publishers.city)
OR NOT EXISTS
(SELECT *
FROM publishers
WHERE authors.city = publishers.city)
</pre>
<h4>SHOWPLAN:</h4>
<pre>STEP 1
The type of query is SELECT
FROM TABLE
authors
Nested iteration
Table Scan
AND EXISTS : nested iteration
OR EXISTS : nested iteration
FROM TABLE
publishers
EXISTS TABLE : nested iteration
Table Scan
OR NOT EXISTS : nested iteration
FROM TABLE
publishers
EXISTS TABLE : nested iteration
Table Scan</pre>
<p>
</p>
<p>&nbsp;</p></body>
</HTML>
