<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Acknowledging a Manual Synchronization</title>
<link disabled rel=stylesheet href=../../../../backsdk3.css>
<style type="text/css">
@import url(../../../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h2><a name="_acknowledging_a_manual_synchronization"></a>Acknowledging a Manual Synchronization</h2>
<p>
Before a subscription server can receive replicated transactions from an article or a publication, the publication and destination tables must contain the same schema and data. The process of accomplishing this is called initial synchronization. Synchronization ensures that the table schema and the table data in the publication and destination databases are made identical. Synchronization affects new subscribers only.</p>
<p>
Replication allows updates to be applied to a subscriber only after the subscriber is synchronized (has a current snapshot of the table schema and data). </p>
<p>
If you choose the automatic synchronization option for a subscription, synchronization will occur automatically, and you do not need to take any special action. However, if you choose the manual synchronization option for a subscription, before replication can begin for that subscription, you must manually synchronize the published tables on the publication server with the destination tables in the destination database on the subscription server. </p>
<p>
Manual synchronization might be accomplished, for example, by loading files from a tape that has been mailed to a remote server location. Manual synchronization is particularly useful when the publication and subscription servers are connected by a slow, expensive, or low-quality network connection or when a table being published is very large.</p>
<p>
SQL Server automatically creates synchronization files and places them in the publication server's distribution working directory. There are two files for each synchronization job for each published article: a schema script (an .SCH file) and a data file (a .TMP file). </p>
<p>
You can determine the name and location of the schema synchronization file for an article by opening the Manage Article dialog box for that article, choosing the Scripts tab, and reading the entry in the Creation Script box. This box contains the full path to the schema script in the distribution working directory. For information about accessing the Manage Article dialog box, see  <a href="admn14_3vjb.htm">Publishing</a>, earlier in this chapter.</p>
<p>
For example, suppose the server TERRIER is a combined publisher/distributor; has its distribution working directory set to C:\SQL60\REPLDATA; and has a publication database named <i>sales</i>, a publication named <i>receipts</i>, and a published table named <i>charges</i>. Then the following could be displayed for the article in the Creation Script box of the Manage Article dialog box:</p>
<pre>\\TERRIER\C$\SQL60\REPLDATA\terrier_sales_receipts_charges.sch</pre>
<p>
To determine the name of the synchronization data file, you can view the task history for the sync task. This history gives the exact .TMP filename created. (Also, when a destination database is waiting on a manual synchronization, the full name and path of the .TMP file will be contained in the description column of the <i>MSlast_job_info</i> table in the destination database of the subscriber. The article and publication names are also contained in that table.) For information on viewing task history, see Chapter 16, <a href="admn16_5oab.htm">Scheduling Tasks</a>. </p>
<p>
After you have created a table on the destination server with the schema from the creation script and have populated it with the data from the data file, you must inform SQL Server that the manual synchronization is complete.</p>
<p>
Note that when a destination database is waiting on a manual synchronization, it cannot receive any updates to any of the other publications it is subscribed to (not just the publication that is waiting for a manual synchronization). </p>
<h5><img src="../../../../images/wedge.gif" border=0>&nbsp;&nbsp;&nbsp;&nbsp;To acknowledge completion of a manual synchronization</h5>
<ol>
<li>
From the Server Manager window, select the subscription server, and then from the toolbar, choose the Manage Subscriptions button.<p>
<img src="images/subscrib.gif" border=0>
<p>
The Manage Subscriptions dialog box appears. 
<p>
<img src="images/ad14_924.gif" border=0>
</li>
<li>
Open the published database tree for a publication server (choose the server's "" box), and then select a database and open its publication tree (choose the publication's "" box).<p>
A list of that database's publications appears. 
</li>
<li>
Select a publication, open the article tree for a publication (choose the publication's "" box), and then select an article.</li>
<li>
Choose Sync Completed.<p>
A confirmation dialog box appears. If the distribution process is waiting for the manual synchronization of this article, the Sync Completed button is enabled. If not, it is dimmed.
</li>
<li>
Choose Yes.<p>
SQL Server has been informed that the subscription server's destination database is synchronized with the publication or article(s). The replication processes are now allowed to send replication transactions (changes to data in the synchronized articles) to the destination database.
</li>
</ol>
<p>
For more information about manual synchronization, see Chapter 13, <a href="admn13_378z.htm">Replication Concepts</a>. </p>
<p>
</p>
<p>&nbsp;</p></body>
</HTML>
