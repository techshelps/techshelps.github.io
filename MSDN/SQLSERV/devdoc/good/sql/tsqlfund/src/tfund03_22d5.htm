<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Ensuring Data Integrity</title>
<link disabled rel=stylesheet href=../../../../backsdk3.css>
<style type="text/css">
@import url(../../../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h2><a name="_ensuring_data_integrity"></a>Ensuring Data Integrity</h2>
<p>
To ensure the integrity of a database, you can restrict the data entered into the tables of the database. For example, you can require integer data in one column of a table and character data in another. To restrict the data entered, you can use system datatypes, user-defined datatypes, constraints, defaults, or the IDENTITY property.</p>
<p>
For details on system and user-defined datatypes, see <a href="tfund02_4yer.htm">Working with Tables</a>, and the <a href="../../tsqlref/src/tsql06_2oxi.htm">Datatypes</a> topic in the <i>Microsoft SQL Server Transact-SQL Reference</i>.</p>
<p>
For details on constraints and defaults, see the <a href="../../tsqlref/src/tsql04_5iwk.htm">CREATE TABLE</a> and <a href="../../tsqlref/src/tsql01_7qt0.htm">ALTER TABLE</a> statements in the <i>Microsoft SQL Server Transact-SQL Reference</i>.</p>
<p>
For details on the IDENTITY property, see the <a href="../../tsqlref/src/tsql04_5iwk.htm">CREATE TABLE statement</a> in the <i>Microsoft SQL Server Transact-SQL Reference</i>.</p>
<p>
Keeping data consistent in a database is important. If you change data in one table without changing related data in other tables, problems can develop. For example, if you discover in the <i>pubs</i> sample database that the <i>au_id</i> entry for Sylvia Panteley is incorrect and change it in the <i>authors</i> table, you must also change it in the <i>titleauthor</i> table (and in any other table in the database with a column containing that value). If you don't, you'll never be able to find information about Sylvia Panteley.</p>
<p>
Keeping data modifications consistent throughout a database enforces referential integrity. This means that the integrity of cross-table references is maintained. You can maintain referential integrity by using constraints (see <a href="tfund02_4yer.htm">Working with Tables</a>). Another way is to create and use stored procedures called triggers (see <a href="tfund06_21fa.htm">Using Stored Procedures and Triggers</a>). </p>
<p>
When you change data in a database, a copy of the old and new state of each row affected by data modification statements (except UPDATETEXT and WRITETEXT) is written to the transaction log. This means that if you begin a transaction by executing a BEGIN TRANSACTION statement, and then decide not to permanently make the change and so roll back the transaction, the data can be restored to its previous condition.</p>
<p>
The default mode of operation for UPDATETEXT and WRITETEXT does not log the transactions. This avoids filling up the transaction log with the extremely long blocks of data that text and image columns can contain. To log changes made with these statements, you must use the WITH LOG option.</p>
<p>
<b>Note</b>  Changes made on a remote SQL Server (one that the user is not directly connected to) by means of a remote procedure cannot be rolled back.</p>
<p>
</p>
<p>&nbsp;</p></body>
</HTML>
