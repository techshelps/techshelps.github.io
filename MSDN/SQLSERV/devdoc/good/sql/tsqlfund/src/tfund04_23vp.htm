<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Using EXISTS and NOT EXISTS to Find Intersection and Difference</title>
<link disabled rel=stylesheet href=../../../../backsdk3.css>
<style type="text/css">
@import url(../../../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h2><a name="_using_exists_and_not_exists_to_find_intersection_and.a0.difference"></a>Using EXISTS and NOT EXISTS to Find Intersection and Difference</h2>
<p>
Subqueries introduced with EXISTS and NOT EXISTS can be used for two set theory operations: <i>intersection</i> and <i>difference</i>. The intersection of two sets contains all elements that belong to both of the original sets. The difference contains elements that belong only to the first of the two sets.</p>
<p>
The intersection of <i>authors</i> and <i>publishers</i> over the <i>city</i> column is the set of cities in which both an author and a publisher are located:</p>
<pre>SELECT DISTINCT city
FROM authors
WHERE EXISTS
    (SELECT *
    FROM publishers
    WHERE authors.city = publishers.city)

city
--------
Berkeley

(1 row(s) affected)
</pre>
<p>
This query is included for illustrative purposes. Of course, this query could be written as a simple join:</p>
<pre>SELECT DISTINCT authors.city
FROM authors, publishers
WHERE authors.city = publishers.city
</pre>
<p>
The difference between <i>authors</i> and <i>publishers</i> over the <i>city</i> column is the set of cities where an author lives but no publisher is located ¾ that is, all the cities except Berkeley:</p>
<pre>SELECT DISTINCT city
FROM authors
WHERE not exists
    (SELECT *
    FROM publishers
    WHERE authors.city = publishers.city)
</pre>
<p>
This query could also be written as:</p>
<pre>SELECT DISTINCT city
FROM authors
WHERE city NOT IN
SELECT city FROM publishers
</pre>
<p>
</p>
<p>&nbsp;</p></body>
</HTML>
