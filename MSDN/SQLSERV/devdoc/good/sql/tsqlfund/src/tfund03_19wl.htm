<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>DELETE Example</title>
<link disabled rel=stylesheet href=../../../../backsdk3.css>
<style type="text/css">
@import url(../../../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h3><a name="delete_example"></a>DELETE Example</h3>
<p>
Suppose that a complex corporate deal results in the acquisition of all the Bay City (formerly Oakland) authors and their books by another publisher. You need to remove all these books from the <i>titles</i> table right away, but you don't know their titles or identification numbers. The only information you have is the authors' names and addresses.</p>
<p>
You can delete the rows in the <i>titles</i> table by finding the author identification numbers for the rows that have San Francisco as the city in the <i>authors</i> table, and then using these numbers to find the title identification numbers of the books in the <i>titleauthor</i> table. In other words, a three-way join is required to find the rows you want to delete in the <i>titles</i> table.</p>
<p>
The three tables are all included in the FROM clause of the DELETE statement. However, only the rows in the <i>titles</i> table that fulfill the conditions of the WHERE clause are deleted. You must perform separate deletes to remove relevant rows in tables other than <i>titles</i>.</p>
<p>
Here's the statement you need:</p>
<pre>DELETE titles
FROM authors, titles, titleauthor
WHERE titles.title_id = titleauthor.title_id
    AND authors.au_id = titleauthor.au_id
    AND city = 'San Francisco'
</pre>
<p>
<b>Note</b>  The primary key/foreign key relationship between <i>titleauthor</i> and <i>authors</i>/<i>titles</i> in the <i>pubs</i> database prevents you from actually performing this deletion because the foreign key won't allow you to delete any titles that have sales recorded in the <i>sales</i> table. To run this example, the referenced sales data must first be deleted.</p>
<p>
For details, see the <a href="../../tsqlref/src/tsql07_4c1g.htm">DELETE statement</a> in the <i>Microsoft SQL Server Transact-SQL Reference</i>.</p>
<p>
</p>
<p>&nbsp;</p></body>
</HTML>
