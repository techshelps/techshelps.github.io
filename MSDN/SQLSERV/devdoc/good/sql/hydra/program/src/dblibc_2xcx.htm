<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Programming DB-Library for C Errata</title>
<link disabled rel=stylesheet href=../../../../../backsdk3.css>
<style type="text/css">
@import url(../../../../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h1><a name="_programming_db_library_for_c_errata"></a><i>Programming DB-Library for C</i> Errata</h1>
<p>
The following changes should be made to <i>Microsoft SQL Server Programming DB-Library for C</i> for Microsoft SQL Server 6.0.
<ul>
<li>
All references to Chapter 9, "Microsoft SQL Server Cursors" should be removed.</li>
<li>
On page 116, in Chapter 4, "Core Functions," the <b>dbfreequal </b>function should be documented in Chapter 8, "Browse Functions."</li>
<li>
On page 124, the reference should indicate that you can call <b>dbgetuserdata</b> when <b>dbdead</b> returns TRUE.</li>
<li>
On page 133, the if statements in the programming example for the <b>dbmsghandle</b> function should be changed.<p>
The following example correctly shows a typical message-handling function:
<pre>#include    &lt;sqlfront.h&gt;
#include    &lt;sqldb.h&gt;

int msg_handler(dbproc, msgno, msgstate, severity, msgtext,
    srvname, procname, line)
DBPROCESS    *dbproc;
DBINT        msgno;
int            msgstate;
int            severity;
char            *msgtext;
char            *srvname;
char            *procname;
DBUSMALLINT    line;

{
    printf("SQL Server message %ld, state %d, "
        "severity %d:\n\t%s\n", msgno, msgstate, severity, msgtext);
if (strlen(srvname) != 0)
        printf ("Server '%s', ", srvname);
    if (strlen(procname) != 0)
        printf ("Procedure '%s', ", procname);
    if (line != 0)
        printf ("Line %d", line);

    return(0);
}
</pre>
</li>
<li>
On page 173, in "<b>dbsetmaxprocs</b>," it should be noted that the number of platform-dependent connections for Windows NT and Windows 95 is limited by the amount of available memory.</li>
<li>
On page 192, in "<b>dbwinexit</b> (Windows only)", it should be noted that <b>dbwinexit</b> does not close any connections. Use <b>dbclose</b> or <b>dbexit</b> to close connections.</li>
<li>
On page 195, in "<b>dbcursor</b>", in the bulleted list for <i>row</i>, CRS_UPDATE should be deleted because a <i>row</i> value of 0 is invalid. An update operation cannot be performed on all rows in the fetch buffer.</li>
<li>
On page 328, in Appendix A, "DB-Library Options," and on page 176, in "<b>dbsetopt</b>", a DBBUFFER value of 1 is invalid, and a negative DBBUFFER value will set DBBUFFER to the default of 100 rows.</li>
<li>
On page 331, in Appendix A, "DB-Library Options," in the table, the possible parameter values for DBTEXTLIMIT should be 0 to 65,534 for 16-bit DB-Library and 0 to 2,147,483,647 for 32-bit DB-Library.</li>
</ul>
<p>&nbsp;</p></body>
</HTML>
