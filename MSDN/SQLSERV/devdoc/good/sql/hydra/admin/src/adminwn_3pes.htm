<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Using the Database Maintenance Plan Wizard</title>
<link disabled rel=stylesheet href=../../../../../backsdk3.css>
<style type="text/css">
@import url(../../../../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h3><a name="_using_the_database_maintenance_plan_wizard"></a>Using the Database Maintenance Plan Wizard</h3>
<p>
The screens in the Database Maintenance Plan Wizard are described below. On most of the screens, the best options will already be selected for you. Unless you have a clear reason not to, accept the defaults. 
<ol>
<li>
Introduction screen<p>
Provides a brief explanation of the wizard. Select the database to set up a maintenance plan for. 
</li>
</ol>
<p>
<img src="images/wizscr.gif" border=0>
<ol start=2>
<li>
About the Data in Your Database screen<p>
Tailoring the maintenance plan to the selected database requires that you know how often the data is updated and created.
<p>
<i>Updated data</i> is existing data in the database that is modified. Calculate the amount of data that is updated daily and match that amount to the closest value in the following list:
<ul>
<li>
Data is never changed</li>
<li>
Less than 5%</li>
<li>
More than 5% but less than 20%</li>
<li>
More than 20% </li>
</ul>
<p>
For example, if you have a 22MB database and 5MB of data in that database is updated each day, choose the 20% option.
<p>
<i>Created data</i>, referred to as Data Growth on the screen, is data that is new to the database and causes new records to be stored. Calculate the amount of data that is added daily and match that amount to the closest value in the following list:
<ul>
<li>
No new data is ever added</li>
<li>
Less than 2%</li>
<li>
More than 2% but less than 10%</li>
<li>
More than 10%</li>
</ul>
<p>
For example, if you have a 32MB database that is growing slowly, you will choose the Less Than 2% option.
</li>
<li>
Data Verification screen<p>
Verifying data is the process of checking that correct relationships among data, metadata, and allocations are maintained. The following are tests you can run:
<dl>
<dt>
Check data linkage</dt>
<dd>
Examines each data page of each table in the database to verify that they are joined in the correct order. Pages that are not joined correctly will cause errors when queries access broken pages. 
<p>
For more information about data linkage, see <a href="../../../tsqlref/src/tsql06_0yus.htm">DBCC CHECKDB</a> in the <i>Microsoft SQL Server Transact-SQL Reference</i>.
</dd>
<dt>
Check index linkage</dt>
<dd>
Examines each index page of each table in the database to verify that they are joined in the correct order. Pages that are not joined correctly will cause errors when queries access the broken pages. 
<p>
For more information about index linkage, see <a href="../../../tsqlref/src/tsql06_0yus.htm">DBCC CHECKDB</a> in the <i>Microsoft SQL Server Transact-SQL Reference</i>.
</dd>
<dt>
Check data allocation</dt>
<dd>
Examines each data page of each table in the database to verify that the server's internal information about which pages are in use and which pages are not in use is correct. Mismatches will cause errors when queries access these pages. In the worst case, data can be lost.
<p>
For more information about data allocation, see <a href="../../../tsqlref/src/tsql06_0yus.htm">DBCC NEWALLOC</a> in the <i>Microsoft SQL Server Transact-SQL Reference</i>.
</dd>
<dt>
Check index allocation</dt>
<dd>
Examines each index page of each table in the database to verify that the server's internal information about which pages are in use and which pages are not in use is correct. In the worst case, data can be lost.
<p>
For more information about index allocation, see <a href="../../../tsqlref/src/tsql06_0yus.htm">DBCC NEWALLOC</a> in the <i>Microsoft SQL Server Transact-SQL Reference</i>.
</dd>
<dt>
Check text/image data allocation</dt>
<dd>
Runs allocation and linkage checks for each text/image page in the database. 
<p>
For more information, see <a href="../../../tsqlref/src/tsql06_0yus.htm">DBCC TEXTALL</a> with the FAST option in the <i>Microsoft SQL Server Transact-SQL Reference</i>.
</dd>
<dt>
Check system data</dt>
<dd>
Examines the system tables (for example, <i>sysindexes</i> and <i>sysobjects</i>) to verify that the information in and between them is consistent. 
<p>
For more information, see <a href="../../../tsqlref/src/tsql06_0yus.htm">DBCC CHECKCATALOG</a> in the <i>Microsoft SQL Server Transact-SQL Reference</i>.
</dd>
<dt>
Add the data verification tests to</dt>
<dd>
Determines the schedule for verification tests. For daily data verification, choose the daily maintenance plan. For weekly data verification, choose the weekly maintenance plan.</dd>
</dl>
</li>
<li>
Data Optimization screen<p>
When you delete, update, and create data records, the fullness of SQL Server's pages can become nonuniform over time. Data optimization is the process of refilling pages to a uniform fullness and of updating SQL Server metadata concerning table data distribution. Effective data optimization will help to maximize SQL Server performance.
<p>
Choose from the following options to optimize your data: 
<dl>
<dt>
Update optimizer information</dt>
<dd>
Specifies that each data page of each table in the selected database will be examined to gather and store an accurate sampling (per table) of that data. This distribution information will subsequently be used by the server when optimizing queries. 
<p>
For more information, see the <a href="../../../tsqlref/src/tsql29_2ygk.htm">UPDATE STATISTICS statement</a> in the <i>Microsoft SQL Server Transact-SQL Reference</i>.
</dd>
<dt>
Reorganize data and index pages</dt>
<dd>
Specifies that all indexes on all tables in the database should be rebuilt. This option is useful for pages that become full and then split. The splitting process increases the size of a table and, because it happens dynamically, can increase the execution time of queries that modify data. Rebuilding the indexes refills each page to its optimal fullness based on the value that is specified in the Change Free Space To box.
<p>
For more information, see <a href="../../../tsqlref/src/tsql06_0yus.htm">DBCC DBREINDEX</a> in the <i>Microsoft SQL Server Transact-SQL Reference</i>.
</dd>
<dt>
Maintain original free space</dt>
<dd>
Indicates that the percentage of free space specified when the index was created (or last rebuilt using DBCC DBREINDEX) will be used again to rebuild the index. Free space is the inverse of fill factor (for example, free space of 30 percent is the same as a fill factor of 70 percent).
<p>
For more information, see <a href="../../../tsqlref/src/tsql06_0yus.htm">DBCC DBREINDEX</a> in the <i>Microsoft SQL Server Transact-SQL Reference.</i>
</dd>
<dt>
Change free space to</dt>
<dd>
Specifies the percentage of free space to leave in each index leaf page when the index is rebuilt. It is important to have enough free space to accommodate future growth and to reduce page splitting. Free space is the inverse of fill factor (for example, free space of 30 percent is the same as a fill factor of 70 percent).
<p>
For more information, see the FILLFACTOR clause of the <a href="../../../tsqlref/src/tsql03_46t0.htm">CREATE INDEX statement</a> in the <i>Microsoft SQL Server Transact-SQL Reference.</i> 
</dd>
<dt>
Add the Data Optimizations to</dt>
<dd>
Specifies that data optimization options be added to the daily or weekly maintenance plan.</dd>
</dl>
</li>
<li>
Data Protection screen<p>
Protecting your data is crucial to protecting the integrity of a database. With the Data Protection option, you can schedule database backups. Maintaining backups provides you a way to recover data in case of equipment or other problems. 
<p>
Good candidates for daily backups are:
<ul>
<li>
Databases with data that is frequently modified and/or added</li>
<li>
Databases that are critical to operations</li>
<li>
Databases that are under heavy loads and/or experience frequent equipment failures</li>
</ul>
<p>
Good candidates for weekly backups are:  
<ul>
<li>
Databases with data that is changed or added infrequently</li>
<li>
Databases with data that is easily recovered from other sources </li>
</ul>
<p>
Select the Only Do The Backup If check box if you want to do a backup only if data verification tests succeed. This assures you that backups will always contain verified data.
</li>
<li>
Backup Destination screen<p>
Specifies a destination for the database backup. A backup can be saved to disk or tape.
<p>
Use the Delete Files Older Than check box to delete backup files older than 1 week.
</li>
<li>
When to Run, Who to Notify screen<p>
Specifies a schedule for a backup, and whether to generate a report and send a notice through e-mail that the backup is completed. 
</li>
<li>
Wizard Complete screen<p>
Confirms the selections you made for the maintenance plan. 
</li>
<li>
Print dialog<p>
Displays a message that prompts you to print your maintenance plan, if you have not already selected to do so. 
<p>
<b>Important</b>  After you create your maintenance plan and exit the wizard, you cannot easily access the maintenance plan. It is strongly recommended that you print your database maintenance plan.
</li>
<li>
Confirmation dialog<p>
Displays a message that states that the wizard is complete. Presents the option to run the plan immediately. If you run the plan immediately, it will not affect the schedule you have specified.
</li>
</ol>
<p>
</p>
<p>&nbsp;</p></body>
</HTML>
