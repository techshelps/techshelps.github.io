<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>SQLServer-Procedure Cache Object</title>
<link disabled rel=stylesheet href=../../../../../backsdk3.css>
<style type="text/css">
@import url(../../../../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h3><a name="_sqlserver.2d.procedure_cache_object"></a>SQLServer-Procedure Cache Object</h3>
<p>
The SQL Server-Procedure Cache object is a link list of all procedures. The procedure cache holds entries for each procedure and other maintenance overhead. Each entry in the procedure cache points to one or more buffers in the procedure buffer. The procedure buffer is where the procedure instructions are stored. </p>
<p>
The figure below conceptually illustrates:
<ul>
<li>
The relationship between a procedure cache entry and a procedure buffer.</li>
<li>
The different states that are possible for a procedure.</li>
<li>
How the counters are affected by each state.</li>
</ul>
<p>
As previously stated, a procedure cache entry will have one or more procedure buffers associated with it. </p>
<p>
<img src="images/proced.gif" border=0></p>
<p>
The key at the bottom of the figure shows the possible states for both the procedure cache and the procedure buffer. </p>
<p>
Procedure A is currently in an active and used state. As you can see from the example, the procedure cache that is labeled A has three procedure buffers associated with it. Based on its current state, Procedure A will contribute to the following counters:
<ul>
<li>
<b>Max Procedure Buffers Active</b></li>
<li>
<b>Procedure Buffers Active</b></li>
<li>
<b>Max Procedure Buffers Used</b></li>
<li>
<b>Procedure Buffers Used</b></li>
<li>
<b>Max Procedure Cache Active</b></li>
<li>
<b>Procedure Cache Active</b></li>
<li>
<b>Max Procedure Cache Used</b></li>
<li>
<b>Procedure Cache Used</b></li>
</ul>
<p>
Procedure B is currently in a used state. As you can see from the example, the procedure cache that is labeled B has two procedure buffers associated with it. Based on its current state, Procedure B will contribute to the following counters:
<ul>
<li>
<b>Max Procedure Buffers Used</b></li>
<li>
<b>Procedure Buffers Used</b></li>
<li>
<b>Max Procedure Cache Used</b></li>
<li>
<b>Procedure Cache Used</b></li>
</ul>
<p>
Procedure C will also contribute to the counters listed for Procedure B, because it is also in a used state.</p>
<p>
The following counters are in the SQLServer-Procedure Cache object.</p>
<table cellspacing=4 cols=2>
<tr valign=top>
<th align=left width=48%></th>
<th align=left width=52%></th>
</tr>
<tr valign=top>
<th align=left width=48%></th>
<th align=left width=52%></th>
</tr>
<tr valign=top>
<th align=left width=48%>Counter</th>
<th align=left width=52%>Description</th>
</tr>
<tr valign=top>
<td width=48%><b>Max Procedure Buffers Active %</b></td>
<td width=52%>Specifies the maximum percentage of procedure buffers that have been active at one time during the monitoring session. A buffer is considered to be active when it contains a procedure that is currently executing.</td>
</tr>
<tr valign=top>
<td width=48%><b>Procedure Buffers Active %</b></td>
<td width=52%>Specifies the percentage of procedure buffers that are currently active. When a buffer contains a currently executing procedure, the buffer is said to be active.</td>
</tr>
<tr valign=top>
<td width=48%><b>Max Procedure Buffers Used %</b></td>
<td width=52%>Specifies the maximum percentage of procedure buffers that have been used at one time during the monitoring session. A procedure buffer is considered used when it is associated with a procedure cache entry. A used procedure buffer may or may not be active.</td>
</tr>
<tr valign=top>
<td width=48%><b>Procedure Buffers Used %</b></td>
<td width=52%>Specifies the percentage of procedure buffers that are used in the procedure cache. A procedure buffer is considered used when it is associated with a procedure cache entry. A used procedure buffer may or may not be active.</td>
</tr>
<tr valign=top>
<td width=48%><b>Total Procedure Buffers</b></td>
<td width=52%>Specifies the number of procedure buffers that are in the procedure cache. This number is a fixed number that is based on the procedure cache that is allocated.</td>
</tr>
<tr valign=top>
<td width=48%><b>Max Procedure Cache Active %</b></td>
<td width=52%>Specifies the maximum percentage of procedure cache that has been active during the monitoring session. A procedure cache entry is considered to be active when its associated procedure is currently executing.</td>
</tr>
<tr valign=top>
<td width=48%><b>Procedure Cache Active %</b></td>
<td width=52%>Specifies the percentage of the procedure cache that is currently active. When the procedure that is associated with a procedure cache entry is currently executing, the procedure cache entry is said to be active.</td>
</tr>
<tr valign=top>
<td width=48%><b>Max Procedure Cache Used %</b></td>
<td width=52%>Specifies the maximum percentage of procedure cache that has been used during the monitoring session. A procedure cache entry is considered used when it is currently allocated. A used procedure cache entry may or may not be active.</td>
</tr>
<tr valign=top>
<td width=48%><b>Procedure Cache Used %</b></td>
<td width=52%>Specifies the percentage of procedure cache that is used. This number indicates the percentage of slots that are currently associated with any procedure.</td>
</tr>
<tr valign=top>
<td width=48%><b>Procedure Cache Size</b></td>
<td width=52%>Specifies the size, in 2K pages, of the procedure cache. The size of the procedure cache can fluctuate depending on the activity of other SQL Server processes that may require procedure cache slots.</td>
</tr>
</table><br>
<p>
</p>
<p>&nbsp;</p></body>
</HTML>
