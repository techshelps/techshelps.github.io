<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Custom Server Configuration Using the Multiprotocol Networking Library</title>
<link disabled rel=stylesheet href=../../../../../backsdk3.css>
<style type="text/css">
@import url(../../../../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h1><a name="_custom_server_configuration_using_the_multiprotocol_networking_library"></a>Custom Server Configuration Using the Multiprotocol Networking Library</h1>
<p>
SQL Server uses a multiprotocol networking library that will listen for incoming network connections on named pipes, a TCP/IP port, and an SPX socket. The named pipe name, TCP/IP port, and SPX socket number are usually chosen dynamically.</p>
<p>
If you want users on the internet to connect to your SQL Server using TCP/IP and your organization is using a firewall system to isolate the network containing the SQL Server from the rest of the internet, ensure that SQL Server uses a particular port number for its incoming connections. By doing this, the firewall system will forward connections to that particular port number to your SQL Server.</p>
<p>
You can configure SQL Server to listen for incoming connections on a particular port by manually editing some Windows NT Registry keys that control the server's listening behavior. Use the REGEDT32.EXE utility (usually found in the SYSTEM32 directory under the Windows NT root directory) to find the Registry key:</p>
<p>
HKEY_LOCAL_MACHINE<br>
&nbsp;&nbsp;&nbsp;&nbsp;\SOFTWARE<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\MICROSOFT<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\MSSQLSERVER<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\RPCNetlib </p>
<p>
Note that only system administrators can edit Registry key values.</p>
<p>
Once you have located the Registry key, create a new value named <i>RPCprotocols</i>, assigning it a value type of REG_MULTI_SZ. For the value, enter one or more of the following strings to control which protocols are used and the particular named pipe, TCP port, or SPX socket on which the server listens for connections.</p>
<table cellspacing=4 cols=2>
<tr valign=top>
<th align=left width=31%></th>
<th align=left width=69%></th>
</tr>
<tr valign=top>
<th align=left width=31%></th>
<th align=left width=69%></th>
</tr>
<tr valign=top>
<th align=left width=31%>Network connection</th>
<th align=left width=69%>Description</th>
</tr>
<tr valign=top>
<td width=31%>ncacn_ip_tcp[,<i>port</i>]</td>
<td width=69%>Directs the server to listen for connections on TCP/IP. If <i>port</i> is specified, it is used as the number of the TCP/IP port to which the server listens for connections.<p>
The TCP/IP port number 1434 has been specifically registered with the Internet Assigned Number Authority (IANA), and should usually be used for the TCP/IP port number to avoid conflicts with other statically or dynamically assigned port numbers.</p>
</td>
</tr>
<tr valign=top>
<td width=31%>ncacn_np[,<i>name</i>]</td>
<td width=69%>Directs the server to listen for connections using LAN Manager named pipes. If <i>name </i>is specified, is it used as the name of the named pipe to which the server listens for connections.</td>
</tr>
<tr valign=top>
<td width=31%>ncacn_spx[,<i>socket</i>]</td>
<td width=69%>Directs the server to listen for connections using SPX sockets. If <i>socket </i>is specified, it is used as the number of the SPX socket to which the server listens for connections.</td>
</tr>
</table><br>
<p>
</p>
<p>&nbsp;</p></body>
</HTML>
