<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>REVOKE Statement</title>
<link disabled rel=stylesheet href=../../../../../backsdk3.css>
<style type="text/css">
@import url(../../../../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h2><a name="_revoke_statement_addnfeat"></a>REVOKE Statement (version 6.5)</h2>
<p>
Requires the CASCADE option to revoke a permission granted with the WITH GRANT OPTION option.  </p>
<p>
For additional syntax information for the <a href="../../../tsqlref/src/tsql11_6elw.htm">REVOKE statement</a>, see the <i>Microsoft SQL Server Transact-SQL Reference</i>.  </p>
<h4>Syntax</h4>
<p>
<b>To revoke permission to database objects:</b></p>
<p>
REVOKE [GRANT OPTION FOR]<br>
&nbsp;&nbsp;&nbsp;&nbsp;{ALL [PRIVILEGES] | <i>permission_list</i> } [<b>(</b><i>column_list</i><b>)</b>]<br>
&nbsp;&nbsp;&nbsp;&nbsp;ON { <i>table_name</i> [<b>(</b><i>column_list</i><b>)</b>]<br>
&nbsp;&nbsp;&nbsp;&nbsp;| <i>view_name</i> [<b>(</b><i>column_list</i><b>)</b>]<br>
&nbsp;&nbsp;&nbsp;&nbsp;| <i>stored_procedure_name </i>|<i> extended_stored_procedure_name</i>}<br>
&nbsp;&nbsp;&nbsp;&nbsp;FROM {PUBLIC | <i>name_list</i>} <br>
&nbsp;&nbsp;&nbsp;&nbsp;[CASCADE]</p>
<p>
<b>To revoke permission to create database objects:</b> </p>
<p>
REVOKE {ALL | <i>statement_list</i>}<br>
&nbsp;&nbsp;&nbsp;&nbsp;FROM {PUBLIC | <i>name_list</i>}</p>
<p>
where 
<dl>
<dt>
GRANT OPTION FOR</dt>
<dd>
Revokes the ability to confer the permission to another user but leaves the user with the permission still granted.</dd>
<dt>
ALL</dt>
<dd>
Specifies that all permissions possessed by all the users in the group or <i>name_list</i> to the specified <i>object</i> be revoked. When used to revoke <i>statement permissions</i>, specifies that all <i>statement permissions</i> possessed by the user be revoked. </dd>
<dt>
<i>permission_list</i> = <br>
{SELECT [<b>(</b><i>column_list</i><b>)</b>] | UPDATE [<b>(</b><i>column_list</i><b>)</b>]<br>
| REFERENCES | DELETE | INSERT} </dt>
<dt>
[<b>,</b> {SELECT [<b>(</b><i>column_list</i><b>)</b>] | UPDATE [<b>(</b><i>column_list</i><b>)</b>] | REFERENCES <br>
| DELETE | INSERT} ...]</dt>
<dd>
Lists permissions to revoke. </dd>
<dt>
<i>table_name</i></dt>
<dd>
Is the name of the table in the current database to which the permissions apply.</dd>
<dt>
<i>column_list</i></dt>
<dd>
Is a list of column names, delimited by commas, to which the permissions apply. If columns are specified, only SELECT and UPDATE permissions can be revoked.</dd>
<dt>
<i>view_name </i></dt>
<dd>
Is the name of the view in the current database to which the permissions apply. </dd>
<dt>
<i>stored_procedure_name</i></dt>
<dd>
Is the name of a stored procedure in the current database to which permissions apply.</dd>
<dt>
<i>extended_stored_procedure_name</i></dt>
<dd>
Is the name of an extended stored procedure in the current database to which the permissions apply.</dd>
<dt>
PUBLIC</dt>
<dd>
Represents all users, including those who are members of other groups.</dd>
<dt>
<i>name_list</i></dt>
<dd>
Is a list of user names and/or group names, delimited by commas. These names are stored in the database's <i>sysusers</i> table.</dd>
<dt>
CASCADE</dt>
<dd>
Revokes WITH GRANT privileges that were granted by the specified user, including those of the specified user. The specified user is either a <i>name_list</i> or PUBLIC.</dd>
<dt>
<i>statement_list</i></dt>
<dd>
Is a list of statements that have already been granted. The statement list can include: CREATE DATABASE, CREATE DEFAULT, CREATE PROCEDURE, CREATE RULE, CREATE TABLE, CREATE VIEW, DUMP DATABASE, and DUMP TRANSACTION.
</dd>
</dl>
<h4>Remarks</h4>
<p>
You must use the CASCADE option when revoking a permission that is grantable. By using the CASCADE option, not only is the specified user's permission revoked, permission is revoked for all those to whom the specified user granted permission. If the CASCADE option is not specified and the specified user was granted WITH GRANT OPTION permission, an error is returned. </p>
<p>
For example, suppose the owner of the table <i>population_stats</i> grants access permissions to a user, Matthew, by using WITH GRANT OPTION. The table owner enters the following statement: </p>
<pre>GRANT SELECT ON population_stats TO matthew WITH GRANT OPTION
<b><i>  </i></b></pre>
<p>
This gives the user Matthew permission to grant the same access privileges to another user, Jake. Matthew enters the following statement: </p>
<pre>GRANT SELECT ON population_stats TO jake 
<b><i>  </i></b></pre>
<p>
If the owner attempts to revoke Matthew's SELECT permission with the following statement the owner receives an error: </p>
<pre>REVOKE SELECT ON population_stats FROM matthew
<b><i>  </i></b></pre>
<p>
The owner cannot revoke Matthew's access privilege because users would have access to tables of which the owner is not aware.  </p>
<p>
However, if the owner revokes Matthew's privileges by using CASCADE, then Matthew and Jake both lose their access to <i>population_stats</i>. </p>
<pre>REVOKE SELECT ON population_stats FROM matthew WITH CASCADE
<b><i>  </i></b></pre>
<p>
When the owner revokes Matthew's WITH GRANT OPTION privilege, then only the right to grant access privilege to other users is revoked. Users who have been granted access privileges, such as Jake, lose their access privilege. Matthew still has access privilege on the <i>population_stats</i> table: </p>
<pre>REVOKE GRANT OPTION FOR SELECT ON population_stats FROM matthew
<b><i>  </i></b></pre>
<p>
For more information about the <a href="../../../tsqlref/src/tsql11_6elw.htm">REVOKE statement</a>, see the <i>Microsoft SQL Server Transact-SQL Reference</i>.  </p>
<h4>Example</h4>
<p>
This example revokes the SELECT and UPDATE permissions on the <i>population_stats</i> table for user <i>jake</i>. </p>
<pre>REVOKE SELECT, UPDATE(city) ON population_stats FROM jake
<b><i>  </i></b></pre>
<p>
</p>
<p>&nbsp;</p></body>
</HTML>
