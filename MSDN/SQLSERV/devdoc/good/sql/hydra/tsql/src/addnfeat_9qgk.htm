<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>CREATE TABLE Statement</title>
<link disabled rel=stylesheet href=../../../../../backsdk3.css>
<style type="text/css">
@import url(../../../../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h2><a name="_create_table_statement_addnfeat"></a>CREATE TABLE Statement (version 6.5)</h2>
<p>
Defers constraints during replication by using the NOT FOR REPLICATION clause. The current user must have REFERENCES permission to the table(s) to which any foreign key constraints refer. </p>
<p>
For additional syntax information for the <a href="../../../tsqlref/src/tsql04_5iwk.htm">CREATE TABLE statement</a>, see the <i>Microsoft SQL Server Transact-SQL Reference</i>. </p>
<h4>Syntax</h4>
<p>
CREATE TABLE <i>table_name </i><br>
<b>(</b><br>
&nbsp;&nbsp;&nbsp;&nbsp;{<i>col_name column_properties</i>[<i>constraint</i> [<i>constraint</i> [...<i>constraint</i>]]]<br>
&nbsp;&nbsp;&nbsp;&nbsp;| [[<b>,</b> ] <i>constraint</i>]}<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[[<b>,</b> ] {<i>next_col_name</i> | <i>next_constraint</i>}<br>
<b>)</b><br>
[ON <i>segment_name</i>]</p>
<p>
where 
<dl>
<dt>
<i>table_name</i></dt>
<dd>
Is the name of the new table.</dd>
<dt>
<i>col_name</i></dt>
<dd>
Is the name of a column in the table.</dd>
<dt>
<i>column_properties</i></dt>
<dd>
Specifies the datatype, null values, or identity values for the column.

<p>
<b>Note</b>  Using the IDENTITY column property implies a value of NOT NULL. Because IDENTITY requires that a column have a value, NOT NULL is superfluous.

</dd>
<dt>
<i>constraint</i></dt>
<dd>
Specifies a table-or column-level constraint. The NOT FOR REPLICATION clause suspends column-level, foreign key, and check constraints during replication. 
<p>
The REFERENCES permission must be placed on tables where non-table owners must create foreign keys.


<p>
<b>Note</b>  Table-level default constraints are not supported within the CREATE TABLE statement.



<p>
<b>Note</b>  The datatypes of the primary key and the foreign must match exactly.

</dd>
<dt>
ON <i>segment_name</i></dt>
<dd>
If specified with a PRIMARY KEY or UNIQUE constraint, creates only the index on the named segment. 
</dd>
</dl>
<h4>Remarks</h4>
<p>
REFERENCES permissions are not checked during data manipulation language (DML) operations.  </p>
<p>
For example, suppose table <i>country_table</i> already exists and you are creating table <i>city_table</i> with a FOREIGN KEY constraint to the <i>country_table </i>table. You must have REFERENCES permission to <i>country_table</i> in order to create the FOREIGN KEY constraint.<i>  </i></p>
<p>
Users who need access only to <i>city_table</i> must only have SELECT permission to <i>city_table</i>; they do not need access to <i>country_table. </i></p>
<p>
For information about disabling the REFERENCES permission, see <a href="addnfeat_76t0.htm">Trace Flags </a>.  </p>
<h4>Example</h4>
<p>
This example defines a table with a foreign key constraint called <i>p1_constraint</i> that can be deferred during replication. </p>
<pre>CREATE TABLE employee
(
    emp_id    integer
        CONSTRAINT p1_constraint PRIMARY KEY NONCLUSTERED,
    fname         CHAR(20) NOT NULL,
    minitial        CHAR(1) NULL,
    lname        VARCHAR(30) NOT NULL,
    job_id         SMALLINT NOT NULL
        DEFAULT 1
        REFERENCES jobs(job_id) NOT FOR REPLICATION
)
<b><i>  </i></b></pre>
<h4>Permission</h4>
<p>
You must have REFERENCES permission to create a FOREIGN KEY constraint to a table you do not own. </p>
<p>
</p>
<p>&nbsp;</p></body>
</HTML>
