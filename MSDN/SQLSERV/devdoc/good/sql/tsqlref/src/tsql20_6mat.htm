<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>sp_defaultdb System Stored Procedure</title>
<link disabled rel=stylesheet href=../../../../backsdk3.css>
<style type="text/css">
@import url(../../../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h2><a name="_sp_defaultdb_system_stored_procedure"></a>sp_defaultdb System Stored Procedure </h2>
<p>
Changes a user's default database.</p>
<h4>Syntax</h4>
<p>
<b>sp_defaultdb</b> <i>login_id</i><b>,</b> <i>defdb</i></p>
<p>
where
<dl>
<dt>
<i>login_id</i></dt>
<dd>
Is the user's login ID.</dd>
<dt>
<i>defdb</i></dt>
<dd>
Specifies the user's default (home) database (the database to which the user is connected when logging in).
</dd>
</dl>
<h4>Remarks</h4>
<p>
A default database can be set by using either <b>sp_defaultdb</b> or <b>sp_addlogin</b> when the user's login ID is initially added to SQL Server.</p>
<p>
If no default database has been specified, users are connected to the <i>master</i> database.</p>
<p>
After <b>sp_defaultdb</b> is executed, the user is connected to the new <i>defdb</i> the next time he or she logs in. However, this system stored procedure does not automatically give the user access to that database. The database owner must give database access to the user through <b>sp_adduser</b> or <b>sp_addalias</b>, or there must be a <i>guest</i> user specified in the database's <i>sysusers</i> table. A user who does not have access to the database by any of these means will be connected to the <i>master</i> database and an error message will be displayed.</p>
<p>
If a user's default database is dropped, the user is connected to <i>master</i> on the next login and an error message is displayed.</p>
<p>
The system administrator can change anyone's default database by using <b>sp_defaultdb</b>. Users can change only their own default database.</p>
<h4>Example</h4>
<p>
This example sets <i>pubs</i> as the default database for Victoria.</p>
<pre>sp_defaultdb Victoria, pubs
</pre>
<h4>Permission</h4>
<p>
Execute permission defaults to <i>public</i> for a user's login ID only. Execute permission defaults to the system administrator for any login ID.</p>
<h4>Tables Used</h4>
<p>
<i>master.dbo.sysdatabases</i>, <i>master.dbo.syslogins</i></p>
<h4>See Also</h4>
<table cellspacing=4 cols=2>
<tr valign=top>
<td width=48%><a href="tsql18_62g5.htm"><b>sp_addlogin</b></a></td>
<td width=52%><a href="tsql23_5mn9.htm"><b>sp_password</b></a></td>
</tr>
<tr valign=top>
<td width=48%><a href="tsql21_53l1.htm"><b>sp_droplogin</b></a></td>
<td width=52%><a href="tsql29_9uus.htm">USE</a></td>
</tr>
</table><br>
<p>
</p>
<p>&nbsp;</p></body>
</HTML>
