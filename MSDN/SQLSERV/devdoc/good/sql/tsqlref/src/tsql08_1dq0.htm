<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Database Design and Backup Strategy</title>
<link disabled rel=stylesheet href=../../../../backsdk3.css>
<style type="text/css">
@import url(../../../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h3><a name="_database_design_and_backup_strategy_tsql08"></a>Database Design and Backup Strategy</h3>
<p>
With small databases, the transaction log is usually stored on the same database device as the rest of the database. DUMP DATABASE backs up both the database and the transaction log, after which you can use DUMP TRANSACTION WITH TRUNCATE_ONLY to remove committed transactions from the log.</p>
<p>
With large databases, the transaction log (the log portion of the database) and the data portion of the database are usually stored on a separate devices. In these cases, you can use DUMP TRANSACTION to maintain a backup of only the transaction log. Dumping only the transaction log uses less storage and takes less time than DUMP DATABASE, which backs up both the transaction log and the database. Dumps of the transaction log are usually coordinated with DUMP DATABASE as part of an overall backup procedure. Typically, transaction log dumps are done more frequently than database dumps. To recover a database, load the most recent database dump and load all the transaction log dumps (in order) made since the database dump. The database is restored to its state at the time of the last transaction log dump.</p>
<p>
Regardless of database setup, it is highly recommended that you always run DBCC CHECKDB, DBCC CHECKALLOC or DBCC NEWALLOC, and DBCC CHECKCATALOG on a database just prior to dumping it. DBCC will check the logical and physical consistency of the database. If a database or transaction log that contains errors is dumped, the errors will still exist when the data is reloaded. Under some conditions, this can even prevent successful reloading. If any of the DBCC commands report errors in the database, contact your system administrator or your primary technical support provider.</p>
<p>&nbsp;</p></body>
</HTML>
