<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>DISK UNMIRROR Statement</title>
<link disabled rel=stylesheet href=../../../../backsdk3.css>
<style type="text/css">
@import url(../../../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h2><a name="_disk_unmirror_statement_tsql07"></a>DISK UNMIRROR Statement </h2>
<p>
<b>Note</b>  In the future, support for SQL Server device mirroring may be discontinued. It is recommended that you use either the mirroring functionality of the Microsoft Windows NT operating system, or hardware-based mirroring if your hardware supports it. For more information about Windows NT mirroring, see the Microsoft Windows NT operating system documentation in the <i>What's New for SQL Server 6.5</i>.</p>
<p>
Temporarily pauses software mirroring for the SQL Server device. Often this is useful when large nonlogged operations are occurring against the database and when a database backup (using the DUMP statement) will be performed after the nonlogged operations are completed.</p>
<h4>Syntax</h4>
<p>
DISK UNMIRROR<br>
&nbsp;&nbsp;&nbsp;&nbsp;NAME <b>=</b> <b>'</b><i>logical_name</i><b>'</b><br>
&nbsp;&nbsp;&nbsp;&nbsp;[<b>,</b> SIDE <b>=</b> {PRIMARY | SECONDARY}]<br>
&nbsp;&nbsp;&nbsp;&nbsp;[<b>,</b> MODE <b>=</b> {RETAIN | REMOVE}]</p>
<p>
where
<dl>
<dt>
NAME</dt>
<dd>
Is the logical name of the database device that you want to unmirror. </dd>
<dt>
SIDE</dt>
<dd>
Indicates which device of the mirrored pair you want to disable with DISK UNMIRROR. PRIMARY refers to the original device created by DISK INIT. SECONDARY refers to the mirror device created with DISK MIRROR. The default is SECONDARY. Use the <b>sp_helpdevice</b> system stored procedure to display a list of all devices.</dd>
<dt>
MODE</dt>
<dd>
Determines whether the unmirroring is temporary or permanent. If set to RETAIN, the following conditions are true:
<ul>
<li>
I/O is directed only at the device <i>not</i> being unmirrored by this statement.</li>
<li>
The <i>status</i> column of <i>sysdevices</i> is altered to indicate that mirroring has been deactivated.</li>
<li>
The entries for primary and secondary disks in the <i>phyname</i> and <i>mirrorname</i> columns are not altered.</li>
</ul>

<p>
RETAIN is the default. RETAIN mimics what happens when failover is activated automatically. Failover occurs when the other device of the mirrored pair takes over. Set RETAIN when you plan to remirror the database device later in the same configuration.

<p>
If set to REMOVE, the following conditions are true:

<ul>
<li>
The <i>status</i> column is altered to indicate that mirroring is to be ignored.</li>
<li>
The name of the secondary device in the <i>mirrorname</i> column replaces the <i>phyname</i> column if the primary device is the one being deactivated.</li>
<li>
The <i>mirrorname</i> column is set to NULL.</li>
</ul>

<p>
<b>Note</b>  REMOVE does not remove an operating-system file that had been used as a mirror device.


</dd>
</dl>
<h4>Permission</h4>
<p>
DISK UNMIRROR permission defaults to the system administrator and is not transferable.</p>
<p>&nbsp;</p></body>
</HTML>
