<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>sp_spaceused System Stored Procedure</title>
<link disabled rel=stylesheet href=../../../../backsdk3.css>
<style type="text/css">
@import url(../../../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h2><a name="_sp_spaceused_system_stored_procedure"></a>sp_spaceused System Stored Procedure </h2>
<p>
Displays the number of rows, the disk space reserved, and the disk space used by a table in a database, or displaces the disk space reserved and used by an entire database.</p>
<h4>Syntax</h4>
<p>
<b>sp_spaceused</b> [<i>objname</i>] [[<b>,</b>] @updateusage = {<b>true </b>| <b>false</b>}]</p>
<p>
where
<dl>
<dt>
<i>objname</i></dt>
<dd>
Specifies the name of the table for which space usage information (reserved and allocated space) is requested. </dd>
<dt>
@updateusage</dt>
<dd>
Specifies whether or not DBCC UPDATEUSAGE should be run within the database (when no <i>objname </i>is specified) or on a specific object (when <i>objname </i>is specified). Setting this option to <b>true</b> could take a significant amount of time. If preferred, DBCC UPDATEUSAGE can be run separately. See the remarks for more information.
</dd>
</dl>
<h4>Remarks</h4>
<p>
Executing <b>sp_spaceused</b> computes the amount of disk space used for data and indexes, and the disk space used by a table in the current database. If no table (<i>objname</i>) is given, <b>sp_spaceused</b> reports on the space used by the entire current database.</p>
<p>
After you drop an index, <b>sp_spaceused</b> reports inaccurate information. This is a known limitation. However, <b>sp_spaceused</b> provides a quick, rough estimate. If you notice incorrect values when you execute <b>sp_spaceused</b>, run DBCC UPDATEUSAGE to correct the inaccuracies. Because this statement takes some time to run on large tables or databases use it only when you suspect incorrect values being returned or when other users are not active.</p>
<h4>Examples</h4>
<h5>A.&nbsp;&nbsp;&nbsp;&nbsp;Space Information About a Table</h5>
<p>
This example reports on the amount of space allocated (reserved) for the <i>titles</i> table, the amount used for data, the amount used for index(es), and the unused space reserved by database objects.</p>
<pre>sp_spaceused titles
go

name    rows  reserved  data   index_size   unused
------- ----- --------- ------ ------------ ------------- 
titles  18    48 KB     6 KB   8 KB         34 KB 
</pre>
<h5>B.&nbsp;&nbsp;&nbsp;&nbsp;Updated Space Information About a Complete Database</h5>
<p>
This example shows a summary of space used in the current database with the optional @updateusage. </p>
<pre>sp_spaceused @updateusage = 'TRUE'
go

DBCC UPDATEUSAGE: messages are printed...
DBCC execution completed. If DBCC printed error messages, see your System Administrator.
 
database_name               database_size   unallocated space  
--------------------------- --------------- ------------------ 
pubs                        3.00 MB         1.69 MB            
 
reserved       data          index_size     unused          
-------------- ------------- -------------- --------------- 
1344 KB        300 KB        116 KB         928 KB          
</pre>
<h4>Permission</h4>
<p>
Execute permission defaults to the <i>public</i> group.</p>
<h4>Tables Used</h4>
<p>
<i>master..sysusages</i>, <i>sysindexes</i>, <i>sysobjects</i></p>
<h4>See Also</h4>
<table cellspacing=4 cols=2>
<tr valign=top>
<td width=48%><a href="tsql03_46t0.htm">CREATE INDEX</a></td>
<td width=52%><a href="tsql07_9v90.htm">DROP TABLE</a></td>
</tr>
<tr valign=top>
<td width=48%><a href="tsql04_5iwk.htm">CREATE TABLE</a></td>
<td width=52%><a href="tsql22_73l1.htm"><b>sp_help</b></a></td>
</tr>
<tr valign=top>
<td width=48%><a href="tsql07_8j5g.htm">DROP INDEX</a></td>
<td width=52%><a href="tsql22_5rdx.htm"><b>sp_helpindex</b></a></td>
</tr>
</table><br>
<p>
</p>
<p>&nbsp;</p></body>
</HTML>
