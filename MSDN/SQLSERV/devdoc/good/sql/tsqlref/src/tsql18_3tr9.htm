<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>sp_certify_removable System Stored Procedure</title>
<link disabled rel=stylesheet href=../../../../backsdk3.css>
<style type="text/css">
@import url(../../../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h2><a name="_sp_certify_removable_system_stored_procedure"></a>sp_certify_removable System Stored Procedure</h2>
<p>
For SQL Server 6.5 information, see <a href="../../hydra/tsql/src/addsproc_93ad.htm"><b>sp_certify_removable</b></a> in<i> What's New for SQL Server 6.5</i>.</p>
<p>
Verifies that a database is configured properly for distribution on removable media.</p>
<h4>Syntax</h4>
<p>
<b>sp_certify_removable</b> <i>dbname</i>[<b>, AUTO</b>]</p>
<p>
where
<dl>
<dt>
<i>dbname</i></dt>
<dd>
Specifies the database to be verified. </dd>
<dt>
<b>AUTO</b></dt>
<dd>
As necessary, gives ownership of the database and all database objects to the system administrator, and drops any user-created database users and any non-default permissions.
</dd>
</dl>
<h4>Remarks</h4>
<p>
If the database is configured properly, the <b>sp_certify_removable</b> system stored procedure sets the database offline and returns information that will be required when the database is later installed using <b>sp_dbinstall</b>. It truncates the transaction log, moves it to the system device, and drops the log device. It returns the physical and logical names and the size, in megabytes, of the system device and the data device(s). Make a note of this information and provide it¾along with the distribution disk¾to users who will be installing the distributed database.</p>
<p>
The system administrator must be owner of the database and all database objects because the system administrator is a known user that exists on all SQL Servers and can be counted on to exist when the database is later distributed and installed.</p>
<p>
If you run <b>sp_certify_removable</b> without the <b>AUTO</b> option and it returns information indicating that the system administrator is not the database owner, that user-created users exist, that the system administrator does not own all objects in the database, or that non-default permissions have been granted, you have two ways to correct those conditions:
<ul>
<li>
You can use SQL Server tools and procedures, and then run <b>sp_certify_removable</b> again.</li>
<li>
You can simply run <b>sp_certify_removable</b> with the <b>AUTO</b> option.</li>
</ul>
<p>
Note that this stored procedure only checks for users and user permissions. It is permissible to add groups to the database and to grant permissions to those groups. For information, see the GRANT statement.</p>
<h4>Example</h4>
<p>
This example certifies that the <i>inventory</i> database is ready to be removed.</p>
<pre>sp_certify_removable inventory, AUTO
</pre>
<h4>Permission</h4>
<p>
Only the system administrator can use this stored procedure.</p>
<h4>See also</h4>
<table cellspacing=4 cols=2>
<tr valign=top>
<td width=47%><a href="tsql20_0u05.htm"><b>sp_create_removable</b></a></td>
<td width=53%><a href="tsql20_1tnp.htm"><b>sp_dboption</b></a></td>
</tr>
<tr valign=top>
<td width=47%><a href="tsql20_5lbn.htm"><b>sp_dbinstall</b></a></td>
<td width=53%><a href="tsql20_7tk5.htm"><b>sp_dbremove</b></a>.</td>
</tr>
</table><br>
<p>
</p>
<p>&nbsp;</p></body>
</HTML>
