<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>sp_dropdevice System Stored Procedure</title>
<link disabled rel=stylesheet href=../../../../backsdk3.css>
<style type="text/css">
@import url(../../../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h2><a name="_sp_dropdevice_system_stored_procedure"></a>sp_dropdevice System Stored Procedure </h2>
<p>
Removes a SQL Server database device or dump device.</p>
<h4>Syntax</h4>
<p>
<b>sp_dropdevice</b> <i>logical_name </i>[<b>,</b> DELFILE]</p>
<p>
where
<dl>
<dt>
<i>logical_name</i></dt>
<dd>
Is the logical name of the database device or the dump device as listed in <i>master.dbo.sysdevices.name</i>.</dd>
<dt>
DELFILE</dt>
<dd>
Specifies that the physical file should be deleted.
</dd>
</dl>
<h4>Remarks</h4>
<p>
The <b>sp_dropdevice</b> system stored procedure drops a database device or dump device from SQL Server, deleting the entry from <i>master.dbo.sysdevices</i>. It frees the file handle and the device number when a database device is dropped. This means that the physical file can be deleted without shutting down SQL Server. To delete the physical file, use the DELFILE option or delete the file from the command line.</p>
<p>
<b>Note</b>  You can also immediately use the DISK INIT statement to create a new device with that same device number, logical name, and physical name (if you've deleted the file).</p>
<h4>Permission</h4>
<p>
Execute permission defaults to the system administrator and cannot be transferred.</p>
<h4>Tables Used</h4>
<p>
<i>master.dbo.sysdatabases</i>, <i>master.dbo.sysdevices</i>, <i>master.dbo.sysusages</i></p>
<h4>Example</h4>
<p>
This example drops the TAPEDUMP1 tape dump device from SQL Server.</p>
<pre>sp_dropdevice TAPEDUMP1</pre>
<h4>See Also</h4>
<table cellspacing=4 cols=2>
<tr valign=top>
<td width=48%><a href="tsql07_0rg4.htm">DROP DATABASE</a></td>
<td width=52%><a href="tsql22_0nl1.htm"><b>sp_helpdb</b></a></td>
</tr>
<tr valign=top>
<td width=48%><a href="tsql18_53vp.htm"><b>sp_addumpdevice</b></a></td>
<td width=52%><a href="tsql22_79id.htm"><b>sp_helpdevice</b></a></td>
</tr>
</table><br>
<p>
</p>
<p>&nbsp;</p></body>
</HTML>
