<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>sp_monitor System Stored Procedure</title>
<link disabled rel=stylesheet href=../../../../backsdk3.css>
<style type="text/css">
@import url(../../../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h2><a name="_sp_monitor_system_stored_procedure"></a>sp_monitor System Stored Procedure</h2>
<p>
Displays statistics about SQL Server.</p>
<h4>Syntax</h4>
<p>
<b>sp_monitor</b></p>
<h4>Remarks</h4>
<p>
SQL Server keeps track in a series of global variables of how much work it has done. Executing <b>sp_monitor</b> displays the current values of these global variables and shows how much they have changed since the last time the procedure was run.</p>
<p>
For each column, the statistic is printed in the form <i>number</i>(<i>number</i>)<i>-number</i>% or <i>number</i>(<i>number</i>). The first number refers to the number of seconds (for <i>cpu_busy</i>, <i>io_busy</i>, and <i>idle</i>) or the total number (for the other variables) since SQL Server was restarted. The number in parentheses refers to the number of seconds or total number since the last time <b>sp_monitor</b> was run. The percentage is the percentage of time since <b>sp_monitor</b> was last run. For example, if the report shows <i>cpu_busy</i> as 4250(215)-68%, the CPU has been busy 4250 seconds since SQL Server was last started up, 215 seconds since <b>sp_monitor</b> was last run, and 68 percent of the total time since <b>sp_monitor</b> was last run.</p>
<p>
These are the columns in the <b>sp_monitor</b> report:</p>
<table cellspacing=4 cols=2>
<tr valign=top>
<th align=left width=26%></th>
<th align=left width=74%></th>
</tr>
<tr valign=top>
<th align=left width=26%></th>
<th align=left width=74%></th>
</tr>
<tr valign=top>
<th align=left width=26%>Column</th>
<th align=left width=74%>Description</th>
</tr>
<tr valign=top>
<td width=26%><i>last_run</i></td>
<td width=74%>The time <b>sp_monitor</b> was last run.</td>
</tr>
<tr valign=top>
<td width=26%><i>current_run</i></td>
<td width=74%>The time <b>sp_monitor</b> is being run.</td>
</tr>
<tr valign=top>
<td width=26%><i>seconds</i></td>
<td width=74%>The number of elapsed seconds since <b>sp_monitor</b> was run.</td>
</tr>
<tr valign=top>
<td width=26%><i>cpu_busy</i></td>
<td width=74%>The number of seconds that the server computer's CPU has been doing SQL Server work.</td>
</tr>
<tr valign=top>
<td width=26%><i>io_busy</i></td>
<td width=74%>The number of seconds that SQL Server has spent doing input and output operations.</td>
</tr>
<tr valign=top>
<td width=26%><i>idle</i></td>
<td width=74%>The number of seconds that SQL Server has been idle.</td>
</tr>
<tr valign=top>
<td width=26%><i>packets_received</i></td>
<td width=74%>The number of input packets read by SQL Server.</td>
</tr>
<tr valign=top>
<td width=26%><i>packets_sent</i></td>
<td width=74%>The number of output packets written by SQL Server.</td>
</tr>
<tr valign=top>
<td width=26%><i>packet_errors</i></td>
<td width=74%>The number of errors encountered by SQL Server while reading and writing packets.</td>
</tr>
<tr valign=top>
<td width=26%><i>total_read</i></td>
<td width=74%>The number of reads by SQL Server.</td>
</tr>
<tr valign=top>
<td width=26%><i>total_write</i></td>
<td width=74%>The number of writes by SQL Server.</td>
</tr>
<tr valign=top>
<td width=26%><i>total_errors</i></td>
<td width=74%>The number of errors encountered by SQL Server while reading and writing.</td>
</tr>
<tr valign=top>
<td width=26%><i>connections</i></td>
<td width=74%>The number of logins or attempted logins to SQL Server.</td>
</tr>
</table><br>
<h4>Example</h4>
<p>
This example reports information about how busy SQL Server has been.</p>
<pre>sp_monitor
go
</pre>
<table cellspacing=4 cols=3>
<tr valign=top>
<td width=36%><pre>last_run</pre>
</td>
<td width=38%><pre>current_run</pre>
</td>
<td width=26%><pre>seconds</pre>
</td>
</tr>
<tr valign=top>
<td width=36%><pre>------------------</pre>
</td>
<td width=38%><pre>--------------------</pre>
</td>
<td width=26%><pre>-------------</pre>
</td>
</tr>
<tr valign=top>
<td width=36%><pre>Mar 29 1993 11:55AM</pre>
</td>
<td width=38%><pre>Apr 4 1993 2:22 PM</pre>
</td>
<td width=26%><pre>561</pre>
</td>
</tr>
</table><br>
<pre></pre>
<table cellspacing=4 cols=3>
<tr valign=top>
<td width=38%><pre>cpu_busy</pre>
</td>
<td width=31%><pre>io_busy</pre>
</td>
<td width=31%><pre>idle</pre>
</td>
</tr>
<tr valign=top>
<td width=38%><pre>-----------------</pre>
</td>
<td width=31%><pre>---------------</pre>
</td>
<td width=31%><pre>-------------</pre>
</td>
</tr>
<tr valign=top>
<td width=38%><pre>190(0)-0%</pre>
</td>
<td width=31%><pre>187(0)-0%</pre>
</td>
<td width=31%><pre>148(556)-99%</pre>
</td>
</tr>
</table><br>
<pre></pre>
<table cellspacing=4 cols=3>
<tr valign=top>
<td width=36%><pre>packets_received</pre>
</td>
<td width=35%><pre>packets_sent</pre>
</td>
<td width=29%><pre>packet_errors</pre>
</td>
</tr>
<tr valign=top>
<td width=36%><pre>-----------------</pre>
</td>
<td width=35%><pre>-----------------</pre>
</td>
<td width=29%><pre>-------------</pre>
</td>
</tr>
<tr valign=top>
<td width=36%><pre>16(1)</pre>
</td>
<td width=35%><pre>20(2)</pre>
</td>
<td width=29%><pre>0(0)</pre>
</td>
</tr>
</table><br>
<pre></pre>
<table cellspacing=4 cols=4>
<tr valign=top>
<td width=28%><pre>total_read</pre>
</td>
<td width=28%><pre>total_write</pre>
</td>
<td width=22%><pre>total_errors</pre>
</td>
<td width=22%><pre>connections</pre>
</td>
</tr>
<tr valign=top>
<td width=28%><pre>-----------------</pre>
</td>
<td width=28%><pre>-----------------</pre>
</td>
<td width=22%><pre>-------------</pre>
</td>
<td width=22%><pre>------------</pre>
</td>
</tr>
<tr valign=top>
<td width=28%><pre>141(0)</pre>
</td>
<td width=28%><pre>54920(127)</pre>
</td>
<td width=22%><pre>0(0)</pre>
</td>
<td width=22%><pre>4(0)</pre>
</td>
</tr>
</table><br>
<pre></pre>
<h4>Permission</h4>
<p>
Execute permission defaults to the system administrator, who can transfer it to other users.</p>
<h4>Table Used</h4>
<p>
<i>master.dbo.spt_monitor</i></p>
<h4>See Also</h4>
<table cellspacing=4 cols=2>
<tr valign=top>
<td width=48%><a href="tsql24_2739.htm"><b>sp_who</b></a></td>
<td width=52%><a href="tsql30_6e5v.htm">Variables</a></td>
</tr>
</table><br>
<p>
</p>
<p>&nbsp;</p></body>
</HTML>
