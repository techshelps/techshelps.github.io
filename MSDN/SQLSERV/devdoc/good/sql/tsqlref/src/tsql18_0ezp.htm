<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>sp_addsegment System Stored Procedure</title>
<link disabled rel=stylesheet href=../../../../backsdk3.css>
<style type="text/css">
@import url(../../../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h2><a name="_sp_addsegment_system_stored_procedure"></a>sp_addsegment System Stored Procedure </h2>
<p>
Defines a segment on a database device in the current database.</p>
<h4>Syntax</h4>
<p>
<b>sp_addsegment</b> <i>segname</i><b>,</b> <i>logical_name</i></p>
<p>
where
<dl>
<dt>
<i>segname</i></dt>
<dd>
Is the name of the new segment, which is added to the <i>syssegments</i> table of the current database. Segment names must be unique in each database.</dd>
<dt>
<i>logical_name</i></dt>
<dd>
Specifies the database device where <i>segname</i> will be located. A database device can have more than one segment associated with it.
</dd>
</dl>
<h4>Remarks</h4>
<p>
The <b>sp_addsegment</b> system stored procedure defines segment names for database devices that have been assigned to a specific database with the ALTER DATABASE or CREATE DATABASE statement. The maximum number of segments for any database is 32. Segments are named subsets of a database defined per device. Before you can use segment procedures in a database, make the database the current one by issuing the USE <i>database</i> statement.</p>
<p>
Once a segment has been defined, it can be used with the CREATE TABLE statement, the CREATE INDEX statement, and in the sp_placeobject system stored procedure, which puts data for a table or index on the segment. When a table or index is created on a particular segment, all subsequent data for the table or index is put on that segment.</p>
<p>
To extend the range of a segment to another database device used by the same database, use the sp_extendsegment system stored procedure. </p>
<p>
If a database is extended with the ALTER DATABASE statement on a device used by that database, the segments mapped to that device are also extended.</p>
<p>
The SYSTEM and DEFAULT segments are mapped to each database device included in a CREATE DATABASE  or ALTER DATABASE statement. The LOGSEGMENT is also mapped to each device, unless it is put on a separate device by using the LOG ON extension to the CREATE DATABASE statement or by using the sp_logdevice system stored procedure. To unmap these segments, use the sp_dropsegment system stored procedure. For more information, see the <i>Microsoft SQL Server Administrator's Companion</i>.</p>
<h4>Example</h4>
<p>
This example creates a segment named INDEXES on the database device named DEV1.</p>
<pre>sp_addsegment indexes, dev1
</pre>
<h4>Permission</h4>
<p>
Execute permission defaults to the system administrator and the database owner.</p>
<h4>Tables Used</h4>
<p>
syssegments, <i>master.dbo.</i>sysusages, <i>master.dbo.</i>sysdevices </p>
<h4>See Also</h4>
<table cellspacing=4 cols=2>
<tr valign=top>
<td width=48%><a href="tsql01_9b04.htm">ALTER DATABASE</a></td>
<td width=52%><a href="tsql21_1ffp.htm"><b>sp_extendsegment</b></a></td>
</tr>
<tr valign=top>
<td width=48%><a href="tsql03_46t0.htm">CREATE INDEX</a></td>
<td width=52%><a href="tsql22_0nl1.htm"><b>sp_helpdb</b></a></td>
</tr>
<tr valign=top>
<td width=48%><a href="tsql04_5iwk.htm">CREATE TABLE</a></td>
<td width=52%><a href="tsql22_79id.htm"><b>sp_helpdevice</b></a></td>
</tr>
<tr valign=top>
<td width=48%><a href="tsql07_3t9w.htm">DISK INIT</a></td>
<td width=52%><a href="tsql23_4o6d.htm"><b>sp_placeobject</b></a></td>
</tr>
<tr valign=top>
<td width=48%><a href="tsql21_3n8l.htm"><b>sp_dropsegment</b></a></td>
<td width=52%></td>
</tr>
</table><br>
<p>
</p>
<p>&nbsp;</p></body>
</HTML>
