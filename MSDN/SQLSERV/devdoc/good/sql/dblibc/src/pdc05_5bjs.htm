<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>dbcursorinfoex</title>
<link disabled rel=stylesheet href=../../../../backsdk3.css>
<style type="text/css">
@import url(../../../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h1><a name="_dbcursorinfoex"></a>dbcursorinfoex</h1>
<p>
Returns information about a client cursor, a transparent server cursor, or an explicit server cursor.</p>
<h4>Syntax</h4>
<p>
<b>RETCODE dbcursorinfoex( <br>
PDBCURSOR </b><i>hc</i><b>,<br>
LPDBCURSORINFO</b><i> pdbcursorinfo </i><b>)</b></p>
<p>
where
<dl>
<dt>
<i>hc</i></dt>
<dd>
Is a PDBCURSOR pointer to a server cursor returned by <b>dbcursoropen</b>.</dd>
<dt>
<i>pdbcursorinfo</i></dt>
<dd>
Is a pointer to a DBCURSORINFO structure that DB-Library will fill with information about the specified cursor.
<p>
The DBCURSORINFO structure is defined as follows:

<pre>typedef struct
{
    DBINT SizeOfStruct;
    ULONG TotCols;
    ULONG TotRows;
    ULONG CurRow;
    ULONG TotRowsFetched;
    ULONG Type;
    ULONG Status;
} DBCURSORINFO, PTR LPDBCURSORINFO;
</pre>

<p>
The DBCURSORINFO fields are described below:

<table cellspacing=4 cols=2>
<tr valign=top>
<th align=left width=31%></th>
<th align=left width=69%></th>
</tr>
<tr valign=top>
<th align=left width=31%></th>
<th align=left width=69%></th>
</tr>
<tr valign=top>
<th align=left width=31%>Field</th>
<th align=left width=69%>Description</th>
</tr>
<tr valign=top>
<td width=31%></td>
<td width=69%></td>
</tr>
<tr valign=top>
<td width=31%><b>SizeOfStruct</b></td>
<td width=69%>Before calling <b>dbcursorinfoex</b>, set this field equal to the value returned by the C <b>sizeof</b> function for the DBCURSORINFO structure.</td>
</tr>
<tr valign=top>
<td width=31%><b>TotCols</b></td>
<td width=69%>Is the total number of columns in the cursor.</td>
</tr>
<tr valign=top>
<td width=31%><b>TotRows</b></td>
<td width=69%>Is the total number of rows in the cursor results set.<p>
<b>Client cursor:</b></p>
<p>
For a keyset cursor, this number is always valid. For a dynamic cursor, this number is valid only if the current fetch buffer contains the last row in the cursor results set; otherwise, - 1 is returned.</p>
<p>
<b>Transparent server cursor, explicit server cursor:</b></p>
<p>
For a dynamic cursor, - 1 is returned.</p>
<p>
For a keyset cursor, if the <b>Status</b> field is CU_FILLING, the asynchronous population of the cursor results set is incomplete, and this value indicates the number of rows populated. If the <b>Status</b> field is CU_FILLED, the cursor results set is completely populated, and this value indicates the total number of rows in the cursor results set.</p>
</td>
</tr>
<tr valign=top>
<td width=31%><b>CurRow</b></td>
<td width=69%>Is the row number within the cursor results set of the current cursor position (first row of the fetch buffer). The first row of the cursor results set is number 1.<p>
<b>Client cursor:</b></p>
<p>
This value will be 0.</p>
<p>
<b>Transparent server cursor, explicit server cursor:</b></p>
<p>
For a keyset cursor, this value is always valid. </p>
<p>
For a dynamic cursor, this value will always be 1 when the current position is within the cursor results set.</p>
<p>
This value will be 0 if the current position is before the beginning of the cursor. This value will be - 1 if the current position is after the end of the cursor.</p>
</td>
</tr>
<tr valign=top>
<td width=31%><b>TotRowsFetched</b></td>
<td width=69%>Is the total number of valid rows in the current fetch buffer.</td>
</tr>
<tr valign=top>
<td width=31%><b>Type</b></td>
<td width=69%>Is a bitmap of cursor type, scroll option, and concurrency control information. It is a series of the following values ORed together:<p>
<b>Type:</b></p>
<p>
CU_CLIENT: Client cursor</p>
<p>
CU_SERVER: Transparent server cursor or explicit server cursor</p>
<p>
<b>Scroll option:</b></p>
<p>
CU_DYNAMIC: Dynamic cursor</p>
<p>
CU_FORWARD: Forward-only dynamic cursor</p>
<p>
CU_KEYSET: Keyset cursor</p>
<p>
CU_INSENSITIVE: Insensitive keyset cursor</p>
<p>
CU_MIXED: Mixed-mode cursor (provided for backward compatibility only)</p>
<p>
<b>Concurrency control:</b></p>
<p>
CU_READONLY: Read-only concurrency</p>
<p>
CU_LOCKCC: Intent to update concurrency</p>
<p>
CU_OPTCC: Optimistic concurrency based on timestamp or values</p>
<p>
CU_OPTCCVAL: Optimistic concurrency based on values</p>
</td>
</tr>
<tr valign=top>
<td width=31%><b>Status</b></td>
<td width=69%>Bitmap of status information. It is a series of the following values ORed together:<p>
<b>Client cursor:</b></p>
<p>
CU_FILLED: All cursors</p>
<p>
<b>Transparent server cursor, explicit server cursor:</b></p>
<p>
CU_FILLING: Incomplete asynchronous population of a keyset transparent server cursor or keyset explicit server cursor results set</p>
<p>
CU_FILLED: Incomplete asynchronous population of a keyset transparent server cursor or keyset explicit server cursor results set, or the cursor is a dynamic cursor</p>
</td>
</tr>
</table><br>


</dd>
</dl>
<h4>Returns</h4>
<p>
SUCCEED or FAIL.</p>
<h4>Remarks</h4>
<p>
Before calling <b>dbcursorinfoex</b>, set the <b>SizeOfStruct</b> field equal to the value returned by the C <b>sizeof</b> function for the DBCURSORINFO structure. The <b>dbcursorinfoex</b> function fills the supplied DBCURSORINFO structure with information about the open server cursor.</p>
<h4>See Also</h4>
<p>
<a href="pdc05_7l4i.htm"><b>dbcursor</b></a>, <a href="pdc05_5jz8.htm"><b>dbcursorbind</b></a>, <a href="pdc05_22sl.htm"><b>dbcursorclose</b></a>, <a href="pdc05_7wbz.htm"><b>dbcursorcolinfo</b></a>, <a href="pdc05_1y20.htm"><b>dbcursorfetch</b></a>, <a href="#_dbcursorinfoex"><b>dbcursorinfoex</b></a>, <a href="pdc05_9772.htm"><b>dbcursoropen</b></a>; <a href="pdc09_7e7t.htm">Bulk-Copy Functions</a> </p>
<p>
</p>
<p>&nbsp;</p></body>
</HTML>
