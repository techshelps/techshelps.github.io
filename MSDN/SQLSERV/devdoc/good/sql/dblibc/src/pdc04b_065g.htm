<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>dbcmd</title>
<link disabled rel=stylesheet href=../../../../backsdk3.css>
<style type="text/css">
@import url(../../../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h1><a name="_dbcmd"></a>dbcmd</h1>
<p>
Adds text to the DBPROCESS command buffer.</p>
<h4>Syntax</h4>
<p>
<b>RETCODE dbcmd ( <br>
PDBPROCESS </b><i>dbproc</i><b>, <br>
LPCSTR </b><i>cmdstring</i><b> );</b></p>
<p>
where
<dl>
<dt>
<i>dbproc</i></dt>
<dd>
Is the DBPROCESS structure that is the handle for a particular workstation/ SQL Server process. It contains all the information that DB-Library uses to manage communications and data between the workstation and SQL Server.</dd>
<dt>
<i>cmdstring</i></dt>
<dd>
Is a null-terminated character string to be copied into the command buffer.
</dd>
</dl>
<h4>Returns</h4>
<p>
SUCCEED or FAIL.</p>
<h4>Remarks</h4>
<p>
This function adds text to the command buffer in the DBPROCESS structure. It adds to the existing command buffer; it doesn't delete or overwrite the current contents except after the buffer has been sent to SQL Server. The user can call <b>dbcmd</b> repeatedly. Note that sequential calls are concatenated; the application must include any necessary blanks between the end of one line and the beginning of the next.</p>
<p>
After a call to <b>dbsqlexec</b> or <b>dbsqlsend</b>, the first call to either <b>dbcmd</b> or <b>dbfcmd</b> automatically clears the command buffer before the new text is entered. If this situation is undesirable, set the DBNOAUTOFREE option. When DBNOAUTOFREE is set, the command buffer is cleared only by a call to <b>dbfreebuf</b>.</p>
<p>
The <b>dbfcmd</b> function is a related function. Unlike <b>dbcmd</b>, <b>dbfcmd</b> takes additional parameters and interprets <i>cmdstring</i> as a format string that is passed to <i>sprintf</i> along with any additional parameters.</p>
<h4>Example</h4>
<p>
This example shows how to use <b>dbcmd</b> to build up a multiple-line SQL statement:</p>
<pre>DBPROCESS    *dbproc;

dbcmd(dbproc, "Select name from sysobjects");
dbcmd(dbproc, " where id &lt; 5");
dbcmd(dbproc, " and type='S'");
</pre>
<p>
Note the leading spaces in the second and third calls to <b>dbcmd</b>. Leading spaces are needed to properly concatenate the entire command string.</p>
<h4>See Also</h4>
<p>
<a href="pdc04c_6xes.htm"><b>dbfcmd</b></a>, <a href="pdc04c_9mp2.htm"><b>dbfreebuf</b></a>, <a href="pdc04f_43hf.htm"><b>dbsqlexec</b></a>, <a href="pdc04e_96us.htm"><b>dbsetopt</b></a>, <a href="pdc04f_13ok.htm"><b>dbsqlsend</b></a>; <a href="pdc09_7e7t.htm">Bulk-Copy Functions</a> and <a href="pdca_9kbl.htm">DB-Library Options</a></p>
<p>
</p>
<p>&nbsp;</p></body>
</HTML>
