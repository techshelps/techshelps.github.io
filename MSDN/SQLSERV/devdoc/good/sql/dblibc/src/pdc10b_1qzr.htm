<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>build_xact_string</title>
<link disabled rel=stylesheet href=../../../../backsdk3.css>
<style type="text/css">
@import url(../../../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h1><a name="_build_xact_string"></a>build_xact_string</h1>
<p>
Builds a name for a distributed transaction.</p>
<h4>Syntax</h4>
<p>
<b>void build_xact_string ( <br>
LPCSTR </b><i>xact_name</i><b>, <br>
LPCSTR </b><i>service_name</i><b>, <br>
DBINT </b><i>commid</i><b>, <br>
LPSTR </b><i>result</i><b> );</b></p>
<p>
where
<dl>
<dt>
<i>xact_name</i></dt>
<dd>
Is the application or username for the transaction. This name is encoded in the name string, but it is not used by the commit service or SQL Server. It identifies the transaction for debugging.</dd>
<dt>
<i>service_name</i></dt>
<dd>
Is the name through which SQL Server contacts the commit service. You must supply a name for this parameter.</dd>
<dt>
<i>commid</i></dt>
<dd>
Is the number used by the commit service to identify the transaction. The <i>commid</i> is the number returned by the call to <b>start_xact</b>.</dd>
<dt>
<i>result</i></dt>
<dd>
Is the address of the buffer where the string should be built. The space must be allocated by the caller.
</dd>
</dl>
<h4>Remarks</h4>
<p>
This function builds a name string for use in the BEGIN TRANSACTION and PREPARE TRANSACTION statements in the SQL Server transaction. If SQL Server has to recover the transaction, it uses information encoded in the name to determine which commit service to contact and which transaction in that service to inquire about. The application should execute a Transact-SQL BEGIN TRANSACTION statement, using the string built by <b>build_xact_string</b>.</p>
<h4>See Also</h4>
<p>
<a href="pdc10b_3fsk.htm"><b>commit_xact</b></a>, <a href="pdc10b_6vqs.htm"><b>start_xact</b></a></p>
<p>
</p>
<p>&nbsp;</p></body>
</HTML>
