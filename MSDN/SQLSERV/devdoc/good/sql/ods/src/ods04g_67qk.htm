<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>srv_returnval</title>
<link disabled rel=stylesheet href=../../../../backsdk3.css>
<style type="text/css">
@import url(../../../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h1><a name="_srv_returnval"></a>srv_returnval</h1>
<p>
Defines an output parameter value for a language event.</p>
<h4>Syntax</h4>
<p>
<b>int srv_returnval (<br>
SRV_PROC * </b><i>srvproc</i><b>, <br>
DBCHAR * </b><i>valuename</i><b>, <br>
int </b><i>len</i><b>, <br>
BYTE </b><i>status</i><b>, <br>
DBINT </b><i>type</i><b>, <br>
DBINT </b><i>maxlen</i><b>, <br>
DBINT </b><i>datalen</i><b>, <br>
BYTE * </b><i>value </i><b>);</b></p>
<p>
where
<dl>
<dt>
<i>srvproc</i></dt>
<dd>
Is a pointer to the SRV_PROC structure that is the handle for a particular client connection. The structure contains the information that the ODS Library uses to manage communication and data between the Open Data Services server application and the client.</dd>
<dt>
<i>valuename</i></dt>
<dd>
Is the name of the return value. It can be NULL, since a return value is not required to have a name.</dd>
<dt>
<i>len</i></dt>
<dd>
Indicates the length, in bytes, of <i>valuename</i>. If <i>valuename</i> is null-terminated, set <i>len</i> to SRV_NULLTERM.</dd>
<dt>
<i>status</i></dt>
<dd>
Specifies the status of the return value. Currently, there is only one legal status, SRV_PARAMRETURN.</dd>
<dt>
<i>type</i></dt>
<dd>
Specifies the datatype of the return value to be sent back to the client. The appropriate datatype must be specified even if the data is NULL. For a list of Open Data Services datatypes, see <a href="odsc_984x.htm">Datatypes</a>. </dd>
<dt>
<i>maxlen</i></dt>
<dd>
Indicates the maximum length of the value, in bytes. For fixed-length datatypes that don't allow null values (for example, <i>srvint4</i> or <i>srvmoney</i>), <i>maxlen</i> is ignored. For fixed-length datatypes that allow null values (for example, <i>srvintn</i> or <i>srvmoneyn</i>), <i>maxlen</i> must be the size of the datatype when it is not NULL. For variable-length datatypes, <i>maxlen</i> is the maximum length that the datatype can be.</dd>
<dt>
<i>datalen</i></dt>
<dd>
Indicates the actual length, in bytes, of <i>value</i>. This parameter is ignored for fixed-length datatypes.
<p>
If <i>datalen</i> is 0, then a null value is returned.
</dd>
<dt>
<i>value</i></dt>
<dd>
Is a pointer to the program variable that contains the return value. The return value data is copied into the private <i>srvproc</i> space when <b>srv_returnval</b> is called. The return value data is sent when <b>srv_senddone</b> is called.
</dd>
</dl>
<h4>Returns</h4>
<p>
SUCCEED or FAIL.</p>
<h4>Remarks</h4>
<p>
Usually, output parameters are returned by an SRV_RPC event handler and are handled with the <b>srv_paramset</b> function. However, it is possible for an Open Data Services server application to return values from an SRV_LANGUAGE event handler when an explicit remote stored procedure call is not involved. In this case, <b>srv_returnval</b> is used to define the datatype and value of the return value.</p>
<p>
Multiple output parameter values can be sent to a client in a set of results, but <b>srv_returnval</b> must be called once for each parameter. The return values are sent back automatically when <b>srv_senddone</b> is called. The output parameters are sent back in the order in which they were defined with <b>srv_returnval</b>.</p>
<p>
To send a null value, set <i>datalen</i> to 0.</p>
<p>
When <b>srv_returnval</b> is called, the data at location <i>value</i> is copied into the SRV_PROC private data space. This copying makes it safe to use <i>value</i> later for other purposes.</p>
<h4>See Also</h4>
<table cellspacing=4 cols=2>
<tr valign=top>
<th align=left width=27%></th>
<th align=left width=73%></th>
</tr>
<tr valign=top>
<th align=left width=27%></th>
<th align=left width=73%></th>
</tr>
<tr valign=top>
<th align=left width=27%>This entry</th>
<th align=left width=73%>For information about</th>
</tr>
<tr valign=top>
<td width=27%></td>
<td width=73%></td>
</tr>
<tr valign=top>
<td width=27%><a href="ods04f_3dmc.htm"><b>srv_paramset</b></a></td>
<td width=73%>Setting the value of a remote stored procedure return parameter</td>
</tr>
<tr valign=top>
<td width=27%><a href="ods04g_39ph.htm"><b>srv_senddone</b></a></td>
<td width=73%>Sending a results completion message to the client.</td>
</tr>
</table><br>
<p>
</p>
<p>&nbsp;</p></body>
</HTML>
