<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Setting Up Open Data Services</title>
<link disabled rel=stylesheet href=../../../../backsdk3.css>
<style type="text/css">
@import url(../../../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h2><a name="_setting_up_open_data_services"></a>Setting Up Open Data Services</h2>
<p>
In the following example, the gateway application sets up Open Data Services.
<ol>
<li>
Specify a server process, define the configuration structure for the server, define a pointer for the server's Windows NT Registry key name, and define a pointer for the server name at the remote data source:<pre><code>SRV_SERVER *server;                  // The service process        
SRV_CONFIG *config;                  // The configuration structure
DBCHAR *RegistryName = "Gateway";    // Registry lookup name       
DBCHAR *SrvrName = "";               // Default remote server name 
</code></pre>
</li>
<li>
Read the command-line argument to get the name of the remote server to use and send the remote server name to the gateway's DLL:<pre><code>// Read any command-line arguments. 
getargs(argc, argv);

// Send the name retrieved to the gateway's DLL module. 
set_remote_server_name(SrvrName);
</code></pre>
</li>
<li>
Allocate a configuration structure, initialize it to allow 20 client connections, and define the log file as GATEWAY.LOG:<pre><code>// Allocate a configuration structure that is used to initialize 
// the Open Data Services server application.                    
config = srv_config_alloc();

// Allow 20 connections at a time.  
srv_config(config, (DBINT)SRV_CONNECTIONS, "20", SRV_NULLTERM);

// Set the log file.     
srv_config(config, (DBINT)SRV_LOGFILE, "gateway.log", SRV_NULLTERM);
</code></pre>
</li>
</ol>
<p>
</p>
<p>
</p>
<p>&nbsp;</p></body>
</HTML>
