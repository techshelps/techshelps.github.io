<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Error Messages</title>
<link disabled rel=stylesheet href=../../../../backsdk3.css>
<style type="text/css">
@import url(../../../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h1><a name="_error_messages_odse_1"></a>Error Messages</h1>
<p>
Error messages produced by the data source or by the gateway must be mapped to corresponding ODBC errors. Error mapping can be accomplished directly by the gateway or by the Open Data Services ODBC driver. Gateways that do not support ODBC error mapping use SQL Server driver error code mapping, which causes the gateway to map native errors to SQL Server error codes, and the driver to then map those codes to ODBC errors. </p>
<p>
In order to map ODBC more directly to the underlying DBMS, gateways can perform the mapping directly. All mapping from gateway or remote DBMS errors to ODBC error codes is represented in the message text string passed to the client. Gateways construct the <b>srv_message</b> string to contain both the ODBC error code mapping and the gateway or DBMS error text. The error message consists of parts, delimited by brackets, using the following format:</p>
<p>
[<i>SQLSTATE</i> <i>code</i>][<i>vendor id</i>][<i>native error number</i>][<i>gateway name</i>] [<i>remote DBMS ID</i>]<b>:</b><i>error text</i></p>
<p>
where
<dl>
<dt>
<i>SQLSTATE code</i></dt>
<dd>
Is the ODBC code that maps to the gateway error or DBMS error. The ODBC driver for the gateways strips off this section and passes it to the client in the <b>szSQLState </b>return parameter for the ODBC <b>SQLError </b>API. If the DBMS returns SQLSTATE as part of its native error system, the gateway must map any DBMS SQLSTATE extensions to the appropriate ODBC SQLSTATE.</dd>
<dt>
<i>vendor ID </i></dt>
<dd>
Is a code for the gateway vendor. This code is chosen by the gateway developer.</dd>
<dt>
<i>native error number </i></dt>
<dd>
Is the ASCII representation of the "native" error number from a remote DBMS. This number is returned in the <b>pfNativeError</b> return parameter for the ODBC <b>SQLError </b>API. The native error number corresponds to a numeric DBMS-specific error code. For example, for a DB2 error, the SQLCA.SQLCODE would be returned in this section. This section is empty when the error is related to the gateway or does not represent a DBMS error.</dd>
<dt>
<i>gateway name </i></dt>
<dd>
Is the name of the gateway component, for example, Rdb Gateway.</dd>
<dt>
<i>remote DBMS ID</i> </dt>
<dd>
In cases where a DBMS-specific error is returned, this section contains the name of the DBMS being accessed, such as DB2 or SQL/400®.</dd>
<dt>
<i>error text</i></dt>
<dd>
Is the text of the error message.
</dd>
</dl>
<p>
</p>
<p>
</p>
<p>&nbsp;</p></body>
</HTML>
