<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Using diskfree to Retrieve a Data Value from the 
External Environment</title>
<link disabled rel=stylesheet href=../../../../backsdk3.css>
<style type="text/css">
@import url(../../../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h3><a name="_using_diskfree_to_retrieve_a_data_value_from_the_external_environment"></a>Using diskfree to Retrieve a Data Value from the External Environment</h3>
<p>
The PROCSRV procedure <b>diskfree</b> is an example of the use of output parameters in an Open Data Services stored procedure. The <b>diskfree</b> procedure returns the number of bytes of free space for the drive letter passed to it as a parameter. To use <b>diskfree</b>, you must declare and initialize a variable to hold the return parameter and use the OUTPUT keyword when calling the procedure, as follows:</p>
<pre>declare @outvar int
execute PROCSRV...diskfree @drive = 'c', @space = @outvar OUTPUT
select @outvar
<b><i>  </i></b></pre>
<p>
Return parameters in PROCSRV are treated in the same way as standard SQL Server stored procedure parameters. For example, when the EXECUTE statement completes, the <b>@outvar</b> variable contains the return value from the PROCSRV procedure. If the three lines in this example were part of a stored procedure in SQL Server itself, the return value of <b>@outvar </b>could then be used in subsequent statements.</p>
<p>
The <b>diskfree</b> procedure also accepts a default parameter. If you execute <b>diskfree</b> without specifying a drive-letter parameter, <b>diskfree</b> returns a data row showing free space for the drive on which PROCSRV is installed.</p>
<p>
For more information about using return parameters in stored procedures, see the <i>Microsoft SQL Server Transact-SQL Reference</i>.</p>
<p>
</p>
<p>
</p>
<p>&nbsp;</p></body>
</HTML>
