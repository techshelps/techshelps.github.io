<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>srv_handle</title>
<link disabled rel=stylesheet href=../../../../backsdk3.css>
<style type="text/css">
@import url(../../../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h1><a name="_srv_handle"></a>srv_handle</h1>
<p>
Installs a standard event handler for an ODS application.</p>
<h4>Syntax</h4>
<p>
<b>SRV_HANDLE_PROC srv_handle (<br>
SRV_SERVER * </b><i>server</i><b>,<br>
DBINT </b><i>event</i><b>,<br>
SRV_HANDLE_PROC </b><i>handler </i><b>);</b></p>
<p>
where
<dl>
<dt>
<i>server</i></dt>
<dd>
Is a pointer to the SRV_SERVER structure. Use <b>srv_init</b> to get this pointer.</dd>
<dt>
<i>event</i></dt>
<dd>
Specifies the event that is assigned to <i>handler</i>. All ODS events are valid. For a list of ODS events, see Appendix B, "Events and Event Types."</dd>
<dt>
<i>handler</i></dt>
<dd>
Is a pointer to the function that is called when the event defined by <i>event</i> occurs. This function is global to the ODS application and will be called every time <i>event</i> occurs.
<p>
This function should be defined as returning an <b>int</b> and taking a single parameter. This parameter should be defined as SRV_SERVER * when <i>event</i> is one of the following:

<ul>
<li>
SRV_EXIT</li>
<li>
SRV_START</li>
<li>
SRV_SLEEP</li>
<li>
SRV_RESTART</li>
<li>
SRV_STOP</li>
</ul>

<p>
and should be defined as SRV_PROC * when <i>event</i> is one of the following:

<ul>
<li>
SRV_ATTENTION</li>
<li>
SRV_CONNECT</li>
<li>
SRV_DISCONNECT</li>
<li>
SRV_LANGUAGE</li>
<li>
SRV_RPC</li>
</ul>

<p>
This function must return one of the following values:

<table cellspacing=4 cols=2>
<tr valign=top>
<th align=left width=28%></th>
<th align=left width=72%></th>
</tr>
<tr valign=top>
<th align=left width=28%></th>
<th align=left width=72%></th>
</tr>
<tr valign=top>
<th align=left width=28%></th>
<th align=left width=72%></th>
</tr>
<tr valign=top>
<th align=left width=28%>Return value</th>
<th align=left width=72%>Description</th>
</tr>
<tr valign=top>
<td width=28%></td>
<td width=72%></td>
</tr>
<tr valign=top>
<td width=28%>SRV_CONTINUE</td>
<td width=72%>Continue normal processing</td>
</tr>
<tr valign=top>
<td width=28%>SRV_DISCONNECT</td>
<td width=72%>Fires a disconnect event to close the client connection</td>
</tr>
<tr valign=top>
<td width=28%>SRV_EXIT</td>
<td width=72%>Fires a disconnect event to close the client connection</td>
</tr>
</table><br>

</dd>
</dl>
<h4>Returns</h4>
<p>
A pointer to the previously defined event-handling function.</p>
<h4>Remarks</h4>
<p>
When an event occurs, ODS calls the following functions in this order:
<ol>
<li>
The pre-event handler (installed by <b>srv_pre_handle</b>)</li>
<li>
The standard event handler (installed by <b>srv_handle</b>)</li>
<li>
The post-event handler (installed by <b>srv_post_handle</b>)</li>
</ol>
<p>
Each ODS event has a default standard event handler which returns SRV_CONTINUE. Installing a standard event handler with <b>srv_handle</b> replaces the default handler with one supplied by the application.</p>
<p>
You can install standard event handlers dynamically. The new standard event handler is called when the next event occurs. An ODS application can have one standard event handler for each event. Open Data Services will automatically remove the event handler when necessary; your program should not attempt to do this.</p>
<h4>See Also</h4>
<table cellspacing=4 cols=2>
<tr valign=top>
<th align=left width=27%></th>
<th align=left width=73%></th>
</tr>
<tr valign=top>
<th align=left width=27%></th>
<th align=left width=73%></th>
</tr>
<tr valign=top>
<th align=left width=27%></th>
<th align=left width=73%></th>
</tr>
<tr valign=top>
<th align=left width=27%>This entry</th>
<th align=left width=73%>For information about</th>
</tr>
<tr valign=top>
<td width=27%></td>
<td width=73%></td>
</tr>
<tr valign=top>
<td width=27%><a href="ods04c_19mc.htm"><b>srv_event</b></a></td>
<td width=73%>Adding an event request</td>
</tr>
<tr valign=top>
<td width=27%><a href="ods04g_11id.htm"><b>srv_pre_handle</b></a></td>
<td width=73%>Installing a pre-event handler.</td>
</tr>
<tr valign=top>
<td width=27%><a href="ods04g_2bc5.htm"><b>srv_post_handle</b></a></td>
<td width=73%>Installing a post-event handler.</td>
</tr>
</table><br>
<p>
</p>
<p>
</p>
<p>&nbsp;</p></body>
</HTML>
