<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>srv_describe</title>
<link disabled rel=stylesheet href=../../../../backsdk3.css>
<style type="text/css">
@import url(../../../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h1><a name="_srv_describe"></a>srv_describe</h1>
<p>
Defines a row's column name, and source and destination datatypes.</p>
<h4>Syntax</h4>
<p>
<b>int srv_describe (<br>
SRV_PROC * </b><i>srvproc</i><b>, <br>
int </b><i>colnumber</i><b>, <br>
DBCHAR * </b><i>columnname</i><b>, <br>
int </b><i>namelen</i><b>, <br>
DBINT </b><i>desttype</i><b>, <br>
DBINT </b><i>destlen</i><b>, <br>
DBINT </b><i>srctype</i><b>, <br>
DBINT </b><i>srclen</i><b>, <br>
void * </b><i>srcdata</i><b> );</b></p>
<p>
where
<dl>
<dt>
<i>srvproc</i></dt>
<dd>
Is a pointer to the SRV_PROC structure that is the handle for a particular client connection (in this case, the client that is sending the row). The structure contains all the information that the Data Services Library uses to manage communications and data between the Open Data Services server application and the client.</dd>
<dt>
<i>colnumber</i></dt>
<dd>
Is currently not supported. Columns must be described in order. All columns must be described before <b>srv_sendrow</b> is called.</dd>
<dt>
<i>columnname</i></dt>
<dd>
Specifies the name of the column to which the data belongs. This parameter can be NULL, since a column is not required to have a name.</dd>
<dt>
<i>namelen</i></dt>
<dd>
Specifies the length, in bytes, of <i>columnname</i>. If <i>namelen</i> is SRV_NULLTERM, then the <i>columname</i> string must be null-terminated.</dd>
<dt>
<i>desttype</i></dt>
<dd>
Specifies the datatype of the destination row column (the datatype sent to the client). The datatype must be specified even if the data is NULL (see <a href="odsc_984x.htm">Datatypes</a>.) </dd>
<dt>
<i>destlen</i></dt>
<dd>
Specifies the length, in bytes, of the data to be sent to the client. For fixed-length datatypes that don't allow null values, <i>destlen</i> is ignored. For variable-length datatypes and fixed-length datatypes that allow null values, <i>destlen</i> specifies the maximum length that the destination data can be.</dd>
<dt>
<i>srctype</i></dt>
<dd>
Specifies the datatype of the source data.</dd>
<dt>
<i>srclen</i></dt>
<dd>
Specifies the length, in bytes, of the source data. This value is ignored for fixed-length datatypes.</dd>
<dt>
<i>srcdata</i></dt>
<dd>
Provides the source data address for a particular column. When <b>srv_sendrow</b> is called, it looks for the data for <i>colnumber</i> at <i>srcdata</i>. The source data address can be changed between calls to <b>srv_sendrow</b> by using <b>srv_setcoldata</b>.
<p>
If <i>desttype</i> is SRVDECIMAL or SRVNUMERIC, the <i>srcdata</i> parameter must be a pointer to a DBNUMERIC or DBDECIMAL structure with the precision and scale fields of the structure already set to the desired values. You can use DEFAULTPRECISION to specify a default precision and DEFAULTSCALE to specify a default scale.

</dd>
</dl>
<h4>Returns</h4>
<p>
The number of the column that has been described. The first column is column 1. If an error occurs, returns 0.</p>
<h4>Remarks</h4>
<p>
The <b>srv_describe</b> function must be called once for each column in the row before the first call to <b>srv_sendrow</b>. The columns of a row can be described in any order.</p>
<p>
To change the location and length of the source data in column rows before the complete results set has been sent, use <b>srv_setcoldata</b> and <b>srv_setcollen</b>, respectively.</p>
<p>
The ODS Library automatically performs data conversion between <i>srctype</i> and <i>desttype</i>.</p>
<h4>See Also</h4>
<table cellspacing=4 cols=2>
<tr valign=top>
<th align=left width=27%></th>
<th align=left width=73%></th>
</tr>
<tr valign=top>
<th align=left width=27%></th>
<th align=left width=73%></th>
</tr>
<tr valign=top>
<th align=left width=27%></th>
<th align=left width=73%></th>
</tr>
<tr valign=top>
<th align=left width=27%>This entry</th>
<th align=left width=73%>For information about</th>
</tr>
<tr valign=top>
<td width=27%></td>
<td width=73%></td>
</tr>
<tr valign=top>
<td width=27%><a href="ods04c_8vas.htm"><b>srv_convert</b></a> </td>
<td width=73%>Converting datatypes and supported conversions</td>
</tr>
<tr valign=top>
<td width=27%><a href="ods04h_8s3b.htm"><b>srv_sendrow</b></a></td>
<td width=73%>Sending rows to a client</td>
</tr>
<tr valign=top>
<td width=27%><a href="ods04h_5qld.htm"><b>srv_setcoldata</b></a></td>
<td width=73%>Setting the address for a column's data</td>
</tr>
<tr valign=top>
<td width=27%><a href="ods04h_1885.htm"><b>srv_setutype</b></a></td>
<td width=73%>Setting datatype columns in rows and datatypes that are available</td>
</tr>
</table><br>
<p>
</p>
<p>
</p>
<p>&nbsp;</p></body>
</HTML>
