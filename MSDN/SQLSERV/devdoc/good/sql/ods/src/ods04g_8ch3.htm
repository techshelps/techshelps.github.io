<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>srv_sendmsg</title>
<link disabled rel=stylesheet href=../../../../backsdk3.css>
<style type="text/css">
@import url(../../../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h1><a name="_srv_sendmsg"></a>srv_sendmsg</h1>
<p>
Sends a message to the client.</p>
<h4>Syntax</h4>
<p>
<b>int srv_sendmsg (<br>
SRV_PROC * </b><i>srvproc</i><b>, <br>
int </b><i>msgtype</i><b>, <br>
DBINT </b><i>msgnum</i><b>, <br>
DBTINYINT </b><i>class</i><b>, <br>
DBTINYINT </b><i>state</i><b>, <br>
DBCHAR * </b><i>rpcname</i><b>, <br>
int </b><i>rpcnamelen</i><b>, <br>
DBUSMALLINT </b><i>linenum</i><b>, <br>
DBCHAR * </b><i>message</i><b>, <br>
int </b><i>msglen </i><b>);</b></p>
<p>
where
<dl>
<dt>
<i>srvproc</i></dt>
<dd>
Is a pointer to the SRV_PROC structure that is the handle for a particular client connection (in this case, the handle that received the language request). The structure contains the information that the ODS Library uses to manage communication and data between the Open Data Services server application and the client.</dd>
<dt>
<i>msgtype</i></dt>
<dd>
Is either SRV_MSG_INFO or SRV_MSG_ERROR, depending on whether the server is sending an informational message or an error message.</dd>
<dt>
<i>msgnum</i></dt>
<dd>
Is a 4-byte message number.</dd>
<dt>
<i>class</i></dt>
<dd>
Specifies the severity of the error. A severity less than or equal to 10 is considered an informational message.</dd>
<dt>
<i>state</i></dt>
<dd>
Provides the error state number for the current message. The error state number provides information about the context of the error. Valid state numbers are 1 through 127.</dd>
<dt>
<i>rpcname</i></dt>
<dd>
Is currently not supported.</dd>
<dt>
<i>rpcnamelen</i></dt>
<dd>
Is currently not supported.</dd>
<dt>
<i>linenum</i></dt>
<dd>
Is the line number in the language command batch where the message applies. Line numbers start at 1. If <i>linenum</i> does not apply to the message, set it to 0.</dd>
<dt>
<i>message</i></dt>
<dd>
Is a pointer to the character string that is to be sent to the client.</dd>
<dt>
<i>msglen</i></dt>
<dd>
Specifies the length, in bytes, of <i>message</i>. If <i>message</i> is null-terminated, set <i>msglen</i> to SRV_NULLTERM.
</dd>
</dl>
<h4>Returns</h4>
<p>
SUCCEED or FAIL.</p>
<h4>Remarks</h4>
<p>
This function sends error or other messages to the client. It is called once for each message to be sent.</p>
<p>
Messages sent with <b>srv_sendmsg </b>can be sent to the client in any order before or after all rows, if any, have been sent with <b>srv_sendrow</b>. All messages, if any, must be sent to the client before the completion status is sent with <b>srv_senddone</b>.</p>
<h4>See Also</h4>
<table cellspacing=4 cols=2>
<tr valign=top>
<th align=left width=27%></th>
<th align=left width=73%></th>
</tr>
<tr valign=top>
<th align=left width=27%></th>
<th align=left width=73%></th>
</tr>
<tr valign=top>
<th align=left width=27%>This entry</th>
<th align=left width=73%>For information about</th>
</tr>
<tr valign=top>
<td width=27%></td>
<td width=73%></td>
</tr>
<tr valign=top>
<td width=27%><a href="ods04c_2tt1.htm"><b>srv_errhandle</b></a></td>
<td width=73%>Defining Open Data Services error handlers</td>
</tr>
<tr valign=top>
<td width=27%><a href="ods04g_39ph.htm"><b>srv_senddone</b></a></td>
<td width=73%>Sending a results completion message to the client</td>
</tr>
<tr valign=top>
<td width=27%><a href="ods04h_8s3b.htm"><b>srv_sendrow</b></a></td>
<td width=73%>Sending a row to the client</td>
</tr>
<tr valign=top>
<td width=27%><a href="ods04h_948j.htm"><b>srv_sendstatus</b></a></td>
<td width=73%>Sending a status value to the client</td>
</tr>
</table><br>
<p>&nbsp;</p></body>
</HTML>
