<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>srv_setuserdata</title>
<link disabled rel=stylesheet href=../../../../backsdk3.css>
<style type="text/css">
@import url(../../../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h1><a name="_srv_setuserdata"></a>srv_setuserdata</h1>
<p>
Saves a pointer to private data space in an SRV_PROC structure.</p>
<h4>Syntax</h4>
<p>
<b>int srv_setuserdata (<br>
SRV_PROC * </b><i>srvproc</i><b>, <br>
void * </b><i>ptr </i><b>);</b></p>
<p>
where
<dl>
<dt>
<i>srvproc</i></dt>
<dd>
Is a pointer to the SRV_PROC structure that is the handle for a particular client connection. The structure contains the information that the ODS Library uses to manage communication and data between the Open Data Services server application and the client.</dd>
<dt>
<i>ptr</i></dt>
<dd>
Is a pointer to the private data space for Open Data Services processes.
</dd>
</dl>
<h4>Returns</h4>
<p>
SUCCEED or FAIL.</p>
<h4>Remarks</h4>
<p>
The ODS Library passes the current SRV_PROC structure to most event handlers. A pointer to user data can be saved in the SRV_PROC structure by using <b>srv_setuserdata</b>. This pointer to user data allows Open Data Services server applications to access private data without using global or static variables to hold private data. Open Data Services programs can then be reentrant.</p>
<p>
The <i>ptr</i> pointer is not manipulated in any way by the ODS Library. It is provided only for the convenience of Open Data Services developers. The data that <i>ptr</i> points to can be allocated at connect time and accessed later with <b>srv_getuserdata</b>.</p>
<h4>See Also</h4>
<table cellspacing=4 cols=2>
<tr valign=top>
<th align=left width=27%></th>
<th align=left width=73%></th>
</tr>
<tr valign=top>
<th align=left width=27%></th>
<th align=left width=73%></th>
</tr>
<tr valign=top>
<th align=left width=27%></th>
<th align=left width=73%></th>
</tr>
<tr valign=top>
<th align=left width=27%>This entry</th>
<th align=left width=73%>For information about</th>
</tr>
<tr valign=top>
<td width=27%><a href="ods04d_28dd.htm"><b>srv_getuserdata</b></a></td>
<td width=73%>Getting a pointer to private data space in a server process</td>
</tr>
</table><br>
<p>
</p>
<p>
</p>
<p>&nbsp;</p></body>
</HTML>
