<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>4.11 WFS_CMD_PIN_GET_DATA</TITLE>
<BODY bgcolor=white>

<FONT FACE="verdana"><style>@import url(msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="msdn_ie3.css"></HEAD>
<BODY>
<h5>
4.11 WFS_CMD_PIN_GET_DATA</h5>
<p>
<b>Description</b> This function is used to return keystrokes entered by the user. It will automatically set the PIN pad to echo characters on the display if there is a display. For each keystroke an execute notification event is sent in order to allow an application to perform the appropriate display action (i.e. when the PIN pad has no integrated display).</p>
<p>
 If <i>usMaxLen</i> is zero, the service provider does not terminate the command unless the application sets <i>ulTerminateKeys</i> or <i>ulTerminateFDKs</i>. In the event that <i>ulTerminateKeys</i> or <i>ulTerminateFDKs</i> are not set and <i>usMaxLen</i> is zero, the command will not terminate and the application must issue a WFSCancel command.</p>
<p>
<b>Input Param </b><code>LPWFSPINGETDATA lpPinGetData;</code></p>
<p>
<code>typedef struct _wfs_pin_getdata<BR> {<BR> USHORT  usMaxLen;<BR> BOOL  bAutoEnd;<BR> ULONG  ulActiveFDKs;<BR> ULONG  ulActiveKeys;<BR> ULONG  ulTerminateFDKs;<BR> ULONG  ulTerminateKeys;<BR></code> } WFSPINGETDATA, * LPWFSPINGETDATA;</p>
<p>
 <i>usMaxLen</i><BR>Specifies the maximum number of digits which can be returned to the application in the data buffer.</p>
<p>
 <i>bAutoEnd</i><BR>If <i>bAutoEnd</i> is set to true, the service provider terminates the command when the maximum number of digits are entered. Otherwise, the input is terminated by the user using one of the termination keys. When <i>usMaxLen</i> is reached, the service provider will disable all numeric keys. <i>bAutoEnd</i> is ignored when <i>usMaxLen</i> is set to 0.</p>
<p>
 <i>ulActiveFDKs</i><BR>Specifies those FDKs which are active during the execution of the command.</p>
<p>
 <i>ulActiveKeys</i><BR>Specifies those (other) Function Keys which are active during the execution of the command.</p>
<p>
 <i>ulTerminateFDKs</i><BR>Specifies those FDKs which must terminate the execution of the command.</p>
<p>
 <i>ulTerminateKeys</i><BR>Specifies those (other) Function Keys which must terminate the execution of the command.</p>
<p>
<b>Output Param </b><code>LPWFSPINDATA lpPinData;</code></p>
<pre><FONT FACE="COURIER NEW" SIZE=2>typedef struct _wfs_pin_data<BR> {<BR> LPSTR   lpsData;<BR> WORD   wCompletion;<BR> } WFSPINDATA, * LPWFSPINDATA</FONT></pre>
<p>
 <i>lpsData</i><BR>Pointer to the data entered by the user. This pointer is set to NULL if <i>usMaxLen</i> is set to 0.</p>
<p>
 <i>wCompletion</i><BR>Specifies the reason for completion of the entry. Possible values are:<BR>(see command WFS_CMD_PIN_GET_PIN)</p>
<p>
<b>Error Codes</b> The following additional error codes can be generated by this command:</p>
<p>
Value Meaning</p>
<p>
WFS_ERR_PIN_KEYINVALID At least one of the specified function keys or FDKs is invalid.</p>
<p>
WFS_ERR_PIN_KEYNOTSUPPORTED At least one of the specified function keys or FDKs is not supported by the service provider.</p>
<p>
WFS_ERR_PIN_NOACTIVEKEYS There are no active function keys specified.</p>
<p>
<b>Events </b>The following additional events can be generated by this command:</p>
<p>
Value Meaning</p>
<p>
WFS_EXEE_PIN_KEY A key has been pressed at the PIN pad.</p>
<p>
<b>Comments</b> None.</p>
</BODY>
</HTML>
