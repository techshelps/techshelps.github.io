<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>4.9 WFS_CMD_IDC_CHIP_IO</TITLE>
<BODY bgcolor=white>

<FONT FACE="verdana"><style>@import url(msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="msdn_ie3.css"></HEAD>
<BODY>
<h5>
4.9 WFS_CMD_IDC_CHIP_IO</h5>
<p>
<b>Description</b> This command is used to communicate with the chip. Transparent data is sent from the application to the chip and the response of the chip is returned transparently to the application.</p>
<p>
 The ATR of the chip must be obtained before issuing this command by issuing a Read Command.</p>
<p>
<b>Input Param </b><code>LPWFSIDCCHIPIO</code> <code>lpChipIoIn;</code></p>
<pre><FONT FACE="COURIER NEW" SIZE=2>struct _wfs_idc_chip_io<BR> {<BR> WORD   wChipProtocol;<BR> ULONG   ulChipDataLength;<BR> LPBYTE   lpbChipData;<BR> } WFSIDCCHIPIO, * LPWFSIDCCHIPIO;</FONT></pre>
<p>
<i>wChipProtocol</i></p>
<p>
Identifies the protocol that is used to communicate with the chip. Possible values are those described in WFS_INF_IDC_CAPABILITIES.</p>
<p>
<i>ulChipDataLength</i></p>
<p>
Specifies the length of the following field <i>lpbChipData</i>.</p>
<p>
<i>lpbChipData</i></p>
<p>
Points to the data sent to the chip.</p>
<p>
<b>Output Param</b> <code>LPWFSIDCCHIPIO</code> <code>lpChipIoOut;</code></p>
<pre><FONT FACE="COURIER NEW" SIZE=2>struct _wfs_idc_chip_io<BR> {<BR> WORD   wChipProtocol;<BR> ULONG   ulChipDataLength;<BR> LPBYTE   lpbChipData;<BR> } WFSIDCCHIPIO, * LPWFSIDCCHIPIO;</FONT></pre>
<p>
<i>wChipProtocol</i></p>
<p>
Identifies the protocol that is used to communicate with the chip. This field contains the same value as the corresponding field in the input structure.</p>
<p>
<i>ulChipDataLength</i></p>
<p>
Specifies the length of the following field <i>lpbChipData</i>.</p>
<p>
<i>lpbChipData</i></p>
<p>
Points to the data responded from the chip.</p>
<p>
<b>Error Codes </b>The following additional error codes can be generated by this command:</p>
<p>
Value Meaning</p>
<p>
WFS_ERR_IDC_MEDIAJAM The card is jammed. Operator intervention is required.</p>
<p>
WFS_ERR_IDC_NOMEDIA There is no card inside the device.</p>
<p>
WFS_ERR_IDC_INVALIDMEDIA No chip found; card may have been inserted or pulled through the wrong way.</p>
<p>
WFS_ERR_IDC_INVALIDDATA An error occurred while communicating with the chip.</p>
<p>
WFS_ERR_IDC_PROTOCOLNOTSUPP The protocol used was not supported by the service provider.</p>
<p>
WFS_ERR_IDC_ATRNOTOBTAINED The ATR was not obtained before by issuing a Read Command.</p>
<p>
<b>Events</b> The following additional events can be generated by this command:</p>
<p>
Value Meaning</p>
<p>
WFS_SRVE_IDC_MEDIAREMOVED This event is generated when a card is removed before completion of a write operation.</p>
<p>
<b>Comments </b>None.</p>
</BODY>
</HTML>
