<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>6.9 WFMSetTraceLevel</TITLE>
<BODY bgcolor=white>

<FONT FACE="verdana"><style>@import url(msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="msdn_ie3.css"></HEAD>
<BODY>
<h5>
6.9 WFMSetTraceLevel</h5>
<p>
<b>HRESULT WFMSetTraceLevel</b>(<i> hService, dwTraceLevel </i>)</p>
<p>
Sets the specified trace level(s) at run time; to be used for debugging and testing purposes.</p>
<p>
<b>Parameters</b> <b>HSERVICE</b>   <i>hService</i></p>
<p>
Handle to the service provider as returned by <b>WFSOpen</b> or <b>WFSAsyncOpen</b>.</p>
<p>
 <b>DWORD   </b><i>dwTraceLevel</i></p>
<p>
The level(s) of tracing being requested.  See below.</p>
<p>
<b>Mode</b> Immediate</p>
<p>
<b>Comments </b>Issuing <b>WFMSetTraceLevel</b> for a service enables tracing on that service at various levels.  Five standard trace levels are predefined:</p>
<pre><FONT FACE="COURIER NEW" SIZE=2> WFS_TRACE_API 0x00000001</FONT></pre>
<p>
 Trace all input and output parameters of all API function calls using the specified <i>hService</i>.</p>
<pre><FONT FACE="COURIER NEW" SIZE=2> WFS_TRACE_ALL_API 0x00000002</FONT></pre>
<p>
 Trace all input and output parameters of <b><i>all</i></b> API function calls associated with the service provider identified by the specified <i>hService</i>, <b><i>not</i></b> just the ones associated with the specified <i>hService</i>.</p>
<pre><FONT FACE="COURIER NEW" SIZE=2> WFS_TRACE_SPI 0x00000004</FONT></pre>
<p>
 Trace all input and output parameters of all SPI function calls associated with the specified <i>hService</i>, as well as all notification and event messages generated by the service provider for the <i>hService</i>.</p>
<pre><FONT FACE="COURIER NEW" SIZE=2> WFS_TRACE_ALL_SPI 0x00000008</FONT></pre>
<p>
 As for WFS_TRACE_ALL_API, but trace <b><i>all</i></b> SPI, notification and event activity on the service provider, <b><i>not</i></b> just that associated with the specified <i>hService</i>.</p>
<pre><FONT FACE="COURIER NEW" SIZE=2> WFS_TRACE_MGR 0x00000010</FONT></pre>
<p>
 Trace the support functions (<b>WFMxxxxx</b>) of the XFS Manager.</p>
<p>
 Other standard trace levels may be defined in the future, and a range of trace level values (the high order 16 bits of this parameter) is reserved for use by individual service providers.  Examples of other functions that may be traced include network messages, interactions between the service provider and service, and device interface interaction.</p>
<p>
 Trace level values can be ORed together in a single <i>dwTraceLevel</i> parameter to request more than one kind of tracing be started.  A NULL value stops all tracing.  </p>
<p>
 If more than one process may be using the trace facility, this function should always be preceded with a call to the <b>WFMGetTraceLevel</b> function.  This value returned by this function is ORed together with the new trace level(s), and the resulting value is used with <b>WFMSetTraceLevel</b>, thus adding the new trace level(s) to whatever the existing trace level(s) had been,</p>
<p>
 This function has the highest priority to the XFS Manager and the service provider; they activate the trace as soon as possible.  Note that the XFS Manager performs all the traces defined above, other than the completion and event messages posted by the service providers.</p>
<p>
 <b>WFSOpen</b> and <b>WFSAsyncOpen</b> also include an option to set these trace levels, to allow the open process itself to be traced.</p>
<p>
<b>Error Codes</b> If the function return is not WFS_SUCCESS, it is one of the following error conditions:</p>
<dl>
<dt>
WFS_ERR_INVALID_HSERVICE</dt>
<dd>
The <i>hService</i> parameter is not a valid service handle.<br>
</dd>
<dt>
WFS_ERR_INVALID_TRACELEVEL</dt>
<dd>
The <i>dwTraceLevel</i> parameter does not correspond to a valid trace level or set of levels.<br>
</dd>
<dt>
WFS_ERR_NOT_STARTED</dt>
<dd>
The application has not previously performed a successful <b>WFSStartUp</b>.<br>
</dd>
<dt>
WFS_ERR_OP_IN_PROGRESS</dt>
<dd>
A blocking operation is in progress on the thread; only <b>WFSCancelBlockingCall</b> and <b>WFSIsBlocking</b> are permitted at this time.</dd>
</dl>
<p>
<b>See Also WFMGetTraceLevel, WFPSetTraceLevel, WFSOpen, WFSAsyncOpen</b></p>
</BODY>
</HTML>
