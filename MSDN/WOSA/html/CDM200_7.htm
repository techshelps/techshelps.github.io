<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>3.2 WFS_INF_CDM_CAPABILITIES</TITLE>
<BODY bgcolor=white>

<FONT FACE="verdana"><style>@import url(msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="msdn_ie3.css"></HEAD>
<BODY>
<h5>
3.2 WFS_INF_CDM_CAPABILITIES</h5>
<p>
<b>Description</b> This command is used to retrieve the capabilities of the cash dispenser.</p>
<p>
<b>Input Param </b>None.</p>
<p>
<b>Output Param</b> <code>LPWFSCDMCAPS lpCaps;</code></p>
<pre><FONT FACE="COURIER NEW" SIZE=2>typedef struct _wfs_cdm_caps<BR> {<BR> WORD   wClass;<BR> WORD   fwType;<BR> WORD   wMaxBills;<BR> WORD   wMaxCoins;<BR> BOOL   bCompound;<BR> BOOL   bShutter;<BR> BOOL   bRetract;<BR> BOOL   bSafeDoor;<BR> BOOL   bCoins;<BR> BOOL   bCylinders;<BR> BOOL   bCashBox;<BR> BOOL   bCashIn;<BR> BOOL   bRefill;<BR> BOOL   bAutoDeposit;<BR> BOOL   bVandalCheck;<BR> BOOL   bIntermediateStacker;<BR> BOOL   bBillsTakenSensor; <BR> WORD   fwOutputPositions;<BR> LPSTR   lpszExtra;<BR> } WFSCDMCAPS, * LPWFSCDMCAPS;</FONT></pre>
<p>
 <i>wClass</i><BR>Specifies the logical service class. Value is:</p>
<p>
 WFS_SERVICE_CLASS_CDM</p>
<p>
 <i>fwType</i><BR>Specifies the type of the physical device driven by the logical service. Values are:</p>
<p>
Value Meaning</p>
<p>
WFS_CDM_TYPEATSAFE Device is an Automated Teller Safe.</p>
<p>
WFS_CDM_TYPEATMACHINE Device is an Automated Teller Machine.</p>
<p>
 <i>wMaxBills</i><BR>Specifies the maximum number of bills or documents that can be dispensed by a single dispensing command; normally reflects hardware limitations of the device. If <i>wMaxBills</i> is 0 then no limit applies to the number of bills to be dispensed in a single dispense command. If the number of bills to be dispensed exceeds the hardware limitations of the device, this will be implemented by the Service Provider by multiple dispenses.</p>
<p>
 <i>wMaxCoins</i><BR>Specifies the maximum number of coins that can be dispensed by a single dispensing command; normally reflects hardware limitations of the device.</p>
<p>
<i> bCompound</i><BR>Specifies whether the logical device is part of a compound physical device and is either TRUE or FALSE.</p>
<p>
 <i>bShutter</i><BR>Specifies whether the cash dispenser transport mechanism includes a shutter which normally is controlled by the dispensE or PRESENT command, but can be explicitly opened using WFS_CMD_CDM_OPEN_SHUTTER and closed using WFS_CMD_CDM_CLOSE_SHUTTER. Value is either TRUE or FALSE.</p>
<p>
 <i>bRetract</i><BR>Specifies whether the cash dispenser transport mechanism has the ability to retract presented bills. Value is either TRUE or FALSE. If no separate retract cash unit is present in the physical device, then retracts are retracted to the reject cash unit.</p>
<p>
 <i>bSafedoor</i><BR>Specifies whether the safe door has an electrical time lock, controlled by the WFS_CMD_CDM_OPEN_SAFE_DOOR command. Value is either TRUE or FALSE.</p>
<p>
 <i>bCoins</i><BR>Specifies whether the cash dispenser device includes a coin dispensing facility. Value is either TRUE or FALSE.</p>
<p>
 <i>bCylinders</i><BR>Specifies whether the coin dispenser device allows for number of coins per cylinder as input, or whether only totals are allowed. Value is either TRUE or FALSE.</p>
<p>
 <i>bCashBox</i><BR>Specifies whether the service provides the ability to count for a cashbox assigned to each teller. Value is either TRUE or FALSE. This field is always FALSE if the <i>fwType</i> is WFS_CDM_TYPEATMACHINE.</p>
<p>
 <i>bCashIn</i><BR>Specifies whether the service provides the ability to accumulate a cash in amount per currency assigned to each teller. Value is either TRUE or FALSE.</p>
<p>
 <i>bRefill</i><BR>Specifies that the device is equipped with cassettes that can be refilled during runtime by just dropping a bundle of bills on top of the stack. Normally, the device cannot detect and count the number of bills in the cassettes. Value is either TRUE or FALSE.</p>
<p>
 <i>bAutoDeposit</i><BR>Specifies whether the cash in device is able to deposit money and to provide the denomination as result. Value is either TRUE or FALSE.</p>
<p>
 <i>bVandalCheck</i><BR>Specifies whether the physical device includes a feature to check for vandalism. Value is either TRUE or FALSE.</p>
<p>
 <i>bIntermediateStacker<BR></i>Specifies whether or not the cash dispenser device supports stacking bills to an intermediate position before the bills are presented to the exit position. Value is either TRUE or FALSE. TRUE means the capability exists and the DISPENSE command can optionally stack bills using the input parameter <i>bPresent</i>=FALSE. Following this DISPENSE, a PRESENT command or REJECT command may be issued. FALSE means the DISPENSE command with a <i>bPresent</i> parameter of FALSE will be rejected with WFS_ERR_UNSUPP_COMMAND.</p>
<p>
<i> bBillsTakenSensor<BR></i>Specifies whether or not the cash dispenser has the ability to detect when bills delivered to the exit position are taken by the user. TRUE means a sensor exists and the “bills taken” condition can be detected.</p>
<p>
<i> fwOutputPositions<BR></i>Specifies which output positions are available on the physical device as a combination of the following flags:</p>
<p>
Value Meaning</p>
<p>
WFS_CDM_POSLEFT Device has a left output position.</p>
<p>
WFS_CDM_POSRIGHT Device has a right output position.</p>
<p>
WFS_CDM_POSCENTER Device has a center output position.</p>
<p>
<i> lpszExtra</i><BR>Pointer to a list of vendor-specific, or any other extended information. The information is returned as a series of  “<i>key=value</i>” strings so that it is easily extensible by service providers. Each string is null-terminated, with the final string terminating with two null characters.</p>
<p>
<b>Error Codes</b> There are no additional error codes generated by this command.</p>
<p>
<b>Comments</b> Applications which require or expect specific information to be present in the <i>lpszExtra</i><b> </b>parameter may not be device or vendor-independent.</p>
</BODY>
</HTML>
