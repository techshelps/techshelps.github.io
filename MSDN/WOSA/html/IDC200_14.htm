<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>4.4 WFS_CMD_IDC_RETAIN_CARD</TITLE>
<BODY bgcolor=white>

<FONT FACE="verdana"><style>@import url(msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="msdn_ie3.css"></HEAD>
<BODY>
<h5>
4.4 WFS_CMD_IDC_RETAIN_CARD</h5>
<p>
<b>Description</b> The card is removed from its present position (card inserted into device, card entering, unknown position) and stored in the retain bin; applicable to motor-driven card readers only. The ID card unit sends an event, if the storage capacity of the retain bin is reached. If the storage capacity has already been reached, and the command cannot be executed, an error is returned and the card remains in its present position.</p>
<p>
If the execution of this command is performed without errors, the total number of cards retained includes the current card. If, however, an error occurs during the execution, the total number of cards retained does not include the current card.</p>
<p>
<b>Input Param</b> None.</p>
<p>
<b>Output Param</b> <code>LPWFSIDCRETAINCARD</code> <code>lpRetainCard</code>;</p>
<pre><FONT FACE="COURIER NEW" SIZE=2>typedef struct _wfs_idc_retain_card<BR> {<BR> USHORT  usCount;<BR> WORD  fwPosition;<BR> } WFSIDCRETAINCARD, * LPWFSIDCRETAINCARD;</FONT></pre>
<p>
 <i>usCount</i><BR>Total number of ID cards retained up to and including this operation, since the last WFS_CMD_IDC_RESET_COUNT command was executed.</p>
<p>
 <i>fwPosition</i><BR>Position of card; only relevant if card could not be retained. Possible positions:</p>
<p>
Value Meaning</p>
<p>
WFS_IDC_MEDIAUNKNOWN The position of the card can not be determined with the device in its current state.</p>
<p>
WFS_IDC_MEDIAPRESENT The card is present in the reader.</p>
<p>
WFS_IDC_MEDIAENTERING The card is in the entering position (shutter).</p>
<p>
<b>Error Codes </b>The following additional error codes can be generated by this command:</p>
<p>
Value Meaning</p>
<p>
WFS_ERR_IDC_MEDIAJAM The card is jammed. Operator intervention is required. </p>
<p>
WFS_ERR_IDC_NOMEDIA No card has been inserted. The <i>fwPosition</i> parameter has the value WFS_IDC_MEDIAUNKNOWN.</p>
<p>
WFS_ERR_IDC_RETAINBINFULL The retain bin is full; no more cards can be retained. The current card is still in the device.</p>
<p>
<b>Events  </b>The following additional events can be generated by this command:</p>
<p>
Value Meaning</p>
<p>
WFS_USRE_IDC_RETAINBINTHRESHOLD The retain bin reached a threshold value.</p>
<p>
<b>Comments</b> This is a fundamental capability of an ID card unit; thus if a retain request is received by a device with no retain capability, the WFS_ERR_UNSUPP_COMMAND error is returned.</p>
</BODY>
</HTML>
