<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>2. Vendor Dependent Mode</TITLE>
<BODY bgcolor=white>

<FONT FACE="verdana"><style>@import url(msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="msdn_ie3.css"></HEAD>
<BODY>
<h4>
2. Vendor Dependent Mode</h4>
<p>
This specification describes the functionality of the services provided by the Vendor Dependent Mode (VDM) services under WOSA/XFS, by defining the service-specific commands that can be issued, using the<b> WFSGetInfo,</b> <b>WFSAsyncGetInfo</b>, <b>WFSExecute</b> and <b>WFSAsyncExecute</b> functions.</p>
<p>
In all device classes there needs to be some method of going into a vendor specific mode to allow for capabilities which go beyond the scope of the current WOSA/XFS specifications. A typical usage of such a mode might be to handle some configuration or diagnostic type of function or perhaps perform some 'off-line' testing of the device. These functions are normally available on Self-Service devices in a mode traditionally referred to as Maintenance Mode or Supervisor Mode and usually require operator intervention. It is those vendor-specific functions not covered by (and not required to be covered by) WOSA/XFS Service Providers that will be available once the device is in Vendor-Dependent mode. </p>
<p>
This service provides the mechanism for switching to and from Vendor Dependent Mode. The VDM Service Provider can be seen as the central point through which all Enter and Exit VDM requests are synchronised.</p>
<p>
Entry into, or exit from, Vendor Dependent Mode can be initiated either by an application or by the VDM Service Provider itself. If initiated by an application, then this application needs to issue the appropriate command to request entry or exit. If initiated by the VDM Service Provider i.e. some vendor dependent switch, then these request commands are in-appropriate and not issued.</p>
<p>
Once the entry request  has been made, all registered applications will be notified of the entry request by an event message. These applications must attempt to close all open sessions with WOSA/XFS Service Providers as soon as possible and then issue an acknowledgement command to the VDM Service Provider when ready. Once all applications have acknowledged, the VDM Service Provider will issue event messages to these applications to indicate that the System is in Vendor Dependent Mode.</p>
<p>
Similarly, once the exit request has been made all registered applications will be notified of the exit request by an event message. These applications must then issue an acknowledgement command to the VDM Service Provider immediately. Once all applications have acknowledged, the VDM Service Provider will issue event messages to these applications to indicate that the System has exited from Vendor Dependent Mode. </p>
<p>
Thus, WOSA/XFS compliant applications that do not need the system to be in Vendor Dependent Mode, must comply with the following:</p>
<p>
- Every WOSA/XFS application should open a session with the VDM ServiceProvider passing a valid ApplId and then register for all VDM entry and exit notices.</p>
<p>
- Before opening any session with any other WOSA/XFS Service Provider, check the status of the VDM Service Provider. If Vendor Dependent Mode is not “Inactive”, do not open a session.</p>
<p>
- When getting a VDM entry notice, close all open sessions with all other WOSA/XFS Service Providers as soon as possible and issue an acknowledgement for the entry to VDM.</p>
<p>
- When getting a VDM exit notice, acknowledge at once.</p>
<p>
- When getting a VDM exited notice, re-open any required sessions with other WOSA/XFS Service Providers.</p>
<p>
<b>VDM Entry triggered by WOSA/XFS Application</b></p>
<p>
   </p>
<p>
At time t0,  status is “Inactive” and a request to Enter VDM arises from within the Application system. </p>
<p>
At time t1, an Application Process/Thread/Function issues the CMD_ENTER_MODE_REQ Execute cmd.</p>
<p>
Status then becomes  “Enter Pending”.</p>
<p>
At time t2, the VDM Service Provider issues the SRVE_ENTER_MODE_REQ Event to all registered applications.</p>
<p>
At time t3, the VDM Service Provider receives a CMD_ENTER_MODE_ACK Execute Commandfrom a WOSA/XFS Compliant Application</p>
<p>
At time t4, the VDM Service Provider receives a CMD_ENTER_MODE_ACK Execute Commandfrom another  WOSA/XFS Compliant Application</p>
<p>
At time t5, the VDM Service Provider receives a CMD_ENTER_MODE_ACK Execute Commandfrom the last WOSA/XFS Compliant Application</p>
<p>
At time t6, the VDM Service Provider issues the SYSE_MODEENTERED Event to all registered applications</p>
<p>
Status then becomes “Active”.</p>
<p>
The system is now in Vendor Dependent Mode and the Vendor Dependent Application can exclusively use the system devices in a Vendor Dependent manner.</p>
<p>
<b>VDM Entry triggered by Vendor Dependent Switch</b></p>
<p>
   </p>
<p>
At time t0, status is “Inactive” and a request to Enter VDM arises from within the Vendor System.</p>
<p>
Status then becomes “Enter Pending”.</p>
<p>
At time t1, the VDM Service Provider issues the SRVE_ENTER_MODE_REQ Event to all registered applications.</p>
<p>
At time t2, the VDM Service Provider receives a CMD_ENTER_MODE_ACK Execute Commandfrom a WOSA/XFS Compliant Application</p>
<p>
At time t3, the VDM Service Provider receives a CMD_ENTER_MODE_ACK Execute Commandfrom another  WOSA/XFS Compliant Application</p>
<p>
At time t4, the VDM Service Provider receives a CMD_ENTER_MODE_ACK Execute Commandfrom the last WOSA/XFS Compliant Application</p>
<p>
At time t5, the VDM Service Provider issues the SYSE_MODEENTERED Event to all registered applications</p>
<p>
Status then becomes “Active”.</p>
<p>
The system is now in Vendor Dependent Mode and the Vendor Dependent Application can exclusively use the system devices in a Vendor Dependent manner.</p>
<p>
<b>VDM Exit triggered by WOSA/XFS Application</b></p>
<p>
   </p>
<p>
At time t0, status is “Active” and a request to Exit VDM arises from within the Application system. </p>
<p>
At time t1, an Application Process/Thread/Function issues the CMD_EXIT_MODE_REQ Execute cmd.</p>
<p>
Status then becomes  “Exit Pending”.</p>
<p>
At time t2, the VDM Service Provider issues the SRVE_EXIT_MODE_REQ Event to all registered applications.</p>
<p>
At time t3, the VDM Service Provider receives a CMD_EXIT_MODE_ACK Execute Commandfrom a WOSA/XFS Compliant Application</p>
<p>
At time t4, the VDM Service Provider receives a CMD_EXIT_MODE_ACK Execute Commandfrom another  WOSA/XFS Compliant Application</p>
<p>
At time t5, the VDM Service Provider receives a CMD_EXIT_MODE_ACK Execute Commandfrom the last WOSA/XFS Compliant Application</p>
<p>
At time t6, the VDM Service Provider issues the SYSE_MODEEXITED Event to all registered applications</p>
<p>
Status then becomes “Inactive”.</p>
<p>
The system is now no longer in Vendor Dependent Mode and the WOSA/XFS Compliant Applications can re-open any required services with other WOSA/XFS Service Providers.</p>
<p>
<b>VDM Exit triggered by Vendor Dependent Switch</b></p>
<p>
   </p>
<p>
At time t0, status is “Active” and a request to Exit VDM arises from within the Vendor System.</p>
<p>
Status then becomes “Exit Pending”.</p>
<p>
At time t1, the VDM Service Provider issues the SRVE_EXIT_MODE_REQ Event to all registered applications.</p>
<p>
At time t2, the VDM Service Provider receives a CMD_EXIT_MODE_ACK Execute Commandfrom a WOSA/XFS Compliant Application</p>
<p>
At time t3, the VDM Service Provider receives a CMD_EXIT_MODE_ACK Execute Commandfrom another WOSA/XFS Compliant Application</p>
<p>
At time t4, the VDM Service Provider receives a CMD_EXIT_MODE_ACK Execute Commandfrom the last WOSA/XFS Compliant Application</p>
<p>
At time t5, the VDM Service Provider issues the SYSE_MODEEXITED Event to all registered applications.</p>
<p>
Status then becomes “Inactive”.</p>
<p>
The system is now no longer in Vendor Dependent Mode and the WOSA/XFS Compliant Applications can re-open any required services with other WOSA/XFS Service Providers.</p>
</BODY>
</HTML>
