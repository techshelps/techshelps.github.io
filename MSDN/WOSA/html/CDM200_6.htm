<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>3.1 WFS_INF_CDM_STATUS</TITLE>
<BODY bgcolor=white>

<FONT FACE="verdana"><style>@import url(msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="msdn_ie3.css"></HEAD>
<BODY>
<h5>
3.1 WFS_INF_CDM_STATUS</h5>
<p>
<b>Description</b> This command is used to request the status of the devices attached to a CDM, such as the safedoor and other devices, or to retrieve device-specific information.</p>
<p>
<b>Input Param</b> None.</p>
<p>
<b>Output Param</b> <code>LPWFSCDMSTATUS lpStatus</code>;</p>
<pre><FONT FACE="COURIER NEW" SIZE=2>typedef struct _wfs_cdm_status<BR> {<BR> WORD   fwDevice;<BR> WORD   fwSafeDoor;<BR> WORD   fwDispenser;
 WORD   fwIntermediateStacker;
 LPWFSCDMOUTPOS * lppOutputPositions;
 LPSTR   lpszExtra; <BR> } WFSCDMSTATUS, *  LPWFSCDMSTATUS;</FONT></pre>
<p>
 <i>fwDevice</i><BR>Specifies the state of the cash dispenser device as one of the following flags:</p>
<p>
Value Meaning</p>
<p>
WFS_CDM_DEVONLINE The device is online. This is returned when the dispenser is present and operational. The <i>fwDispenser</i> field should be checked to determine the state of the cash units; if the state is WFS_CDM_DISPCUSTOP, no bills can be dispensed. The <i>fwSafeDoor</i> field can be checked to determine the state of the safe door, but note that the effect of the door state on the ability to dispense cash depends on the implementation of the specific service.</p>
<p>
WFS_CDM_DEVOFFLINE The device is present and powered on, but is offline.</p>
<p>
WFS_CDM_DEVPOWEROFF The device is present but is powered off.</p>
<p>
WFS_CDM_DEVBUSY The device is busy processing a <b>WFS[Async]Execute</b> or <b>WFS[Async]GetInfo</b> request.</p>
<p>
WFS_CDM_DEVNODEVICE There is no device connected.</p>
<p>
WFS_CDM_DEVUSERERROR The device is present but a person is preventing proper device operation. The application should suspend the device from service until the service provider generates a device state change event indicating the condition of the device has changed, e.g., the error is removed (WFS_CDM_DEVONLINE) or a permanent error condition has occurred (WFS_CDM_DEVHWERROR).</p>
<p>
WFS_CDM_DEVHWERROR The device is present and powered on, but is inoperable due to a hardware error. The device stays in this condition until the hardware error is cleared.</p>
<p>
 <i>fwSafeDoor</i><BR>Specifies the state of the safe door as one of the following flags:</p>
<p>
Value Meaning</p>
<p>
WFS_CDM_DOORNOTSUPPORTED Physical device has no safe door or door state reporting is not supported.</p>
<p>
WFS_CDM_DOOROPEN Safe door is open.</p>
<p>
WFS_CDM_DOORCLOSED Safe door is closed but not locked.</p>
<p>
WFS_CDM_DOORLOCKED Safe door is closed and locked.</p>
<p>
WFS_CDM_DOORUNKNOWN Due to a hardware error or other condition, the state of the door cannot be determined.</p>
<p>
 <i>fwDispenser</i><BR>Specifies the state of the dispenser cash units as one of the following flags:</p>
<p>
Value Meaning</p>
<p>
WFS_CDM_DISPOK All logical cash units present are in a good state.</p>
<p>
WFS_CDM_DISPCUSTATE One of the logical cash units present is in an abnormal state. The dispenser is operational, but one or more of the cash units is in a low, empty or inoperative condition. Bills can still be dispensed from at least one of the cash units.</p>
<p>
WFS_CDM_DISPCUSTOP Due to a cash unit failure dispensing is impossible. The dispenser is operational, but no bills can be dispensed because all of the cash units are in an empty or inoperative condition. This state also occurs when a reject cash unit is full or no reject cassette is present.</p>
<p>
WFS_CDM_DISPCUUNKNOWN Due to a hardware error or other condition, the state of the cash units cannot be determined.</p>
<p>
 <i>fwIntermediateStacker</i><BR>Specifies the state of the intermediate stacker as one of the following flags:</p>
<p>
Value Meaning</p>
<p>
WFS_CDM_ISEMPTY The intermediate stacker is empty.</p>
<p>
WFS_CDM_ISNOTEMPTY The intermediate stacker is not empty.</p>
<p>
WFS_CDM_ISUNKNOWN Due to a hardware error or other condition, the state of the intermediate stacker cannot be determined.</p>
<p>
WFS_CDM_ISNOTSUPPORTED The physical device has no intermediate stacker.</p>
<p>
<i> lppOutputPositions<BR></i>Pointer to a NULL terminated array of pointers to WFSCDMOUTPOS structures (one for each supported output position):</p>
<pre><FONT FACE="COURIER NEW" SIZE=2>typedef struct _wfs_cdm_outpos<BR> {<BR> WORD   fwPosition;<BR> WORD   fwShutter;<BR> WORD   fwOutputPosition;<BR> WORD   fwTransport;<BR> } WFSCDMOUTPOS, * LPWFSCDMOUTPOS;</FONT></pre>
<p>
 <i>fwPosition</i><BR>Specifies the output position as one of the following flags:</p>
<p>
Value Meaning</p>
<p>
WFS_CDM_POSLEFT left output position.</p>
<p>
WFS_CDM_POSRIGHT right output position.</p>
<p>
WFS_CDM_POSCENTER center output position.</p>
<p>
 <i>fwShutter</i><BR>Specifies the state of the shutter as one of the following flags:</p>
<p>
Value Meaning</p>
<p>
WFS_CDM_SHTCLOSED The shutter is closed.</p>
<p>
WFS_CDM_SHTOPEN The shutter is opened.</p>
<p>
WFS_CDM_SHTJAMMED The shutter is jammed.</p>
<p>
WFS_CDM_SHTUNKNOWN Due to a hardware error or other condition, the state of the shutter cannot be determined.</p>
<p>
WFS_CDM_SHTNOTSUPPORTED The physical device has no shutter or shutter state reporting is not supported.</p>
<p>
 <i>fwOutputPosition</i><BR>Specifies the state of the cash tray as one of the following flags:</p>
<p>
Value Meaning</p>
<p>
WFS_CDM_CTEMPTY The cash tray is empty.</p>
<p>
WFS_CDM_CTNOTEMPTY The cash tray is not empty.</p>
<p>
WFS_CDM_CTUNKNOWN Due to a hardware error or other condition, the state of the cash tray cannot be determined.</p>
<p>
WFS_CDM_CTNOTSUPPORTED The physical device has no cash tray or cash tray state reporting is not supported.</p>
<p>
 <i>fwTransport</i><BR>Specifies the state of the transport mechanism as one of the following flags:</p>
<p>
Value Meaning</p>
<p>
WFS_CDM_TPOK The transport is in a good state.</p>
<p>
WFS_CDM_TPINOP The transport is inoperative due to a hardware failure or media jam.</p>
<p>
WFS_CDM_TPUNKNOWN Due to a hardware error or other condition, the state of the transport cannot be determined.</p>
<p>
WFS_CDM_TPNOTSUPPORTED The physical device has no transport or transport state reporting is not supported.</p>
<p>
<i> lpszExtra</i><BR>Points to a list of vendor-specific, or any other extended information. The information is returned as a series of  “<i>key=value</i>” strings so that it is easily extensible by service providers. Each string will be null-terminated, with the final string terminating with two null characters.</p>
<p>
<b>Error Codes</b> There are no additional error codes generated by this command.</p>
<p>
<b>Comments</b> Applications which require or expect specific information to be present in the <i>lpszExtra</i><b> </b>parameter may not be device or vendor-independent.</p>
</BODY>
</HTML>
