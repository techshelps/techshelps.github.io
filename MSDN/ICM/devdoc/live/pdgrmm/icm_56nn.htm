<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>CMTranslateRGBs</title>
<link disabled rel=stylesheet href=../../backsdk3.css>
<style type="text/css">
@import url(../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h1><a name="_win32_cmtranslatergbs"></a>CMTranslateRGBs</h1>
<p>
<span style=color:#FF0000>[This is preliminary documentation and subject to change.]</span> </p>
<p>
The <b>CMTranslateRGBs</b> function translates a bitmap from one <a href="icmglsry_6ysj.htm#_win32_icm_2.0_glossary_color_space_gloss">color space</a> to another using a color transform. </p>
<pre><code><b>BOOL WINAPI CMTranslateRGBs(
  HCMTRANSFORM </b><i>hcmTransform</i><b>,</b>
<b>  LPVOID </b><i>lpSrcBits</i><b>, </b>
<b>  BMFORMAT</b><i> bmInput</i><b>, </b>
<b>  DWORD </b><i>dwWidth</i><b>, </b>
<b>  DWORD </b><i>dwHeight</i><b>, </b>
<b>  DWORD </b><i>dwStride</i><b>,</b>
<b>  LPVOID </b><i>lpDestBits</i><b>, </b>
<b>  BMFORMAT </b><i>bmOutput</i><b>, </b>
<b>  DWORD </b><i>dwTranslateDirectio</i>n
<b>);</b>
 </code></pre>
<h4>Parameters</h4>
<dl>
<dt>
<i>hcmTransform</i></dt>
<dd>
Specifies the color transform to use.</dd>
<dt>
<i>lpSrcBits</i></dt>
<dd>
Points to the bitmap to translate.</dd>
<dt>
<i>bmInput</i></dt>
<dd>
Specifies the input bitmap format.</dd>
<dt>
<i>dwWidth</i></dt>
<dd>
Specifies the number of pixels per scan line in the input bitmap.</dd>
<dt>
<i>dwHeight</i></dt>
<dd>
Specifies the number of scan lines in the input bitmap.</dd>
<dt>
<i>dwStride</i></dt>
<dd>
Specifies the number of bytes from the beginning of one scan line to the beginning of the next in the input bitmap. If <i>dwStride</i> is set to zero, the CMM should assume that scan lines are padded so as to be <b>DWORD-</b>aligned.</dd>
<dt>
<i>lpDestBits</i></dt>
<dd>
Points to a destination buffer in which to place the translated bitmap.</dd>
<dt>
<i>bmOutput</i></dt>
<dd>
Specifies the output bitmap format.</dd>
<dt>
<i>dwTranslateDirection</i></dt>
<dd>
Specifies the direction of the transform being used for the translation. This parameter must take one of the following values:
<table cellspacing=4 cols=2>
<tr valign=top>
<th align=left width=31%>Value</th>
<th align=left width=69%>Meaning</th>
</tr>
<tr valign=top>
<td width=31%>CMS_FORWARD</td>
<td width=69%>Use forward transform</td>
</tr>
<tr valign=top>
<td width=31%>CMS_BACKWARD</td>
<td width=69%>Use reverse transform</td>
</tr>
</table><br>

</dd>
</dl>
<h4>Return Values</h4>
<p>
If this function succeeds, the return value is TRUE. </p>
<p>
If this function fails, the return value is FALSE and the CMM should call <b>SetLastError</b> to set the last error to a valid error value defined in Winerror.h.</p>
<h4>Remarks</h4>
<p>
Every CMM is required to export this function.</p>
<p>
When writing into the destination buffer, the CMM should make sure that scan lines are padded to be <b>DWORD</b>-aligned.</p>
<p>
If the input and output formats are not compatible with the color transform, this function fails.</p>
<p>
If both input and output bitmap formats are 3 channel, 4 bytes per pixel as in the case of BM_xRGBQUADS, the 4th bytes should be preserved and copied to the output buffer.</p>
<p>
Note that this function must support in-place translation. That is, whenever the memory footprint of the output is less than or equal to the memory footprint of the input, this function must be able to translate the bitmap colors even if the source and destination buffers are the same. </p>
<h4>QuickInfo</h4>
<p>
<b>&nbsp;&nbsp;Windows NT: </b>Requires version 5.0 or later.<br>
<b>&nbsp;&nbsp;Windows: </b>Requires Windows 98.<br>
<b>&nbsp;&nbsp;Windows CE: </b>Unsupported.<br>
<b>&nbsp;&nbsp;Header: </b>Declared in wingdi.h.<br>
<b>&nbsp;&nbsp;Import Library: </b>Use gdi32.lib.</p>
<h4>See Also</h4>
<p>
<a href="icm_156c.htm">Color Management Overview</a>, <a href="icm_4f77.htm">ICM 2.0 Functions</a> </p>
<p>&nbsp;</p></body>
</HTML>
