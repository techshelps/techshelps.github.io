<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Using Color Management on the Internet</title>
<link disabled rel=stylesheet href=../../backsdk3.css>
<style type="text/css">
@import url(../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h3><a name="_win32_using_color_management_on_the_internet"></a>Using Color Management on the Internet</h3>
<p>
<span style=color:#FF0000>[This is preliminary documentation and subject to change.]</span> </p>
<p>
Color images and graphics are an increasingly important way of communicating information for users of the Internet. Color conversion information can be embedded in some file formats. The embedding techniques currently used are not compact. Internet bandwidth considerations often make them impractical. Internet considerations include the following topics:
<ul>
<li>
<a href="#_win32_srgb_a_proposed_standard_color_space">sRGB: A Proposed Standard Color Space</a></li>
<li>
<a href="#_win32_icm_2.0_defaults_for_input_color_space_and_output_profile">ICM 2.0 Defaults for Input Color Space and Output Profile</a></li>
<li>
<a href="#_win32_srgb_and_embedded_profiles">sRGB and Embedded Profiles</a></li>
</ul>

<h4><a name="_win32_srgb_a_proposed_standard_color_space"></a>sRGB: A Proposed Standard Color Space</h4>
<p>
As a result of Internet bandwidth considerations, Hewlett-Packard and Microsoft have proposed the adoption of a standard predefined <a href="icmglsry_6ysj.htm#_win32_icm_2.0_glossary_color_space_gloss">color space</a> known as <i>sRGB</i>, so as to allow accurate <a href="icmglsry_6ysj.htm#_win32_icm_2.0_glossary_color_mapping_gloss">color mapping</a> with very little data overhead. A white paper discussing the technical issues involved in sRGB is available on the Internet at:</p>
<p class=indent1>
http://www.color.org/contrib/sRGB.html</p>
<p>
A help-file version of the white paper, sRGB.hlp, is also available in the \Help folder of the ICM 2.0 Programmer's Reference. </p>
<p>
Different file formats may use or add a flag to specify that the image is in sRGB color space. In the Windows device-independent bitmap (DIB) format, setting the <b>bV5CSType</b> member of the <a href="icm_7s1c.htm#_win32_windows_bitmap_header_structures"><b>BITMAPV5HEADER</b></a> structure to LCS_sRGB specifies that the DIB colors are in the sRGB color space.</p>
<p>
ICM 2.0 provides native support for sRGB. There are two ways to use ICM 2.0 for rendering an image defined in the sRGB color space: 
<ul>
<li>
<i>Inside the device context</i>: <ol>
<li>
Create a device context (DC) on the display device.</li>
<li>
Set color management using the <a href="icm_52lh.htm"><b>SetICMMode</b></a> function.</li>
<li>
Use the <b>SetDIBitsToDevice</b> function to transfer the DIB into the DC. As long as the <b>bV5CSMType</b> member of the DIBs <a href="icm_7s1c.htm#_win32_windows_bitmap_header_structures"><b>BITMAPV5HEADER</b></a> structure is set to LCS_sRGB, the system will perform the appropriate color management.</li>
</ol>
</li>
<li>
<i>Outside the device context</i>: <ol>
<li>
Create a transform using <a href="icm_71il.htm"><b>CreateColorTransform</b></a>. The <b>lcsCSType</b> member of the <a href="icm_2lf6.htm"><b>LOGCOLORSPACE</b></a> structure pointed to by the <i>pLogColorSpace</i> parameter should be set to LCS_sRGB. The <i>hDestProfile</i> parameter indicates the display device's color space. </li>
<li>
Use the created color transform to color match the image before displaying it on the device. </li>
</ol>
</li>
</ul>

<h4><a name="_win32_icm_2.0_defaults_for_input_color_space_and_output_profile"></a>ICM 2.0 Defaults for Input Color Space and Output Profile</h4>
<p>
When no input color space is specified, by default ICM 2.0 uses the sRGB color space as the input color space for <a href="icmglsry_6ysj.htm#_win32_icm_2.0_glossary_color_mapping_gloss">color mapping</a>. </p>
<p>
When no output profile is specified, but a default device is specified, ICM 2.0 selects a default output profile. If the default device does not have an associated profile, ICM 2.0 uses the sRGB color space as the output profile.</p>
<p>
The following table shows the resulting color transforms when a default device is not available.</p>
<table cellspacing=4 cols=3>
<tr valign=top>
<th align=left width=31%></th>
<th align=left width=34%>Output Profile <br>
Specified</th>
<th align=left width=35%>Output Profile<br>
Not Specified</th>
</tr>
<tr valign=top>
<td width=31%><b>Input Color Space <br>
Specified</b></td>
<td width=34%>Transform uses the specified profiles.</td>
<td width=35%>Transform converts from known input color space to sRGB.</td>
</tr>
<tr valign=top>
<td width=31%><b>Input Color Space Not Specified</b></td>
<td width=34%>Transform converts from sRGB to known output profile.</td>
<td width=35%>Transform from sRGB to sRGB is assumed; nothing is done.</td>
</tr>
</table><br>

<h4><a name="_win32_srgb_and_embedded_profiles"></a>sRGB and Embedded Profiles</h4>
<p>
Applications that utilize ICM can embed profiles in images. Embedded profiles assist users' applications in maintaining a consistent color appearance even if images are transmitted across the Internet. One of the primary advantages of the sRGB color space is that it is readily available on all versions of Windows and Windows NT that support ICM (For information on which versions of Windows and Windows NT provide ICM support, see <a href="icm_4l89.htm">ICM 2.0 Availability</a>). </p>
<p>
Images that use the sRGB color space do not need an embedded color profile. Because they have no embedded profile, sRGB-based images are smaller and more readily transferable across data channels with limited bandwidth. </p>
<p>
Applications should set the LCS_sRGB flag in the image's bitmap header to indicate that the image uses the sRGB color space. For details, see <a href="icm_7s1c.htm#_win32_windows_bitmap_header_structures">Windows Bitmap Header Structures</a> and <a href="icm_2lf6.htm"><b>LOGCOLORSPACE</b></a>.</p>
<p>&nbsp;</p></body>
</HTML>
