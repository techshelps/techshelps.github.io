

<HTML>
<HEAD>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Improper NTFS Permissions May Result in IIS Failure </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q155253">
<META NAME="KBModify" CONTENT="1997/04/18">
<META NAME="KBCreate" CONTENT="1996/08/26">
<META NAME="Keywords" CONTENT="iisconfig iissetup kbnetwork">
<META NAME="KBArea" CONTENT="Support; KB; iis">
<META NAME="Description" CONTENT="  Improper modification of Microsoft Windows NT file system (NTFS) permissions may create an environment where browser clients fail when attempting to access the Microsoft Internet Information Server (IIS) publication services.  MORE INFORMATION  Mic...">
<META NAME="Product" CONTENT="Internet Information Server">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QBWG,QAI5,QAVZ,QBW7,QAOE,QAGU,QA1S,QAK7,QARL,QAMB,QAL3,QDN9,QA7O,QAMN,QAMA V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>Improper NTFS Permissions May Result in IIS Failure</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  April 18, 1997</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q155253</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



<P><h3> </h3>
 
The information in this article applies to:

<UL><LI>Microsoft Internet Information Server versions 1.0, 2.0, and 3.0
</UL> 
<P>
<P><h2>SUMMARY</h2>
 
<P>
Improper modification of Microsoft Windows NT file system (NTFS)
permissions may create an environment where browser clients fail when
attempting to access the Microsoft Internet Information Server (IIS)
publication services.
<P>
<P><h2>MORE INFORMATION</h2>
 
<P>
Microsoft Windows NT version 4.0 installs on a new NTFS partition with
change permission for the group Everyone. Improper NTFS access permissions
involving other Windows NT accounts such as System, Network, Interactive,
and IUSR_ComputerName may affect the operation of IIS. Most of these
improperly defined permissions result in a browser client receiving an HTTP
response of 401 Access Denied.
<P>
<P>
As an example, consider an IIS server that has been configured with only
Allow Anonymous access in the in WWW Services tab of the Internet
Service Manager. The web master has set the following permissions on his or
her NTFS WWW publication directory wwwroot of:
<P>
<PRE>   CREATOR OWNER                 Full Control
   ComputerName\Administrators   Full Control
   IUSR_ComputerName             Full Control
   Everyone                      No Access
   System                        Full Control

</PRE>The web master calls Microsoft Product Support, describing an issue in
which no one can access his or her IIS server from a WWW client browser.  A
sniffer trace shows that all of the client browsers receive a 401 Access
Denied error message in the HTTP response.
<P>
The problem is the NTFS permissions. The Web master has allowed the IIS
anonymous user account IUSR_ComputerName full access, but the web master
has also explicitly denied the group Everyone. The IUSR_ComputerName
account belongs to the group Everyone. An explicit deny always takes
precedence over an allow, therefore no browser client can access the IIS
server.
<P>
Before contacting Microsoft Product Support Services, customers are
encouraged to check the NTFS permissions to verify that any modified access
permission is not the cause of improper IIS functionality.
<P>
For more information on issues related to NTFS permission, please see the
following articles in the Microsoft Knowledge Base:
<P>
<PRE>   ARTICLE-ID: <B><A HREF="../WINNT/Q109076.htm">Q109076</A></B>
   TITLE     : Removing Permissions to an NTFS Partition May Prevent
               Startup

   ARTICLE-ID: <B><A HREF="../WINNT/Q130016.htm">Q130016</A></B>
   TITLE     : Removing Everyone On Root Dir. Leaves Limited Virtual Memory

   ARTICLE-ID: <B><A HREF="../WINNT/Q137155.htm">Q137155</A></B>
   TITLE     : Users Without System32 Permissions Cannot Log On

   ARTICLE-ID: <B><A HREF="../WINNT/Q137400.htm">Q137400</A></B>
   TITLE     : Changing Default Permissions Causes STOP 0xC000021A

   ARTICLE-ID: <B><A HREF="../WINNT/Q138923.htm">Q138923</A></B>
   TITLE     : Partitions Displaying as Unknown in Disk Administrator
</PRE>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional query words: prodiis<BR>
Keywords            : iisconfig iissetup kbnetwork<BR>
Version             : 1.0 2.0 3.0<BR>
Platform            : NT WINDOWS<BR>
Issue type          : kbhowto<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  April 18, 1997</FONT>
	<BR>
	<A HREF="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
