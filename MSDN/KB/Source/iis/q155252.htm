

<HTML>
<HEAD>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Host Name to IP Address Redirection in an IIS URL </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q155252">
<META NAME="KBModify" CONTENT="1997/04/18">
<META NAME="KBCreate" CONTENT="1996/08/26">
<META NAME="Keywords" CONTENT="iisconfig iissetup kbnetwork">
<META NAME="KBArea" CONTENT="Support; KB; iis">
<META NAME="Description" CONTENT="  A client browser accessing a Microsoft Internet Information Server (IIS), using a fully qualified domain name in the URL such as     HTTP://myserver.mycompany.com  or a host/computer name such as     HTTP://myserver  may result in a URL redirection...">
<META NAME="Product" CONTENT="Internet Information Server">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QBWD,QAUD,QDN1,QAUJ,QAVZ,QBWP,QAKD,QAPF,QBRJ,QBVV,QARL,QABA,QAIJ V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>Host Name to IP Address Redirection in an IIS URL</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  April 18, 1997</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q155252</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



<P><h3> </h3>
 
The information in this article applies to:

<UL><LI>Microsoft Internet Information Server versions 1.0 and 2.0
</UL> 
<P>
<P><h2>SYMPTOMS</h2>
 
<P>
A client browser accessing a Microsoft Internet Information Server (IIS),
using a fully qualified domain name in the URL such as
<P>
<PRE>   HTTP://myserver.mycompany.com

</PRE>or a host/computer name such as
<P>
<PRE>   HTTP://myserver

</PRE>may result in a URL redirection of host name to IP address, for example
<P>
<PRE>   HTTP://ipaddress

</PRE>where ipaddress is your host server’s IP address.
<P>
<P>
<P><h2>WORKAROUND</h2>
 
<P>
Below are several ways to work around this issue: two methods to minimize
this issue in IIS 1.0, a way to resolve it in IIS 2.0, and a way to resolve
the issue by changing the registry of IIS.
<P>
Host name to IP address redirection may occur on an IIS version 1.0 or 2.0
server. This issue can be resolved on an IIS version 2.0 server that is
accessed by a browser client that also supports the use of Host Headers and
can be minimized on an IIS 1.0 server or client browser that does not
support the use of Host Headers.
<P>
To minimize the IP address redirection on an IIS 1.0 server, use the
complete path to the HTLM file in the URL, for example:
<P>
<PRE>   HTPP://myserver.mycompany.com/samples/default.htm.

</PRE>-or-
<P>
End the URL with a forward slash, for example:
<P>
<PRE>   HTPP://myserver.mycompany.com/samples/.

</PRE>However, the issue may still occur on IIS 1.0.
<P>
To resolve the issue in IIS2.0, use Host Headers. Host Headers can help
prevent the unexpected substitution of the the IP address for the host name
in the URL. Browsers such as the Microsoft Internet Explorer version 3.0
also support the use of Host Headers.
<P>
The web master can also make a change to the registry of the IIS 2.0 server
to help prevent the IP address redirection on older browser clients. The
new registry entry is ReturnURLUsingHostName; its use is described below.
<P>
WARNING: Using Registry Editor incorrectly can cause serious, system-wide
problems that may require you to reinstall Windows NT to correct them.
Microsoft cannot guarantee that any problems resulting from the use of
Registry Editor can be solved. Use this tool at your own risk.

<OL><P><LI>Carry out "Net Stop w3svc".

<P><LI>Start Registry Editor (Regedt32.exe).

<P><LI>From the HKEY_LOCAL_MACHINE subtree, go to the following subkey:
<P>
<P><PRE>      \SYSTEM\CurrentControlSet\Services\W3svc\Parameters
</PRE><P>
   The parameter described below is located under this registry subkey.
<P>
   The following describes a new value for the W3SVC service
   parameters tree, which can only be set by adding an entry in the
   Registry Editor. This parameter does not appear by default in the
   registry, so you must add an entry if you want to change its default
   value. The W3SVC service must be restarted for changes to take effect.
<P>
<P><PRE>      ReturnURLUsingHostName
<PRE></PRE>         Data Type = REG_DWORD
         Value:


   Enter a value of 1.

   The default value is 0. This returns the IIS server’s IP address to a
   client browser when doing redirects if the Host Header field is not
   present.

   A value of 1 returns a fully qualified domain name or the host/computer
   name of the IIS server.


   If a fully qualified domain name has been added in the Domain box of the
   DNS dialog box, the server will return that name; otherwise, it will
   return the server’s computer name, which appears in the Host Name box by
   default.

</PRE><P><LI>To fill in a fully qualified domain name, open the TCP/IP property sheet
   in the Network tool of the Windows NT Control Panel. Click the DNS tab,
   and type your domain name in the Domain box, for example mycompany.com.
<P>

<P><LI>Carry out "Net Start w3svc".
<P></OL>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional query words: prodiis<BR>
Keywords            : iisconfig iissetup kbnetwork<BR>
Version             : 1.0 2.0<BR>
Platform            : WINDOWS<BR>
Issue type          : kbhowto<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  April 18, 1997</FONT>
	<BR>
	<A HREF="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
