

<HTML>
<HEAD>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>PRB: Linker Generates L2048 for Overlaid Programs </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q112343">
<META NAME="KBModify" CONTENT="1995/07/17">
<META NAME="KBCreate" CONTENT="1994/03/07">
<META NAME="Keywords" CONTENT="kbtool kbprb kberrmsg">
<META NAME="KBArea" CONTENT="Support; KB; fortran">
<META NAME="Description" CONTENT="  LINK.EXE versions 5.3 and later provided with Microsoft C/C++ products support both the dynamic MOVE style overlays and the old method that uses the Static Overlay Manager. FORTRAN customers who attempt to link overlaid programs using these version...">
<META NAME="Product" CONTENT="Fortran">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QAH4,QBFY,QACI,QA9N,QANJ,QAEF,QAE2,QBE7,QBE6,QAW9,QAB4,QAOX,QBVV,QAUD,QAH6 V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>PRB: Linker Generates L2048 for Overlaid Programs</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  July 17, 1995</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q112343</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
The information in this article applies to:

<UL><LI>Microsoft FORTRAN for MS-DOS, versions 5.0 and 5.1
</UL> 
<P>
<P><h2>SYMPTOMS</h2>
 
<P>
LINK.EXE versions 5.3 and later provided with Microsoft C/C++ products
support both the dynamic MOVE style overlays and the old method that uses
the Static Overlay Manager. FORTRAN customers who attempt to link overlaid
programs using these versions of the linker may encounter the following
errors:
<P>
<PRE>   LINK : error L2048: Microsoft Overlay Manager module not found
   LINK : warning L4038: program has no starting address

</PRE><h2>CAUSE</h2>
 
<P>
The linker versions 5.3x and later support MOVE overlays by default. The
MOVE overlay support code is not present in the FORTRAN run-time library,
and therefore these errors are generated.
<P>
<P><h2>RESOLUTION</h2>
 
<P>
There are three ways to resolve this problem:

<UL><LI>Use the version of LINK that is provided with the FORTRAN compiler.
<P>
   -or-

<LI>Use the /OLDOVERLAY (or just /OLD) with these versions of LINK to allow
   the linker to correctly link using the Static Overlay Manager. The
   resulting program cannot be debugged because CodeView 4.x cannot debug
   statically linked programs, and CodeView 4.x must be used to debug
   applications linked with linker version 5.3x or later.
<P>
   -or-

<LI>Use the MOVE overlay technology provided with the Microsoft C/C++
   products. The C/C++ MS-DOS run-time library must be linked to the
   FORTRAN object modules because the MOVE Overlay Manager code is not
   provided with the FORTRAN run-time library. The resulting code can be
   debugged using CodeView 4.x. However, because CodeView 4.x does not have
   a FORTRAN expression evaluator, some of the CodeView functionality is
   limited. The preferred way of specifying MOVE overlays is via a module
   definition file; however, the parenthesis syntax of static overlays is
   also supported.
<P>
</UL><h2>MORE INFORMATION</h2>
 
<P>
The following code samples and the makefile demonstrate how to use MOVE
overlays with FORTRAN modules:
<P>
<P><h3>Sample Code #1</h3>
 
<P>
A.FOR
<P>
<PRE>      print*, 'in root'
      call b
      stop 'terminating in root'
      end

</PRE><h3>Sample Code #2</h3>
 
<P>
B.FOR
<P>
<PRE>      subroutine b
      print*, 'in b'
      call c
      return
      end

</PRE><h3>Sample Code #3</h3>
 
<P>
C.FOR
<P>
<PRE>      subroutine c
      print*, 'in c'
      return
      end

</PRE><h3>Sample Code #4</h3>
 
<P>
MAKEFILE
<P>
all: a.exe
<P>
.for.obj:
<PRE> fl /c /Zi /Od $&lt;

</PRE>a.exe: a.obj b.obj c.obj
<PRE> link a (b) (c) /CO /NOD /NOE,,nul,llibc7 llibfor7;

Additional Reference Words: Visual 1.00 1.50 5.31.009 5.50 5.60

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
KBCategory: kbtool kberrmsg kbprb<BR>
KBSubcategory: LinkIss<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  July 17, 1995</FONT>
	<BR>
	<A HREF="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
