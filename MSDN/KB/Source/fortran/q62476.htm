

<HTML>
<HEAD>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>SETFILLMASK Graphics Routine and Integer Range Error F2367 </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q62476 ">
<META NAME="KBModify" CONTENT="1995/07/06">
<META NAME="KBCreate" CONTENT="1990/05/31">
<META NAME="Keywords" CONTENT="kbprg kberrmsg kbcode">
<META NAME="KBArea" CONTENT="Support; KB; fortran">
<META NAME="Description" CONTENT="  If you use the SETFILLMASK graphics routine in Microsoft FORTRAN, you shouldn't use the $DEBUG metacommand in the source code or compile using the /4Yb compiler switch. The array used by the routine is declared as INTEGER*1 and if you have any valu...">
<META NAME="Product" CONTENT="Fortran">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QAAP,QAB4,QA4Q,QBCF,QDMR,QAKD,QAG9,QBCE,QAVX,QAM3,QAKR,QAHE,QDNZ,QAPF,QAH4 V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>SETFILLMASK Graphics Routine and Integer Range Error F2367</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  July 6, 1995</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q62476 </B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
The information in this article applies to:

<UL><LI>Microsoft FORTRAN for MS-DOS and OS/2 versions 4.1, 5.0, and 5.1
<LI>Microsoft FORTRAN PowerStation versions 1.0 and 1.0a
<LI>Microsoft FORTRAN PowerStation 32 version 1.0
</UL> 
<P>
<P><h2>SUMMARY</h2>
 
<P>
If you use the SETFILLMASK graphics routine in Microsoft FORTRAN, you
shouldn't use the $DEBUG metacommand in the source code or compile
using the /4Yb compiler switch. The array used by the routine is
declared as INTEGER*1 and if you have any values greater than 127 in
the array, it produces an "F2367 Integer range error" at compile time.
<P>
The SINE.FOR and FILL.FOR sample programs which are included on the
Source Code Disk in the Samples subdirectory will produce the above
error when either /4Yb or $DEBUG are used.
<P>
<P><h2>MORE INFORMATION</h2>
 
<P>
SETFILLMASK uses an 8 x 8 bit array for the fill-mask design. The
array must be initialized as INTEGER*1, which has a range of -128 to
127. The values of the bit array must be able to range from 0 to 255
in decimal and 00000000 to 11111111 in binary to get every combination
of fill patterns. This, however, can exceed the range of the INTEGER*1
array.
<P>
Without using the debug options, the program compiles and works
correctly, but if you add one of the above debug options and have a
value in the mask array that is larger that 127, you receive the
following compiler error:
<P>
<PRE>   name.for(23) : error F2367: value 129 : INTEGER : range error

</PRE>The debug option performs range checking of variables. For example, if
an INTEGER*1 variable exceeds 127 the compiler produces an error.
<P>
If you compile the following example with the /4Yb compiler switch, the
following errors are produced:
<P>
<PRE>   fill.for
   fill.for(23) : error F2367: value 129 : INTEGER : range error
   fill.for(23) : error F2367: value 145 : INTEGER : range error

</PRE>The following is an example using the SETFILLMASK graphics routine:
<P>
C Won't compile with $DEBUG metacommand or with the /4Yb
C compiler switch because of the two elements in the array
C mask that are larger than 127.
<P>
<P>
<PRE>      INCLUDE 'FGRAPH.FI'
      INCLUDE 'FGRAPH.FD'

      INTEGER*2 dummy_2    ! Variables for Function Return
      INTEGER*4 dummy_4    !    Values

      INTEGER*1 mask(8)    ! Integer*1 has range of -128 to 127
                           !    Largest mask value can be
                           !    11111111b or 255d

C               Binary      Decimal
C              --------     -------
      DATA mask / 2# 00000000 ,   !  0d
     +            2# 00111100 ,   !  60d
     +            2# 01000010 ,   !  66d
     +            2# 10000001 ,   !  129d ! Error with /4Yb
     +            2# 10010001 ,   !  145d ! Error with /$Yb
     +            2# 01001010 ,   !  74d
     +            2# 00111100 ,   !  60d
     +            2# 00000011  /  !  3d


      dummy_2 = setvideomode( $VRES16COLOR )  ! Set 16 Color VGA Mode
      dummy_4 = setbkcolor( $BLUE )     !BLUE ! Set Background Color

      CALL clearscreen( $GCLEARSCREEN )

      dummy_2 = setcolor( 15 )          !WHITE

      CALL setfillmask(mask)

      dummy_s = rectangle( $GBORDER, 100,100,500,300 ) ! Border

      dummy_2 = rectangle( $GFILLINTERIOR, 100,100,500,300 ) ! Fill
                                                             ! with
      PAUSE                                                  ! Mask

      dummy_2 = setvideomode( $DEFAULTMODE )  ! Reset Video Mode

      END
</PRE>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional reference words: 1.00 5.00 5.10 sine fill kbinf<BR>
KBCategory: kbprg kberrmsg<BR>
KBSubcategory: FORTLngIss<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  July 6, 1995</FONT>
	<BR>
	<A HREF="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
