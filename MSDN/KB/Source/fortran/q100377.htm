

<HTML>
<HEAD>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>FIX: F1001: confold.c Line 253, Negative Integer Exponent </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q100377">
<META NAME="KBModify" CONTENT="1997/09/16">
<META NAME="KBCreate" CONTENT="1993/06/20">
<META NAME="Keywords" CONTENT="FL32Iss kbbuglist kberrmsg kbtool">
<META NAME="KBArea" CONTENT="Support; KB; fortran">
<META NAME="Description" CONTENT="  An attempt to compile an application fails and Microsoft FORTRAN PowerStation version 1.0 for MS-DOS displays the following message:     fatal error F1001: INTERNAL COMPILER ERROR       (compiler file '@(#)confold.c:1.144', line 253)       Contact ...">
<META NAME="Product" CONTENT="Fortran">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QA4Q,QAH4,QAOT,QAB4,QBXT,QBFY,QBE7,QBE6,QBB2,QA5V,QAIB,QAKP,QDKW,QAAP,QAR4 V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>FIX: F1001: confold.c Line 253, Negative Integer Exponent</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  September 16, 1997</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q100377</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
1.00 1.00a | 1.00
<PRE>MS-DOS     | WINDOWS NT
</PRE>kbtool kbbuglist kberrmsg kbcode
<P>
 
The information in this article applies to:

<UL><LI>Microsoft FORTRAN PowerStation for MS-DOS version 1.0 and 1.0a
<LI>Microsoft FORTRAN PowerStation 32 version 1.0
</UL> 
<P>
<P><h2>SYMPTOMS</h2>
 
<P>
An attempt to compile an application fails and Microsoft FORTRAN
PowerStation version 1.0 for MS-DOS displays the following message:
<P>
<PRE>   fatal error F1001: INTERNAL COMPILER ERROR
      (compiler file '@(#)confold.c:1.144', line 253)
      Contact Microsoft Product Support Services

</PRE>FORTRAN PowerStation version 1.0a for MS-DOS displays the following
error message:
<P>
<PRE>   fatal error F1001: INTERNAL COMPILER ERROR
      (compiler file '@(#)confold.c:1.144', line 254)
      Contact Microsoft Product Support Services


</PRE><h2>CAUSE</h2>
 
<P>
The command line specifies the /Ox optimization and the code contains
an expression that computes a negative integer power of a constant
integer or of an integer expression. The error above occurs when the
compiler processes the unary minus operator in an integer
exponentiation expression.
<P>
<P><h2>RESOLUTION</h2>
 
<P>
There are two methods to work around this problem:

<UL><LI>Modify the compiler command line to specify the /Oxp compiler option
   switch.

<LI>Modify the source code to remove the unary minus operator from
   integer expressions used as exponents. Assign the exponent to a
   temporary variable and negate the value. Then specify the temporary
   as the exponent.
<P>
</UL><h2>STATUS</h2>
 
<P>
Microsoft has confirmed this to be a problem in the Microsoft products
listed at the beginning of this article. This problem was fixed in FORTRAN
PowerStation 32, version 4.0.
<P>
<P><h2>MORE INFORMATION</h2>
 
<P>
The following sample code demonstrates this problem:
<P>
<P><h3>Sample Code #1</h3>
 
<P>
c Compiler options needed: /Ox
<P>
<PRE>      program test
      integer j
      real    x

      j = 1
      x = 2**(-j)
      print *, x
      end

</PRE>The following sample code demonstrates one method to work around this
problem:
<P>
<P><h3>Sample Code #2</h3>
 
<P>
c Compile options needed: /Ox
<P>
<PRE>      program test
      integer j
      real    x

      j = 1
      j = -j      ! Negation occurs here.
      x = 2**(j)
      print *, x
      end
</PRE>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional reference words: 1.00 1.00a<BR>
KBCategory: kbtool kbbuglist kberrmsg<BR>
KBSubcategory: FL32Iss<BR>
Keywords          : FL32Iss kbbuglist kberrmsg kbtool<BR>
Version           : 1.00 1.00a | 1.00<BR>
Platform          : MS-DOS NT WINDOWS<BR>
Solution Type     : kbfix<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  September 16, 1997</FONT>
	<BR>
	<A HREF="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
