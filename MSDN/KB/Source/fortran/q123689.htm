

<HTML>
<HEAD>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>PRB: F2347 or F2201 Error When Function Is Not Typed </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q123689">
<META NAME="KBModify" CONTENT="1995/12/09">
<META NAME="KBCreate" CONTENT="1994/12/07">
<META NAME="Keywords" CONTENT="kbprg kberrmsg kbprb kbdocerr">
<META NAME="KBArea" CONTENT="Support; KB; fortran">
<META NAME="Description" CONTENT="  When compiling, you receive the following error message:     F2347:                 : missing Type  You may also receive the following error message:     F2201:                 : Type redefined  Error F2347 is not documented in the Microsoft FORTRA...">
<META NAME="Product" CONTENT="Fortran">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QAB4,QAAP,QAY5,QAB9,QBV8,QBVV,QAP2,QAMB,QAH4,QA4Q,QAVX,QAVW,QAUD,QAEF,QAKP V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>PRB: F2347 or F2201 Error When Function Is Not Typed</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  December 9, 1995</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q123689</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
The information in this article applies to:

<UL><LI>Microsoft FORTRAN Compiler for MS-DOS, version 5.1
<LI>Microsoft FORTRAN PowerStation for MS-DOS, versions 1.0 and 1.0a
<LI>Microsoft FORTRAN PowerStation 32 for Windows NT, version 1.0 and
   4.0
</UL> 
<P>
<P><h2>SYMPTOMS</h2>
 
<P>
When compiling, you receive the following error message:
<P>
<PRE>   F2347: &lt;function name&gt; : missing Type

</PRE>You may also receive the following error message:
<P>
<PRE>   F2201: &lt;function name&gt; : Type redefined

</PRE>Error F2347 is not documented in the Microsoft FORTRAN Professional
Development System version 5.1.
<P>
<P><h2>CAUSE</h2>
 
<P>
The return type of a FORTRAN function must be declared in the calling
scope. If the type is not defined, implicit typing will occur. If you use
the IMPLICIT NONE statement, you will receive the F2347 error. If you do
not use the IMPLICIT NONE statement and the implicit typing does not agree
with the formal declaration of the function, you will receive the F2201
error.
<P>
<P><h2>RESOLUTION</h2>
 
<P>
Provide explicit typing for FORTRAN functions, as in the code sample below.
<P>
<P><h2>STATUS</h2>
 
<P>
This behavior is by design.
<P>
<P><h2>MORE INFORMATION</h2>
 
<P>
Compiling the sample code that follows will generate the F2201 error.
Removing the comment on the IMPLICIT NONE line will cause it to generate
the F2347 error in addition to the F2201 error. Removing the comment on the
INTEGER func line will resolve both errors.
<P>
NOTE: Under Fortran PowerStation 4.0 the following error message is
displayed when compiling the Sample Code as given:
<P>
<PRE>   error FOR2205: wrong data type for reference to FUNCTION FUNC
   from procedure TEST

</PRE>The following error message is displayed if you uncomment the IMPLICIT
NONE line:
<P>
<PRE>   error FOR2290: implicit type for FUNC

</PRE><h3>Sample Code to Demonstrate Behavior</h3>
 
<P>
<PRE>/* Compile options needed: none
*/
      PROGRAM test

</PRE>C      IMPLICIT NONE
<P>
<PRE>      REAL a, b
</PRE>C      INTEGER func
<P>
<PRE>      a = 2.0
      b = 3.0
      b = func(a, b)
      WRITE(*, *) func(a, b)

      END

      INTEGER FUNCTION func(a, b)
      REAL a, b

      PRINT*, a, b

      func = int(a)

      RETURN
      END
</PRE>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional reference words: 5.10 1.00 1.00a 4.00 docerr errmsg err msg<BR>
KBCategory: kbprg kberrmsg kbprb kbdocerr<BR>
KBSubcategory:<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  December 9, 1995</FONT>
	<BR>
	<A HREF="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
