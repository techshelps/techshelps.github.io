

<HTML>
<HEAD>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>FIX: F1001, omf_ms.c, Structure Element I/O in Subroutine, 5.0 </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q48632 ">
<META NAME="KBModify" CONTENT="1997/09/11">
<META NAME="KBCreate" CONTENT="1989/09/01">
<META NAME="Keywords" CONTENT="FLIss kbappnote kbbuglist kbcode kberrmsg kbfile kbfixlist kbprg">
<META NAME="KBArea" CONTENT="Support; KB; fortran">
<META NAME="Description" CONTENT="  The  F1001: omf_ms.c:1.118, line 1093  internal compiler error is most often created in FORTRAN 5.0 by passing a structure to a subroutine and trying to use an item in that structure in a READ or WRITE operation.  RESOLUTION/STATUS  An application ...">
<META NAME="Product" CONTENT="Fortran">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QAR4,QAIC,QBFY,QA5V,QAFF,QBFN,QAAP,QAH4,QAH7,QAH6,QAD7,QAKP,QAKC,QBC6,QA4Q V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>FIX: F1001, omf_ms.c, Structure Element I/O in Subroutine, 5.0</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  September 11, 1997</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q48632 </B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
5.00   | 5.00
MS-DOS | OS/2
kbprg kbfixlist kbbuglist kberrmsg kbfile kbappnote kbcode
<P>
 
The information in this article applies to:

<UL><LI>Microsoft FORTRAN for MS-DOS and OS/2, version 5.0
</UL> 
<P>
<P><h2>SYMPTOMS</h2>
 
<P>
The "F1001: omf_ms.c:1.118, line 1093" internal compiler error is most
often created in FORTRAN 5.0 by passing a structure to a subroutine and
trying to use an item in that structure in a READ or WRITE operation.
<P>
<P><h2>RESOLUTION/STATUS</h2>
 
<P>
An application note titled "F1.EXE and F1L.EXE Structure Patch," which
corrects this problem, is available from Microsoft Product Support.
This problem was also corrected in Microsoft FORTRAN version 5.1.
<P>
This file has been removed from the Software Library but can be
requested by calling Microsoft Product Support Services.
<P><h3>MORE INFORMATION</h3>
 
<P>
<P><h3>Sample Code #1</h3>
 
c  The following code produces the above error in MS-DOS and produces
c  a protection violation under OS/2:
<P>
<PRE>         subroutine a(ms)
         structure /dataset/
           integer*2 number
         end structure

         record /dataset/ ms

         read(*,10) ms.number
 10   format(i2)
         end

</PRE><h3>Sample Code #2</h3>
 
Another way to alleviate this problem is to use a temporary structure,
as in the following:
<P>
<PRE>         subroutine a(ms)
         structure /dataset/
           integer*2 number
         end structure

         record /dataset/ ms,fs
         read(*,10) fs.number  ! Read into fs, which was not passed.
         ms=fs                 ! Assign temp struct. to passed struct.
 10      format(i2)
         end
</PRE>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional reference words: 5.00 5.10 hf0225<BR>
KBCategory: kbprg kbfixlist kbbuglist kberrmsg kbfile kbappnote kbcode<BR>
KBSubcategory: FLIss<BR>
Keywords          : FLIss kbappnote kbbuglist kbcode kberrmsg kbfile kbfixlist kbprg<BR>
Version           : 5.00   | 5.00<BR>
Platform          : MS-DOS OS/2<BR>
Solution Type     : kbfix<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  September 11, 1997</FONT>
	<BR>
	<A HREF="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
