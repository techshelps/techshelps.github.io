

<HTML>
<HEAD>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Making Multiple Initialized Far Data Segments </TITLE>

<!--STYLE_BEGIN-->
<LINK REL="STYLESHEET" HREF="/support/kbstyle.css" TYPE="text/css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q34379 ">
<META NAME="KBModify" CONTENT="1995/01/06">
<META NAME="KBCreate" CONTENT="1988/08/16">
<META NAME="Keywords" CONTENT="kbprg">
<META NAME="KBArea" CONTENT="Support; KB; masm">
<META NAME="Description" CONTENT="  You can have multiple initialized far-data segments by using the .fardata [name] directive, as documented on page 88 of the  Microsoft Macro Assembler 5.1 Programmers Guide , page 33 of the  Microsoft Macro Assembler Reference  and under topic fard...">
<META NAME="Product" CONTENT="Macro Assembler">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QBQU,QAYA,QAH4,QAUJ,QAEF,QABI,QAML,QARM,QDMW,QA9N,QA6A,QAYY,QASB,QAMA,QALQ V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>Making Multiple Initialized Far Data Segments</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  January 6, 1995</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q34379 </B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
The information in this article applies to:

<UL><LI>Microsoft Macro Assembler for MS-DOS, versions 5.0, 5.1, 6.0, 6.0a,
   and 6.0b
<LI>Microsoft Macro Assembler for OS/2, versions 5.1, 6.0, 6.0a, and
   6.0b
</UL> 
<P>
<P><h2>SUMMARY</h2>
 
<P>
You can have multiple initialized far-data segments by using the
.fardata [name] directive, as documented on page 88 of the
"Microsoft Macro Assembler 5.1 Programmers Guide", page 33 of the
"Microsoft Macro Assembler Reference" and under topic fardata in the
QuickHelp for versions 6.0, 6.0a, and 6.0b. Just make sure that the
segments have different names. In versions prior to 6.0, it is
possible to leave one of the segments with the default name. With
6.0 and later, the symbol @fardata will be the segment value of the
last segment declared with .fardata [name], which may not be the
one with the default name.
<P>
<P><h2>MORE INFORMATION</h2>
 
<P>
The sample program below demonstrates using two intialized far-data
segments. The contents of SrcBuff will be copied to DesBuff.
<P>
The program size is very large (131k) due to the amount of data that
is being declared. It may take a while to link as well.
<P>
<P><h3>Sample Code</h3>
 
<P>
; Assemble options needed: none
<P>
<PRE>   .model large

   .fardata SrcSeg
SrcBuff  db    65535 dup (65)   ; 1st initialized far segment

   .fardata DestSeg             ; Name 2nd fardata segment BufSeg
DestBuff db    65535 dup (66)

   .code
</PRE>main:
<PRE>   MOV  ax, SrcSeg              ; Make ds:si point to SrcBuff
   MOV  ds, ax
   MOV  si, 0

   MOV  ax, DestSeg             ; Make es:di point to DestBuff
   MOV  es, ax
   MOV  di, 0

   MOV  cx, 0ffffh              ; copy full segment

   REP  movsb                   ; automatically inc si &amp; di,
                                ;    dec cx until it is 0
   MOV  ah, 4ch
   INT  21h

   END  main
</PRE>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional reference words: 5.00 5.10 6.00 6.00a 6.00b<BR>
KBCategory: kbprg<BR>
KBSubCategory: MASMLngIss<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  January 6, 1995</FONT>
	<BR>
	<A HREF="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
