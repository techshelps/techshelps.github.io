

<HTML>
<HEAD>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>DOCERR: A2041 Error When Macro Parameter Length &gt; 255 bytes </TITLE>

<!--STYLE_BEGIN-->
<LINK REL="STYLESHEET" HREF="/support/kbstyle.css" TYPE="text/css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q137174">
<META NAME="KBModify" CONTENT="1995/09/22">
<META NAME="KBCreate" CONTENT="1995/09/21">
<META NAME="Keywords" CONTENT="kbprg kbdocerr">
<META NAME="KBArea" CONTENT="Support; KB; masm">
<META NAME="Description" CONTENT="  MASM returns an A2041 error (String or Text literal too long) when passing to a MACRO a set of parameters whose total length is greater than 255 bytes. The inidvidual parameters may be shorter than the stated 255 byte maximum, but the MACRO expansi...">
<META NAME="Product" CONTENT="Macro Assembler">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QAH4,QATX,QAHE,QAVX,QAVW,QAUD,QALG,QAAP,QAB4,QANY,QAMB,QAWH,QDMW,QAY5,QADP V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>DOCERR: A2041 Error When Macro Parameter Length &gt; 255 bytes</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  September 22, 1995</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q137174</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
The information in this article applies to:

<UL><LI>Microsoft Macro Assembler for MS-DOS, version 6.11
</UL> 
<P>
<P><h2>SUMMARY</h2>
 
<P>
MASM returns an A2041 error (String or Text literal too long) when passing
to a MACRO a set of parameters whose total length is greater than 255
bytes. The inidvidual parameters may be shorter than the stated 255 byte
maximum, but the MACRO expansion treats the entire parameter list as a
single string (text literal).
<P>
<P><h2>MORE INFORMATION</h2>
 
<P>
This behavior is by design, though it is not currently documented as such.
The following code demonstrates this behavior:
<P>
<PRE>   .486
   .MODEL FLAT
   .CODE

   menu_list    macro   item1,item2,item3,item4,item5,item6,item7
                endm

        menu_list       &lt;'ACTION1','ACTION1','ACTION1','ACTION1'&gt;,\
                        &lt;'ACTION2','ACTION2','ACTION2','ACTION2'&gt;,\
                        &lt;'ACTION3','ACTION3','ACTION3','ACTION3'&gt;,\
                        &lt;'ACTION4','ACTION4','ACTION4','ACTION4'&gt;,\
                        &lt;'ACTION5','ACTION5','ACTION5','ACTION5'&gt;,\
                        &lt;'ACTION6','ACTION6','ACTION6','ACTION6'&gt;,\
                        &lt;'ACTION7','ACTION7','ACTION7','ACTION7'&gt;
        end

</PRE>This is the message MASM returns upon compiling this sample:
<P>
<PRE>   Microsoft (R) Macro Assembler Version 6.11
   Copyright (C) Microsoft Corp 1981-1994.  All rights reserved.

   Assembling: test.asm
   test.asm(9) : error A2041: string or text literal too long
</PRE>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional reference words: 6.11<BR>
KBCategory: kbprg kbdocerr<BR>
KBSubcategory: MASMLngIss
<P>


</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  September 22, 1995</FONT>
	<BR>
	<A HREF="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
