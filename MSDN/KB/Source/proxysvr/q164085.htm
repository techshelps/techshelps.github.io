

<HTML>
<HEAD>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Differences between Passive and Active Caching </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q164085">
<META NAME="KBModify" CONTENT="1997/10/06">
<META NAME="KBCreate" CONTENT="1997/02/21">
<META NAME="Keywords" CONTENT="kbother pxsgeneral">
<META NAME="KBArea" CONTENT="Support; KB; proxysvr, axsf, winnt, iis, mcis">
<META NAME="Description" CONTENT="  Microsoft Proxy Server caches data by two different of processes: passive caching and active caching.  Passive Caching  Passive caching, also referred to as on-demand caching, is the most basic mode of caching.  Microsoft Proxy Server interposes it...">
<META NAME="Product" CONTENT="Proxy Server">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QDKF,QAGI,QBF0,QAW6,QAPN,QARL,QBVX,QAY2,QA62,QAYV,QAX6,QA26,QAYX,QAYW,QAU3 V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>Differences between Passive and Active Caching</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  October 6, 1997</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q164085</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
 
The information in this article applies to:

<UL><LI>Microsoft Proxy Server versions 1.0 and 2.0
</UL> 
<P>
<P><h2>SUMMARY</h2>
 
<P>
Microsoft Proxy Server caches data by two different of processes:
passive caching and active caching.
<P>
<P><h3>Passive Caching</h3>
 
<P>
Passive caching, also referred to as on-demand caching, is the most basic
mode of caching.
<P>
Microsoft Proxy Server interposes itself between the client and local or
remote Web and intercepts requests (for example, HTTP GET requests) from
the client. Before forwarding the request on to the Web, Proxy Server
first calls into its cache (the Urlcache.dll file) to determine if
the cache can satisfy the request by using the RetrieveUrlFile API. If the
data is in the cache and has not expired, it is returned immediately to
the client by using the Windows Sockets TransmitFile API.
<P>
If the object is not cached or if the cached copy of the object has
expired, Proxy Server retrieves the object from the Web, returns
it to the user, and inserts it into the cache (by using the CreateUrlFile
and CacheUrlFile APIs). If the local disk space reserved for the cache is
too full to hold the new data, older objects are removed from the cache
using a formula that evaluates age, popularity, and size.
<P>
<P><h3>Active Caching</h3>
 
<P>
Microsoft Proxy Server uses active caching to improve the retrieval
performance by increasing the likelihood that a requested object will be
found in the cache. Active caching works as a superset to passive caching.
<P>
Typically, in passive caching, an object is placed in the cache and a Time-
To-Live (TTL) expiration value is associated with that object. During this
TTL, all requests for the object are serviced from the cache without
generating traffic back to the upstream Web server. After the TTL has
expired, subsequent client requests for the object will generate traffic
to and from the Web server. The response from the server will be stored in
the cache and a new TTL will be calculated.
<P>
Active caching augments this system by having the server automatically
generate requests for a specified subset of objects. Proxy Server
optimizes the choice of objects for active caching on the basis of the
following qualities:

<UL><LI>Popularity: Ensures that requests made by Proxy Server are
   likely to be requested by clients as well.

<LI>TTL: Longer TTLs are more valuable to cache than shorter TTLs;
   Proxy Server will also check objects that are close to expiration.

<LI>Server load: Proxy Server performs more aggressive active caching
   during periods of low server load than when the server is heavily
   loaded.
<P>
</UL>Active caching results in:

<UL><LI>Better Client Performance: Clients are more likely to find their URL
   in the cache, resulting in lower latency (the amount of time clients
   wait for a response) and better throughput.

<LI>Even Load Distribution: Active caching has the effect of balancing the
   request load for the server across time, by rescheduling some cache
   update requests from high-peak periods of server activity to off-peak
   periods.

<LI>More Accurate Data: By checking unexpired objects during off-peak
   periods, the likelihood of returning stale data to clients is reduced.
<P>
</UL><h2>MORE INFORMATION</h2>
 
<P>
For more information on caching, please see the Proxy Server on-line
documentation.
<P>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional query words: prx<BR>
Keywords          : kbother pxsgeneral<BR>
Version           : 1.0 2.0<BR>
Platform          : winnt<BR>
Hardware          : ALPHA x86<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  October 6, 1997</FONT>
	<BR>
	<A HREF="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
