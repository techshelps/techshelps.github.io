

<HTML>
<HEAD>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>INFO: TCP, UDP, and RPC Ports Used by MSMQ </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q178517">
<META NAME="KBModify" CONTENT="1998/01/28">
<META NAME="KBCreate" CONTENT="1997/12/25">
<META NAME="Keywords" CONTENT="MQConnect MQNetwork kbfaq">
<META NAME="KBArea" CONTENT="Support; KB; msmq">
<META NAME="Description" CONTENT="  The following ports are used for Microsoft Message Queue Server (MSMQ) operation:     TCP: 1801     RPC: 135, 2101*, 2103*, 2105*     UDP: 3527, 1801  This information is useful for interpreting:     Netstat -a output    A network trace    Configur...">
<META NAME="Product" CONTENT="msmq">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QAKG,QDJP,QARL,QAM1,QABV,QAEV V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>INFO: TCP, UDP, and RPC Ports Used by MSMQ</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  January 28, 1998</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q178517</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
 
The information in this article applies to:

<UL><LI>Microsoft Message Queue Server version 1.0
</UL> 
<P>
<P><h2>SUMMARY</h2>
 
<P>
The following ports are used for Microsoft Message Queue Server (MSMQ)
operation:
<P>
<PRE>   TCP: 1801

   RPC: 135, 2101*, 2103*, 2105*

   UDP: 3527, 1801

</PRE>This information is useful for interpreting:
<P>
<PRE>   Netstat -a output
   A network trace
   Configuring a firewall

</PRE><h2>MORE INFORMATION</h2>
 
<P>
MSMQ message traffic and internal session management traffic between Queue
Managers is delivered over Winsock through reserved TCP port 1801.
<P>
The MSMQ Independent Client multicasts a server discovery broadcast over
reserved UDP port 1801.
<P>
MSMQ Servers listen on TCP port 2101* for RPC-based MQIS calls.
<P>
MSMQ Independent Clients and Servers listen on fixed TCP port 2103* and
2105* for RPC-based remote reads of their public and private queues. Also,
the Dependent Client uses these two ports to communicate with its server
for send and receive.
<P>
There is a dynamic RPC port (assigned by RPC layer) for handshaking with an
Independent Client or MSMQ Server's RPC server to determine the fixed
ports. This is usually port 135.
<P>
MSMQ's internal PING mechanism operates over reserved UDP port 3527.
<P>
* These port numbers may be incremented by 11 if the initial choice of RPC
<PRE>  port is in use when MSMQ initializes. A connecting QM will query port 135
  to discover the 2xxx ports.

</PRE><h2>REFERENCES</h2>
 
<P>
<B><A HREF="http://www.microsoft.com/msmq/">http://www.microsoft.com/msmq/</A></B>
 
<PRE>Keywords          : MQConnect MQNetwork kbfaq
Version           : WinNT:1.0
Platform          : winnt
Issue type        : kbinfo
Solution Type     : Info_Provided</PRE>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
================================================================================<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  January 28, 1998</FONT>
	<BR>
	<A HREF="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
