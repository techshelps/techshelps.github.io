

<HTML>
<HEAD>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>INF: DBCC SQLPERF(LRUSTATS) Reports Some Irrelevant Info. </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q123674">
<META NAME="KBModify" CONTENT="1997/04/30">
<META NAME="KBCreate" CONTENT="1994/12/06">
<META NAME="Keywords" CONTENT="kbusage SSrvWinNT">
<META NAME="KBArea" CONTENT="Support; KB; sqlserver">
<META NAME="Description" CONTENT="  With the introduction of the new Lazywriter process in SQL Server version 4.21, the scan limit information returned by the DBCC SQLPERF(LRUSTATS) command is no longer relevant.  MORE INFORMATION  In previous versions of SQL Server, individual proce...">
<META NAME="Product" CONTENT="SQL Server">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QABM,QABN,QBXN,QAH3,QAKC,QAYY,QBC6,QAM9,QALX,QBF0,QBFD,QAYZ,QAJB,QAG8,QAKJ V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>INF: DBCC SQLPERF(LRUSTATS) Reports Some Irrelevant Info.</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  April 30, 1997</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q123674</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



<P><h3> </h3>
 
The information in this article applies to:
<P>
<PRE>  - Microsoft SQL Server versions 4.21 and 4.21a
</PRE> 
<P>
<P><h2>SUMMARY</h2>
 
<P>
With the introduction of the new Lazywriter process in SQL Server version
4.21, the scan limit information returned by the DBCC SQLPERF(LRUSTATS)
command is no longer relevant.
<P>
<P><h2>MORE INFORMATION</h2>
 
<P>
In previous versions of SQL Server, individual processes would search the
data cache for an available buffer. If a clean buffer was not found after
scanning a certain number of pages (this number was referred to as the scan
limit), the user process would select a dirty buffer and be required to
flush the contents of the buffer to disk before claiming it.
<P>
With the introduction of the Lazywriter system process, the scan limit, as
it was previously used, is no longer needed. In version 4.21 and later, the
Lazywriter process awakens when the number of free buffers falls below a
certain threshold and begins to flush out dirty buffers (see version 4.21
Release Notes for more information). The server now maintains a separate
list of all free buffers. Therefore, SQL Server no longer has to search
through all of the buffers to find a free one--it simply gets a new buffer
from the list of free buffers.
<P>
When the DBCC SQLPERF(LRUSTATS) command is run, it returns information
regarding scan limit, scan limit reached, and cache flushes. This
information is irrelevant and should be ignored in SQL Server versions 4.21
and later due to the changes described above. Other counters reported by
DBCC SQLPERF(LRUSTATS) including Average and Maximum Free Page Scan
counters, now have different meanings than those described in the SQL
"Administrator's Guide."
<P>
The new meanings are described below:
<P>
<PRE>   Average Free Page Scan: The average number of data cache buffers scanned
   by the Lazywriter each time it searches for unused buffers to replenish
   the free pool.

   Maximum Free Page Scan: The maximum number of data cache buffers scanned
   by the Lazywriter while searching for unused buffers to replenish the
   free pool.

</PRE>For the most up to date information on SQL Server performance counters,
check the Explain text for that counter in Performance Monitor.
<P>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional query words:<BR>
Keywords            : kbusage SSrvWinNT<BR>
Version             : 4.21 4.21a<BR>
Platform            : WINDOWS<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  April 30, 1997</FONT>
	<BR>
	<A HREF="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
