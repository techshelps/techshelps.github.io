

<HTML>
<HEAD>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>PRB: Dumping to a DLT Tape Drive May Fail to Span Tapes </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q174483">
<META NAME="KBModify" CONTENT="1997/09/30">
<META NAME="KBCreate" CONTENT="1997/09/29">
<META NAME="Keywords" CONTENT="SSrvAdmin kbhw">
<META NAME="KBArea" CONTENT="Support; KB; sqlserver">
<META NAME="Description" CONTENT="  A database dump may fail to span more than one tape if you are using a DLT tape drive. The first tape may become full and you will be prompted to respond to the following message:     End of tape has been reached, remove tape 'SQ0001' and mount nex...">
<META NAME="Product" CONTENT="SQL Server">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QABM,QAUD,QAEF,QANE,QAZV,QBV8,QAEV,QAJQ,QDH6,QA9N,QANJ,QAIJ,QAB9,QAK0,QACF V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>PRB: Dumping to a DLT Tape Drive May Fail to Span Tapes</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  September 30, 1997</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q174483</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
 
The information in this article applies to:

<UL><LI>Microsoft SQL Server, version 6.5
</UL> 
<P>
<P><h2>SYMPTOMS</h2>
 
<P>
A database dump may fail to span more than one tape if you are using a DLT
tape drive. The first tape may become full and you will be prompted to
respond to the following message:
<P>
<PRE>   End of tape has been reached, remove tape 'SQ0001' and mount next tape
   for dump of database 'dbname'.

</PRE>The light on the tape unit will not turn green, so you will be unable to
change the tape. You will then receive the following message:
<P>
<PRE>   Msg 3202, Level 16, State 1, Server SERVERNAME, Line 1
   Write on dump device '\\.\TAPE0' failed, vsn=0 return=-2 status=-2.
   Please consult the SQL Server error log for more details.

</PRE>The corresponding message in the errorlog is:
<P>
<PRE>   tbswritecheck: Not enough space is left in the device to initiate this
   dump

</PRE><h2>CAUSE</h2>
 
<P>
The DLT tape unit does not physically eject the tape, so SQL Server always
detects a tape in the drive, and attempts to keep writing to it even when
it is full.
<P>
<P><h2>WORKAROUND</h2>
 
<P>
To avoid this problem, do any of the following:

<UL><LI>Use a DLT drive with a higher capacity, such as a Digital TZ88, so that
   the dump will require only one tape.

<LI>Use a 4 mm or 8 mm DAT tape drive.

<LI>Make a striped dump to multiple DLT tape drives.

<LI>Type Console.exe at the command prompt before starting the dump
   operation. Follow the instructions on the screen and start the dump. Be
   sure to follow the same process for the load operation.
<P>
</UL><h2>MORE INFORMATION</h2>
 
<P>
This section provides an example of what the command prompt will look like
when using the CONSOLE application to dump or load a database that spans
two DLT tapes. In this example, comments on how to respond to these
messages are given in square brackets.
<P>
<P><h3>Option I. Use the DUMP DATABASE or LOAD DATABASE command</h3>
 
<P>
Microsoft(R) Windows NT(TM)
(C) Copyright 1985-1996 Microsoft Corp.
<P>
C:\&gt;console
[Execute the DUMP DATABASE or LOAD DATABASE command from a SQL query
window.]
<P>
Mount first tape SQ0001.
Press ENTER when mounted, or press 0 to abort
[Press ENTER when the first tape is in the drive. The dump or load will
continue until the end of the tape is reached and the tape drive light will
turn green.]
<P>
Change tapes and mount SQ0002.
Press ENTER when mounted, or press 0 to abort
[Press ENTER when the second tape is in the drive. The dump or load will
finish on this tape.]
<P>
Remove the tape.
Press ENTER when removed.
<P>
<P><h3>Option II. Use SQL Enterprise Manager</h3>
 
<P>
When using the SQL Enterprise Manager Backup/Restore function to start the
dump or load, the technique is the same as that described in Option I
above. However, the messages will be slightly different from those noted
above. This is because the server will run a LOAD HEADERONLY command which,
when completed, returns the following message to the CONSOLE:
<P>
Remove the diskette.
Press ENTER when removed.
<P>
When the dump or load has completed, press CTRL+C to quit the CONSOLE
application.
<P>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional query words: spanning hit<BR>
Keywords          : SSrvAdmin kbhw<BR>
Version           : WINNT:6.5<BR>
Platform          : WINDOWS<BR>
Issue type        : kbprb<BR>
Solution Type     : kbworkaround<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  September 30, 1997</FONT>
	<BR>
	<A HREF="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
