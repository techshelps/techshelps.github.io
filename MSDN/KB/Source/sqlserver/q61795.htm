

<HTML>
<HEAD>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>INF: SQL Server Extent Allocation Information </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q61795 ">
<META NAME="KBModify" CONTENT="1997/04/25">
<META NAME="KBCreate" CONTENT="1990/05/09">
<META NAME="Keywords" CONTENT="kbother SSrvGen SSrvServer SSrvWinNT">
<META NAME="KBArea" CONTENT="Support; KB; sqlserver">
<META NAME="Description" CONTENT="  An extent is the smallest amount of space (8 contiguous pages) allocated for a table or index. An empty table will have one extent, 16K of space for future use. No further allocation is done until those 8 pages can't hold any more new rows.  MORE I...">
<META NAME="Product" CONTENT="SQL Server">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QABM,QAZV,QBW5,QAXB,QAL3,QBTP,QBXV,QA3U,QAEF,QAC1,QBWA,QAJQ,QBD2,QA28,QAYX V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>INF: SQL Server Extent Allocation Information</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  April 25, 1997</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q61795 </B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



<P><h3> </h3>
 
The information in this article applies to:
<P>
<PRE>  - Microsoft SQL Server version 4.2 for OS/2
  - Microsoft SQL Server version 4.2
</PRE> 
<P>
<P><h2>SUMMARY</h2>
 
<P>
An extent is the smallest amount of space (8 contiguous pages)
allocated for a table or index. An empty table will have one extent,
16K of space for future use. No further allocation is done until those
8 pages can't hold any more new rows.
<P>
<P><h2>MORE INFORMATION</h2>
 
<P>
The following questions and responses discuss extent allocation:

<PRE>1. Q. Is it correct to assume that "scattered" extents will degrade
      responsiveness (presuming that they aren't found in the data
      cache)?

   A. This question requires a complex answer, with many portions
      preceded by "assuming that..." so that the assumption is correct
      given a set of other assumptions made. The performance is
      dependent on overall activity in the database and the entire SQL
      Server. Frequently referenced pages tend to stay in cache,
      contrary to one assumption in this question.

2. Q. Does SQL "read-ahead" for the next extent when processing a
      query, or update the required multiple extents during
      processing of the current extent?

   A. SQL Server reads pages as needed in processing a query. There
      is no "read-ahead."

3. Q. If you BCP out a table, delete its rows, and BCP in the table,
      does SQL Server tend to "cluster" the space allocation as the
      contents are re-entered?

   A. The result of the allocation algorithm is that the space does
      tend to "cluster" both with BCP and in run-time allocation of
      space for tables.

4. Q. If you do a DUMP DATABASE and follow it with a LOAD DATABASE,
      do the table extents get repositioned in a contiguous fashion,
      or does the same physical layout get preserved?

   A. The data copied to a disk or tape with DUMP DATABASE contains
      logical page numbers. The result of a LOAD DATABASE command is
      to have the pages available in a database with the same
      logical page numbers. This is one reason why the destination
      for LOAD DATABASE must be at least as large as the allocated
      space for the database that was the source of the DUMP
      DATABASE.

5. Q. Does SQL Server do any "housekeeping" to move the locations of
      extents to attempt to make a table "more contiguous"?

   A. There is no "housekeeping" done to move allocation around   and
      make tables more contiguous.

6. Q. Given the table activity described, is there a "rule of thumb"
      concerning the frequency of UPDATE STATISTICS? That is, should
      the statistics for the indices in the tables be updated after
      1 percent additional entries, 5 percent, 20 percent, etc.?

   A. The statistics are kept on a special page when an index is
      first built on a nonempty table or as a result of an UPDATE
      STATISTICS command. There is no rule of thumb about the
      frequency of the running of that command.

7. Q. Does SQL Server perform better if a database is 50 percent
      full, rather than 95 percent full, or does it even matter?
      That is, with 50 MB of data, is it better to have a 100 MB
      database than a 51 MB database (ignoring growth)?

   A. The amount of free space in a database affects performance in
      operations that result in allocation of new space for objects.
      So, if growth is ignored, then the amount or percentage of
      free space has no effect.
</PRE>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional query words:<BR>
Keywords            : kbother SSrvGen SSrvServer SSrvWinNT<BR>
Version             : 4.2 | 4.2<BR>
Platform            : OS/2 WINDOWS<BR>
Issue type          : kbtshoot<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  April 25, 1997</FONT>
	<BR>
	<A HREF="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
