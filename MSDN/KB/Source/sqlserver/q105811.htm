

<HTML>
<HEAD>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>INF: Accessing LAN Manager from SQL Server for Windows NT </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q105811">
<META NAME="KBModify" CONTENT="1997/04/03">
<META NAME="KBCreate" CONTENT="1993/10/25">
<META NAME="Keywords" CONTENT="kbother SSrvAdmin">
<META NAME="KBArea" CONTENT="Support; KB; sqlserver">
<META NAME="Description" CONTENT="  SQL Server version 4.2 for Windows NT must be assigned a valid user account to be able to access resources on an OS/2 server running under Microsoft LAN Manager user security. Instructions on how to do this are in the section  Configuring Network P...">
<META NAME="Product" CONTENT="SQL Server">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QBWP,QABM,QAGU,QAVZ,QBWE,QAH5,QAI5,QBSO,QBW7,QDIZ,QBWS,QBWG,QBG2,QAB5,QAAD V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>INF: Accessing LAN Manager from SQL Server for Windows NT</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  April 3, 1997</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q105811</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



<P><h3> </h3>
 
The information in this article applies to:
<P>
<PRE>  - Microsoft SQL Server version 4.2
</PRE> 
<P>
<P><h2>SUMMARY</h2>
 
<P>
SQL Server version 4.2 for Windows NT must be assigned a valid user
account to be able to access resources on an OS/2 server
running under Microsoft LAN Manager user security. Instructions on
how to do this are in the section "Configuring Network
Permissions for SQL Server" in the SQL Server for Windows NT
"Configuration Guide," chapter 2, Server Configuration.
<P>
<P><h2>MORE INFORMATION</h2>
 
<P>
Windows NT services run under system accounts. SQL Server
setup puts the SQL Server service in a default System
Account, sometimes referred to as the LocalSystem account.
The LocalSystem account is unique in that it does not have
an ID which can be passed to an OS/2 LAN Manager server for
permission validation. If a user requests SQL Server to access
a resource on an OS/2 server running LAN Manager user level
security, Windows NT has no identifier to pass to the LAN
Manager server and the access will be denied.
<P>
For example, when attempting to do a SQL Remote Procedure Call
from SQL Server for Windows NT to SQL Server for OS/2 running
under LAN Manager user security, the RPC may fail with,
<P>
<PRE>   unable to login to remote server

</PRE>or a 7221 error:
<P>
<PRE>   Login to site '%.*s' failed

</PRE>This is because the SQL Server for Windows NT does not have
permissions to the LAN Manager's named pipe resource.
<P>
In addition, when attempting to dump to a dump device defined
on a remote server running LAN Manager user security, the dump
may fail with a 3201 error:
<P>
<PRE>   Can't open dump device x, device error or device offline.
   Please consult the SQL Server errorlog for more details.

</PRE>The errorlog shows the message:
<P>
<PRE>   dbsopen: Backup device 'x:\dumpx.dat' failed to open,
   operating system error = 65(Network access is denied.)

</PRE>Both of these cases can be resolved by using the Windows NT
Control Panel/Services applet to have the SQL Server service
run under a valid network account. Instructions for this
are in the section "Configuring Network Permissions for SQL
Server in the SQL Server" in the "Configuration Guide."
<P>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional query words: 4.20 Windows NT<BR>
Keywords            : kbother SSrvAdmin<BR>
Version             : 4.2<BR>
Platform            : WINDOWS<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  April 3, 1997</FONT>
	<BR>
	<A HREF="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
