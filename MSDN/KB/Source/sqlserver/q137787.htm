

<HTML>
<HEAD>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>INF: How to Configure NWLink to Run SQL Srv with Multiple NICs </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q137787">
<META NAME="KBModify" CONTENT="1997/05/01">
<META NAME="KBCreate" CONTENT="1995/10/05">
<META NAME="Keywords" CONTENT="kbinterop kbnetwork SSrvLan">
<META NAME="KBArea" CONTENT="Support; KB; sqlserver">
<META NAME="Description" CONTENT="  When you run Microsoft SQL Server on a computer running Windows NT with multiple Network Interfaces Cards (NICs), you may need to configure the NWLink IPX/SPX Compatible Transport with a non-zero internal network number. This is necessary if you wa...">
<META NAME="Product" CONTENT="SQL Server">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QAVZ,QABM,QAKC,QBWP,QBC6,QAC2,QAG8,QABA,QDIZ,QBWD,QAR5,QBXS,QDJ3,QBW4,QA7Y V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>INF: How to Configure NWLink to Run SQL Srv with Multiple NICs</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  May 1, 1997</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q137787</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



<P><h3> </h3>
 
The information in this article applies to:

<UL><LI>Microsoft SQL Server, version 6.0
</UL> 
<P>
<P><h2>SUMMARY</h2>
 
<P>
When you run Microsoft SQL Server on a computer running Windows NT with
multiple Network Interfaces Cards (NICs), you may need to configure
the NWLink IPX/SPX Compatible Transport with a non-zero internal network
number. This is necessary if you want to connect to the SQL Server through
every NIC via IPX/SPX.
<P>
<P><h2>MORE INFORMATION</h2>
 
<P>
By default, the "internal network number" parameter is set to zero for the
NWLink IPX/SPX Compatible Transport, even with multiple NICs. This means
that the IPX address for this machine is the same as the first NIC MAC
address, and the "internal network number" parameter does not take effect.
The default setting works fine for a single NIC computer, and in fact is
the recommended configuration.
<P>
With two or more NICs, problems can arise using the default settings. Since
the Windows NT default IPX address is the MAC address of the first NIC, SQL
Server will only listen on the first NIC, making it impossible to connect
to the SQL Server through other NICs.
<P>
By configuring the NWLink with a unique non-zero "internal network number,"
Windows NT is given a logical IPX address with the "internal network
number" as the network number and "000000000001" as the IPX address. In
this case, SQL Server will listen on this logical address, and clients can
connect to the SQL Server through every NIC using internal routing. For
example, if you set the "internal network number" to "12345678," then SQL
Server will broadcast Service Advertising Protocol (SAP) packets with
"12345678.000000000001.843E" as the IPX internetwork address, where 843E is
the default IPX socket used by SQL Server.
<P>
For additional information about how to verify the IPX internetwork address
used by SQL Server SAPs, please see the following article in the Microsoft
Knowledge Base:
<P>
<PRE>   ARTICLE-ID: <B><A HREF="../SQLSERVER/Q112713.htm">Q112713</A></B>
   TITLE     : INF: Verify Registration of SQL Servers in NetWare Binderies

</PRE>To find out the current NWLink configuration, you can execute the NT
command "IPXROUTE CONFIG" at the command prompt. If more than one MAC
address is displayed as indicated by "NET1...", "NET2...", and so forth,
and the "IPX internal network number" is zero, then you should use the
Control Panel, Network, NWLink IPX/SPX Compatible option to set the
"internal network number."
<P>
In certain situations, "IPXROUTE CONFIG" can return multiple entries, even
though you have ensured that there is only one NIC installed. This can
occur if you also have other communication software installed, such as
Microsoft Remote Access Service (RAS). In this case, you should treat the
configuration as a multiple NIC situation and set the "internal network
number" accordingly.
<P>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional query words: sql6 multi-nic windows nt lan<BR>
Keywords            : kbinterop kbnetwork SSrvLan<BR>
Version             : 4.21 | 6.0<BR>
Platform            : WINDOWS<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  May 1, 1997</FONT>
	<BR>
	<A HREF="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
