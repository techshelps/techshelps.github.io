

<HTML>
<HEAD>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>INF: Sizing Considerations for SQL Databases </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q68231 ">
<META NAME="KBModify" CONTENT="1997/04/03">
<META NAME="KBCreate" CONTENT="1991/01/11">
<META NAME="Keywords" CONTENT="kbother SsrvAdmin SSrvGen">
<META NAME="KBArea" CONTENT="Support; KB; sqlserver">
<META NAME="Description" CONTENT="  Listed below is information on sizing considerations for databases.  MORE INFORMATION  1. Calculation for determining the number of 2K pages needed for a    table with no indexes or text/image columns:     The overhead per data row is roughly 7 byt...">
<META NAME="Product" CONTENT="SQL Server">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QA5V,QATJ,QA28,QABM,QALG,QBWA,QAZA,QAKC,QAJ5,QBC6,QAG8,QA7O,QA7N,QAYY,QAE1 V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>INF: Sizing Considerations for SQL Databases</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  April 3, 1997</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q68231 </B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



<P><h3> </h3>
 
The information in this article applies to:

<UL><LI>Microsoft SQL Server version 4.2 for OS/2
<LI>Microsoft SQL Server, versions 4.2, 4.21, and 4.21a
</UL> 
<P>
<P><h2>SUMMARY</h2>
 
<P>
Listed below is information on sizing considerations for databases.
<P>
<P><h2>MORE INFORMATION</h2>
 

<OL><P><LI>Calculation for determining the number of 2K pages needed for a
   table with no indexes or text/image columns:
<P>
   The overhead per data row is roughly 7 bytes plus the number of
   variable-length and/or nulls-allowed fields per row. The formula
   is as follows
<P>
<P><PRE>      Row length = 7 bytes + (data length) + (#var or null fields)
</PRE><P>
   where:
<P>
<P><PRE>      data length = is the sum of the column lengths.
      #var or null fields = 1 byte is counted for every data element
<PRE></PRE>                            defined as varchar or able to accept
                            null values.

   Consider the following table definition:

      first_element           char(2) null,
      second_element          varchar(10),
      third_element           char(3),
      fourth_element          varchar(20) null

      row length = 7 + (35) + (3)
      row length = 45

   NOTE: When the datatype varchar is defined to accept NULLs, only
   1 byte is counted for this condition.

   Because rows must fit into 2K pages, where each page has 32 bytes
   of overhead, The number of pages required to hold a table is
   defined with the following formula:

      pages = [number of rows] / (2016/(row length))

      For example,

         (800000 rows) / (2016/(100 bytes per row)) = ~40000 pages

      -or-

      pages = [number of rows] * ((row length)/2016)

      For example,

         (800000 rows) * ((100 bytes per row)/2016)= ~40000 pages

</PRE><P><LI>Considerations for tables with text/image columns:
<P>
   When a table has a text/image column, 16 bytes are used for managing
   the text/image column (4 bytes are used for a page pointer, 8 bytes
   for a timestamp, and 4 bytes for other management functions). One
   page (2K) is reserved for each text/image column in a row.

<P><LI>Considerations for page management:
<P>
   There is a page-management page for every 255 user pages. Each page
   is 2048 (2016 + 32 bytes for overhead); therefore, this amounts to
   two page-management pages per megabyte with 4K of page-management
   overhead per megabyte.
<P>
   Another consideration for the page-management technique is that a
   maximum 32 distinct objects can be allocated per page-management
   page. Each index on a table counts as an additional object. For
   example: if 8 tables, each with 3 indexes, were created, 1/2
   megabyte would be reserved, even if no data were in the table:
   (3 indexes + table) * 8 = 32 objects.

<P><LI>Considerations for indexes on tables:
<P>
   Indexes also consume pages; the value being indexed is replicated
   in each row. The formulas for calculating the page requirement is
   the same as for data.
<P>
   The overhead per clustered index row is roughly 8 bytes plus the
   number of variable-length/nulls-allowed fields per row. The formula
   is defined as:
<P>
<P><PRE>      row length = 8 + (data length) + (#var or null fields)
</PRE><P>
   The overhead per non-clustered index row is roughly 12 bytes plus
   the number of variable-length/nulls-allowed fields per row. The
   formula is defined as:
<P>
<P><PRE>      row length = 12 + (data length) + (#var or null fields)
</PRE><P>
   The number of pages in an index depends on how many index rows fit
   in a page, and this is determined the same way as for data. The
   formula is defined as:
<P>
<P><PRE>      pages = [number of rows] / (2016/(row length))
</PRE><P>
<P><PRE>      For example,
</PRE><P>
<PRE>         (800000 rows) / (2016/(100 bytes per row)) = ~40000 pages

      -or-

      pages = [number of rows] * ((row length)/2016)

      For example,

         (800000 rows) * ((100 bytes per row)/2016)= ~40000 pages

   Please keep in mind that these formulas will give you a rough
   estimate on space required for your database.

</PRE></OL>For more information on this topic, see Appendix A of the "Microsoft
SQL Server System Administration Guide" for version 4.2.
<P>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional query words: 4.20 4.21 4.21a<BR>
Keywords            : kbother SsrvAdmin SSrvGen<BR>
Version             : 4.2 4.21 4.21a<BR>
Platform            : OS/2 WINDOWS<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  April 3, 1997</FONT>
	<BR>
	<A HREF="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
