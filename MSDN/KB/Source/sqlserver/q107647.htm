

<HTML>
<HEAD>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>INF: Connecting to SQL Server from TCP/IP Sockets Clients </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q107647">
<META NAME="KBModify" CONTENT="1997/04/03">
<META NAME="KBCreate" CONTENT="1993/11/23">
<META NAME="Keywords" CONTENT="kb3rdparty kbinterop SSrvNet_Lib kbfaq">
<META NAME="KBArea" CONTENT="Support; KB; sqlserver">
<META NAME="Description" CONTENT="  Microsoft SQL Server version 4.2 supports SQL Server network clients that connect using TCP/IP sockets. Examples of these are Sun, Macintosh, and Windows clients using TCP/IP. In these cases, the appropriate Sybase TCP/IP Network Library (Net-Libra...">
<META NAME="Product" CONTENT="SQL Server">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QABM,QBWP,QBWO,QDNT,QBWD,QARL,QDL9,QBWQ,QBWN,QAA1,QAVZ,QDI2,QAI5,QDIZ,QAUJ V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>INF: Connecting to SQL Server from TCP/IP Sockets Clients</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  April 3, 1997</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q107647</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



<P><h3> </h3>
 
The information in this article applies to:
<P>
<PRE>  - Microsoft SQL Server, version 4.2
</PRE> 
<P>
<P><h2>SUMMARY</h2>
 
<P>
Microsoft SQL Server version 4.2 supports SQL Server network clients that
connect using TCP/IP sockets. Examples of these are Sun, Macintosh, and
Windows clients using TCP/IP. In these cases, the appropriate Sybase TCP/IP
Network Library (Net-Library) for the specific version of TCP/IP sockets in
use must be obtained from Sybase.
<P>
Microsoft SQL Server version 4.21 ships with Windows Sockets client Net-
Libraries. The Windows Sockets Net-Library for Windows is supported on
Windows for Workgroups version 3.11 with Microsoft TCP/IP for Windows for
Workgroups version 1.0, and the Windows 3.1 subsystem (WOW) of Windows NT
version 3.1 and Windows NT Advanced Server version 3.1. The Windows Sockets
Net-Library for Windows NT is supported on Windows NT version 3.1 and
Windows NT Advanced Server version 3.1.
<P>
The Microsoft TCP/IP socket Net-Library for MS-DOS is supported for MS-DOS-
based applications running on Windows for Workgroups 3.11 with Microsoft
TCP/IP for Windows for Workgroups version 1.0, but is not compatible with
the MS-DOS environment of Windows NT.
<P>
The Windows Sockets Net-Libraries have been extensively tested on the
supported platforms for connecting to Microsoft SQL Server. Support for
other TCP/IP protocols that support Windows Sockets is planned for future
releases. Using these Net-Libraries with other TCP/IP protocols or to
connect to other than Microsoft SQL Server has not been extensively tested,
and their use in these ways is not guaranteed.
<P>
Using named pipes as the IPC (Interprocess Communications) method
on top of Microsoft TCP/IP is preferred, because features such as
integrated security and adjustable packet size are available only
with named pipes.
<P>
See the SQL Server for Windows NT 4.21 README.TXT file for more
information.
<P>
<P><h2>MORE INFORMATION</h2>
 
<P>
<P><h3>Instructions for Server-side Setup:</h3>
 

<OL><P><LI>Ensure the TCP/IP protocol is enabled according to the
   instructions in your Windows NT documentation. In brief, this
   consists of using the Windows NT Control Panel Network applet to
   install and configure the Microsoft TCP/IP transport protocol.

<P><LI>Use REGEDT32.EXE to edit the TCP/IP "keep-alive" setting in the
   Windows NT registry. This is necessary because in the absence of
   network traffic between client and server, Windows NT TCP/IP will
   disconnect from the client. The default disconnection period is
   120 seconds.
<P>
</OL>NOTE: For additional information, please see the following article in the
Microsoft Knowledge Base:
<P>
<PRE>   ARTICLE-ID: <B><A HREF="../SQLSERVER/Q105794.htm">Q105794</A></B>
   TITLE     : "Dropping Connections from Sybase TCP/IP Socket Clients"

</PRE></OL>To edit the TCP/IP "keep alive" setting:

<UL><LI>Add the following registry entry:
<P>
<P><PRE>      TcpKeepCnt
</PRE><P>
</UL>Or modify it, if you already have one, in the following path:
<P>
<PRE>   HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services\Tcpip\Parameters

</PRE><LI>Set it to the number (in seconds) you prefer. To keep the
   connection alive forever, you should set the value to zero.
<P>
</UL>For more information on the Windows NT network configuration issues
such as TCP/IP, see your Windows NT documentation.

<OL><P><LI>Install SQL Server according to the instructions in the SQL Server
   Configuration Guide.

<P><LI>Either during or after server installation, use the SQL Server Setup
   program and select the Change Network Support option. If this
   option is not available (greyed out), you may have the Desktop version
   of SQL Server, which does not support networked connections. Another
   possible cause of the Change Network Support option being unavailable
   could be if you use full integrated security, which does not allow the
   use of IPC (Interprocess Communications) techniques other than named
   pipes.

<P><LI>In the Install/Uninstall Networks dialog, select the TCP/IP
   Sockets checkbox. It is not necessary to use the Client
   Configuration Utility on the SQL Server to select a different
   default network.
<P>
</OL><h3>Instructions for Client-side Setup:</h3>
 
<P>
For clients using non-Microsoft versions of TCP/IP, you must generally
obtain the correct Sybase sockets Net-Library for your version of TCP/IP
sockets from Sybase. Install this according to the platform-specific
instructions that come with the Sybase Net-Library for your particular
system.
<P>
The Microsoft SQL client utilities, such as SQL Administrator, SQL
Object Manager, and ISQL/W, are only supported for use with Microsoft
SQL Server.
<P>
Network clients using Microsoft TCP/IP can use the named pipes Net-Library
which ships with Microsoft SQL Server, since Microsoft TCP/IP supports
named pipes. Non-Microsoft versions of TCP/IP will require a Sybase sockets
Net-Library. Microsoft SQL Server version 4.21 ships with client sockets
Net-Libraries for MS-DOS, Windows for Workgroups version 3.11, and Windows
NT clients. These are supported only for Microsoft TCP/IP and only for
connecting to Microsoft SQL Server.
<P>
<P><h3>For Clients Using Microsoft TCP/IP:</h3>
 

<OL><P><LI>Install the Microsoft TCP/IP Networking software according to the
   accompanying instructions. Verify you can ping the SQL Server
   machine using the ping utility, which ensures the physical, data
   link, and network layers are working.

<P><LI>Use the SQL makepipe/readpipe test programs according to the
   instructions in the SQL documentation to verify named pipes
   connectivity from client to server. Using makepipe/readpipe
   as a connectivity test is possible even if you do not plan on
   using named pipes as your IPC, because pipes support is integral
   to Microsoft TCP/IP. If this program fails, or gives an error code,
   you have a non-SQL network or network configuration error, and you
   should work with your primary network support provider to resolve this.

<P><LI>After makepipe/readpipe works successfully, install the SQL Server
   client setup disk for the client operating system you have. This
   will allow connection to SQL Server over TCP/IP using named pipes.
   There are separate client utilities setup disks for MS-DOS, Windows,
   and OS/2. Windows NT clients use the SQL Server Setup Disk One. No
   further client SQL configuration changes are needed, as named pipes
   are the default Net-Library.

<P><LI>If you want to connect to SQL Server  via Windows sockets, use the
   Client Configuration Utility "Advanced" option.
<P>
   Under Server: Enter the name of your SQL Server.
   Under DLL Name: Enter dbmssoc3.
   Under Connection String: Enter the IP address of your SQL Server,
   followed by the correct socket number.
<P>
   For SQL Server version 4.21, this is usually 1433. Example of connection
   string entry: 22.101.26.36,1433. For connecting to pre-4.21 versions of
   SQL Server, the default socket number was 3180. See the SQL Server
   version 4.21 'readme' file for more information.
<P>
</OL>The above instructions are unchanged whether you use Windows NT or Windows
NT Advanced Server.
<P>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional query words: 4.20 Windows NT connectivity<BR>
Keywords            : kb3rdparty kbinterop SSrvNet_Lib kbfaq<BR>
Version             : 4.2<BR>
Platform            : WINDOWS<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  April 3, 1997</FONT>
	<BR>
	<A HREF="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
