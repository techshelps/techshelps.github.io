

<HTML>
<HEAD>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>FILE: IOCTL.exe: How to Use Various Types of IOCTL </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q178317">
<META NAME="KBModify" CONTENT="1997/12/30">
<META NAME="KBCreate" CONTENT="1997/12/18">
<META NAME="Keywords" CONTENT="DdkMisc">
<META NAME="KBArea" CONTENT="Support; KB; win32ddk">
<META NAME="Description" CONTENT="  Demonstrates how to use various types of IOCTL and how the I/O manager handles the user I/O buffer in each case. This sample also helps you understand how to use some of the memory manager functions.  MORE INFORMATION  The following file is availab...">
<META NAME="Product" CONTENT="Win32 DDK">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QAU9,QBWP,QDJD,QAPF,QAVX,QAVW,QAY2,QAIJ,QAP2,QAJ4,QAGI,QAGU,QBWS,QDMW,QDIV V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>FILE: IOCTL.exe: How to Use Various Types of IOCTL</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  December 30, 1997</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q178317</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
 
The information in this article applies to:

<UL><LI>Microsoft Win32 Device Development Kit (DDK) for Windows NT, versions
   3.51, 4.00
</UL> 
<P>
<P><h2>SUMMARY</h2>
 
<P>
Demonstrates how to use various types of IOCTL and how the I/O manager
handles the user I/O buffer in each case. This sample also helps you
understand how to use some of the memory manager functions.
<P>
<P><h2>MORE INFORMATION</h2>
 
<P>
The following file is available for download from the Microsoft Software
Library:
<P>
<PRE> ~ <A HREF="http://support.microsoft.com/download/support/mslfiles/IOCTL.exe">IOCTL.exe</A> <I>(size: 25308 bytes)</I> 

</PRE>For more information about downloading files from the Microsoft Software
Library, please see the following article in the Microsoft Knowledge Base:
<P>
<PRE>   ARTICLE-ID: <B><A HREF="../zMiscellaneous/Q119591.htm">Q119591</A></B>
   TITLE     : How to Obtain Microsoft Support Files from Online Services

</PRE><h3>Generic Sample IOCTL Driver</h3>
 
<P>
The following are included with this file:

<UL><LI>A Windows NT device driver to demonstrate how to use 4 different
   types of ioctls and some of the memory manager functions.

<LI>A simple test program that makes all 4 types of ioctl calls to the
   driver.
<P>
</UL>This driver is an example of a minimal driver. Neither it nor the sample
programs are intended to be used in a production environment. Rather, they
are intended for educational purposes and as a skeleton driver.
<P>
<P><h3>Building the Driver and Examples</h3>
 
<P>
To compile the device driver:

<OL><P><LI>Invoke the checked or free build environment dos box.

<P><LI>Run "BUILD". This invokes the Microsoft make routines. They produce log
   files called BUILD.WRN, and BUILD.LOG. The WRN file will contain
   warnings that no components have been extracted from certain libraries,
   even if the build succeeds. If it does succeed the driver can be found
   in %basedir%\lib\i386\free or %basedir%\lib\i386\checked directory.

<P><LI>Copy the sys file to the %SystemRoot%\system32\drivers directory on your
   test machine.
<P>
</OL>To install the Sample IOCTL driver (Sioctl) use the Regini utility to
create the entries listed in the sioctl.ini file.
<P>
<P><h3>Testing</h3>
 

<OL><P><LI>Reboot your computer.

<P><LI>Start the driver with "net start sioctl".

<P><LI>Run  Sioctl.exe.
</OL> 
<PRE>Keywords          : DdkMisc
Version           : WINNT:3.51,4.00
Platform          : winnt
Issue type        : kbfile</PRE>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
================================================================================<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  December 30, 1997</FONT>
	<BR>
	<A HREF="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
