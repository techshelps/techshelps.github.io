

<HTML>
<HEAD>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Modifying DDKENV.BAT to Build 16-Bit Multimedia Drivers </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q152538">
<META NAME="KBModify" CONTENT="1996/07/01">
<META NAME="KBCreate" CONTENT="1996/06/17">
<META NAME="Keywords" CONTENT="kbprg kbmm kbtool">
<META NAME="KBArea" CONTENT="Support; KB; win32ddk">
<META NAME="Description" CONTENT="  The Windows 95 Device Driver Kit (DDK) contains a number of sample multimedia device drivers. Many of these drivers contain both a 16-bit DRV component and a 32-bit VXD component. In order to build the 16-bit multimedia driver components, you can r...">
<META NAME="Product" CONTENT="Win32 DDK">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QAU9,QANE,QAYS,QDL9,QBXS,QBWQ,QBWO,QBWN,QAFI,QACF,QDNF,QBXB,QATJ,QAPF,QACI V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>Modifying DDKENV.BAT to Build 16-Bit Multimedia Drivers</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  July 1, 1996</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q152538</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
The information in this article applies to:

<UL><LI>Microsoft Win32 Device Driver Kit (DDK) for Windows 95, version 4.0
</UL> 
<P>
<P><h2>SUMMARY</h2>
 
<P>
The Windows 95 Device Driver Kit (DDK) contains a number of sample
multimedia device drivers. Many of these drivers contain both a 16-bit DRV
component and a 32-bit VXD component. In order to build the 16-bit
multimedia driver components, you can run the following three batch files
in the order listed. Note the two parameters passed to ddkenv.bat:

<UL><LI>new-vars.bat, typically located in the \masm611\binr directory.

<LI>msvcvars.bat, typically located in the \msvc\bin directory (use a 16-
   bit version of Visual C++, such as 1.52).

<LI>ddkenv.bat 16 mmedia, typically located in the \ddk directory.
<P>
</UL>The ddkenv.bat file is built dynamically when the Windows 95 DDK is
installed. The standard ddkenv.bat file will not work properly for building
the 16-bit sample multimedia drivers. Specifically, the include order is
incorrect. In order to build these 16-bit drivers, you can modify the
:ENVIRON16 section of ddkenv.bat. Following is the unmodified :ENVIRON16
section of ddkenv.bat:
<P>
<PRE>   :ENVIRON16
   REM *** add the location of your 16-bit environment here ***
   set WIN16=TRUE
   set include=%ddkroot%\%2\inc;%ddkroot%\inc16;%sdkroot%\inc16;
   %_include%;%ddkroot%\inc32;%sdkroot%\include
   set lib=%ddkroot%\lib;%sdkroot%\lib16;%_lib%
   path=%ddkroot%\%2\bin;%ddkroot%\bin;%sdkroot%\binw16;%sdkroot%\bin;
   %_path%
   prompt Windows 95 16-bit %2 build$_%_prompt%
   goto EGRESS

</PRE>In order to build the 16-bit sample multimedia drivers, you can modify the
"set include=" line above and move %sdkroot%\include ahead of %_include%.
<P>
Following is the modified "set include=" line:
<P>
<PRE>   set include=%ddkroot%\%2\inc;%ddkroot%\inc16;%sdkroot%\inc16;
   %sdkroot%\include;%_include%;%ddkroot%\inc32;

</PRE><h2>REFERENCES</h2>
 
<P>
See the Windows 95 DDK for more information on Windows 95 multimedia
drivers.
<P>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional reference words: 4.00<BR>
KBCategory: kbprg kbmm kbtool<BR>
KBSubcategory: DdkMisc
<P>


</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  July 1, 1996</FONT>
	<BR>
	<A HREF="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
