

<HTML>
<HEAD>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>PRB: ERROR_VOLUME_EXISTS Defined Incorrectly in DDK Error.h </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q141046">
<META NAME="KBModify" CONTENT="1995/12/14">
<META NAME="KBCreate" CONTENT="1995/12/11">
<META NAME="Keywords" CONTENT="kbprg kbprb">
<META NAME="KBArea" CONTENT="Support; KB; win32ddk">
<META NAME="Description" CONTENT="  ERROR_VOLUME_EXISTS is defined in the Error.h file that ships with the Windows 95 DDK as 606h. However, the value of ERROR_VOLUME_EXISTS used internally by Windows 95 (IFSMGR and the FSDs shipped with the product) is 284h. As a result, IFSMGR rejec...">
<META NAME="Product" CONTENT="Win32 DDK">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QBWN,QDL9,QBWQ,QBWO,QAAP,QAKD,QAB4,QDNF,QAUD,QAKC,QAGQ,QA63,QA3S,QAM1,QAH4 V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>PRB: ERROR_VOLUME_EXISTS Defined Incorrectly in DDK Error.h</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  December 14, 1995</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q141046</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
The information in this article applies to:

<UL><LI>Microsoft Win32 Device Development Kit (DDK) for Windows 95
</UL> 
<P>
<P><h2>SYMPTOMS</h2>
 
<P>
ERROR_VOLUME_EXISTS is defined in the Error.h file that ships with the
Windows 95 DDK as 606h. However, the value of ERROR_VOLUME_EXISTS used
internally by Windows 95 (IFSMGR and the FSDs shipped with the product) is
284h. As a result, IFSMGR rejects the remount request and forces a new
mount if FSDs for removeable media returns ERROR_VOLUME_EXISTS.
<P>
<P><h2>RESOLUTION</h2>
 
<P>
This has been fixed for future versions of Windows. FSDs for Windows 95
should use the value 284h for ERROR_VOLUME_EXISTS for Windows 95, and the
value 606h for versions beyond Windows 95. The following code fragment
might be used for FSDs to determine what error number to return for
ERROR_VOLUME_EXISTS:
<P>
DetermineVolumeExistsErrorcode proc near
<P>
<PRE>    VxDcall IFSMgr_GetVersion
    cmp     eax, WIN95_IFSMGR  ; this value is 022H for Windows 95
    ja      ret_nash_error     ; use new errorcode for Nashville
    mov     eax, OLD_ERROR_VOLUME_EXISTS ; this value is 0284H
    ret
</PRE>ret_nash_error:
<PRE>    mov     eax, ERROR_VOLUME_EXISTS  ; defined in Error.inc that is
                                      ; part of Windows 95 DDK in INC16 dir
   ret

</PRE>DetermineVolumeExistsErrorCode endp
<P>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional reference words: 4.00<BR>
KBCategory: kbprg kbprb<BR>
KBSubcategory:<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  December 14, 1995</FONT>
	<BR>
	<A HREF="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
