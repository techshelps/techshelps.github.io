

<HTML>
<HEAD>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>AdapterSettings Entry for SCSI Miniport under Windows 95 </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q140728">
<META NAME="KBModify" CONTENT="1995/12/12">
<META NAME="KBCreate" CONTENT="1995/12/06">
<META NAME="Keywords" CONTENT="kbgraphic">
<META NAME="KBArea" CONTENT="Support; KB; win32ddk">
<META NAME="Description" CONTENT="  One of the features of the SCSI miniport driver architecture is the ability to pass a user-defined parameter string to the miniport. Under Windows 95, a user can view and modify this string through the Settings property page for a SCSI adapter in t...">
<META NAME="Product" CONTENT="Win32 DDK">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QAB5,QAD7,QAJG,QAH7,QAH6,QBQU,QAGU,QAP2,QAU9,QATX,QDIO,QDL9,QBWQ,QBWO,QBWN V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>AdapterSettings Entry for SCSI Miniport under Windows 95</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  December 12, 1995</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q140728</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
The information in this article applies to:

<UL><LI>Microsoft Win32 Device Development Kit (DDK) for Windows 95
</UL> 
<P>
<P><h2>SUMMARY</h2>
 
<P>
One of the features of the SCSI miniport driver architecture is the ability
to pass a user-defined parameter string to the miniport. Under Windows 95,
a user can view and modify this string through the Settings property page
for a SCSI adapter in the Device Manager.
<P>
<P><h2>MORE INFORMATION</h2>
 
<P>
Scsiport.pdr actually looks in two different places in the registry for
user settings to pass to the miniport via the ArgumentString parameter of
the miniport's HwFindAdapter function. Each hardware device actually has
two different keys in the registry -- the software key and the hardware
key.
<P>
The hardware key contains information about the device, such as logical
resource information, hardware ID, compatible device IDs, device
descriptions, and so on. The hardware key for a device will lie under the
bus type it belongs to, under the HKEY_LOCAL_MACHINE\Enum key. For example,
a legacy ISA Adaptec 1542 SCSI adapter would have a hardware key registry
similiar to this:
<P>
<PRE>    \\HKEY_LOCAL_MACHINE
      \Enum
        \Root
          \*ADP1542
            \0000

</PRE>The \Root key indicates the device is a legacy (non-PnP) device, and the
\0000 is the instance number for the device. Similiarly, ISA PnP devices
would be found under the \ISAPNP key, PCI devices would be under the \PCI
key, etc. The hardware registry section for a device also contains an entry
that points to the software registry key for that device. For example, the
Adaptec adapter might have a Driver=SCSI\0000 value. This points to the
software key for the device, which would be found under the following key
in the registry:
<P>
<PRE>    \\HKEY_LOCAL_MACHINE
      \System
        \CurrentControlSet
          \Services
            \Class
              \ScsiAdapter
                \0000

</PRE>The software key for a device has driver information, such as the devloader
for the device (*IOS in the case of SCSI adapters) and the driver for the
device.
<P>
Scsiport.pdr will look in both the software and hardware registry sections
of a SCSI adapter to find a parameter string to pass to the SCSI miniport's
HwFindAdapter function. The subkey it looks for is AdapterSettings.
Scsiport will look first in the software section and then in the hardware
section for a matching subkey. The hardware section is searched only if the
software section does not have a match.
<P>
NOTE: Users can create their own AdapterSettings parameter string using
Device Manager by selecting Properties for the device, selecting the
Settings propery page, and entering appropriate informaton into the Adapter
Settings edit control. The entered adapter settings will be stored in the
hardware registy key for the device. This implies that an AdapterSettings
string created by a user can be overridden by an AdapterSettings entry in
the hardware key.
<P>
<P><h2>REFERENCES</h2>
 
<P>
SCSI Miniport Driver Specification - Windows NT 3.51 DDK
<P>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional reference words: 4.00 AdapterSettings<BR>
KBCategory: kbgraphic<BR>
KBSubcategory:<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  December 12, 1995</FONT>
	<BR>
	<A HREF="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
