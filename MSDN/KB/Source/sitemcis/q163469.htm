

<HTML>
<HEAD>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>CRS: How to Set Up the Notification Index </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q163469">
<META NAME="KBModify" CONTENT="1998/01/30">
<META NAME="KBCreate" CONTENT="1997/02/11">
<META NAME="Keywords" CONTENT="kbusage kbhowto">
<META NAME="KBArea" CONTENT="Support; KB; sitemcis">
<META NAME="Description" CONTENT="  This article gives detailed information about how to set up the notification index using MCIS Content Replication System (CRS) as the notification source.  MORE INFORMATION  How to set up a CRS project:  To set up a CRS project, use the CRS functio...">
<META NAME="Product" CONTENT="sitemcis">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QATJ,QA28,QAA1,QDI2,QA6A,QAK9,QABC,QBXB,QAJN,QAK6,QAKJ,QAFI,QAXB,QAH6 V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>CRS: How to Set Up the Notification Index</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  January 30, 1998</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q163469</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
 
The information in this article applies to:

<UL><LI>Microsoft Commercial Internet System, version 1.0
</UL> 
<P>
<P><h2>SUMMARY</h2>
 
<P>
This article gives detailed information about how to set up the
notification index using MCIS Content Replication System (CRS) as the
notification source.
<P>
<P><h2>MORE INFORMATION</h2>
 
<P>
How to set up a CRS project:
<P>
To set up a CRS project, use the CRS function ADDPROJ to add a project to
the CRS list of replication projects.
<P>
For every replication project, there must be two projects set up, one on
the source computer and one on the target computer, both with the same
name. Obviously, CRS must be set up on both computers. The project on the
source computer should indicate the source directory from which the content
needs to be replicated, the destination machine name, and optionally the
URL to which the content gets mapped.
<P>
The target computer (if you are replicating content to the Indexer, this
would, in general, be the Indexer computer itself) should have the location
of the directory where CRS should replicate the content. The destination
field on the target computer may be left blank.
<P>
Use the following flags to be able to work well with the Indexer. Other
flags, such as /FASTMODE and so on, may be used optionally.
<P>
<PRE>SOURCE MACHINE:   CRS ADDPROJ &lt;ProjectName&gt; &lt;Source Directory&gt;
</PRE>&lt;Destination&gt; /MapURL {urlname}
<PRE>TARGET MACHINE:   CRS ADDPROJ &lt;ProjectName&gt; &lt;Target Directory&gt; /server
</PRE>&lt;Target Server&gt;
<P>
/AUTOMATIC flag may be used to make sure that the replication will be done
automatically every time the source directory contains a new file.
<P>
CRS STARTREP &lt;ProjectName&gt; /automatic
<P>
How to create a Notification Index that indexes the notifications coming
through from CRS:
<P>
After the two projects above have been set up, the CRS knows to notify the
Indexer whenever there is new content. Now the Indexer may have multiple
indexes and needs to know which index to send the notifications to. To set
up a certain CRS project to notify a specific index, use the command line
admin command SETNOTIFYSOURCES and give it the corresponding CRS project
name.
<P>
How to build an Index:
After an index has been set up to receive notifications from a certain CRS
project, CRS sends notifications when there is new content. Before and
after it sends a “batch” of content, it also sends a start-of-batch and end-
of-batch notification. Unlike in the case of a crawl type index, a
notification index does not have an end-of-crawl concept. The Indexer is
constantly in a state where it is waiting for more notifications to index.
So the Indexer needs to be specifically told when to build an index and
propagate it to the DSS. Propagation does not happen automatically as it
does in the case of a crawl index at the end-of-crawl. To force a prop or a
build or an update, use the command line admin command SetTimeThrshs for
prop time thresholds or SetThrshs for thresholds based on the number of
Files or the Bytes indexed or the number of Batches indexed.
<P>
Because CRS explicitly sends an end-of-batch notification, it may be
convenient to use that to trigger an event. For example, a user may want to
build the index every time CRS replicates content but may want to propagate
it to the DSS once a day. In this case, the user sets a time threshold for
propagation once a day and sets build thresholds for every batch. The user
has to remember to also set update thresholds, because the BUILD threshold
applies only to the first time the Indexer creates an index. Every
incremental batch that comes in will be built into the Index as an UPDATE.
<P>
Propagation (Internal / CRS)
Propagation can be either internal prop, or the user may use CRS to prop
indexes to the DSS. In the case where the user uses CRS, CRS needs to be
installed on the DSS computer also. For each index propagation, two
projects need to be set up, one on the Indexer and one on the DSS, both of
the same name. Note that the names of the projects replicating content to
the Indexer and replicating indexes to the DSS have to be distinct.
<P>
The project on the Indexer computer should indicate the DSS machine name
(the destination), and the source directory (which in this case is the
Index drop directory). The project on the DSS computer should indicate the
target directory where CRS needs to drop the files; this is the drop
directory of the corresponding index on the DSS. CRS then notifies the DSS
when there are new indixes to be updated.
 
<PRE>Keywords          : kbusage kbhowto
Version           : WinNT:1.0
Platform          : WINDOWS</PRE>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
================================================================================<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  January 30, 1998</FONT>
	<BR>
	<A HREF="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
