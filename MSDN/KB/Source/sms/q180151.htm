

<HTML>
<HEAD>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>SMS: How to Select the PCM Distribution Server Selection Logic </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q180151">
<META NAME="KBModify" CONTENT="1998/02/02">
<META NAME="KBCreate" CONTENT="1998/01/29">
<META NAME="Keywords" CONTENT="kbbug1.10 kbbug1.20 smspcm">
<META NAME="KBArea" CONTENT="Support; KB; sms">
<META NAME="Description" CONTENT="  Package Command Manager (PCM) is designed to be robust in its capability to select a distribution server to find a given package. The selection logic algorithm for PCM to find a package is:  1. Check the client's current Systems Management Server l...">
<META NAME="Product" CONTENT="Systems Management Server">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QARL,QAI3,QBXS,QABI,QA5E,QA2Q,QAYZ,QAR4,QAI5,QABH,QDO3,QDKW,QBSO,QBVX,QAG2 V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>SMS: How to Select the PCM Distribution Server Selection Logic</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  February 2, 1998</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q180151</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
 
The information in this article applies to:

<UL><LI>Microsoft Systems Management Server versions 1.1 and 1.2
</UL> 
<P>
<P><h2>SYMPTOMS</h2>
 
<P>
Package Command Manager (PCM) is designed to be robust in its capability to
select a distribution server to find a given package. The selection logic
algorithm for PCM to find a package is:

<OL><P><LI>Check the client's current Systems Management Server logon server.

<P><LI>If necessary, check each of the client's drive mappings.

<P><LI>If necessary, select a server at random from the client's PCM
   instruction file (&lt;SMS_ID&gt;.ins), located in the SMS\Logon.srv\Pcmins.box
   directory on the client's Systems Management Server logon server.
<P>
</OL>Without the hotfix mentioned below, there is no way to control the
selection logic.
<P>
<P><h2>WORKAROUND</h2>
 
<P>
To work around this problem, obtain the hotfix mentioned in the STATUS
section of this article, or wait for the next Systems Management Server
service pack. The hotfix should have the following timestamps:
<P>
<PRE>      1/20/98   12:49pm      261,072 Pcmsvc32.exe
      1/20/98   12:49pm      449,232 Pcmwin16.exe
      1/20/98   12:49pm      461,712 Pcmwin32.exe

</PRE></OL><h2>STATUS</h2>
 
<P>
Microsoft has confirmed this to be a problem in Systems Management Server
versions 1.1 and 1.2.
A supported fix is now available, but has not been fully regression-
tested and should be applied only to systems experiencing this specific
problem. Unless you are severely impacted by this specific problem,
Microsoft recommends that you wait for the next Service Pack that contains
this fix. Contact Microsoft Technical Support for more information.
<P>
<P><h2>MORE INFORMATION</h2>
 
<P>
With the hotfix, it is now possible to set the selection logic level for
PCM by adding a value to the [Local] section of the Sms.ini file on the
client. To do this, do the following:

<UL><LI>To disable any selection attempts beyond trying the client's current
   Systems Management Server logon server, add the following line to the
   [Local] section of the client's Sms.ini file:
<P>
<P><PRE>      DisableRandomServers=LOCALONLY
</PRE>
<LI>To disable any selection attempts beyond trying the client's current
   Systems Management Server logon server and any servers to which the
   client has a drive mapped, add the following line to the [Local] section
   of the client's Sms.ini file::
<P>
<P><PRE>      DisableRandomServers=DRIVEMAPPINGS
</PRE>
<LI>To leave the behavior at the default algorithm, you can either not
   modify the client's Sms.ini file, or you can add the following line to
   the [Local] section:
<P>
<P><PRE>      DisableRandomServers=RANDOM
</PRE><P>
</UL>Unless it is specifically necessary to disable a particular level of
selection logic, Microsoft Premier Support recommends that you do not add
this setting to the client's Sms.ini file.
<P>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional query words: prodsms mapping drivemapping drivemappings<BR>
Keywords          : kbbug1.10 kbbug1.20 smspcm<BR>
Version           : winnt: 1.2 1.1<BR>
Platform          : winnt<BR>
Issue type        : kbbug<BR>
Solution Type     : kbpatch<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  February 2, 1998</FONT>
	<BR>
	<A HREF="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
