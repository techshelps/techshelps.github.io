

<HTML>
<HEAD>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>SMS: Preparing for a Systems Management Server Upgrade </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q171338">
<META NAME="KBModify" CONTENT="1998/02/13">
<META NAME="KBCreate" CONTENT="1997/07/14">
<META NAME="Keywords" CONTENT="smshowto smssetup kbnetwork kbsetup">
<META NAME="KBArea" CONTENT="Support; KB; sms">
<META NAME="Description" CONTENT="  Upgrading a site that is not in a functioning, healthy state may cause serious problems, and may require a reinstallation. This article outlines recommended procedures for upgrading a Systems Management Server site from version 1.1 to 1.2 or for ap...">
<META NAME="Product" CONTENT="Systems Management Server">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QDO3,QBVX,QAA1,QDIU,QA3W,QAGR,QAC1,QAJP,QBDZ,QACK,QAA5,QABI,QABH,QDI2,QDIZ V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>SMS: Preparing for a Systems Management Server Upgrade</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  February 13, 1998</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q171338</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
 
The information in this article applies to:

<UL><LI>Microsoft Systems Management Server, versions 1.1 and 1.2
</UL> 
<P>
<P><h2>SUMMARY</h2>
 
<P>
Upgrading a site that is not in a functioning, healthy state may cause
serious problems, and may require a reinstallation. This article outlines
recommended procedures for upgrading a Systems Management Server site from
version 1.1 to 1.2 or for applying a service pack. Following these
procedures should prevent problems from occurring.
<P>
<P><h2>MORE INFORMATION</h2>
 
<P>
The following steps should be performed before all Systems Management
Server upgrades (including the application of service packs) are performed:

<OL><P><LI>Read the Readme.txt files, release notes, and all .txt files that
   accompany the service pack or the upgrade CD.

<P><LI>Read chapter 8, "Upgrading," of the Systems Management Server 1.2
   Installation and Configuration Guide.

<P><LI>Ensure that the Systems Management Server service account is working,
   has Domain Admin, Domain Users, Administrator, and the Logon As A
   Service advanced user rights in all domains participating in the site.

<P><LI>Check the Windows NT Application Event log (on the parent site and any
   children) for connectivity or hierarchy related errors.

<P><LI>Back up the Systems Management Server registry, Sitectrl.cto, and
   System.map on the primary site and child secondary sites (if any).

<P><LI>Back up the site with a full database dump and directory backup.

<P><LI>Use Network Monitor to check the network usage and bandwidth, and do
   the upgrade during non-busy hours.

<P><LI>VERY IMPORTANT: Perform a site reset at every primary site (from
   within Systems Management Server Setup) and stop and restart the Site
   Configuration Manager service on the all child Secondary sites (if any).

<P><LI>Ensure that SQL Server is configured properly. For more information on
   SQL Server configuration, refer to the following article in the
   Microsoft Knowledge Base:
<P>
<P><PRE>      ARTICLE-ID: <B><A HREF="../SMS/Q166244.htm">Q166244</A></B>
<PRE></PRE>      TITLE     : SMS: SQL Server Tuning Parameters for Systems Management
                  Server

</PRE><P><LI>Ensure that the transaction log and the Systems Management Server
   database is not full. If necessary, increase the log size, database
   size, tempdb, or device size before upgrading.
<P>
</OL>If there are child secondary sites, also do the following:

<OL><P><LI>Ensure connectivity from the parent to the child and visa versa with
   Net View, and so on.

<P><LI>Check that ALL secondary sites are active by looking at the status
   screen in the site properties in the Systems Management Server
   Administrator program. The Hman.log file should show all sites active
   (status 1). This is very important because if one secondary site is not
   active, the upgrade will be delayed or may fail.
<P>
</OL><h3>Additional Notes</h3>
 

<UL><LI>Systems Management Server 1.2 Service Pack 2 introduced a switch to
   delay the automatic upgrade of child secondary sites. For more
   information, please refer to the service pack's Readme.txt file.

<LI>For more information on secondary site installation and upgrades, visit
   the following Web site:
<P>
<P><PRE>      <B><A HREF="http://www.microsoft.com/smsmgmt/">http://www.microsoft.com/smsmgmt/</A></B>
</PRE><P>
   When you are on the Web site, select "Deployment &amp; Support", and then
   "Technical Papers".

<LI>It may be necessary to reinstall the SQL Server service pack after
   applying the Systems Management Server service pack. Systems Management
   Server 1.2 Service Pack 2 overwrites some SQL Server service pack files.
<P></UL>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional query words: prodsms SP1 SP2 SP<BR>
Keywords          : smshowto smssetup kbnetwork kbsetup<BR>
Version           : WinNT:1.1,1.2<BR>
Platform          : winnt<BR>
Issue type        : kbhowto kbinfo<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  February 13, 1998</FONT>
	<BR>
	<A HREF="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
