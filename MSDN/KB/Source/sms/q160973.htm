

<HTML>
<HEAD>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>SMS: How to Restrict Access to NetWare Servers </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q160973">
<META NAME="KBModify" CONTENT="1997/04/01">
<META NAME="KBCreate" CONTENT="1996/12/13">
<META NAME="Keywords" CONTENT="kb3rdparty kbnetwork kbusage smsadmin smshowto smspcm smspgc smssiteconfigman">
<META NAME="KBArea" CONTENT="Support; KB; sms">
<META NAME="Description" CONTENT="  The officially supported method for Systems Management Server access to NetWare servers is to use a NetWare account that is equivalent to the NetWare supervisor.  Where such access cannot be granted for the Systems Management Server Service Account...">
<META NAME="Product" CONTENT="Systems Management Server">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QAI5,QBXB,QATJ,QAFI,QBW7,QAGR,QBG2,QA1S,QBVX,QACK,QAEF,QBWG,QA7T,QAA1,QDNQ V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>SMS: How to Restrict Access to NetWare Servers</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  April 1, 1997</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q160973</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
 
The information in this article applies to:

<UL><LI>Microsoft Systems Management Server, version 1.2
</UL> 
<P>
<P><h2>SUMMARY</h2>
 
<P>
The officially supported method for Systems Management Server access to
NetWare servers is to use a NetWare account that is equivalent to the
NetWare supervisor.
<P>
Where such access cannot be granted for the Systems Management Server
Service Account (likely due to political or management boundaries), the
following alternative method for granting access for Systems Management
Server services can be used.
<P>
NOTE: Because of a change in the method Systems Management Server employs
to check its connection to a NetWare server, the steps outlined below may
only be used when you are using Systems Management Server version 1.2.
<P>
<P><h2>MORE INFORMATION</h2>
 
<P>
Apart from the full level of access documented in the Systems Management
Server manuals, there are two levels of access documented below. The first
level of access (gained after following the first five steps below)
discussed allows client inventory and Package Command Manager (PCM) jobs to
be sent to clients. Using the first level of access, Program Group Control
(PGC) jobs will fail, because the Systems Management Server Service Account
under which the Despooler runs on the site server, will not have the
necessary NetWare volume rights.
<P>
In the following examples, NetWare command line utilities are used. The
sample Systems Management Server Service Account used is called SMSSERVICE.
<P>
<P><h3>To Restrict the Service Rights to a NetWare Login/Distribution Server</h3>
 

<OL><P><LI>Create a NetWare login account using the same login name as that the
   Systems Management Server services use on the Site server. The account
   will need the same password as the Windows NT account.

<P><LI>Initially grant the Systems Management Server account Read, Write,
   Create, Erase, Modify, File Scan, and Access Control trustee directory
   rights to the root directory of the volume to which Systems Management
   Server will be installed. (Full trustee directory rights are required
   for the initial installation. These rights are revoked in a later step).
   Using the NetWare GRANT utility, issue the following command:
<P>
<P><PRE>      GRANT R W C E M F A  FOR vol: TO SMSSERVICE (vol: = SMS installation
      volume)
</PRE>
<P><LI>Create a NetWare domain within the Systems Management Server
   Administrator, or add the NetWare server to an existing NetWare domain.
   Specify the NetWare server name as normal, but make sure the
   installation volume is specified. Once the site property has been
   initiated, the Systems Management Server Site Configuration Manager
   (SCMAN) is responsible for creating the necessary directory structure
   and permissions on the NetWare server. When the NetWare server has been
   processed by SCMAN, Maintenance Manager will populate the new logon
   server directories.

<P><LI>Once the NetWare server has been successfully added to the domain, and
   the logon servers directories have been populated, change the rights to
   the Systems Management Server directory, and remove the rights that were
   previously given at the root directory level. Grant rights to the
   Systems Management Server directory for the Systems Management Server
   Service Account, using the following command:
<P>
<P><PRE>      GRANT S FOR vol:SMS TO SMSSERVICE
</PRE><P>
   Then remove rights for SMSERVICE from the root directory of the Systems
   Management Server volume, using the following command:
<P>
<P><PRE>      REMOVE SMSSERVICE FROM vol:
</PRE>
<P><LI>To allow Systems Management Server to modify the NetWare system logon
   script in the Public directory, and to allow SCMAN to modify the NetWare
   system login script, grant the appropriate rights to the Net$log.dat
   file and the Public directory, using the following command:
<P>
<P><PRE>      GRANT ALL FOR SYS:PUBLIC\NET$LOG.DAT TO SMSSERVICE
</PRE><P>
   Because Systems Management Server backs up the system login script,
   Create rights in the Public directory are required; therefore, issue the
   following command:
<P>
<P><PRE>      GRANT C FOR SYS:PUBLIC TO SMSSERVICE
</PRE><P>
</OL>Because PCM packages are despooled to the Logon.srv\Pcmpkg.src directory on
NetWare servers, and the Systems Management Server site services now have
rights below the SMS directory, PCM packages can be despooled normally.
However, because PGC packages are despooled to directories below the root
directory of a NetWare volume, the above changes will not allow Systems
Management Server to despool these packages. The additional step below is
required if you desire PGC support. However, this requires the Systems
Management Server services to have access to the root directory of a
NetWare server, which may be unacceptable to some companies.
<P>
<P><h3>Additional Step for PGC Support</h3>
 

<OL><P><LI>Grant the NetWare Systems Management Server account Read, Write, Create,
   Erase, Modify, File Scan, and Access Control rights to the root
   directory of the Systems Management Server volume, using the following
   command:
<P>
<P><PRE>      GRANT R W C E M F A FOR vol: TO SMSSERVICE
<P></BLOCKQUOTE>
</OL>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional query words: novell prodsms 1.20<BR>
Keywords            : kb3rdparty kbnetwork kbusage smsadmin smshowto smspcm smspgc smssiteconfigman<BR>
Version             : 1.20<BR>
Platform            : WINDOWS<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  April 1, 1997</FONT>
	<BR>
	<A HREF="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
