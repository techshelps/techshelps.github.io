

<HTML>
<HEAD>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Expired SMS Jobs Alter Detailed Job Status </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q152229">
<META NAME="KBModify" CONTENT="1997/04/24">
<META NAME="KBCreate" CONTENT="1996/06/07">
<META NAME="Keywords" CONTENT="kbnetwork smsdespooler smspcm">
<META NAME="KBArea" CONTENT="Support; KB; sms">
<META NAME="Description" CONTENT="  Displaying the detailed job status of an SMS job shows Retrying or Canceled for Workstation entries after a Package Command Manager (PCM) job has expired.  CAUSE =====  The SMS despooler incorrectly creates a detailed job status MIF as the result o...">
<META NAME="Product" CONTENT="Systems Management Server">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QAG0,QARL,QAJG,QAGJ,QACE,QAL3,QAGC,QAGB,QADK,QABI,QAA1,QAKP,QBXN,QABH,QDI2 V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>Expired SMS Jobs Alter Detailed Job Status</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  April 24, 1997</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q152229</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
 
The information in this article applies to:

<UL><LI>Microsoft Systems Management Server versions 1.0 and 1.1
</UL> 
<P>
<P><h2>SYMPTOMS</h2>
 
<P>
Displaying the detailed job status of an SMS job shows Retrying or Canceled
for Workstation entries after a Package Command Manager (PCM) job has
expired.
<P>
<P><h2>CAUSE</h2>
 
<P>
The SMS despooler incorrectly creates a detailed job status MIF as the
result of a PCM job expiry notification received from an SMS client. Under
SMS 1.0 the detailed job status for the Workstation entry is set to
Retrying as the result of the job expiry. Under SMS 1.1 the detailed job
status for the Workstation entry is set to Canceled.
<P>
The expected behavior is to maintain the last reported job status for the
workstation.
<P>
<P><h2>MORE INFORMATION</h2>
 
<P>
An example situation is described below :
<P>
A job is created by the SMS Administrator to distribute a PCM Package to
five clients. The package is only to be offered for two days, therefore the
job expiration time is set to two days after the offer date.
All five clients receive the package displayed in PCM, three succeed in
executing the package successfully on day one, one client fails to execute
the package successfully, and the fifth client is unoccupied and never
executes the package.
<P>
Two days after the package offer date, the package expires. During each
polling cycle, PCM on each client checks its Workstation Instruction
(WINST) file on its SMS logon server. It checks for new packages arriving
and for packages expiring. On job expiration, the package is removed from
the client's PCM window and a despooler instruction is written to the
despoolr.box on the logon server. Once the site's despooler processes this
instruction, it creates a detailed job status MIF to update the Workstation
entry in the job's detailed status. Depending on the version of SMS running
on the site, this alters the results displayed for the job status.
<P>
For the example above, the following results will be displayed for the
detailed job status under SMS 1.0.
<P>
End of day 1
<UL><LI>Workstations 1-3 (were successful)     Workstation Job Status = Complete
<LI>Workstation 4 (Failed package)         Workstation Job Status = Retrying
<LI>Workstation 5 (Job never executed)         Workstation Job Status = None
<P>
</UL>After job expires
<UL><LI>Workstations 1-3 (were successful)     Workstation Job Status = Retrying
<P>
</UL>End of day 3
<UL><LI>Workstation 4 (Failed package)         Workstation Job Status = Retrying
<LI>Workstation 5 (Job never executed)     Workstation Job Status = Retrying
<P>
</UL>For the example above the following results will be displayed for the
detailed job status under SMS 1.1.
<P>
End of day 1
<UL><LI>Workstations 1-3 (were successful)     Workstation Job Status = Complete
<LI>Workstation 4 (Failed package)         Workstation Job Status = Retrying
<LI>Workstation 5 (Job never executed)         Workstation Job Status = None
<P>
</UL>After job expires
<UL><LI>Workstations 1-3 (were successful)     Workstation Job Status = Canceled
<P>
</UL>End of day 3
<UL><LI>Workstation 4 (Failed package)         Workstation Job Status = Canceled
<LI>Workstation 5 (Job never executed)     Workstation Job Status = Canceled
<P>
<P>
</UL>NOTE: After the job expiration time, it is no longer possible to determine
whether the PCM job was a success, a failure, or did not run at all.
<P>
<P><h2>RESOLUTION</h2>
 
<P>
Unfortunately the behavior of the despooler component under SMS 1.0 and 1.1
cannot be resolved. The problem is corrected in SMS 1.2.
<P>
The following workarounds are suggested if you encounter problems
determining the current status of package installation for SMS clients.

<UL><LI>Extend the job expiration date to give enough time to review the job
   status for each client where possible.

<LI>Use a NOIDMIF to report details about the package installation (that is,
   Complete, Failed), so that a new attribute for the package is displayed
   for each client detailing the install status.
<P>
</UL><h2>STATUS</h2>
 
<P>
Microsoft has confirmed this to be a problem in Systems Management Server
1.0 and 1.1. We are researching this problem and will post new information
here in the Microsoft Knowledge Base as it becomes available.
<P>
The problem is corrected in SMS 1.2.
<P>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional query words: prodsms<BR>
Keywords            : kbnetwork smsdespooler smspcm<BR>
Version             : 1.0 1.1<BR>
Platform            : WINDOWS<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  April 24, 1997</FONT>
	<BR>
	<A HREF="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
