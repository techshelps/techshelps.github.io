

<HTML>
<HEAD>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Troubleshooting SMS Workstation Package Installations </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q126644">
<META NAME="KBModify" CONTENT="1997/04/22">
<META NAME="KBCreate" CONTENT="1995/02/27">
<META NAME="Keywords" CONTENT="nthowto smsmaintman smspcm">
<META NAME="KBArea" CONTENT="Support; KB; sms">
<META NAME="Description" CONTENT="  This article describes several SMS workstation package problems, and what you can do to resolve them.  MORE INFORMATION  The Workstation Package Has Been Created And Distributed With No Errors But The Item Never Shows Up In The Pending Folder Of Th...">
<META NAME="Product" CONTENT="Systems Management Server">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QABI,QABH,QBXB,QATJ,QAFI,QAA1,QDI2,QBWP,QBVV,QAI5,QAAP,QAH6,QAB4,QBV8,QAB9 V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>Troubleshooting SMS Workstation Package Installations</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  April 22, 1997</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q126644</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



<P><h3> </h3>
 
The information in this article applies to:

<UL><LI>Microsoft Systems Management Server versions 1.0 and 1.1
</UL> 
<P>
<P><h2>SUMMARY</h2>
 
<P>
This article describes several SMS workstation package problems, and what
you can do to resolve them.
<P>
<P><h2>MORE INFORMATION</h2>
 
<P>
The Workstation Package Has Been Created And Distributed With No Errors
But The Item Never Shows Up In The Pending Folder Of The Destination
Systems Package Command Manager
 

<OL><P><LI>Check the package workstation properties and confirm that the Supported
   Platforms pick list has the destination systems platform selected. Using
   SMS Administrator, check the PC Properties for the destination system
   and confirm that SMS has the correct platform type listed for the target
   system.

<P><LI>Get the CurrentLogonServer location and the Unique SMS ID from the
   hidden C:\SMS.INI file. Using these, check the
   \\&lt;logonserver&gt;\SMS_SHR\PCMINS.BOX directory for a file with the name
   &lt;Unique SMS ID&gt;.INS. If this file does not exist, the instruction file
   for this system is missing from that logon server. The SMS Maintenance
   Manager is responsible for placing these files on the logon servers.
   Check the \SMS\LOGS\MAINTMAN.LOG file for errors that may have occurred
   when this file was replicated from the Site server to the logon server.
   Check Appendix C of the "SMS Administrator's Guide" for details.

<P><LI>If the &lt;SMS ID&gt;.INS file exists on the logon server, use PCMDUMP to
   display it's contents. Careful examination of the Display Date and
   Expiration Date fields may indicated why the package has not been
   displayed on the destination system.
<P>
   For more information on using PCMDUMP to display the contents of an .INS
   file, see Knowledge Base article <B><A HREF="../SMS/Q123499.htm">Q123499</A></B>.
<P>
   PCMDUMP can be copied from the \PSSTOOLS directory on the SMS CD.
<P>
</OL><h3>Mandatory Package Does Not Execute On Time Or Does Not Execute At All</h3>
 

<OL><P><LI>Use PCMDUMP to check the value of the Install By Date field. Compare
   this date/time stamp with the destination system current date/time
   The system time must be on or after the Install By Date before PCM will
   run the package.

<P><LI>If the package is supposed to run unattended on a Windows NT system that
   has no user logged on locally, ensure that the follow conditions are
   met:
<P>
<P><PRE>    - The package must not use console I/O. This means that nothing can
      print to the screen or require keyboard or mouse input. The PCMSVC
      service is responsible for executing System Background installation
      tasks and has no access to the local console for I/O. Any console I/O
      in this type of package will fail.
</PRE><P>
<P><PRE>    - Confirm that both Automated Command Line and System (Background) Task
      are selected in the package's workstation properties.
</PRE><P>
<P><PRE>    - Confirm that PCM service user account for the Windows NT client has
      sufficient rights to execute the job on the system. On a Windows NT
      system in a secure environment, it is possible keep the PCM
      service from accessing particular directories or other Windows NT
      system objects, causing the installation to fail.
</PRE><P>
</OL>The Package Fails To Execute Properly Or Does Not Execute At All
 

<OL><P><LI>Ensure that the package source directory and the package command line
   have been configured correctly:
<P>
   a. Ensure that the command line points to a valid executable.
<P>
   b. Ensure all directory path references are relative to the package
<P><PRE>      source directory and are not absolute directory references. For
      example, to execute SETUP.EXE in the INSTALL directory of a package,
      use a relative path in the command line (INSTALL\SETUP.EXE). Do not
      use an absolute directory path reference
      (\\SMSSVR\D$\PACKAGE1\INSTALL\SETUP.EXE).
</PRE>
<P><LI>Manually run the package command line using PCMDUMP to determine what
   distribution servers contain the package. Connect to one of the listed
   server shares and change to the directory listed for the package. Run
   the packages command line from this directory. Look for errors that
   reference incorrect paths or missing files.

<P><LI>Confirm that the package directory contains a mirrored image of the
   original source directory specified when the package was created. Except
   for the top level directory name, both directory trees should be
   identical. If they are not, check the DESPOOL.LOG file for any errors
   that may have occurred while the directory structure was being created
   on the distribution server.

<P><LI>If the distribution directory does not exist on the servers, check the
   \SMS\LOGS\DESPOOL.LOG file on the SMS Site server for errors referring
   to the creation and file population of this directory.
<P>
</OL>The Package Instruction Files Never Arrive Or Never Get Updated In The
&lt;Logon Server&gt;\Sms_Shr\Pcmins.Box Directory
 

<OL><P><LI>Check the SMS Site server \SMS\SITE.SRV\MAINCFG.BOX\PCMDOM.BOX\&lt;clients
   domain&gt;\ directory. Confirm that an instruction file exists for the
   client and that it has been updated since the package was distributed.
   Use PCMDUMP if you are unsure of the status or contents of this file.

<P><LI>If this file exists and has been updated, check the
   \SMS\LOGS\MAINTMAN.LOG file for any errors that may have been logged
   when SMS attempted to transfer this file to the logon servers. The SMS
   Maintenance Manager will replicate these files at a regular watchdog
   interval. Use the log file to confirm that this watchdog cycle has
   actually taken place and that the logon server in question was one of
   its targets.

<P><LI>If this file does not exist, or has not been updated with the current
   package, check the DESPOOL.LOG file for any error referring to the
   creation or distribution of instruction files.
<P></OL>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional query words: sms prodsms trouble shoot trouble-sshoo tshoot<BR>
shooting<BR>
Keywords            : nthowto smsmaintman smspcm<BR>
Version             : 1.0 1.1<BR>
Platform            : WINDOWS<BR>
Issue type          : kbtshoot<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  April 22, 1997</FONT>
	<BR>
	<A HREF="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
