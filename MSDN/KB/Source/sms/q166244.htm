

<HTML>
<HEAD>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>SMS: SQL Server Tuning Parameters for Systems Management Server </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q166244">
<META NAME="KBModify" CONTENT="1998/03/16">
<META NAME="KBCreate" CONTENT="1997/04/01">
<META NAME="Keywords" CONTENT="smsconfig smsdatabase kbinterop kbnetwork">
<META NAME="KBArea" CONTENT="Support; KB; sms">
<META NAME="Description" CONTENT="  Systems Management Server requires several SQL Server configuration options to be set correctly to perform at maximum efficiency. This article summarizes the recommended configuration options for a SQL Server running a Systems Management Server dat...">
<META NAME="Product" CONTENT="Systems Management Server">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Security" CONTENT="PUBLIC ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QABM,QAZV,QBVX,QAI5,QAGU,QBWS,QBW6,QAGR,QDIZ,QBXS,QBV8,QALM,QBWC,QBG2,QABA V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>SMS: SQL Server Tuning Parameters for Systems Management Server</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  March 16, 1998</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q166244</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
 
The information in this article applies to:

<UL><LI>Microsoft SQL Server, versions 4.2a, 6.0, and 6.5
<LI>Microsoft Systems Management Server, versions 1.0, 1.1, and 1.2
</UL> 
<P>
<P><h2>SUMMARY</h2>
 
<P>
Systems Management Server requires several SQL Server configuration options
to be set correctly to perform at maximum efficiency. This article
summarizes the recommended configuration options for a SQL Server running a
Systems Management Server database.
<P>
<P><h2>MORE INFORMATION</h2>
 
<P>
<P><h3>Network Support</h3>
 
<P>
Named Pipes network support is required for Systems Management Server to
use to communicate with the Systems Management Server database. You can
change SQL Server network support by running SQL Server setup, selecting
the Change Network Support option, and then selecting Named Pipes as an
installed network.
<P>
<P><h3>Recommended Options for Tempdb and the Systems Management Server Database</h3>
 
TempDB should be 20% of the size of the largest database on the SQL server.
<P>
Tempdb database options enabled:
<P>
<PRE>   Select Into/ Bulk Copy
     Truncate Log on CheckPoint

</PRE>Tempdb database options disabled:
<P>
<PRE>   Columns Null by Default
   No CheckPoint on Recovery
   Single User
   DBO Use Only
   Read Only

</PRE>Systems Management Server database options enabled:
<P>
<PRE>   Truncate Log on CheckPoint 

</PRE>Systems Management Server database options disabled:
<P>
<PRE>   Select Into/ Bulk Copy
   Columns Null by Default
   No CheckPoint on Recovery
   Single User
   DBO Use Only
   Read Only

</PRE>In SQL Server 6.0 and 6.5, you can change the database options through the
SQL Enterprise Manager user interface by clicking Databases on the Manage
menu. From there, double-click the database to edit, and click the Options
tab. It is also possible to double-click the database name in the Server
Manager window.
<P>
In SQL Server 4.2a, 6.0, and 6.5, you can change the database options by
using the SP_DBOPTION stored procedure.
<P>
<P><h3>Recommended SQL Server Configuration Options</h3>
 
<P>
SQL Server Memory:
Set the SQL Server memory appropriately. This is the amount of RAM
dedicated to SQL Server. This setting depends on the amount of physical RAM
in the computer and the usage and performance requirements of SQL Server.
Memory is designated in 2-KB blocks. For example, for a dedicated SQL
Server with 128 megabytes (MB) of RAM, you may want to set the memory to
64 MB of RAM (32,768 2-KB blocks) to SQL Server. On a SQL Server and
Systems Management Server site server with 128 MB of RAM, you may only want
to dedicate 40 MB of RAM (20,480 2-KB blocks) to SQL Server.
<P>
SQL Server open Objects:
Set open objects to 5,000-7,000, depending on the size of your site and the
child sites below it. The SQL Server default for open objects is 500, which
is not adequate for a small SQL Server running Systems Management Server.
Symptoms of open objects being set too low on a SQL Server include poor
Systems Management Server or SQL Server performance, a backlog of deltamifs
or .mif files in the Systems Management Server directory structure, or
delays in inventory, package distribution, and job status MIF processing.
<P>
SQL Server User Connections:
Set user connections appropriately. Each user connection takes 40 KB of
RAM, so this value is determined by the amount of memory dedicated SQL
Server and the number of concurrent connections required. Each Systems
Management Server site server reporting to a SQL Server requires at least
10 connections. Each logon server for the site(s) requires at least an
additional connection. Each running instance of the Systems Management
Server Administrator program and the SQL Enterprise Manager requires at
least one more connection.
<P>
Tempdb in RAM:
Microsoft does not recommend placing tempdb in RAM on a SQL Server running
Systems Management Server.
<P>
In SQL Server 6.0 and 6.5, you can change the SQL Server configuration
options through the SQL Enterprise Manager user interface by clicking SQL
Server Configure on the Server menu. From there, click the Configuration
tab.
<P>
In SQL Server 4.2a, 6.0, and 6.5, you can change the configuration options
by using the SP_CONFIGURE stored procedure.
<P>
<P><h3>Additional Information</h3>
 
<P>
If you make any changes to these parameters, stop and restart the
MSSQLServer service.
<P>
Please refer to your SQL Server documentation or online Help for more
information on these settings.
<P>
A regularly scheduled database dump, along with backup of the Systems
Management Server registry and directory structure, is a mandatory part of
a good backup and recovery procedure.
<P>
For more information, see the following article in the Microsoft Knowledge
Base:
<P>
<PRE>   ARTICLE-ID: <B><A HREF="../SQLSERVER/Q166967.htm">Q166967</A></B>
   TITLE     : INF: Proper SQL Server Configuration Settings
</PRE>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional query words: prodsms prodsql Slow Site Updates Performance<BR>
Keywords          : smsconfig smsdatabase kbinterop kbnetwork<BR>
Version           : 1.0 1.1 1.2<BR>
Platform          : WINDOWS<BR>
Issue type        : kbhowto<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  March 16, 1998</FONT>
	<BR>
	<A HREF="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
