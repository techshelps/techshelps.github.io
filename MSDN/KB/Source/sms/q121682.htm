

<HTML>
<HEAD>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Memory Performance Tuning in Systems Management Server </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q121682">
<META NAME="KBModify" CONTENT="1997/04/22">
<META NAME="KBCreate" CONTENT="1994/10/16">
<META NAME="Keywords" CONTENT="kbnetwork smshierman smsinv smssiteconfigman">
<META NAME="KBArea" CONTENT="Support; KB; sms">
<META NAME="Description" CONTENT="  This article addresses how you can set, and how Systems Management Server will set the Working Set for Systems Management Server processes.  The Working Set of a process is the set of memory pages currently visible to the process in physical RAM me...">
<META NAME="Product" CONTENT="Systems Management Server">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QBXS,QAGR,QBW6,QDIR,QAKD,QANY,QABA,QAGI,QAG0,QAJH,QBVV,QA6A,QA59,QAU3,QAMR V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>Memory Performance Tuning in Systems Management Server</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  April 22, 1997</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q121682</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



<P><h3> </h3>
 
The information in this article applies to:

<UL><LI>Microsoft Systems Management Server versions 1.0 and 1.1
</UL> 
<P>
<P><h2>SUMMARY</h2>
 
<P>
This article addresses how you can set, and how Systems Management Server
will set the Working Set for Systems Management Server processes.
<P>
The Working Set of a process is the set of memory pages currently visible
to the process in physical RAM memory. These pages are resident and
available for an application to use without triggering a page fault. The
size of the Working Set of a process is specified in bytes. The minimum and
maximum Working Set sizes affect the virtual memory paging behavior of a
process.
<P>
The Systems Management Server Executive service is the most resource
intensive process in Systems Management Server. The settings described in
this article are for the Systems Management Server Executive process.
Although the settings differ, the information in this article can also be
applied to other Systems Management Server processes such as the Hierarchy
Manager, Site Configuration Manager, Package Command Manager, and Inventory
Agent.
<P>
<P><h2>MORE INFORMATION</h2>
 
<P>
The operating system allocates Working Set sizes on a first-come, first-
served basis. For example, if an application successfully sets 40 megabytes
as its minimum Working Set size on a 64-MB system, and a second application
requests a 40-MB Working Set size, the operating system denies the second
application's request.
<P>
Using this capability to set an application's Working Set size does not
guarantee that the requested memory will be reserved, or that it will
remain resident at all times. When the application is idle, or a low-memory
situation causes a demand for memory, the operating system can reduce the
application's Working Set.
<P>
The net result of establishing an appropriate Working Set for a
process is that whenever the system can allow it, a [WorkingSet] amount of
the process' data will be resident in physical memory for greater speed.
<P>
<P><h3>To Manually Set The SMS Executive Working Set</h3>
 
<P>
WARNING: Using the Registry Editor incorrectly can cause serious, system-
wide problems that may require you to reinstall Windows NT to correct them.
Microsoft cannot guarantee that any problems resulting from the use of the
Registry Editor can be solved. Use this tool at your own risk.
<P>
In the Registry Editor, traverse to this key:
<P>
<PRE>   HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\SMS\Components\SMS_Executive

</PRE>and set this value appropriately (in bytes):
<P>
<PRE>   Working Set Limit (DWORD)

</PRE>The default value is zero. If you do not set this value, the Systems
Management Server Executive will auto-tune the amount based on the table
below.
<P>
In situations where a lot of RAM is available (40+ MB), this should be set
to at least 6 MB (600000 hex). For systems at the low end, the value should
be about 4 MB. There is no upper limit to the value you can set here, but
it should seldom be greater than 7 MB.
<P>
You cannot use values less than 2 MB or the Systems Management Server
Executive will set the Working Set back to the auto-tuned value. After you
change the value, you must restart the Systems Management Server Executive.
If you do not override the Systems Management Server Executive Working Set
size, it will automatically self-scale depending on the amount of physical
RAM available.
<P>
Resetting the Working Set, may still be necessary, since having many other
processes running could still render these figures invalid.
<P>
The defaults are:
<P>
<PRE>Physical RAM        Working Set
</PRE> 
<PRE>28 MB or less       3.5 MB
29-33 MB            4.5 MB
33-41 MB            5.5 MB
More than 41 MB     6.5 MB

</PRE>Tuning the parameters discussed in this article will not effect the amount
of memory resource used by Systems Management Server, rather it will only
modify how the available memory resources are used in an attempt to keep
them resident as opposed to paged out to disk.
<P>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional query words: config sms prodsms<BR>
Keywords            : kbnetwork smshierman smsinv smssiteconfigman<BR>
Version             : 1.0 1.1<BR>
Platform            : WINDOWS<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  April 22, 1997</FONT>
	<BR>
	<A HREF="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
