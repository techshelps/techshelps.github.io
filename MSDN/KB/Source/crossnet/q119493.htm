

<HTML>
<HEAD>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>NetBIOS over TCP/IP Name Resolution and WINS </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q119493">
<META NAME="KBModify" CONTENT="1997/11/11">
<META NAME="KBCreate" CONTENT="1994/08/17">
<META NAME="Keywords" CONTENT="ntnetserv NTSrvWkst nttcp kbnetwork">
<META NAME="KBArea" CONTENT="Support; KB; crossnet">
<META NAME="Description" CONTENT="  NetBIOS over TCP/IP is the network component that performs computer name to IP address mapping, name resolution (NETBT.SYS in Windows NT and VNBT.VXD in Windows for Worgroups and Windows 95). There are currently four NetBIOS over TCP/IP name resolu...">
<META NAME="Product" CONTENT="Networking Issues">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QAUJ,QBWD,QARM,QBWO,QAVZ,QBWE,QABH,QABI,QBVV,QDNT,QDL9,QBWP,QBWN,QDJ3,QDIZ V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>NetBIOS over TCP/IP Name Resolution and WINS</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  November 11, 1997</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q119493</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
 
The information in this article applies to:

<UL><LI>Microsoft Windows NT Workstation version 3.5
<LI>Microsoft Windows NT Server version 3.5
<LI>Microsoft Windows NT Workstation versions 3.5 and 3.51
<LI>Microsoft Windows NT Server versions 3.5 and 3.51
<LI>Microsoft Windows NT Workstation version 4.0
<LI>Microsoft Windows NT Server version 4.0
<LI>Microsoft Windows 95
<LI>Microsoft TCP/IP-32 for Windows for Workgroups, versions 3.11, 3.11a,
   and 3.11b
</UL> 
<P>
<P><h2>SUMMARY</h2>
 
<P>
NetBIOS over TCP/IP is the network component that performs computer name to
IP address mapping, name resolution (NETBT.SYS in Windows NT and VNBT.VXD
in Windows for Worgroups and Windows 95). There are currently four NetBIOS
over TCP/IP name resolution methods: b-node, p-node, m-node
and h-node.
<P>
<P><h2>MORE INFORMATION</h2>
 
<P>
<P><h3>B-Node</h3>
 
<P>
When using b-node, broadcasts are used for both name registration and name
resolution. On a TCP/IP network, if the IP router is not configured to
forward the name registration and name query broadcasts, systems on
different subnets will not be able to see each other since they will not
receive the broadcasts. B-node name resolution is not the best option on
larger networks because its reliance on broadcasts can load the network
with broadcasts.
<P>
<P><h3>Microsoft Modified B-Node</h3>
 
<P>
The TCP/IP used in Microsoft Windows NT uses a modified version of b-node
name resolution. Microsoft modified b-node name resolution works in the
following manner:

<UL><LI>The workstation first checks the LMHOSTS cache and, if it finds the
   NetBIOS name, returns the IP address.

<LI>Next, the workstation tries broadcasting to resolve the name (this works
   in the same manner as b-node resolution) and, if the destination system
   is active, it returns its IP address.

<LI>Finally, the workstation (if it is a Windows NT system) will check the
   LMHOSTS file in the \&lt;winnt_root&gt;\system32\drivers\etc directory
<P>
</UL><h3>P-Node (or Point to Point Node)</h3>
 
<P>
When using p-node name resolution, broadcasts are NOT used for name
registration or name resolution. Instead, all systems register themselves
with a NetBIOS Name Server (NBNS) upon start up. The NBNS is responsible
for mapping computer names to IP addresses and making sure that no
duplicate names are registered on the network. All systems must know the IP
address of the NBNS, which is equivalent to a WINS Server. If the systems
are not configured with the correct IP address for the NBNS, p-node name
resolution will not work.
<P>
The p-node name resolution method uses directed User Datagram Protocol
(UDP) datagrams and TCP sessions for its communication to and from the
NBNS.
<P>
The main drawback of p-node name resolution is that if the NBNS cannot be
accessed, there will be no way to resolve names and thus no way to access
other systems on the network.
<P>
<P><h3>M-Node (or Mixed Node)</h3>
 
<P>
M-node uses a combination of b-node and p-node for name resolution. This
method first uses b-node and then p-node, which in theory should increase
local area network (LAN) performance. M-Node has the advantage over p-node
in that if the NBNS is unavailable, systems on the local subnet can still
be accessed through b-node resolution.
<P>
M-node is typically not the best choice for larger networks because it uses
b-node and thus results in broadcasts. However, when you have a large
network that consists of smaller subnetworks connected via slow Wide Area
Network (WAN) links, M-node is a preferred method since it will reduce the
amount of communication across the slow links.
<P>
<P>
<P>
<P><h3>H-Node (or Hybrid node)</h3>
 
<P>
H-node name resolution, which is currently in RFC draft form, also uses
both b-node and p-node, however it only uses b-node as a last resort. When
configured to use h-node, a system will always first try to use p-node and
then use b-node ONLY if p-node fails. In addition, a system can be
configured to use the LMHOSTS file after p-node fails and before trying
b-node.
<P>
H-node resolution does not require successful p-node registration for a
system to initialize, however the system will use strictly b-node until
p-node registration succeeds. If the NBNS is unavailable and the system
resorts to using b-node resolution, it will continue to attempt to contact
the NBNS so that it can return to using p-node if the NBNS becomes
available.
<P>
<P><h3>How WINS Works</h3>
 
<P>
By default, when a system is configured to use WINS for its name
resolution, it adheres to h-node for name registration. For name
resolution, it will also adhere to h-node but with a few differences. It
will:

<UL><LI>Check to see if it is the local machine name.

<LI>Check its cache of remote names. Any name that is resolved is placed in
   a cache where it will remain for 10 minutes.

<LI>Try the WINS Server.

<LI>Try broadcasting.

<LI>Check the LMHOSTS file, if the system is configured to use the LMHOSTS
   file.

<LI>Try the HOSTS file and then a DNS, if so configured.
<P></UL>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional reference words: prodnt 3.50 4.00<BR>
KBCategory: kbnetwork<BR>
KBSubcategory: nttcp ntnetserv NTSrvWkst<BR>
Keywords          : ntnetserv NTSrvWkst nttcp kbnetwork<BR>
Version           : 3.50 4.00<BR>
Platform          : WINDOWS<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  November 11, 1997</FONT>
	<BR>
	<A HREF="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
