

<HTML>
<HEAD>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>WFWG NetBEUI Differences Running on Token Ring Network </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q120269">
<META NAME="KBModify" CONTENT="1996/09/09">
<META NAME="KBCreate" CONTENT="1994/09/07">
<META NAME="Keywords" CONTENT="kbnetwork">
<META NAME="KBArea" CONTENT="Support; KB; crossnet">
<META NAME="Description" CONTENT="  When Windows for Workgroups connects to a share over a token ring network, it sends out a Name Query with different token ring information over NetBEUI, depending on whether the protected mode version or real mode version was started.  MORE INFORMA...">
<META NAME="Product" CONTENT="Networking Issues">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QBWO,QBWP,QAM5,QAK2,QAVZ,QAUJ,QAIA,QAIB,QAI5,QAEF,QA9N,QA5W,QASB,QAK6,QAH6 V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>WFWG NetBEUI Differences Running on Token Ring Network</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  September 9, 1996</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q120269</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
The information in this article applies to:

<UL><LI>Microsoft Windows for Workgroups version 3.11
</UL> 
<P>
<P><h2>SUMMARY</h2>
 
<P>
When Windows for Workgroups connects to a share over a token ring network,
it sends out a Name Query with different token ring information over
NetBEUI, depending on whether the protected mode version or real mode
version was started.
<P>
<P><h2>MORE INFORMATION</h2>
 
<P>
When Windows for Workgroups connects to a file/print share or runs a named
pipe application, a Name Query is sent out multiple times on the network to
find the server it is being connected to. Under Windows for Workgroups
version 3.11, the protected mode version of NetBEUI first sends out three
Name Queries without the routing information field (RIF), and if no
response is received, it sends out three more Name Queries with the RIF.
This allows the workstation to work in token ring networks that include
transparent bridges or source route bridges.
<P>
The real mode version of NetBEUI sends out up to six Name Queries, all with
the RIF. This allows the workstation to work properly in a network with
source route bridges, but does not allow it to connect to servers on
different rings when only transparent bridges are installed.
<P>
A transparent bridge, by definition, copies all frames without an RIF from
one ring to another without any additional filtering. Most transparent
bridges in use today "learn" which network stations are on each ring
attached to it and do not copy a frame onto its other rings if the location
of the receiving station is known.
<P>
A source route bridge only copies frames containing an RIF. If the packet
is a discovery packet such as a NetBIOS Name Query, the "all routes"
broadcast indicator is turned on and each bridge copies the frame to all
rings it is connected to. Once the ring/bridge information has been filled
in, source route bridges only consider forwarding packets that contain its
bridge number. In addition, these packets will only be forwarded on to
rings designated in the RIF. This filtering works to cut down the amount of
unnecessary network traffic on each ring.
<P>
There is a third bridge type called a source route transparent (SRT)
bridge, which is a combination of the two types defined above. SRT bridges
copy all frames without an RIF, with an RIF and the "all routes" broadcast
indicator on, or if the RIF of the frame contains the number of the bridge
examining the frame.
<P>
There was a problem with Windows for Workgroups workstations running the
protected mode version of NetBEUI connecting to Windows NT or Windows NT
Advanced Server systems in a network containing SRT bridges. The problem
was with NetBEUI on Windows NT and Windows NT Advanced Server and has been
resolved in Windows NT Service Pack 2. The problem occurs when a Windows
for Workgroups workstation using protected mode NetBEUI is connecting to a
server across an SRT bridge and sends the Name Query without the RIF. The
Windows NT server responds to the client with the RIF included in the
frame. From then on, the Windows for Workgroups workstation continues to
use the RIF, and the server, incorrectly, does not.
<P>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional reference words: wfw wfwg 3.11<BR>
KBCategory: kbnetwork<BR>
KBSubcategory: nttcp
<P>


</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  September 9, 1996</FONT>
	<BR>
	<A HREF="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
