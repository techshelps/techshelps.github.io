

<HTML>
<HEAD>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>How to Force 128-bit Data Encryption for RAS </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q172215">
<META NAME="KBModify" CONTENT="1997/08/01">
<META NAME="KBCreate" CONTENT="1997/07/31">
<META NAME="Keywords" CONTENT="dun ntnetserv ntras NTSrvWkst win95 kbnetwork">
<META NAME="KBArea" CONTENT="Support; KB; crossnet">
<META NAME="Description" CONTENT="  With the release of the 128-bit Service Pack 3 (SP3) for Windows NT 4.0, RAS clients can now negotiate 128-bit RAS data encryption with a Windows NT 4.0 RAS server. Normal RAS data encryption is 40-bit. RAS clients that can take advantage of 128-bi...">
<META NAME="Product" CONTENT="Networking Issues">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QBWP,QABG,QBGY,QAB4,QBWS,QDL9,QBWO,QBWN,QAPN,QAO4,QBWQ,QAYY,QARL,QDO3,QAAP V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>How to Force 128-bit Data Encryption for RAS</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  August 1, 1997</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q172215</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
 
The information in this article applies to:

<UL><LI>Microsoft Windows NT Workstation version 4.0
<LI>Microsoft Windows NT Server version 4.0
<LI>Microsoft Windows 95
</UL> 
<P>
<P><h2>SUMMARY</h2>
 
<P>
With the release of the 128-bit Service Pack 3 (SP3) for Windows NT 4.0,
RAS clients can now negotiate 128-bit RAS data encryption with a Windows NT
4.0 RAS server. Normal RAS data encryption is 40-bit. RAS clients that can
take advantage of 128-bit data encryption are Windows NT Server or
Workstation 4.0 with SP3 128-bit and Windows 95 Dial-Up Networking 1.2 128-
bit.
<P>
<P><h2>MORE INFORMATION</h2>
 
<P>
To enable 128-bit RAS data encryption on an NT 4.0 SP3 128-bit RAS server,
use the following steps:

<OL><P><LI>Double-click Network in Control Panel and click Services.

<P><LI>Click Remote Access Service and click Properties.

<P><LI>Click Network and click Require Microsoft encrypted authentication.

<P><LI>Click Require data encryption and click OK.

<P><LI>Click Continue and click Close.

<P><LI>Click No when prompted to restart the computer.

<P><LI>Start Registry Editor (Regedit.exe or Regedt32.exe).
<P>
   WARNING: Using Registry Editor incorrectly can cause serious, system-
   wide problems that may require you to reinstall Windows NT to correct
   them. Microsoft cannot guarantee that any problems resulting from the
   use of Registry Editor can be solved. Use this tool at your own risk.

<P><LI>Go to the following subkey in the HKEY_LOCAL_MACHINE hive:
<P>
   SYSTEM\CurrentControlSet\Services\RasMan\PPP\COMPCP

<P><LI>Click Edit, click Add Value, and enter the following information:
<P>
   Value Name: ForceStrongEncryption
   Value Type: DWORD
   Value Data: 1

<P><LI>Exit Registry Editor and restart the computer.
<P>
</OL>With 128-bit RAS encryption enabled, you will see one or more event log
messages in Event Viewer when RAS users connect using RAS or PPTP. If the
RAS client supports 128-bit RAS data encryption, you will see the following
event:
<P>
<PRE>   Event ID: 20107
   Source:   RemoteAccess
   Description: The user RAS connected to port COM1 using strong
                encryption.

</PRE></OL>If the RAS client does not support 128-bit RAS data encryption, you will
see the following event:
<P>
<PRE>   Event ID: 20077
   Source:   RemoteAccess
   Description: An error occurred in the Point to Point Protocol module on
                port COM1. The remote computer does not support the
                required encryption type.

</PRE>A Windows 95 client that fails with the above event log will receive the
following error message:
<P>
<PRE>   Dial-Up Networking
   You have been disconnected from the computer you dialed.
   Double-click the connection to try again.

</PRE>A Windows NT client that fails with the above event log will receive the
following error message:
<P>
<PRE>   Error Connecting to RAS server
   Disconnected.
   Error 629: The port was disconnected by the remote machine.

</PRE>For additional information, please see the following article(s) in the
Microsoft Knowledge Base:
<P>
<PRE>   ARTICLE-ID: <B><A HREF="../WINNT/Q147798.htm">Q147798</A></B>
   TITLE     : Windows NT 4.0 Service Pack 3 Readme.txt File (128-bit)

   ARTICLE-ID: <B><A HREF="../WINNT/Q169895.htm">Q169895</A></B>
   TITLE     : Enabling 128-bit Encryption for Routing and Remote Access
</PRE> 
<PRE>Keywords          : dun ntnetserv ntras NTSrvWkst win95 kbnetwork
Version           : WinNT:4.0;Windows:95
Platform          : WINDOWS
Issue type        : kbinfo
Solution Type     : Info_Provided</PRE>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
================================================================================<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  August 1, 1997</FONT>
	<BR>
	<A HREF="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
