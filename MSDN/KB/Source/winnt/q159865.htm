

<HTML>
<HEAD>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>How to Distinguish a Physical Disk Device from an Event Message </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q159865">
<META NAME="KBModify" CONTENT="1998/02/19">
<META NAME="KBCreate" CONTENT="1996/11/22">
<META NAME="Keywords" CONTENT="ntfault nthowto NTSrvWkst">
<META NAME="KBArea" CONTENT="Support; KB; winnt, crossnet, iis">
<META NAME="Description" CONTENT=" IMPORTANT: This article contains information about editing the registry. Before you edit the registry, make sure you understand how to restore it if a problem occurs. For information about how to do this, view the  Restoring Registry Key  Help topic...">
<META NAME="Product" CONTENT="Windows NT">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QAB5,QAHC,QADN,QAC9,QA4H,QAY2,QAO4,QAMV,QAPF,QAP2,QAKC,QDIR,QAJG,QA6A,QAPN V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>How to Distinguish a Physical Disk Device from an Event Message</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  February 19, 1998</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q159865</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
 
The information in this article applies to:

<UL><LI>Microsoft Windows NT Operating System version 3.1
<LI>Microsoft Windows NT Advanced Server version 3.1
<LI>Microsoft Windows NT Workstation versions 3.5, 3.51, and 4.0
<LI>Microsoft Windows NT Server versions 3.5, 3.51, and 4.0
</UL> 
<P>
IMPORTANT: This article contains information about editing the registry.
Before you edit the registry, make sure you understand how to restore it if
a problem occurs. For information about how to do this, view the "Restoring
Registry Key" Help topic in Regedit.exe or the "Restoring a Registry Key"
Help topic in Regedt32.exe.
<P>
<P><h2>SUMMARY</h2>
 
<P>
Windows NT may report event messages in the event log for various hard disk
device problems using the following syntax:
<P>
<PRE>   The device, \Device\Harddisk#\Partition #

</PRE>The following are examples of some common event log message entries:

<UL><LI>The device, \Device\Harddisk0\Partition 1, has a bad block.

<LI>The device, \Device\HardDisk1\Partition0, has been reset.

<LI>System process lost, delayed, write data
   System was attempting to transfer file data from buffers to
   \\device\harddisk4\partition2\mydir\myfile.txt
   The write operation failed.

<LI>An error occurred while attempting to recover data from the fault
   tolerance set containing \device\harddisk2\FT1
<P>
</UL>In each of the preceding examples you need to translate the hard disk
number to a physical drive on the system. You can determine the hard disk
number by looking in the registry, but you need to know if you are using
IDE drives, SCSI drives or a combination of the two. Disk Administrator
will display the drives in the order they are enumerated on each controller
and in the order that the controller device drivers are loaded. If you are
using multiple controllers, the order in which they are identified is
based on I/O port and controller BIOS address assignments.
<P>
WARNING: Using Registry Editor incorrectly can cause serious problems that
may require you to reinstall your operating system. Microsoft cannot
guarantee that problems resulting from the incorrect use of Registry Editor
can be solved. Use Registry Editor at your own risk.
<P>
For information about how to edit the registry, view the "Changing Keys And
Values" Help topic in Registry Editor (Regedit.exe) or the "Add and Delete
Information in the Registry" and "Edit Registry Data" Help topic in
Regedt32.exe. Note that you should back up the registry before you edit it.

<OL><P><LI>Run Registry Editor (Regedt32.exe).

<P><LI>From the HKEY_LOCAL_MACHINE Window, click Hardware\Devicemap\Atdisk
   (for IDE based devices)
<P><PRE>      Controller0  look at the controller address and interrupt.
<PRE></PRE>         disk0  look at identifier string for manufacturer and model#
         disk1  look at identifier string for manufacturer and model#
      Controller1 look at the controller address and interrupt.
         disk0  look at identifier string for manufacturer and model#
         disk1  look at identifier string for manufacturer and model#

</PRE><P><LI>Click Hardware\Devicemap\SCSI  (For Atapi compliant or SCSI devices)
<P><PRE>      Scsiport0  look at driver, Interrupt, and IOAddress
<PRE></PRE>         Scisbus0
            Targetid0
            Logical Unit Id 0   look at identifier and type.
            Targetid1
            Logical Unit Id 0   look at identifier and type.
            Targetid4
            Logical Unit Id 0   look at identifier and type.
         Scsibus1
            Targetid0
            Logical Unit Id 0   look at identifier and type.
            Targetid1
            Logical Unit Id 0   look at identifier and type.
            Targetid2
            Logical Unit Id 0
         Scsiport1  look at driver, Interrupt and I/O Address.
         Scsibus0
            Targetid0
            Logical Unit Id 0   look at identifier and type.

</PRE></OL>Using the information gathered from the registry, you can determine
which physical drive maps to a particular disk number in Disk
Administrator.

<OL><P><LI>Using the "identifier" and "type" values, determine which entries are
   for DISKS and which are for other devices such as CD-ROMS, tapes,
   scanners, and so forth.

<P><LI>Find each Type:REG_SZ:DiskPeripheral entry under the
   Targetid#\Logicalunitid0. Each one found equates to a drive in Disk
   Administrator and also to a \device\harddisk number.

<P><LI>To find \device\harddisk5 find the 6th DiskPeripheral (zero through
   five).

<P><LI>Make note of the SCSIPORT, SCSIBUS, and TARGETID# and use this to
   replace the defective device.
<P>
<P><PRE>      SCSIPORT is a SCSI controller.
      SCSIBUS  is a channel on the SCSI controller. Some controllers are
      dual channel and have SCSIBUS0 and SCSIBUS1.
      TARGETID is the SCSI ID the device that is configured to use usually
      0 through 6, with the initiator ID 7 representing the controller
      itself.
</PRE>
<P><LI>If you have doubts about which SCSIPORT represents which SCSI
   Controller look at the driver, I/O Address, and Interrupt of the
   SCSIPORT entry and match it with the hardware configuration set on
   the controller.

<P><LI>For IDE Devices, the drives are in master/slave configuration order
   on each controller.
<P></OL>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional query words: 4.00 event id: 7 the device has a bad block 3.10<BR>
3.50 3.51<BR>
Keywords          : ntfault nthowto NTSrvWkst<BR>
Version           : WinNT:3.1,3.5,3.51,4.0<BR>
Platform          : winnt<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  February 19, 1998</FONT>
	<BR>
	<A HREF="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
