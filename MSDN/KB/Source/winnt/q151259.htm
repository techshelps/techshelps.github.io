

<HTML>
<HEAD>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>New Netlogon Registry Entry for Dialup Routers </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q151259">
<META NAME="KBModify" CONTENT="1996/09/07">
<META NAME="KBCreate" CONTENT="1996/05/20">
<META NAME="Keywords" CONTENT="">
<META NAME="KBArea" CONTENT="Support; KB; winnt, crossnet, iis">
<META NAME="Description" CONTENT="  A user who logs on to a network where the domain controller is across a dialup router sees the following message:     Dialog box message title: Logon Message     A domain controller for your domain could not be contacted. You have    been logged on...">
<META NAME="Product" CONTENT="Windows NT">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QAI5,QBWP,QA9A,QADN,QBG2,QAVZ,QAIB,QAIA,QAH6,QAGU,QAEV,QACE,QDO3,QDNL,QBW3 V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>New Netlogon Registry Entry for Dialup Routers</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  September 7, 1996</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q151259</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
The information in this article applies to:

<UL><LI>Microsoft Windows NT Workstation version 3.51
<LI>Microsoft Windows NT Server version 3.51
</UL> 
<P>
<P><h2>SYMPTOMS</h2>
 
<P>
A user who logs on to a network where the domain controller is across a
dialup router sees the following message:
<P>
<PRE>   Dialog box message title: Logon Message

   A domain controller for your domain could not be contacted. You have
   been logged on using cached account information. Changes made to your
   profile since you last logged on may not be available.

</PRE>The user encounters this message unless the router happens to have an
existing connection open, in which case the user is validated normally by
the domain controller.
<P>
<P><h2>CAUSE</h2>
 
<P>
A dialup router takes longer to make a connection to the remote network
than Netlogon will wait, so Netlogon assumes no domain controller is
available on the network. A dialup router can take as long as 30 to 90
seconds to make a connection to the remote network. Netlogon by default
will send out three broadcast/multicast &lt;1C&gt; frames looking for the domain
controller at 5-second intervals. This is a total of approximately 15
seconds that the dialup router has to make the connection and pass the
frame before Netlogon times out and uses cached credentials to validate the
user.
<P>
<P><h2>RESOLUTION</h2>
 
<P>
Apply the hotfix mentioned below. The hotfix consists of a new Netlogon
Registry entry that adds an additional delay to each of the Netlogon
broadcast/multicast &lt;1C&gt; frames sent. The net formula for wait time is as
follows:
<P>
<PRE>   5 seconds + ( ExpectedDialupDelay / 3 ).

</PRE>If the ExpectedDialupDelay is set to 90 seconds, the wait time would be:
<P>
<PRE>   5 + ( 90 / 3 ) = 35,

</PRE>thus, a 35-second interval between frames.
<P>
The Registry location for the new parameter is:
<P>
<PRE>   Location: HKLM\System\CCS\Services\Netlogon\Parameters
   Value Name: ExpectedDialupDelay
   Data Type:  Reg_Dword
   Data Value is in seconds.


</PRE><h2>STATUS</h2>
 
<P>
Microsoft has confirmed this to be a problem in Windows NT version 3.51.
This problem was corrected in the latest Windows NT 3.51 U.S. Service
Pack. For information on obtaining the Service Pack, query on the
following word in the Microsoft Knowledge Base (without the spaces):
<P>
<PRE>   S E R V P A C K
</PRE>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
KBCategory:<BR>
KBSubcategory: NTSrvWkst<BR>
Additional reference words:<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  September 7, 1996</FONT>
	<BR>
	<A HREF="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
