

<HTML>
<HEAD>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Unused Space in Sector is Zeroed Out Under Windows NT </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q93600 ">
<META NAME="KBModify" CONTENT="1997/05/06">
<META NAME="KBCreate" CONTENT="1992/12/16">
<META NAME="Keywords" CONTENT="kbother ntfilesys">
<META NAME="KBArea" CONTENT="Support; KB; winnt, crossnet, iis">
<META NAME="Description" CONTENT="  When you create a new file, a certain amount of space is allocated for that file. Under Windows NT, if you do not use the entire space allocated, the file system returns zeros for the unused space. This prevents subsequent users from reading previo...">
<META NAME="Product" CONTENT="Windows NT">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QBWP,QDJB,QAEF,QANY,QBW5,QBVV,QABX,QAYY,QA4P,QAI4,QBCT,QA9O,QAUD,QAGC,QAGB V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>Unused Space in Sector is Zeroed Out Under Windows NT</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  May 6, 1997</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q93600 </B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
 
The information in this article applies to:

<UL><LI>Microsoft Windows NT operating system version 3.1
</UL> 
<P>
<P><h2>SUMMARY</h2>
 
<P>
When you create a new file, a certain amount of space is allocated for
that file. Under Windows NT, if you do not use the entire space
allocated, the file system returns zeros for the unused space. This
prevents subsequent users from reading previously written and deleted
data.
<P>
Under Windows NT, the file allocation table (FAT) structure actually
fills such unused space with zeros. Unlike FAT systems, the
high-performance file system (HPFS) and Windows NT file system (NTFS)
keep track of how much valid data is actually in the file.
<P>
<P><h2>MORE INFORMATION</h2>
 
<P>
<P><h3>FAT Under MS-DOS</h3>
 
<P>
Under MS-DOS, when a file is written to a disk, a certain amount of
space on a given sector may be unallocated. This is because the file
size may be less than or greater than the size of a single sector.
In this unallocated space, there could be pre-existing data marked as
deleted that could be read and copied by intruders. This can be
detrimental in enviroments that want to prevent old data from being
extracted after it is supposedly deleted.
<P>
<P><h3>FAT Under Windows NT</h3>
 
<P>
Windows NT prevents access to old data fragments by masking old data
bits with zeros. Thus, when a sector is read into memory, Windows NT
replaces the old data bits with zeros and prevents any intruder from
accessing this deleted data. This replacement is done in kernel mode.
<P>
<P><h3>NTFS and HPFS</h3>
 
<P>
Unlike FAT systems, HPFS and NTFS keep track of how much valid data is
in a file. For example, if you create a 10 MB file and write 1 MB of
data, HPFS and NTFS do not actually zero out the 9 MB of unused space
(as the FAT system does), but are aware that this space is
unavailable, and any disk read to the upper 9 MB returns all zeros.
<P>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional query words: prodnt<BR>
Keywords            : kbother ntfilesys<BR>
Version             : 3.1<BR>
Platform            : WINDOWS<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  May 6, 1997</FONT>
	<BR>
	<A HREF="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
