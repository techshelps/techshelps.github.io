

<HTML>
<HEAD>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Stop Msg: C0000218 "Unknown Hard Error" When Registry is Overrun </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q128254">
<META NAME="KBModify" CONTENT="1995/09/14">
<META NAME="KBCreate" CONTENT="1995/03/28">
<META NAME="Keywords" CONTENT="kbenv kbbug3.50 kbfix3.50.sp3">
<META NAME="KBArea" CONTENT="Support; KB; winnt, crossnet, iis">
<META NAME="Description" CONTENT="  When you add users and groups to an Windows NT version 3.5 computer using User Manager you have the ability to overrun the registry with user and group information. When you reboot your computer, the following stop screen appears:     Stop 0xc00002...">
<META NAME="Product" CONTENT="Windows NT">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QBWP,QAB4,QAGU,QABO,QAAP,QBVV,QAY2,QAGB,QDO3,QDNL,QBW6,QBE7,QBE6,QBEF,QA59 V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>Stop Msg: C0000218 "Unknown Hard Error" When Registry is Overrun</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  September 14, 1995</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q128254</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
The information in this article applies to:

<UL><LI>Microsoft Windows NT Workstation version 3.5
<LI>Microsoft Windows NT Server version 3.5
</UL> 
<P>
<P><h2>SYMPTOMS</h2>
 
<P>
When you add users and groups to an Windows NT version 3.5 computer using
User Manager you have the ability to overrun the registry with user and
group information. When you reboot your computer, the following stop screen
appears:
<P>
<PRE>   Stop 0xc0000218 (0xe11a30e8, 0x00000000, 0x000000000, 0x00000000)
   Unknown Hard Error

</PRE><h2>CAUSE</h2>
 
<P>
User accounts and group information are stored in a secure location in the
registry. By default, RSL (registry size limit) is 25% of the size of paged
pool. The registry charges registry quota for its memory allocations. This
is to prevent the registry from becoming too large for the available system
resources. If a piece of registry is freed up, it is deallocated from the
pool and the registry quota is returned. Although the space is still
allocated in the file, there is no memory allocated, so no quota is
charged.
<P>
If the registry becomes very fragmented, its file size may become much
larger than the charged registry quota, potentially causing the registry to
become larger than the system can accommodate at boot time. That is, the
registry file cannot fit in memory in the available paged pool.
<P>
<P><h2>RESOLUTION</h2>
 
<P>
To address fragmentation, the Windows NT registry now continues to charge
quota for portions of the registry that have been deallocated from pool,
but are still allocated in the file. This prevents the size of the
registry's files from exceeding the allowable registry quota, ensuring the
file will fit in memory on the next reboot.
<P>
Additionally, a change was made that provides better coalescing of small
portions of free registry memory into larger pieces when very large
registry allocations are required.
<P>
With this change, instead of overrunning the registry with user and group
information, when the registry reaches it's maximum allocation the
following error message appears:
<P>
<PRE>   Not enough server storage to process this command

</PRE>For additional information, please see the following article(s) in the
Microsoft Knowledge Base:
<P>
<PRE>   ARTICLE-ID: <B><A HREF="../WINNT/Q126401.htm">Q126401</A></B>
   TITLE     : Err Msg: Not Enough Server Storage is Available to Process..

</PRE><h2>STATUS</h2>
 
<P>
Microsoft has confirmed this to be a problem in Windows NT version 3.5.
This problem has been corrected in the latest U.S. Service Pack for Windows
NT version 3.5. For information on obtaining the Service Pack, query on the
following word in the Microsoft Knowledge Base (without the spaces):
<P>
<PRE>   S E R V P A C K
</PRE>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
KBCategory: kbenv kbbug3.50 kbfix3.50.sp3<BR>
KBSubcategory: ntregistry ntconfig<BR>
Additional reference words: prodnt 3.50<BR>
Comparison of Windows NT Network Protocols<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  September 14, 1995</FONT>
	<BR>
	<A HREF="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
