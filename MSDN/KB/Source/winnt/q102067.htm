

<HTML>
<HEAD>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>SESSTIMEOUT Information </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q102067">
<META NAME="KBModify" CONTENT="1998/01/05">
<META NAME="KBCreate" CONTENT="1993/07/28">
<META NAME="Keywords" CONTENT="ntconfig kbenv">
<META NAME="KBArea" CONTENT="Support; KB; winnt, crossnet, iis">
<META NAME="Description" CONTENT=" The function of the SESSTIMEOUT parameter has changed somewhat between Microsoft LAN Manager 2.x and Windows NT. In LAN Manager, SESSTIMEOUT is the maximum amount of time that the redirector waits for a server to respond to a Server Message Block (S...">
<META NAME="Product" CONTENT="Windows NT">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QBWP,QAKD,QACE,QBWE,QAYL,QAVZ,QAH5,QAGU,QDL9,QBWQ,QBWO,QBWN,QAYY,QAU3,QATK V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>SESSTIMEOUT Information</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  January 5, 1998</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q102067</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
 
The information in this article applies to:

<UL><LI>Microsoft Windows NT operating system, version 3.1
<LI>Microsoft Windows NT Advanced Server, version 3.1
<LI>Microsoft Windows NT Workstation versions 3.5, 3.51, and 4.0
<LI>Microsoft Windows NT Server versions 3.5, 3.51, and 4.0
</UL> 
<P>
The function of the SESSTIMEOUT parameter has changed somewhat between
Microsoft LAN Manager 2.x and Windows NT. In LAN Manager, SESSTIMEOUT
is the maximum amount of time that the redirector waits for a server
to respond to a Server Message Block (SMB). If SESSTIMEOUT expires,
the session is disconnected. In Windows NT, SESSTIMEOUT is only part
of the time-out equation.
<P>
Windows NT uses a dynamic SMB response timer algorithm. The time-out
can be changed on a per-SMB basis. The redirector uses some
intelligence to calculate a proper time-out. Using a new TDI API call,
[TDIQueryConnectionInfo], the redirector can determine the bytes per
second rate of the media. It also knows the size of the data being
sent or received in the SMB. Using this information, it calculates how
long the SMB response is expected to take. To this value, it adds
SESSTIMEOUT, which defaults to 45 seconds.
<P>
<PRE>   [(SMB size + the size of data being sent OR the expected data to be
   read) / bytes per second] + SESSTIMEOUT.

</PRE>In Windows NT, SESSTIMEOUT can be thought of as a margin for error. If
things go wrong or get delayed, the redirector waits an extra
SESSTIMEOUT amount before giving up. In LAN Manager, it is the
absolute maximum amount of time to wait.
<P>
Currently, there is no way to see the value of the SMB response timer
at any one point in time.
<P>
SESSTIMEOUT can be set using REGEDT32. It is found under
HKEY_LOCAL_MACHINE\SYSTEM\CURRENTCONTROLSET\SERVICES\
LANMANWORKSTATION\PARAMETERS\SESSTIMEOUT. It has a variable type of
REG_DWORD. The value is stored in decimal seconds. The default is 45.
Range 10 to 65535 seconds. SESSTIMEOUT is never automatically
adjusted. If you manually adjust the value it will take effect
immediately.
<P>
In addition, SESSTIMEOUT and the SMB Response timer are system-wide
parameters. With LAN Manager, SESSTIMEOUT does not apply to TCP/IP. In
Windows NT, it applies to all protocols including TCP/IP.
<P>
SESSTIMEOUT does not apply to certain types of SMBs. These mostly
consist of Transaction commands, which have their own time-out
variable in the SMB. SESSTIMEOUT mostly comes into effect on Read and
Write operations.
<P>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional query words: prodnt tuning registry<BR>
Keywords          : ntconfig kbenv<BR>
Version           : 3.1<BR>
Platform          : WINDOWS<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  January 5, 1998</FONT>
	<BR>
	<A HREF="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
