

<HTML>
<HEAD>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>NCP Clients Always Connect to FPNW Server on Startup </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q149842">
<META NAME="KBModify" CONTENT="1997/08/14">
<META NAME="KBCreate" CONTENT="1996/04/11">
<META NAME="Keywords" CONTENT="nthowto kbprotocol">
<META NAME="KBArea" CONTENT="Support; KB; winnt, crossnet, iis">
<META NAME="Description" CONTENT="  When you start a NetWare Core Protocol (NCP) client in a routed environment where there is a router between the client and the servers, the router always selects the Windows NT File and Print Services for NetWare (FPNW) server as its default server...">
<META NAME="Product" CONTENT="Windows NT">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QAVZ,QAKC,QARL,QBC6,QAGI,QAKJ,QBVX,QAG8,QAE1,QBTX,QBWP,QA7Y,QAJ9,QDIV,QBBI V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>NCP Clients Always Connect to FPNW Server on Startup</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  August 14, 1997</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q149842</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
3.51
WINDOWS
kbprotocol
<P>
 
The information in this article applies to:

<UL><LI>Microsoft Windows NT Server versions 3.51
</UL> 
<P>
<P><h2>SYMPTOMS</h2>
 
<P>
When you start a NetWare Core Protocol (NCP) client in a routed environment
where there is a router between the client and the servers, the router
always selects the Windows NT File and Print Services for NetWare (FPNW)
server as its default server. This will occur even if there is a NetWare
server with Reply to Get Nearest Server enabled and the FPNW server has
Respond to Find Nearest Server Requests disabled. This may result in very
poor response times for the NCP clients because the FPNW server can be many
hops away and still be selected as the default server.
<P>
<P><h2>CAUSE</h2>
 
<P>
If you have not specified an internal IPX network number on the FPNW
server, it will advertise itself on the IPX network number of the physical
segment it is on. Netware servers must have an internal IPX network number,
so they will always advertise on it. A router will see the SAP broadcasts
from the servers and add entries to its list of available servers. The FPNW
server will be at the top of the list, since the router thinks that it is
zero (0) hops away. The router thinks this, since FPNW uses the physical
segment's IPX network number and, therefore, appears to the to be on the
same network as the router. The Netware server will be put lower on the
router's list because the router thinks that it is one (1) hop away. The
router thinks this because the Netware server uses its internal IPX network
number and must logically route packets from the physical segment. Because
the NCP client is on a remote segment, it will not get a response to its
Get Nearest Server request. It will then send a General Service request.
The router will respond to this with the first server in its list. As
stated above, this will be the FPNW server. The NCP client will, therefore,
always attach to it.
<P>
<P><h2>RESOLUTION</h2>
 
<P>
Specify a unique Internal Network Number on the FPNW server. Under Control
Panel Network, on the Protocols tab, select NWLink IPX/SPX Compatible
Transport. The router will then prioritize the servers in its list in the
order the SAP broadcasts were received.
<P>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
KBCategory: kbprotocol<BR>
KBSubcategory: nthowto ntipx<BR>
Additional reference words:<BR>
Keywords          : nthowto kbprotocol<BR>
Version           : 3.51<BR>
Platform          : WINDOWS<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  August 14, 1997</FONT>
	<BR>
	<A HREF="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
