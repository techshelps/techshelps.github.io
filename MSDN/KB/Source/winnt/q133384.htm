

<HTML>
<HEAD>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Event ID 2019: Nonpaged Memory Pool Empty </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q133384">
<META NAME="KBModify" CONTENT="1997/03/21">
<META NAME="KBCreate" CONTENT="1995/07/30">
<META NAME="Keywords" CONTENT="kbbug3.51 kbfix3.51.sp2 kbnetwork NTSrvWkst nttcp">
<META NAME="KBArea" CONTENT="Support; KB; winnt, crossnet, iis">
<META NAME="Description" CONTENT="  When you run a TCP/IP sockets based program on a Windows NT computer a non- paged pool memory leak occurs. When the memory leak occurs for a while it causes Windows NT to malfunction and the following out of memory error appears in the system log: ...">
<META NAME="Product" CONTENT="Windows NT">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QBWP,QBWS,QABM,QA5E,QAO4,QAA1,QDO3,QAKP,QDNT,QAR4,QDI2,QBXS,QBW6,QBVV,QAPN V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>Event ID 2019: Nonpaged Memory Pool Empty</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  March 21, 1997</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q133384</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



<P><h3> </h3>
 
The information in this article applies to:

<UL><LI>Microsoft Windows NT Workstation version 3.51
<LI>Microsoft Windows NT Server version 3.51
</UL> 
<P>
<P><h2>SYMPTOMS</h2>
 
<P>
When you run a TCP/IP sockets based program on a Windows NT computer a non-
paged pool memory leak occurs. When the memory leak occurs for a while it
causes Windows NT to malfunction and the following out of memory error
appears in the system log:
<P>
<PRE>   Event ID 2019

   Description:
   The server was unable to allocate from the system
   nonpaged pool because the pool was empty.

</PRE>To determine that there is a memory leak:

<OL><P><LI>Run Performance Monitor.

<P><LI>From the Edit menu, choose Add To Chart.

<P><LI>In the Object field, select Memory.

<P><LI>In the Counter field:
<P>
   a. Select Pool Nonpaged Bytes and choose Add.
<P>
   b. Select Pool Paged Bytes and choose Add.

<P><LI>Choose Done and watch Performance Monitor in Chart view mode.
<P>
   If the Nonpaged value rises rapidly while the TCP/IP sockets program is
   running then you may be experiencing this problem.
<P>
</OL>Example configurations under which this problem may occur:

<UL><LI>Systems Management Server needs to communicate with an SQL server.
<LI>A SQL default client is configured for sockets - not Named Pipes.
<LI>TCP/IP is installed on the server, but SQL Server is not set up to use
   it. SQL Server is designed to use Named Pipes only.
<LI>Systems Management Server uses the default SQL client configuration for
   sockets.
<LI>Systems Management Server attempts to access SQL using sockets
   repeatedly.
<P>
</UL><h2>CAUSE</h2>
 
<P>
This problem can be caused by a TCP/IP sockets program that continuously
attempts to open a socket port that does not exist.
<P>
<P><h2>RESOLUTION</h2>
 
<P>
To work around this problem, correct your TCP/IP sockets program so that it
does not attempt to open the unsupported socket port.
<P>
To correct this problem, install the latest U.S. Service Pack for Windows
NT version 3.51.
<P>
<P><h2>STATUS</h2>
 
<P>
Microsoft has confirmed this to be a problem in Windows NT version 3.51.
This problem has been corrected in the latest U.S. Service Pack for Windows
NT version 3.51. For information on obtaining the Service Pack, query on
the following word in the Microsoft Knowledge Base (without the spaces):
<P>
<PRE>   S E R V P A C K
</PRE>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional query words: prodnt tcp udp ip pmon perfmon listen bind<BR>
Keywords            : kbbug3.51 kbfix3.51.sp2 kbnetwork NTSrvWkst nttcp<BR>
Version             : 3.51<BR>
Platform            : WinNT<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  March 21, 1997</FONT>
	<BR>
	<A HREF="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
