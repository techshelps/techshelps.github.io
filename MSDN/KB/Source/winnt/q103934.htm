

<HTML>
<HEAD>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Adding More Than Two IDE or ESDI Drives in Windows NT </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q103934">
<META NAME="KBModify" CONTENT="1997/11/07">
<META NAME="KBCreate" CONTENT="1993/09/01">
<META NAME="Keywords" CONTENT="nthw kbhw kbfasttip">
<META NAME="KBArea" CONTENT="Support; KB; winnt, crossnet, iis">
<META NAME="Description" CONTENT=" WARNING: Using Registry Editor incorrectly can cause serious, system-wide problems that may require you to reinstall Windows NT to correct them. Microsoft cannot guarantee that any problems resulting from the use of Registry Editor can be solved. Us...">
<META NAME="Product" CONTENT="Windows NT">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QBWP,QBJQ,QAC9,QBJZ,QAHT,QAHC,QADN,QAC2,QADZ,QASR,QAKC,QDL9,QBWS,QBWQ,QBWO V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>Adding More Than Two IDE or ESDI Drives in Windows NT</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  November 7, 1997</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q103934</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
 
The information in this article applies to:

<UL><LI>Microsoft Windows NT operating system version 3.1
<LI>Microsoft Windows NT Advanced Server version 3.1
<LI>Microsoft Windows NT Workstation versions 3.5, 3.51, and 4.0
<LI>Microsoft Windows NT Server versions 3.5, 3.51, and 4.0
</UL> 
<P>
WARNING: Using Registry Editor incorrectly can cause serious, system-wide
problems that may require you to reinstall Windows NT to correct them.
Microsoft cannot guarantee that any problems resulting from the use of
Registry Editor can be solved. Use this tool at your own risk.
<P>
If a computer has more than two IDE or ESDI hard disk drives and needs
an MS-DOS-based device driver to use the extra drives, Windows NT may
not be able to use the extra drives by default.
<P>
To configure more than two IDE or ESDI hard disk drives with Windows
NT, the Windows NT Registry must be modified to add the information about
the additional drives. You need technical information about your drives,
which should be included in the documentation included with them.
<P>
NOTE: To make the changes in the Registry, you must be logged on as an
Administrator.
<P>
<P><h2>MORE INFORMATION</h2>
 
<P>
This procedure should only be necessary if you are adding a third or
higher IDE or ESDI hard disk drive or if your secondary IDE or ESDI drive
is at a non-standard address. If the drive is at a non-standard address,
use the following procedure to add the correct address in the Windows NT
registry. The registry key name in this case would be either 1 or 2.
<P>
NOTE: The information in this article applies only to Intel x86
architecture computers.
<P>
To add support for three or more IDE or ESDI hard disk drives in
Windows NT, follow these steps:

<OL><P><LI>Open the Registry Editor (REGEDT32.EXE).

<P><LI>Locate the following registry key:
<P>
<P><PRE>      HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services\Atdisk
</PRE>
<P><LI>On the Edit menu, click Add Key to create the following key:
<P>
<P><PRE>      Key Name: PARAMETERS
      Class: &lt;blank&gt;
</PRE>
<P><LI>Open the PARAMETERS key that you created in Step 3.

<P><LI>On the Edit menu, click Add Key to create the following key:
<P>
<P><PRE>      Key Name: &lt;number&gt;
      Class: &lt;blank&gt;
</PRE><P>
   where &lt;number&gt; is the number of the additional drive, such as 2 for the
   third drive. For each additional drive, increment the Key Name by 1.
   In general, you must specify the starting parameter as 2 or higher.
   This prevents a conflict with the primary or secondary controller
   that most BIOS's support.

<P><LI>Open the key that you created in step 5.

<P><LI>On the Edit menu, click Add value to add the following values:
<P>
<P><PRE>      BaseAddress
      -----------
      This is the physical address of the Data register for the
      controller.
</PRE><P>
<P><PRE>      DriveControl
      ------------
      This is the physical address of the drive control register of
      the controller. Often this is 0x206 off of the BaseAddress
      register.
</PRE><P>
<P><PRE>      Interrupt
      ---------
      This is the interrupt that the controller will use.
</PRE><P>
   Set the Data Type of all three entries to REG_DWORD.
<P>
</OL>Here is what a sample registry entry looks like for adding a Quantum EZ
hard disk onto a COMPAQ 486/33L. This computer has a simple ESDI drive
as its primary controller.
<P>
<PRE>   HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services\Atdisk
   \Parameters\2

       BaseAddress = REG_DWORD 0x320
       DriveControl = REG_DWORD 0x32e
       Interrupt = REG_DWORD 0xa

</PRE></OL>NOTE: On an R4000 ARC computer, you should not have to add anything if
you configure the IDE adapter for the 0x1f0 or 0x170 address.
<P>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional query words: 3.10 3.50 3.51 4.00 gateway multiple eide second<BR>
Keywords          : nthw kbhw kbfasttip<BR>
Version           : 3.1 3.5 3.51 4.0<BR>
Platform          : winnt<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  November 7, 1997</FONT>
	<BR>
	<A HREF="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
