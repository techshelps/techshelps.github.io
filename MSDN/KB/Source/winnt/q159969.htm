

<HTML>
<HEAD>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>AutoLogon Fails If DontDisplayLastUserName Is Also Enabled </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q159969">
<META NAME="KBModify" CONTENT="1997/09/17">
<META NAME="KBCreate" CONTENT="1996/11/25">
<META NAME="Keywords" CONTENT="ntdomain NTSrvWkst kbenv">
<META NAME="KBArea" CONTENT="Support; KB; winnt, crossnet, iis">
<META NAME="Description" CONTENT="  Although you have the AutoLogon feature of Windows NT enabled, when you start your Windows NT system you may receive the following error message instead of being automatically logged onto the computer:     Logon Message    The system could not log ...">
<META NAME="Product" CONTENT="Windows NT">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QBWP,QAI5,QBWF,QABI,QBW7,QAR4,QAL0,QAIJ,QAB4,QAUJ,QAAP,QBWS,QBVV,QAWK,QBMK V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>AutoLogon Fails If DontDisplayLastUserName Is Also Enabled</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  September 17, 1997</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q159969</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



<P><h3> </h3>
 
The information in this article applies to:

<UL><LI>Microsoft Windows NT Workstation versions 3.5, 3.51, and 4.0
<LI>Microsoft Windows NT Server versions 3.5, 3.51, and 4.0
</UL> 
<P>
<P><h2>SYMPTOMS</h2>
 
<P>
Although you have the AutoLogon feature of Windows NT enabled, when you
start your Windows NT system you may receive the following error message
instead of being automatically logged onto the computer:
<P>
<PRE>   Logon Message
   The system could not log you on. Make sure your User name and domain are
   correct, then type your password again. Letters in passwords must be
   typed using the correct case. Make sure that Caps Lock is not
   accidentally on.

</PRE>When you click OK, you are prompted for a user name and password that is
valid for the system.
<P>
<P><h2>CAUSE</h2>
 
<P>
Your Windows NT system also has the registry entry DontDisplayLastUserName
enabled.
<P>
<P><h2>RESOLUTION</h2>
 
<P>
To resolve this issue and use the AutoLogon feature, you will need to
disable DontDisplayLastUserName using the following steps:
<P>
WARNING: Using Registry Editor incorrectly may cause serious, system-wide
problems that may require you to reinstall Windows NT to correct them.
Microsoft cannot guarantee that any problems resulting from the use of
Registry Editor can be solved. Use this tool at your own risk.

<OL><P><LI>Start Registry Editor (Regedt32.exe) and select the following subkey:
<P>
   HKEY_LOCAL_MACHINE\Software\Microsoft\Windows NT\CurrentVersion
<P><PRE>      \Winlogon
</PRE>
<P><LI>Select the DontDisplayLastUserName value, and then click String from the
   Edit menu.

<P><LI>Type 0 in the String Editor dialog box, and then click OK.

<P><LI>Exit Registry Editor and restart your Windows NT computer.
<P>
</OL><h2>MORE INFORMATION</h2>
 
<P>
The reason for this conflict is that the registry values are mutually
exclusive. If you enable the DontDisplayLastUserName, you are effectively
blanking out the user name during authentication. Auditing Logon and Logoff
Success and Failure Events demonstrates that the user name is not available
to the system:
<P>
<PRE>11/11/96 2:41:02 PM  Security Failure Audit  Logon/Logoff   529   NT
</PRE></OL>AUTHORITY\SYSTEM  &lt;Servername&gt; Logon Failure:
<PRE>      Reason: Unknown user name or bad password
      User Name:
      Domain: &lt;Domain&gt;
      Logon Type: 2
      Logon Process: User32
      Authentication Package: MICROSOFT_AUTHENTICATION_PACKAGE_V1_0
      Workstation Name: &lt;Servername&gt;

</PRE>NOTE: The User Name field is blank. When the user name is not suppressed in
the registry, any other circumstance to cause a failed logon attempt always
displays the user name attempting to logon. This includes gibberish for
either a DefaultUserName or DefaultPassword. In these cases the user name
field is occupied.
<P>
For additional information, please see the following article in the
Microsoft Knowledge Base:
<P>
<PRE>   ARTICLE-ID: <B><A HREF="../WINNT/Q97597.htm">Q97597</A></B>
   TITLE     : How to Enable Automatic Logon in Windows NT
</PRE>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional query words: prodnt Auto<BR>
Keywords          : ntdomain NTSrvWkst kbenv<BR>
Version           : WinNT:3.5,3.51,4.0<BR>
Platform          : winnt<BR>
Issue type        : kbinfo<BR>
Solution Type     : kbworkaround<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  September 17, 1997</FONT>
	<BR>
	<A HREF="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
