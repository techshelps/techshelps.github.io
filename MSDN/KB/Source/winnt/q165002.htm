

<HTML>
<HEAD>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Corrupt Files Error After You Apply Service Pack 2 </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q165002">
<META NAME="KBModify" CONTENT="1997/05/13">
<META NAME="KBCreate" CONTENT="1997/03/11">
<META NAME="Keywords" CONTENT="kbfile kbsetup ntdistrib ntsetup NTSrvWkst">
<META NAME="KBArea" CONTENT="Support; KB; winnt, crossnet, iis">
<META NAME="Description" CONTENT="  After you apply Service Pack 2 for Windows NT 4.0 over the network and restart your computer, you may receive error messages stating that some files (for example Ntfs.sys or Advapi32.dll) are corrupt.  CAUSE =====  This problem occurs because the S...">
<META NAME="Product" CONTENT="Windows NT">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QDO3,QAXB,QBWP,QAC1,QAB4,QBGA,QACK,QAKP,QA9N,QAVZ,QASB,QAIJ,QBSO,QBD2,QAY2 V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>Corrupt Files Error After You Apply Service Pack 2</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  May 13, 1997</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q165002</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
 
The information in this article applies to:

<UL><LI>Microsoft Windows NT Workstation version 4.0 Service Pack 2
<LI>Microsoft Windows NT Server version 4.0 Service Pack 2
</UL> 
<P>
<P><h2>SYMPTOMS</h2>
 
<P>
After you apply Service Pack 2 for Windows NT 4.0 over the network and
restart your computer, you may receive error messages stating that some
files (for example Ntfs.sys or Advapi32.dll) are corrupt.
<P>
<P><h2>CAUSE</h2>
 
<P>
This problem occurs because the Service Pack 2 binary files were packaged
using authentication for web distribution. You only experience this problem
when you expand a previous version of Service Pack 2 and then copy the
files from one computer with an NTFS partition to another computer over the
network (and only when the two systems negotiate raw write mode between
them.)
<P>
The specific files affected by this problem are:
<P>
<PRE>   Ntfs.sys
   Advapi32.dll
   Winhlp32.exe
   Halapic.dll

</PRE>This does not occur with the CD-ROM version of Service Pack 2.
<P>
<P><h2>RESOLUTION</h2>
 
<P>
The Service Pack 2 binary files were repackaged to resolve this problem.
Please download the Service Pack 2 files again.
<P>
IMPORTANT: The files did not change, they were only repackaged without
authentication.
<P>
NOTE: If your system no longer starts due to Ntoskrnl.exe or other critical
system files being corrupt, you must replace these files manually. This may
require you to install another copy of Windows NT in different folder so
that you can access the original installation, especially on an NTFS
partition.
<P>
<P><h2>MORE INFORMATION</h2>
 
<P>
If you experience this problem with the latest version of Service Pack,
perform one of the following steps:

<UL><LI>Copy the Service Pack locally and run Update.exe from your local hard
   disk.
<P>
   -or-

<LI>Manually update the Rdr.sys file before you apply Service Pack 2 over
   the network. To do this, rename Rdr.sys in the
   %systemroot%\System32\Drivers folder, copy the expanded version of
   Rdr.sys from Service Pack 2 to this location, restart your computer, and
   then run Update.exe.
<P></UL>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional query words: prodnt sp2 4.00<BR>
Keywords            : kbfile kbsetup ntdistrib ntsetup NTSrvWkst<BR>
Version             : 4.0<BR>
Platform            : winnt<BR>
Issue type          : kbbug<BR>
Resolution Type     : kbservicepack<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  May 13, 1997</FONT>
	<BR>
	<A HREF="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
