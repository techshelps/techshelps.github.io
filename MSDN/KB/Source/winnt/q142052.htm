

<HTML>
<HEAD>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>RAS Clients Using TCP/IP Can Access All Subnets but Their Own </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q142052">
<META NAME="KBModify" CONTENT="1997/03/20">
<META NAME="KBCreate" CONTENT="1996/01/03">
<META NAME="Keywords" CONTENT="kbbug3.50 kbbug3.51 kbnetwork ntprotocol ntras NTSrvWkst">
<META NAME="KBArea" CONTENT="Support; KB; winnt, crossnet, iis">
<META NAME="Description" CONTENT="  Your Windows NT or Windows 95 Remote Access (RAS) client whose network interface card (NIC) is disconnected from the local area network (LAN), cannot access its subnet after dialing the RAS server that is on the same subnet as the RAS client IP add...">
<META NAME="Product" CONTENT="Windows NT">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QAM5,QBWD,QAVZ,QBWP,QDL9,QBWO,QBWN,QBWE,QBWQ,QAC2,QA1S,QARL,QAJQ,QBBS,QA05 V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>RAS Clients Using TCP/IP Can Access All Subnets but Their Own</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  March 20, 1997</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q142052</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



<P><h3> </h3>
 
The information in this article applies to:

<UL><LI>Microsoft Windows NT Workstation versions 3.5, 3.51, and 4.00
<LI>Microsoft Windows NT Server versions 3.5, 3.51, and 4.00
<LI>Microsoft Windows 95
</UL> 
<P>
<P><h2>SYMPTOMS</h2>
 
<P>
Your Windows NT or Windows 95 Remote Access (RAS) client whose network
interface card (NIC) is disconnected from the local area network (LAN),
cannot access its subnet after dialing the RAS server that is on the same
subnet as the RAS client IP address even though the RAS client is also
using the TCP/IP protocol.
<P>
This problem does not occur on non-subneted networks.
<P>
<P><h2>CAUSE</h2>
 
<P>
Destination IP addresses that are on the same subnet as the client network
card are always sent out over the NIC, even if the NIC is no longer
connected to the LAN.
<P>
Windows NT and Windows 95 will automatically build a route table for the
use of the workstation. This route table will control the sending of TCP/IP
packets over the network card on the LAN or RAS interface.
<P>
<P><h2>RESOLUTION</h2>
 
<P>
<P><h3>Windows NT</h3>
 

<OL><P><LI>Type "route print" from the command prompt.
<P>
   The following is a sample route table that appears for the route print
   command:
<P>
</OL>Active Routes:
<P>
<PRE>Network Address    Netmask           Gateway Address   Interface     Metric

0.0.0.0            0.0.0.0           157.57.24.1       157.57.24.194     2
0.0.0.0            0.0.0.0           157.54.24.66      157.54.24.66      1
127.0.0.0          255.0.0.0         127.0.0.1         127.0.0.1         1
157.54.0.0         255.255.0.0       157.54.24.66      157.54.24.66      1
157.54.24.66       255.255.255.255   127.0.0.1         127.0.0.1         1
157.57.24.0        255.255.248.0     157.57.24.194     157.57.24.194     2
157.57.24.194      255.255.255.255   127.0.0.1         127.0.0.1         1
157.57.255.255     255.255.255.255   157.57.24.194     157.57.24.194     1
224.0.0.0          224.0.0.0         157.54.24.66      157.54.24.66      1
224.0.0.0          224.0.0.0         157.57.24.194     157.57.24.194     1
255.255.255.255    255.255.255.255   157.57.24.194     157.57.24.194     1

</PRE><P><LI>Find your subnet address in the "Network Address" column.
<P>
   This Route will have your subnet address in the "Mask" column and the IP
   address of your Network card in the "Gateway" and "Interface" column.

<P><LI>Type "route delete xxx.xxx.xxx.xxx" where xxx.xxx.xxx.xxx is your subnet
   address. In this example it would be "route delete 157.57.24.0".
<P>
   This route will automatically be re-added at reboot. Now all packets
   will be sent over the RAS interface.
<P>
</OL><h3>Windows 95</h3>
 
<P>
Windows 95 allows you to create multiple Hardware profiles. A hardware
profile without a NIC should be used when the NIC is not connected to the
LAN and you are using RAS. This method also removes a route, as in the
example above, but is more convenient.

<OL><P><LI>Right click on "My Computer", then go to "Properties".

<P><LI>Choose "Hardware Profiles" and copy the current configuration.

<P><LI>Name the new configuration "Remote" or similar.

<P><LI>Click the "Device Manager" tab and under "Network Adapters" double click
   on your network card.

<P><LI>Uncheck the box next to the name of your new boot option.
<P>
</OL><h2>STATUS</h2>
 
<P>
Microsoft has confirmed this to be a problem in Windows NT version 3.5x and
Windows 95. We are researching this problem and will post new information
here in the Microsoft Knowledge Base as it becomes available.
<P>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional query words: prodnt win95 95ping request timed out<BR>
error 53<BR>
Keywords            : kbbug3.50 kbbug3.51 kbnetwork ntprotocol ntras NTSrvWkst<BR>
Version             : 3.1 3.5 3.51 4.0 95<BR>
Platform            : WinNT<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  March 20, 1997</FONT>
	<BR>
	<A HREF="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
