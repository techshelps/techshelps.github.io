

<HTML>
<HEAD>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Steps to Recover A Failed Mirrored System/Boot Partition </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q120227">
<META NAME="KBModify" CONTENT="1998/01/14">
<META NAME="KBCreate" CONTENT="1994/09/06">
<META NAME="Keywords" CONTENT="ntfault nthowto kbusage">
<META NAME="KBArea" CONTENT="Support; KB; winnt, crossnet, iis">
<META NAME="Description" CONTENT="  Under some circumstances, the fault tolerance (FT) driver cannot initialize after a failure of a mirrored boot partition (containing Windows NT system files) and system partition (containing NTLDR and boot loader files). This article provides a ste...">
<META NAME="Product" CONTENT="Windows NT">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QBWP,QDIV,QAC9,QALX,QAFV,QBXS,QBQU,QBWU,QAH5,QAAJ,QAMA,QAY2,QAGB,QABI,QDL9 V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>Steps to Recover A Failed Mirrored System/Boot Partition</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  January 14, 1998</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q120227</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



<P><h3> </h3>
 
The information in this article applies to:

<UL><LI>Microsoft Windows NT operating system version 3.1
<LI>Microsoft Windows NT Advanced Server version 3.1
<LI>Microsoft Windows NT Server versions 3.5 and 3.51
</UL> 
<P>
<P><h2>SUMMARY</h2>
 
<P>
Under some circumstances, the fault tolerance (FT) driver cannot
initialize after a failure of a mirrored boot partition (containing
Windows NT system files) and system partition (containing NTLDR and boot
loader files). This article provides a step-by-step system recovery
procedure for such a failure.
<P>
<P><h2>MORE INFORMATION</h2>
 
<P>
There are two recovery options:
<P>
<P><h3>Option 1</h3>
 

<OL><P><LI>If the hard disk drive with the primary system partition has failed and
   you have a single controller mirror set established, set the physical
   SCSI ID on the mirror drive to zero. If you have a duplex mirror set,
   swap the drive from the primary controller to the secondary controller.

<P><LI>Use a Windows NT Fault Tolerance (FT) boot floppy disk to point to and
   boot the system/boot partition. Make sure the BOOT.INI file points to
   the partition with the Windows NT system files.

<P><LI>Open Disk Administrator, break the mirror set and mark the primary
   system partition on Disk0 as Active so that the Windows NT FT disk is
   not necessary for the next startup.

<P><LI>If the failed drive has been replaced, establish the mirror set and
   allow data regeneration during the next system boot.
<P>
</OL><h3>Option 2: No Hardware Changes</h3>
 

<OL><P><LI>Before breaking the mirror set in disk administrator, shut down the
   server and use the Windows NT Fault Tolerance boot floppy disk to point
   to and boot the remaining healthy partition (the mirror).

<P><LI>Open Disk Administrator, select the mirror set partition and break the
   mirror. The healthy partition retains the drive letter previously
   assigned to the mirror set. The faulty partition, if it is still
   available, is assigned the next available letter.

<P><LI>Delete the faulty partition on Disk0 or replace the disk drive if
   necessary. You cannot delete the active boot partition through Disk
   Administrator in 80x86-based computers; you have to use the Windows NT
   Setup Disk to delete it.

<P><LI>Establish the mirror between the healthy system/boot partition and the
   raw disk space on Disk0. Exit Disk Administrator and save the disk
   configuration changes.

<P><LI>Use the Windows NT FT boot floppy to start regenerating the mirror set
   to Disk0. Time required for this depends on factors such as disk size,
   access time and controller type.

<P><LI>Verify that the mirror set is healthy and has completed regenerating,
   then select the set and break the mirror. You have to do this on 80x86-
   based computers because the system partition needs to be marked as
   Active for startup, and Disk Administrator allows you to mark only
   primary partitions on Disk0 as Active.

<P><LI>From Disk Administrator, modify the partition drive letters to have the
   appropriate assignments (C drive on Disk0 and D drive on Disk1). Mark
   the primary partition on Disk0 as Active.

<P><LI>Reboot the system without the Windows NT FT boot floppy. Run Disk
   Administrator and delete the partition on Disk1 and then re-establish
   the mirror from Disk0 to Disk1.
<P>
</OL>For additional information, please see the following articles in the
Microsoft Knowledge Base:

<UL><LI><B><A HREF="../WINNT/Q108304.htm">Q108304</A></B>: Recovering from Loss of FT Disk Configuration Information
<LI><B><A HREF="../WINNT/Q113976.htm">Q113976</A></B>: Using Emergency Repair Disk With Fault Tolerance Partitions
<LI><B><A HREF="../WINNT/Q113977.htm">Q113977</A></B>: Booting From Mirror After Primary Partition Is Lost
<LI><B><A HREF="../WINNT/Q114779.htm">Q114779</A></B>: Overview of Disk Mirroring (RAID Level 1) in Windows NT
<P></UL>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional query words: prodnt 3.1 3.5 3.51 repair tshoot<BR>
Keywords          : ntfault nthowto kbusage<BR>
Version           : 3.1 3.5 3.51<BR>
Platform          : winnt<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  January 14, 1998</FONT>
	<BR>
	<A HREF="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
