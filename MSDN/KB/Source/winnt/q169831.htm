

<HTML>
<HEAD>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>PPTP May Fail with Error: Remote PPP Peer is Not Responding </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q169831">
<META NAME="KBModify" CONTENT="1997/09/29">
<META NAME="KBCreate" CONTENT="1997/06/09">
<META NAME="Keywords" CONTENT="kbhowto kbras NTRAS ntrouter NTSrv">
<META NAME="KBArea" CONTENT="Support; KB; winnt, crossnet, iis">
<META NAME="Description" CONTENT="  When you attempt to make a PPTP connection between a computer running Windows NT Server version 4.0 Routing and Remote Access (RRAS) routers, the connection may fail with the error message  Remote PPP peer is not responding . The PPTP connection mu...">
<META NAME="Product" CONTENT="Windows NT">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QBWD,QBWP,QDJ0,QAC2,QAI5,QAM5,QBG2,QDJZ,QAR5,QA1S,QANN,QBW4,QDN9,QAJ6,QDIK V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>PPTP May Fail with Error: Remote PPP Peer is Not Responding</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  September 29, 1997</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q169831</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
 
The information in this article applies to:

<UL><LI>Microsoft Windows NT Server version 4.0
<LI>Microsoft Routing and Remote Access Service Update for Windows NT
   Server 4.0
</UL> 
<P>
<P><h2>SUMMARY</h2>
 
<P>
When you attempt to make a PPTP connection between a computer running
Windows NT Server version 4.0 Routing and Remote Access (RRAS) routers, the
connection may fail with the error message "Remote PPP peer is not
responding". The PPTP connection must be initiated to the correct IP
address on that computer. For this reason, using the computer name in the
phone book entry results in sporadically successful PPTP connections. This
basic concept is also true for legacy Windows NT 4.0 RAS clients tunneling
to legacy Windows NT 4.0 servers or Routing and Remote Access servers.
<P>
<P><h2>MORE INFORMATION</h2>
 
<P>
The PPTP service responds to connection requests using the IP address of
the interface that has the best route back to the PPTP client. You should
use this address as the connection endpoint of your PPTP connection. This
is important because the interface that receives the PPTP request is not
necessarily the interface associated with the best route back to the PPTP
client.
<P>
If the target PPTP server has a dedicated circuit, the IP address will be
that of the WAN adapter. If the target PPTP server has a PPP connection to
a local ISP, you will need to PPTP to the IP address assigned by the
ISP.
<P>
In a rare case, you may have an end to end PPP connection between two
Windows NT routers and try to bring up PPTP over that PPP link. When
Windows NT routers connect through demand dial, both routers will assign
each other an IP address. In this case, you would then PPTP to the PPP
address that your local router assigned the peer router.
<P>
<P><h3>Example</h3>
 

<UL><LI>Router 1 has a RAS IP address pool of 192.168.0.0 mask 255.255.255.0
   (address pool 192.168.0.1-254)
<LI>Router 2 has a RAS IP address pool of 172.16.0.0 mask 255.255.255.0
   (address pool  172.16.0.1-254)
<P>
</UL>When Router 1 demand dials Router 2 over PPP, Router 1 will create an
NDISWAN interface with IP address 192.168.0.1. This address is used
internally by Routing and Remote Access Service. The address can be seen
using the IPCONFIG command. You will also see this in the route table using
the KERNROUT PRINT command. Router 1 will then be assigned an NDISWAN
address of 172.16.0.2 by its peer router. This assigned address will show
up in IPCONFIG as well as ROUTE PRINT, KERNROUT PRINT, and the GUI route
table in Routing and Remote Access Administrator.
<P>
Router 2 will use the NDISWAN address 172.16.0.1 internally and will be
assigned the NDISWAN address 192.168.0.2. To bring up the PPTP connection
over PPP, Router 1 will need to connect to 192.168.0.2 (an address from its
own RAS pool).
<P>
Router-to-Router PPTP Over PPP Addressing in Table Form
<P>
Router 1
RAS IP address pool statically defined as 192.168.0.0, mask 255.255.255.0
NDISWAN1  192.168.0.1  uses the first address of the pool internally
NDISWAN2  172.16.0.2  assigned during the PPP connection to Router 2
NDISWAN3  172.16.0.3  assigned during the PPTP connection to Router 2
<P>
Router 2
RAS IP address pool statically defined as 172.16.0.0, mask 255.255.255.0
NDISWAN1  172.16.0.1  uses the first address of the pool internally
NDISWAN2  192.168.0.2  assigned during the PPP connection to Router 2
NDISWAN3  192.168.0.3  assigned during the PPTP connection to Router 2
<P>
If Router 1 were a legacy Windows NT 4.0 RAS client, it could have simply
tunneled to the address 172.16.0.1. Legacy Windows NT 4.0 RAS clients do
not dynamically assign an IP address to the server, so the server side
internal address of 172.16.0.1 can be used.
<P>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional query words: 721<BR>
Keywords          : kbhowto kbras NTRAS ntrouter NTSrv<BR>
Version           : 4.0<BR>
Platform          : winnt<BR>
Issue type        : kbhowto<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  September 29, 1997</FONT>
	<BR>
	<A HREF="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
