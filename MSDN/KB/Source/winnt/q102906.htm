

<HTML>
<HEAD>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>How To Install the Sony CDU-31A CD-ROM with Windows NT </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q102906">
<META NAME="KBModify" CONTENT="1997/04/10">
<META NAME="KBCreate" CONTENT="1993/08/12">
<META NAME="Keywords" CONTENT="kbhw nthw kbfasttip">
<META NAME="KBArea" CONTENT="Support; KB; winnt, crossnet, iis">
<META NAME="Description" CONTENT=" The Sony CDU-31A CD-ROM is not by default available for setup or for use with Windows NT. However, there is a driver and setup information for this CD-ROM on the Windows NT CD-ROM.  NOTE: Most Gateway 2000 computers that ship with the Sony CDU-31A C...">
<META NAME="Product" CONTENT="Windows NT">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QBWP,QABA,QAA1,QDI2,QA2O,QDIR,QDN1,QDLP,QAY2,QAC2,QBXS,QBVV,QBAO,QAU9,QDIZ V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>How To Install the Sony CDU-31A CD-ROM with Windows NT</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  April 10, 1997</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q102906</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



<P><h3> </h3>
 
The information in this article applies to:

<UL><LI>Microsoft Windows NT operating system version 3.1
<LI>Microsoft Windows NT Advanced Server version 3.1
</UL> 
<P>
The Sony CDU-31A CD-ROM is not by default available for setup or for
use with Windows NT. However, there is a driver and setup information
for this CD-ROM on the Windows NT CD-ROM.
<P>
NOTE: Most Gateway 2000 computers that ship with the Sony CDU-31A
CD-ROM drive come with the Sony COR-334 host adapter. This host
adapter is an OEM version of the Sony CDB-334 and is identical to this
card in all respects. There is more information in the Microsoft
Knowledge Base on Sony CD-ROM drives and Gateway 2000 computers
available in article <B><A HREF="../WINNT/Q104764.htm">Q104764</A></B>.
<P>
The factory defaults for the Sony COR-334 and CDB-334 are: I/O base
port address set to 340 hex, DMA channel set to none, and IRQ set to
none. No IRQ setting is neccessary for the card to operate correctly
under MS-DOS, and therefore most COR-334 and CDB-334 adapters are not
configured for an IRQ. However, Windows NT requires the use of an IRQ.
Use the instructions in the README.TXT file to configure the adapter
for use with Windows NT. Installation instructions are in the
following directory:
<P>
<PRE>   \drvlib\storage\sony_31a\x86 (or MIPS)

</PRE>It is necessary to view the README.TXT from MS-DOS. The directory
includes the following files:
<P>
<PRE>   OEMSETUP.INF
   README.TXT
   SLCD32.SYS
   TXTSETUP.OEM

</PRE>Jumper settings for the Sony COR-334 and CDB-332 host adapter are
as follows:
<P>
<PRE>   Jumper Row   Function
   -------------------------
   JP1           Base Address
   JP2          DMA Channel
   JP3          DMA Channel
   JP4          IRQ Channel

</PRE><h3>Base Address Jumper Pin Settings</h3>
 
<P>
On indicates the presence of a jumper switch on the pin. Jumper pins
are read from left to right. JP1.1 refers to jumper row 1 pin 1.
<P>
<PRE>   Base Address   JP1.1   JP1.2   JP1.3   JP1.4
   --------------------------------------------
   320            on      on      off     off
   330            on      off     off     off
   340*           off     on      off     off
   360            off     off     off     off

   (*default setting)

</PRE><h3>Interrupt Jumper Settings</h3>
 
<P>
<PRE>IRQ    JP4.1   JP4.2   JP4.3   JP4.4
</PRE> 
<PRE>3      off     off     on      off
4      off     on      off     on
5      on      off     off     off
6      off     on      off     off

</PRE><h2>MORE INFORMATION</h2>
 
<P>
For reference, the contents of the README.TXT file with installation
instructions follow:
<P>
<P><h3>README.TXT</h3>
 
<P>
<PRE>   Sony CDU-31A device driver for the Windows NT(tm) operating system

</PRE>The device drivers and this file are owned by Sony and protected by
United States copyright laws, international treaty provisions, and all
other applicable national laws. You may not reverse engineer,
decompile, or disassemble the device drivers.
<P>
Copy all files from this directory to the root directory of a floppy
disk and mark it 'Sony - CDU-31A setup disk'.
<P>
<P><h3>Installing from a CDU-31A - x86 processor</h3>
 
<P>
To install Windows NT from a CDU-31A drive with no other supported
SCSI host adapter installed, boot the computer from the Boot floppy
provided with the operating system. After you hit ENTER to indicate
<PRE>'install now' and then choose either Express or Custom install, the
</PRE>installation software searches for a supported host adapter and CD-ROM
drive. It displays 'Scanning for SCSI adapters' in the bottom of the
screen. The device drivers used during this phase of installation are
expected to be on the Windows NT CD-ROM disc, which these currently
are not. When the scan is complete, the install program asks if you
want to 'Configure Additional SCSI adapters', hit 'S' to select this.
It then displays a list of adapters with the last line highlighted
reading: 'Other (Requires disk provided by a hardware manufacturer)'.
This is the setup floppy created above. Hit Enter to select other, the
program prompts to insert the floppy, do so and hit Enter again. The
install program then reads the slcd32.sys device driver from the
floppy, installs it, finds the CDU-31A drive and uses it to install
the operating system.
<P>
The install program also makes all of the necessary registry entries
automatically.
<P>
For this to work the CDU-31A host adapter MUST be set for IRQ 5. NOTE,
THIS IS A CHANGE FROM THE PREVIOUS BETA. PREVIOUSLY THE DRIVER USED
IRQ 3. If the host adapter jumpers are later changed the registry must
be manually edited using REGEDT32.
<P>
<P><h3>Adding support for CDU-31A to a pre-existing NT system</h3>
 
<P>
Within Windows NT under the window 'main', 'Windows NT Setup' select
<PRE>'Options', then 'Add/Remove SCSI Adapters'. Then click on the 'Add'
</PRE>button. In the window 'Select SCSI Adapter Option', scroll the
<PRE>'Adapter' selection down to 'Other (Requires a disk from a hardware
</PRE>manufacturer)'. Click on this option and when prompted insert the
floppy with the Sony files. The system copies the device driver from
the floppy and makes all the necessary registry entries automatically.
These entries assume an IRQ of 5. If the host adapter jumpers are
later changed or if you are using an IRQ other than 5, the registry
must be manually edited using REGEDT32.
<P>
<P><h3>31A Unique registry entry data</h3>
 
<P>
In addition to the normal mini-port stuff, the registry entry allows
specifying a base port address for the host adapter and which IRQ it's
set for. If the base port address is specified, then the driver does
not do its search for a host adapter and drives.
<P>
Specifically, under the entry for Slcd32 add a key for 'Parameters',
and under this add the key 'Device0'. This is for the first host
adapter. Under this add a value named 'DriverParameter' of type
REG_SZ. This is a string where you can specify the parameters. Entries
are of the form: 'name = value' where allowable names are: 'base' and
<PRE>'irq'. Upper or lowercase is not important and all values are hex.
</PRE>Entries are separated by spaces. For example to specify the defaults
of the adapter jumpers and driver use the value:
<P>
<PRE>   base = 340 irq = 5

</PRE>The driver defaults to irq 5 and will search for a host adapter and
drives if no entry is made. The hex port addresses searched are:
<P>
<PRE>   340, 230, 330, 350, 360, 250, and 348

</PRE>The base address and irq must match the host adapter jumper settings.
Note that the Sony host adapter model CDB-334 currently does NOT come
shipped with an irq selected since interrupts are not used with the
MS-DOS device driver.
<P>
For installation, my registry entry is:
<P>
HKEY_LOCAL_MACHINE
<PRE>   SYSTEM
      CurrentControlSet
         Services
            Slcd32   -&gt; Type: REG_DWORD: 0x1
                        Start: REG_DWORD: 0x1
                        Group: REG_SZ: SCSI miniport
                        ErrorControl: REG_DWORD: 0x1
               Parameters
                  Device0 -&gt; DriverParameter: REG_SZ: base = 340 irq = 5

</PRE>Jumper settings for the Sony CDB-334 host adapter.
<P>
<P><h3>Base Address jumpers</h3>
 
<P>
<PRE>   Address   Jp1.1   Jp1.2
     360      off     off
     340      off     on
     350      on      off
     320      on      on

</PRE><h3>IRQ jumper settings</h3>
 
<P>
<PRE>  Interrupt  JP4.3   JP4.4   JP4.1   JP4.2
      3       on      off     off     off
      4       off     on      off     off
      5       off     off     on      off
      6       off     off     off     on

</PRE>SONY DISCLAIMS ALL WARRANTIES, WHETHER EXPRESSED OR IMPLIED, INCLUDING
WITHOUT LIMITATION, WARRANTIES OF FITNESS AND MERCHANTABILITY WITH
RESPECT TO THE INFORMATION IN THIS DOCUMENT. BY FURNISHING THIS
DOCUMENT, SONY GRANTS NO LICENSES TO ANY RELATED PATENTS OR
COPYRIGHTS.
<P>
<PRE>   Copyright Sony Corporation, 1993, all rights reserved
</PRE> 
<PRE>   Sony CDU-31A device driver for the Windows NT(tm) operating system

</PRE>The CDU-31A CD-ROM is manufactured by Sony, a vendor independent of
Microsoft; we make no warranty, implied or otherwise, regarding this
products' performance or reliability.
<P>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional query words: prodnt cdu 33A<BR>
Keywords            : kbhw nthw kbfasttip<BR>
Version             : 3.1<BR>
Platform            : WinNT<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  April 10, 1997</FONT>
	<BR>
	<A HREF="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
