

<HTML>
<HEAD>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Err Msg: The Route Addition Failed: 87 </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q151795">
<META NAME="KBModify" CONTENT="1997/08/12">
<META NAME="KBCreate" CONTENT="1996/05/30">
<META NAME="Keywords" CONTENT="nttcp">
<META NAME="KBArea" CONTENT="Support; KB; winnt, crossnet, iis">
<META NAME="Description" CONTENT="  After you run a ROUTE ADD command, the following error message may appear:     The route addition failed: 87  This message alerts you that you have an addressing problem.  MORE INFORMATION  You will get the route addition error in at least these tw...">
<META NAME="Product" CONTENT="Windows NT">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QAM5,QBWD,QAC2,QAB4,QAJQ,QAR5,QBVW,QAAP,QBW4,QBV8,QBVV,QBBI,QAH8,QAGF,QAB9 V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>Err Msg: The Route Addition Failed: 87</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  August 12, 1997</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q151795</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
 
The information in this article applies to:

<UL><LI>Microsoft Windows NT Workstation versions 3.5, 3.51, and 4.0
<LI>Microsoft Windows NT Server versions 3.5, 3.51, and 4.0
</UL> 
<P>
<P><h2>SUMMARY</h2>
 
<P>
After you run a ROUTE ADD command, the following error message may appear:
<P>
<PRE>   The route addition failed: 87

</PRE>This message alerts you that you have an addressing problem.
<P>
<P><h2>MORE INFORMATION</h2>
 
<P>
You will get the route addition error in at least these two
situations:

<OL><P><LI>If the gateway address you specify is not on the same logical subnet as
   any of the network adapters in your system. For instance, if your system
   had this configuration:
<P>
<P><PRE>      ip address  204.118.75.20
      subnet mask 255.255.0.0
</PRE><P>
   and you tried this command:
<P>
<P><PRE>      route add 204.110.0.0 204.110.76.23
</PRE><P>
   where 204.110.0.0  is the remote subnet you want to reach and
   204.110.76.23 is the gateway address you want to use, you will get the
   error message because the gateway is not on the same logical subnet as
   your system.

<P><LI>If the destination address you enter is a specific host address rather
   than a subnet address and you specify a netmask, you will get this
   error.
<P>
   For instance, using the same configuration as above, if you
   wanted to reach this specific system:
<P>
<PRE>      ip address           204.110.15.3
      subnet mask          255.255.0.0
      valid local gateway  204.118.75.1

   you might use this command:

      route add 204.110.15.3 mask 255.255.0.0 204.118.75.1

   and this command would give you the error 87 message. The ROUTE
   command expects the subnet address 204.110.0.0 rather than the
   specific destination address.

   To correctly add a host route do not specify a netmask and by default NT
   will use a netmask of 255.255.255.255, for example:

      route add 204.110.15.3 204.118.75.1

   Or use a subnet mask of all ones, 255.255.255.255, for example:

      route add 204.110.15.3 MASK 255.255.255.255 204.118.75.1

   The mask of all 255s (all 1s) means that the destination address of the
   packet to be routed must exactly match the Network Address for this
   route to be used.
</PRE>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional query words:<BR>
Keywords          : nttcp<BR>
Version           : 3.5 3.51<BR>
Platform          : WINDOWS<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  August 12, 1997</FONT>
	<BR>
	<A HREF="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
