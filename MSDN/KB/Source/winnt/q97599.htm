

<HTML>
<HEAD>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Windows NT RAS Registry Parameters </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q97599 ">
<META NAME="KBModify" CONTENT="1997/05/06">
<META NAME="KBCreate" CONTENT="1993/04/15">
<META NAME="Keywords" CONTENT="kbnetwork ntnetserv">
<META NAME="KBArea" CONTENT="Support; KB; winnt, crossnet, iis">
<META NAME="Description" CONTENT=" WARNING: Using Registry Editor incorrectly can cause serious, system-wide problems that may require you to reinstall Windows NT to correct them. Microsoft cannot guarantee that any problems resulting from the use of Registry Editor can be solved. Us...">
<META NAME="Product" CONTENT="Windows NT">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QAHE,QBXS,QA1S,QBWP,QABA,QANN,QDN9,QARL,QAUJ,QAKC,QAMR,QAU3,QBC6,QAVZ,QALZ V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>Windows NT RAS Registry Parameters</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  May 6, 1997</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q97599 </B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
 
The information in this article applies to:

<UL><LI>Microsoft Windows NT operating system version 3.1
</UL> 
<P>
WARNING: Using Registry Editor incorrectly can cause serious, system-wide
problems that may require you to reinstall Windows NT to correct them.
Microsoft cannot guarantee that any problems resulting from the use of
Registry Editor can be solved. Use this tool at your own risk.
<P>
Remote Access generally supplies good default values for the Remote
Access Service (RAS) parameters. However, for some systems, you may
want to adjust individual parameters to suit your particular
performance and security needs.
<P>
This article provides a complete list of parameters that can be
adjusted in the Registry Database (use Registration Information
Editor), arranged in the following categories:

<UL><LI>Remote Access Parameters
<LI>NetbiosGateway Parameters
<LI>AsyncMac Parameters
<LI>RasHub Parameters
<P>
</UL>Note: Every value listed in this article uses a REG_DWORD data type,
except for NetworkAddress, which uses a REG_SZ data type.
<P>
WARNING: Using Registry Editor incorrectly can cause serious, system-wide
problems that may require you to reinstall Windows NT to correct them.
Microsoft cannot guarantee that any problems resulting from the use of
Registry Editor can be solved. Use this tool at your own risk.
<P>
For information on adding Registry values, see the online help
provided for Registration Information Editor, or query on the
following here in the the Microsoft Knowledge Base:
<P>
<PRE>   modify and ras and registry

</PRE><h3>REMOTE ACCESS PARAMETERS</h3>
 
<P>
Remote Access parameters are listed by parameter name and can be found
in the following Registry subkey:
<P>
<PRE>   SYSTEM\CurrentControlSet\Services\RemoteAccess\Parameters

Parameter                Range         Use
</PRE> 
<P>
<PRE>AuthenticateRetries      0-10          Sets the maximum number of
                         default = 2   unsuccessful retries at
                                       authentication.

AuthenticateTime         20-600 secs.  Sets the maximum amount of time
                         default: 120  a user is allowed to finish
                                       authentication.

CallbackTime             2-12 secs.    Sets the time interval the
                         default: 2    server waits before calling the
                                       client back; client communicates
                                       the value of its own callback
                                       time when connecting to a Remote
                                       Access server. If the client does
                                       not communicate a callback time
                                       value (as with Remote Access
                                       1.0 and 1.1 clients), the value
                                       of this parameter is used.

EnableAudit              0 = disabled  Enables or disables Remote
                         1 = enabled   Access auditing
                         default: 1

NetbiosGatewayEnabled    0 = disabled  Makes the server function like
                         1 = enabled   a NetBIOS gateway, allowing
                         default: 1    clients to access the LAN. If
                                       disabled, remote clients can
                                       access the files on the server
                                       in a point-to-point connection
                                       only.

NumRecvQueryIndications  1-32          Allows Remote Access clients to
                         default: 3    initiate simultaneous, multiple
                                       network connections.

</PRE><h3>NETBIOS GATEWAY PARAMETERS</h3>
 
<P>
In Windows NT 3.1, the NetBIOS Gateway parameters are listed by parameter
name and can be found in the registry under the the HKEY_LOCAL_MACHINE
subtree under the following subkey:
<P>
<PRE>   SYSTEM\CurrentControlSet\Services\RemoteAccess\Parameters
   \NetbiosGateway\Parameters

</PRE>NOTE: In Windows NT 3.5 and 3.51, the Autodisconnect parameter is under the
the HKEY_LOCAL_MACHINE subtree under the following subkey:
<P>
<PRE>   SYSTEM\CurrentControlSet\Services\RemoteAccess\Parameters

</PRE>For additional information, refer to the RemoteAccess Parameters section in
the Windows NT Server 3.5 Remote Access Service manual on page 82.
<P>
<PRE>Parameter           Range             Use
</PRE> 
<P>
<PRE>AutoDisconnect      0-60000 minutes.  Sets the time interval after
                    default: 20       which inactive connections are
                                      terminated. Inactivity is
                                      measured by lack of session data
                                      transfer. You may want to set
                                      this parameter to 0 minutes if
                                      clients are running NetBIOS
                                      datagram applications. Setting
                                      this parameter to 0 disables
                                      AutoDisconnect.

DisableMcastFwd     0 = disabled      Allows session traffic to have
WhenSessionTraffic  1 = enabled       priority over multicast data-
                    default: 1        grams. This means that multicast
                                      datagrams are transferred only
                                      when there is no session traffic.

EnableBroadcast     0 = disabled      Determines whether broadcast
                    1 = enabled       datagrams are forwarded to
                    default: 0        remote workstations. See
                                      MulticastForwardRate.

MaxBcastDgBuffered  16-255            Sets the number of broadcast
                    default: 32       datagrams that the gateway
                                      buffers for a client.

MaxDgBufferedPer    1-255             Sets the number of datagrams
GroupName           default: 10       that can be buffered per group
                                      name. Because this setting is
                                      done in virtual memory, you can
                                      set it high.

MaxDynMem           131072-           Sets the amount of virtual
                      4294967295      memory used to buffer NetBIOS
                    default: 655350   session data for each remote
                                      client. (See Note 1, below.)

MaxNames            1-255             Sets the number of unique
                    default: 255)     NetBIOS names that each client
                                      can have. NetBIOS stacks on the
                                      LAN have a maximum of 255 names
                                      allocated for all clients
                                      (cumulative). For example: To
                                      allow 64 clients to connect
                                      simultaneously, set this
                                      parameter to 3 or 4.

MaxSessions         1-255             Sets the maximum number of
                    default: 255      simultaneous NetBIOS sessions
                                      each client can have. NetBIOS
                                      stacks on the LAN have a maximum
                                      of 255 names allocated for all
                                      clients. (See Note 2, below.)

MultiCast           -1 to             Governs the multicasting of
ForwardRate           4294967295      server announcements (group name
                      secs            datagrams) to all remote work-
                    default: 5        stations in a server's domain.
                                       -1 Disables forwarding.
                                        0 Guarantees delivery of group
                                          name datagrams.
                                        n Forwards datagrams every n
                                           seconds.
                                      (See Note 3, below.)

RcvDgSubmitted      1-32              Determines how many NetBIOS
PerGroupName        default: 3        Receive Datagram commands can be
                                      submitted simultaneously for each
                                      group name on the LAN stack. Keep
                                      this setting as small as possible
                                      to minimize the amount of memory
                                      consumed by system resources. Each
                                      datagram command received locks
                                      about 1.5K of physical memory in
                                      the system.

RemoteListen        0-2               Sets the remote NCB_LISTEN capa-
                    default: 1        bility. (Microsoft recommends
                                      using the default value.)
                                        0 Client can't post NCB_LISTEN
                                          for any NetBIOS name.
                                        1 Remote client can receive
                                          messages from LAN users and
                                          printers. Client can post
                                          NCB_LISTEN on Windows NT
                                          Advanced Server aliases only.
                                        2 Enables NCB_LISTEN for all
                                          remote client NetBIOS names,
                                          enabling them to run NetBIOS
                                          server applications and to
                                          act as servers on the network.
                                       (See Note 4, below.)

SizWorkBufs         1024-65536         Sets the size of work buffers.
                    default: 4500      The default setting is optimized
                                       for the server message block (SMB)
                                       protocol, the protocol between the
                                       workstation and the server running
                                       on Windows NT Advanced Server.

</PRE>NOTES:

<OL><P><LI>Because the Remote Access server is a gateway between the slow
   line and the LAN, data is buffered in its memory when coming from
   the fast line (LAN) to the slow (asynchronous) line. The Remote
   Access server minimizes the usage of physical memory by locking
   only a minimal set of pages (about 64K per client) and making use
   of virtual memory to buffer the rest of the data. As long as you
   have enough disk space on your backup store, you can increase
   this parameter if needed.
<P>
   If you have an application with a LAN (fast) sender and an
   async (slow) receiver, and if the sender is sending more data at
   a time than the Remote Access server can buffer, the Remote
   Access server tries to apply a form of NetBIOS level flow control
   by not submitting NCB_RECEIVE on the session, until it has
   enough buffer space to store incoming data. In this situation,
   you should increase your NetBIOS SEND and RECEIVE time-outs so
   that the fast sender can keep pace with the slow receiver.

<P><LI>For a gateway, you should set the size of Nbf to 3 (large).
   This removes any limit on how much memory NetBEUI allows itself
   to use. A size of 2 means a limit of 300K, which is enough for
   about 64 normalconnections. The Registry subkey for this parameter
   is SYSTEM\CurrentControlSet\Services\Nbf\Parameters.

<P><LI>If there are many servers in the domain, the flow of announcements
   may appear as a continuous stream of datagrams directed to
   remote workstations. Because these announcements are repeated,
   they waste CPU cycles at workstations without any real information
   gain in return.The MultiCastForwardRate parameter makes it possible
   to filter server announcements by forwarding them at a specified
   interval.
<P>
   If the EnableBroadcast parameter is set to 0, then broadcasts are
   not forwarded, even if the MultiCastForwardRate parameter is set
   to a positive number (in this case, only multicast datagrams are
   forwarded). If MultiCastForwardRate is set to -1, then broadcasts
   are still not forwarded even if EnableBroadcast is set to 1. (See
   the EnableBroadcast parameter.)

<P><LI>The NCB_LISTEN capability can significantly drain system resources.
   If the RemoteListen parameter is configured to 2, Remote Access
   posts an NCB_LISTEN on all NetBIOS names of Remote Access clients.
   Considering that the average Windows NT Advanced Server workstation
   has about 5 NetBIOS names assigned to it, the total number of
   NetBIOS names for which an NCB_LISTEN would be posted is 5 times 64
  (the maximum number of clients per Remote Access server).
<P>
</OL><h3>ASYNC MAC PARAMETERS</h3>
 
<P>
Asynchronous Media Access Control (MAC) parameters are listed by
parameter name and can be found in the following Registry subkey:
<P>
SYSTEM\CurrentControlSet\Services\AsyncMacn\Parameters
<P>
<P>
<PRE>Parameter           Range            Use
</PRE></OL> 
<P>
<PRE>FramesPerPort       2-20             Allocates frames for each dial-in
                    default: 3       or dial-out port. Set this value
                                     to the number of frames the
                                     transport may have outstanding at
                                     any given time.

IrpStackSize        1-10             Sets the number of device drivers
                    default: 5       MAC is layered above. Increase
                                     this value only if the serial
                                     driver below the MAC needs more
                                     stack size.

MaxFrameSize        576-1514         Determines the maximum frame size
                    default: 1514    Use smaller frames for noisy links.


</PRE><h3>RAS HUB PARAMETERS</h3>
 
<P>
RAS Hub parameters are listed by parameter name and can be found in
the following Registry subkey:
<P>
<PRE>   SYSTEM\CurrentControlSet\Services\RasHub\Parameters


Parameter           Range           Use
</PRE> 
<P>
<PRE>NetworkAddress      -----           Reassigns the first 4 bytes of the
                                    6-byte IEEE address. For example,
                                    if you reset the address to
                                    "03-1F-2C-81-92-34," only the first
                                    4 bytes are looked at. Reset this
                                    parameter in the RasHub\Parameters
                                    subkey with the REG_SZ data type.
</PRE>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional query words: prodnt tune tuning<BR>
Keywords            : kbnetwork ntnetserv<BR>
Version             : 1.0 1.1 3.1<BR>
Platform            : WINDOWS<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  May 6, 1997</FONT>
	<BR>
	<A HREF="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
