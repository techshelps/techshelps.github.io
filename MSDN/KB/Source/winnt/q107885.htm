

<HTML>
<HEAD>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>RAS Can't Connect to Windows NT 3.1 RAS via AT&amp;T BNS 1000 </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q107885">
<META NAME="KBModify" CONTENT="1997/05/13">
<META NAME="KBCreate" CONTENT="1993/11/30">
<META NAME="Keywords" CONTENT="kbnetwork ntras NTSrvWkst">
<META NAME="KBArea" CONTENT="Support; KB; winnt, crossnet, iis">
<META NAME="Description" CONTENT="  A Remote Access Service (RAS) for Windows NT 3.1 server MODEM.INF file will need modification in order to allow RAS for Windows for Workgroups 3.11 clients or RAS for Windows NT 3.1 clients to be successfully authenticated if an AT*T BNS 1000 secur...">
<META NAME="Product" CONTENT="Windows NT">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QBWP,QBWO,QA1S,QAHE,QARL,QAKR,QAB5,QBVV,QAI5,QDN9,QAS6,QA5E,QANN,QAMB,QAHH V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>RAS Can't Connect to Windows NT 3.1 RAS via AT&amp;T BNS 1000</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  May 13, 1997</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q107885</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
 
The information in this article applies to:

<UL><LI>Microsoft Remote Access client for Windows for Workgroups 3.11
<LI>Microsoft Remote Access client for Windows NT 3.1
</UL> 
<P>
<P><h2>SUMMARY</h2>
 
<P>
A Remote Access Service (RAS) for Windows NT 3.1 server MODEM.INF file will
need modification in order to allow RAS for Windows for Workgroups 3.11
clients or RAS for Windows NT 3.1 clients to be successfully authenticated
if an AT&amp;T BNS 1000 security switch box (or similar device) is linked in
line between the RAS server's serial port and its modem.
<P>
<P><h3>Configuration Diagram</h3>
 
<P>
<PRE>RAS client---modem   &lt;---phone line---&gt; modem---BNS1000---RAS server

</PRE>This information does not apply to RAS 1.0, 1.1, nor 1.1a, because these
versions do not include support for any kind of dialogue with a security
host such as the AT&amp;T BNS 1000 switch device.
<P>
NOTE: The AT&amp;T BNS 1000 device has NOT been certified for use with
RAS at the time this article was written (November 29, 1993) and Microsoft
therefore does NOT support it at this time. However, the following
modifications may be all that's needed to operate RAS with this device
successfully.
<P>
<P><h2>MORE INFORMATION</h2>
 
<P>
If the following modifications to the RAS server's MODEM.INF file are not
made, the RAS client user will initially be able to connect to the RAS
server's modem, go into RAS' interactive Terminal mode and be successfully
authenticated by the AT&amp;T BNS 1000 security device, but then will be
disconnected immediately after choosing Done in the Terminal mode.
<P>
In order for the RAS server to properly wait for the client signal and
authenticate RAS callers, do the following:

<OL><P><LI>Stop the RAS server.

<P><LI>Copy the [SD ACM400 w/ AT&amp;T 3820] section in the MODEM.INF file to the
   of the file to create a new section.

<P><LI>Give the newly created section a new section title, for example, [AT&amp;T
   BNS 1000 switch] and remove all the comment lines below the section
   title that start with a semicolon.

<P><LI>Remove all the following lines
<P>
<P><PRE>       - macros(for example, "&lt;speaker_on&gt;=M1" and so on)
       - COMMAND_INIT
       - COMMAND_DIAL
</PRE><P>
   and then edit the rest of the section so it looks like this:
<P>
<P><PRE>      ;---------------------------------------------------------
      [AT&amp;T BNS 1000 switch]
</PRE><P>
<P><PRE>      DEFAULTOFF=
      MAXCARRIERBPS=19200
      MAXCONNECTBPS=19200
</PRE><P>
<P><PRE>      COMMAND_LISTEN=
      CONNECT=&lt;match&gt;"DIALIN_GATEWAY"
</PRE><P>
<P><PRE>      ;---------------------------------------------------------------
</PRE>
<P><LI>Save and close the MODEM.INF file.

<P><LI>In the Control Panel window, choose the Network icon, and then select
   Remote Access Service in the Installed Network Software list. Choose
   Configure and reconfigure RAS to use the newly created section in the
   MODEM.INF file.

<P><LI>Restart RAS on the server.
<P>
</OL>With this new MODEM.INF section, the RAS server will NOT attempt any
initialization of a modem or other device, but will simply listen and then
attempt to match the string "DIALIN_GATEWAY" with the information sent by
the RAS client. The RAS client sends this string several times during the
initial connection process which allows for a successful connection.
<P>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional query words: wfw wfwg prodnt<BR>
Keywords            : kbnetwork ntras NTSrvWkst<BR>
Version             : 3.1<BR>
Platform            : WINDOWS<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  May 13, 1997</FONT>
	<BR>
	<A HREF="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
