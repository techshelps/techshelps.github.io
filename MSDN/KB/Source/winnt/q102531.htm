

<HTML>
<HEAD>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Drive Changed to New Partition During Drive Creation </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q102531">
<META NAME="KBModify" CONTENT="1997/05/08">
<META NAME="KBCreate" CONTENT="1993/08/03">
<META NAME="Keywords" CONTENT="kbtool ntutil">
<META NAME="KBArea" CONTENT="Support; KB; winnt, crossnet, iis">
<META NAME="Description" CONTENT="  Consider this drive layout:      ---------------------------------     |  c:   |   d:   |  free space  |     ---------------------------------  Where d: is where Windows NT is installed, AND it is a  logical drive  (extended partition).  In this la...">
<META NAME="Product" CONTENT="Windows NT">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QBWP,QDIV,QAFV,QBW5,QAC9,QBFY,QBE7,QBE6,QAI4,QA0B,QAML,QALQ,QDIR,QDL9,QBWQ V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>Drive Changed to New Partition During Drive Creation</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  May 8, 1997</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q102531</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



<P><h3> </h3>
 
The information in this article applies to:

<UL><LI>Microsoft Windows NT operating system, version 3.1
<LI>Microsoft Windows NT Advanced Server, version 3.1
</UL> 
<P>
<P><h2>SYMPTOMS</h2>
 
<P>
Consider this drive layout:
<P>
<PRE>    ---------------------------------
    |  c:   |   d:   |  free space  |
    ---------------------------------

</PRE>Where d: is where Windows NT is installed, AND it is a "logical drive"
(extended partition).
<P>
In this layout, the arcnames could be described:
<P>
<PRE>    scsi(0)disk(x)rdisk(0)partition(1)   c: drive
    scsi(0)disk(x)rdisk(0)partition(2)   d: drive

</PRE>If you go into windisk and create a new drive where the free space is,
your arcnames change to:
<P>
<PRE>    --------------------------
    |  c:   |   d:   |   e:  |
    --------------------------

    scsi(0)disk(x)rdisk(0)partition(1)   c: drive
    scsi(0)disk(x)rdisk(0)partition(3)   d: drive
    scsi(0)disk(x)rdisk(0)partition(2)   e: drive

</PRE>The d: drive becomes partition(3).
<P>
NOTE: If the free space where e: was made is already within the
extended region, this arcname change does not occur.
<P>
You can encounter this problem any time you boot from a "logical
partition" then make a new real partition on the same disk.
<P>
<P><h2>CAUSE</h2>
 
<P>
This change occurs because there can be only one extended region in
the partition table of physical sector 0 on the drive, and it is
always placed last in the table.
<P>
Windisk knows you just changed the Windows NT boot tree from
partition(2) to partition(3). It cannot pop up a message telling you
to edit BOOT.INI, and change the 2 to a 3, so it generates an access
violation
<P>
Nothing is destroyed; your disk and the Windows NT tree are still
there.
<P>
<P><h2>WORKAROUND</h2>
 

<OL><P><LI>If your c: drive is FAT, do the following:
<P>
<P><PRE>      a. Boot MS-DOS.
      b. Attrib -r -s -h BOOT.INI.
      c. Edit BOOT.INI.
      d. Change partition(x) to partition(x+1).
</PRE><P>
   If your c: drive is not FAT, go to another computer and format a
   floppy disk. It will now have the Windows NT boot sector on it.

<P><LI>Copy NTLDR, NTDETECT.COM, and BOOT.INI to it.

<P><LI>Edit BOOT.INI, and start guessing as to what the arcname of your
   Windows NT root is.
<P></OL>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional query words: prodnt<BR>
Keywords            : kbtool ntutil<BR>
Version             : 3.1<BR>
Platform            : WINDOWS<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  May 8, 1997</FONT>
	<BR>
	<A HREF="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
