

<HTML>
<HEAD>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>How to Monitor Disk Performance with Performance Monitor </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q102020">
<META NAME="KBModify" CONTENT="1998/01/30">
<META NAME="KBCreate" CONTENT="1993/07/27">
<META NAME="Keywords" CONTENT="ntconfig NTSrvWkst kbenv">
<META NAME="KBArea" CONTENT="Support; KB; winnt, crossnet, iis">
<META NAME="Description" CONTENT=" Disk performance counters, the Diskperf service, must be started prior to the Performance Monitor in order to monitor disk performance. Disk performance counters are disabled by default.  The impact of the Performance Monitor on the overall performa...">
<META NAME="Product" CONTENT="Windows NT">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QAMR,QAY5,QAU3,QANE,QAIJ,QAB9,QBXS,QAM9,QALX,QACF,QDIV,QAC9,QBV8,QAFX,QBWS V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>How to Monitor Disk Performance with Performance Monitor</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  January 30, 1998</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q102020</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



<P><h3> </h3>
 
The information in this article applies to:

<UL><LI>Microsoft Windows NT operating system, version 3.1
<LI>Microsoft Windows NT Advanced Server, version 3.1
<LI>Microsoft Windows NT Workstation versions 3.5 and 3.51
<LI>Microsoft Windows NT Server versions 3.5 and 3.51
<LI>Microsoft Windows NT Server version 4.0
<LI>Microsoft Windows NT Workstation version 4.0
</UL> 
<P>
Disk performance counters, the Diskperf service, must be started prior
to the Performance Monitor in order to monitor disk performance. Disk
performance counters are disabled by default.
<P>
The impact of the Performance Monitor on the overall performance of a
system is minimal. However, the counters (which are necessary to
monitor disk performance) will have a slight impact to the overall
system performance. For this reason, these counters are not started by
default. Therefore, for best system performance, they should be
started prior to beginning disk performance monitoring and then
terminated.
<P>
To enable the Diskperf service, use either of the following two
procedures.
<P>
<P><h3>Procedure 1</h3>
 

<OL><P><LI>Choose the Command Prompt icon in the Main group.

<P><LI>At the command prompt, type "DISKPERF -Y" (without the quotation
   marks) and press ENTER. You will receive the following message:
<P>
<P><PRE>      Disk performance counters on this system are now set to start at
      boot. This change will take effect after the system is rebooted.
</PRE><P>
</OL><h3>Procedure 2</h3>
 

<OL><P><LI>Start Control Panel, choose Devices and change the startup
   value of Diskperf to Boot.

<P><LI>Restart your computer.
<P>
</OL>Once the system is restarted, disk performance monitoring is enabled.
After monitoring disk performance, you should turn off the Diskperf
service.
<P>
Use to following command to disable the Diskperf service:
<P>
<PRE>   DISKPERF -N -- This will set the disk performance counters to
   never start. For best overall system performance issue this command
   from the command prompt after completing disk performance monitoring.

</PRE></OL>Other helpful commands that may be issued from the command prompt to
assist in disk performance monitoring are:
<P>
<PRE>   DISKPERF /? -- Displays help for the DISKPERF command.

   DISKPERF -- Displays the current status of the disk
   performance counters along with help for the DISKPERF command.

   Diskperf -YE, the E only allows monitoring of NT Software stipped disk
   sets not hardware arrays.


</PRE>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional query words: prodnt physicaldisk physical disk object<BR>
4.00 counter zero<BR>
Keywords          : ntconfig NTSrvWkst kbenv<BR>
Version           : 3.1 3.5 3.51 4.0<BR>
Platform          : winnt<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  January 30, 1998</FONT>
	<BR>
	<A HREF="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
