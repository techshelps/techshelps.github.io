

<HTML>
<HEAD>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Browse List Contains Obsolete Domain Names </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q138272">
<META NAME="KBModify" CONTENT="1997/03/21">
<META NAME="KBCreate" CONTENT="1995/10/16">
<META NAME="Keywords" CONTENT="kbbug3.51 kbother NTSrvWkst nttcp">
<META NAME="KBArea" CONTENT="Support; KB; winnt, crossnet, iis">
<META NAME="Description" CONTENT="  When you browse the network, only incomplete browse lists appear or the browse list contains domains that are no longer valid.  Incomplete browse list example:     On a network with 2000 domains (2000 is the maximum number of domains    that Browse...">
<META NAME="Product" CONTENT="Windows NT">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QA5V,QDNQ,QBWT,QALB,QBSO,QA9A,QBWD,QBWP,QAR4,QACK,QAE1,QBXT,QBW3,QATP,QAM8 V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>Browse List Contains Obsolete Domain Names</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  March 21, 1997</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q138272</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
 
The information in this article applies to:

<UL><LI>Microsoft Windows NT Server versions 3.51
</UL> 
<P>
<P><h2>SYMPTOMS</h2>
 
<P>
When you browse the network, only incomplete browse lists appear or the
browse list contains domains that are no longer valid.
<P>
Incomplete browse list example:
<P>
<PRE>   On a network with 2000 domains (2000 is the maximum number of domains
   that Browser can accommodate) less than 2000 domains appear on the
   browse list.

</PRE><h2>CAUSE</h2>
 
<P>
You are stopping the WINS service daily to do off-line compaction
(Jetpack).
<P>
The WINS service triggers a scavenge of obsolete records if the time that
elapsed from the WINS service startup has reached half of the renewal
interval. The renewal interval is set to 96 hours by default, therefore the
scavenge is performed after the WINS service runs continuously for 48
hours. If you stop the WINS service daily, that is every 24 hours, the
scavenger never gets a chance to run and the domain records are never
scavenged. Therefore, obsolete domains appear in the browser list and in
the WINS Admin tool with old expiration dates, but still marked ACTIVE.
<P>
<P><h2>WORKAROUND</h2>
 
<P>
To work around this problem, enterprise Administrators have the option to
do one or more of the following:

<UL><LI>Decrease the Renewal and Extinction intervals.

<LI>Leave the WINS server up longer than the half the renewal interval.

<LI>Manually initiate scavenging through the WINS Admin tool.

<LI>Use an AT scheduler script to trigger the scavenge with WINSCL.EXE.
   For additional information on WINSCL.EXE read the section titled The
   WINSCL.EXE Command Line Utility below.

<LI>In large enterprises, daily jetpacking of the WINS database may be
   necessary to keep the size of the WINS.MDB from becoming excessively
   large; this also helps maintain query performance and database
   integrity. Currently, the Jet database engine under WINS only supports
   off-line compaction.
<P>
</UL><h3>The WINSCL.EXE Command Line Utility</h3>
 
<P>
WINSCL.EXE is a command line utility for WINS database management. It is
included in the Windows NT 3.51 Resource Kit. A sample script,
SCAVWINS.CMD, is given below. You should replace the xxx.xxx.xxx.xxx in the
fifth line of the following script with the appropriate IP address for your
server:
<P>
<PRE>   @echo off
   REM Script for Initiating Scanvenging on WINS
   REM

   REM Local WINS IP address
   set winsip=xxx.xxx.xxx.xxx

   REM directory where winscl.exe is located
   set homedir=%systemroot%\system32\wins

   REM Create init file
   echo 1 &gt;%homedir%\scav.in
   echo %winsip% &gt;&gt;%homedir%\scav.in
   echo SC &gt;&gt;%homedir%\scav.in
   echo EX &gt;&gt;%homedir%\scav.in

   REM execute winscl
   %homedir%\winscl &lt;%homedir%\scav.in &gt;%homedir%\scavwins.log

</PRE><h2>STATUS</h2>
 
<P>
Microsoft has confirmed this to be a problem in Windows NT version 3.51. A
fix to this problem is in development, but has not been regression-tested
and may be destabilizing in production environments. Microsoft does not
recommend implementing this fix at this time. Contact Microsoft Product
Support Services for more information on the availability of this fix.
<P>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional query words: prodnt<BR>
Keywords            : kbbug3.51 kbother NTSrvWkst nttcp<BR>
Version             : 3.51<BR>
Platform            : WinNT<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  March 21, 1997</FONT>
	<BR>
	<A HREF="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
