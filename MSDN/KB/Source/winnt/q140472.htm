

<HTML>
<HEAD>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>PRB: Limited Virtual Memory Error When Starting Windows NT </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q140472">
<META NAME="KBModify" CONTENT="1997/05/01">
<META NAME="KBCreate" CONTENT="1995/11/29">
<META NAME="Keywords" CONTENT="kbenv kbprb">
<META NAME="KBArea" CONTENT="Support; KB; winnt, crossnet, iis">
<META NAME="Description" CONTENT="  Around the time of the logon prompt after starting Windows NT, you may see the following error message:     Limited Virtual Memory    Your system is running without a properly sized paging file.    Please use the virtual memory option of the System...">
<META NAME="Product" CONTENT="Windows NT">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QBWP,QBWG,QAI5,QBXB,QATJ,QBW7,QAFI,QAB4,QAA1,QABI,QAIJ,QDI2,QBWS,QAAP,QAK7 V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>PRB: Limited Virtual Memory Error When Starting Windows NT</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  May 1, 1997</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q140472</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
3.10 3.50 3.51 4.00
WINDOWS
kbenv kbprb
<P>
 
The information in this article applies to:

<UL><LI>Microsoft Windows NT operating system version 3.1
<LI>Microsoft Windows NT Advanced Server version 3.1
<LI>Microsoft Windows NT Workstation versions 3.5, 3.51 and 4.0
<LI>Microsoft Windows NT Server versions 3.5, 3.51 and 4.0
</UL> 
<P>
<P><h2>SYMPTOMS</h2>
 
<P>
Around the time of the logon prompt after starting Windows NT, you may see
the following error message:
<P>
<PRE>   Limited Virtual Memory
   Your system is running without a properly sized paging file.
   Please use the virtual memory option of the System applet in
   the Control Panel to create a paging file or to increase the
   initial size of your paging file.

</PRE>Repeated attempts to change the size of the page file fail to eliminate
this error message from appearing as Windows NT starts.
<P>
<P><h2>CAUSE</h2>
 
<P>
Windows NT is not able to correctly gain access to (or open with proper
permissions) the Pagefile.sys file. If the partition is NTFS, it may be
because the permissions are not set up correctly. By default, Windows NT
sets up the root directory to give everyone full rights. When this right is
changed, you may see the error message because the System may not have
proper access to Pagefile.sys. This can happen when Administrators try to
limit access to the drive on which Windows NT is installed. The System must
have access to read the directory. If the System does not have permission
to read the directory, it will not be able to access the file even if the
System has full access rights on the file itself.
<P>
<P><h2>RESOLUTION</h2>
 
<P>
The best solution is to add the user System with full access to the root
directory. By default, File Manager will update all the files in whatever
directory that is being modified to give them the same permissions, so it
will give the System full access to the directory and the Pagefile.sys
file.
<P>
Usually this is good because you would expect all the files in that
directory to have the same permission. But if you try to set the directory
to have fewer permissions than a file in that directory has, at some time
in the future, you may accidentally overwrite those broader permissions
with the lesser directory permissions. This can happen by simply viewing
the permissions for the directory and clicking the OK button. As stated
above, the default setting is to replace permissions on files in the
directory, so this replaces the greater permissions; in this case, it gives
the System Read access on the directory but Full access on the Pagefile.sys
file itself.
<P>
<P><h3>Editing the Registry as a Workaround</h3>
 
<P>
To work around this, you can edit the registry. However, this can be
dangerous.
<P>
WARNING: Using the Registry Editor incorrectly can cause serious, system-
wide problems that may require you to reinstall Windows NT to correct them.
Microsoft cannot guarantee that any problems resulting from the use of the
Registry Editor can be solved. Use this tool at your own risk.

<OL><P><LI>Locate or create a directory for the Pagefile.sys file. This could be
   the Winnt directory, which by default should have System Full access.

<P><LI>Make sure that this directory has System Full access and that all
   previous directories including the root have at least System Read
   access.

<P><LI>Start Regedt32. Select the HKEY_LOCAL_MACHINE on Local Machine subtree,
   and search for the following subkey:
<P>
   SYSTEM\CurrentControlSet\Control\Session Manager\Memory Management

<P><LI>On the right side of the window, choose the PagingFiles :REG_MULTI_SZ:
   value.

<P><LI>Either double-click it, or from the Edit menu, choose Multi String.

<P><LI>Edit the string, and insert the full path for where you would like the
   Pagefile.sys file to reside. For example, change C:\Pagefile.sys 44 100
   to C:\Winnt\Pagefile.sys 44 100. (Here 44 refers to the minimum pagefile
   size and 100 the maximum.)

<P><LI>Exit Regedt32.

<P><LI>Restart the computer, and check to make sure Pagefile.sys appears in the
   correct location. Then delete the Pagefile.sys file in the root
   directory as this file is no longer be used.
<P>
</OL><h2>STATUS</h2>
 
<P>
This behavior is by design.
<P>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional reference words: 3.10 3.50<BR>
KBCategory: kbenv kbprb<BR>
KBSubcategory:<BR>
Keywords            : kbenv kbprb<BR>
Version             : 3.10 3.50 3.51 4.00<BR>
Platform            : WINDOWS<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  May 1, 1997</FONT>
	<BR>
	<A HREF="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
