

<HTML>
<HEAD>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>How to Automatically Log On After an Unattended Setup </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q157361">
<META NAME="KBModify" CONTENT="1998/02/04">
<META NAME="KBCreate" CONTENT="1996/10/10">
<META NAME="Keywords" CONTENT="nthowto ntsetup NTSrvWkst kbsetup kbfaq">
<META NAME="KBArea" CONTENT="Support; KB; winnt, crossnet, iis">
<META NAME="Description" CONTENT="  This article describes how to automatically log on to a Windows NT 4.0- based computer after an unattended Setup. By default, Setup restarts the computer and waits for user input at the Press CTRL+ALT+DELETE To Log On dialog box after an unattended...">
<META NAME="Product" CONTENT="Windows NT">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QBWP,QAI5,QAA1,QDI2,QDIZ,QBW7,QAUJ,QAFI,QBXT,QA5V,QAIB,QABA,QA2S,QAUR,QAM2 V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>How to Automatically Log On After an Unattended Setup</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  February 4, 1998</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q157361</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
 
The information in this article applies to:

<UL><LI>Microsoft Windows NT Server version 4.0
<LI>Microsoft Windows NT Workstation version 4.0
</UL> 
<P>
<P><h2>SUMMARY</h2>
 
<P>
This article describes how to automatically log on to a Windows NT 4.0-
based computer after an unattended Setup. By default, Setup restarts the
computer and waits for user input at the Press CTRL+ALT+DELETE To Log On
dialog box after an unattended Setup. The method in this article allows
Windows NT 4.0 to automatically process the logon using the Administrator
account to provide access to the desktop without user intervention. Note
that this works only on the initial logon after Windows NT 4.0 Setup is
finished.
<P>
<P><h2>MORE INFORMATION</h2>
 
<P>
To enable automatic logon during unattended Setup, follow these steps:

<OL><P><LI>Create a new share on a network server and then copy the i386 folder
   (or appropriate platform folder) from the Windows NT 4.0 CD-ROM to
   the new share.

<P><LI>Using any text editor (such as Notepad), add the following entry to
   the [Unattended] section of the Unattend.txt file:
<P>
<P><PRE>      OEMPreinstall = Yes
</PRE>
<P><LI>Add the following entry to the [GUIUnattended] section of the
   Unattend.txt file:
<P>
<P><PRE>      OEMBlankAdminPassword = 1
</PRE><P>
   For additional information about parameters for the Unattend.txt file,
   please see the following article in the Microsoft Knowledge Base:
<P>
<P><PRE>      ARTICLE-ID: <B><A HREF="../WINNT/Q155197.htm">Q155197</A></B>
<PRE></PRE>      TITLE     : Unattended Setup Parameters for Unattend.txt File

</PRE><P><LI>Save and then close the Unattend.txt file.

<P><LI>Create a new folder named $OEM$ in the share you created in step 1.

<P><LI>In the $OEM$ folder, create a file with the following entries. Save the
   file as &lt;filename&gt;.inf, where &lt;filename&gt; is your choice of names, for
   example, Mychange.inf.
<P>
<P><PRE>      [Version]
      Signature = "$Windows NT$"
</PRE><P>
<P><PRE>      [DefaultInstall]
      AddReg = AddReg
</PRE><P>
<P><PRE>      [AddReg]
      HKLM,"SOFTWARE\Microsoft\Windows NT\CurrentVersion
<PRE></PRE>         \Winlogon","DefaultUserName",,"administrator"
      HKLM,"SOFTWARE\Microsoft\Windows NT\CurrentVersion
         \Winlogon","DefaultPassword",,""
      HKLM,"SOFTWARE\Microsoft\Windows NT\CurrentVersion
         \Winlogon","AutoAdminLogon",,"1"

   NOTE: These lines should be continuous. They were wrapped and indented
   for ease of readability.

   The below line is used to control the default Domain/Machine name to
   logon too. If using unattended setup to JOIN a domain. The default is
   the domain name. Add this line if you want to logon to the machine
   name, for example, machine name is MACHINENAME:

      HKLM,"SOFTWARE\Microsoft\Windows
         NT\CurrentVersion\Winlogon","DefaultDomainName",,"Machinename"

</PRE><P><LI>In the $OEM$ folder, create a file named Cmdlines.txt. This file should
   contain the following entries including the quotation marks surrounding
   the entry:
<P>
<P><PRE>      [Commands]
      "rundll32 setupapi,InstallHinfSection DefaultInstall 128
<PRE></PRE>         .\&lt;filename&gt;.inf"

   NOTE: This line should be continuous. It was wrapped and indented for
   ease of readability. The .\ stands for current directory and there
   should be a space after 128.

   Make sure to replace &lt;filename&gt; in this line with the name of the file
   you created in step 6.
</PRE>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional query words: 4.00 deployment sysdiff unattend<BR>
Keywords          : nthowto ntsetup NTSrvWkst kbsetup kbfaq<BR>
Version           : 4.0<BR>
Platform          : winnt<BR>
Issue type        : kbhowto<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  February 4, 1998</FONT>
	<BR>
	<A HREF="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
