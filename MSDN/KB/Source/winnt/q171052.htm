

<HTML>
<HEAD>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Software FT Sets Are Not Supported in Microsoft Cluster Server </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q171052">
<META NAME="KBModify" CONTENT="1998/03/19">
<META NAME="KBCreate" CONTENT="1997/07/07">
<META NAME="Keywords" CONTENT="NTSrv kbsetup">
<META NAME="KBArea" CONTENT="Support; KB; winnt, crossnet, iis">
<META NAME="Description" CONTENT="  The software fault tolerance contained within Windows NT Server (FTDISK) will not be supported in Microsoft Cluster Server (MSCS) 1.0 for cluster disk resources on the cluster shared SCSI bus. This will include mirror sets, volume sets, and stripe ...">
<META NAME="Product" CONTENT="Windows NT">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Security" CONTENT="PUBLIC ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QBWP,QAC9,QBXS,QBVV,QA3A,QAYY,QA7T,QDIK,QAIM,QBVX,QAAW,QA0K,QAJH,QBWS,QDL9 V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>Software FT Sets Are Not Supported in Microsoft Cluster Server</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  March 19, 1998</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q171052</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
 
The information in this article applies to:

<UL><LI>Microsoft Windows NT Server, Enterprise Edition version 4.0
   - Microsoft Cluster Server
</UL> 
<P>
<P><h2>SUMMARY</h2>
 
<P>
The software fault tolerance contained within Windows NT Server (FTDISK)
will not be supported in Microsoft Cluster Server (MSCS) 1.0 for cluster
disk resources on the cluster shared SCSI bus. This will include mirror
sets, volume sets, and stripe sets with and without parity. FTDISK will
continue to be supported for local disk resources.
<P>
This includes local disk resources on Windows NT Server Enterprise Edition
servers using MSCS 1.0. Examples of using FTDISK for local disk resources
would include creating an FTDISK RAID 5 stripe set that is used for non-
cluster purposes on a server. For example, a customer could choose an
FTDISK volume for an application that was not used on a cluster. For MSCS
disk resources on a shared SCSI bus, however, the only RAID supported by
Microsoft is hardware level RAID.
<P>
The two key facts about this situation are:

<UL><LI>MSCS still supports RAID on all disks in a cluster, to protect your data
   in the event of a disk failure. However, disks on a shared SCSI bus must
   be protected by hardware RAID, while disks that are local to each server
   may be protected by either hardware or software RAID.

<LI>Windows NT Server software RAID is still fully supported for all disks
   connected to a non-clustered server. The technical reasons that prevent
   Microsoft from supporting software RAID on shared SCSI disks in a
   cluster are uniquely related to the way MSCS does server failover.
<P>
</UL><h2>MORE INFORMATION</h2>
 
<P>
There are two key technical reasons why FTDISK is not supported on the
shared SCSI bus in Microsoft Cluster Server 1.0.
<P>
The first reason is that RAID metadata cannot be reliably recovered by MSCS
in all server failover scenarios. FTDISK stores metadata information about
all disk members in the registry on the local machine. (The location of
this information is HKEY_LOCAL_MACHINE\System\Disk.) Therefore, the only
way to get to the disk metadata is to mount the file system on the disk
members. This presents no difficulty with non-clustered servers because
they, by default, always have access to local storage devices. However,
within a cluster, based on specific failure and boot sequences, there are
occasional states where a computer is unable to start with all of the
volumes necessary for the FTDISK diskset. In such a case, a data set could
be orphaned or rolled to a previous version, because the information needed
to identify the disk ownership is contained on the disk that is to be
mounted. In a cluster it would be theoretically possible for server
failures to result in unknown states for disks managed by the current
FTDISK. The inability to safely recover RAID disk state until the disks
were already brought back online could also expose the disk members to the
possibility of data corruption, data loss, stale data, and other problems
for a given data volume.
<P>
The other technical issue preventing support of the current FTDISK for
shared SCSI disks in a cluster is the lack of a fully automated method of
recovery from disk problems. For example, in the event of a failover,
CHKDSK would need to be run on the FT volume to assess the integrity of the
volume itself. At this time, there is no automatic means of doing this,
leaving the responsibility of running CHKDSK to the user.
<P>
Microsoft intends to address both of these issues in a future version of
FTDISK that is enhanced to accommodate MSCS failover processing. At that
time, software RAID will be supported for disks on a shared SCSI bus within
a cluster.
<P>
For additional information, please see the following articles in the
Microsoft Knowledge Base:
<P>
<PRE>   ARTICLE-ID: <B><A HREF="../WINNT/Q160963.htm">Q160963</A></B>
   TITLE     : CHKNTFS.EXE: What You Can Use It For

   ARTICLE-ID: <B><A HREF="../WINNT/Q158675.htm">Q158675</A></B>
   TITLE     : How to Cancel CHKDSK After It Has Been Scheduled

</PRE>The above information is only relevant to implementing software fault
tolerance in Microsoft Cluster Server 1.0. The current FTDISK software RAID
remains a supported, reliable, and excellent disk protection solution for
Windows NT Server when running on a single server.
<P>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional query words: MSCS<BR>
Keywords          : NTSrv kbsetup<BR>
Version           : WinNT:4.0<BR>
Platform          : winnt<BR>
Issue type        : kbinfo<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  March 19, 1998</FONT>
	<BR>
	<A HREF="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
