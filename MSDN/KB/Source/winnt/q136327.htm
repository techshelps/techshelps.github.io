

<HTML>
<HEAD>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>How to Enable Autologon During an Automated Setup </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q136327">
<META NAME="KBModify" CONTENT="1997/04/11">
<META NAME="KBCreate" CONTENT="1995/09/06">
<META NAME="Keywords" CONTENT="kbsetup ntsetup">
<META NAME="KBArea" CONTENT="Support; KB; winnt, crossnet, iis">
<META NAME="Description" CONTENT="  This article describes how to enable autologon for an automated Windows NT Setup. Page 97 of the  Windows NT 3.5 Resource Kit, Volume 1  describes a method to add registry entries by modifying Txtsetup.sif. However, page 96 notes that during a fres...">
<META NAME="Product" CONTENT="Windows NT">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QBWP,QAA1,QDI2,QAI5,QDIZ,QBKX,QA0B,QBW7,QDJ2,QAY0,QAM2,QAC1,QDNL,QDL9,QBWQ V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>How to Enable Autologon During an Automated Setup</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  April 11, 1997</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q136327</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



<P><h3> </h3>
 
The information in this article applies to:

<UL><LI>Microsoft Windows NT operating system version 3.1
<LI>Microsoft Windows NT Advanced Server version 3.1
<LI>Microsoft Windows NT Workstation versions 3.5 and 3.51
<LI>Microsoft Windows NT Server versions 3.5 and 3.51
</UL> 
<P>
<P><h2>SUMMARY</h2>
 
<P>
This article describes how to enable autologon for an automated Windows NT
Setup. Page 97 of the "Windows NT 3.5 Resource Kit, Volume 1" describes a
method to add registry entries by modifying Txtsetup.sif. However, page 96
notes that during a fresh installation of Windows NT, the registry hives
are copied in their entirety to the new registry. Only during an upgrade of
Windows NT are portions of the template hives copied to the existing
registry as described on page 97 in the section "Using the TXTSETUP.SIF
File to Update the Registry."
<P>
<P><h2>MORE INFORMATION</h2>
 
<P>
The following entries in the registry for winlogon need to be set to enable
autologon:
<P>
DefaultUserName
DefaultPassword
AutoAdminlogon
<P>
<P><h3>Unattended Setup:</h3>
 
<P>
The INITIAL.INF file needs to be modified as follows to set these values:
<P>
NOTE: A network or local hard disk installation is required because the
INITIAL.INF file can not be modified and saved to the compact disc.

<OL><P><LI>Expand INITIAL.IN_ to INITIAL.INF

<P><LI>Rename INITIAL.IN_ INITIAL.OR_

<P><LI>Change INITIAL.INF to read as follows:
<P>
   [Install-Win-Ini-Alter-1]
   ReplaceIniKeyValue "Win.ini", Winlogon, DefaultUserName, administrator
   ReplaceIniKeyValue "Win.ini", Winlogon, DefaultPassword, ""
   ReplaceIniKeyValue "Win.ini", Winlogon, AutoAdminLogon,"1"
<P>
<P>
</OL><h3>Computer Profile Setup:</h3>
 
<P>
If you have not run Uplodprf.exe yet, you can modify ~Profile.inf in the
CPS directory. If you have already uploaded your profile, you should
modify %Systemroot\System32\Profil.inf on the distribution system.
<P>
[Install-Win-Ini-Alter]
;ReplaceIniKeyValue "Win.ini", Winlogon, DefaultUserName, $(!STF_USERNAME)
<P>
ReplaceIniKeyValue "Win.ini", Winlogon, DefaultUserName, "Administrator"
ReplaceIniKeyValue "Win.ini", Winlogon, DefaultPassword, ""
ReplaceIniKeyValue "Win.ini", Winlogon, AutoAdminLogon,"1"
<P>
Ifstr(i) $(!STF_PRODUCT) == "WINNT"
<PRE>    ReplaceIniKeyValue "Win.ini", DeskTop,  Wallpaper, "winnt.bmp"
</PRE></OL>Else
<PRE>    ReplaceIniKeyValue "Win.ini", DeskTop,  Wallpaper, "lanmannt.bmp"
</PRE>Endif
exit
<P>
NOTE: For more information on Unattended and Computer Profile Setup, read
Volume 1, Chapter 3 of the Windows NT Resource Kit.
<P>
For additional information, please see the following article(s) in the
Microsoft Knowledge Base:
<P>
<PRE>   ARTICLE-ID: <B><A HREF="../WINNT/Q157361.htm">Q157361</A></B>
   TITLE     : How to Automatically Log On After an Unattended Setup
</PRE>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional query words: prodnt 3.1 3.5 3.51<BR>
Keywords            : kbsetup ntsetup<BR>
Version             : 3.1 3.5 3.51<BR>
Platform            : WinNT<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  April 11, 1997</FONT>
	<BR>
	<A HREF="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
