

<HTML>
<HEAD>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Error Message: User32.dll Was Relocated in Memory... </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q165152">
<META NAME="KBModify" CONTENT="1997/09/04">
<META NAME="KBCreate" CONTENT="1997/03/13">
<META NAME="Keywords" CONTENT="ntsetup kberrmsg kbsetup">
<META NAME="KBArea" CONTENT="Support; KB; winnt, crossnet, iis">
<META NAME="Description" CONTENT="  During Setup, you may receive the following error message:     User32.dll was relocated in memory. The application will not run    properly. The relocation occurred because the DLL    C:\WINNT\SYSTEM32\RPCRT4.dll occupied an address range reserved ...">
<META NAME="Product" CONTENT="Windows NT">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QBWP,QAA1,QDL9,QBWO,QBWN,QDI2,QAB4,QBWQ,QAY2,QAPN,QANE,QDNN,QAFI V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>Error Message: User32.dll Was Relocated in Memory...</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  September 4, 1997</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q165152</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
 
The information in this article applies to:

<UL><LI>Microsoft Windows NT Workstation version 4.0
<LI>Microsoft Windows NT Server version 4.0
</UL> 
<P>
<P><h2>SYMPTOMS</h2>
 
<P>
During Setup, you may receive the following error message:
<P>
<PRE>   User32.dll was relocated in memory. The application will not run
   properly. The relocation occurred because the DLL
   C:\WINNT\SYSTEM32\RPCRT4.dll occupied an address range reserved for
   Windows NT System DLL's. The vendor supplying the DLL should be
   contacted for a new DLL.

</PRE>When you click OK, the following error message may occur:
<P>
<PRE>   An error has been encountered that prevents setup from continuing.
   Setup was unable to initialize network installation components. The
   specific error code is 2.

</PRE>When you click OK, the computer reboots and the sequence is repeated
continuously.
<P>
<P><h2>CAUSE</h2>
 
<P>
During an upgrade from Windows NT 3.51 to Windows NT 4.0, the Rpcrt4.dll
file may not be upgraded. If for some reason this file is not updated to
the 4.0 version and the User32.dll file is updated to the 4.0 version, the
files conflict in memory. Rpcrt4.dll loads in an area of memory in which
User32.dll tries to load. User32.dll is then relocated in memory but
fails.
<P>
The Windows NT 4.0 version has the following properties:
<P>
<PRE>   11/18/96  01:38a 302,352 rpcrt4.dll

</PRE>The Windows NT 3.51 version has the following  properties:
<P>
<PRE>   05/26/95  10:57a 229,648 rpcrt4.dll

</PRE><h2>RESOLUTION</h2>
 
<P>
To resolve this problem, use one of the following methods.
<P>
<P><h3>Method 1</h3>
 
<P>
If you have access to another computer with Windows NT 4.0, copy the
Rpcrt4.dll file from the %SystemRoot%\system32\drivers folder on the other
computer to the corresponding folder on your computer.
<P>
NOTE: To use this method, Windows NT must be installed on a FAT partition
and you must be able to access the hard disk using MS-DOS, Windows 95, or
a boot disk.
<P>
<P><h3>Method 2</h3>
 
<P>
If you can dual-boot Windows NT and Windows 95 on your computer, follow
these steps:

<OL><P><LI>Start Windows 95.

<P><LI>From a command prompt in Windows 95, expand the Rpcrt4.dll file
   from the I386 folder on the Windows NT 4.0 CD-ROM to the
   %SystemRoot%\system32\drivers folder of your original Windows NT
   installation. For example, type the following command:
<P>
<P><PRE>      expand rpcrt4.dl_ %systemroot%\system32\drivers\rpcrt4.dll
</PRE><P>
   NOTE: To properly expand files from the Windows NT CD-ROM, you must use
   the Expand.exe utility included with Windows NT. The Windows NT
   Expand.exe utility can only be run from a command prompt in a 32-bit
   environment such as Microsoft Windows 95 or Windows NT.

<P><LI>Restart your computer and complete the Windows NT installation.
<P>
</OL>NOTE: To use this method, Windows NT must be installed on a FAT partition.
<P>
<P><h3>Method 3</h3>
 

<OL><P><LI>Install Windows NT to a different folder on your hard drive.

<P><LI>Copy the Rpcrt4.dll file from the %SystemRoot%\system32\drivers folder
   in the new Windows NT installation to the corresponding folder in the
   original installation.

<P><LI>Restart your computer and complete the original Windows NT
   installation.

<P><LI>When the upgrade process is complete, remove the temporary Windows NT
   installation, and then delete any entries in the Boot.ini file that are
   entered for that installation.
<P></OL>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional query words: error 4.00<BR>
Keywords          : ntsetup kberrmsg kbsetup<BR>
Version           : 4.0<BR>
Platform          : winnt<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  September 4, 1997</FONT>
	<BR>
	<A HREF="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
