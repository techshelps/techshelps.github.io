

<HTML>
<HEAD>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Setup Err Msg: This HAL.DLL Requires an MPS Version 1.1 </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q123732">
<META NAME="KBModify" CONTENT="1997/03/25">
<META NAME="KBCreate" CONTENT="1994/12/08">
<META NAME="Keywords" CONTENT="kbsetup ntsetup">
<META NAME="KBArea" CONTENT="Support; KB; winnt, crossnet, iis">
<META NAME="Description" CONTENT="  When you install Windows NT on a multiprocessor computer, the following error message appears when the computer reboots after the character-based portion of Setup:     HAL: Bad APIC version. HAL: This HAL.DLL requires an MPS version 1.1    system. ...">
<META NAME="Product" CONTENT="Windows NT">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QBWP,QAA1,QDI2,QDIO,QDIZ,QDKW,QAV1,QAV0,QAB4,QAJG,QBVV,QAR4,QDL9,QBWQ,QBWO V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>Setup Err Msg: This HAL.DLL Requires an MPS Version 1.1</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  March 25, 1997</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q123732</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



<P><h3> </h3>
 
The information in this article applies to:

<UL><LI>Microsoft Windows NT Workstation versions 3.5, 3.51, and 4.0
<LI>Microsoft Windows NT Server versions 3.5, 3.51, and 4.0
</UL> 
<P>
<P><h2>SYMPTOMS</h2>
 
<P>
When you install Windows NT on a multiprocessor computer, the following
error message appears when the computer reboots after the character-based
portion of Setup:
<P>
<PRE>   HAL: Bad APIC version. HAL: This HAL.DLL requires an MPS version 1.1
   system. Replace HAL.DLL which the correct HAL for this system. The
   system is halting.

</PRE><h2>CAUSE</h2>
 
<P>
This error message occurs when:

<UL><LI>A computer attempts to boot with a symmetric multi-processing (SMP)
   hardware abstraction layer (HAL) on a computer with Multi-Processor
   Specification (MPS) architecture that currently has a single
   processor.

<LI>A computer that is not listed on the Windows NT Hardware Compatibility
   List (HCL) is using an ASUS dual-processor motherboard with only one
   processor present. The Microsoft Windows NT Hardware Compatibility
</UL>Group
<PRE>   certifies complete systems, not individual motherboards.

</PRE><h2>WORKAROUND</h2>
 
<P>
To work around this problem:

<UL><LI>Install Windows NT using Custom Setup and verify that the computer type
   is not identified as an MPS machine. If setup detects the system as an
   MPS machine, change the machine type to AT Compatible.
<P>
   -or-

<LI>Edit the TXTSETUP.SIF file on the setup boot disk. In the [HAL]
   section change:
<P>
<PRE>      mps11_mp    = halmps.dll  ,2,hal.dll

   to read:

      mps11_mp    = hal.dll  ,2,hal.dll

   This forces the standard ISA/EISA HAL to be loaded.

   -or-

</PRE><LI>If you are running Windows NT 3.51, select a different kernel and
   HAL when you boot Windows NT. For additional information, see the
   following article in the Microsoft Knowledge Base:
<P>
<P><PRE>      ARTICLE-ID: <B><A HREF="../WINNT/Q132512.htm">Q132512</A></B>
<PRE></PRE>      TITLE     : Selecting a Computer Type Before Windows NT Setup Begins

</PRE></UL>If a second processor is added later, you may need to manually copy and
rename the correct HAL file.
<P>
If you are using a computer (not listed on the Windows NT HCL) that has an
ASUS dual-processor motherboard with only one processor present, you can
work around this problem by setting the J14 jumper (on the motherboard)
for
a dual-processor computer, even though the computer has only one
processor.
Executive)"
dialog
<P>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional query words: text prodnt<BR>
Keywords            : kbsetup ntsetup<BR>
Version             : 3.5 3.51 4.0<BR>
Platform            : WinNT<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  March 25, 1997</FONT>
	<BR>
	<A HREF="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
