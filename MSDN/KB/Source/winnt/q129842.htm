

<HTML>
<HEAD>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Maximum Number of Send and Receive Packets Used By NBF </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q129842">
<META NAME="KBModify" CONTENT="1997/03/25">
<META NAME="KBCreate" CONTENT="1995/05/08">
<META NAME="Keywords" CONTENT="kbnetwork ntprotocol NTSrvWkst">
<META NAME="KBArea" CONTENT="Support; KB; winnt, crossnet, iis">
<META NAME="Description" CONTENT="  The NBF (NetBEUI) transport uses SendPacketPoolSize and ReceivePacketPoolSize parameters to limit the maximum number of send and receive packets it dynamically allocates. If send and receive packet exhausted errors occur frequently, you may need to...">
<META NAME="Product" CONTENT="Windows NT">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QAKD,QAKC,QBVR,QAHE,QAH6,QBJZ,QAM9,QALX,QBI8,QBWP,QBC6,QAU3,QAMR,QAXC,QAY2 V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>Maximum Number of Send and Receive Packets Used By NBF</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  March 25, 1997</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q129842</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



<P><h3> </h3>
 
The information in this article applies to:

<UL><LI>Microsoft Windows NT operating system version 3.1
<LI>Microsoft Windows NT Advanced Server version 3.1
<LI>Microsoft Windows NT Workstation version 3.5
<LI>Microsoft Windows NT Server version 3.5
<LI>Microsoft Windows NT Server version 4.0
<LI>Microsoft Windows NT Workstation version 4.0
</UL> 
<P>
<P><h2>SUMMARY</h2>
 
<P>
The NBF (NetBEUI) transport uses SendPacketPoolSize and
ReceivePacketPoolSize parameters to limit the maximum number of send and
receive packets it dynamically allocates. If send and receive packet
exhausted errors occur frequently, you may need to increment the values of
these parameters.
<P>
<P><h2>MORE INFORMATION</h2>
 
<P>
Receive packets are used by NBF to handle the incoming frames. Send packets
are used for connection oriented data. SendPacketPoolSize and
ReceivePacketPoolSize control the maximum number of send and receive
packets NBF can allocate at one time. The default value of
SendPacketPoolSize is 100 and the default value of ReceivePacketPoolSize is
30.
<P>
Under normal load, these parameters do not need to be changed. In some
cases, these parameters need to be adjusted. For example, too many reads
and writes are carried out by client workstations, and you need to optimize
network throughput. You may also want to change these parameters if a
workstation cannot connect to a server when the network is under heavy
load.
<P>
To see if the values of these two parameters need to be modified:

<OL><P><LI>Run Performance Monitor.

<P><LI>Choose NetBEUI Resource.
<P>
   The followig three counters are available in the Counter list box:
<P>
<P><PRE>      Times Exhausted
      Used Average
      Used Maximum
</PRE><P>
   The Instance list box shows counters for each net board installed.

<P><LI>To see the number of times ReceivePackets exhausted, select Times
   exhausted in the Counter list box and \Device\NbfAdopter ==&gt;Receive
   Packet (23).
<P>
</OL>To add or modify the SendPacketPoolSize or ReceivePacketPoolSize
parameters:
<P>
The following details steps to take to add /modify the
WARNING: Using Registry Editor incorrectly can cause serious, system-wide
problems that may require you to reinstall Windows NT to correct them.
Microsoft cannot guarantee that any problems resulting from the use of
Registry Editor can be solved. Use this tool at your own risk.

<OL><P><LI>Run Registry Editor (REGEDT32.EXE).

<P><LI>From the HKEY_LOCAL_MACHINE subtree, go to the following key:
<P>
<P><PRE>      \Services\NBF\Parameters
</PRE>
<P><LI>If the SendPacketPoolSize or ReceivePacketPoolSize key exists, choose
   Edit Value from the Edit menu and change the value as needed.

<P><LI>If the SendPacketPoolSize or ReceivePacketPoolSize key does not
   exist, choose Add Key from the Edit menu and add the following
   information:
<P>
<P><PRE>      Value Name: SendPacketPoolSize
      Data Type:  REG_DWORD
<PRE></PRE>      Value:      Insert the desired value
</PRE>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional query words: prodnt<BR>
Keywords            : kbnetwork ntprotocol NTSrvWkst<BR>
Version             : 3.1 3.5 4.0<BR>
Platform            : WinNT<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  March 25, 1997</FONT>
	<BR>
	<A HREF="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
