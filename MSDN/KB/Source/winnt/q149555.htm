

<HTML>
<HEAD>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Winlogon &amp; PerfMon Rpc Too Busy or Access Violation </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q149555">
<META NAME="KBModify" CONTENT="1997/09/16">
<META NAME="KBCreate" CONTENT="1996/04/04">
<META NAME="Keywords" CONTENT="kbbug3.51 kbfix3.51 ntnetserv ntstop kbnetwork">
<META NAME="KBArea" CONTENT="Support; KB; winnt, crossnet, iis">
<META NAME="Description" CONTENT="  Winlogon may stop responding when Performance Monitor is operating locally or remotely against the server. This is a side effect of intermittent internal heap corruption. An empty blue domain list may appear on the logon screen.  If a winlogon.exe ...">
<META NAME="Product" CONTENT="Windows NT">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QAAP,QA1S,QBWP,QAKP,QAY5,QAGB,QAB4,QAI5,QBW7,QDN9,QAXB,QAU3,QAMR,QAGI,QAC1 V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>Winlogon &amp; PerfMon Rpc Too Busy or Access Violation</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  September 16, 1997</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q149555</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
 
The information in this article applies to:

<UL><LI>Microsoft Windows NT Workstation version 3.51
<LI>Microsoft Windows NT Server version 3.51
</UL> 
<P>
<P><h2>SYMPTOMS</h2>
 
<P>
Winlogon may stop responding when Performance Monitor is operating locally
or remotely against the server. This is a side effect of intermittent
internal heap corruption. An empty blue domain list may appear on the logon
screen.
<P>
If a winlogon.exe access violation occurs, an updated Drwtsn32.log file
will be placed in the %systemroot% directory and the system may stop with
STOP message 21a. The system will raise this exception if the security
system stops completely.
<P>
In some cases winlogon will continue to function for some time following
the heap corruption and threads may begin to stop responding if the
corruption doesn't result in an access violation. In this case, existing
user sessions provided by the server via NET USE remain active and new
sessions may be established.
<P>
If services.exe threads are blocked due to Winlogon problems, the following
messages may be returned to client requests involving the RPC services:
<P>
<PRE>   Error 1723: The RPC server is too busy to complete this operation.
   Error 1722: The RPC server is unavailable.
   Error 1721: Not enough resources are available to complete this
               operation.

</PRE>Access to Winlogon resources such as the winreg pipe may also fail; in this
case, error 1727 appears:
<P>
<PRE>   The remote procedure call failed and did not execute

</PRE>A protocol trace shows an RPC associate group command failure with the
status error code:
<P>
<PRE>   0x1c010014: NCA_STATUS_SERVER_TOO_BUSY.

</PRE><h2>CAUSE</h2>
 
<P>
The Winlogon memory heap can become corrupted when Performance Monitor
accesses information beyond the allocated heap boundary. Performance
Monitor data is stored within the Winlogon heap. This very intermittent
failure may result in various symptoms of Winlogon processing problems.
<P>
<P><h2>RESOLUTION</h2>
 
<P>
Advapi32.dll and Winlogon.exe have been updated to correct this problem.
<P>
<P><h2>STATUS</h2>
 
<P>
Microsoft has confirmed this to be a problem in Windows NT version 3.51.
This problem was corrected in the latest U.S. Service Pack for Windows NT.
For information on obtaining this update, query on the following word in
the Microsoft Knowledge Base (without the spaces):
<P>
<PRE>   S E R V P A C K
</PRE>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional query words: prodnt<BR>
Keywords          : kbbug3.51 kbfix3.51 ntnetserv ntstop kbnetwork<BR>
Version           : 3.51<BR>
Platform          : winnt<BR>
Solution Type     : kbfix<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  September 16, 1997</FONT>
	<BR>
	<A HREF="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
