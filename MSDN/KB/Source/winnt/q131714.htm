

<HTML>
<HEAD>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Custom PCL Separator File Example </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q131714">
<META NAME="KBModify" CONTENT="1995/07/13">
<META NAME="KBCreate" CONTENT="1995/06/18">
<META NAME="Keywords" CONTENT="kbprint">
<META NAME="KBArea" CONTENT="Support; KB; winnt, crossnet, iis">
<META NAME="Description" CONTENT="  You may wish to create your own printer control language (PCL) separator file. This article provides you with an example after which you can pattern your own separator file.  This article includes the following sections:   - Non-Annotated Separator...">
<META NAME="Product" CONTENT="Windows NT">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QAOX,QADF,QBXT,QA5V,QAIB,QBXS,QATX,QAMB,QBV8,QAPF,QAB9,QBC9,QBC8,QANO,QAH4 V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>Custom PCL Separator File Example</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  July 13, 1995</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q131714</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
The information in this article applies to:

<UL><LI>Microsoft Windows NT operating system version 3.1
<LI>Microsoft Windows NT Advanced Server version 3.1
<LI>Microsoft Windows NT Workstation version 3.5 and 3.51
<LI>Microsoft Windows NT Server version 3.5 and 3.51
</UL> 
<P>
<P><h2>SUMMARY</h2>
 
<P>
You may wish to create your own printer control language (PCL) separator
file. This article provides you with an example after which you can pattern
your own separator file.
<P>
This article includes the following sections:

<UL><LI>Non-Annotated Separator File Text Example
<LI>Annotated Separator File Text Example
<LI>Description of Output From the Separator File Example
<LI>Separator File Command Summary
<P>
</UL>Additional references for more information on the structure of the PCL
language are listed at the end of this article.
<P>
NOTE: Microsoft is responsible for solving problems with the Windows NT
separator file processor, but not for developing custom printer-language
code.
<P>
<P><h2>MORE INFORMATION</h2>
 
<P>
To create a separator file:

<OL><P><LI>Type or paste the text from the example below into an ASCII text file.

<P><LI>Save the file to the print server hard disk drive.

<P><LI>Reconfigure Print Manager to use the separator file:
<P>
   a. From the Printer menu, choose Properties.
<P>
   b. Choose Details.
<P>
   c. Type the path to the separator file in the Separator File text box.
<P>
   d. Choose OK, and then choose OK again.

<P><LI>After you have test the file, modify it to meet your needs.
<P>
</OL><h3>Non-Annotated Separator File Text Example</h3>
 
<P>
<PRE>   \
   \H1B\L%-12345X@PJL ENTER LANGUAGE=PCL
   \H1B\L&amp;l1T\0
   \H1B\L(19U\H1B\L(s1p16v0s0b16602T
   \H1B\L&amp;a10L\L\LDate: \D\H1B\L&amp;a60L\LJob: \I\H1B\L&amp;a94L\LTime: \T
   \9\5
   \H1B\L(19U\H1B\L(s1p36v0s0b16602T
   \H1B\L&amp;a17L
   \H5C\H5C\LServer\H5C\LShare
   \9\6
   \H1B\L(19U\H1B\L(s1p96v1s0b4116T
   \H1B\L&amp;a10L\N
   \H1B\LE

</PRE></OL><h3>Annotated Separator File Text Example</h3>
 
<P>
Like most PCL separator files, this example contains a mix of separator
file commands and PCL code. The individual PCL commands are a combination
of the value and the command. For example, 16v indicates a 16 point font.
Only the last command in the PCL string should be capitalized (to indicate
the end of the command). Although there can be multiple PCL commands per
line, each new command string must start with an &lt;Esc&gt; code.
<P>
NOTE: Some variable must be strung together in a specific order to function
correctly. For more information, see the PCL references mentioned at the
end of this article.
<P>
\
<P>
<PRE>   The first line of any separator file is a delimiter character by itself.
   The separator file interpreter looks for the backslash (\) character on
   the first line, and uses it as the delimiter for its command strings in
   the rest of the separator file.

</PRE>\H1B\L%-12345X@PJL ENTER LANGUAGE=PCL
<P>
<PRE>   If you want to send printer language commands, and those commands
   include unprintable characters, you must send those characters by
   writing "\H" followed by the character's hexadecimal value. Because most
   PCL commands begin with an ESC character (hex value 0x1B) and are
   followed by printable text, many PCL separator file lines begin with
   \H1B, followed by \L, and then a literal string containing the rest of
   the PCL command. Remember that PCL commands are case sensitive. The line
   above tells HP print devices with multiple languages ("personalities")
   to switch to PCL.

</PRE>\H1B\L&amp;l1T\0
<P>
<PRE>   This line toggles job separation and moves the cursor down one line.

</PRE>\H1B\L(19U\H1B\L(s1p16v0s0b16602T
<P>
<PRE>   There are two PCL commands in this line; the first sets the symbol set
   and the second sets the font spacing, size, and name:

      &lt;ESC&gt;(19U sets symbol set to 19U (Windows 3.1 Latin 1)
      &lt;ESC&gt;(s1p sets spacing to 1 (1=proportional, 0=fixed)
      16v sets font size to 16 points
      0s0b16602T sets font to Arial (Plain)

   If you want to use a different symbol set, size, or font, you need to
   change this command (spacing is usually defined by the font, and is not
   configurable). To get a list of the available fonts on an HP 4 Si print
   device, use its front panel: from the TEST menu, choose the PCL TYPE
   LIST entry and push the ENTER key. The resulting pages include lines
   that provide the commands to set the font spacing and name. For example:

      Arial      Scale

           &lt;esc&gt;(&lt;xx&gt;&lt;esc&gt;s1p&lt;yy&gt;v0s0b16602T I 029

   where &lt;xx&gt; represents an open box symbol designating "Symbol set" and
   &lt;yy&gt; represents a closed box symbol designating "Point size"

   Note: You will see the above all on one line.

   The &lt;xx&gt; box is a placeholder for the symbol set value. The example PCL
   command above sets this value to 19U; other useful values are 579L
   (Wingdings), 19M (Symbol), 10U (PC-8, code page 437), and 12U (PC-850,
   Multilingual). Symbol set lists are available in many printer user
   manuals, and in Appendix C of the PCL 5 Comparison Guide (available from
   Hewlett-Packard).

   The &lt;yy&gt; box is a placeholder for the point size.

</PRE>\H1B\L&amp;a10L\LDate: \D\H1B\L&amp;a60L\LJob: \I\H1B\L&amp;a94L\LTime: \T
<P>
<PRE>   The PCL command &lt;ESC&gt;&amp;a#L sets the horizontal cursor position on the
   current line to column #. This line positions the Date:, Job:, and
   Time: labels horizontally at columns 10, 60, and 94, respectively, and
   prints the current date, the job number, and the time after their
   respective labels.

</PRE>\9\5
<P>
<PRE>   This line moves the cursor position down 14 lines. The \n separator file
   command moves the cursor down n lines. Although n must be a single digit
   (0 through 9) number, you can move nine lines, and then five lines, to
   move a total of 14 lines.

</PRE>\H1B\L(19U\H1B\L(s1p36v0s0b16602T
<P>
<PRE>   This line redefines the current font, increasing the size from 16 to 36
   points.

</PRE>\H1B\L&amp;a17L
\H5C\H5C\LServer\H5C\LShare
\9\6
<P>
<PRE>   These lines set the left margin at column 17, print  "\\Server\Share",
   and then move down 15 lines. You can change the "Server" and "Share"
   strings to the names of your print server and it's print share. This
   command sets the left margin at 17 because this roughly centers the text
   "\\Server\Share" horizontally. If your server and share name create a
   longer or shorter string, you may want to adjust this margin to maintain
   the centering. There is no separator file command to center text
   automatically.

</PRE>\H1B\L(19U\H1B\L(s1p96v1s0b4116T
<P>
<PRE>   This line redefines the current font to 96-point Marigold Windows 3.1
   Latin 1 symbol set). This example uses the Marigold font simply to
   demonstrate that you can get multiple fonts on the same page; you can
   change it to the font of your choice.

</PRE>\H1B\L&amp;a10L\N
<P>
<PRE>   This line sets the left margin to column 10 and then prints the user's
   name.

</PRE>\H1B\LE
<P>
<PRE>   There are two final lines in the file. The first is a PCL printer reset
   command (&lt;ESC&gt;E), and the second is the carriage return-linefeed pair
   that follows the printer reset command. Don't forget the carriage
   return-linefeed pair.

</PRE><h3>Description of Output From the Separator File Example</h3>
 
<P>
The precise output you get when you use the sample separator file varies
depending on the values for the date, job number, time, the share
specified, and the user's name. However, the basic layout of the page may
be described as follows: near the top of the separator page you will see
one line with the word "date" with a value on the left, the word "job" and
a number in the center, and the label "time" and its current value at the
right. The text in this line will be in Arial 16 font. Roughly centered on
the page will be the "\\Server\Share" name in the Arial 36 point font. On
the lower half of the sheet, and also centered left to right on the page,
will be the user name in a 96 point script font.
<P>
<P><h3>Separator File Command Summary</h3>
 
<P>
<PRE>Escape Code   Function

</PRE> 
<PRE>  \           On its own line, at the very beginning of the
              separator file, defines the "\" character to be the command
              delimiter character for this separator file.

  \N          Prints the user name of the person that submitted the job.

  \I          Prints the job number.

  \D          Prints the date the job was printed. The representation of
              the date is the same as the Date Format in Control Panel
              (International).

  \T          Prints the time the job was printed. The representation of
              the time is the same as the Control Panel (Time).

  \Lxxx       Prints all the characters (xxxx) following it until another
              escape code is encountered.

  \Fpathname  Prints the contents of the file specified by pathname,
              starting on an empty line. The contents of this file are
              copied directly to the print device without any processing.

  \Hnn        Sends the nn (hexadecimal) ASCII character. \Hnn is often
              used to send a printer-specific control sequence. To
              determine appropriate control sequences, see your printer
              manual.

  \Wnn        Sets the width of the separator page. The default width is
              80; the maximum width is 256. Any printable characters beyond
              this width are truncated.

  \B\S        Prints text in single-width block characters until \U is
              encountered.

  \E          Ejects a page from the printer. Use this code to start a new
              separator page or to end the separator page file. If you get
              an extra blank separator page when you print, remove this
              code from your separator page file.

  \n          Skips n lines, where n is a digit from 0 through 9. Skipping
              0 lines simply moves printing to the next line.

  \B\M        Prints text in double-width block characters until \U is
              encountered.

  \U          Turns off block character printing.

</PRE><h2>REFERENCES</h2>
 
<P>
For more information on the PCL language see:
<P>
"PCL 5 Printer Language Technical Reference Manual," Hewlett Packard,
HP Part No. 5961-0509, October 1992.
<P>
"PCL 5 Comparison Guide," Hewlett Packard, HP Part No. 5961-0634,
May 1994.
<P>
For more information on the PostScript Language see:
<P>
"PostScript Language Program Design," Adobe Systems, Imprint by
Addison-Wesley, 1988.
<P>
"PostScript Language Reference Manual(New Red Book), Adobe Systems,
Imprint by Addison-Wesley, 1990.
<P>
"PostScript Language Tutorial and Cookbook," Adobe Systems,
Imprint by Addison-Wesley, 1985.
<P>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
KBCategory: kbprint<BR>
KBSubCategory: ntprint nthowto<BR>
Additional reference words: prodnt 3.10 3.50 3.51 post script pcl5<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  July 13, 1995</FONT>
	<BR>
	<A HREF="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
