

<HTML>
<HEAD>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>RAS-Connected BDCs/PDC's: Full_Sync Replication Times </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q120487">
<META NAME="KBModify" CONTENT="1994/09/16">
<META NAME="KBCreate" CONTENT="1994/09/12">
<META NAME="Keywords" CONTENT="kbnetwork">
<META NAME="KBArea" CONTENT="Support; KB; winnt, crossnet, iis">
<META NAME="Description" CONTENT="  This article contains the approximate full_sync replication time for a single server. This information is based on the results of two separate tests.  MORE INFORMATION  Following are the test results from two separate test runs of a Full_Sync force...">
<META NAME="Product" CONTENT="Windows NT">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QAI5,QBSO,QBG2,QAVX,QAVW,QAU3,QAMR,QA9A,QAA1,QACE,QBXE,QBVV,QANN,QAL3,QALQ V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>RAS-Connected BDCs/PDC's: Full_Sync Replication Times</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  September 16, 1994</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q120487</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
The information in this article applies to:

<UL><LI>Microsoft Windows NT Workstation version 3.5
<LI>Microsoft Windows NT Server version 3.5
</UL> 
<P>
<P><h2>SUMMARY</h2>
 
<P>
This article contains the approximate full_sync replication time for a
single server. This information is based on the results of two separate
tests.
<P>
<P><h2>MORE INFORMATION</h2>
 
<P>
Following are the test results from two separate test runs of a Full_Sync
forced on a single Remote Access Service (RAS)-attached Backup Domain
Controller (BDC) across a 9600-baud null-modem connection:

<UL><LI>9200-user/500 group Security Account Manager (SAM) replicated
   (full_sync) in 22 minutes.

<LI>9200-user/50 group (all groups populated) SAM replicated (full_sync) in
   36:10.
<P>
   NOTE: Most of the delay is when the BDC made its API call to the Primary
   Domain Controller (PDC) to get the next several accounts. The delay for
   each call was minimal (for example, 37 seconds to return 201 accounts).
<P>
</UL>A BDC can be connected to a remote domain through RAS and a modem
connection. However, if the RAS-connected BDC is ever expected to be
promoted to PDC while it is remotely connected to the domain, this BDC
should be set up as a dial-out - only RAS client (RAS is not running on
this computer). If you promote the RAS-connected client, Netlogon stops,
changes roles, and restarts. RAS is dependent on Netlogon, so when Netlogon
stops, you would lose your connection. By just having the RAS client dial-
out services on this remote BDC, it can then function as a PDC if desired
because that functionality does not depend on Netlogon running constantly.
If neither the RAS server (which could also be a BDC) nor the RAS-connected
BDC will be expected to ever serve as PDC, this is not an issue. A RAS-
connected BDC that has been promoted to PDC functions as it should, but
possibly with slower response time, depending on line speed.
<P>
If a remote site has a RAS-connected BDC that dials in nightly to do a
partial synchronization of any changes, and on some days 2,000 changes are
made to the SAM/LSA database, then the default ChangeLogSize should be
increased. This may be necessary if any BDC has been offline while a lot of
changes have occurred, or else this BDC may be forced to do a full
synchronization of the database. If minimal changes (for example, fewer
than 2,000) occur during the time the RAS BDC or any BDC does not have a
physical connection to the PDC, then the default size is sufficient. If an
administrator begins to notice any BDCs doing full synchronizations, it
could be that many changes are occurring and the ChangeLogSize needs to be
increased. The default ChangeLogSize is 64K which is approximately 2,000
changes.
<P>
NOTE: A single UI operation (such as adding a user) results in multiple
changes; allow room for this in your calculations.
<P>
<P><h3>Registry Changes</h3>
 
<P>
Use REGEDT32.EXE to make the following changes to the Registry on ONLY the
PDC of the domain. Changes can be made at to the ChangeLogSize as long as
the range is between (64K to 4 MB - decimal). You need to reboot your
computer for the changes to take effect.
<P>
Add the following value:
<P>
WARNING: Using Registry Editor incorrectly can cause serious, system-wide
<PRE>   problems that may require you to reinstall Windows NT to correct them.
   Microsoft cannot guarantee that any problems resulting from the use of
   Registry Editor can be solved. Use this tool at your own risk.

</PRE>HKEY_LOCAL_MACHINE
<P>
<PRE>Key Name:     SYSTEM\CurrentControlSet\Services\NetLogon\Parameters
Name:          ChangeLogSize
Type:          REG_DWORD
Data (New):     128000 (Decimal)
</PRE>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional reference words: prodnt 3.10<BR>
KBCategory: kbnetwork<BR>
KBSubCategory: ntrmt<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  September 16, 1994</FONT>
	<BR>
	<A HREF="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
