

<HTML>
<HEAD>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Domain Browsing Issues with Samba Servers </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q168821">
<META NAME="KBModify" CONTENT="1998/01/30">
<META NAME="KBCreate" CONTENT="1997/05/21">
<META NAME="Keywords" CONTENT="ntdomain NTSrvWkst kbnetwork">
<META NAME="KBArea" CONTENT="Support; KB; winnt, crossnet, iis">
<META NAME="Description" CONTENT=" NOTE: The information contained in this article is provided for informational purposes only. Microsoft cannot guarantee Microsoft Networking functions Server Message Block (SMB) will work as expected when servers running SAMBA are present within the...">
<META NAME="Product" CONTENT="Windows NT">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QBWO,QBWP,QA9A,QARL,QAH4,QDL9,QBWN,QAI5,QBW3,QDKO,QDKN,QDKM,QDKL,QDKJ,QDKI V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>Domain Browsing Issues with Samba Servers</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  January 30, 1998</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q168821</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
 
The information in this article applies to:

<UL><LI>Microsoft Windows NT Workstation versions 3.5, 3.51, 4.0
<LI>Microsoft Windows NT Server versions 3.5, 3.51, 4.0
<LI>Microsoft Windows 95
<LI>Microsoft Windows for Workgroups version 3.11
<LI>Microsoft TCP/IP-32 for Windows for Workgroups version 3.11b
</UL> 
<P>
NOTE: The information contained in this article is provided for
informational purposes only. Microsoft cannot guarantee Microsoft
Networking functions Server Message Block (SMB) will work as expected when
servers running SAMBA are present within the workgroup or domain.
<P>
<P><h2>SYMPTOMS</h2>
 
<P>
When browsing from one domain to another across a router you may receive a
message saying "No domain server available..."
<P>
However, you can connect to shares on the primary domain controller (PDC)
and even set up trusts.
<P>
<P><h2>CAUSE</h2>
 
<P>
Samba appears to force browser elections in a way that is incompatible
with the normal Windows NT browser election process. That is, by issuing
election criteria guaranteeing it will win the election and become the
domain master browser. The IsDomainMaster registry setting still cannot
force the Windows NT computer to be the master browser.
<P>
[From the Samba FAQ]
Samba is a suite of programs which work together to allow clients to
access to a server's filespace and printers via the SMB (Server Message
Block) protocol. Initially written for Unix, Samba now also runs on
Netware, OS/2 and VMS.
<P>
In practice, this means that you can redirect disks and printers to
Unix disks and printers from LAN Manager clients, Windows for Workgroups
3.11 clients, Windows NT clients, Linux clients and OS/2 clients. There
is also a generic Unix client program supplied as part of the suite which
allows Unix users to use an ftp-like interface to access filespace and
printers on any other SMB servers. This gives the capability for these
operating systems to behave much like a LAN Server or Windows NT Server
machine, only with added functionality and flexibility designed to make
life easier for administrators.
<P>
The components of the suite are (in summary):
<P>
<PRE>  smbd, the SMB server. This handles actual connections from clients,
    doing all the file, permission and username work
  nmbd, the Netbios name server, which helps clients locate servers,
    doing the browsing work and managing domains as this capability
    is being built into Samba
  smbclient, the Unix-hosted client program
  smbrun, a little 'glue' program to help the server run external programs
  testprns, a program to test server access to printers
  testparms, a program to test the Samba configuration file for
</PRE>correctness
<PRE>  smb.conf, the Samba configuration file
  smbprint, a sample script to allow a Unix host to use smbclient to
    print to an SMB server

</PRE><h2>RESOLUTION</h2>
 
<P>
Make the PDC the master browser. This can be verified with Browser Monitor.
<P>
This may require disabling Samba, the Samba computers, or moving these
computers to another workgroup.
<P>
<P><h2>MORE INFORMATION</h2>
 
<P>
For more information on General TCP/IP Browsing Issues, please see the
following Microsoft Knowledge Base article:
<P>
<PRE>   ARTICLE-ID: <B><A HREF="../CROSSNET/Q150800.htm">Q150800</A></B>
   TITLE     : Domain Browsing with TCP/IP and LMHOSTS Files

</PRE>External to Microsoft:
<P>
<PRE>   <B>http://lake.canberra.edu.au/pub/samba/</B>
</PRE>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional query words: 3.11b 95 winnt windows95 win95<BR>
Keywords          : ntdomain NTSrvWkst kbnetwork<BR>
Version           : Win95;WinNT:3.5,3.51,4.0;WFW3.11<BR>
Platform          : winnt<BR>
Hardware          : x86<BR>
Issue type        : kbprb<BR>
Solution Type     : kbworkaround<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  January 30, 1998</FONT>
	<BR>
	<A HREF="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
