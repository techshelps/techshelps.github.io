

<HTML>
<HEAD>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Anonymous Connections May Be Able to Obtain the Password Policy </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q129457">
<META NAME="KBModify" CONTENT="1997/10/27">
<META NAME="KBCreate" CONTENT="1995/05/31">
<META NAME="Keywords" CONTENT="kbbug4.00.sp3 ntsecurity NTSrvWkst kbenv">
<META NAME="KBArea" CONTENT="Support; KB; winnt, crossnet, iis">
<META NAME="Description" CONTENT="  Windows NT 4.0 with Service Pack 3 (SP3) installed provides the capability to restrict anonymous users from obtaining system information. For more information, please see the following article in the Microsoft Knowledge Base:     ARTICLE-ID: Q14347...">
<META NAME="Product" CONTENT="Windows NT">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QAWK,QBWP,QAI5,QDJX,QDIF,QDO3,QAGU,QAR4,QBG2,QAB4,QBW7,QDJE,QBWG,QAYY,QAA1 V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>Anonymous Connections May Be Able to Obtain the Password Policy</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  October 27, 1997</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q129457</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
 
The information in this article applies to:

<UL><LI>Microsoft Windows NT Workstation version 4.0 Service Pack 3
<LI>Microsoft Windows NT Server version 4.0 Service Pack 3
</UL> 
<P>
<P><h2>SYMPTOMS</h2>
 
<P>
Windows NT 4.0 with Service Pack 3 (SP3) installed provides the capability
to restrict anonymous users from obtaining system information. For more
information, please see the following article in the Microsoft Knowledge
Base:
<P>
<PRE>   ARTICLE-ID: <B><A HREF="../WINNT/Q143474.htm">Q143474</A></B>
   TITLE     : Restricting Information Available to Anonymous Logon Users

</PRE>However, with RestrictAnonymous access enabled, anonymous connections are
able to obtain the password policy from a Windows NT Server. The password
policy defines the Windows NT domain policy with respect to the minimum
password length, whether blank passwords are permitted, maximum password
age, and password history.
<P>
Anonymous access to the password policy information is used by Windows NT
to provide end-users detailed error information under specific
circumstances. If the user is required to change their password at the next
logon, and the user enters a new password that is rejected because of the
password policy, Windows NT can tell the user why the password was
rejected. The password policy is obtained by the system before the user has
completed the logon and therefore uses an anonymous connection.
<P>
For example, assume there is a password policy that requires a minimum
password length of 8 characters and a history that remembers the last 5
passwords. If the user chooses a new password of 6 characters, or enters a
previous password, they see a detailed error message with the following
information:
<P>
<PRE>   Your password must be at least 8 characters long. Your new password
   cannot be the same as any of your previous 5 passwords.

</PRE><h2>RESOLUTION</h2>
 
<P>
Microsoft has a fix available that disables anonymous access to password
policy information when the RestrictAnonymous access is enabled. When the
hotfix is applied and RestrictAnonymous is enabled, anonymous connections
cannot obtain password policy information.
<P>
Microsoft recommends installing the hotfix on all domain controllers that
have Service Pack 3 installed.
<P>
This fix should have the following time stamp:
<PRE>   xx/xx/xx  xx:xx               xxx,xxx xxxxxxx.xxx

</PRE><h2>STATUS</h2>
 
<P>
Microsoft has confirmed this to be a problem in Windows NT version 4.0.
A supported fix is now available, but has not been fully regression-tested
and should be applied only to systems experiencing this specific problem.
Unless you are severely impacted by this specific problem, Microsoft
recommends that you wait for the next Service Pack that contains this fix.
Contact Microsoft Technical Support for more information.
<P>
<P><h2>MORE INFORMATION</h2>
 
<P>
If the user performs the same steps outlined in the example above after the
hotfix is installed, they receive the following error message:
<P>
<PRE>   Your new password does not meet the minimum length or password history
   requirements of the domain.

</PRE>The user should consult the account administrator to determine the password
policy in effect for their account domain.
<P>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional query words: 4.00 sp3<BR>
Keywords          : kbbug4.00.sp3 ntsecurity NTSrvWkst kbenv<BR>
Version           : WinNT:4.0<BR>
Platform          : winnt<BR>
Issue type        : kbbug<BR>
Solution Type     : kbpatch<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  October 27, 1997</FONT>
	<BR>
	<A HREF="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
