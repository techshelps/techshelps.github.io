

<HTML>
<HEAD>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Access Violation (C0-C5) During Registry Backup or Save </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q103097">
<META NAME="KBModify" CONTENT="1997/05/05">
<META NAME="KBCreate" CONTENT="1993/08/18">
<META NAME="Keywords" CONTENT="kbother ntregistry ntstop">
<META NAME="KBArea" CONTENT="Support; KB; winnt, crossnet, iis">
<META NAME="Description" CONTENT=" WARNING: Using Registry Editor incorrectly can cause serious, system-wide problems that may require you to reinstall Windows NT to correct them. Microsoft cannot guarantee that any problems resulting from the use of Registry Editor can be solved. Us...">
<META NAME="Product" CONTENT="Windows NT">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QBWP,QAUR,QAKD,QBJZ,QANY,QBBI,QABA,QBXS,QA26,QAB4,QABN,QA1S,QBVV,QAL0,QBTX V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>Access Violation (C0-C5) During Registry Backup or Save</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  May 5, 1997</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q103097</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



<P><h3> </h3>
 
The information in this article applies to:

<UL><LI>Microsoft Windows NT operating system version 3.1
<LI>Microsoft Windows NT Advanced Server version 3.1
</UL> 
<P>
WARNING: Using Registry Editor incorrectly can cause serious, system-wide
problems that may require you to reinstall Windows NT to correct them.
Microsoft cannot guarantee that any problems resulting from the use of
Registry Editor can be solved. Use this tool at your own risk.
<P>
<P><h2>SYMPTOMS</h2>
 
<P>
During a backup or save of the Registry or one of its hives, a STOP message
appears. The error message states that an access violation occurred (C0-
C5). If you perform a trace of the stack using Kernel Debugger, the
Registry shows up.
<P>
<P><h2>CAUSE</h2>
 
<P>
The Registry has reached its capacity given its current Registry size
limit (RSL) and other system configuration factors. The RSL represents
the maximum size the Registry can reach and is 25 percent of the
paging file, by default. Since the paging file, by default, is 32 MB,
the default RSL is roughly 8 megabytes (MB). The default RSL is big
enough to store approximately 5000 users in the security accounts
manager (SAM) database. There is no guarantee that the amount of
memory specified by the RSL will be available.
<P>
<P><h2>RESOLUTION</h2>
 
<P>
To avoid this problem, you must increase the RSL by either manually
editing the Registry entry for the RSL or by increasing the size of
the paging file. You can increase the size of the paging file by using
Control Panel. To modify the RSL in the Registry, do the following:

<OL><P><LI>Start Registry Editor (REGEDT32.EXE) and go to the following subtree
   and subkey:
<P>
<P><PRE>      HKEY_LOCAL_MACHINE, System\CurrentControlSet\Control
</PRE>
<P><LI>Select the RegistrySizeLimit value and Choose Edit Value from the
   Edit menu. If the RegistrySizeLimit value is not present, enter it
   by choosing Add Value from the edit menu and use the following
   information:
<P>
<P><PRE>      RegistrySizeLimit : REG_DWORD : &lt;bytes&gt;
</PRE>
<P><LI>Enter the number of bytes for the RSL for the value of the
   RegistrySizeLimit value.

<P><LI>Exit Registry Editor and shut down Windows NT.
<P>
</OL><h3>Registry Size Limit Notes</h3>
 
<P>
The RSL is a maximum boundary, not an allocation. Setting a large RSL
does not mean the system will use the specified amount of space unless
the Registry requires it; similarly, it does not imply that the
specified amount will be available.
<P>
If you set the RSL to a value less than 4 MB, it will round up to 4
MB. If it is greater than 80% of the paging file, it will be reduced
to just 80% of the paging file.
<P>
Setting the RSL to 0xffffffff instructs Windows NT to use as much of
the paging file as it can (80%). Since the paging file has a maximum
size of 128 MB, the RSL can be no larger than about 102 MB which would
support about 80,000 users in the SAM database.
<P>
The limitations imposed by the RSL are approximate.
<P>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional query words: prodnt blue trap<BR>
Keywords            : kbother ntregistry ntstop<BR>
Version             : 3.1<BR>
Platform            : WINDOWS<BR>
Issue type          : kberrmsg<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  May 5, 1997</FONT>
	<BR>
	<A HREF="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
