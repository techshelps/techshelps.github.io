

<HTML>
<HEAD>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>The LHMOSTS File for TCP/IP in Windows NT </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q101927">
<META NAME="KBModify" CONTENT="1998/02/16">
<META NAME="KBCreate" CONTENT="1993/07/26">
<META NAME="Keywords" CONTENT="NTSrvWkst nttcp kbnetwork">
<META NAME="KBArea" CONTENT="Support; KB; winnt, crossnet, iis">
<META NAME="Description" CONTENT=" The LMHOSTS file is a local text file that maps IP addresses to NetBIOS names of remote servers with which you want to communicate over the TCP/IP protocol.  NOTE: The Lmhosts file is located in the following folder on a Windows NT computer:     %Sy...">
<META NAME="Product" CONTENT="Windows NT">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QBWP,QBWD,QDNT,QAGI,QAUJ,QBRZ,QDL9,QBWQ,QBWO,QBWN,QAPF,QAM5,QAC2,QDNL,QAKC V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>The LHMOSTS File for TCP/IP in Windows NT</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  February 16, 1998</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q101927</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



<P><h3> </h3>
 
The information in this article applies to:

<UL><LI>Microsoft Windows NT Workstation versions 3.5, 3.51, and 4.0
<LI>Microsoft Windows NT Server versions 3.5, 3.51, and 4.0
</UL> 
<P>
The LMHOSTS file is a local text file that maps IP addresses to
NetBIOS names of remote servers with which you want to communicate
over the TCP/IP protocol.
<P>
NOTE: The Lmhosts file is located in the following folder on a Windows NT
computer:
<P>
<PRE>   %SystemRoot%\System32\Drivers\Etc

</PRE>There is also a sample Lmhosts file in the same folder, which is called
Lmhosts.sam.
<P>
Windows NT recognizes names instead of IP addresses for network
requests and a name discovery process is used to correctly route
network requests with TCP/IP. Because the name discovery process is
generally not routed by an IP router, the LMHOSTS file allows Windows
NT computers to communicate using TCP/IP across a subnet bridged by an
IP router.
<P>
Under TCP/IP alone, NetBT (NetBIOS over TCP/IP) checks this list in
memory before doing a b-node name discovery. For example, a reference
to \\Eric would be translated to reference the actual IP address of
135.25.25.14 (this is a fictional address).
<P>
<P><h3>A sample LMHOSTS file:</h3>
 
142.25.125.15 Joe #PRE
129.102.12.10 Paul #PRE
148.107.16.45 James
135.25.25.14 Eric #PRE
133.120.26.225 John
192.36.14.250 Ed #PRE
221.250.05.126 Mackey
<P>
Note:  All addresses are fictional.
<P>
When Windows NT loads, it reads the first 100 entries, by default, in
the LMHOSTS file marked with #PRE. You can increase the number of #PRE
entries that will load into memory at logon by adding the MaxPreLoad
entry in the registry. This entry should be added to the
Hkey_Local_Machine\CurrentControlSet\Services\NetBT\Parameters section
of the registry.
<P>
The maximum number allowed for MaxPreLoad depends on the performance
of the system. Some computers are able to parse or search through more
entries in the LMHOSTS file than others. Based on system performance,
Windows NT usually searches through about 1000 entries before timing
out (15 seconds).
<P>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional query words: prodnt maxpreload<BR>
Keywords          : NTSrvWkst nttcp kbnetwork<BR>
Version           : 3.1 3.5 3.51 4.0<BR>
Platform          : winnt<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  February 16, 1998</FONT>
	<BR>
	<A HREF="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
