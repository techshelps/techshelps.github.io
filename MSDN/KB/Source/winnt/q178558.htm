

<HTML>
<HEAD>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Upgrade Installation of WinNT on HP NetServer Generates Error </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q178558">
<META NAME="KBModify" CONTENT="1998/03/19">
<META NAME="KBCreate" CONTENT="1997/12/29">
<META NAME="Keywords" CONTENT="ntsetup NTSrvWkst kbsetup">
<META NAME="KBArea" CONTENT="Support; KB; winnt, crossnet, iis">
<META NAME="Description" CONTENT="  When you restart your computer after upgrading Windows NT on a Hewlett- Packard NetServer with a Hewlett-Packard Array Controller, the following message is displayed:     At least one service or driver failed during system startup. Use the    event...">
<META NAME="Product" CONTENT="Windows NT">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Security" CONTENT="PUBLIC ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QAU9,QAA1,QBWP,QBWS,QDIB,QDI2,QAIJ,QAEF,QBTX,QAC1,QDIV,QA9N,QAB5,QAA5,QAC9 V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>Upgrade Installation of WinNT on HP NetServer Generates Error</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  March 19, 1998</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q178558</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
 
The information in this article applies to:

<UL><LI>Microsoft Windows NT Workstation versions 3.51 and 4.0
<LI>Microsoft Windows NT Server versions 3.51 and 4.0
</UL> 
<P>
<P><h2>SYMPTOMS</h2>
 
<P>
When you restart your computer after upgrading Windows NT on a Hewlett-
Packard NetServer with a Hewlett-Packard Array Controller, the following
message is displayed:
<P>
<PRE>   At least one service or driver failed during system startup. Use the
   event viewer to examine the system event log for details.

</PRE>The system event log shows the following event:
<P>
<PRE>   Event ID: 7026
   Source: Service Control Manager
   Type: Error
   Description: The following boot-start or system-start driver(s)
                failed to load: HPDANT

</PRE><h2>CAUSE</h2>
 
<P>
During the upgrade, Windows NT was allowed to detect mass storage devices
and loaded the DAC960NT driver, but the original HPDANT driver was not
disabled.
<P>
<P><h2>RESOLUTION</h2>
 
<P>
Hewlett-Packard recommends that you use the Hpdant.sys driver with its
Hewlett-Packard Array Controllers and not the Dac960nt.sys driver that
comes with Windows NT. Perform the following steps to remove the
Dac960nt.sys driver and install the latest Hpdant.sys driver from Hewlett-
Packard without having to re-run the upgrade.

<OL><P><LI>Make a current Emergency Repair Disk if you do not have one.

<P><LI>Contact Hewlett-Packard and obtain the latest firmware, BIOS and drivers
   for the Hewlett-Packard Array Controller.
<P>
   NOTE: If you have the most current version of the Hpdant.sys driver
   already installed on the system prior to upgrade, you can skip to step
   14. Otherwise continue with step 3).

<P><LI>In Control Panel, double-click SCSI Adapters.

<P><LI>Click the Drivers tab. You should see the following drivers:
<P>
<PRE>      Hewlett-Packard Disk Array Adapter             (Not Started)
      Mylex DAC960/Digitial SWXCR-Ex Raid Controller (Started)

</PRE><P><LI>Select Hewlett-Packard Disk Array Adapter and click Remove.

<P><LI>When prompted, "Are you sure you want to remove this driver?" click Yes.

<P><LI>Click Add.

<P><LI>Click Have Disk.

<P><LI>Insert the floppy disk into the appropriate drive and click OK.

<P><LI>Select Hewlett-Packard Disk Array Adapter and click OK.

<P><LI>When prompted, "Do you wish to use the currently installed driver(s) or
   install new one(s)?" click New.

<P><LI>Enter the drive letter in which the Hewlett-Packard drivers disk is
   installed.

<P><LI>When prompted to restart the computer, click No.

<P><LI>In Control Panel, double-click SCSI Adapters.

<P><LI>Select Mylex DAC960/Digitial SWXCR-Ex Raid Controller and click Remove.

<P><LI>When prompted, "Are you sure you want to remove this driver?" select
   Yes.

<P><LI>Close the SCSI Adapter window.

<P><LI>In Control Panel, double-click Devices.

<P><LI>Scroll down to the HPDANT device. Confirm that the Startup Type is set
   for Boot. If it is not, change the Startup Type to Boot.

<P><LI>Close the Devices window.

<P><LI>Remove the Hewlett-Packard drivers disk from the floppy drive.

<P><LI>Restart the server.
<P>
</OL>If the server fails to start correctly or fails with a STOP 0x0000007b,
restart the system and select the Last Known Good option. This will return
the DAC960NT driver back to the primary driver. You can then restart the
process at step 2.
<P>
<P><h2>MORE INFORMATION</h2>
 
<P>
Hewlett-Packard provides a driver for the Hewlett-Packard Array Controller
with its Hewlett-Packard NetServer Windows NT drivers disk, Hpdant.sys.
Microsoft Windows NT comes with a different driver for the Mylex Array
Controller card used in the Hewlett-Packard Array Controller. The Microsoft
driver for the Mylex Array controller is Dac960nt.sys.
<P>
If, during the original installation of Windows NT, the option to specify
additional devices was used with the Hewlett-Packard NetServer Windows NT
drivers disk, the Hpdant.sys driver can be installed for the Hewlett-
Packard Array Controller.
<P>
When running an upgrade installation over the original installation, mass
storage detection is used instead of specifying the drivers; the
Dac960nt.sys driver will be installed for the array controller. When
restarting after the upgrade, you will see the error message that a service
did not start. The system event log will show that the Hpdant.sys driver
failed to load. This is caused by the Dac960nt.sys driver loading before
the Hpdant.sys driver so that, when the Hpdant.sys driver attempts to load,
it fails.
<P>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional query words: Raid Net Server<BR>
Keywords          : ntsetup NTSrvWkst kbsetup<BR>
Version           : WinNT:3.51,4.0<BR>
Platform          : winnt<BR>
Issue type        : kbprb<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  March 19, 1998</FONT>
	<BR>
	<A HREF="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
