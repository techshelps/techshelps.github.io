

<HTML>
<HEAD>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Recovering From Boot Failure Affecting Mirrored Drives </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q147690">
<META NAME="KBModify" CONTENT="1996/05/07">
<META NAME="KBCreate" CONTENT="1996/02/28">
<META NAME="Keywords" CONTENT="kbenv">
<META NAME="KBArea" CONTENT="Support; KB; winnt, crossnet, iis">
<META NAME="Description" CONTENT="  When a boot failure on a system with a mirrored boot drive occurs, and the failure is caused by a problem that has affected both the primary and a mirror, such as bad or corrupt device drivers or other changes to the system, using a Fault Tolerance...">
<META NAME="Product" CONTENT="Windows NT">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QAI4,QDIV,QAFV,QBWP,QAY2,QAC9,QALX,QBJZ,QA2Q,QBWS,QAJQ,QAG2,QBVV,QAHT,QAL3 V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>Recovering From Boot Failure Affecting Mirrored Drives</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  May 7, 1996</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q147690</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
The information in this article applies to:

<UL><LI>Microsoft Windows NT Server versions 3.5 and 3.51
</UL> 
<P>
<P><h2>SUMMARY</h2>
 
<P>
When a boot failure on a system with a mirrored boot drive occurs, and
the failure is caused by a problem that has affected both the primary and a
mirror, such as bad or corrupt device drivers or other changes to the
system, using a Fault Tolerance boot floppy does not allow you to boot
(since both drives have the same problem). In this case, the normal
procedure is to boot to an alternative operating system, such as MS-DOS or
another installation of Windows NT, and use it for possible recovery.
However, if your boot drive is mirrored, this procedure is not possible,
unless you manually break the mirror.
<P>
<P><h2>MORE INFORMATION</h2>
 
<P>
To manually break the mirror, use a disk editor to change the partition
table and the byte that indicates the partition type. Norton's Diskedit or
another comparable utility can be used for this purpose. The partition
table is in the first physical sector on a hard drive.
<P>
The partition entries start at an offset. On a mirrored drive, this byte
is either 0x86 (for FAT partition) or 0x87 (for NTFS partition). The byte
needs to be changed to 0x06 (for FAT partition) or 0x07 (for NTFS
partition). To do this (using Norton Diskedit version 5.0 or later), use
the following procedure:
<P>
CAUTION: Using a disk editor to directly change the information on your
drive is dangerous and can result in furthur drive corruption if it is not
done properly. Use this procedure as a last resort.

<OL><P><LI>Boot from an MS-DOS bootable floppy disk that contains a copy of
   Norton Diskedit. Make sure that the floppy disk includes the NLIB200.RTL
   file.

<P><LI>Run Diskedit.

<P><LI>From the Object menu, select Drive.

<P><LI>From the Drive dialog box, select Physical drive. The default is Logical
   drive.

<P><LI>Select the physical hard drive that is the primary from the mirror
   set (this is normally Drive 1).

<P><LI>From the Object menu, select Partition Table. From the View menu, select
   "as Partition table" to view the following table:
<P>
</OL> 
<PRE>|       |    |  Starting Location |  Ending Location   |Relative|Number of|
|System |Boot|Side Cylinder Sector|Side Cylinder Sector|Sectors |Sectors  |
|  ?    |Yes | 1       0       1  |  63   509      32  |      32|  1044448|
| unused|No  | 0       0       0  |   0     0       0  |       0|        0|
| unused|No  | 0       0       0  |   0     0       0  |       0|        0|
| unused|No  | 0       0       0  |   0     0       0  |       0|        0|
</PRE></OL> 
<P>
<PRE>   Each entry in this table is a partition. The row that has a Boot value
   of "Yes" is generally your mirror partition. The example above only has
   the one partition, but the other entries may have values if the disk has
   partitions other than the mirror. The system value is based upon
   Diskedit's interpretation of the partition type byte. In the table
   above, it lists a "?", as it does not understand type 0x86 and 0x87.

</PRE><P><LI>Use the arrow keys to move to the "?" entry in the System column.

<P><LI>Press the space bar to change the value from "?" to "BIGDOS" for FAT
   partitions or "HPFS" for NTFS partitions (both HPFS and NTFS use the
   same partition type ID - 0x7. Diskedit does not differentiate between
   the two types).

<P><LI>From the Edit menu, select Write Changes.

<P><LI>Exit Diskedit.

<P><LI>Reboot the system with either an MS-DOS floppy disk or from the Windows
<P><PRE>    NT Setup disks. Your boot drive should be accessible from MS-DOS (if it
    is FAT) or to Windows NT Setup (if it is NTFS).
</PRE><P>
</OL>After the problem has been repaired, use Disk Administrator in Windows NT
to break and re-establish the mirror.
<P>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
KBCategory: kbenv<BR>
KBSubCategory: ntfault<BR>
Additional reference words: 3.50 3.51 filesys<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  May 7, 1996</FONT>
	<BR>
	<A HREF="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
