

<HTML>
<HEAD>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Cannot Save Changes to Bootsector using DiskProbe </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q155356">
<META NAME="KBModify" CONTENT="1997/03/27">
<META NAME="KBCreate" CONTENT="1996/08/27">
<META NAME="Keywords" CONTENT="kbtool nthowto ntreskit NTSrvWkst ntutil">
<META NAME="KBArea" CONTENT="Support; KB; winnt, crossnet, iis">
<META NAME="Description" CONTENT="  When you use the Windows NT 4.0 Resource Kit application DiskProbe to edit a boot sector, the changes are not saved or written to disk if the currently loaded sector is not a recognized boot sector.  MORE INFORMATION  DiskProbe performs a string co...">
<META NAME="Product" CONTENT="Windows NT">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QBWP,QADK,QA7O,QA7N,QDJB,QAKD,QBJZ,QDIV,QAUR,QATX,QABX,QDJS,QAD7,QBVV,QAU7 V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>Cannot Save Changes to Bootsector using DiskProbe</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  March 27, 1997</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q155356</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
 
The information in this article applies to:

<UL><LI>Microsoft Windows NT Workstation version 4.0
<LI>Microsoft Windows NT Server version 4.0
</UL> 
<P>
<P><h2>SUMMARY</h2>
 
<P>
When you use the Windows NT 4.0 Resource Kit application DiskProbe to edit
a boot sector, the changes are not saved or written to disk if the
currently loaded sector is not a recognized boot sector.
<P>
<P><h2>MORE INFORMATION</h2>
 
<P>
DiskProbe performs a string compare on the OEM String field to determine if
the data in the sector buffer is a boot sector. This is an eight-character
field that begins at offset 0x03 in the boot sector. Only the first four
characters are compared, and the comparison is case sensitive. DiskProbe
recognizes the following values:
<P>
<PRE>   Value     Description
   ---------------------

   MSDOS     FAT formatted under MS-DOS or Windows NT 3.X on X86 platforms.

   MSWIN     FAT formatted under Windows 95.

   WINNT     FAT formatted under Windows NT 3.X or 4.0 on RISC platforms.

   NTFS      NTFS formatted under Windows NT 3.X or 4.0 on any platform.

</PRE>If the OEM String field is invalid, it is still possible to edit Bootsector
field values in a Bootsector view by changing the value in the OEM String
field to match an accepted value. Use the following procedure to change the
OEM String to allow editing fields in either Windows NT File System (NTFS)
or File Allocation Table (FAT) Bootsector View:

<OL><P><LI>Read the sector into memory. Be sure only a single sector is loaded into
   memory.

<P><LI>On the View menu, click the appropriate boot sector view.

<P><LI>Edit the OEM String field so that the first four characters match one of
   of the expected values. Remember that FAT Bootsector View will not
   accept "NTFS" and NTFS Bootsector View will not accept any of the FAT
   values.

<P><LI>On the View menu, click Byte View.

<P><LI>On the Sectors menu, click Write. Be sure the handle, starting sector,
   and number of sectors are correct, and then write the change to disk.

<P><LI>On the Sectors menu, click Read. Read the current sector into memory.

<P><LI>Switch to the appropriate boot sector view and edit the desired field.
   Changes will now be saved correctly.
<P></OL>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional query words: prodnt Reskit DskProbe<BR>
Keywords            : kbtool nthowto ntreskit NTSrvWkst ntutil<BR>
Version             : 4.0<BR>
Platform            : WinNT<BR>
Issue type          : kbhowto<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  March 27, 1997</FONT>
	<BR>
	<A HREF="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
