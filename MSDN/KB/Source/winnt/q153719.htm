

<HTML>
<HEAD>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>How to Re-Sync PDC/BDC Trust After Event IDs 3210 and 7023 </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q153719">
<META NAME="KBModify" CONTENT="1997/11/21">
<META NAME="KBCreate" CONTENT="1996/07/16">
<META NAME="Keywords" CONTENT="ntdomain NTSrv kbnetwork">
<META NAME="KBArea" CONTENT="Support; KB; winnt, crossnet, iis">
<META NAME="Description" CONTENT="  After a Windows NT backup domain controller (BDC) has been offline for some time, it may fall out of synchronization with the primary domain controller (PDC). When you attempt to bring the BDC back online, you may get the following errors in the BD...">
<META NAME="Product" CONTENT="Windows NT">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QA9A,QAB4,QBW3,QAUJ,QAGU,QBWP,QAPN,QAO4,QAH5,QA5E,QAIJ,QAHT,QBTX,QBJQ,QDNW V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>How to Re-Sync PDC/BDC Trust After Event IDs 3210 and 7023</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  November 21, 1997</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q153719</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
 
The information in this article applies to:

<UL><LI>Microsoft Windows NT Server versions 3.5, 3.51 and 4.0
</UL> 
<P>
<P><h2>SYMPTOMS</h2>
 
<P>
After a Windows NT backup domain controller (BDC) has been offline for
some time, it may fall out of synchronization with the primary domain
controller (PDC). When you attempt to bring the BDC back online, you may
get the following errors in the BDC's Event Viewer:
<P>
<PRE>   Event ID: 3210
   Source: Netlogon
   Type: Error
   Description: Failed to authenticate with &lt;computer name&gt;, a Windows NT
   domain controller for domain &lt;domain name&gt;.
   Data word: c0000022

   Event ID: 7023
   Source: Service Control Manager
   Type: Error
   Description: Netlogon service terminated with the following error
   message: Access Denied.

</PRE>This is very likely to occur if a BDC is restored from a backup that is
more than a few days old or if the BDC is offline for more than a few
days.
<P>
<P><h2>CAUSE</h2>
 
<P>
Domain controllers maintain a password-protected channel between each
other. When a BDC is brought into a domain, the PDC gives the BDC the
current password to use when connecting to the PDC for authentication,
account database replication, and other system activities. This password
changes automatically on a regular basis. If the BDC is offline when the
password changes, or if a BDC is restored from a backup that has an old
password, the BDC will not be able to authenticate with the PDC, and
Netlogon will fail.
<P>
<P><h2>RESOLUTION</h2>
 
<P>
In the simplest case, all that has happened is that the domain password
has changed. To reslove the problem, do the following:

<OL><P><LI>Start the BDC, and open Server Manager

<P><LI>Select the BDC's name, and select Synchronize with Primary Domain
   Controller.
<P>
</OL>If this procedure is successful, you will get a message that the LSA
Database has been updated and Netlogon will start automatically. No other
action is necessary.
<P>
However, if synchronizing with the PDC does not work on the first attempt,
try carrying out the same command again. Often, a second attempt will
succeed. However, if the BDC will not synchronize and Netlogon fails to
start after three attempts, you should create a new machine account for
the BDC. These instructions are taken from a related article, <B><A HREF="../WINNT/Q137987.htm">Q137987</A></B>:

<OL><P><LI>Using Server Manager, create a new computer name.

<P><LI>Synchronize entire domain (check another BDC's event viewer to see if
    it synchronized).

<P><LI>At the problem BDC, use the Network tool in Control Panel to change
    the name to the new name created in Step 1.

<P><LI>Shut down the BDC, restart, and log on to Windows NT. Note any error
    messages. You must logon to the domain the BDC belongs to, not a
    trusted domain.

<P><LI>Using Server Manager, synchronize the entire domain.

<P><LI>From the PDC, delete the old computer name(use Server Manager).

<P><LI>Synchronize the entire domain, using Server Manager.

<P><LI>Make sure the old BDC name has been deleted in Server Manager before
    proceeding.

<P><LI>After the old BDC name is gone from Server Manager, re-create it.

<P><LI>Synchronize the entire domain, using Server Manager.

<P><LI>At the problem BDC, change computer name to the old name created in
    step 9, using the Network tool in Control Panel.

<P><LI>Shut down the BDC, restart, and log on to the domain. Note any error
    messages.

<P><LI>Synchronize entire domain.
<P>
</OL>At this point the BDC should be synchronized with the PDC, netlogon should
be running, and the accounts database should be up to date.
<P>
Related Articles:
<P>
For additional information on authentication issues specific to NWLink,
please see the following article in the Microsoft Knowledge Base:
<P>
<PRE>   ARTICLE-ID: <B><A HREF="../WINNT/Q126752.htm">Q126752</A></B>
   TITLE     : DCs Fail to Synchronize or Validate Users Over NWLINK

</PRE></OL>For additional information on authentication issues when trying to net
view, please see the following article in the Microsoft Knowledge Base:
<P>
<PRE>   ARTICLE-ID: <B><A HREF="../WINNT/Q137987.htm">Q137987</A></B>
   TITLE     : NET VIEW May Cause Semaphore Time Out and Event ID 3210

</PRE>For additional information on authentication from the PDC's point of view,
please see the following article in the Microsoft Knowledge Base:
<P>
<PRE>   ARTICLE-ID: <B><A HREF="../WINNT/Q142869.htm">Q142869</A></B>
   TITLE     : Event ID 3210 &amp; 3722 Appear When Synchronizing Entire
               Domain
</PRE>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional query words: resync resynchronization failure<BR>
Keywords          : ntdomain NTSrv kbnetwork<BR>
Version           : 3.50 3.51<BR>
Platform          : WINDOWS<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  November 21, 1997</FONT>
	<BR>
	<A HREF="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
