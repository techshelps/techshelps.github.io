

<HTML>
<HEAD>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>INFO: DDConv Messages of Visual SourceSafe 4.0 </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q153872">
<META NAME="KBModify" CONTENT="1997/03/24">
<META NAME="KBCreate" CONTENT="1996/07/22">
<META NAME="Keywords" CONTENT="kbprg kbsetup ssafe">
<META NAME="KBArea" CONTENT="Support; KB; ssafe">
<META NAME="Description" CONTENT="  Ddconv.exe is the utility that converts a SourceSafe 3.x database to 4.0 format. The setup process automatically runs it when you upgrade. When run, it puts a log file called ddcerr.log in the DATA subdirectory. This file lets the user know what ha...">
<META NAME="Product" CONTENT="Visual SourceSafe">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QAFI,QAUJ,QAEF,QBWS,QDMH,QAJN,QAYY,QADK,QABH,QBVV,QAZV,QAAP,QARM,QDML,QA5V V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>INFO: DDConv Messages of Visual SourceSafe 4.0</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  March 24, 1997</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q153872</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
 
The information in this article applies to:

<UL><LI>Microsoft Visual SourceSafe, 16-bit and 32-bit, for Windows,
   versions 4.0, 5.0
<LI>Microsoft Visual SourceSafe for Macintosh, versions 4.0a, 5.0
</UL> 
<P>
<P><h2>SUMMARY</h2>
 
<P>
Ddconv.exe is the utility that converts a SourceSafe 3.x database to 4.0
format. The setup process automatically runs it when you upgrade. When run,
it puts a log file called ddcerr.log in the DATA subdirectory. This file
lets the user know what has happened during the conversion.
<P>
<P><h2>MORE INFORMATION</h2>
 
<P>
The ideal ddcerr.log file has only the following ten lines in it:
<P>
<PRE>      DDCONV initializing
      Creating subfolders
      Moving files
      Creating rights DB
      Building project list
      Creating names DB
      Converting log files
      Adding project rights
      Converting users
      DDCONV finished

</PRE>The following conventions are used in the messages below:
<P>
<PRE>      &lt;Physical Log File Name&gt; is the file in the DATA directory without an
      extension, such as BKAAAAAA.

      &lt;Physical Data File Name&gt; is the file in the DATA directory with an
      extension of .A or .B, such as BKAAAAAA.a.

      &lt;Project Name&gt; is the name of the project in the Visual SourceSafe
      interface, such as $/MyProject/Sub-Project.

      &lt;File Name&gt; is the name of the file in the Visual SourceSafe
      interface,such as MyFile.txt

      # is a number, such as 1.

</PRE><h3>How To Identify a File from its Physical Log File Name</h3>
 
<P>
You can open the physical log file in a text editor and look at the non-
garbage characters. On the first line, the name of the file/project is
written. Later in the file you might see a reference to a project that this
file or project is in. Don't write anything to this file!!
<P>
The following four messages may appear in the file and can be considered
harmless:
<P>
<PRE>      &lt;File Name&gt;
      &lt;Physical Log File Name&gt; parent project &lt;Project Name&gt; not found,
      skipping parent record.

      &lt;File Name&gt;
      &lt;Physical Log File Name&gt; Parent count in old DB #, correcting to
      actual count #.

      &lt;Project Name&gt;
      &lt;Physical Log File Name&gt; Project entry count in old DB #, correcting
      to actual count #.

      &lt;Project Name&gt;
      &lt;Physical Log File Name&gt; Format record, invalid, correcting.

</PRE>If the following messages appear in the file, the conversion process did
not successfully convert every file in the DATA directory:
<P>
<PRE>      &lt;File Name&gt;
      Error converting header in logfile &lt;Physical Log File Name&gt;.

</PRE>This file was not able to be converted because of corruption in the header
of the file. If the file is needed, recover the 3.1 database, then fix it
and retry the conversion. Be sure you have run the 3.1 analyze on the 3.1
database. If the file is not needed, move the log file and the data file
(BKAAAAAA and BKAAAAAA.a) out of the DATA directory, and run the new
analyze with the -F switch to clean up the links to the file. This may take
more than one run of analyze -F &lt;Path to Data&gt;.
<P>
For more information, please see the following article in the Microsoft
Knowledge Base:
<P>
<PRE>      ARTICLE ID: <B><A HREF="../SSAFE/Q139566.htm">Q139566</A></B>
      TITLE     : SAMPLE: ANALYZE5.EXE Utility for Visual SourceSafe

      Unable to open project &lt;Physical Log File Name&gt;.
      Unable to open file &lt;Physical Log File Name&gt;.

</PRE>The file was locked when the conversion process was running. Unlock the
file at the operating system level and re-run ddconv on the half-converted
database. You don't have to recover the 3.1 data.
<P>
<PRE>      &lt;Project Name&gt;
      File &lt;Physical Log File Name&gt; not found.
      File &lt;Physical Data File Name&gt; not found.

</PRE>The file mentioned is not found in the data subdirectory. You need to
determine what file this is referring to and decide whether you need it or
not. If you need it, and it is a physical log file, you have to go to
backups. If it is the physical data file name of a project, you can run the
new analyze -F &lt;path to data&gt; on it. This may take more than one run of
analyze -F &lt;Path to Data&gt;. If it is the physical data file of a file, then
you need to recover from backups or someone's working directory. However,
it should be noted that there is no guarantee that the recovered copy is
the correct one. Having the incorrect one would mean that all previous
versions of the file would be retrieved incorrectly.
<P>
<PRE>      Error converting project entry records in file &lt;Physical Log File
      Name&gt;.

</PRE>Run the new analyze -F &lt;Path to Data&gt; to clean up. You may need to run it
several times.
<P>
<PRE>      &lt;Physical Data File Name&gt; Eliminating duplicate name &lt;File Name&gt; in
      child list.

</PRE>This message occurs when there is an active file/project with the same name
as a deleted file. Ideally, the 3.1 database would be recovered, and then
either the deleted file would be purged or the active file would be
renamed. And then ddconv would be run on the 3.1 data again. Otherwise, the
new analyze can be run with the -F switch on the database which may be able
to re-establish the links, but it might have to be run several times.
<P>
<PRE>      Cannot find physical project file for &lt;Project Name&gt;.

</PRE>This message occurs when there is an active project with the same name as a
deleted project. Ideally, the 3.1 database would be recovered, and then
either the deleted project would be purged or the active project would be
renamed. And then ddconv would be run on the data again. Otherwise the new
analyze can be run with the -F switch on the database which may be able to
re-establish the links, but it might have to be run several times.
<P>
<PRE>      Error writing to file.

</PRE>This message occurs because ddconv could not upgrade the file. Frequent
reasons for this are:
<P>
There is an operating system lock on the file. Remove it and re-run ddconv
on the half converted database.
<P>
The file is zero byte count. Recover from backup. Or if it is both the log
file and the data file (BKAAAAAA and BKAAAAAA.a) are zero byte count, move
the files out of the DATA directory, and then run the new analyze with the
-F switch to remove the links. Analyze -F &lt;Path to Data&gt; might have to be
run several times to clear up the links.
<P>
<PRE>      Too Many File Handles open.

</PRE>Another process in memory is affected the conversion process. Remove the
TSR from memory or close the application.
 

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Keywords            : kbprg kbsetup ssafe<BR>
Version             : 4.0 4.0a 5.0<BR>
Platform            : MACINTOSH WINDOWS<BR>
Issue type          : kbhowto<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  March 24, 1997</FONT>
	<BR>
	<A HREF="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
