

<HTML>
<HEAD>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>FIX: PWB 1.0 Extensions Will Only Return True Under MS-DOS </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q63052 ">
<META NAME="KBModify" CONTENT="1997/09/11">
<META NAME="KBCreate" CONTENT="1990/06/18">
<META NAME="Keywords" CONTENT="kb16bitonly">
<META NAME="KBArea" CONTENT="Support; KB; utilities">
<META NAME="Description" CONTENT="  Extensions written for use by the Programmer's WorkBench (PWB) version 1.0 under the DOS operating system are recognized as returning true regardless of their actual return values.  STATUS ======  Microsoft has confirmed this to be a problem in PWB...">
<META NAME="Product" CONTENT="Programming Utilities">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QAUD,QAVX,QAVW,QALW,QAR4,QAOG,QAH4,QAI4,QAEV,QAPF,QBIR,QA7M,QDIR,QAYC,QAKP V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>FIX: PWB 1.0 Extensions Will Only Return True Under MS-DOS</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  September 11, 1997</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q63052 </B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
1.00
MS-DOS
kbtool kbcode kbbuglist kbfixlist
<P>
 
The information in this article applies to:

<UL><LI>Microsoft Programmer's Workbench for MS-DOS, version 1.0
<LI>Microsoft Programmer's Workbench for OS/2, version 1.0
</UL> 
<P>
<P><h2>SYMPTOMS</h2>
 
<P>
Extensions written for use by the Programmer's WorkBench (PWB) version
1.0 under the DOS operating system are recognized as returning true
regardless of their actual return values.
<P>
<P><h2>STATUS</h2>
 
<P>
Microsoft has confirmed this to be a problem in PWB version 1.0. This
problem was corrected in PWB version 1.1.
<P>
<P><h2>MORE INFORMATION</h2>
 
<P>
The use of return values as a way of providing conditional jumps
inside PWB macros is a common practice that is affected by the above
limitation for PWB extensions. The sample extension and macros below
demonstrate the above problem. Once installed, both the f1() and f2()
functions will be seen as returning true to PWB.
<P>
<P><h3>Sample Code</h3>
 
<P>
<PRE>// TEST.C

#include &lt;string.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;ext.h&gt;

</PRE>PWBFUNC f1( unsigned argData, ARG far *pArg, flagType fMeta );
PWBFUNC f2( unsigned argData, ARG far *pArg, flagType fMeta);
<P>
<PRE>// Switches.
</PRE>struct swiDesc swiTable[] =
{
<PRE>   { NULL, NULL, 0 }
</PRE>};
<P>
<PRE>// Commands.
</PRE>struct cmdDesc cmdTable[] =
{
<PRE>   { "f1", f1, 0, NOARG },
   { "f2",f2,0, NOARG },
   { NULL, NULL, 0, 0 }
</PRE>};
<P>
<PRE>void EXTERNAL WhenLoaded()
</PRE>{
<PRE>    SetKey( "f1",         "alt+f" );
    SetKey( "f2",       "ctrl+f" );
    return;
</PRE>}
<P>
PWBFUNC f1( unsigned argData, ARG far *pArg, flagType fMeta )
{
<PRE> return(FALSE);  /* FALSE is defined as 0 in ext.h */
</PRE>}
<P>
PWBFUNC f2( unsigned argData, ARG far *pArg, flagType fMeta)
{
<PRE> return(TRUE);   /* TRUE is defined as 1 in ext.h  */
}

// End of TEST.C

</PRE><h3>Sample Macros</h3>
 
<P>
; sample macros  for TOOLS.INI to test f1 and f2
<P>
load f1
<P>
test:=f1 -&gt;loc1 arg "true" message =&gt; :&gt;loc1 arg "false" message
test2:=f2 -&gt;loc2 arg "true" message =&gt; :&gt;loc2 arg "false" message
<P>
test:alt+t
test2:ctrl+2
<P>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional reference words: 1.00 buglist1.00 fixlist1.10<BR>
KBCategory: kbtool kbcode kbbuglist kbfixlist<BR>
KBSubcategory: PWBIss<BR>
Keywords          : kb16bitonly<BR>
Solution Type     : kbfix<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  September 11, 1997</FONT>
	<BR>
	<A HREF="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
