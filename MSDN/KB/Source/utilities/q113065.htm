

<HTML>
<HEAD>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>PRB: Extra Copies of Function Added to Library </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q113065">
<META NAME="KBModify" CONTENT="1997/07/25">
<META NAME="KBCreate" CONTENT="1994/03/24">
<META NAME="Keywords" CONTENT="LibIss">
<META NAME="KBArea" CONTENT="Support; KB; utilities">
<META NAME="Description" CONTENT="  If a function is contained in a library being added to another library, and that function already exists in the library being added to, LIB.EXE adds it anyway. The following warning is generated:     LNK4006:                 already defined in     ...">
<META NAME="Product" CONTENT="Programming Utilities">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QAVW,QAVX,QBHQ,QAY5,QBV8,QA9N,QAB4,QAUJ,QASB,QAB9,QBFY,QA6A,QAK9,QAHT,QABC V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>PRB: Extra Copies of Function Added to Library</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  July 25, 1997</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q113065</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



<P><h3> </h3>
 
The information in this article applies to:

<UL><LI>The Library Manager (LIB.EXE) included with:
   - Microsoft Visual C++ 32-bit Edition, versions 1.0, 2.0, 5.0
</UL> 
<P>
<P><h2>SYMPTOMS</h2>
 
<P>
If a function is contained in a library being added to another library, and
that function already exists in the library being added to, LIB.EXE adds it
anyway. The following warning is generated:
<P>
<PRE>   LNK4006: &lt;function name&gt; already defined in &lt;library name&gt;
                    &lt;object module name&gt;; second definition ignored

</PRE>The .OBJ file is added to the library, and can be added multiple times.
<P>
<P><h2>CAUSE</h2>
 
<P>
This behavior is by design.
<P>
<P><h2>RESOLUTION</h2>
 
<P>
If you add an object module that is already in the library, the new object
module replaces the old one. However, if you combine libraries, they are
always combined because there could be similarly named object modules in
several different libraries that don't have any of the same functions. The
above warning is generated to indicate conflicting function names.
<P>
MORE INFORMATION
 
<P>
Examining the contents of the library with the DUMPBIN utility
<P>
<PRE>   DUMPBIN &lt;library name&gt; /symbols

</PRE>shows multiple copies of the function exist in the library. The DUMPBIN
utility is in the \MSVCNT\BIN directory.
<P>
<P><h3>Sample Code</h3>
 
<P>
<PRE>   /* FILE A.C
      Compile options needed: /c
   */

   #include &lt;stdio.h&gt;
   void amain(void)
   {
       printf("a");
   }


   /* FILE B.C
      Compile options needed: /c
   */

   #include &lt;stdio.h&gt;
   void bmain(void)
   {
       printf("b");
   }


   /* Lib commands needed: */
   /* Create the libraries TEST.LIB and TESTB.LIB   */

      lib /out:test.lib a.obj
      lib /out:testb.lib b.obj

   /* Add the contents of TESTB.LIB (B.OBJ) to TEST.LIB:     */

      lib test.lib testb.lib

   /* List the current contents of TEST.LIB;                   */
   /* it will show one copy of A.OBJ and one copy of B.OBJ.    */

      lib test.lib /list

   /* Add the contents of TESTB.LIB (B.OBJ) to TEST.LIB again. */
   /* This step generates the above warning.                   */

      lib test.lib testb.lib

   /* List the current contents of TEST.LIB;            */
   /* it will show two copies of B.OBJ in the library.  */

      lib test.lib /list
</PRE> 
<PRE>Keywords          : LibIss
Version           : 1.0 2.0 5.0
Issue type        : kbprb</PRE>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
================================================================================<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  July 25, 1997</FONT>
	<BR>
	<A HREF="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
