

<HTML>
<HEAD>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>PRB: CodeView Label/Function Search Fails for MASM 5.1 Labels </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q72323 ">
<META NAME="KBModify" CONTENT="1997/07/17">
<META NAME="KBCreate" CONTENT="1991/05/23">
<META NAME="Keywords" CONTENT="CvwIss kb16bitonly kbcode kberrmsg kbprb kbtool">
<META NAME="KBArea" CONTENT="Support; KB; utilities">
<META NAME="Description" CONTENT="  An attempt to use the Label Search or Function Search command in CodeView versions 3.0 and later to find PROC labels in applications assembled with Microsoft Macro Assembler (MASM) versions 5.1 or 5.1a fails and CodeView generates the following mes...">
<META NAME="Product" CONTENT="Programming Utilities">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QAC2,QAMB,QAH4,QBE7,QBE6,QAVS,QAY5,QBV8,QAC1,QA5E,QAYA,QAIJ,QAB9,QABG,QDL9 V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>PRB: CodeView Label/Function Search Fails for MASM 5.1 Labels</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  July 17, 1997</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q72323 </B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
3.00 3.11 3.14 4.0x 4.10 | 3.00 3.11 3.12 3.50 | 3.x 4.0x 4.10 4.25
<PRE>MS-DOS                   | OS/2                | WINDOWS
</PRE>kbtool kbcode kberrmsg kbprb
<P>
 
The information in this article applies to:

<UL><LI>Microsoft CodeView for MS-DOS, versions 3.0, 3.11, 3.14, 4.0,
   4.01, 4.05, and 4.1
<LI>Microsoft CodeView for OS/2, versions 3.0, 3.11, 3.12, and 3.5
<LI>Microsoft CodeView for Windows, versions 3.0, 3.05, 3.06, 3.07,
   4.0, 4.01, and 4.1
<LI>Microsoft CodeView for Win32s, version 4.25
</UL> 
<P>
<P><h2>SYMPTOMS</h2>
 
<P>
An attempt to use the Label Search or Function Search command in
CodeView versions 3.0 and later to find PROC labels in applications
assembled with Microsoft Macro Assembler (MASM) versions 5.1 or 5.1a
fails and CodeView generates the following message:
<P>
<PRE>   Error - Unknown symbol

</PRE><h2>CAUSE</h2>
 
<P>
This behavior is expected and reflects the differences in CodeView
symbolic information in MASM versions 5.1 and 6.0 and the different
methods used to interpret this information in CodeView versions 2.x
and 3.x. CodeView version 2.2 finds PROC labels that are declared
PUBLIC in code assembled with MASM versions 5.1 and 5.1a. CodeView
versions 3.x and 4.x successfully find PROC labels in code assembled
with MASM versions 6.0x and 6.1.
<P>
<P><h2>MORE INFORMATION</h2>
 
<P>
The code example below demonstrates this situation. Assemble the code
in MASM version 5.1 or 5.1a and load it into CodeView version 3.0 or
later. An attempt to perform a Label Search or a Function Search for
"func" fails and CodeView generates one of the messages listed above.
However, CodeView 2.2 finds the label and displays the relevant code
on the screen.
<P>
<P><h3>Sample Code</h3>
 
<P>
; Assembler options needed: /Zi
; LINK options needed: /CO
<P>
.MODEL small
.STACK
.DATA
<PRE>msg     DB "Hello", 13, 10, "$"

PUBLIC  func            ; required by CodeView 2.2

</PRE>.CODE
start:  mov ax, SEG msg
<PRE>        mov ds, ax
        call func
        mov ah, 4Ch
        int 21h

func    PROC
        mov ah, 09h
        mov dx, OFFSET msg
</PRE>dosint: int 21h
<PRE>        ret
func    ENDP

</PRE>END start
<P>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional reference words: 2.20 3.00 3.50 4.00 4.10<BR>
KBCategory: kbtool kbcode kberrmsg kbprb<BR>
KBSubcategory: CvwIss<BR>
Keywords            : CvwIss kb16bitonly kbcode kberrmsg kbprb kbtool<BR>
Version             : 3.00 3.11 3.14 4.0x 4.10 | 3.00<BR>
Platform            : MS-DOS OS/2 WINDOWS<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  July 17, 1997</FONT>
	<BR>
	<A HREF="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
