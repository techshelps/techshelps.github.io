

<HTML>
<HEAD>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>PRB: U1150 Error From the LIB Utility </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q120193">
<META NAME="KBModify" CONTENT="1997/07/22">
<META NAME="KBCreate" CONTENT="1994/09/06">
<META NAME="Keywords" CONTENT="kb16bitonly">
<META NAME="KBArea" CONTENT="Support; KB; utilities">
<META NAME="Description" CONTENT="  When you build a Static Library (.LIB) from the Visual Workbench, the following error message may be returned:     LIB Fatal Error U1150    page size too small; use option /PAGE:n to increase it  There is no way to modify the  LIB  command line wit...">
<META NAME="Product" CONTENT="Programming Utilities">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QAIB,QA56,QA55,QAB4,QBSO,QANY,QBHQ,QBCU,QAY2,QAPF,QAAP,QBXT,QBWS,QBWA,QBV8 V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>PRB: U1150 Error From the LIB Utility</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  July 22, 1997</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q120193</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
1.00 1.50
WINDOWS
<PRE> kbprb

</PRE> 
The information in this article applies to:

<UL><LI>The Microsoft Library Manager (LIB.EXE), included with:
<P><PRE>    - Microsoft Visual C++ for Windows, versions 1.0 and 1.5
</UL></PRE> 
<P>
<P><h2>SYMPTOMS</h2>
 
<P>
When you build a Static Library (.LIB) from the Visual Workbench, the
following error message may be returned:
<P>
<PRE>   LIB Fatal Error U1150
   page size too small; use option /PAGE:n to increase it

</PRE>There is no way to modify the "LIB" command line within the Visual
Workbench.
<P>
<P><h2>RESOLUTION</h2>
 
<P>
There is a relatively simple workaround for this problem. All you need to
do is find the inference rule within the makefile generated by Visual
Workbench that causes the LIB utility to be run. There, you can change the
command line that is passed to the LIB utility. To do this, open the
makefile in a text editor and search for the $(PROJ).LIB: inference rule.
When that inference rule is evaluated, it creates a LIB response file
called "$(PROJ).CRF", which contains the command-line switches as well as
the responses for the LIB utility's prompts. The /PAGESIZE option is set to
64, and it can be found somewhere between the pair of "&lt;&lt;" symbols. All
that needs to be done is to change that default value from 64 to a power of
2 that is greater than 64 and is less  than or equal to 32768 (such as 128,
256, 512, 1024, 2048, 4096, and so forth).
<P>
NOTE: /PAGESIZE:64 is the hard-coded default used by the Visual Workbench
when building a static library.
<P>
There is one important caveat here, however: When you use the internal
build engine of the Visual Workbench, the inference rule portion of the
makefile is not used. Instead, the Visual Workbench uses the inference
rules only when the file is opened as an external makefile. For this
solution to work, the makefile must be opened as an external makefile in
the Visual Workbench or the library must be built with NMAKE from the
command line.
<P>
<P><h2>MORE INFORMATION</h2>
 
<P>
The page size of a library sets the alignment of modules stored in the
library. Modules start at locations that are a multiple of the page size
from the beginning of the file. When the page size is too small, the U1150
error occurs.
<P>
<P><h2>REFERENCES</h2>
 
<P>
For further information, see the documentation for the LIB utility, located
in the LIB.WRI file in the MSVC\HELP directory.
<P>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional reference words: 1.00 1.50 page size VWB<BR>
KBCategory: kbtool kbprb<BR>
KBSubcategory: LibIss<BR>
Keywords            : kb16bitonly<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  July 22, 1997</FONT>
	<BR>
	<A HREF="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
