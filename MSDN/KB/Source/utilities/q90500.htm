

<HTML>
<HEAD>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>BUG: Makefile based on PWB Library Template Not Valid </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q90500 ">
<META NAME="KBModify" CONTENT="1997/07/17">
<META NAME="KBCreate" CONTENT="1993/06/08">
<META NAME="Keywords" CONTENT="kb16bitonly">
<META NAME="KBArea" CONTENT="Support; KB; utilities">
<META NAME="Description" CONTENT="  In Programmer's Workbench (PWB) version 2.1.49, when the user opens a project created using the Library template, PWB displays a message box that contains the following error message:     Error reading project makefile line                     Unex...">
<META NAME="Product" CONTENT="Programming Utilities">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QA36,QAIB,QA01,QAPF,QA2Q,QAUR,QAG2,QBWS,QBXS,QAJN,QBHQ,QAG4,QAAP,QAB4,QBVR V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>BUG: Makefile based on PWB Library Template Not Valid</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  July 17, 1997</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q90500 </B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
2.1.49
MS-DOS
kbtool kberrmsg kbbuglist
<P>
 
The information in this article applies to:

<UL><LI>Microsoft Programmer's Workbench for MS-DOS, version 2.1.49
</UL> 
<P>
<P><h2>SYMPTOMS</h2>
 
<P>
In Programmer's Workbench (PWB) version 2.1.49, when the user opens a
project created using the Library template, PWB displays a message box that
contains the following error message:
<P>
<PRE>   Error reading project makefile line &lt;line number&gt;
      Unexpected command

</PRE>After the user chooses OK to dismiss the message box, PWB displays another
message box that contains the following message:
<P>
<PRE>   Error in project makefile format
      C:\C700\FILE.MAK
   Use it as a non-PWB makefile?

</PRE>PWB does not recognize the makefile in the opened project as a PWB
makefile.
<P>
<P><h2>CAUSE</h2>
 
<P>
This error occurs because the PWB Library template contains two incorrect
build switches.
<P>
<P><h2>RESOLUTION</h2>
 
<P>
Perform the following ten steps to modify the PWB Library template to
remove the incorrect build switches:

<OL><P><LI>From the Options menu, select Project Templates, then select
   Set Project Template.

<P><LI>In the Set Project Template dialog box, select None in the
   Runtime Support list box, and select Library in the Project
   Template list box. Then choose OK.

<P><LI>From the Options menu, select Project Templates, then select
   Customize Project Template.

<P><LI>In the Customize Project Template dialog box, select the
   following build rule:
<P>
<P><PRE>      release command lrf_lib "$(LRF) @&lt;&lt;$(PROJ).lrf\n-+$(?: = &amp;
<PRE></PRE>            ^\n-+)\n$(LIBFLAGS_G)\n$(LIBFLAGS_R);\n&lt;&lt;\n#$(OBJS)"

</PRE><P><LI>Modify the rule to move the second "&lt;&lt;" delimiter to the end of
   the rule. The changed rule is as follows:
<P>
<P><PRE>      release command lrf_lib "$(LRF) @&lt;&lt;$(PROJ).lrf\n-+$(?: = &amp;
<PRE></PRE>         ^\n-+)\n$(LIBFLAGS_G)\n$(LIBFLAGS_R);\n$(OBJS)\n&lt;&lt;"

</PRE><P><LI>Choose "Set Build Rule" to save the change.

<P><LI>Select the following build rule:
<P>
<P><PRE>      debug command lrf_lib "$(LRF) @&lt;&lt;$(PROJ).lrf\n-+$(?: = &amp;
<PRE></PRE>          ^\n-+)\n$(LIBFLAGS_G)\n$(LIBFLAGS_D);\n&lt;&lt;\n#$(OBJS)"

</PRE><P><LI>Modify the rule to move the second "&lt;&lt;" delimiter to the end of
   the rule. The changed rule is as follows:
<P>
<P><PRE>      debug command lrf_lib "$(LRF) @&lt;&lt;$(PROJ).lrf\n-+$(?: = &amp;
<PRE></PRE>           ^\n-+)\n$(LIBFLAGS_G)\n$(LIBFLAGS_D);\n$(OBJS)\n&lt;&lt;"

</PRE><P><LI>Choose "Set Build Rule" to save the change.

<P><LI>Choose OK.
<P>
</OL>After making these changes, the Library template in your project has the
correct build rules. You may want to save this template for use in other
projects. To save the current template settings, select Project Templates
from the Options menu, then select Save Custom Project Template.
<P>
<P><h2>STATUS</h2>
 
<P>
Microsoft has confirmed this to be a problem in PWB version 2.1.49. We are
researching this problem and will post new information here in the
Microsoft Knowledge Base as it becomes available.
<P>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional reference words: 7.00 buglist2.1.49<BR>
KBCategory: kbtool kberrmsg kbbuglist<BR>
KBSubcategory: PwbIss<BR>
Keywords            : kb16bitonly<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  July 17, 1997</FONT>
	<BR>
	<A HREF="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
