

<HTML>
<HEAD>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>PRB: Linker Produces 2-MB Executables Under Windows NT 3.5 </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q119668">
<META NAME="KBModify" CONTENT="1997/07/25">
<META NAME="KBCreate" CONTENT="1994/08/20">
<META NAME="Keywords" CONTENT="LINKIss kbfile kbinterop">
<META NAME="KBArea" CONTENT="Support; KB; utilities">
<META NAME="Description" CONTENT="  LINK.EXE included with Visual C++ for Windows NT, version 1.0, or FORTRAN PowerStation for Windows NT, version 1.0 produces 2 MB executable files when used on Windows NT version 3.5.  CAUSE =====  The linker uses a memory-mapped file for the output...">
<META NAME="Product" CONTENT="Programming Utilities">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QBWP,QDNL,QAC1,QDL9,QBWQ,QBWO,QBWN,QBVV,QA5A,QBW9,QBSO,QBXB,QBFY,QA56,QA55 V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>PRB: Linker Produces 2-MB Executables Under Windows NT 3.5</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  July 25, 1997</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q119668</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



<P><h3> </h3>
 
The information in this article applies to:

<UL><LI>The Microsoft Linker (LINK.EXE) included with:
   - Microsoft Visual C++ 32-bit Edition, version 1.0
   - Microsoft FORTRAN PowerStation 32, version 1.0
</UL> 
<P>
<P><h2>SYMPTOMS</h2>
 
<P>
LINK.EXE included with Visual C++ for Windows NT, version 1.0, or FORTRAN
PowerStation for Windows NT, version 1.0 produces 2 MB executable files
when used on Windows NT version 3.5.
<P>
<P><h2>CAUSE</h2>
 
<P>
The linker uses a memory-mapped file for the output file that is generated.
The initial file size is 2 MB and it is increased in 2-MB increments as the
output size grows. When the linker is finished, it truncates the file to
its proper size. It does this by truncating the file then unmapping it from
memory, whereas it makes more sense to do the reverse. (Windows NT version
3.1 produces the expected output anyway, but Windows NT version 3.5 does
not. Under Windows NT version 3.5, the truncation is not successful and the
output remains 2 MB for even the simplest "Hello, World" program.)
<P>
<P><h2>RESOLUTION</h2>
 
<P>
The next releases of these products will contain linkers that do not have
this problem. Until then, the Win32SDK version 3.5 CD contains a version of
LINK.EXE that corrects this problem in the \support\linker\32bit directory.
Replace the Visual C++ version 1.0 linker with the linker included on the
Win32 SDK version 3.5 CD.
<P>
<P><h2>STATUS</h2>
 
<P>
This problem was corrected with Windows NT, version 3.51, and FORTRAN
PowerStation, version 4.0.
<P>
<P><h2>MORE INFORMATION</h2>
 
<P>
This linker is available on the Windows for NT version 3.5 CD in the
\support\linker\32bit directory.  It is not available on the floppy disk
set.
<P>
Download LNK100.EXE, a self-extracting file, from the Microsoft
Software Library (MSL) on the following services:

<UL><LI>Microsoft Download Service (MSDL)
<P><PRE>      Dial (206) 936-6735 to connect to MSDL
      Download <A HREF="http://support.microsoft.com/download/support/mslfiles/LNK100.EXE">LNK100.EXE</A> <I>(size: 208433 bytes)</I> 
</PRE>
<LI>Internet (anonymous FTP)
<P><PRE>      ftp ftp.microsoft.com
      Change to the SOFTLIB\MSLFILES directory
      get LNK100.EXE
<P></BLOCKQUOTE>
</UL>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional query words: daytona megabyte huge patch<BR>
Keywords          : LINKIss kbfile kbinterop<BR>
Version           : 1.0<BR>
Platform          : NT WINDOWS<BR>
Issue type        : kbprb<BR>
Solution Type     : kbfix<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  July 25, 1997</FONT>
	<BR>
	<A HREF="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
