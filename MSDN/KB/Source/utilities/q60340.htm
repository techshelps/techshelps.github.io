

<HTML>
<HEAD>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Example Demonstrates Using Paths in NMAKE </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q60340 ">
<META NAME="KBModify" CONTENT="1995/01/24">
<META NAME="KBCreate" CONTENT="1990/04/04">
<META NAME="Keywords" CONTENT="kbtool">
<META NAME="KBArea" CONTENT="Support; KB; utilities">
<META NAME="Description" CONTENT="  The text below includes an NMAKE makefile that uses paths in macros, inference rules, and target dependencies (descriptor blocks).  MORE INFORMATION  The makefile compares the modification dates of the header (.H) and source code (.C) files with th...">
<META NAME="Product" CONTENT="Programming Utilities">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QBFY,QAH4,QBXB,QA9N,QAW6,QATJ,QASB,QAPN,QAFI,QA2O,QAPF,QABA,QAGB,QAEF,QBWP V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>Example Demonstrates Using Paths in NMAKE</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  January 24, 1995</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q60340 </B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
The information in this article applies to:

<UL><LI>Microsoft NMAKE Utility for MS-DOS, versions 1.01, 1.1, 1.11,
   1.12, 1.13, 1.2, 1.3, and 1.4
<LI>Microsoft NMAKE Utility for OS/2, versions 1.01, 1.11, 1.12, 1.13,
   and 1.21
<LI>Microsoft NMAKE Utility for Windows NT, versions 1.4 and 1.5
</UL> 
<P>
<P><h2>SUMMARY</h2>
 
<P>
The text below includes an NMAKE makefile that uses paths in macros,
inference rules, and target dependencies (descriptor blocks).
<P>
<P><h2>MORE INFORMATION</h2>
 
<P>
The makefile compares the modification dates of the header (.H) and
source code (.C) files with the object (.OBJ) files and the dates of
the object files with the executable (.EXE) file. If any of the
dependent files changed more recently than the target file changed,
NMAKE executes the specified commands. The dates of the header and
source code files in the WORK directory are compared to the dates of
the object files in the LIB directory.
<P>
If any of the source files changed since its associated object file
was created, NMAKE calls the compiler to create the object file and
copies it from the current directory to the LIB directory. Then NMAKE
compares the dates of the object files in the LIB directory with the
date of the executable file in the current directory. If any of the
object files changed since the executable file was created, NMAKE
calls LINK to rebuild the executable file.
<P>
The following makefile example uses several predefined macro
modifiers. For more information on the macro modifiers, please refer
to the macro section of the NMAKE documentation provided with your
compiler.
<P>
If none of the object files exist, NMAKE executes the following
commands when it runs this makefile:
<P>
<PRE>   cl /c c:\work\test1.c
   copy test1.obj c:\lib\test1.obj
      1 file(s) copied
   erase test1.obj

   cl /c c:\work\test2.c
   copy test2.obj c:\lib\test2.obj
      1 file(s) copied
   erase test2.obj

   cl /c c:\work\test3.c
   copy test3.obj c:\lib\test3.obj
      1 file(s) copied
   erase test3.obj

   link c:\lib\test1 c:\lib\test2 c:\lib\test3;

</PRE><h3>Sample Makefile</h3>
 
<P>
# macros
<P>
objdir = c:\lib
wrkdir = c:\work
list   = $(objdir)\test1.obj $(objdir)\test2.obj $(objdir)\test3.obj
<P>
# inference rules
<P>
# compile
# $&lt; represents the dependent file.
# $(*F) represents the targets base name.
# $(*R) represents the targets base name and directory.
<P>
{$(wrkdir)}.c{$(objdir)}.obj:
<PRE>   cl /c $&lt;
   copy $(*F).obj $(*R).obj
   erase $(*F).obj

</PRE># link
# $(**R) represents all the dependents including directories.
<P>
{$(objdir)}.obj{}.exe:
<PRE>   link $(**R);

</PRE># target-dependencies
# $$(@B) represents the base name of the current target.
<P>
test1.exe : $(list)
<P>
$(objdir)\*.obj : $(wrkdir)\$$(@B).c $(wrkdir)\test1.h $(wrkdir)\test2.h
<P>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional reference words: kbinf kbinf 1.10 1.20 1.30 1.40 1.50<BR>
KBCategory: kbtool<BR>
KBSubcategory: NmakeIss<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  January 24, 1995</FONT>
	<BR>
	<A HREF="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
