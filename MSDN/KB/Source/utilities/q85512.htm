

<HTML>
<HEAD>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>BUG: CodeView Executes Entire Single Statement Loop </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q85512 ">
<META NAME="KBModify" CONTENT="1996/05/01">
<META NAME="KBCreate" CONTENT="1992/06/11">
<META NAME="Keywords" CONTENT="kbtool kbcode kbbuglist">
<META NAME="KBArea" CONTENT="Support; KB; utilities">
<META NAME="Description" CONTENT="  Under certain circumstances CodeView will execute an entire for, while, or do-while loop containing a single line of source code. CodeView may appear to hang if the loop does many iterations, but that is not the case.  RESOLUTION  A detailed resolu...">
<META NAME="Product" CONTENT="Programming Utilities">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QATJ,QA28,QAZM,QAZL,QAVX,QAVW,QAA7,QAPN,QAH4,QAJQ,QBXT,QA5V,QAIB,QAGX,QDJO V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>BUG: CodeView Executes Entire Single Statement Loop</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  May 1, 1996</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q85512 </B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
The information in this article applies to:

<UL><LI>Microsoft CodeView for MS-DOS, versions 2.2, 3.0, 3.11, 3.14, 4.0,
   4.01, 4.05, and 4.1
<LI>Microsoft CodeView for OS/2, versions 2.2, 3.0, 3.11, 3.12, and 3.5
<LI>Microsoft CodeView for Windows, versions 3.0, 3.05, 3.06, 3.07,
   4.0, 4.01, and 4.1
<LI>Microsoft CodeView for Win32s, version 4.25
</UL> 
<P>
<P><h2>SYMPTOMS</h2>
 
<P>
Under certain circumstances CodeView will execute an entire for,
while, or do-while loop containing a single line of source code.
CodeView may appear to hang if the loop does many iterations, but that
is not the case.
<P>
<P><h2>RESOLUTION</h2>
 
<P>
A detailed resolution follows. In the case of while and for loops, use
braces in the loop body and do not have the closing brace on the same
line as the single-line statement. In the case of do-while loops, do
not have the while on the same line as the single-line statement.
<P>
<P><h2>STATUS</h2>
 
<P>
Microsoft has confirmed this to be a bug in the Microsoft products listed
at the beginning of this article. We are researching this bug and will post
new information here in the Microsoft Knowledge Base as it becomes
available.
<P>
<P><h2>MORE INFORMATION</h2>
 
<P>
The following forms of for, while, and do-while loops execute
completely while trying to single step under CodeView:
<P>
<PRE>   for( initialize ; test ; action )
      statement1, statement2, ..., statementn;

   for( initialize ; test ; action )
   {  statement1, statement2, ..., statementn; }

   for( initialize ; test ; action ) {
      statement1, statement2, ..., statementn; }

   for( initialize ; test ; action )
   {
      statement1, statement2, ..., statementn; }

   while( condition )
      statement1, statement2, ..., statementn;

   while( condition )
   {  statement1, statement2, ..., statementn; }

   while( condition ) {
      statement1, statement2, ..., statementn; }

   while( condition )
   {
      statement1, statement2, ..., statementn; }

   do statement1, statement2, ..., statementn; while( condition );

   do
      statement1, statement2, ..., statementn; while( condition );

   do { statement1, statement2, ..., statementn; } while( condition );

   do
   {  statement1, statement2, ..., statementn; } while( condition );

</PRE>The following forms of for, while, and do-while loops execute as
expected when single stepping under CodeView:
<P>
<PRE>   for( initialize ; test ; action )
   {
      statement1, statement2, ..., statementn;
   }

   for( initialize ; test ; action ) {
      statement1, statement2, ..., statementn;
   }

   while( condition ) {
      statement1, statement2, ..., statementn;
   }

   while( condition )
   {
      statement1, statement2, ..., statementn;
   }

   do statement1, statement2, ..., statementn;
   while( condition );

   do
      statement1, statement2, ..., statementn;
   while( condition );

   do { statement1, statement2, ..., statementn; }
   while( condition );

   do
   {   statement1, statement2, ..., statementn; }
   while( condition );

</PRE>The for, while, and do-while loops also execute correctly if multiple
statement lines are broken up into separate lines. The following
source code appears to hang when tracing into or stepping over with
CodeView. The following code does not demonstrate every case, but the
behavior is the same for all of the cases above.
<P>
<P><h3>Sample Code</h3>
 
<P>
<PRE>/* Compile options needed: /Zi /Od
*/

#define SIZE 500

int array[SIZE];

int main(void)
</PRE>{
<PRE>   int index = 0, flag = 0;

   for( index = 0; index &lt; SIZE ; index++)
      array[index] = index;  /* CodeView appears to hang
                                here. Wait and the loop
                                will execute completely.
                             */
   index = 0;

   while( index &lt; SIZE )
   array[index] = index, flag = index++; /* CodeView appears to hang
                                            here. Wait and the loop
                                            will execute completely.
                                         */
   return ( 1 );
</PRE>}
<P>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional reference words: 3.00 3.50 4.00 4.10<BR>
KBCategory: kbtool kbcode kbbuglist<BR>
KBSubcategory: CvwIss<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  May 1, 1996</FONT>
	<BR>
	<A HREF="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
