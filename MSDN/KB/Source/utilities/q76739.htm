

<HTML>
<HEAD>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Updating Backup Files with NMAKE &amp; ALL Target-Dependency </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q76739 ">
<META NAME="KBModify" CONTENT="1995/01/24">
<META NAME="KBCreate" CONTENT="1991/09/30">
<META NAME="Keywords" CONTENT="kbtool">
<META NAME="KBArea" CONTENT="Support; KB; utilities">
<META NAME="Description" CONTENT="  The text below demonstrates using NMAKE and the ALL target-dependency (an NMAKE keyword) to copy or backup files that are out-of-date with respect to the previous copy or archive.  MORE INFORMATION  The steps below create a .MAK file that copies th...">
<META NAME="Product" CONTENT="Programming Utilities">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QAUR,QBFY,QDIU,QA3W,QA9N,QASB,QDKH,QAFY,QANE,QDKI,QBXB,QATJ,QAFI,QALQ,QBSO V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>Updating Backup Files with NMAKE &amp; ALL Target-Dependency</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  January 24, 1995</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q76739 </B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
The information in this article applies to:

<UL><LI>Microsoft NMAKE for MS-DOS, versions 1.01, 1.11, 1.12, 1.13, 1.2,
   1.3, and 1.4
<LI>Microsoft NMAKE for OS/2, versions 1.11, 1.12, 1.13, and 1.21
<LI>Microsoft NMAKE Utility for Windows NT, versions 1.4 and 1.5
</UL> 
<P>
<P><h2>SUMMARY</h2>
 
<P>
The text below demonstrates using NMAKE and the ALL target-dependency
(an NMAKE keyword) to copy or backup files that are out-of-date with
respect to the previous copy or archive.
<P>
<P><h2>MORE INFORMATION</h2>
 
<P>
The steps below create a .MAK file that copies the AUTOEXEC.BAT and
CONFIG.SYS files to a directory named C:\BACKUP:

<OL><P><LI>Use a text editor to create COPY.MAK that contains the following
   text:
<P>
<P><PRE>      ALL: c:\backup\autoexec.bat c:\backup\config.sys
</PRE><P>
<P><PRE>      c:\backup\autoexec.bat: c:\autoexec.bat
<PRE></PRE>         copy c:\autoexec.bat c:\backup\autoexec.bat
      c:\backup\config.sys: c:\config.sys
         copy c:\config.sys c:\backup\config.sys

   NOTE: The .MAK file above copies the AUTOEXEC.BAT files from the
   source directory (C:\) to the target directory (C:\BACKUP). The
   files are copied only if the files in the source directory have an
   older time/date stamp than the files in the target directory.

</PRE><P><LI>Create the C:\BACKUP directory if it does not already exist. To do
   so, type the following at the MS-DOS command prompt:
<P>
<P><PRE>      mkdir c:\backup
</PRE>
<P><LI>To backup any changes you made to your AUTOEXEC.BAT or CONFIG.SYS
   files, type the following at the MS-DOS command prompt:
<P>
<P><PRE>      nmake /f copy.mak
</PRE><P>
</OL>NMAKE processes only one dependency per makefile. If the makefile did
not include the ALL target-dependency (an NMAKE keyword), only the
first file would be copied and the second copy command would be
ignored completely. The ALL target creates a dependency that depends
on the completion of every task in the makefile. Without this
statement, two dependencies are declared, only one of which would be
processed.
<P>
Page 645 of the "Microsoft Basic 7.0: Programmer's Guide" for versions
7.0 and 7.1 presents a similar example. However, this example lacks
the ALL target-dependency and does not work correctly as presented.
<P>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional reference words: kbinf kbinf 1.20 1.30 1.40 1.50 gp fault trap<BR>
13 lock<BR>
KBCategory: kbtool<BR>
KBSubcategory: NmakeIss<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  January 24, 1995</FONT>
	<BR>
	<A HREF="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
