

<HTML>
<HEAD>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>The Purpose of Module Definition Files </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q27134 ">
<META NAME="KBModify" CONTENT="1995/01/24">
<META NAME="KBCreate" CONTENT="1988/02/24">
<META NAME="Keywords" CONTENT="kbtool">
<META NAME="KBArea" CONTENT="Support; KB; utilities">
<META NAME="Description" CONTENT=" When the LINK utility builds an application or a dynamic-link library (DLL) for the Microsoft Windows, Windows NT, OS/2 operating systems, or a MOVE overlaid application for MS-DOS, a module-definition (.DEF) file may be needed. Most 32-bit programs...">
<META NAME="Product" CONTENT="Programming Utilities">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QAH4,QALQ,QBWP,QDL9,QBWO,QBWN,QAPN,QAB9,QBHQ,QAUJ,QDIR,QBWQ,QBBI,QA3P,QAY5 V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>The Purpose of Module Definition Files</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  January 24, 1995</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q27134 </B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



<P>
 
The information in this article applies to:

<UL><LI>Microsoft LINK for MS-DOS, versions 5.0x, 5.1x, 5.3, 5.31.009, 5.5,
   and 5.6
<LI>Microsoft LINK for OS/2, versions 5.01.21, 5.02, 5.03, 5.05, 5.1,
   and 5.13
<LI>Microsoft LINK for Windows NT, versions 1.0 and 2.5
</UL> 
<P>
When the LINK utility builds an application or a dynamic-link library (DLL)
for the Microsoft Windows, Windows NT, OS/2 operating systems, or a MOVE
overlaid application for MS-DOS, a module-definition (.DEF) file may be
needed. Most 32-bit programs for Windows NT do not require a DEF file,
while most 16-bit programs for Windows require a DEF file. A DEF file
defines the name, size, format, functions, and segments for the application
or DLL.
<P>
A module-definition file contains one or more module statements. Each
module statement defines an attribute of the executable file. The module
statements and the attributes they define are listed below:
<P>
<PRE>   Statement      Attribute
   -------------------------------------------------------------------

   NAME           Name and type of application

   LIBRARY        Name of dynamic-link library

   DESCRIPTION    One-line description of the module

   STUB           Adds a MS-DOS executable file to the beginning of
                  the module. Usually, this program terminates
                  execution when Windows is not running or when the
                  application runs in real mode. (16-bit target only).

   APPLOADER      Replaces default Windows loader with a custom loader.
                  (16-bit target only)

   EXETYPE        Identifies the target operating system.
                  (16-bit target only)

   PROTMODE       Specifies that the module runs only in protected
                  mode OS/2. (16-bit target only)

   REALMODE       Specifies that the module is for real-mode Windows.
                  (16-bit target only)

   STACKSIZE      Local-stack size, in bytes.

   HEAPSIZE       Local-heap size, in bytes.
                  (16-bit target only)

   CODE           Default attributes for code segments.

   DATA           Default attributes for data segments.

   SECTIONS       Defines the attributes for specific sections.
                  (32-bit target only)

   SEGMENTS       Attributes for specific segments. (16-bit target only)

   OLD            Preserves export ordinal information from a previous
                  version of the library (DLL). (16-bit target only)

   EXPORTS        Exported functions.

   VERSION        Writes a user specified version number in the
                  image header. (32-bit target only)

   IMPORTS        Imported functions. (16-bit target only)

   FUNCTIONS      Specifies a function order and location.
                  (16-bit target only)

   INCLUDE        Inserts a file containing module statements.
                  (16-bit target only)

</PRE>The following three rules govern the use of these statements in a DEF
file:

<UL><LI>If you use a NAME or a LIBRARY statement (recommended), it must
   precede all other statements in the module-definition file.

<LI>You can include source-level comments in the module-definition
   file, by beginning a line with a semicolon (;). The utilities
   ignore each such comment line.

<LI>Module-definition keywords (such as NAME, LIBRARY, and SEGMENTS)
   must be entered in uppercase letters.
<P>
</UL>For more information, refer to the utility reference or online help
that accompanied your particular compiler or assembler.
<P>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional reference words: kbinf kbinf 5.01.21 5.02 5.03 5.05 5.10 5.13<BR>
5.30<BR>
5.31.009 5.50 5.60 1.00 2.50<BR>
KBCategory: kbtool<BR>
KBSubcategory: LinkIss<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  January 24, 1995</FONT>
	<BR>
	<A HREF="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
