

<HTML>
<HEAD>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>PRB: RC Error RW1031: Segment Too Large for Load Optimization </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q74411 ">
<META NAME="KBModify" CONTENT="1997/07/22">
<META NAME="KBCreate" CONTENT="1991/07/17">
<META NAME="Keywords" CONTENT="kb16bitonly">
<META NAME="KBArea" CONTENT="Support; KB; win16sdk">
<META NAME="Description" CONTENT="  When building an application, the Microsoft Windows Resource Compiler, RC.EXE, reports the error message  Error RW1031: Segment Too Large For Load Optimization.   CAUSE =====  The size of an application segment added to the size of the relocation i...">
<META NAME="Product" CONTENT="Win16 SDK">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QBWN,QDL9,QBWO,QBWQ,QAB4,QAH4,QAJH,QAOT,QAAP,QAY4,QAKR,QAIM,QAHE,QAY5,QAU3 V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>PRB: RC Error RW1031: Segment Too Large for Load Optimization</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  July 22, 1997</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q74411 </B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
3.00 3.10
WINDOWS
kbtool kbprg kbprb
<P>
 
The information in this article applies to:

<UL><LI>Microsoft Windows Software Development Kit (SDK) for Windows
   versions 3.1 and 3.0
</UL> 
<P>
<P><h2>SYMPTOMS</h2>
 
<P>
When building an application, the Microsoft Windows Resource
Compiler, RC.EXE, reports the error message "Error RW1031: Segment
Too Large For Load Optimization."
<P>
<P><h2>CAUSE</h2>
 
<P>
The size of an application segment added to the size of the
relocation information for the segment is larger than 64K.
<P>
<P><h2>RESOLUTION</h2>
 
<P>
Perform one of the following:

<UL><LI>For optimal performance in the Microsoft Windows graphical
   environment, divide the application's code into units of
   approximately 4K to 8K each.

<LI>Specify the Resource Compiler -k command-line option switch to
   disable the load optimization feature.
<P>
</UL><h2>MORE INFORMATION</h2>
 
<P>
One underlying cause for this Resource Compiler error is an
application developed for the medium or large memory model linked with
the /PACKCODE Microsoft Linker option switch. This option directs the
linker to combine code segments to produce fewer and larger code
segments.
<P>
When the Resource Compiler processes an application for load
optimization (its default behavior), it places all application
segments marked PRELOAD into the application's fastload area. The
fastload area is designed to allow the Windows kernel to copy the
initial segments of an application directly from the file on disk into
memory to minimize the amount of time the user must wait before
interacting with the application. The kernel performs minimal
processing on the contents of the fastload area to maximize its
performance benefits; this strategy is incompatible with a large
segment with much relocation information.
<P>
By breaking an application into small units, Windows can manage memory
by discarding and reloading segments as necessary. Windows supports
techniques provided by the Microsoft C compiler to name and manually
combine segments and to specify segment attributes through the
application's module definition (DEF) file. In enhanced mode Windows,
it should not be necessary to discard segments; memory is
automatically paged to disk and reloaded as required.
<P>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional reference words: 3.00 3.10 PACKC<BR>
KBCategory: kbtool kbprg kbprb<BR>
KBSubcategory: TlsRc<BR>
Keywords            : kb16bitonly<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  July 22, 1997</FONT>
	<BR>
	<A HREF="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
