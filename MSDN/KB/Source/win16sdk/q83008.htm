

<HTML>
<HEAD>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>XMS Calls Under Windows 3.1 </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q83008 ">
<META NAME="KBModify" CONTENT="1997/07/23">
<META NAME="KBCreate" CONTENT="1992/04/01">
<META NAME="Keywords" CONTENT="kb16bitonly">
<META NAME="KBArea" CONTENT="Support; KB; win16sdk">
<META NAME="Description" CONTENT="  When enhanced mode Windows is running, the WIN386 module answers all extended memory specification (XMS) calls. The standard mode MS-DOS Extender (DOSX) answers all calls only in protected mode.  The standard mode task swapper answers memory alloca...">
<META NAME="Product" CONTENT="Win16 SDK">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QAGI,QBW6,QA5W,QABB,QDL9,QBWO,QBWN,QBWQ,QABA,QAIF,QAU9,QAYV,QAUD,QAJH,QAA1 V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>XMS Calls Under Windows 3.1</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  July 23, 1997</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q83008 </B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
3.10
WINDOWS
kbprg
<P>
 
The information in this article applies to:

<UL><LI>Microsoft Windows Software Development Kit (SDK) for Windows version 3.1
</UL> 
<P>
<P><h2>SUMMARY</h2>
 
<P>
When enhanced mode Windows is running, the WIN386 module answers all
extended memory specification (XMS) calls. The standard mode MS-DOS
Extender (DOSX) answers all calls only in protected mode.
<P>
The standard mode task swapper answers memory allocation calls to
arbitrate the use of extended memory between Windows and MS-DOS
applications, and to facilitate task swapping.
<P>
<P><h2>MORE INFORMATION</h2>
 
<P>
Windows enhanced mode provides its own XMS services, without regard to
the XMS driver that was installed before Windows started up. The
amount of XMS memory available in an MS-DOS window under enhanced mode
is determined by the PIF (program information file) settings, and not
by the amount of memory actually available in the system. The enhanced
mode XMS driver returns failure for all XMS Lock Region calls, because
enhanced mode XMS uses virtual memory rather than physical memory.
<P>
In standard mode, the task swapper hooks the XMS driver, allowing it
to arbitrate XMS use between Windows-based and MS-DOS-based applications.
Most XMS calls are passed through to the original XMS driver. However,
calls that manage extended memory are affected by the PIF settings. Because
it hooks the XMS driver, the standard mode task swapper can use
extended memory allocated to Windows, but not currently in use, for
swapping. This feature is disabled if a "limulator"
[Lotus/Intel/Microsoft (LIM) standard expanded memory system driver]
is present.
<P>
The standard mode MS-DOS extender hooks XMS detection in protected
mode. The INT 2Fh call that retrieves the address of the XMS driver's
control function (AX=4310h) returns a protected mode address that an
application can call to perform XMS control functions. This is
intended for the use by application installation programs that must
determine the version number of an installed XMS driver. Applications
in the Windows environment are discouraged from making other XMS calls
in protected mode. In particular, attempting to lock XMS memory in
standard mode may result in a page fault or fatal system crash.
<P>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional reference words: 3.10 switcher<BR>
KBCategory: kbprg<BR>
KBSubcategory: KrMm<BR>
Keywords            : kb16bitonly<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  July 23, 1997</FONT>
	<BR>
	<A HREF="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
