

<HTML>
<HEAD>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Memory Use Limitations in Microsoft Windows </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q84778 ">
<META NAME="KBModify" CONTENT="1997/07/23">
<META NAME="KBCreate" CONTENT="1992/05/19">
<META NAME="Keywords" CONTENT="kb16bitonly">
<META NAME="KBArea" CONTENT="Support; KB; win16sdk">
<META NAME="Description" CONTENT="  Windows 3.0 can access up to 16 megabytes (MB) of physical memory. With the release of version 3.1, Windows can access more than 16 MB of physical memory. This article discusses the factors that influence the amount of memory available to applicati...">
<META NAME="Product" CONTENT="Win16 SDK">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QBW6,QDL9,QBWN,QBWO,QBWQ,QA59,QBWG,QANY,QABN,QAM1,QAGQ,QBW7,QAI5,QBVV,QAY5 V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>Memory Use Limitations in Microsoft Windows</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  July 23, 1997</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q84778 </B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
3.00 3.10
WINDOWS
kbprg
<P>
 
The information in this article applies to:

<UL><LI>Microsoft Windows Software Development Kit (SDK) for Windows
   versions 3.1 and 3.0
</UL> 
<P>
<P><h2>SUMMARY</h2>
 
<P>
Windows 3.0 can access up to 16 megabytes (MB) of physical memory.
With the release of version 3.1, Windows can access more than 16 MB of
physical memory. This article discusses the factors that influence the
amount of memory available to applications in the Windows environment.
<P>
<P><h2>MORE INFORMATION</h2>
 
<P>
In enhanced mode, Windows versions 3.0 and 3.1 can use features of the
Intel 386 (and compatible) microprocessors to supplement the installed
physical RAM memory with virtual memory in a disk-based swap file. As
physical memory fills, Windows sends the least-recently used pages of
memory to disk. When this data is later accessed, Windows pages it
back in from disk. This activity is transparent to applications in the
system.
<P>
Windows 3.0 cannot address any memory with an address higher than
100000h (16 MB). Windows 3.1 can address at most 256 MB of physical
RAM memory, and the largest swap file Windows 3.1 will ever create is
256 MB. To be used by Windows 3.1, all physical RAM memory must
have an address lower than 7FC00000h (2,044 MB).
<P>
While the combination of 256 MB of physical RAM memory coupled with a
256 MB swap file provides a theoretical limit of 512 MB, the actual
maximum is somewhat less than 512 MB.
<P>
The architecture of the Intel 386 processor defines a Local Descriptor
Table (LDT), which is used in the memory protection scheme. Windows
3.1 uses one LDT that provides 8192 descriptors. Each descriptor can
describe a block of memory containing at most 64 KB. While multiplying
the number of descriptors by the maximum amount of memory yields the
512 MB theoretical limit again, Windows will not access this much
memory for the following two reasons:

<UL><LI>Windows reserves some descriptors for its own use.

<LI>Most memory allocations that use a descriptor do not allocate the
   64K maximum allowed.
<P>
</UL>Both of these factors reduce the number of available descriptors and
the amount of memory that Windows can use.
<P>
While the About dialog box in the Program Manager reports an estimate
of the amount of memory available, Windows does not maintain
sufficient information to accurately report the amount of free memory
at any given time. Maintaining more accurate information regarding the
amount of free memory would seriously degrade system performance
because memory is allocated and freed very frequently.
<P>
The values reported by the GetFreeSpace and GlobalCompact functions
are less than or equal to the amount of free memory available in the
system. Because of their imprecise nature, an application should use
the value reported by one of these functions only for an informational
display. The application must not assume that it is possible to
allocate that much memory.
<P>
The largest block of memory that an application can allocate is
affected by the degree of memory fragmentation. Memory available in
fixed portions of memory may be available for allocation only as a
fixed block. For example, consider the case where the GetFreeSpace
function returns 100K available, and 64K of the available space is
located in the fixed portion of the heap with the remainder in the
movable and discardable portion of the heap. An attempt to allocate a
100K block of movable and discardable memory will most likely fail.
<P>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional reference words: 3.00 3.10<BR>
KBCategory: kbprg<BR>
KBSubcategory: KrMm<BR>
Keywords            : kb16bitonly<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  July 23, 1997</FONT>
	<BR>
	<A HREF="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
