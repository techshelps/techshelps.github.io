

<HTML>
<HEAD>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>DOCERR: Get/SetCommEventMask Functions Documented Incorrectly </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q81143 ">
<META NAME="KBModify" CONTENT="1997/07/23">
<META NAME="KBCreate" CONTENT="1992/02/26">
<META NAME="Keywords" CONTENT="kb16bitonly">
<META NAME="KBArea" CONTENT="Support; KB; win16sdk">
<META NAME="Description" CONTENT="  The descriptions in the Microsoft Windows SDK  Reference Volume 1  of GetCommEventMask() and SetCommEventMask() fail to make clear the correct use of these routines and their usefulness. This article provides additional documentation for these impo...">
<META NAME="Product" CONTENT="Win16 SDK">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QAO4,QAPN,QAY5,QBQU,QAUD,QDL9,QBWO,QBWN,QBBI,QADR,QAJX,QAEF,QBV8,QAB9,QAHE V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>DOCERR: Get/SetCommEventMask Functions Documented Incorrectly</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  July 23, 1997</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q81143 </B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
3.00 3.10
WINDOWS
kbprg kbdocerr
<P>
 
The information in this article applies to:

<UL><LI>Microsoft Windows Software Development Kit (SDK) for Windows
   versions 3.0 and 3.1
</UL> 
<P>
<P><h2>SUMMARY</h2>
 
<P>
The descriptions in the Microsoft Windows SDK "Reference Volume 1" of
GetCommEventMask() and SetCommEventMask() fail to make clear the correct
use of these routines and their usefulness. This article provides
additional documentation for these important communications functions.
<P>
<P><h2>MORE INFORMATION</h2>
 
<P>
Some background information is in order. In a communications context,
the "event word" is a word of memory the bits of which specify the
events that have occurred. An "event mask" is a word-sized parameter
to a function. The bits of the event mask specify the bits in the
event word that are affected by a given function call.
<P>
<P><h3>WORD GetCommEventMask(nCid, nEvtMask)</h3>
 
<P>
The description for the GetCommEventMask() function, on page 4-162 of
the SDK reference, reads as follows:
<P>
<PRE>   This function retrieves the value of the current event mask, and
   then clears the mask.

</PRE>A more appropriate description might read similar to the following:
<P>
<PRE>   This function retrieves the value of the current event word, and
   then clears those bits in the event word that are specified by the
   nEvtMask parameter.

</PRE>If this function was named GetCommEventWord, it might be easier to
associate the name of the function with its purpose.
<P>
Note: The GetCommEventMask() API will return the entire current event word
regardless of the value of nEvtMask.
<P>
<P><h3>WORD FAR * SetCommEventMask(nCid, nEvtMask)</h3>
 
<P>
The description for the SetCommEventMask() API, on page 4-373 of
the SDK reference, reads as follows:
<P>
<PRE>   This function enables and retrieves the event mask of the
   communications device specified by the nCid parameter. The bits of
   the nEvtMask parameter define which events are to be enabled. The
   return value points to the current state of the event mask.

</PRE>A more appropriate description might read similar to the following:
<P>
<PRE>   This function enables the event mask of the communications device
   specified by the nCid parameter. The bits of the nEvtMask parameter
   define which events are to be enabled. The return value points to
   the current state of the event word.

</PRE>SetCommEventMask returns a far pointer to the event word. The result
pointer points to "live" data; this word changes as events occur. An
application can use the pointer to check the event word to quickly
determine which events have occurred. However, to clear bits in the
event word, the application must call GetCommEventMask(). Do not write
through the pointer returned by SetCommEventMask(). SetCommEventMask()
does not alter the current event word.
<P>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional reference words: 3.00 3.10<BR>
KBCategory: kbprg kbdocerr<BR>
KBSubcategory: KrCommapi<BR>
Keywords            : kb16bitonly<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  July 23, 1997</FONT>
	<BR>
	<A HREF="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
