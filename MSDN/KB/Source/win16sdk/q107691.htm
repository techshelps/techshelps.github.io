

<HTML>
<HEAD>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Using DebugOutput to Debug a Windows-Based Application </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q107691">
<META NAME="KBModify" CONTENT="1997/07/23">
<META NAME="KBCreate" CONTENT="1993/11/24">
<META NAME="Keywords" CONTENT="kb16bitonly">
<META NAME="KBArea" CONTENT="Support; KB; win16sdk">
<META NAME="Description" CONTENT="  The DebugOutput() API has been added to Windows version 3.1. A Windows- based application can use this function to send a message to a debugging terminal connected to the COM1 port or to a window by using DBWIN. In the 16-bit Windows SDK, DBWIN is ...">
<META NAME="Product" CONTENT="Win16 SDK">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QBWN,QDL9,QBWO,QBWQ,QAY5,QABA,QBXS,QBV8,QAVX,QAPF,QAB9,QBAO,QAGQ,QAKD,QAH6 V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>Using DebugOutput to Debug a Windows-Based Application</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  July 23, 1997</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q107691</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
3.10
WINDOWS
kbprg
<P>
 
The information in this article applies to:

<UL><LI>Microsoft Windows Software Development Kit (SDK) for Windows
   version 3.1
</UL> 
<P>
<P><h2>SUMMARY</h2>
 
<P>
The DebugOutput() API has been added to Windows version 3.1. A Windows-
based application can use this function to send a message to a debugging
terminal connected to the COM1 port or to a window by using DBWIN. In the
16-bit Windows SDK, DBWIN is a sample application installed in the samples
directory (by default, C:\WINDEV\SAMPLES\DBWIN directory). DBWIN is also a
sample in Visual C++ for Windows. In the Win32 SDK for Windows NT 3.5 and
Windows 95, DBWIN is located in MSTOOLS\BIN.
<P>
NOTE: The DebugOutput() function works only under the debug version of
Windows. However, there are certain issues that must be considered while
using this function.
<P>
<P><h2>MORE INFORMATION</h2>
 

<OL><P><LI>DebugOutput() is present only in the debugging version of Windows. The
   retail version of Windows contains a stub function at this entry point.
   While an application won't fail if it calls this stub function, the stub
   won't produce any output on the debug terminal. Before starting the
   debug version of Windows and using DebugOutput(), certain issues must be
   considered. For example, add the following lines to the [Windows]
   section of the WIN.INI file
<P>
<P><PRE>      DebugOptions=0X0000
      DebugFilter=0X0000
<PRE></PRE>      DebugTaskFilter=                  ; leave it blank

   and add the following new section to your SYSTEM.INI file:

      [Debug]
      OutputTo=NUL

   The setting for the OutputTo entry in the SYSTEM.INI file disables the
   default debug kernel output to the AUX device (which maps to the COM1
   port). This setting is recommended because the DBWIN Windows sample
   application can be used to redirect output to either COM1 or COM2.

   The setting for the DebugOptions entry corresponds to the value for the
   dwOptions member of the WINDEBUGINFO structure in the Windows SDK. The
   setting for the DebugFilter entry corresponds to the value for the
   dwFilter member of WINDEBUGINFO. To determine the proper hexadecimal
   value for a setting, add the values of the options to be set. For
   example, to specify DBO_CHECKHEAP and DBO_FREEFILL, the setting for the
   DebugOptions entry would be 0x0021 (0x0001 plus 0x0020). For information
   about the possible values for these options and a full description of
   the WINDEBUGINFO structure, see the Microsoft Windows SDK "Programmer's
   Reference, Volume 3: Messages, Structures, and Macros."

</PRE><P><LI>The DebugOutput() function is prototyped in the WINDOWS.H header file
   provided with the Windows SDK; however, it is not listed in the
   LIBW.LIB import library. Therefore, a Windows-based application that
   uses the DebugOutput function must import the function in the
   application's module definition (DEF) file. Add the following lines to
   the DEF file to import the DebugOutput function:
<P>
<P><PRE>      IMPORTS
<PRE></PRE>         _DebugOutput = KERNEL._DebugOutput

   The leading underscore in the function name and the capitalization of
   the name are important because the DebugOutput function is declared
   using the C calling convention.

</PRE><P><LI>The Windows SDK documentation states that the DBF_TRACE flag can be used
   to supply trace information when an error occurs. This information may
   be useful in debugging an application. However, the DBF_TRACE flag does
   not work by itself; this flag must be OR'ed with another flag,
   typically the DBF_APPLICATION flag. For example, the following works:
<P>
<P><PRE>      DebugOutput( DBF_TRACE | DBF_APPLICATION, "This is a trace
      message.");
<P></BLOCKQUOTE>
</OL>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional reference words: 3.10<BR>
KBCategory: kbprg<BR>
KBSubcategory: KrDebug<BR>
Keywords            : kb16bitonly<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  July 23, 1997</FONT>
	<BR>
	<A HREF="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
