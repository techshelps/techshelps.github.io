

<HTML>
<HEAD>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Redirecting Debugging Information Under Windows 3.0, 3.1 </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q86263 ">
<META NAME="KBModify" CONTENT="1996/02/15">
<META NAME="KBCreate" CONTENT="1992/07/01">
<META NAME="Keywords" CONTENT="kbprg kbfile">
<META NAME="KBArea" CONTENT="Support; KB; win16sdk">
<META NAME="Description" CONTENT="  Each new application for the Microsoft Windows environment should be tested under the Windows debugging kernel. When an application performs an illegal or potentially harmful operation, the debugging kernel traps the error and provides a descriptiv...">
<META NAME="Product" CONTENT="Win16 SDK">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QBWN,QDL9,QBWO,QBWQ,QAM5,QAB5,QBXS,QAH6,QDJP,QA5A,QAKG,QDIU,QABA,QAVX,QAEV V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>Redirecting Debugging Information Under Windows 3.0, 3.1</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  February 15, 1996</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q86263 </B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
The information in this article applies to:

<UL><LI>Microsoft Windows Software Development Kit (SDK) for Windows
   versions 3.1 and 3.0
</UL> 
<P>
<P><h2>SUMMARY</h2>
 
<P>
Each new application for the Microsoft Windows environment should be
tested under the Windows debugging kernel. When an application
performs an illegal or potentially harmful operation, the debugging
kernel traps the error and provides a descriptive message about the
source of the problem. By default, the debugging kernel sends its
messages to the AUX device (which maps to the COM1 port). This article
describes how to redirect output from the debugging kernel under
Windows versions 3.0 and 3.1.
<P>
<P><h2>MORE INFORMATION</h2>
 
<P>
As noted above, in the Windows 3.0 and 3.1 environments, the debugging
kernel sends its data to the AUX device, which (in general) maps to
the COM1 port. One method to display this debugging information is to
connect a serial communications terminal or another computer running a
terminal emulation program to the COM1 port. Before running Windows,
set the port's parameters appropriately through the MS-DOS MODE
command. Placing the MODE command in the AUTOEXEC.BAT file
automatically sets the port's parameters.
<P>
When the debugging kernel starts, if no device is connected to COM1,
the kernel displays a "Cannot write to device AUX" message box. If the
COM1 port is dedicated to another use and cannot be connected to a
serial terminal, you can configure the debug kernel to send its
messages elsewhere. The remainder of this article explains the
procedures required.
<P>
Moreover, if you do not have a serial terminal connected to the COM1
port, then before starting the debug version of Windows, ensure that
the following lines are added to the [Windows] section of the WIN.INI
file:
<P>
<PRE>   DebugOptions=0x0000
   DebugFilter=0x0000
   DebugTaskFilter=       ;leave it blank

</PRE>and the following new section to your SYSTEM.INI file:
<P>
<PRE>   [Debug]
   OutputTo=NUL

</PRE>The setting for the OutputTo entry in the SYSTEM.INI disables the
default debug Kernel output to the AUX device (which maps to COM1 port).
It is a good idea to do this, since DBWIN Windows sample application can
be used to redirect output to either COM1 or COM2 port.
<P>
The setting for the DebugOptions entry corresponds to the values for the
dwOptions member of the WINDEBUGINFO structure in the Windows SDK. The
setting for the DebugFilter entry corresponds to the values for the
dwFilter member of WINDEBUGINFO. To determine the proper hexadecimal value
for a setting, add the values of the options to be set. For example, to
specify DBO_CHECKHEAP and DBO_FREEFILL, the setting for the DebugOptions
entry would be 0x0021 (0x0001 + 0x0020). For information about the possible
values for these options and a full description of the WINDEBUGINFO
structure, see the Microsoft Windows Programmers Reference, Volume 3.
<P>
<P><h3>Windows 3.1</h3>
 
<P>
In the Windows 3.1 environment, the debugging terminal is not
required. The Windows 3.1 debugging kernel provides two methods to
redirect debugging information:

<OL><P><LI>Redirect the debugging information from COM1 into a file by
   specifying the following in the [Debug] section of the SYSTEM.INI
   file:
<P>
<P><PRE>      OutputTo = &lt;filename&gt;
</PRE><P>
   To disable sending debug messages to AUX, specify the following in
   the SYSTEM.INI file:
<P>
<P><PRE>      OutputTo = NUL
</PRE>
<P><LI>Version 3.1 of the Microsoft Windows Software Development Kit (SDK)
   includes the DBWIN sample program in the advanced samples directory
   (by default, C:\WINDEV\SAMPLES). DBWIN provides a good interface
   and some useful features to debug an application in the Windows
   environment. DBWIN can disable sending debugging messages to AUX or
   redirect the debugging messages to any of the following:
<P>
<P><PRE>    - The COM1 port
    - The COM2 port
    - A window on the primary display
    - A secondary monochrome monitor
</PRE><P>
   These redirection options are listed on the Options menu. When
   using DBWIN, choose Settings from the Options menu and verify that
   the Break On Traces option is not selected. For more information on
   DBWIN, see the DBAPI.TXT and DBWIN.TXT files in the DBWIN
   directory, Appendix C of the "Microsoft Windows Software
   Development Kit: Programming Tools" version 3.1 manual, and the
   online help files.
<P>
</OL><h3>Windows 3.0</h3>
 
<P>
Windows 3.0 does not provide a built-in method to redirect debugging
output; external measures are required.
<P>
This article outlines two methods to redirect output under Windows
3.0. The first is through the WINAUX.SYS device driver that redirects
debugging output into a window on the main display, similar to the
DBWIN application discussed above. The second is through the OX.SYS
device driver that redirects debugging output to a secondary
monochrome adapter connected to the system.
<P>
The WINAUX.SYS device driver is the method of choice.
<P>
Download WINAUX.EXE, a self-extracting file, from the Microsoft Software
Library (MSL) on the following services:

<UL><LI>Microsoft Download Service (MSDL)
<P><PRE>      Dial (206) 936-6735 to connect to MSDL
      Download <A HREF="http://support.microsoft.com/download/support/mslfiles/WINAUX.EXE">WINAUX.EXE</A> <I>(size: 29822 bytes)</I> 
</PRE>
<LI>Internet (anonymous FTP)
<P><PRE>      ftp ftp.microsoft.com
      Change to the \SOFTLIB\MSLFILES directory
      Get <A HREF="http://support.microsoft.com/download/support/mslfiles/WINAUX.EXE">WINAUX.EXE</A> <I>(size: 29822 bytes)</I> 
</PRE><P>
<P>
</UL>To install WINAUX.SYS, place the following line in the CONFIG.SYS
file:
<P>
<PRE>   DEVICE=WINAUX.SYS

</PRE></OL>Another method to redirect debugging output under Windows 3.0 is to
use the OX.SYS device driver that redirects output for the AUX device
to a monochrome video adapter. Many development systems have a
secondary monochrome display to use with CodeView for Windows (CVW).
OX.SYS sends the debug messages to the monochrome display.
<P>
The OX.SYS file and its source code is available in the Software
Library. If necessary, you can modify the OX source code to direct
debugging output to another device such as LPT1, COM2, and so on.
<P>
Download OX.EXE, a self-extracting file, from the Microsoft Software
Library (MSL) on the following services:

<UL><LI>Microsoft Download Service (MSDL)
<P><PRE>      Dial (206) 936-6735 to connect to MSDL
      Download <A HREF="http://support.microsoft.com/download/support/mslfiles/OX.EXE">OX.EXE</A> <I>(size: 19411 bytes)</I> 
</PRE>
<LI>Internet (anonymous FTP)
<P><PRE>      ftp ftp.microsoft.com
      Change to the \SOFTLIB\MSLFILES directory
      Get <A HREF="http://support.microsoft.com/download/support/mslfiles/OX.EXE">OX.EXE</A> <I>(size: 19411 bytes)</I> 
</PRE><P>
</UL>To install OX.SYS, add the following line to the CONFIG.SYS file:
<P>
<PRE>   DEVICE=OX.SYS

</PRE>Under Windows 3.0, OX.SYS is limited because it provides an input-only
or output-only device. Therefore, when the Windows debugging kernel
provides output for a FatalExit message followed by the "Abort, Break,
Ignore?" prompt, OX.SYS cannot obtain the user's response. Third-party
developers have developed bi-directional device drivers to address
this limitation and have placed the drivers into the public domain.
Two examples are WINRIP.SYS and MONO-DRV.SYS.
<P>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional reference words: 3.00 3.10 softlib OX.EXE WINAUX.EXE<BR>
KBCategory: kbprg kbfile<BR>
KBSubcategory: KrDebug<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  February 15, 1996</FONT>
	<BR>
	<A HREF="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
