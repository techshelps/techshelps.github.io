

<HTML>
<HEAD>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Information About Headings and Labels in HEAPWALK </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q74301 ">
<META NAME="KBModify" CONTENT="1997/07/22">
<META NAME="KBCreate" CONTENT="1991/07/15">
<META NAME="Keywords" CONTENT="kb16bitonly">
<META NAME="KBArea" CONTENT="Support; KB; win16sdk">
<META NAME="Description" CONTENT="  The Heap Walker utility (HEAPWALK) is a tool used to view the memory layout in the Microsoft Windows graphical environment. With HEAPWALK, you can examine memory before, during, and after an application runs and examine how an application behaves u...">
<META NAME="Product" CONTENT="Win16 SDK">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QAPN,QAW6,QDL9,QBWO,QBWN,QBW6,QAC2,QAHC,QAMB,QAH4,QAYY,QAA8,QAY2,QBWQ,QAGQ V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>Information About Headings and Labels in HEAPWALK</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  July 22, 1997</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q74301 </B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
3.00 3.10
WINDOWS
kbprg
<P>
 
The information in this article applies to:

<UL><LI>Microsoft Windows Software Development Kit (SDK) for Windows
   versions 3.1 and 3.0
</UL> 
<P>
<P><h2>SUMMARY</h2>
 
<P>
The Heap Walker utility (HEAPWALK) is a tool used to view the memory
layout in the Microsoft Windows graphical environment. With HEAPWALK,
you can examine memory before, during, and after an application runs
and examine how an application behaves under different memory
conditions. This article lists and explains the columns of information
that HEAPWALK displays for global and local memory objects.
<P>
The version of HEAPWALK provided with version 3.1 of the Microsoft
Windows Software Development Kit (SDK) differs significantly from the
version provided with version 3.0. HEAPWALK version 3.1 uses the Tool
Helper dynamic-link library (DLL), displays information in a more
organized manner (by sorting objects based on a secondary key),
provides information about objects in the user heap as well as in the
GDI help, and simultaneously displays a graphical representation of a
resource along with a hex dump of the resource.
<P>
The information in this article applies to HEAPWALK versions 3.0 and
3.1 unless otherwise noted.
<P>
<P><h2>MORE INFORMATION</h2>
 
<P>
<P><h3>Main Window</h3>
 
<P>
HEAPWALK displays a list of memory objects in the global heap in its
main window. Options on the Walk menu determine which objects HEAPWALK
displays in its main window. Options on the Sort menu determine the
order in which objects are displayed in the main window. Options on
the Object menu specify a number of actions that HEAPWALK can perform
on a selected object.
<P>
For each global memory object, HEAPWALK displays various information
in its main window, as follows:
<P>
ADDRESS:
<PRE>   Address of the memory block (in hexadecimal).
    - In real mode or standard mode, this is a physical address value.
    - In enhanced mode, this is a linear address value. (The paging
      mechanism maps a linear address to a physical address.)

</PRE>HANDLE:
<PRE>   Handle for the memory block (in hexadecimal).
    - This value was returned from a GlobalAlloc call.

</PRE>SIZE:
<PRE>   Size of the memory block in bytes (in decimal).

</PRE>LOCK:
<PRE>   Current lock count of the memory block (displayed only if nonzero).

</PRE>FLG:
<PRE>   Flag.
      D - If memory block is discardable.
          Page 11-3 of the "Microsoft Windows Software Development Kit
          Tools" manual for version 3.0 incorrectly states that this
          field contains an "S" for shareable segments. Instead, the
          OBJ-TYPE field contains "Shared" for shareable segments.

</PRE>OWNER-NAME:
<PRE>   Owner of the memory block.
    - Usually the module that allocated the memory block.
    - Can be an application name (for example, HEAPWALK), one of the
      Windows modules (USER, GDI, DISPLAY, and so on), or FREE.

</PRE>OBJ-TYPE:
<PRE>   Type of memory object:
    - Code segment number or name - Code segment along with its number
        or name. (To display segment names, place the SYM file for the
        application module in the directory from which HEAPWALK runs,
        and select the Label Segments command from the Sort menu.)
    - Data - Data segment.
    - Shared - A shared object.
    - Resource
    - Kernel data structures such as:
       - Task
       - Task Database
       - Module Database

</PRE>ADD-INFO:
<PRE>   Additional information that may accompany OBJ-TYPE.
    - This is usually a resource type such as an icon, a cursor, or a
      font.

</PRE><h3>Local Window</h3>
 
<P>
To view the memory objects in an application's local heap, select the
application's data segment and use the Show and LocalWalk commands
from the Object menu. This results in two windows: a Show Window,
which displays a hexadecimal memory dump, and a Local Window, which
displays a list of the local objects and their attributes, as follows:
<P>
OFFSET:
<PRE>   Offset of the local memory block in the data segment (in
   hexadecimal).

</PRE>SIZE:
<PRE>   Size of the local object in bytes (in decimal).

</PRE>MOV/FIX:
<PRE>   Mov - For a movable memory block.
   Fix - For a fixed memory block.

</PRE>FLAGS:
<PRE>   For movable objects.
      D - If discardable.
      Lnn - Lock count if nonzero.

</PRE>OBJECT TYPE:
<PRE>   "Free" for free objects.
   For the GDI data segment, the local window displays the object type
       (for example, DC, Brush, Pen, or Region).

</PRE><h3>Show Window</h3>
 
<P>
Using the Show command from the Object menu displays a hexadecimal
dump of any global memory block in a separate window. The show window
displays the offset, hexadecimal memory dump, and the ASCII memory
dump. The Showbits command displays the memory as a bitmap (if the
block contains a cursor, an icon, or a bitmap).
<P>
HEAPWALK version 3.0 truncates objects that are larger than 64K.
HEAPWALK version 3.1 does not exhibit this behavior.
<P>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional reference words: 3.00 3.10<BR>
KBCategory: kbprg<BR>
KBSubcategory: TlsHeapWalk<BR>
Keywords            : kb16bitonly<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  July 22, 1997</FONT>
	<BR>
	<A HREF="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
