

<HTML>
<HEAD>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>SNA Server May Use Max BTU Larger Than Connection Can Support </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q182657">
<META NAME="KBModify" CONTENT="1998/03/19">
<META NAME="KBCreate" CONTENT="1998/03/17">
<META NAME="Keywords" CONTENT="prodsna snachannel snadlc snaserverservice">
<META NAME="KBArea" CONTENT="Support; KB; sna">
<META NAME="Description" CONTENT="  SNA Server may use a Maximum BTU (that is, maximum frame size) length greater than the configured host connection can support if the remote device (that is, mainframe or AS/400) specifies a maximum frame size greater than 32,000 bytes during its XI...">
<META NAME="Product" CONTENT="SNA Server">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Security" CONTENT="PUBLIC ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QANY,QBG2,QAI5,QDO3,QACK,QAKP,QAR4,QALG,QABN,QBVX,QAY0,QAX6,QALZ,QALK,QAIB V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>SNA Server May Use Max BTU Larger Than Connection Can Support</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  March 19, 1998</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q182657</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
 
The information in this article applies to:

<UL><LI>Microsoft SNA Server, versions 3.0, 3.0 SP1, 3.0 SP2, and 4.0
</UL> 
<P>
<P><h2>SYMPTOMS</h2>
 
<P>
SNA Server may use a Maximum BTU (that is, maximum frame size) length
greater than the configured host connection can support if the remote
device (that is, mainframe or AS/400) specifies a maximum frame size
greater than 32,000 bytes during its XID exchange with SNA Server.
<P>
This problem was observed while testing SNA Server using a channel
connection to a mainframe. The channel link service reported back to the
SNA Server service that it could support a Maximum BTU length of 16,393
bytes. The mainframe indicated that it could support a maximum frame size
of 38,400 bytes during the XID exchange with SNA Server. Instead of using
the smaller value of 16,393, SNA Server used 38,400 as the Maximum BTU
length.
<P>
One of the possible consequences of SNA Server and the remote device using
a Maximum BTU length greater than the underlying connection (that is,
channel, 802.2/DLC, and so on) can support is an application exception in
the SNA Server link service.
<P>
NOTE: SNA Server service internal and data link control message traces
during connection activation are needed to determine the Maximum BTU length
that will be used for the configured connections.
<P>
<P><h2>CAUSE</h2>
 
<P>
The SNA Server service does not correctly handle the Maximum BTU length
limits if the maximum length is greater than 32,000 bytes, because the
parameters that handle these limits are incorrectly defined as integers
instead of unsigned short integers.
<P>
<P><h2>STATUS</h2>
 
<P>
Microsoft has confirmed this to be a problem in SNA Server versions 3.0,
3.0 SP1, and 3.0 SP2. Microsoft is researching this problem and will post
new information here in the Microsoft Knowledge Base as it becomes
available.
<P>
Microsoft has confirmed this to be a problem in SNA Server version 4.0.
A supported fix is now available but has not been fully regression-tested
and should be applied only to systems experiencing this specific problem.
Unless you are severely impacted by this specific problem, Microsoft
recommends that you wait for the next Service Pack that contains this fix.
Contact Microsoft Technical Support for more information.
<P>
<P><h2>MORE INFORMATION</h2>
 
<P>
For more information about how SNA Server determines the Maximum BTU length
for 802.2/DLC connections, please refer to the following Knowledge Base
article:
<P>
<PRE>   Article-ID: <B><A HREF="../SNA/Q148972.htm">Q148972</A></B>
   Title     : How SNA Server Determines Max BTU Over 802.2 DLC

</PRE> 
<PRE>Keywords          : prodsna snachannel snadlc snaserverservice
Version           : WINDOWS:3.0,3.0SP1,3.0SP2,4.0
Platform          : WINDOWS
Issue type        : kbbug
Solution Type     : kbfix</PRE>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
================================================================================<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  March 19, 1998</FONT>
	<BR>
	<A HREF="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
