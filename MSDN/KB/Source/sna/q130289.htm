

<HTML>
<HEAD>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>TN3270 Errors with Telnet Daemon Installed </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q130289">
<META NAME="KBModify" CONTENT="1997/04/17">
<META NAME="KBCreate" CONTENT="1995/05/16">
<META NAME="Keywords" CONTENT="kb3rdparty kbinterop kbnetwork kbsetup ntprotocol snatn3270">
<META NAME="KBArea" CONTENT="Support; KB; sna">
<META NAME="Description" CONTENT="  If you have installed both a telnet daemon and the SNA Server TN3270 service on a computer running SNA Server 2.1, 2.11 or 3.0, the following error message may appear:     Could not start the TN3270 service on \\servername    Error 2140: An interna...">
<META NAME="Product" CONTENT="SNA Server">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QACK,QAKG,QAB4,QDNT,QBWP,QAAP,QAUJ,QAO4,QAPN,QDJP,QAMJ,QAIJ,QAWI,QAH4,QAEF V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>TN3270 Errors with Telnet Daemon Installed</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  April 17, 1997</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q130289</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
2.10 2.11 3.00
WINDOWS
kbnetwork kbsetup kbinterop kb3rdparty
<P>
 
The information in this article applies to:

<UL><LI>Microsoft SNA Server for Windows NT, versions 2.1, 2.11, and 3.0
</UL> 
<P>
<P><h2>SUMMARY</h2>
 
<P>
If you have installed both a telnet daemon and the SNA Server TN3270
service on a computer running SNA Server 2.1, 2.11 or 3.0, the following
error message may appear:
<P>
<PRE>   Could not start the TN3270 service on \\servername
   Error 2140: An internal windows NT error occurred

</PRE>The following events are recorded in the system log:
<P>
<PRE>   Event 102:   TN3270 Service initialization completed by initialization
                error.
   Explanation: TN3270 Service initialization failed.

   Event 205:   Windows Sockets API call BIND for port 23 failed with
                return code WSAEADDRINUSE.
   Explanation: Port 23 is in use by another Windows NT process.

</PRE>If the TN3270 Server Service is started before your Telnet daemon, you
encounter the same problem with a different error message:
<P>
<PRE>   Could not start "Telnet Daemon name" server service on \\servername
   error 1067: the process terminated unexpectedly.

</PRE>The following events are recorded in the system log:
<P>
<PRE>   Event 6553:  Telnet daemon name
   Description: Failed to initialize the "telnet" tcp service

   Event 6553:  Telnet Daemon name
   Description: Could not create service: telnet; error code 10048

</PRE><h2>CAUSE</h2>
 
<P>
By default, both services attempt to initialize port 23 as the default port
for their services.
<P>
<P><h2>RESOLUTION</h2>
 
<P>
If you are running both the TN3270 Server service and a Telnet Daemon
service, create a separate entry for both services in the following
file:
<P>
<PRE>   %systemroot%\system32\drivers\etc\services

</PRE>The service name should be TN3270. You must specify unique port numbers for
both the Telnet and TN3270 Service entries.
<P>
For example, after you edit the SERVICES file it might read:
<P>
<PRE>   # Copyright (c) 1993-1994 Microsoft Corp.
   #
   # This file contains port numbers for well-known services as defined by
   # RFC 1060 (Assigned Numbers).
   #
   # Format:
   #
   # &lt;service name&gt;  &lt;port number&gt;/&lt;protocol&gt;  [aliases...]   [#&lt;comment&gt;]
   #

   echo                7/tcp
   echo                7/udp
   discard             9/tcp    sink null
   discard             9/udp    sink null
   systat             11/tcp
   systat             11/tcp    users
   daytime            13/tcp
   daytime            13/udp
   netstat            15/tcp
   qotd               17/tcp    quote
   qotd               17/udp    quote
   chargen            19/tcp    ttytst source
   chargen            19/udp    ttytst source
   ftp-data           20/tcp
   ftp                21/tcp
   telnet             23/tcp
   tn3270             24/tcp
   smtp               25/tcp    mail
   time               37/tcp    timserver
   time               37/udp    timserver
   rlp                39/udp    resource      # resource location
   name               42/tcp    nameserver
   name               42/udp    nameserver
   whois              43/tcp    nicname       # usually to sri-nic
   domain             53/tcp    nameserver    # name-domain server
   domain             53/udp    nameserver
   nameserver         53/tcp    domain        # name-domain server

</PRE>NOTE: The new entry begins with tn3270.
<P>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional query words: prodnt event viewer prodsna<BR>
Keywords            : kb3rdparty kbinterop kbnetwork kbsetup ntprotocol snatn3270<BR>
Version             : 2.1 2.11 3.0<BR>
Platform            : WINDOWS<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  April 17, 1997</FONT>
	<BR>
	<A HREF="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
