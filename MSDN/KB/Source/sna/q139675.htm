

<HTML>
<HEAD>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>TN3270: Limiting Users by Port Value </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q139675">
<META NAME="KBModify" CONTENT="1995/11/15">
<META NAME="KBCreate" CONTENT="1995/11/14">
<META NAME="Keywords" CONTENT="kbnetwork kbinterop">
<META NAME="KBArea" CONTENT="Support; KB; sna">
<META NAME="Description" CONTENT="  By default, the SNA Server TN3270 server allows a client to connect using any port value and IP address. While it is possible to configure the range of IP addresses that have access to a pool or LU, TN3270 server always hard codes the port value ra...">
<META NAME="Product" CONTENT="SNA Server">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QAKG,QBWD,QARL,QDJP,QAB4,QDKO,QDKN,QDKM,QDKL,QDKJ,QDKI,QDKH,QDMR,QAUJ,QAKC V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>TN3270: Limiting Users by Port Value</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  November 15, 1995</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q139675</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
The information in this article applies to:

<UL><LI>Microsoft SNA Server version 2.11
</UL> 
<P>
<P><h2>SUMMARY</h2>
 
<P>
By default, the SNA Server TN3270 server allows a client to connect using
any port value and IP address. While it is possible to configure the range
of IP addresses that have access to a pool or LU, TN3270 server always hard
codes the port value range to (00000, 65535). There is no way to change
this using the TN3270 Admin program.
<P>
<P><h2>WORKAROUND</h2>
 
<P>
To implement checking on a given port range, the TN3270 server
configuration file (TNSVRCFG.TNC) must be manually edited.
<P>
For example:
<P>
This sample TN3270 configuration file shows one TN3270 pool configured to
allow any client Internet protocol address or client port number access to
the LUA LUs in the pool.
<P>
<PRE>   [SNA Resource 1]
   Name=TNTEST
   Sessions=16
   MaxSessions=16
   TerminalName1=IBM-3276-3
   TerminalName2=IBM-3278-3
   TerminalName3=IBM-3278-3-E
   TerminalName4=IBM-3279-3
   TerminalName5=IBM-3279-3-E

   [Group 1]
   Name=TNTEST
   Comment=
   SNAResource1=TNTEST
   IPConnection1=000.000.000.000,000.000.000.000,00000,65535

</PRE>To modify the available port numbers change the last two numbers
(00000,65535) to the desired range.
<P>
Example Two:
<P>
<PRE>   [SNA Resource 1]
   Name=TNTEST
   Sessions=16
   MaxSessions=16
   TerminalName1=IBM-3276-3
   TerminalName2=IBM-3278-3
   TerminalName3=IBM-3278-3-E
   TerminalName4=IBM-3279-3
   TerminalName5=IBM-3279-3-E

   [Group 1]
   Name=TNTEST
   Comment=
   SNAResource1=TNTEST
   IPConnection1=000.000.000.000,000.000.000.000,50000,60000

</PRE>This sets the allowable client port range to 50000-60000. Any client
attempting to connect with a different local port number will be
denied. If this occurs, the following TN3270 errors will occur:
<P>
On the client machine:
<P>
<PRE>   Warning 512
   TN3270 Service Error 512
   Access for IP address &lt;client IP address&gt; port &lt;client port number&gt;
   is not configured.

</PRE>On the server machine:
<P>
<PRE>   Warning 603
   TN3270 session with client at &lt;client IP address&gt; &lt;port &lt;client port
   number&gt;&gt; using LU &lt;LU name&gt; terminated abnormally because:

   Access for IP address &lt;client IP address&gt; &lt;port &lt;client port number&gt;&gt; is
   not configured.
   Explanation: A TN3270 client session was terminated abnormally.

   Action: No action is necessary.
</PRE>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
KBCategory: kbnetwork kbinterop<BR>
KBSubcategory: ntnetserv ntprotocol<BR>
Additional reference words: prodsna 2.11<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  November 15, 1995</FONT>
	<BR>
	<A HREF="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
