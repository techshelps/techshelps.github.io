

<HTML>
<HEAD>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>SNA Server: Windows NT Client Loses Session To Server </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q126451">
<META NAME="KBModify" CONTENT="1995/11/01">
<META NAME="KBCreate" CONTENT="1995/02/23">
<META NAME="Keywords" CONTENT="kbnetwork kbbug3.50 kbfix3.50.sp3">
<META NAME="KBArea" CONTENT="Support; KB; sna">
<META NAME="Description" CONTENT="  When you close an SNA Server 5250 (or APPC) session on a Windows NT 3.5 computer, any other SNA applications with a connection to the server lose their session. As a result:   - If SNA Admin is also running on the same machine, and the 5250    sess...">
<META NAME="Product" CONTENT="SNA Server">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QBWP,QAAP,QAB4,QAJQ,QAKP,QAGI,QDO3,QAKJ,QDL9,QBWQ,QBWO,QBWN,QBVX,QDNL,QAVZ V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>SNA Server: Windows NT Client Loses Session To Server</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  November 1, 1995</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q126451</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
The information in this article applies to:

<UL><LI>Microsoft Windows NT Workstation version 3.5
<LI>Microsoft Windows NT Server version 3.5
<LI>Microsoft SNA Server for Windows NT, version 2.1
</UL> 
<P>
<P><h2>SYMPTOMS</h2>
 
<P>
When you close an SNA Server 5250 (or APPC) session on a Windows NT 3.5
computer, any other SNA applications with a connection to the server
lose their session. As a result:

<UL><LI>If SNA Admin is also running on the same machine, and the 5250
   session is disconnected. SNA Admin may also lose its connection
   to SNA Server, causing an SNA Server Admin Error.
<P>
   NOTE: 5250 emulators also use the SNA Server APPC interface.

<LI>The Windows NT system event log includes the following error (for each
   time the user disconnected their 5250 session), if TCP/IP is being
   used:
<P>
<P><PRE>      Event: 2012
      Source: Srv
      Description: The server has encountered a network error.
</PRE>
<LI>Within an internal SNA Server client trace, the named pipe session
   fails with rc=59 (An unexpected network error occurred).

<LI>Any other APPC applications with sessions against the same SNA Server
   receive the following error:
<P>
<P><PRE>      primary return code = F003 = AP_COMM_SUBSYSTEM_ABENDED
</PRE><P>
   This error returned by SNA Server when its client-server LAN session
   is lost.
<P>
</UL><h2>CAUSE</h2>
 
<P>
If a Windows NT process has a pending write request on a named pipe and
then calls ExitProcess() before the write completes, all other applications
connected to the same server pipe fail with error 59 (unexpected pipe
close).
<P>
<P><h2>STATUS</h2>
 
<P>
Microsoft has confirmed this to be a problem in Windows NT version 3.5.
This problem has been corrected in the latest U.S. Service Pack for Windows
NT version 3.5. For information on obtaining the Service Pack, query on the
following word in the Microsoft Knowledge Base (without the spaces):
<P>
<PRE>   S E R V P A C K
</PRE>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
KBCategory: kbnetwork kbbug3.50 kbfix3.50.sp3<BR>
KBSubcategory: ntnetserv<BR>
Additional reference words: prodnt prodsna 2.10 3.50 rdr.sys 2012 sna f003<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  November 1, 1995</FONT>
	<BR>
	<A HREF="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
