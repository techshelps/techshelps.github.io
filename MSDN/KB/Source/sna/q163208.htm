

<HTML>
<HEAD>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Downstream PU Fails to Activate After Short ACTLU Response </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q163208">
<META NAME="KBModify" CONTENT="1997/04/17">
<META NAME="KBCreate" CONTENT="1997/02/05">
<META NAME="Keywords" CONTENT="kbbug2.00 kbbug2.11 kbnetwork snadlc snadspu snaserverservice kbbuglist">
<META NAME="KBArea" CONTENT="Support; KB; sna">
<META NAME="Description" CONTENT="  When a downstream PU2.0 emulator attempts to activate a session through an SNA Server, SNA Server may never send a NOTIFY (available) request to the host, causing the LU session to fail to activate.  This problem was observed when attempting to con...">
<META NAME="Product" CONTENT="SNA Server">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QAXB,QAH6,QDO3,QA59,QAR4,QAL0,QAKD,QAGI,QAKP,QARL,QAC1,QAIF,QBG2,QBD2,QA6E V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>Downstream PU Fails to Activate After Short ACTLU Response</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  April 17, 1997</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q163208</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
 
The information in this article applies to:

<UL><LI>Microsoft SNA Server, versions 2.0, 2.1, 2.11, and 2.11 SP1
</UL> 
<P>
<P><h2>SYMPTOMS</h2>
 
<P>
When a downstream PU2.0 emulator attempts to activate a session through
an SNA Server, SNA Server may never send a NOTIFY (available) request
to the host, causing the LU session to fail to activate.
<P>
This problem was observed when attempting to configure an ASCII-3270
protocol converter (SyncResearch SDLC/LLC2 converter) to use an SNA
Server downstream PU connection.
<P>
<P><h2>CAUSE</h2>
 
<P>
SNA Server automatically sends NOTIFY (unavailable) when the upstream
host connection becomes active, and it depends on the downstream PU2.0
client to send a NOTIFY (available) or a "long" ACTLU response later on.
However, some downstream clients do not send a NOTIFY message and send
"short" ACTLU responses, and so SNA Server never sends a NOTIFY(available)
to the host.
<P>
<P><h2>RESOLUTION</h2>
 
<P>
An update to Snaservr.exe is available for SNA Server 2.11; the update
supports a new registry parameter to correct this problem. This update is
newer than SNA Server 2.11 Service Pack 1.
<P>
Once you have applied this update, you must also add the following registry
entry. This will cause SNA Server to respond to the downstream client
connection request. To add the registry entry:
<P>
WARNING: Using Registry Editor incorrectly can cause serious problems that
may require you to reinstall Windows NT. Microsoft cannot guarantee that
problems resulting from the incorrect use of Registry Editor can be solved.
Use Registry Editor at your own risk.

<OL><P><LI>Start Registry Editor (Regedt32.exe).

<P><LI>Under the HKEY_LOCAL_MACHINE subtree, go to the following subkey:
<P>
<P><PRE>      SYSTEM\CurrentControlSet\Services\SnaServr\Parameters
</PRE>
<P><LI>Tab to the right-hand window and press the &lt;Insert&gt; key.  In the Add
   Value dialog box, type:
<P>
<P><PRE>      Value Name: SHORTACTLU
      Data Type: REG_SZ
</PRE><P>
   and click OK.

<P><LI>In the String Editor dialog box, type:
<P>
<P><PRE>      String:  &lt;any value&gt;
</PRE><P>
   Once entered, the value will appear in REGEDT32 as follows:
<P>
<P><PRE>      SHORTACTLU:  REG_SZ: &lt;any value&gt;
</PRE>
<P><LI>Quit Registry Editor.
<P>
</OL>The SHORTACTLU registry entry causes SNA Server to respond to the
downstream client connection request the above behavior, regardless of the
value the entry is set to. When this registry entry is present, SNA Server
sends a NOTIFY(available) to the host when it receives a short ACTLU
response from the downstream client.
<P>
<P><h2>STATUS</h2>
 
<P>
Microsoft has confirmed this to be a problem in SNA Server
versions 2.0, 2.1, 2.11, and 2.11 Service Pack 1 (this feature is
implemented in 3.0).
A supported fix to 2.11 is now available, but has not been fully regression-
tested and should be applied only to systems experiencing this specific
problem. Unless you are severely impacted by this specific problem,
Microsoft recommends that you wait for the next Service Pack that contains
this fix. Contact Microsoft Technical Support for more information.
<P>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional query words: dspu prodsna<BR>
Keywords            : kbbug2.00 kbbug2.11 kbnetwork snadlc snadspu snaserverservice kbbuglist<BR>
Version             : 2.0 2.11<BR>
Platform            : WINDOWS<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  April 17, 1997</FONT>
	<BR>
	<A HREF="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
