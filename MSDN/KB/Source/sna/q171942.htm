

<HTML>
<HEAD>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>SNA Windows 95 and Win 3.x Named Pipe Clients Fail to Connect </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q171942">
<META NAME="KBModify" CONTENT="1998/03/19">
<META NAME="KBCreate" CONTENT="1997/07/24">
<META NAME="Keywords" CONTENT="snawin3x snawin95 kbfix3.00.sp2 kbnetwork kbbug">
<META NAME="KBArea" CONTENT="Support; KB; sna">
<META NAME="Description" CONTENT="  SNA Server Windows 95 and Windows 3.x named pipe clients may be unable to connect to an SNA Server computer if the Windows NT domain controller is slow to authenticate user logon requests.  Looking at a network monitor or sniffer trace, the trace m...">
<META NAME="Product" CONTENT="SNA Server">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Security" CONTENT="PUBLIC ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QBWP,QARL,QDL9,QBWQ,QBWO,QBWN,QAUJ,QDO3,QAGI,QAMR,QAI5,QA9A,QBE7,QBE6,QAU3 V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>SNA Windows 95 and Win 3.x Named Pipe Clients Fail to Connect</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  March 19, 1998</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q171942</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
<P>
 
The information in this article applies to:

<UL><LI>Microsoft SNA Server, versions 3.0 and 3.0 Service Pack 1 (SP1)
</UL> 
<P>
<P><h2>SYMPTOMS</h2>
 
<P>
SNA Server Windows 95 and Windows 3.x named pipe clients may be unable to
connect to an SNA Server computer if the Windows NT domain controller is
slow to authenticate user logon requests.
<P>
Looking at a network monitor or sniffer trace, the trace may show the
server responding repeatedly with Server Message Block (SMB) Error 231 
(ERROR_PIPE_BUSY) to the client's named pipe open request (that is, SMB 
Open to \PIPE\COMNODE, the SNA Server named pipe, or \PIPE\COMNAP, the 
SnaBase named pipe).
<P>
<P><h2>CAUSE</h2>
 
<P>
When SNA Server named pipe clients connect to the SNA Server (or SnaBase
service), the client is authenticated against a Windows NT domain
controller. While this authentication is occurring, the SNA Server has
no listens pending on the server end of the named pipe, causing Windows NT
to respond with ERROR_PIPE_BUSY if other clients attempt to connect to the
SNA Server named pipe during this time period.
<P>
The SNA Server Windows NT named pipe client accommodates this condition by
retrying the named pipe open request up to 50 times with 250-millisecond
delays between each request. The SNA Server Windows 95 client retries 50
times with no delay, and the Windows 3.x client only retries five times.
<P>
<P><h2>STATUS</h2>
 
<P>
Microsoft has confirmed this to be a problem in SNA Server versions 3.0
and 3.0 Service Pack 1 (SP1). This problem was corrected in the latest SNA 
Server version 3.0 U.S. Service Pack. For information on obtaining this 
Service Pack, query on the following word in the Microsoft Knowledge Base 
(without the spaces):
<P>
<PRE>   S E R V P A C K

</PRE><h2>MORE INFORMATION</h2>
 
<P>
When the update to the SNA Server 3.0 Windows 95 and Windows 3.x clients is
applied, the client retry behavior is similar to the SNA Server Windows NT
client. The SNA client software should already be upgraded to 3.0 SP1
before applying this update. This has corrected this problem in SNA Server
client stress testing.
<P>
However, if the Windows NT domain controller is very slow to respond to
client authentication requests, the network and Windows NT domain structure
should be investigated, to find ways to improve the speed of the
authentication. For example, if users are connecting to an SNA Server which
is separated across a wide area network from the user's Windows NT domain
controller, you should consider installing a Windows NT domain controller
near the SNA Server to improve responsiveness of user authentication.
 
<PRE>Keywords          : snawin3x snawin95 kbfix3.00.sp2 kbnetwork kbbug
Version           : winnt:3.0
Issue type        : kbbug
Solution Type     : kbfix</PRE>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
================================================================================<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  March 19, 1998</FONT>
	<BR>
	<A HREF="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
