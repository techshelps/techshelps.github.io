

<HTML>
<HEAD>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>LU Session Activation Using Dynamically Defined Dependent LUs </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q161492">
<META NAME="KBModify" CONTENT="1997/11/06">
<META NAME="KBCreate" CONTENT="1996/12/23">
<META NAME="Keywords" CONTENT="prodsna sna3270 kbnetwork">
<META NAME="KBArea" CONTENT="Support; KB; sna">
<META NAME="Description" CONTENT="  SNA Server 2.11 and later versions support the VTAM V4 feature referred to as  Dynamically Defined Dependent LUs  (DDDLU). The host support of DDDLU is indicated in the ACTPU sent to SNA Server. Upon receiving a request for a 3270 session, SNA Serv...">
<META NAME="Product" CONTENT="SNA Server">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QAGI,QAKC,QBC6,QAC2,QAB5,QAG8,QADF,QDIV,QAI4,QA4H,QAB7,QDN1,QBWD,QAR5,QALG V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>LU Session Activation Using Dynamically Defined Dependent LUs</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  November 6, 1997</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q161492</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
 
The information in this article applies to:

<UL><LI>Microsoft SNA Server version 2.0, 2.1, 2.11 and 3.0
</UL> 
<P>
<P><h2>SUMMARY</h2>
 
<P>
SNA Server 2.11 and later versions support the VTAM V4 feature referred to
as "Dynamically Defined Dependent LUs" (DDDLU). The host support of DDDLU
is indicated in the ACTPU sent to SNA Server. Upon receiving a request for
a 3270 session, SNA Server will request that the host activate a LU for
this session. The Host PU definition defines support for DDDLU by the use
of the LUGROUP and LUSEED parameters, there will be no LUs defined in the
PU definition. The SNA Server configuration, though, must have the LUs
defined, although they will be displayed as inactive until a client
requests a session.
<P>
NOTE: For information about DDDLU support in VTAM, please refer to the
<PRE>      following reference:

         VTAM Network Implementation Guide, V4R1 for MVS/ESA, IBM document
         number SC31-6419-00

      For information about the format of these messages, please refer to 
      the following document:

         IBM SNA Formats Guide, IBM document number GA27-3136-14

</PRE><h2>MORE INFORMATION</h2>
 
<P>
The Host indicates support of DDDLU in the PU Capabilities (x'80') ACTPU
Control Vector by setting the first bit of the third byte of to 1.
<P>
<PRE>   DLC    ---------------------------------------------- 15:57:44.82
   DLC    04160000-&gt;01020201 DLC DATA
   DLC                       DAF:00 OAF:00 ODAI:off Exp.
   DLC                       ACTPU  RQD SC  FI BC EC DR1
   DLC
   DLC    ---- Header  at address 012D4828, 1 elements ----
   DLC    00434F4D 4E4F2D00 000000FA 0100F200     &lt;.COMNO-.......2.&gt;
   DLC
   DLC    ---- Element at address 017CE59C, start 10, end 24 ----
   DLC    6B800011 12010500 00000001 800180       &lt;k.............. &gt;
                                                                ^^^^^^ PU
</PRE>Capabilities Control Vector
<P>
<PRE>   Byte 0   Vector Key = x'80'
   Byte 1   Vector length
   Byte 2   bit 0 Unsolicited NMVT support:
        0 Sending node does not support unsolicited NMVTs for PSID.
        1 Sending node does support unsolicited NMVTs for PSID.
   Bit  1-7  Reserved

</PRE>When using DDDLU, SNA Server will only receive an ACTPU from the Host. No
ACTLUs will flow until a session is requested (unless the PU definition has
static LUs defined in addition to the dynamic). When SNA Server receives
an OpenSSCP request for a 3270 display session, it will send a NMVT request
to the Host. This NMVT request will cause an ACTLU to be sent to the SNA
Server, allowing it to satisfy the request for a session.
<P>
<PRE>   DLC    01020201-&gt;04160000 DLC DATA
   DLC                       DAF:00 OAF:00 ODAI:off Normal
   DLC                       NMVT   RQD FMD FI BC EC DR1
   DLC
   DLC    ---- Header  at address 012D4758, 1 elements ----
   DLC    0102000C 10112C00 00000000 0100DE00     &lt;......,.........&gt;
   DLC
   DLC    ---- Element at address 017CE59C, start 10, end 83 ----
   DLC    0B800041 038D0000 00001000 3F00900A     &lt;...A........?...&gt;
   DLC    04010000 00000000 070D8205 10F0F0F0     &lt;..........b..000&gt;
   DLC    03200103 30021910 00161109 130012F0     &lt;. ..0..........0&gt;
   DLC    F0F0F0F0 F0F2F0F0 F0F0F0F0 F0F0F00B     &lt;000002000000000.&gt;
   DLC    01091060 0C0A1000 1928                  &lt;...`.....(      &gt;

</PRE>NMVT Request
<P>
<PRE>   0B8000   RH
   41038D   Header
   0000  Retired
   0000  PRID
   10 0    unsolicited NMVT
      00   only NMVT for this PRID
      1    MS major vector contains SNA address list
      0000 resrv
   ========MS Major vector=======
   003F  length
   0090  Reply Product set ID &lt;&lt;&lt;
   ______________________________
      0A           length
      04           SNA Address List &lt;&lt;&lt;
      0100000000000007  local address= LU# we want an ACTLU for
   ______________________________
      0D length
      82 Port-Attached Device Config Description &lt;&lt;&lt;
         ------------------------------
         05 length
         10 Port Number &lt;&lt;&lt;
         F0F0F0   number of the port
         ------------------------------
         03 length
         20 Power On Status &lt;&lt;&lt;
         01 device is currently powered on
         ------------------------------
         03 length
         30 Power-on Since Last Solicitation &lt;&lt;&lt;
         02 device was not powered on
   ______________________________
      19 length
      10 Product Set ID &lt;&lt;&lt;
      00 retired
         ------------------------------
         16 length
         11 Product ID &lt;&lt;&lt;
         09 0000 resv
            1001 non-ibm hardware
            ------------------------------
            13 length
            00 Hardware Product ID &lt;&lt;&lt;
            12 product instance is identified by serial number
            F0F0F0F0 machine type
            F0F0F2      machine model number
            F0F0     plant of manufacture
            F0F0F0F0F0F0F0 sequence number
            ------------------------------
            0B    length
            01    Emulator Product ID &lt;&lt;&lt;
            0910600C machine type of product being emulated
            0A10001928  Model number product being emulated

</PRE>&lt;&lt;&lt; denotes vector
<P>
For more details on NMVT requests &amp; Major vectors, please refer to the IBM 
SNA Formats Guide. The documentation of the PU Capabilities Control Vector
was added to the Fifteenth Edition of the SNA Formats Guide (GA27-3136-14).
<P>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional query words: LU2 node ddlu<BR>
Keywords          : prodsna sna3270 kbnetwork<BR>
Version           : 2.0 2.1 2.11 3.0<BR>
Platform          : WINDOWS<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  November 6, 1997</FONT>
	<BR>
	<A HREF="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
