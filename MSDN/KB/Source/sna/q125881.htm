

<HTML>
<HEAD>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Maximizing IND$FILE 3270 Host File Transfer Throughput </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q125881">
<META NAME="KBModify" CONTENT="1997/04/17">
<META NAME="KBCreate" CONTENT="1995/02/07">
<META NAME="Keywords" CONTENT="kbnetwork kbtool sna3270 sna3rdparty snachannel snadlc snasdlc">
<META NAME="KBArea" CONTENT="Support; KB; sna">
<META NAME="Description" CONTENT="  Windows NT SNA Server 3270 and other third-party 3270 emulators support host file transfer using the host IND$FILE interface. There are three ways you can improve performance:   - Choosing a Fast SNA Link Interface to the Host  - Maximizing the SNA...">
<META NAME="Product" CONTENT="SNA Server">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QAH6,QASP,QDN1,QBG2,QA7O,QA7N,QAI5,QAIB,QAIA,QBWP,QBXS,QALG,QAE2,QDIZ,QBBS V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>Maximizing IND$FILE 3270 Host File Transfer Throughput</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  April 17, 1997</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q125881</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



<P><h3> </h3>
 
The information in this article applies to:

<UL><LI>Microsoft SNA Server for Windows NT versions 2.0, 2.1, 2.11, 2.11 SP1,
   and 3.0
</UL> 
<P>
<P><h2>SUMMARY</h2>
 
<P>
Windows NT SNA Server 3270 and other third-party 3270 emulators support
host file transfer using the host IND$FILE interface. There are three ways
you can improve performance:

<UL><LI>Choosing a Fast SNA Link Interface to the Host
<LI>Maximizing the SNA Link Frame Size
<LI>Maximizing the 3270 Structured Field RU Size
<P>
</UL><h3>Choosing a Fast SNA Link Interface to the Host</h3>
 
<P>
The fastest link type supported by SNA Server is a channel connection to
the host. SNA Server 2.11 and later includes built-in support for channel
adapters. Please refer to the SNA Server Companion Product Catalog for more
details on available channel adapter support. Note: SNA Server 2.1 supports
channel connections via third-party drivers.
<P>
If a channel connection is not possible, the next fastest link type
supported by SNA Server is an 802.2 connection to the host via Token Ring
(16 Mbps) or Ethernet (10 Mbps).
<P>
<P><h3>Maximizing the SNA Link Frame Size</h3>
 
<P>
The maximum frame size supported by SNA Server and the host varies
depending on the link type. The host frame size is configured in the
MAXDATA= parameter in the PU definition in VTAM. This setting should match
the "Max BTU size" in the SNA Server Connection setup/advanced dialog in
SNA Administrator.
<P>
Here are the maximum frame sizes supported (in bytes):
<P>
<PRE>   802.2 Token Ring connection (16 Mbps):      16393
   802.2 Token Ring connection (4 Mbps):        4096
   802.2 Ethernet connection:                   1493

   IBM SDLC/MPAA adapter or Microgate adapter:   521

</PRE>The maximum frame size provided by third-party SNA Server link support
depends on the third-party interface being used.
<P>
<P><h3>Maximizing the 3270 Structured Field RU Size</h3>
 
<P>
Maximizing the SNA RU size reduces end-to-end acknowledgments at the 3270
application level. An RU is split into multiple messages if the frame size
is smaller.
<P>
First, the query bit on the LU definition at the host must be enabled in
order to support structured field file transfer. This is enabled in bit 0
(the high order bit) on byte 1 in the PSERVIC parameter which you can
configure in the MODEENT on the 3270 LU's DLOGMODE mode entry:
<P>
<PRE>  PSERVIC=X'0280xxxx...

  Byte 0 is the LU type (02 in this example)
  Byte 1 is used by VSCS and needs to be set as follows:

  80 - Device supports extended data stream capability. It supports
       write structured field (WSF) and read partition query (Query)
       structured field.

</PRE>Otherwise, screen-mode transfer is used, limiting the data RU size to 1920
bytes.
<P>
The RU size supported by the host is configured in the RUSIZES=LU mode
entry (MODEENT). Here are common values used:
<P>
<PRE>   8787 = 1024
   8888 = 2048
   8989 = 4096
   8A8A = 8192
   8B8B = 16384
   8C8C = 32768

</PRE>The RU size is computed as follows:  RUSIZES = MNMN, where the RU size =
M*2^N. This specifies the maximum length of data (request units) in bytes
that the primary or secondary can send to each other. The leftmost two
digits apply to the secondary (SNA Server) logical unit, and the rightmost
two digits apply to the primary (host) logical unit. If set to 00, then the
default size (no limit on the RU size) is used.
<P>
Within the 3270 emulator, the structured field file transfer RU size must
be specified in the file transfer configuration. Within SNA Server 3270,
this is set in the Packet Size field within the 3270 File Transfer dialog
box. The maximum value is 32767.
<P>
<P><h2>MORE INFORMATION</h2>
 
<P>
While the SNA link interface and frame size are often not adjustable,
maximizing the 3270 structured field file transfer RU size can provide
dramatic performance improvements.
<P>
However, IND$FILE is not an efficient file transfer method. For higher
throughput host file transfer, an LU 6.2-based file transfer product should
be considered. See the latest SNA Server third-party companion product
catalog, ISVCAT.EXE, for a list of available products:

<UL><LI>ftp.microsoft.com in /BUSSYS/WINNT/SNA-PUBLIC
<P></UL>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional query words: prodsna ind$file 3270 file transfer<BR>
Keywords            : kbnetwork kbtool sna3270 sna3rdparty snachannel snadlc snasdlc<BR>
Version             : 2.0 2.1<BR>
Platform            : WINDOWS<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  April 17, 1997</FONT>
	<BR>
	<A HREF="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
