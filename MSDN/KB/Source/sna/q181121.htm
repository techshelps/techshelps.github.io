

<HTML>
<HEAD>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Enhanced Event Logging for SNA Server Event 9, 12 </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q181121">
<META NAME="KBModify" CONTENT="1998/02/17">
<META NAME="KBCreate" CONTENT="1998/02/16">
<META NAME="Keywords" CONTENT="kbbug3.00 kbbug3.00.sp1 prodsna snaserverservice kbbug3.00.sp2">
<META NAME="KBArea" CONTENT="Support; KB; sna">
<META NAME="Description" CONTENT="  To improve the ability to troubleshoot SNA Server Event 9 (subcode 1117)  and Event 12 errors, these events have been enhanced to include the  following additional information:    - Client Domain   - Client User (name)   - LU name (3270 LU)   - FMI...">
<META NAME="Product" CONTENT="SNA Server">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QAO4,QAPN,QARL,QAGU,QDO3,QAAP,QAB4,QAH4,QAEV,QAKP,QA26,QBVX,QAYC,QAUJ,QBVV V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>Enhanced Event Logging for SNA Server Event 9, 12</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  February 17, 1998</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q181121</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
 
The information in this article applies to:

<UL><LI>Microsoft SNA Server, versions 3.0, 3.0SP1, 3.0SP2
</UL> 
<P>
<P><h2>SUMMARY</h2>
 
<P>
To improve the ability to troubleshoot SNA Server Event 9 (subcode 1117) 
and Event 12 errors, these events have been enhanced to include the 
following additional information:
<P>
<PRE>  - Client Domain
  - Client User (name)
  - LU name (3270 LU)
  - FMI Sense Code

</PRE>When SNA Server logs an Event 9 (subcode 1117), the SNA Server has detected 
an SNA protocol violation by the 3270 emulation product being used. The 
Event 9 indicates a non-fatal protocol violation which would not cause a 
user to lose their 3270 session. If SNA Server detects a nonrecoverable 
3270 protocol violation by the 3270 emulation product, SNA Server logs an 
Event 12.
<P>
Using SNA Server 3.0 (including 3.0 SP1 and SP2), it's not possible to 
determine which client workstation caused these problems to occur, making 
troubleshooting more difficult. These events have been enhanced so that 
the specific client user can be tracked down.
<P>
To debug the exact cause of these events, SNA Server 3270 message tracing 
is needed on either the server or the client computer.
<P>
<P><h2>MORE INFORMATION</h2>
 
<P>
SNA Server 4.0 already includes these enhancements to SNA Server Event 9 
and 12. These changes have been retrofitted to SNA Server 3.0 Service Pack 
3 (SP3) in order to improve diagnostic capability for the 3.0 product.
<P>
Here is the event message text for these enhanced events:
<P>
<PRE>   ===============================
   Event ID: 9
   Source:   SNA Server
   Description:
   (&lt;subcode&gt;) A protocol error occurred due to a message sent by a 3270
   emulator or link service

   EXPLANATION
   A protocol error occurred due to a message sent by a 3270 emulator or
   link service.

   SUBCODE INFORMATION
   X'1117'  A 3270 emulator used by the following user caused an error,
   though the user's 3270 session was not interrupted:

      Client Domain: 
      Client User:   
      LU name:       
      FMI Sense Code:

   ===============================

   Event ID: 12
   Source:   SNA Server
   Description:
   A 3270 Session was lost due to a protocol error in the 3270 emulator.

   A user has lost their 3270 session due to a non-recoverable protocol
   error caused by the 3270 emulator being used. The following user
   encountered this error.

      Client Domain:  
      Client User:    
      LU name:        
      FMI Sense Code: 

   ACTION
   To troubleshoot this problem, capture matching SNA client 3270 message
   traces from this user's machine and SNA Server DLC and 3270 message
   traces on the server, and provide them to Microsoft product support.
</PRE> 
<PRE>Keywords          : kbbug3.00 kbbug3.00.sp1 prodsna snaserverservice kbbug3.00.sp2
Version           : WINDOWS:3.0,3.0SP1,3.0SP2
Platform          : WINDOWS
Issue type        : kbinfo
Solution Type     : kbfix</PRE>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
================================================================================<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  February 17, 1998</FONT>
	<BR>
	<A HREF="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
