

<HTML>
<HEAD>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>SNA Server Rejects LU6.2 BIND over 2nd Connection </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q167667">
<META NAME="KBModify" CONTENT="1998/03/19">
<META NAME="KBCreate" CONTENT="1997/04/28">
<META NAME="Keywords" CONTENT="snaappc snacpic snaserverservice kbfix3.00.sp2 kbnetwork">
<META NAME="KBArea" CONTENT="Support; KB; sna">
<META NAME="Description" CONTENT="  If SNA Server 3.0 is configured with more than one connection to a remote system, and that remote system attempts to serially activate an LU6.2 session using the same Local APPC LU /Remote APPC LU /APPC Mode name combination over each connection, t...">
<META NAME="Product" CONTENT="SNA Server">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Security" CONTENT="PUBLIC ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QAI5,QBG2,QAJQ,QDO3,QA3S,QA5W,QAJZ,QBVV,QAYZ,QBVX,QAAD,QAKP,QBWP,QANN,QAO4 V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>SNA Server Rejects LU6.2 BIND over 2nd Connection</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  March 19, 1998</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q167667</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
<P>
 
The information in this article applies to:

<UL><LI>Microsoft SNA Server for Windows NT, versions 3.0 and 3.0 SP1
</UL> 
<P>
<P><h2>SYMPTOMS</h2>
 
<P>
If SNA Server 3.0 is configured with more than one connection to a remote
system, and that remote system attempts to serially activate an LU6.2
session using the same Local APPC LU /Remote APPC LU /APPC Mode name
combination over each connection, the BIND over the first connection
succeeds, but the BIND over the second connection is rejected by SNA Server
with sense code = 083500xx, unless the SNA Server service is stopped and
started.
<P>
SNA Server will log the following event when sending the negative response
to the BIND arriving over the second connection:
<P>
<PRE>   Event ID: 17
   Source:   SNA Server
   Description:
   APPC session activation failure: BIND negative response sent

   Sense data = 083500xx (where xx may be any value)

</PRE><h2>CAUSE</h2>
 
<P>
When SNA Server 3.0 accepts an LU6.2 BIND over a connection, the LU/LU/mode
partnership is cached in SNA Server for that connection. After the session
ends, SNA Server then rejects an LU6.2 BIND for this same LU/LU/mode
partnership received over a different connection, because SNA Server
already has a partnership defined over the first connection.
<P>
This problem did not exist in SNA Server 2.x, because the SNA Server
Administrator program prevented the configuration of the same LU/LU/mode
partnership over different connections owned by the same server. However,
with SNA Server 3.0, no explicit APPC LU partnerships are defined, so this
allows SNA Server to encounter this condition.
<P>
<P><h2>STATUS</h2>
 
<P>
Microsoft has confirmed this to be a problem in SNA Server versions
3.0 and 3.0 Service Pack 1 (SP1). This problem was corrected in the 
latest SNA Server version 3.0 U.S. Service Pack. For information on 
obtaining this Service Pack, query on the following word in the 
Microsoft Knowledge Base (without the spaces):
<P>
<PRE>   S E R V P A C K

</PRE><h2>MORE INFORMATION</h2>
 
<P>
With the hotfix applied, SNA Server will accept a BIND for a specific
LU/LU/mode pairing over a connection even after the same LU/LU/mode session
had previously been active over a different connection. Note that SNA
Server does not support concurrent bound sessions using the same LU/LU/mode
names over different connections.
<P>
When a BIND arrives for a Mode that is already partnered over another
connection, SNA Server now checks the state of the partnered connection
before failing the BIND. If the other connection is not active, SNA Server
now points the partnership at the new connection (since the remote LU is
obviously on this new connection now). It would continue to reject the BIND
if the first connection is active, since it is definitely not legal to have
the partnerships over two connections active at the same time.
<P>
NOTE: With this update applied, a separate problem occurs in SNA Manager;
the APPC LU status information is not displayed properly when the LU-LU
session is established over the alternate connection. This problem is only
a cosmetic issue. This SNA Manager problem will be corrected in a future
SNA Server 3.0 service pack.
 
<PRE>Keywords          : snaappc snacpic snaserverservice kbfix3.00.sp2 kbnetwork
Version           : 3.0
Platform          : winnt</PRE>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
================================================================================<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  March 19, 1998</FONT>
	<BR>
	<A HREF="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
