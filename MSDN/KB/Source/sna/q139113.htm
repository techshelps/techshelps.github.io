

<HTML>
<HEAD>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>SNA Server Event 38, Qualifier 0004 and 0005 Not Documented </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q139113">
<META NAME="KBModify" CONTENT="1997/10/31">
<META NAME="KBCreate" CONTENT="1995/11/06">
<META NAME="Keywords" CONTENT="ntnetserv kbnetwork">
<META NAME="KBArea" CONTENT="Support; KB; sna">
<META NAME="Description" CONTENT="  The SNA Server Reference Guide documents the  qualifier  codes that are used when SNA Server logs Event 38 in the Windows NT application event log. However, qualifier 0004 and 0005 are not documented in the Reference Guide, and the information that...">
<META NAME="Product" CONTENT="SNA Server">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QBWP,QAPN,QAO4,QAH4,QAYV,QAH6,QAVZ,QAH7,QAD7,QAGU,QAKP,QDKO,QDKN,QDKM,QDKL V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>SNA Server Event 38, Qualifier 0004 and 0005 Not Documented</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  October 31, 1997</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q139113</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
2.00 2.10 2.11
WINDOWS
kbnetwork
<P>
 
The information in this article applies to:

<UL><LI>Microsoft SNA Server for Windows NT, versions 2.0, 2.1, and 2.11
</UL> 
<P>
<P><h2>SUMMARY</h2>
 
<P>
The SNA Server Reference Guide documents the "qualifier" codes that are
used when SNA Server logs Event 38 in the Windows NT application event log.
However, qualifier 0004 and 0005 are not documented in the Reference Guide,
and the information that appears in the event log is limited.
<P>
Microsoft has updated the code that contains the event log text to correct
this problem.
<P>
<P><h2>MORE INFORMATION</h2>
 
<P>
The following information describes the conditions under which Event 38 are
logged, including a more complete description of each possible qualifier
code.
<P>
Event 38: APPC session deactivated abnormally
<P>
Qualifier:
<P>
0002 = The session was deactivated because of a temporary (retry) error,
<PRE>       and may be retried.

       CAUSE: This can occur when the SNA Server connection to the remote
       system has been lost.

       ACTION: Look for an Event 23 error and check it's qualifier code.
       The SNA Server Reference Guide lists the possible qualifier codes
       and likely causes. For an 802.2 link, qualifier AE and AF indicate
       timeout (or possible media or bridge/router problems) on your LAN
       and will require a LAN trace to diagnose, along with your SNA Server
       configuration file. Pass this information to Microsoft support
       personnel.

</PRE>0003 = The session was deactivated because of a permanent (no retry)
<PRE>       error, such as a parameter mismatch. Contact the administrator of
       the partner LUs system to determine which parameters are mismatched.

       CAUSE: A configuration mismatch exists between SNA Server and the
       remote system, or the remote system's session has been reset while
       the SNA Server's conversation remained active.

       ACTION: Capture an SNA Server data link control (DLC) and LU6.2
       message trace of the problem. Pass these traces along with your
       SNA Server configuration file and your Windows NT application event
       log to Microsoft support personnel.

</PRE>0004 = SNA Server unbound the session due to a protocol violation by the
<PRE>       partner LU.

       CAUSE: SNA Server detected a protocol violation from the remote
       system on the session.

       ACTION: Capture an SNA Server data link control (DLC) and LU6.2
       message trace of the problem and provide to Microsoft support
       personnel.

</PRE>0005 = SNA Server sent an UNBIND(Cleanup) message on this session to
<PRE>       the remote system in order to clean up the session.

       CAUSE: This can be caused by any one of the following:

       1. The SNA Server client machine (where the 5250
          emulator or APPC/CPIC application is running) has
          lost it's network session to the SNA Server.

       2. The 5250 emulator or APPC/CPIC application issued 
          a TP_ENDED(HARD) to cause the LU6.2 session to be
          ended.

       3. The 5250 emulator or APPC/CPIC application failed
          abnormally or was ended by the user while in the 
          middle of a conversation.

       ACTION: If a 5250 user is losing their emulation session
       unexpectedly (due to the client's network session being lost to the
       SNA Server), capture SNA Server client internal trace, LU6.2 message
       trace and APPC API trace of the problem, along with a matching
       sniffer or network monitor trace showing the lost network session
       and provide to Microsoft support personnel.

      To enable SNA client internal tracing, please see the following
      article in the Microsoft Knowledge Base:

         ARTICLE-ID: <B><A HREF="../SNA/Q123256.htm">Q123256</A></B>
         TITLE     : Enabling SNA Server Windows 3.x Client Traces

</PRE><h2>STATUS</h2>
 
<P>
Microsoft has confirmed this to be a problem in SNA Server for Windows NT.
This problem was corrected in the latest SNA Server for Windows NT, 2.11
U.S. Service Pack. For information on obtaining the Service Pack, query on
the following word in the Microsoft Knowledge Base (without the spaces):
<P>
<PRE>   S E R V P A C K
</PRE>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
KBCategory: kbnetwork<BR>
KBSubcategory: ntnetserv<BR>
Additional reference words: prodsna 3.5 3.51<BR>
Keywords          : ntnetserv kbnetwork<BR>
Version           : 2.00 2.10 2.11<BR>
Platform          : WINDOWS<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  October 31, 1997</FONT>
	<BR>
	<A HREF="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
