

<HTML>
<HEAD>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>SLI Application Stops Responding When Issuing SLI_SEND </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q163332">
<META NAME="KBModify" CONTENT="1997/03/13">
<META NAME="KBCreate" CONTENT="1997/02/07">
<META NAME="Keywords" CONTENT="snalua kbbug2.11.sp1 kbbug3.00 kbbuglist kbfix2.11.sp2 kbnetwork">
<META NAME="KBArea" CONTENT="Support; KB; sna">
<META NAME="Description" CONTENT="  An LUA SLI application may stop responding when issuing SLI_SEND. This can occur when the underlying RUI interface returns a primary return code of PARAMETER_CHECK and secondary return code of REQUIRED_FIELD_MISSING to the SLI interface.  CAUSE ===...">
<META NAME="Product" CONTENT="SNA Server">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QDO3,QAGI,QAH4,QAUD,QBET,QAHC,QAH6,QAC2,QAYY,QAA1,QDL9,QBWQ,QBWO,QBWN,QBWP V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>SLI Application Stops Responding When Issuing SLI_SEND</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  March 13, 1997</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q163332</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
2.11 3.00
WINDOWS
kbnetwork kbbuglist kbprg kbbug2.11.sp1 kbbug3.00 kbfix2.11.sp2
<P>
 
The information in this article applies to:

<UL><LI>Microsoft SNA Server, version 2.11 Service Pack 1 (SP1) and 3.0
</UL> 
<P>
<P><h2>SYMPTOMS</h2>
 
<P>
An LUA SLI application may stop responding when issuing SLI_SEND. This can
occur when the underlying RUI interface returns a primary return code of
PARAMETER_CHECK and secondary return code of REQUIRED_FIELD_MISSING to the
SLI interface.
<P>
<P><h2>CAUSE</h2>
 
<P>
When an asynchronous RUI_WRITE completes synchronously, the resulting
completion processing is being handled in two places in error.
<P>
<P><h2>RESOLUTION</h2>
 
<P>
An update to SNA Server 2.11 Service Pack 1 and SNA Server 3.0 corrects
this problem.
<P>
The updated modules are:
<P>
<PRE>   Windows NT:  &lt;snaroot&gt;\System\Winsli32.dll
   Windows 95:  &lt;winroot&gt;\System\Winsli32.dll
   Windows 3.x: &lt;winroot&gt;\System\Winsli.dll
   OS/2: &lt;snaroot&gt;\Acssli.dll

</PRE><h2>STATUS</h2>
 
Microsoft has confirmed this to be a problem in SNA Server versions 2.11
Service Pack 1 (SP1) and 3.0.
This problem was corrected in the latest Microsoft SNA Server 2.11 U.S.
Service Pack. For information on obtaining the service pack, query on the
following word in the Microsoft Knowledge Base (without the spaces):
<P>
<PRE>   S E R V P A C K
</PRE>receive
<P>
<P><h2>MORE INFORMATION</h2>
 
<P>
An asynchronous LUA ACK call completed synchronously and the control block
for the verb was put on a queue for completion processing.
However, the (synchronous) completion processing was also being handled
directly after the verb call.
<P>
When the next SLI_SEND takes place, which (due to the maximum size of the
request unit needs to be done as two RUI_WRITEs, the first Request Unit
(RU) of the chain of data is sent, and the next is prepared. In the mean-
time the completion-processing thread notice, that there is a message on
the queue from the previously completed LUA ACK response, and begins to
set
up a control block to send the response.
Sending the response has already been handled by the synchronous
completion
code and so this is redundant and results in corruption of the verb
control
block (VCB) being prepared for the pending RUI_WRITE.
<P>
With the SNA Application, LUA API trace enabled you might see the
following:
<P>
<PRE>   RUI_WRITE request
   ---- Verb Parameter Block at address 0019A2E4 ----
   52004400 00000000 00000000 04800000     &lt;R.D.............&gt;
   02000000 53584956 4C553731 00000000     &lt;....SXIVLU71....&gt;
   07000600 00003000 20A65400 803F0010     &lt;......0. wT..?..&gt;
   00000000 00000100 20000000 00000000     &lt;........ .......&gt;
   00000000                                &lt;....            &gt;
   ---- Data at address 0054A620 ----
   D940C4C5 D4D6D5E2 E3D9C1E3 C9D6D540     &lt;R@DEMONSTRATION@&gt;
   C6D6D940 D6D5E240 E2D5C140 4040F0F0     &lt;FOR@ONS@SNA@@@00&gt;
   F5F740C4 C1E3C140 E3D9C1D5 E2C6C5D9     &lt;57@DATA@TRANSFER&gt;
   ---------------------------------------------- 08:40:18.89
   RUI_WRITE response
   PARAMETER_CHECK - REQUIRED_FIELD_MISSING
   ---- Verb Parameter Block at address 0019A2E4 ----
   52004400 00010000 00000019 04800000     &lt;R.D.............&gt;
   02000000 53584956 4C553731 00000000     &lt;....SXIVLU71....&gt;
   07000600 00003000 20A65400 803F0010     &lt;......0. wT..?..&gt;
   00000000 00000100 20000000 00000000     &lt;........ .......&gt;
   00000000                                &lt;....            &gt;
   ---- Data at address 0054A620 ----
   D940C4C5 D4D6D5E2 E3D9C1E3 C9D6D540     &lt;R@DEMONSTRATION@&gt;
   C6D6D940 D6D5E240 E2D5C140 4040F0F0     &lt;FOR@ONS@SNA@@@00&gt;
   F5F740C4 C1E3C140 E3D9C1D5 E2C6C5D9     &lt;57@DATA@TRANSFER&gt;
</PRE>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
KBCategory: kbnetwork kbbuglist kbprg kbbug2.11.sp1 kbbug3.00<BR>
kbfix2.11.sp2<BR>
KBSubcategory: snalua<BR>
Additional reference words: prodsna 3.00 2.11 SP1 LUA RUI_WRITE SLI_SEND<BR>
Keywords            : snalua kbbug2.11.sp1 kbbug3.00 kbbuglist kbfix2.11.sp2 kbnetwork<BR>
Version             : 2.11 3.00<BR>
Platform            : WINDOWS<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  March 13, 1997</FONT>
	<BR>
	<A HREF="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
