

<HTML>
<HEAD>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Configuring SNA Server through a 3174 Gateway via 802.2 </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q107567">
<META NAME="KBModify" CONTENT="1998/02/04">
<META NAME="KBCreate" CONTENT="1993/11/23">
<META NAME="Keywords" CONTENT="ntnetserv kbnetwork kbfaq">
<META NAME="KBArea" CONTENT="Support; KB; sna">
<META NAME="Description" CONTENT="  This document provides the configuration parameters required on an IBM 3174 controller acting as an 802.2 gateway for SNA Server.  Note: SNA Server can connect through the 3174 gateway feature over either Token Ring or Ethernet. The 3174 can connec...">
<META NAME="Product" CONTENT="SNA Server">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QAC2,QDIZ,QAI5,QBWP,QAVZ,QAR5,QBG2,QDJ3,QBWD,QBXS,QBW4,QBVW,QAW9,QDN1,QAZB V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>Configuring SNA Server through a 3174 Gateway via 802.2</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  February 4, 1998</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q107567</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
 
The information in this article applies to:

<UL><LI>Microsoft SNA Server for Windows NT versions 2.0 and 2.1
</UL> 
<P>
<P><h2>SUMMARY</h2>
 
<P>
This document provides the configuration parameters required on an IBM 3174
controller acting as an 802.2 gateway for SNA Server.
<P>
Note: SNA Server can connect through the 3174 gateway feature over either
Token Ring or Ethernet. The 3174 can connect to the host over any supported
link interface.
<P>
<P><h2>MORE INFORMATION</h2>
 
<P>
SNA Server can access a host system through an IBM 3174 controller, where
the 3174 is configured to support a downstream PU 2.0 computer through the
3174 gateway feature.
<P>
In this configuration, SNA Server is configured with an 802.2 connection
with "remote end=host" (as a secondary PU 2.0 node), where the 3174
provides the gateway function to a mainframe system.
<P>
On the SNA Server computer, do the following:

<OL><P><LI>Run SNA Server Setup and add an 802.2 link service.

<P><LI>Run SNA Server Admin and configure the 802.2 connection (associated with
   the 802.2 link service) from the Servers And Connections dialog box,
   using the following properties:
<P>
<P><PRE>    - Remote End: Host System
    - Activation: (as desired by the administrator--default for 802.2
      connections is On Server Startup)
    - Allowed Directions: Outgoing Calls must be selected (Incoming
      optional)
</PRE>
<P><LI>Zoom on the Setup button, and set the following additional parameters:
<P>
<P><PRE>    - Remote Network Address: Enter the network card interface address of
      the 3174. This is set in Response 900 in the 3174 customization
      program.
</PRE><P>
<P><PRE>      NOTE: If the 3174 is connecting to the host via X.25, Response 900 is
      no longer the destination for the SNA Servers on the network. The
      3174 gateway now performs as a bridge between the SNA Servers on the
      network (Token Ring or Ethernet) and the X.25 hosts. Therefore, the
      destination for the SNA Servers is the ring address assigned to the
      X.25 host via Response 943 in the 3174 Customization program.
</PRE><P>
<P><PRE>    - Local Node ID and Remote Node Name fields: not used--leave to
      defaults.
    - The Advanced settings can be left at the default settings.
</PRE>
<P><LI>Return to the main Servers And Connections dialog box. Focus on the
   802.2 connection and create all required LUs off the connection (that
   is, 3270, LUA and/or dependent APPC LUs).

<P><LI>Optional: Configure pools of LUs through the LU Pools dialog box of SNA
   Server Admin.

<P><LI>Using the Users And Groups dialog box in SNA Server Admin, assign LUs
   and/or LU Pools to the appropriate users and groups.
<P>
</OL>On the IBM 3174 computer, do the following:

<OL><P><LI>Using the 3174 configuration utility, configure downstream devices in
   Panel 940. Enter the SNA Server Token Ring network card (MAC) address
   in this panel. You can find the network card address of the SNA Server
   computer by entering "NET CONFIG WKSTA" from the command line of the
   Windows NT computer.
<P>
   When connecting over Ethernet, set the network card address in the 3174
   Panel 940 to the bit-flipped version of the SNA Server local Ethernet
   address. The 3174 appears to bit-flip the incoming source address on the
   SNA Server XID message before matching against the addresses in the 940
   screen. See below for instructions for determining the bit-flipped
   address.
<P>
   Most Windows NT adapters support overriding the network card address
   through the Windows NT network control panel. So, the SNA Server local
   network address could be set to match the address in Panel 940 on the
   3174.
<P>
   The 3174 gateway feature recognizes the SNA Server computer by it's
   network card address only.  If the address in Panel 940 does not match
   (either the actual address if Token Ring, or the bit-flipped address
   if Ethernet), the SNA Server connection will stay "Pending" and the
   following error will be reported in the Windows NT application event
   log:
<P>
<P><PRE>      Event: 230  Remote station not responding to XID commands
</PRE><P>
   NOTE: If the 3174 is communicating to the host via X.25, Panel 940 is
   not used to configure downstream devices. 3174 Configuration Questions
   942, 943 and 944 are used to help identify which downstream devices can
   communicate with the X.25 hosts.

<P><LI>Set the T value in panel 940 to Controller and not Workstation. If it is
   set to Workstation, the connection (PU) will become active but the LUs
   defined in SNA Server Admin will remain inactive. To allow "Workstation"
   to work properly, the SNA Server connection must be configured to send
   a Format 0 XID (configurable within SNA Server Admin connection's
   setup / advanced dialog).
<P>

<P><LI>Complete the 3174 configuration and reload it according to 3174
   procedures.
<P>
</OL>Determining a bit-flipped Ethernet address:

<OL><P><LI>Separate the 12-digit hexadecimal address into a set of two digits.
   For example:
<P>
<PRE>      40000A123456       -&gt;   40 00 0A 12 34 56

</PRE><P><LI>Reverse the positions of the characters in each of the two-digit sets.
   For example:
<P>
<PRE>      40 00 0A 12 34 56  -&gt;   04 00 A0 21 43 65

</PRE><P><LI>Use the table below to bit-reverse each digit. For example:
<P>
<PRE>      04 00 A0 21 43 65  -&gt;   02 00 50 48 2C 6A

   Conversion Table
   ----------------

   Original  Converted
   Bit       Bit
   --------  ---------
   0          0
   1          8
   2          4
   3          C
   4          2
   5          A
   6          6
   7          E
   8          1
   9          9
   A          5
   B          D
   C          3
   D          B
   E          7
   F          F

</PRE><P><LI>After bit-reversing each digit, combine the six pairs into a 12-digit
   hexadecimal address. For example:
<P>
<P><PRE>      020050482C6A
<P></BLOCKQUOTE>
</OL>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional query words: prodsna 3174 gateway<BR>
Keywords          : ntnetserv kbnetwork kbfaq<BR>
Version           : 2.0 2.1<BR>
Platform          : WINDOWS<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  February 4, 1998</FONT>
	<BR>
	<A HREF="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
