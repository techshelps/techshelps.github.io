

<HTML>
<HEAD>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Compatibility with S/36 </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q138804">
<META NAME="KBModify" CONTENT="1997/04/17">
<META NAME="KBCreate" CONTENT="1995/10/29">
<META NAME="Keywords" CONTENT="kbbug2.11 kbfix2.11.sp2 kbnetwork ntconfig nthowto ntnetserv">
<META NAME="KBArea" CONTENT="Support; KB; sna">
<META NAME="Description" CONTENT="  This article describes how to configure SNA Server to communicate with an IBM S/36 (SSP release 5.5 or later) over 802.2 Token Ring to support 5250 emulation. Both SNA Server and S/36 configuration parameters are discussed.  NOTE: The SNA Server 52...">
<META NAME="Product" CONTENT="SNA Server">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QAUJ,QAUD,QDIZ,QARM,QBNK,QBXT,QA5V,QAIB,QANN,QBWP,QAVZ,QAI5,QBXS,QBG2,QA7O V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>Compatibility with S/36</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  April 17, 1997</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q138804</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
 
The information in this article applies to:

<UL><LI>Microsoft SNA Server for Windows NT, versions 2.0, 2.1, 2.11, and 2.11
   Service Pack 1
</UL> 
<P>
<P><h2>SUMMARY</h2>
 
<P>
This article describes how to configure SNA Server to communicate with an
IBM S/36 (SSP release 5.5 or later) over 802.2 Token Ring to support 5250
emulation. Both SNA Server and S/36 configuration parameters are discussed.
<P>
NOTE: The SNA Server 5250 applet shipped with SNA server 2.11 and before
did not support S/36 device emulation. An updated applet which supports
both AS/400 and S/36 is available from Microsoft.
<P>
<P><h2>MORE INFORMATION</h2>
 
<P>
These instructions assume all of the following:

<UL><LI>The Windows NT DLC transport driver is already installed and is bound to
   the correct network adapter.

<LI>The SNA Server DLC link service is already installed using SNA Server
   Setup.

<LI>The system has been restarted.
<P>
</UL><h3>S/36 Configuration</h3>
 

<OL><P><LI>Sign on to the S/36 console.

<P><LI>Determine the S/36 token ring adapter address:
<P>
<P><PRE>    - At the command line type STATUS COMCNFIG.
    - Enter "1" in the field to display specific line status.
    - Enter "9" in the next screen to display the status of the token ring
      line.
</PRE><P>
   NOTE: Lines 9 and 10 are the only valid lines for token ring on the
   S/36. If no adapter address is displayed, verify that you are using the
   correct line number, and that the token ring card is properly installed.

<P><LI>Note the adapter address for use in configuring SNA Server. Press CMD7
   until you are back at the main S/36 menu. If necessary, use the BLDLIBR
   command to create a library to contain the communications configuration.

<P><LI>Type CNFIGICF to start configuring the S/36 communications.

<P><LI>First, define an ICF line member for your token ring line. On the
   "SSP-ICF CONFIGURATION MEMBER DEFINITION" screen enter a name for your
   token ring line member description and the library in which to create
   it. Type "1" to create a new member, then press ENTER.

<P><LI>On screen 2.0 enter "3" for SNA.

<P><LI>On screen 4.0 enter "4" for a token ring line member. A second question
   appears. Enter "Y" to indicate that APPC will be used.

<P><LI>On the "SNA LINE MEMBER ATTRIBUTES" screen, enter the exchange ID (XID)
   and SAP values. In most cases "00000" can be used for the XID and "04"
   can be used for the SAP.

<P><LI>On screen 12.5 type a "1" to create a new remote system with the name
   of your SNA Server in the "Remote System Name" field. Press ENTER.
<P>
</OL>10.On screen 13.0 enter "2" for a peer system. Press ENTER.
<P>
11.Enter the two parts of the SNA Server's XID. This value must match the
<PRE>   Local node ID value in the 802.2 Setup window in SNA Server admin.
   Press ENTER.

</PRE></OL>12.Enter the adapter address and SAP value for your SNA Server. The
<PRE>   appropriate SAP address for your SNA Server can be found in the Link
   properties for the link service used by the connection to the S/36.
   In most cases this will be "04". Press ENTER which returns you to the
   "SNA LINE MEMBER ATTRIBUTES" screen. Then press Cmd5 to restart
   CNFIGICF.

</PRE>13.Define a communications subsystem member. The screen currently shows the
<PRE>   name for the line member you just created. Change the member name to a
   new name for your new subsystem member. Select the following options:

      - "1" for Create a member.
      - "3" for SNA, "1" for SNA subsystem,
      - "7" for APPN.

   You should now see the "SUBSYSTEM MEMBER DEFINITION" screen.

</PRE>14.Type the system and network names for your S/36. These values correspond
<PRE>    to the Control Point Name and Network Name fields in the Remote Node
    Name section of the 802.2 Setup window.

</PRE>15.On screen 28.0 select "1" to define a non-networking node. Press ENTER
<PRE>   and you are prompted for a line member name. Type in the name of the
   line member from step 5 above. Press ENTER.

</PRE>16.Type "1" to create a new location. Enter the name of your SNA Server in
<PRE>   the Remote location name and Remote system name fields. This name must
   match the Control Point name in the Server Properties window in SNA
   Server Admin.

</PRE>17.Type "2" next to the entry you just created and press ENTER. On the
<PRE>   next screen enter "N" for Send alerts, "N" for Single-session location
   and "Y" for Stay Operational. Press ENTER, then CMD7 to return to the
   APPN SUBSYSTEM MEMBER DEFINITION screen.

</PRE>18.Enter "5" to begin defining the QPCSUPP mode. The S/36 refers to modes
<PRE>   as "session groups".

</PRE>19.Type "1" to create a new session group, "QPCSUPP", in the Session group
<PRE>   name and Default session group fields, then press Enter. Go down to the
   new entry and edit it with option "2".

</PRE>20.Enter "1" for Interactive, "32" for the session limit, and "00" for the
<PRE>   other fields. NOTE: It should be possible to set the maximum session
   limit to 64, but there is unofficial word that a single S/36 token ring
   card will only support 32 sessions. You will need to press ENTER twice
   to continue.

</PRE>21.Enter "07" for the pacing size, "16384" for the maximum RU size, and "N"
<PRE>   for the Acquire sessions field. Press Enter. You can now press CMD7
   until you exit CNFIGICF. Once you ENABLE the line your S/36 is ready to
   communicate.

</PRE><h3>SNA Server Configuration</h3>
 
<P>
Configure the following entries using the SNA Server Admin program:

<OL><P><LI>Select the SNA Server service (which appears as the Windows NT machine
   name), located in the Servers and Connections window of Admin. Enter the
   following parameters:
<P>
<P><PRE>      SNA Network Control Point Name
</PRE><P>
<P><PRE>       - Network Name =  APPN (or Network ID in the S/36 Subsystem Member
<PRE></PRE>                         Definition).

       - Control Point Name = This is the Remote location name and Remote
                              system name in the S/36 APPN Subsystem Member
                              definition. For simplicity, this should be
                              set to the local Windows NT machine name.

      (These values were specified in step 14 of the S/36 configuration.)

      Choose OK.

</PRE><P><LI>Add a new Local APPC LU off the server service by choosing the Insert
   button and entering the following parameters:
<P>
<P><PRE>      LU 6.2 Type  = Independent
</PRE><P>
<PRE>      LU Alias     = For simplicity, this should be the same as the
                     Local LU Name below.

      Network Name = APPN (same as network name in step 1)

      LU Name      = This is the same as the control point name in step 1.

      All other entries can remain at default values.

   NOTE: It is most efficient for all SNA Server users to use the same
   Local APPC LU. However, it is possible to create a unique LU for each
   user if desired, where the LU alias and LU name above could be replaced
   with the actual user name (although this requires additional
   administration to maintain).

   Choose OK.

</PRE><P><LI>Configure the SNA Server 802.2 connection by zooming on the connection
   name:
<P>
<P><PRE>      Link Service = SnaDlc1 (or name specified during SNA setup)
</PRE><P>
<PRE>      Remote End   = Peer System

      Activation   = Pick the value appropriate for your environment.

      Allowed Directions = Outgoing calls. Check Incoming Calls if you
                           want the S/36 to be able to activate the link.

      Choose the Setup button configure the following parameters:

         Remote Network Address = Set to the network adapter address of the
                                  S/36.

         Local Node ID = Leave at default - 05D FFFFF.

         Remote Node Name:

         Network Name = APPN (same as Network Name in step 1)

         Control Point Name = S/36 local system name, configured in the
                              S/36 APPN Subsystem Member Definition.

         Remote Node ID = Not used (leave blank)

         Advanced options can be left at their default settings

      Choose OK.

</PRE><P><LI>Add a new Remote APPC LU off the connection by choosing the Insert
   button and entering the following parameters:
<P>
<PRE>      LU Alias     = For simplicity, this should be the same as the
                     Remote APPC LU Name below.

      Network Name = APPN (Same as other network values above)

      LU Name      = Must be set to the S/36 system name.

      Uninterpreted LU Name = Not used (leave at default setting).

      Select Supports Parallel Sessions (required).

      Choose the Partners button. The Remote APPC LU must be partnered
      with the Local APPC LU created above, using the QPCSUPP mode. Because
      Enable Automatic Partnering is enabled by default for APPC LU's,
      this pairing will already be added.

   Choose OK.

</PRE><P><LI>Save the SNA Server configuration file and restart the SNA Server
   service. Once the SNA Server service is Active, all connections
   configured to activate on server startup will go into a Pending state,
   then switch to Active.
<P>
   NOTE: If the connection stays in Pending mode and doesn't activate:
<P>
   a. Check the Windows NT Application Event Log (using Event Viewer) to
<P><PRE>      see the reason why the connection isn't activating. For example, if
      the S/36 is not responding to TEST commands, then the remote network
      address may not be correct.
</PRE><P>
   b. Verify the configuration entries above with your S/36 system
<P><PRE>      administrator and make sure the S/36 line and communications
      subsystem are enabled.
</PRE><P>
   c. Check if the S/36 is logging any console messages when SNA Server
<P><PRE>      attempts to establish the connection.
</PRE><P>
   d. If the connection activates but users are unable to open 5250
<P><PRE>      sessions, zoom on the Status button on the Local APPC LU, which
      should show the following (when working correctly):
</PRE><P>
<PRE>      Partner LU    Mode       Connection     Sessions   Limit
      -----------   --------   ------------   --------   ------
      &lt;remote LU&gt;   SNASVCMG   &lt;connection&gt;   0          2
      &lt;remote LU&gt;   QPCSUPP    &lt;connection&gt;   0          32

      This means that up to 32 sessions are available for use, though
      no sessions are currently active.

</PRE></OL><h2>STATUS</h2>
 
<P>
Microsoft has confirmed this to be a problem in SNA Server versions 2.0,
2.1, 2.11 and 2.11 Service Pack 1.
This problem was corrected in the latest Microsoft SNA Server 2.11 U.S.
Service Pack. For information on obtaining the service pack, query on the
following word in the Microsoft Knowledge Base (without the spaces):
<P>
<PRE>   S E R V P A C K
</PRE>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional query words: prodsna<BR>
Keywords            : kbbug2.11 kbfix2.11.sp2 kbnetwork ntconfig nthowto ntnetserv<BR>
Version             : 2.0 2.1 2.11 3.5 3.51<BR>
Platform            : WINDOWS<BR>
Issue type          : kbhowto<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  April 17, 1997</FONT>
	<BR>
	<A HREF="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
