

<HTML>
<HEAD>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>How To Set Up 3270 Device Emulation To AS/400 </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q145954">
<META NAME="KBModify" CONTENT="1997/04/17">
<META NAME="KBCreate" CONTENT="1996/02/12">
<META NAME="Keywords" CONTENT="kbusage nthowto sna3270">
<META NAME="KBArea" CONTENT="Support; KB; sna">
<META NAME="Description" CONTENT="  5250 device emulation is recommended for initiating interactive terminal sessions to an AS/400. However, it is possible for an AS/400 to communicate through a 3270 data stream. This article will describe how you can configure an SNA Server and an A...">
<META NAME="Product" CONTENT="SNA Server">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QAUJ,QDIZ,QAB5,QBG2,QAI5,QABI,QAA1,QAC2,QBWD,QANE,QBV8,QDJN,QARM,QDI2,QANN V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>How To Set Up 3270 Device Emulation To AS/400</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  April 17, 1997</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q145954</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
 
The information in this article applies to:

<UL><LI>Microsoft SNA Server for Windows NT, versions 2.0, 2.1, 2.11, and 3.0
</UL> 
<P>
<P><h2>SUMMARY</h2>
 
<P>
5250 device emulation is recommended for initiating interactive terminal
sessions to an AS/400. However, it is possible for an AS/400 to
communicate through a 3270 data stream. This article will describe how you
can configure an SNA Server and an AS/400 to allow 3270 device emulators to
initiate a terminal session.
<P>
<P><h2>MORE INFORMATION</h2>
 
<P>
Before you configure an SNA Server and an AS/400, disable the auto-
configuration option on the AS/400. If this option is not disabled, the
AS/400 creates an APPC controller that conflicts with the controller you
are creating. If this occurs, de-activate (vary off) the auto-configured
controller and remove it. If you do not wish to disable the auto-
configuration option, do the following:

<OL><P><LI>Make sure that you complete the AS/400 configuration first.

<P><LI>Make sure that the controller is varied on before you attempt to
   activate the SNA Server connection.

<P><LI>If there is an active connection, you may re-enable auto-configuration.
<P>
</OL><h3>AS/400 Configuration</h3>
 

<OL><P><LI>Create a remote workstation controller. The SNA Server is detected as a
   LAN-attached 3174 controller by the AS/400. From a command prompt, type
   the following one-line command:
<P>
<P><PRE>      CRTCTLRWS CTLD(&lt;controller name&gt;) TYPE(3174) MODEL(0) LINKTYPE(*LAN)
      SWTLINLST(&lt;line name&gt;) EXCHID(05DFFFFF) ADPTADR(&lt;server MAC address&gt;)
</PRE><P>
   where &lt;controller name&gt; is the name for the controller. Any name can be
   specified. The &lt;line name&gt; is the name of the AS/400 line description
   for the LAN connection and &lt;server MAC address&gt; is the network interface
   card (NIC) address of the SNA Server.

<P><LI>Create 3270 devices. Each 3270 device corresponds to one emulation
   session and one display LU in SNA Server Admin. From the command prompt,
   type the following one-line command:
<P>
<P><PRE>      CRTDEVDSP DEVD(&lt;device name&gt;) DEVCLS(*RMT) TYPE(3278) MODEL(0)
      LOCADR(02) CTL(&lt;controller name&gt;)
</PRE><P>
   where &lt;device name&gt; is the name for the device. Any name can be
   specified. The &lt;controller name&gt; is the name of the controller
   in step 1.

<P><LI>Repeat typing the command on step 2. Increase LOCADR until you have
   created the desired number of devices.

<P><LI>Vary on the controller and devices and verify that they are ready for
   use. Type the following command:
<P>
<P><PRE>     WRKCFGSTS *CTL &lt;controller name&gt;
</PRE><P>
   where &lt;controller name&gt; is the name of the controller in step 1.

<P><LI>The controller and attached devices are displayed in a state of "Varied
   Off." Use option 1 to vary on the controller.

<P><LI>Wait for a moment and press F5 to refresh the display. Make sure that
   the status of the controller is Active and all of the devices are Vary
   On Pending.
<P>
</OL>SNA Server 2.11 Configuration
 

<OL><P><LI>Run SNA Server Setup and add an 802.2 link service.

<P><LI>Run SNA Server Admin and configure the 802.2 connection (associated with
   the 802.2 link service) from the Servers And Connections dialog box. Use
   the following properties:
<P>
<P><PRE>      Remote End: Host System
      Activation: On Server Startup (recommended but any of the options
<PRE></PRE>                                     should work)
      Allowed Directions: Outgoing Calls

</PRE><P><LI>Click Setup and add the following parameters:
<P>
<P><PRE>      Remote Network Address: &lt;NIC address&gt; (Enter the NIC address of the
      AS/400. This can be found in the ADPTADR parameter of the AS/400
      line description)
</PRE><P>
<P><PRE>      Local Node ID and Remote Node Name fields: &lt;Use Default Settings&gt;
</PRE><P>
<P><PRE>      The Advanced settings can be left at the default settings.
</PRE>
<P><LI>Return to the Servers And Connections dialog box. Focus on the
   802.2 connection and create all required 3270 LUs off the connection.
   The LU numbers correspond to the LOCADR values in the AS/400 device
   descriptions.

<P><LI>Configure pools of LUs through the LU Pools dialog box of SNA Server
   Admin. This is optional.

<P><LI>In the Users And Groups dialog box in SNA Server Admin, assign LUs
   and/or LU Pools to the appropriate users and groups.

<P><LI>Save the configuration and start your services. The LUs should be
   Available in SNA Server Admin.
<P>
</OL><h3>SNA Server 3.0 Configuration</h3>
 

<OL><P><LI>Run Manager and add an 802.2 link service.
<P><PRE>    NOTE: DO NOT USE THE AS/400 CONFIGURATION WIZARD.
</PRE>
<P><LI>Configure the 802.2 connection (associated with the 802.2 link service)
   using the following properties:
<P>
<P><PRE>      Remote End: Host System
      Activation: On Server Startup (recommended but any of the options
<PRE></PRE>                                     should work)
      Allowed Directions: Outgoing Calls

</PRE><P><LI>Use the Address and System Identification Tabs and add the following
</OL>parameters:
<P>
<PRE>      Remote Network Address: &lt;NIC address&gt; (Enter the NIC address of the
      AS/400. This can be found in the ADPTADR parameter of the AS/400
      line description)

      Local Node ID and Remote Node Name fields: &lt;Use Default Settings&gt;

</PRE><P><LI>Click on the 802.2 connection and insert all required 3270 LUs off the
</OL>connection.
<PRE>   The LU numbers correspond to the LOCADR values in the AS/400 device
   descriptions.

</PRE><P><LI>Assign LUs to corresponding pools and users by right-clicking on the LU
</OL>and using the Assign option. This step is optional.

<OL><P><LI>Save the configuration. The LUs should be available as soon as the
</OL>connection is started successfully.
<P>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional query words: prodsna<BR>
Keywords            : kbusage nthowto sna3270<BR>
Version             : 2.0 2.1 2.11 3.0<BR>
Platform            : WINDOWS<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  April 17, 1997</FONT>
	<BR>
	<A HREF="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
