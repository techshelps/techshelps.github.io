

<HTML>
<HEAD>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>3270 Users Fail to Get Sessions to SNA 3.0 After 2.11 Upgrade </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q175109">
<META NAME="KBModify" CONTENT="1998/02/03">
<META NAME="KBCreate" CONTENT="1997/10/14">
<META NAME="Keywords" CONTENT="kbbug3.00 kbbug3.00.sp1 prodsna sna3270 snabaseservice kbbug3.00.sp2 kbnetwork">
<META NAME="KBArea" CONTENT="Support; KB; sna">
<META NAME="Description" CONTENT="  After you upgrade from SNA Server version 2.11 to SNA Server 3.0 or later, users may be denied access to 3270 LU based resources that they previously had access to. This problem manifests itself through certain third-party 3270 emulation packages b...">
<META NAME="Product" CONTENT="SNA Server">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QAGU,QAI5,QBW7,QDO3,QABO,QBWG,QBG2,QA5V,QBBI,QAJZ,QBVV,QAC1,QBVR,QAKP,QAB4 V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>3270 Users Fail to Get Sessions to SNA 3.0 After 2.11 Upgrade</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  February 3, 1998</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q175109</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
 
The information in this article applies to:

<UL><LI>Microsoft SNA Server for Windows NT, versions 3.0, 3.0 SP1, 3.0 SP2
</UL> 
<P>
<P><h2>SYMPTOMS</h2>
 
<P>
After you upgrade from SNA Server version 2.11 to SNA Server 3.0 or later,
users may be denied access to 3270 LU based resources that they previously
had access to. This problem manifests itself through certain third-party
3270 emulation packages by presenting a security message, indicating that
SNA Server is denying access to the resource being requested.
<P>
The actual errors displayed by the emulator may vary. When this problem
occurs, the SNA Server client reports the following error message to the
emulator:
<P>
<PRE>   LU not verified (Error 0x53, or decimal 83)

</PRE><h2>CAUSE</h2>
 
<P>
When a client 3270 emulator initializes, it can retrieve the 3270 LUs
assigned to the user/group or workstation as defined on the SNA Server,
referred to as the 3270 user record. The record passed from the server to
the emulator contains information about which LUs and pools are available
for the user as well as the number of sessions associated with each.
Typically the LUs and pools obtained from the server are presented to the
user in a protected or trusted drop-down list box within the emulation
package. Certain 3270 emulation packages, however, allow users to manually
specify an LU or a pool name through an optional dialog box. Unlike SNA
Server 2.11, SNA Server 3.0 denies access to all resources that are not
specified in the trusted list box.
<P>
See the following Knowledge Base article, which discusses the 3270 user
record retrieval process:
<P>
<PRE>  ARTICLE ID: <B><A HREF="../SNA/Q158775.htm">Q158775</A></B>
  TITLE     : 3270 Emulator Fails To Enforce SNA User/Group Assignments


</PRE><h2>RESOLUTION</h2>
 
<P>
SNA Server 3.0 has been updated to exhibit the same security behavior found
in version 2.11. When a user opens a 3270 session, the SNA Server computer
checks the LU list assigned to the user's specific user record as well as
any groups that the user is a member of.
<P>
<P><h2>STATUS</h2>
 
<P>
Microsoft has confirmed this to be a problem in SNA Server versions 3.0,
3.0 Service Pack 1, and 3.0 Service Pack 2.
A supported fix is now available, but has not been fully regression tested
and should be applied only to systems experiencing this specific problem.
Unless you are severely impacted by this specific problem, Microsoft
recommends that you wait for the next Service Pack that contains this fix.
Contact Microsoft Technical Support for more information.
<P>
<P><h2>MORE INFORMATION</h2>
 
<P>
If a user is assigned 3270 LUs through one or more accounts, such as group
and individual accounts, the LUs do not accumulate. Instead, one account
determines access for that user. Determination of access is the account
found first in the following search order:

<OL><P><LI>User accounts (highest priority)
</OL>2. Domain groups
3. Local groups
4. Well-known groups such as Everyone (lowest priority)
<P>
For example, if a 3270 LU called LU1 is assigned to a user account (a high-
priority account) called GREGORYS, and at the same time an LU named LU2 is
assigned to a local group (a low-priority account) of which GREGORYS is a
member, GREGORYS will be given access to LU1, not LU2. This example is true
for all versions of SNA Server. However, in version 2.11, if the emulator
allows the user to specify LU2, then SNA Server grants access to this even
though this is not specified in the emulator drop-down list. Specifying LU2
<P><h2>using SNA Server version 3.0 would result in an access denied message.</h2>
 
<PRE>Keywords          : kbbug3.00 kbbug3.00.sp1 prodsna sna3270 snabaseservice kbbug3.00.sp2 kbnetwork
Version           : WINDOWS:3.0,3.0SP1,3.0SP2
Platform          : winnt
Issue type        : kbbug
Solution Type     : kbfix kbpatch</PRE>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
================================================================================<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  February 3, 1998</FONT>
	<BR>
	<A HREF="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
