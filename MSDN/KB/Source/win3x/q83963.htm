

<HTML>
<HEAD>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Windows 3.1: Insufficient Memory Error on a 2-MB Machine </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q83963 ">
<META NAME="KBModify" CONTENT="1994/11/22">
<META NAME="KBCreate" CONTENT="1992/04/27">
<META NAME="Keywords" CONTENT="kbhw kberrmsg kbtool">
<META NAME="KBArea" CONTENT="Support; KB; win3x, crossnet">
<META NAME="Description" CONTENT="  If you run the Microsoft Windows operating system version 3.1 in 386 enhanced mode, Windows cannot run a 640K MS-DOS prompt on a machine with only 2 MB of memory. If you attempt to do this, Windows generates the following error message:     Insuffi...">
<META NAME="Product" CONTENT="Windows 3.1 and Windows for Workgroups">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QBWN,QDL9,QBWO,QBW6,QBWQ,QABA,QALM,QBAO,QANE,QAB4,QANY,QAKD,QDIR,QAGQ,QBWS V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>Windows 3.1: Insufficient Memory Error on a 2-MB Machine</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  November 22, 1994</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q83963 </B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
The information in this article applies to:

<UL><LI>Microsoft Windows operating system versions 3.1, 3.11
</UL> 
<P>
<P><h2>SUMMARY</h2>
 
<P>
If you run the Microsoft Windows operating system version 3.1 in 386
enhanced mode, Windows cannot run a 640K MS-DOS prompt on a machine
with only 2 MB of memory. If you attempt to do this, Windows generates
the following error message:
<P>
<PRE>   Insufficient memory for application requested space, decrease PIF KB
   required and try again.

</PRE>You can either reduce the memory requirements in the program
information file (DOSPRMPT.PIF), add more memory, or create a
permanent swap file that is at least 1 MB in size and enable 32-bit
disk access.
<P>
Note: Some machines cannot create permanent swap files and enable
32-bit disk access because of hardware limitations. On machines with
these limitations, you must add more memory or reduce the memory
requirements for the virtual machines (VMs).
<P>
<P><h2>MORE INFORMATION</h2>
 
<P>
<P><h3>Reducing the Memory Requirements in DOSPRMPT.PIF</h3>
 
<P>
DOSPRMPT.PIF has the KB Required and the KB Desired values set to -1
by default. This tells Windows the VM must be as large as possible. If
there is insufficient memory available to create a 640K VM, Windows
returns the aforementioned error message.
<P>
In Windows 3.0, the equivalent program information file (PIF) has
settings of 384 for KB Required and 640 for KB Desired. These settings
allow a VM with less than 640K of conventional memory.
<P>
If you choose to reduce the memory settings for the MS-DOS prompt in
Windows 3.1, change the value for KB Required to 128 and the value for
KB Desired to 640 using the PIF Editor.
<P>
<P><h3>Reducing Memory Requirements for All MS-DOS Applications</h3>
 
<P>
You can reduce the memory requirements for all MS-DOS applications
that you run in Windows 3.1 with the use of the WindowsKBRequired and
WindowMemSize settings in the [386 Enh] section of the SYSTEM.INI
file. Use equal settings for these two settings to ensure that Windows
accepts the values as valid. Settings of 400 should allow a VM to be
run in Windows 3.1 on a 2-MB machine, even if a PIF has a -1 setting
for KB Desired and KB Required. The following section is taken from
the Windows Resource Kit (WRK) SYSINI.WRI file:
<P>
<PRE>   ============================================================
   WindowKBRequired=&lt;kilobytes&gt;
   Default:  256
   Purpose:  Specifies how much conventional memory (in
             kilobytes) must be free in order to start Windows.
   To change:  Use Notepad to edit the SYSTEM.INI file.
   ============================================================
   WindowMemSize=&lt;number-or-kilobytes&gt;
   Default:  -1
   Purpose:  Limits the amount of conventional memory Windows
             can use for itself. The default value (-1)
             indicates that Windows can use as much
             conventional memory as it needs. If there is not
             enough memory to run Windows in 386 enhanced mode,
             try entering a positive value less than 640.
   To change:  Use Notepad to edit the SYSTEM.INI file.
   ============================================================
</PRE>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
KBCategory: kbhw kberrmsg kbtool<BR>
KBSubcategory: winmem win31<BR>
Additional reference words: 3.10 3.11 err msg<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  November 22, 1994</FONT>
	<BR>
	<A HREF="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
