

<HTML>
<HEAD>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Windows 3.1: Using Upper Memory Blocks (UMBs) </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q83031 ">
<META NAME="KBModify" CONTENT="1994/11/23">
<META NAME="KBCreate" CONTENT="1992/04/02">
<META NAME="Keywords" CONTENT="kbenv">
<META NAME="KBArea" CONTENT="Support; KB; win3x, crossnet">
<META NAME="Description" CONTENT="  Microsoft Windows version 3.1 running in 386 enhanced mode contains support for the use of upper memory blocks (UMBs) just as MS-DOS 5.0 does. With MS- DOS 5.0, you can make use of free addresses in the 384K upper memory area (UMA) by loading EMM38...">
<META NAME="Product" CONTENT="Windows 3.1 and Windows for Workgroups">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QBW6,QDL9,QBWN,QBWO,QBWQ,QDIR,QAY4,QA4Q,QAEF,QAGQ,QBWG,QAJH,QBW7,QAI5 V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>Windows 3.1: Using Upper Memory Blocks (UMBs)</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  November 23, 1994</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q83031 </B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
The information in this article applies to:

<UL><LI>Microsoft Windows operating system versions 3.1, 3.11
</UL> 
<P>
<P><h2>SUMMARY</h2>
 
<P>
Microsoft Windows version 3.1 running in 386 enhanced mode contains support
for the use of upper memory blocks (UMBs) just as MS-DOS 5.0 does. With MS-
DOS 5.0, you can make use of free addresses in the 384K upper memory area
(UMA) by loading EMM386.EXE and using the LOADHIGH or DEVICEHIGH commands.
Windows is compatible with this configuration, but cannot make use of free
UMB space, once EMM386.EXE is loaded.
<P>
<P><h2>MORE INFORMATION</h2>
 
<P>
Windows 3.1 can use free UMBs in the same manner as MS-DOS 5.0. Both
operating systems can access the UMA and provide UMB support for
programs. Windows 3.0 does not have this feature and subsequently
cannot make use of the UMA. This means that the application
programming interface (API) translation buffers are always stored in
conventional memory or lower memory if EMM386.EXE is loaded. With
Windows 3.1, the translation buffers can be loaded into the UMA, and
will be, if there is enough free memory in the UMA (4-34K).
<P>
This DOES NOT mean that you can load Windows 3.1 high into a UMA. What
this means is that Windows 3.1 understands how to access and use the
UMA itself, without any interaction on your part.
<P>
The available UMBs are used for things that would otherwise have a
"low 640 KB conventional" memory footprint. This means that Windows
can move things out of an application's way and make the contiguous
available space for applications larger by placing things into the
UMBs. Primarily, API translation buffers (because they are the largest
items) are moved into the UMBs. These buffers are used to map things
such as INT 21h, INT 10h, INT 13h, and INT 5Ch calls that are made by
Windows- and MS-DOS-based applications. These buffers can take up
between 4K and 32K of UMBs.
<P>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
KBCategory: kbenv<BR>
KBSubcategory: win31 winmem<BR>
Additional reference words: 3.10<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  November 23, 1994</FONT>
	<BR>
	<A HREF="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
