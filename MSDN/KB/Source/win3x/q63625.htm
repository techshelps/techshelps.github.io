

<HTML>
<HEAD>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Windows 3.0 and Third-Party Hard Disk Partitioning Software </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q63625 ">
<META NAME="KBModify" CONTENT="1994/11/23">
<META NAME="KBCreate" CONTENT="1990/07/05">
<META NAME="Keywords" CONTENT="kb3rdparty kbdisplay">
<META NAME="KBArea" CONTENT="Support; KB; win3x, crossnet">
<META NAME="Description" CONTENT="  The Microsoft Windows development team, working closely with several hardware and software vendors, has identified two rare situations that could result in loss or corruption of data. These situations involve using third-party disk-partitioning sof...">
<META NAME="Product" CONTENT="Windows 3.1 and Windows for Workgroups">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QBXI,QDL9,QBWN,QBWO,QAC9,QANE,QBJQ,QAGU,QAB5,QDKI,QAH5,QAEF,QAA1,QBVV,QAY2 V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>Windows 3.0 and Third-Party Hard Disk Partitioning Software</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  November 23, 1994</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q63625 </B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
The information in this article applies to:

<UL><LI>Microsoft Windows operating system versions 3.0, 3.0a
</UL> 
<P>
<P><h2>SUMMARY</h2>
 
<P>
The Microsoft Windows development team, working closely with several
hardware and software vendors, has identified two rare situations that
could result in loss or corruption of data. These situations involve using
third-party disk-partitioning software with Microsoft's SMARTDrive disk-
caching utility. We have shipped several hundred thousand copies of
Microsoft Windows version 3.0 and have only 12 customers with verified
problems.
<P>
Microsoft Windows 3.0 itself works correctly on these systems. The conflict
arises between the disk caching-utility SMARTDrive included with Windows
and the listed third-party disk-partitioning software. Windows 3.0 is fully
functional without the optional disk-caching utility.
<P>
<P><h2>SYSTEMS THAT MIGHT BE AT RISK</h2>
 
<P>
<P><h3>Situation 1</h3>
 
<P>
Your system IS at risk if the following is true:
<P>
<PRE>   You are using third-party disk-positioning software, such as those
   listed below; a hard disk on your system has more than 1024
   cylinders; and you are using the Microsoft Windows SMARTDrive
   disk-caching utility.

</PRE>NOTE: This can only occur if you are running third-party disk-partitioning
software, because the MS-DOS FDISK partitioning software does not support
disks that have more than 1024 cylinders.
<P>
<P><h3>Situation 2</h3>
 
<P>
Your system MAY be at risk if the following is true:
<P>
You are using third-party disk-positioning software, such as those
listed below; your system contains a hard disk that is not directly
supported by the system's ROM BIOS; you are using Microsoft Windows'
SMARTDrive; and you are using DOS version 3.30 or later.
<P>
The risk probability is greater if your system was customized with
off-the-shelf parts. Name-brand computers ship with ROM BIOS versions
that support the hard drives installed by the manufacturer.
<P>
<P><h2>DETERMINING THE RISK</h2>
 
<P>
Below is a list of known disk-partitioning systems that pose a risk
when used in conjunction with SMARTDrive.
<P>
Each software package uses a device= line in the CONFIG.SYS file in
your root directory. The device= entry tells your system that the
software exists.
<P>
Open your CONFIG.SYS file with any text editor and see if one of the
following device= lines exists:
<P>
<PRE>   Software:     Disk Manager from Ontrack Computer Systems
   CONFIG.SYS    device=DMDRVR.BIN

   Software:     SpeedStor from Storage Dimensions
   CONFIG.SYS:   device=SSTOR.SYS or device=HARDRIVE.SYS

   Software:     innerSpace from Priam Systems
   CONFIG.SYS:   device=EDVR.SYS

   Software:     Vfeatures Deluxe from Golden Bow Systems
   CONFIG.SYS:   device=FIXT_DRV.SYS

</PRE>NOTE: At the end of this article, you'll find a procedure for using
Disk Manager to diagnose the risk. Use that procedure if you have Disk
Manager by Ontrack.
<P>
<P><h3>Removing the Risk</h3>
 
<P>
If you've identified your system to be at risk, you can either remove
SMARTDrive or repartition your hard disk using the MS-DOS FDISK utility
instead of third-party disk-partitioning software.
<P>
To remove SMARTDrive from your system:

<OL><P><LI>Open your CONFIG.SYS file with any text editor.

<P><LI>Delete the following line:
<P>
<P><PRE>      device=smartdrv.sys
</PRE>
<P><LI>Save the changes to CONFIG.SYS.

<P><LI>Press CTRL+ALT+DEL to reboot your system (or turn off your system
   and then turn it back on).
<P>
</OL><h2>IF YOU USE DISK MANAGER</h2>
 
<P>
The following procedure applies to Disk Manager users only. Use it
to determine if your system is at risk.
<P>
To determine if you have a hard drive with more than 1024 cylinders.
do the following:

<OL><P><LI>At the MS-DOS prompt, invoke Disk Manager in manual mode by typing
   "DM /M" (without the quotation marks).

<P><LI>Type "C:" (without the quotation marks) to display the disk
   configuration.

<P><LI>If any of the disks displayed have an Actual Cylinder Count over
   1024, you are at risk when using SMARTDrive.
<P>
</OL>To determine if your hard disk is not supported in the system BIOS, do
the following:

<OL><P><LI>At the MS-DOS prompt, type "VER" (without the quotation marks) to
   display the version of DOS you are running. If it is earlier than
   version 3.30, you are not at risk. Otherwise continue.

<P><LI>At the MS-DOS prompt, invoke Disk Manager in manual mode by typing "DM
   /M".

<P><LI>Type "C:" to display the disk configuration.

<P><LI>If the display says "Parameters Are Standard," you are not at risk.
   If it says "Parameters Are Replaced," continue this process.

<P><LI>For each disk in your system, compare the Setup Parameters to the
   Actual Parameters displayed. If all of the disks displayed have a
   Setup Head Count that matches the Actual Head Count, and a Setup
   Sector Count that matches the Actual Sector Count, then you are not
   at risk. Otherwise, that drive is referred to as nonhomogeneous,
   and you need to continue.

<P><LI>From the Disk Manager Main menu, type "S" to select the
   nonhomogeneous drive.

<P><LI>Type "P" to see the partition table for this drive.

<P><LI>If the drive contains a partition with the Type "DOS", and one of
   the following
<P>
<P><PRE>      Type "Write-Read" or "Read-Only" partitions
</PRE><P>
   then you are at risk.

<P><LI>Repeat Steps 6 through 8 for each nonhomogeneous drive in your
   system.
<P></OL>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
KBCategory: kb3rdparty kbdisplay<BR>
KBSubcategory: win30<BR>
Additional reference words: 3.00 3.00a 3rdparty<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  November 23, 1994</FONT>
	<BR>
	<A HREF="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
