

<HTML>
<HEAD>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>DR DOS Policy and Workaround: Fault in MS-DOS Extender Error </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q83331 ">
<META NAME="KBModify" CONTENT="1996/04/25">
<META NAME="KBCreate" CONTENT="1992/04/09">
<META NAME="Keywords" CONTENT="kbnetwork kb3rdparty kbsetup kberrmsg kbpolicy">
<META NAME="KBArea" CONTENT="Support; KB; win3x, crossnet">
<META NAME="Description" CONTENT="  This article discusses the use of Microsoft Windows version 3.1 with Digital Research DOS (DR DOS).  Microsoft can only ensure the stability of Microsoft Windows running on MS-DOS or PC-DOS versions 3.1 or later. Digital Research has released a sof...">
<META NAME="Product" CONTENT="Windows 3.1 and Windows for Workgroups">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QBWN,QDL9,QBWO,QBWQ,QAA1,QDI2,QDIZ,QANE,QAGQ,QAXB,QDIR,QA9N,QASB,QAC1,QBXB V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>DR DOS Policy and Workaround: Fault in MS-DOS Extender Error</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  April 25, 1996</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q83331 </B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
The information in this article applies to:

<UL><LI>Microsoft Windows operating system version 3.1
</UL> 
<P>
<P><h2>SUMMARY</h2>
 
<P>
This article discusses the use of Microsoft Windows version 3.1 with
Digital Research DOS (DR DOS).
<P>
Microsoft can only ensure the stability of Microsoft Windows running
on MS-DOS or PC-DOS versions 3.1 or later. Digital Research has
released a software update for running Windows with DR DOS. Microsoft
neither endorses nor ensures the stability of Microsoft Windows 3.1
running on DR DOS with or without the Digital Research software
update.
<P>
Microsoft Windows version 3.1 may give the following message when it enters
the graphical user interface (GUI) mode of Windows Setup:
<P>
<PRE>   Standard Mode: Fault in MS-DOS Extender

</PRE>The error is caused by one of the following:

<UL><LI>Attempting to set up Windows 3.1 on an operating system not
   formally tested by Microsoft, such as DR DOS.

<LI>The virtual control program interface (VCPI) server being used
   does not implement VCPI completely or correctly. (An example of
   a VCPI server is EMM386.EXE.)
<P>
</UL>Microsoft Windows 3.1 enters protected mode operation using DOSX.EXE
during Setup. An operating system or VCPI server that is incompatible
will cause DOSX.EXE to load improperly, thus causing Setup to fail and
report:
<P>
<PRE>   Standard Mode: Fault in MS-DOS Extender

</PRE><h2>MORE INFORMATION</h2>
 
<P>
If this occurs when you are attempting to upgrade from Windows 3.0 to
Windows 3.1, you will be unable to use Windows. The following set of
instructions will allow you to return to a functional Windows 3.0
installation after a failed installation of Windows 3.1.
<P>
NOTE: These steps do NOT work if you have successfully completed the
installation of Windows 3.1 or you have attempted to install Windows
3.1 more than once.

<OL><P><LI>Restart the computer to clear the machine state.

<P><LI>Rename all the .INI files and .GRP files in the Windows directory
   to .INN and .GRN. For example, type the following at the MS-DOS
   command prompt:
<P>
<P><PRE>      rename *.ini *.inn
      rename *.grp *.grn
</PRE>
<P><LI>Delete the file WINVER.EXE from the Windows directory. This will
   allow Windows 3.0 to update all of the Windows files.

<P><LI>Reinstall Windows 3.0 to the Windows directory with the
   configuration options used previously when you attempted to install
   Windows 3.1.

<P><LI>Do not select any of the options in the graphics mode of Windows
   3.0 Setup (that is, Printers, Setup applications, Read documents,
   modify CONFIG.SYS, AUTOEXEC.BAT).

<P><LI>Copy all the .INN files and .GRN files to the same name with the
   original extensions (.INI and .GRP.), by typing the following at
   the MS-DOS command prompt:
<P>
<P><PRE>      copy *.inn *.ini
      copy *.grn *.grp
</PRE>
<P><LI>Copy SYSINI.W31 and WININI.W31 to SYSTEM.INI and WIN.INI,
   respectively, by typing the following at the MS-DOS command prompt.
   The .W31 files are the backup. INI files Windows 3.1 created during
   the attempted upgrade to Windows 3.1.
<P>
<P><PRE>      copy sysini.w31 system.ini
      copy winini.w31 win.ini
</PRE><P>
</OL>All OLE functionality will be intact for pre-Windows 3.1 OLE applications
such as Microsoft Excel 3.0 and Microsoft Word for Windows 2.0.
<P>
You should find a file named W8D40P2T.A4G in the Windows directory. This
file is used by Windows 3.1 to start the graphics mode of setup. This
file can be deleted.
<P>
NOTE: The SETUP.INF file for Windows 3.0 may need to be temporarily
adjusted to allow Windows 3.0 to set up on a system with limited hard
drive space. Copy SETUP.EXE and SETUP.INF from Windows 3.0 Disk 1 to a
separate directory on the hard disk. Use an MS-DOS based editor to
edit the [DATA] section of the SETUP.INF for Windows 3.0, as follows:
<P>
<PRE>   [DATA]
      neededspace386=6300000
      space386upgrade=2000
      neededspace286=4500000
      space286upgrade=1000

</PRE></OL>Set the values for both neededspace386 and neededspace286 to 1.
<P>
Run Setup from the directory with the adjusted SETUP.INF. After Setup
is complete, copy the Windows 3.0 SETUP.INF from Disk 1 to the
Windows 3.0 SYSTEM directory.
<P>
For additional information on making DR DOS compatible with Windows
3.1, or to obtain the DR DOS software update, please contact Digital
Research.
<P>
DR DOS is a registered trademark of Novell.
<P>
<P><h2>REFERENCES</h2>
 
<P>
Windows Resource Kit 2.0, page 15
<P>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
KBCategory: kbnetwork kb3rdparty kbsetup kberrmsg kbpolicy<BR>
KBSubcategory: win31<BR>
Additional reference words: 3.10 3.1 DR DOS DRDOS dr-dos uninstall revert<BR>
go back<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  April 25, 1996</FONT>
	<BR>
	<A HREF="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
