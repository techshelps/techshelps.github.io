

<HTML>
<HEAD>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>SMARTDrive /double_buffer Cannot Load into UMBs </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q81377 ">
<META NAME="KBModify" CONTENT="1994/11/23">
<META NAME="KBCreate" CONTENT="1992/03/04">
<META NAME="Keywords" CONTENT="kbother kbinterop">
<META NAME="KBArea" CONTENT="Support; KB; win3x, crossnet">
<META NAME="Description" CONTENT="  Attempting to load SMARTDrive version 4.0 (SMARTDRV.EXE) as a double-buffer driver into the upper memory area (UMA) generates the following error message:     Double buffering driver cannot be loaded into a UMB. Do not use the    devicehigh command...">
<META NAME="Product" CONTENT="Windows 3.1 and Windows for Workgroups">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QAHH,QBW6,QAY4,QAFO,QDJD,QAYV,QAC2,QDL9,QBWO,QBWN,QBVV,QBF0,QAV1,QAV0,QAU9 V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>SMARTDrive /double_buffer Cannot Load into UMBs</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  November 23, 1994</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q81377 </B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
The information in this article applies to:

<UL><LI>Microsoft Windows operating system versions 3.1, 3.11
</UL> 
<P>
<P><h2>SYMPTOMS</h2>
 
<P>
Attempting to load SMARTDrive version 4.0 (SMARTDRV.EXE) as a double-buffer
driver into the upper memory area (UMA) generates the following error
message:
<P>
<PRE>   Double buffering driver cannot be loaded into a UMB. Do not use the
   devicehigh command or other load-high utilities to load
   Smartdrv.exe.

</PRE><h2>CAUSE</h2>
 
<P>
When loaded in the CONFIG.SYS file as a device driver to provide double
buffering, SMARTDRV.EXE must be loaded in conventional or low memory.
Even if a memory manager is present that allows programs to be loaded
into the UMA, SMARTDRV.EXE must be loaded low if it is being used as a
double-buffering device driver.
<P>
NOTE: There is no workaround for this problem.
<P>
<P><h2>MORE INFORMATION</h2>
 
<P>
The double buffering that SMARTDRV.EXE provides is required for
certain Bus Master disk controllers when running in the Virtual 8086
mode of the 80386 and 80486 processors.
<P>
Improved compatibility between Virtual 8086 mode and these older
controllers depends on the fact that the buffer (approximately 2K)
that SMARTDrive uses for the purposes of double buffering loads into
an address that is identical to its location in physical memory.
<P>
386 memory managers, such as EMM386.EXE, allow you to load device
drivers and terminate-and-stay-resident (TSR) programs into upper
memory blocks (UMBs) by using the ability of 80386 and 80486
processors to remap addresses between 640K and 1024K into physical
extended memory. Because this reassigning of addresses would prevent
SMARTDRV.EXE's double buffer from residing at an address compatible
with its location in physical memory, SMARTDRV.EXE must remain in
conventional memory.
<P>
NOTE: This information does not apply if you are using SMARTDRV.EXE
version 4.0 as a disk cache in the AUTOEXEC.BAT file. The ability to
provide double buffering is independent of SMARTDRV.EXE's role as a
disk cache. You can load SMARTDRV.EXE with the /double_buffer option
low in the CONFIG.SYS file, and load SMARTDRV.EXE, the disk cache,
high in the AUTOEXEC.BAT file.
<P>
For more information on double buffering and SMARTDRV.EXE, query on
the following words in the Microsoft Knowledge Base:
<P>
<PRE>   smartdrv.exe and double and buffer and bus and mastering
</PRE>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
KBCategory: kbother kbinterop<BR>
KBSubcategory: win31<BR>
Additional reference words: 3.10 SCSI winmem 3.11<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  November 23, 1994</FONT>
	<BR>
	<A HREF="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
