

<HTML>
<HEAD>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Enhanced EMM386.SYS Parameters for Windows 3.0 </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q65443 ">
<META NAME="KBModify" CONTENT="1994/11/23">
<META NAME="KBCreate" CONTENT="1990/09/04">
<META NAME="Keywords" CONTENT="">
<META NAME="KBArea" CONTENT="Support; KB; win3x, crossnet">
<META NAME="Description" CONTENT=" This article describes the syntax and parameters to use when loading EMM386.SYS from a device line in the CONFIG.SYS file.  MORE INFORMATION  As a device driver, EMM386.SYS must be loaded from a device line in CONFIG.SYS using the following syntax  ...">
<META NAME="Product" CONTENT="Windows 3.1 and Windows for Workgroups">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QABA,QBBI,QAXS,QAIB,QAHE,QAU9,QBW6,QAIA,QBVV,QAKC,QDL9,QBWO,QBWN,QA5W,QAG2 V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>Enhanced EMM386.SYS Parameters for Windows 3.0</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  November 23, 1994</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q65443 </B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
The information in this article applies to:

<UL><LI>Microsoft Windows operating system versions 3.0, 3.0a
</UL> 
<P>
<P><h2>SUMMARY</h2>
 
This article describes the syntax and parameters to use when loading
EMM386.SYS from a device line in the CONFIG.SYS file.
<P>
<P><h2>MORE INFORMATION</h2>
 
<P>
As a device driver, EMM386.SYS must be loaded from a device line in
CONFIG.SYS using the following syntax
<P>
<PRE>   device=[drive][path]EMM386.SYS [AUTO | ON | OFF] [SIZE]
          [W=ON | W=OFF] [Mx|FRAME=mmmm|/Pmmmm] [Pn=mmmm]
          [X=mmmm-nnnn] [B=mmmm] [L=n] [A=n] [/Hnnn] [D=nnn]

</PRE>where the following is true:
<P>
<P><h3>[AUTO|ON|OFF]</h3>
 
<P>
This indicates the state of the machine when the driver returns to
DOS. AUTO is the default and means that the driver is loaded and
listening, but the machine is left in real mode until the first Int
67h call is seen. Thus, we say the driver is inactive. The driver
stays active with the machine in virtual mode as long as a handle is
allocated. Loading a TSR that allocates EMS causes the driver to
become permanently active.
<P>
ON indicates the machine is always in virtual mode and the driver is
always active. OFF indicates that the machine stays in real mode and
the driver in inactive. All Int 67h calls will fail when in this mode.
<P>
<P><h3>[SIZE]</h3>
 
<P>
This is the amount of system memory measured in kilobytes to be
reserved for the common memory pool to be available as expanded memory
or VCPI memory. The amount defaults to 256K of system memory that is
not already allocated. If there is not enough memory available to
provide SIZE kilobytes of expanded memory, EMM386 will adjust SIZE.
<P>
<P><h3>[W=ON|W=OFF]</h3>
 
<P>
This enables or disables the Weitek Coprocessor Support. The default
value is OFF.
<P>
<P><h3>[Mx|FRAME=mmmm|/Pmmmm]</h3>
 
<P>
Any one of these methods may be used to specify the location of the
EMS 3.2 compatible page frame. This must be four contiguous pages to
be compatible with EMS 3.2. It is not required that this parameter be
specified because EMM386 will select a 64K contiguous region as a
default. The default will be chosen by looking at E000h at each
segment until C000h. The default will not be placed below C000h. These
parameters are provided because it is not possible to absolutely
identify adapter memory in all cases. When a conflict occurs, you must
force the page frame to some known location.
<P>
<PRE>   mmmm - is a segment address between 4000h and EC00h inclusive
   Mx - allows you to specify the base address of the 64K page frame

   The following is an example:

      M1 = C000h      M8 = DC00h
      M2 = C400h      M9 = E000h
      M3 = C800h      M10 = 8000h*
      M4 = CC00h      M11 = 8400h*
      M5 = D000h      M12 = 8800h*
      M6 = D400h      M13 = 8C00h*
      M7 = D700h      M14 = 9000h*
      * Options M10 through M14 may require you to configure memory to
        have 512K or less.

   FRAME=mmmm - allows you to directly specify the segment base
   /Pmmmm - is a synonym for /FRAME

</PRE><h3>[Pn=mmmm]</h3>
 
<P>
This argument lets you define the segment of a specific page. Page (n)
gets placed at mmmm. If Mx or FRAME is specified, then Pn is not
allowed.
<P>
<P><h3>[X=mmmm-nnnn]</h3>
 
<P>
This argument lets you specify a segment address range that cannot be
used for an EMS page.
<P>
<P><h3>[B=mmmm]</h3>
 
<P>
This allows you to specify the lowest segment address. Default is
B:4000h, but mmmm can range from 1000h to EC00h inclusive.
<P>
<P><h3>[L=n]</h3>
 
<P>
This allows you to specify the minimum amount of extended memory
available after EMM386 is loaded. n is the number of 1K blocks.
<P>
<P><h3>[A=n]</h3>
 
<P>
This allows you to specify the number of fast alternate register sets
to allocate, where n is the number of fast register sets to allocate.
The default is A=7.
<P>
<P><h3>[/Hnnn]</h3>
 
<P>
This allows you to specify the number of handles available for use
from 1 to 255. The default is /H255.
<P>
<P><h3>[/D=nnn]</h3>
 
<P>
This argument specifies the amount of memory to be reserved for
buffering DMA operations. nnn is measured in kilobytes to allocate for
DMA. Valid parameters are { 16 &lt;= nnn &gt;= 256}. This parameter should
reflect the largest DMA transfer that can occur while the driver is
active.
<P>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
KBCategory: kbother<BR>
KBSubcategory: win30<BR>
Additional reference words: 3.00 3.0 3.0a 3.00a winmem win30<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  November 23, 1994</FONT>
	<BR>
	<A HREF="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
