

<HTML>
<HEAD>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Errors Caused by Cross-Linked Files or Lost Clusters </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q71609 ">
<META NAME="KBModify" CONTENT="1994/11/22">
<META NAME="KBCreate" CONTENT="1991/04/26">
<META NAME="Keywords" CONTENT="kbref kbtshoot">
<META NAME="KBArea" CONTENT="Support; KB; win3x, crossnet">
<META NAME="Description" CONTENT="  In Windows 3.0, you receive an unrecoverable application error (UAE) or a  Violated System Integrity  error when you try to access a file. In Windows 3.1 enhanced mode, your system stops responding (hangs) when you try to access a file. In either W...">
<META NAME="Product" CONTENT="Windows 3.1 and Windows for Workgroups">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QATJ,QBXB,QAW5,QDL9,QBWO,QBWN,QAEF,QAGB,QAFI,QAAP,QAB4,QAJQ,QDJB,QBCT,QAGC V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>Errors Caused by Cross-Linked Files or Lost Clusters</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  November 22, 1994</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q71609 </B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
The information in this article applies to:

<UL><LI>Microsoft Windows operating system versions 3.0, 3.0a, 3.1, 3.11
<LI>Microsoft MS-DOS operating system versions 3.x, 4.x, 5.0, 6.0
</UL> 
<P>
<P><h2>SYMPTOMS</h2>
 
<P>
In Windows 3.0, you receive an unrecoverable application error (UAE)
or a "Violated System Integrity" error when you try to access a file.
In Windows 3.1 enhanced mode, your system stops responding (hangs)
when you try to access a file. In either Windows version, printer
output may be garbled.
<P>
<P><h2>CAUSE</h2>
 
<P>
These symptoms may indicate that you have cross-linked files or lost
clusters (or allocation units).
<P>
<P><h2>WORKAROUND</h2>
 
<P>
Running the MS-DOS CHKDSK utility (CHKDSK.COM) can identify these
problems and, optionally, correct them. The following is the correct
syntax for running the CHKDSK command
<P>
<PRE>   CHKDSK [&lt;drive&gt;:] [&lt;pathname&gt;] [/F] [/V]

</PRE>where:

<UL><LI>&lt;drive&gt; specifies the drive is to be analyzed.
<LI>&lt;pathname&gt; allows the specification of a particular directory and
   file type using wildcard characters.
<LI>/F tells MS-DOS to repair any errors found.
<LI>/V echoes the filename(s) as they are being checked.
<P>
</UL>The parameters enclosed in brackets ([]) are optional. If you use
these parameters, type them without the brackets.
<P>
Parameters enclosed in angle brackets (&lt;&gt;) are variables. Substitute
actual values for these variables. For example, substitute
<P>
<PRE>   C:

</PRE>for:
<P>
<PRE>   &lt;drive&gt;:

</PRE>WARNING: Before using CHKDSK, exit Windows. You should NEVER run this
utility with the /F parameter from Windows; doing so corrupts files on
the hard disk.
<P>
CAUTION: Running CHKDSK/F on a hard drive with a large number of lost
clusters may result in damaged files, loss of data, and the loss of
directory integrity. For more information regarding CHKDSK, please read the
"Microsoft MS-DOS User's Guide and User's Reference" (pages 44-45 for
version 4.01 and pages 381-383 for version 5.0).
<P>
<P><h2>MORE INFORMATION</h2>
 
<P>
<P><h3>Cross-Linked Files</h3>
 
<P>
Cross-linked files occur when two or more files have been allocated
the same cluster. One or both of the files may contain information
belonging to the other.
<P>
NOTE: If you are using Undelete and the Delete Sentry method of
protection, remove the memory-resident portion of Undelete by typing
"undelete /unload" (without the quotation marks)at an MS-DOS command
prompt before you delete any cross-linked files.
<P>
<P><h3>Lost Clusters</h3>
 
<P>
Lost clusters occur when a file is deleted from the directory listing,
but the file allocation table (FAT) still shows the clusters allocated
to the file.
<P>
The CHKDSK utility asks if you want the lost clusters converted to a
file. If you answer "Yes," these clusters are allocated to a file
named FILE&lt;nnnn&gt;.CHK, where &lt;nnnn&gt; is a number. This file appears in
the root directory of the drive. If you answer "No," the lost clusters
are deallocated and are available for use again.
<P>
<P><h3>CHKDSK Command</h3>
 
<P>
The MS-DOS CHKDSK command checks the directory structure and the FAT
for inconsistencies such as the following:

<UL><LI>Invalid pointers to data areas

<LI>Bad file attributes in directory entries

<LI>Damage to a portion of the directory that makes it impossible to
   check one or more paths

<LI>Damage to an entire directory that makes the files contained in that
   directory inaccessible

<LI>Defective disk sectors in the FAT

<LI>Invalid cluster (disk allocation unit) numbers in the FAT

<LI>Lost clusters (clusters are identified that are not assigned to a
   file)

<LI>Cross-linking of files on the same cluster (more than one file has
   been assigned the same cluster)
<P>
</UL><h2>REFERENCES</h2>
 
<P>
"The MS-DOS Encyclopedia," by Microsoft Press, pages 774-780
<P>
"Microsoft MS-DOS User's Guide and User's Reference," pages 44-45 for
version 4.01 and pages 381-383 for version 5.0.
<P>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
KBCategory: kbref kbtshoot<BR>
KBSubcategory: win30 win31 uae gpf<BR>
Additional reference words: tshoot 3.00 3.00a 3.10 3.11 win30 win31 uae<BR>
vsi cross linked crosslinked<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  November 22, 1994</FONT>
	<BR>
	<A HREF="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
