

<HTML>
<HEAD>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>WW0340: Microsoft Windows 3.0 &amp; MACH 20 Accelerator Card </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q63771 ">
<META NAME="KBModify" CONTENT="1997/05/01">
<META NAME="KBCreate" CONTENT="1990/07/11">
<META NAME="Keywords" CONTENT="win30 kbappnote kbfile kbhw">
<META NAME="KBArea" CONTENT="Support; KB; win3x, crossnet">
<META NAME="Description" CONTENT=" You must update several of the Microsoft MACH 20 accelerator card files for the accelerator card to run properly under Microsoft Windows 3.0 standard mode. The updated files can be obtained in Application Note WW0340,  Microsoft MACH 20 Version 1.02...">
<META NAME="Product" CONTENT="Windows 3.1 and Windows for Workgroups">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QAA1,QBW6,QAC9,QDI2,QAHE,QAKR,QAJG,QACI,QBXS,QDL9,QBWO,QBWN,QANO,QAKM,QABA V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>WW0340: Microsoft Windows 3.0 &amp; MACH 20 Accelerator Card</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  May 1, 1997</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q63771 </B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
3.00 3.00a
WINDOWS
kbhw kbfile kbappnote
<P>
 
The information in this article applies to:

<UL><LI>Microsoft Windows operating system versions 3.0, 3.0a
</UL> 
<P>
You must update several of the Microsoft MACH 20 accelerator card files for
the accelerator card to run properly under Microsoft Windows 3.0 standard
mode. The updated files can be obtained in Application Note WW0340,
"Microsoft MACH 20 Version 1.02 Update." The MACH 20 board is NOT supported
by later versions of Windows.
<P>
You can obtain this Application Note from the following sources:

<UL><LI>Microsoft's World Wide Web Site on the Internet
<LI>The Internet (Microsoft anonymous ftp server)
<LI>Microsoft Download Service (MSDL)
<LI>Microsoft Product Support Services
<P>
</UL>For complete information, see the "To Obtain This Application Note"
section at the end of this article.
<P>
<P><h2>THE TEXT OF WW0340</h2>
 
<P>
 
<PRE>    Microsoft Product Support Services Application Note (Text File)
            WW0340: MICROSOFT MACH 20 VERSION 1.02 UPGRADE
</PRE> 
<PRE>                                                  Revision Date: 12/92
                                                         Disk Included

</PRE>The following information applies to Microsoft Windows version 3.0.
<P>
<PRE> --------------------------------------------------------------------
| INFORMATION PROVIDED IN THIS DOCUMENT AND ANY SOFTWARE THAT MAY    |
| ACCOMPANY THIS DOCUMENT (collectively referred to as an            |
| Application Note) IS PROVIDED "AS IS" WITHOUT WARRANTY OF ANY      |
| KIND, EITHER EXPRESSED OR IMPLIED, INCLUDING BUT NOT LIMITED TO    |
| THE IMPLIED WARRANTIES OF MERCHANTABILITY AND/OR FITNESS FOR A     |
| PARTICULAR PURPOSE. The user assumes the entire risk as to the     |
| accuracy and the use of this Application Note. This Application    |
| Note may be copied and distributed subject to the following        |
| conditions: 1) All text must be copied without modification and    |
| all pages must be included; 2) If software is included, all files  |
| on the disk(s) must be copied without modification [the MS-DOS(R)  |
| utility DISKCOPY is appropriate for this purpose]; 3) All          |
| components of this Application Note must be distributed together;  |
| and 4) This Application Note may not be distributed for profit.   |
|                                                                    |
| Copyright 1988-1992 Microsoft Corporation. All Rights Reserved.   |
| Microsoft, MS-DOS, and Flight Simulator are registered trademarks  |
| and Windows is a trademark of Microsoft Corporation.              |
| SONY is a registered trademark of Sony Corporation.               |
| IBM and AT are registered trademarks of International Business     |
| Machines Corporation.                                             |
| Toshiba is a registered trademark of Kabushiki Kaisha Toshiba.    |
| Mitsubishi is a registered trademark of Mitsubishi Electric        |
| Corporation.                                                      |
 --------------------------------------------------------------------

</PRE><h2>INTRODUCTION</h2>
 
<P>
This application note explains how to install and configure the
Microsoft MACH 20 board, providing basic procedures for inserting the
board, setting switches, and using the SMARTDrive disk-caching program
to enhance performance. It also details hardware compatibility and
parameter settings.
<P>
The MACH 20 version 1.02 update includes the following files:
<P>
<PRE>  Filename       Description
  TEST.EXE       Basic diagnostic program
  DISKPLUS.SYS   Memory-resident copies of Disk Plus ROM BIOS
  DISKPLUS.COM   Memory-resident copies of Disk Plus ROM BIOS
  INSTALL.EXE    Basic installation program
  M20CACHE.COM   Memory caching program
  M20DRV.SYS     Floppy disk driver for high-density floppy disks
  M20EMM.SYS     Expanded/extended/high memory device driver
  M20EMM.COM     Expanded/extended/high memory device driver
  MACH20.SYS     Memory cache control program
  MACH20.COM     Memory cache control program
  SMARTDRV.SYS   Disk cache device driver
  README.TXT     Original readme file (a soft copy of the
                 information in this document)
  DOSX.EXE       MS-DOS extenders for Windows 3.0 (compatible with
                 MACH 20)

   NOTE: If your system has a hard disk, back it up before installing
   a new hardware device.

</PRE><h3>Instructions for Updating to Windows Version 3.0</h3>
 

<OL><P><LI>Install Windows 3.0.

<P><LI>Replace the Windows-supplied DOSX.EXE file (in the
   Windows\SYSTEM subdirectory) with the new DOSX.EXE file. The new
   DOSX.EXE file will work for all old DOSX.EXE configurations and the
   MACH 20.

<P><LI>Add the command line for the new M20EMM.SYS file to your
   CONFIG.SYS file or the command line for the new M20EMM.COM file to
   your AUTOEXEC.BAT file. Use only one of these command lines,
   replacing the old command line if there is one. Use the /H=,x
   switch, where x is the number of 16K extended memory pages (64
   pages/MB). See the next section for more information on this file.
<P>
</OL><h3>New M20EMM.SYS File</h3>
 
<P>
M20EMM.SYS has been updated to support extended memory on the
Microsoft MACH 20 board, along with the expanded memory it has always
supported. The new M20EMM.SYS file allows you to partition the memory
on the MACH 20 memory board, allocating some as extended and the rest
as expanded. Extended memory is managed by a built-in high-memory
driver, which is functionally equivalent to the HIMEM.SYS driver
shipped with Windows.
<P>
Each page of memory on the MACH 20 board contains 16K, and all memory
allocations must be in full pages. The M20EMM.SYS driver allocates all
available memory as expanded memory unless you instruct it to allocate
extended memory. Do this by including the /H switch on the command
line, using the syntax
<P>
<PRE>    /h,&lt;#_pages&gt;,&lt;#_handles&gt;

</PRE></OL>where:

<UL><LI>&lt;#_pages&gt; tells how many MACH 20 16K memory pages to set up as
  extended memory. The driver always allocates at least 4 pages (the
  default and minimum required for a high memory area [HMA]), and sets
  up all MACH 20 memory as extended if you request more pages than
  exist.

<LI>&lt;#_handles&gt; tells how many extended memory handles to set up. When
  this many handles are used, no more extended memory can be
  allocated. The number can be any number between 32 (the default) and
  128, inclusive.
<P>
<P>
</UL><h2>INSTALLING MACH 20</h2>
 
<P>
Addition to the "Guide to Quick Installation"
<P><h3>on Page 8 of the "Microsoft MACH 20 User's Guide"</h3>
 
<P>
After you insert the 40-pin blanking plug into the empty 8087 socket
(step 5), make sure the math coprocessor switch on the system board is
set correctly. This is switch 2 on switch block 1 (SW1) of an IBM(R)
PC or compatible. Set this switch to on if you DO NOT have an 80287
coprocessor; set this switch to off if you DO have an 80287
coprocessor.
<P>
<P><h3>Installing the Blanking Plug in the 8087 Socket</h3>
 
<P>
You must install the blanking plug in the 8087 coprocessor socket on
the system board, regardless of whether you removed an 8087
coprocessor from the socket or have installed an optional 80287
coprocessor on the MACH 20 board.
<P>
Connecting the MACH 20 Ribbon Cable
<P><h3>to the System Board of an IBM PC/XT or Compatible</h3>
 
<P>
When you connect the MACH 20 ribbon cable connector to the 8088 socket
on an IBM PC/XT or compatible, you may have to twist the cable to line
up pin 1 on the ribbon cable connector with pin 1 of the 8088 socket.
It is okay to twist the cable, but be careful not to crease it.
<P>
<P><h3>Running the Install Program with Your Standard System Configuration</h3>
 
<P>
When you run the Install program to set up MACH 20, be sure that your
computer is set up in its standard configuration, with all the usual
software, peripheral devices, and add-in boards installed. Otherwise,
the Install program may not provide you with the proper setup
instructions.
<P>
<P>
<P><h2>SWITCH SETTINGS FOR MACH 20 JUMPERS</h2>
 
<P>
<P><h3>8088 Jumper Block</h3>
 
<P>
<PRE> S    F
          F = Fast: on for turbo (8 MHz) system board
          S = Slow: on for standard (4.77 MHz) PC system board

</PRE><h3>287 Jumper Block</h3>
 
<P>
<PRE> M    L
          L   = Local: on to tie 287 to MACH 20 speed
          M  = Motherboard: on to tie 287 to system board speed

</PRE><h3>Cache Jumper Block</h3>
 
<P>
<PRE> 5 2 1 R *
                 * if horizontal = allow enabling/disabling of
                                   cache; power up with cache on
                 * if vertical = allow enabling/disabling of
                                 cache; power up with cache off
                 * if absent = no speed switching; always run fast
                 R = on to cache BIOS ROM
                 5 2 1 = system memory size

</PRE><h3>Mouse Jumper Block</h3>
 
<P>
<PRE> D P 2 3 4 5 7
                 2 3 4 5 7 = to connect an InPort(R) device such
                             as a mouse; indicates mouse interrupt
                             level (one only)
                 P = on if MACH 20 has the primary InPort device
                     (for example, an InPort mouse)
                 D = on to indicate that no InPort device is
                     connected (for example, an InPort mouse) or
                     that it is disabled


</PRE><h2>MACH 20 WITH DUAL-SPEED SYSTEM BOARDS</h2>
 
<P>
<P><h3>Installing an 80287 on MACH 20</h3>
 
<P>
If you have a dual-speed system board with a clock speed faster than
4.77 MHz, do not install an 80287-3 (6 MHz) chip on the MACH 20 board.
Use an 8 MHz 80287-8 chip and set jumper block 287 to the "L"
position.
<P>
<P><h3>"Hot Key" Control of Dual-Speed System Boards</h3>
 
<P>
When using an IBM PC/XT or compatible with a dual-speed system board,
do not change the system board speed with a keyboard shortcut ("hot
key").
<P>
MACH 20 cache switching may conflict with system board speed
switching. (See "MACH 20 Caching" later in this document.) If they
conflict, you will not be able to leave the * jumper on the cache
jumper block in the vertical position to allow enabling and disabling
of caching. If your speed-selectable PC hangs when you boot it up,
make sure the * jumper is not in the vertical position.
<P>
<P>
<P><h2>MACH 20 DISK PLUS DRIVE COMPATIBILITY</h2>
 
<P>
<P><h3>Connectors</h3>
 
<P>
The connector on the Disk Plus controller board is identical to the
connector on an IBM PC Disk Controller card. Therefore, a drive must
have connectors identical to those of an IBM PC floppy disk drive if
you want to use Disk Plus with it.
<P>
There are two connectors on a standard IBM floppy disk drive -- a 4-
pin connector for power and a 34-position edge connector used to
connect the drive to the disk controller.
<P>
<P><h3>Floppy Disk Drives</h3>
 
<P>
A number of companies manufacture 5.25-inch 1.2-MB drives that have
cable connectors compatible with standard IBM PC/XTs. However, a 1.2-
MB drive is half the height of a regular PC or PC/XT slot. To mount a
1.2-MB drive in a regular slot, you need a special bracket to fit the
drive in the slot and a blank cover for the empty half of the slot.
When you buy a 1.2 MB drive, make sure that the parts necessary to
mount it in your machine are included and that both connectors are
compatible with IBM-compatible PC cables.
<P>
To use a 3.5-inch 1.44-MB drive (2 MB unformatted) with Disk Plus, you
must have an ANSI, or "media sensing," drive with no connection to pin
2 of the logic cable. Media-sensing drives detect the hole in a disk
to determine if it is a 1.44-MB disk. Most 3.5-inch drives require a
PC cable connector adapter for both the power cable and the logic
cable because the drive connectors do not match standard IBM PC/XT
cable connectors. A 3.5-inch drive is also half the height of a
regular slot and requires the special bracket and blank cover
described earlier. In addition, the 3.5-inch drive is not as wide as a
regular slot and requires a 5.25-inch adapter kit to make it fit in
place of a 5.25-inch drive. Some manufacturers offer kits containing
the drive and the mechanical and electrical adapters required to fit a
3.5-inch drive in a 5.25-inch half-height slot. Among these kits are:
<P>
<PRE>  IBM P/N 6450258 3.5-inch 720K floppy disk drive
  SONY(R) MP-F63W-31D 3.5-inch 720K drive
  SONY MP-F73W-31D 3.5-inch 1.44 MB drive *
  Universal Kit for ND 352 floppy disk drive (for the Toshiba(R) FDD
  4603 3.5-inch 1.44-MB drive) **

  * The SONY MP-F73W-31D 3.5-inch 1.44-MB drive is shipped configured,
    as drive 0. Because all IBM PC, PC/XT, and PC/AT(R) drives must be
    configured as drive 1, all 5.25-inch drives are shipped configured
    as drive 1. Therefore, if you purchase a SONY MP-F73W-31D 3.5-inch
    drive, you must change its drive select switch.

    The drive select switch is a small, black slider switch with four
    settings. It is recessed into the side of the drive toward the
    back. If the face plate of the drive is toward you and the printed
    circuit board is facing up, the switch is on your left. The drive
    is shipped with the switch set to the farthest position away from
    the face plate; you must move the switch back one position toward
    the face plate. If the switch is in the wrong position, the motor
    will turn, but the drive select light will not go on when you try
    to obtain a directory listing of the drive.

 ** If you place the Toshiba FDD 4603 3.5-inch 1.44-MB drive in
    front of you with the printed circuit board facing up, the drive
    slot to your left, and the cable connector to your right, you will
    see an 8-pin jumper block recessed into the upper-right corner of
    the printed circuit board. This block has two jumpers, which
    should already be in the correct position for Disk Plus. If you
    imagine the jumper pins numbered as shown below, you should
    connect pins 2 and 3, and pins 7 and 8:

             4  |8|
      Disk  |3| |7|  Cable
      Slot  |2|  6   Connector
             1   5

</PRE><h3>Support for the Mitsubishi(R) 3.5-Inch 1.44-MB Disk Drive</h3>
 
<P>
The MACH 20 board supports the Mitsubishi 3.5-inch 1.44-MB disk drive
(model number MF355B). To configure the Mitsubishi drive to be
compatible with MACH 20, you may need to change two jumpers on the
disk drive's circuit board to make the drive "media sensing." To
change the jumpers, you need a medium Phillips screwdriver and the
disk drive installation manual.
<P>
To configure the Mitsubishi drive to work with MACH 20, follow these
steps:

<OL><P><LI>Discharge any static electricity by simultaneously touching
   both hands to a grounded, bare-metal surface. Any unpainted metal in
   the frame of your computer is probably grounded.

<P><LI>Following the instructions in your disk drive's manual, remove
   the mounting plate from the disk drive.

<P><LI>Remove the two screws holding the smaller printed circuit board
   to the mounting plate of the disk drive. (This is the circuit board
   with connectors for the data and power cables.)

<P><LI>Locate the jumper labeled "HDSEL" on the main printed circuit
   board. The board is shipped from the factory with the HO and HI pins
   connected. Move the plastic jumper block so that it connects pins HI
   and SW instead:
<P>
<PRE>    HDSEL  | | |_|    HO HI SW

</PRE><P><LI>Locate the switch labeled "AB" on the main printed circuit
   board. Make sure that it is set to position A (the switch is shipped
   from the factory set to position A):
<P>
<P><PRE>    |_| |
     A B
</PRE>
<P><LI>The disk drive is now reconfigured to work with MACH 20 Disk
   Plus. Reassemble and reinstall the drive.
<P>
<P>
</OL><h2>M20DRV.SYS DEVICE DRIVER PARAMETERS</h2>
 
<P>
The M20DRV.SYS device driver included on the MACH 20 Utilities disk is
a customized version of DRIVER.SYS for MACH 20 Disk Plus. DRIVER.SYS
comes with MS-DOS versions 3.2 through 3.31 and allows MS-DOS to
recognize nonstandard disk types.
<P>
M20DRV.SYS works with MS-DOS 3.2 through MS-DOS 3.31.
<P>
<PRE>   NOTE: If you are using MS-DOS 4.0 or later, the Install program
   will not load M20DRV.SYS from the CONFIG.SYS file; instead, you
   will need to use the DRIVER.SYS file, which came with your version
   of MS-DOS. Consult your MS-DOS manual for more information on using
   DRIVER.SYS.

</PRE></OL>The parameters used by M20DRV.SYS are explained below. For more
information on these parameters, refer to your MS-DOS manual (version
3.2 or later).
<P>
<PRE>  Drive Type         CONFIG.SYS Command Line
  ----------         -----------------------
  3.5 inch, 720K     DEVICE=M20DRV.SYS /D:&lt;n&gt; /T:80 /S:9 /H:2 /F:2 /C
  5.25 inch, 1.2 MB  DEVICE=M20DRV.SYS /D:&lt;n&gt; /T:80 /S:15 /H:2 /F:1 /C
  3.5 inch, 1.44 MB  DEVICE=M20DRV.SYS /D:&lt;n&gt; /T:80 /S:18 /H:2 /F:7 /C

</PRE>The &lt;n&gt; parameter is either 0 for drive A, or 1 for drive B.
<P>
Install adds the lines for Disk Plus non-360K drive command lines to
your CONFIG.SYS file for you.
<P>
When a 3.5-inch 1.44-MB drive is installed, you can format 720K disks
in it by using the MS-DOS FORMAT command with the /N:9 /T:80
parameters as described in the MS-DOS 3.3 manual.
<P>
<PRE>   NOTE: The DRIVER.SYS /F:7 parameter for 3.5-inch 1.44-MB drives is
   not listed in the MS-DOS 3.2 documentation. This parameter is
   available with M20DRV.SYS, however, even if you are using MS-DOS
   3.2.

</PRE>When you start your computer, M20DRV.SYS is loaded into memory, and
the following message appears
<P>
<PRE>  Loaded External Disk Driver for Drive &lt;x&gt;

</PRE>where &lt;x&gt; is the drive letter you must use when formatting a disk in a
high-density or low-density 3.5-inch drive or a high-density 5.25-inch
drive. For example, if you have a 3.5-inch 720K drive installed in the
drive B slot and &lt;x&gt; in the message above is D:, you format a disk in
drive B by typing the following at the MS-DOS command prompt:
<P>
<PRE>    format d:


</PRE><h2>MACH 20 CACHING</h2>
 
<P>
<P><h3>Enabling and Disabling MACH 20 Caching</h3>
 
<P>
The M20CACHE program allows you to specify a keyboard shortcut to
enable and disable MACH 20 caching. The M20CACHE command line has the
following syntax
<P>
<PRE>    m20cache key &lt;xy&gt;

</PRE>where &lt;x&gt; and &lt;y&gt; are the letters that correspond to the keyboard
shortcut you want to use. The keys you can use and their corresponding
letters are:
<P>
<PRE>  A=ALT    C=CTRL   L=LEFT SHIFT   R=RIGHT SHIFT

</PRE>There are six key combinations to enable and disable caching: AC, AL,
AR, CL, CR, and LR. (The order of the two letters doesn't make any
difference. For example, both AC and CA specify the ALT + CTRL key
combination for switching caching on and off.)
<P>
<P><h3>Disabling Caching with Microsoft Flight Simulator(R)</h3>
 
<P>
To run Microsoft Flight Simulator, you must turn caching off using the
M20CACHE.COM CACHE OFF parameter. Be sure to start up your system
using the disk you normally use (rather than the Flight Simulator
disk), so that MACH20.SYS and M20CACHE.COM are loaded into memory.
Otherwise, you will not be able to disable caching if the * jumper on
the MACH 20 board is set to boot up with caching enabled. To disable
caching, switch to the drive or directory that contains the MACH 20
software and at the MS-DOS command prompt type:
<P>
<PRE>    m20cache cache off

</PRE>If you are using the MACH 20 Memory Plus option and you are running
Flight Simulator version 2.14 or earlier, you must disable or remove
the line in your CONFIG.SYS file that loads the Memory Plus expanded
memory driver, M20EMM.SYS.
<P>
<P><h3>Additional Parameters Available for M20CACHE.COM</h3>
 
<P>
The CACHE OFF parameter described in the table on page 29 of the
"Microsoft MACH 20 User's Guide" is available in MACH20.SYS. The
default is CACHE ON. There are also additional parameters available
for M20CACHE.COM. For a description of these parameters, make sure
M20CACHE.COM is loaded into memory, switch to the drive or directory
that contains the program, and at the MS-DOS command prompt type:
<P>
<PRE>    m20cache help


</PRE><h2>INSTALLING MEMORY PLUS AND SMARTDRIVE</h2>
 
<P>
The Install program on the MACH 20 Memory Plus Installation disk
determines how much memory is on any add-in boards in your computer
and asks you if you want to remove or disable memory on these boards.
<P>
<PRE>   WARNING: If you answer "yes," you must remove or disable the
   memory. Otherwise Memory Plus will try to backfill over the memory
   on the add-in boards, which may damage data on your hard disk.

</PRE><h3>Using Memory Plus with Other Expanded Memory Boards</h3>
 
<P>
If you have another expanded memory board installed, you can use its
memory as conventional memory (the memory below 640K), but you cannot
have the other expanded memory board's expanded memory driver loaded
at the same time as the Memory Plus expanded memory driver
(M20EMM.SYS). Before attempting to use memory on Memory Plus as
expanded memory, be sure to remove the line in your CONFIG.SYS file
that refers to the other expanded memory driver.
<P>
<P><h3>Running Flight Simulator with M20EMM.SYS Installed</h3>
 
<P>
Microsoft Flight Simulator versions 2.14 and earlier will not run if
M20EMM.SYS is installed. To run Flight Simulator, you must remove the
line in your CONFIG.SYS file that refers to M20EMM.SYS.
<P>
<P>
<P><h2>SPEEDING UP DISK ACCESS WITH SMARTDRIVE</h2>
 
<P>
The MACH 20 Memory Plus Installation disk includes the SMARTDrive disk-
caching program for computers with a hard disk and expanded or
extended memory. You can use SMARTDrive in conjunction with the
expanded memory on Memory Plus to reduce the amount of time your
computer spends reading data from your hard disk.
<P>
SMARTDrive is ideal if you work with many applications and files at
once. It is especially useful when running multiple applications that
require swapping -- copying applications to and from the hard disk to
make room in memory for all applications.
<P>
<P><h3>How SMARTDrive Works</h3>
 
<P>
SMARTDrive reduces the amount of time it takes applications to read
information from your hard disk by saving information read from or
written to your hard disk in expanded memory on Memory Plus. Whenever
an application makes a request to read the information from your hard
disk, a relatively time-consuming process, SMARTDrive supplies the
information directly from memory. SMARTDrive always copies new or
modified information to the hard disk as well as to Memory Plus
memory, so there is no danger of losing information when you turn off
your computer.
<P>
<P><h3>Replacing Other Memory-Disk or Disk-Caching Programs</h3>
 
<P>
You should use SMARTDrive as a replacement for any memory-disk program
(such as VDISK) or any disk-caching program (such as Vcache or
LIGHTNING). If you are already using a memory-disk or disk-caching
program, you must modify your CONFIG.SYS file to remove any command
lines associated with that program. See the documentation provided
with the program for information about its CONFIG.SYS command lines.
<P>
<P><h3>Setting Up SMARTDrive</h3>
 
<P>
The Install program on the MACH 20 Memory Plus Installation disk can
set up your system to use SMARTDrive. Install automatically copies
SMARTDRV.SYS from the MACH 20 Memory Plus Installation disk to your
startup disk. If you have at least 128K of available expanded memory
and you choose to run SMARTDrive, Install also adds a SMARTDrive
command line to your CONFIG.SYS file. If you don't have a CONFIG.SYS
file, Install creates one for you.
<P>
The SMARTDrive command line has the following form
<P>
<PRE>    device=&lt;path&gt;\smartdrv.sys [&lt;size&gt;] /a

</PRE>where &lt;path&gt; is the drive and directory where SMARTDRV.SYS is stored.
The /A switch specifies that you have expanded memory, and &lt;size&gt; (an
optional parameter -- do not include the brackets if you specify a
size) is the amount of expanded memory available to SMARTDrive.
<P>
Install determines how much memory to set aside for SMARTDrive based
on the amount of available expanded memory and whether you plan to run
other programs that use expanded memory. The program gives you two
choices: either set aside all the expanded memory for SMARTDrive or
set aside half (or 128K, whichever is greater) for SMARTDrive, and
leave the rest for other programs that use expanded memory. At least
128K of available expanded memory (the default) is required to run
SMARTDrive.
<P>
Once SMARTDrive is installed, it runs every time you start MS-DOS.
<P>
<P><h3>Specifying the Memory Amount Allotted to SMARTDrive</h3>
 
<P>
If you want to specify a different amount of expanded memory for
SMARTDrive, you can edit the SMARTDRV.SYS command line in your
CONFIG.SYS file.
<P>
<PRE>   WARNING: If you plan to run an application that uses expanded
   memory, make sure you specify a size that leaves enough memory for
   that application. If you specify more memory than you have
   available for SMARTDrive, you may destroy the contents of your hard
   disk.

</PRE>To determine how much expanded memory you have available, add the amount of
standard memory in your system and the amount of memory on your MACH 20
Memory Plus board, then subtract 640K (the amount of standard memory plus
backfill from Memory Plus). If the result is less than 128K, you don't have
enough expanded memory to run SMARTDrive. If the result is 128K or more,
you can select any amount between 128K and the total to give to SMARTDrive.
SMARTDrive will round the amount up to the next highest value divisible by
16.
<P>
<P><h3>Using Both SMARTDrive and M20EMM.SYS</h3>
 
<P>
If M20EMM.SYS is installed and you do not have at least 64K of
available extended memory, it is either because you don't have enough
extended memory mapped to segment FFFE, or because SMARTDRV.SYS has
already allocated that memory. You will be warned of this by the
following message when you start up your computer:
<P>
<PRE>  WARNING: High Memory Area Unavailable

</PRE>If you are running Windows, consult Appendix C, "Speeding Up Windows
with SMARTDrive," in the "Microsoft Windows User's Guide". It contains
information on how to reduce the amount of memory SMARTDrive uses.
 
<P>
<P><h2>TO OBTAIN THIS APPLICATION NOTE</h2>
 
<P>
<PRE>You can find <A HREF="http://support.microsoft.com/download/support/mslfiles/WW0340.EXE">WW0340.EXE</A> <I>(size: 156773 bytes)</I> 
                       , a self-extracting file, on the following
</PRE>services:

<UL><LI>Microsoft's World Wide Web Site on the Internet
<P><PRE>      On the www.microsoft.com home page, click the Support icon.
      Click Knowledge Base, and select the product.
<PRE></PRE>      Enter kbfile <A HREF="http://support.microsoft.com/download/support/mslfiles/WW0340.EXE">WW0340.EXE</A> <I>(size: 156773 bytes)</I> 
                             , and click GO!
      Open the article, and click the button to download the file.

</PRE><LI>Internet (anonymous FTP)
<P><PRE>      ftp ftp.microsoft.com
      Change to the Softlib/Mslfiles folder.
      Get <A HREF="http://support.microsoft.com/download/support/mslfiles/WW0340.EXE">WW0340.EXE</A> <I>(size: 156773 bytes)</I> 
</PRE>
<LI>Microsoft Download Service (MSDL)
<P><PRE>      Dial (425) 936-6735 to connect to MSDL
      Download <A HREF="http://support.microsoft.com/download/support/mslfiles/WW0340.EXE">WW0340.EXE</A> <I>(size: 156773 bytes)</I> 
</PRE><P>
</UL>For additional information about downloading, please see the following
article in the Microsoft Knowledge Base:
<P>
<PRE>   ARTICLE-ID: <B><A HREF="../zMiscellaneous/Q119591.htm">Q119591</A></B>
   TITLE     : How to Obtain Microsoft Support Files from Online
               Services

</PRE><LI>If you are unable to access the source(s) listed above, you can
   have this Application Note mailed or faxed to you by calling
   Microsoft Product Support Services Monday through Friday, 6:00 A.M.
   to 6:00 P.M. Pacific time at (425) 637-7098. If you are outside the
   United States, contact the Microsoft subsidiary for your area.
<P></UL>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
KBCategory: kbhw kbfile kbappnote<BR>
KBSubcategory: win30<BR>
Additional reference words: appnote 3.00 3.00a 3.0 3.0a hh0340<BR>
Keywords            : win30 kbappnote kbfile kbhw<BR>
Version             : 3.00 3.00a<BR>
Platform            : WINDOWS<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  May 1, 1997</FONT>
	<BR>
	<A HREF="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
