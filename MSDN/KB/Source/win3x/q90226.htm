

<HTML>
<HEAD>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Troubleshooting Lost Network Connections </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q90226 ">
<META NAME="KBModify" CONTENT="1994/11/21">
<META NAME="KBCreate" CONTENT="1992/10/12">
<META NAME="Keywords" CONTENT="kbnetwork kbtshoot">
<META NAME="KBArea" CONTENT="Support; KB; win3x, crossnet">
<META NAME="Description" CONTENT=" This article provides troubleshooting steps and suggestions that may assist you in solving network connectivity problems. Microsoft cannot guarantee the success of any specific steps provided in this article.   Windows for Workgroups may sometimes l...">
<META NAME="Product" CONTENT="Windows 3.1 and Windows for Workgroups">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QAVZ,QBWO,QBG2,QAI5,QAA1,QDI2,QAKP,QBVV,QAW5,QBWS,QAQW,QAJH,QDL9,QBWQ,QBWN V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>Troubleshooting Lost Network Connections</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  November 21, 1994</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q90226 </B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
The information in this article applies to:

<UL><LI>Microsoft Windows for Workgroups versions 3.1, 3.11
</UL> 
<P>
This article provides troubleshooting steps and suggestions that may
assist you in solving network connectivity problems. Microsoft cannot
guarantee the success of any specific steps provided in this article.
<P>
<P><h2>SUMMARY</h2>
 
<P>
Windows for Workgroups may sometimes lose (drop) network connections.
This problem is most likely to occur if one of the following conditions
exists:

<UL><LI>You are running a network installation (SETUP /N) of Windows for
   Workgroups.
<P>
   NOTE: Microsoft does not recommend running Windows for Workgroups from
   a network installation (SETUP /N) because doing so is a common stress
   condition that can cause a loss of network connections. If your system
   is run this way, store data and applications on a client or server
   that does NOT contain the shared Windows directory (created with SETUP
   /A); this appears to reduce the frequency of the problem.

<LI>Several people in a workgroup are running the same application from
   a server.
<P>
   NOTE: Network connections also can be lost when many users run the
   same application from a server (for example, 10 clients use the same
   installation of Microsoft FoxPro for MS-DOS). MS-DOS-based
   applications seem most susceptible to this problem, but Windows-based
   applications can be affected as well. Windows-based applications
   generally report segment load failures when the network connection is
   lost. MS-DOS-based applications that leave a lot of files open, such
   as database programs, are more susceptible to this problem.
<P>
</UL>If network connections are lost or dropped, the system or application
may stop responding(hang), the network installation of Windows for
Workgroups may become corrupted, and MS-DOS-based applications may produce
unexpected results.
<P>
WARNING: If you lose your Windows for Workgroups connections, immediately
save all open data files to backup files on your local drive or a remote
drive where you still have a valid connection.
<P>
<P><h2>MORE INFORMATION</h2>
 
<P>
Loss of network connections can occur when you use any version of the
redirector, but the basic redirector, invoked by using the "NET START
BASIC" command, is most likely to have this problem. The problem seems to
be caused by a timing issue in the NetBEUI protocol. It may also be related
to the network buffer size because it occurs when data is being sent over
the wire. In testing, this problem didn't occur unless the system was
running under the conditions listed above; however, the problem may occur
when a system is not under any stress, but this is very rare.
<P>
Other factors that can cause connection problems include the following:

<UL><LI>Network cards: Some network cards are more prone to these problems
   than others.

<LI>Machine speed: The slower the machine, the more likely that its
   network connections may be lost.
<P>
</UL>This problem usually originates with the server but affects clients
only.
<P>
<P><h3>Attempting to Recover</h3>
 
<P>
To determine if you have lost network connections, go to the server and use
Net Watcher to see if the machine that is not responding still has a valid
session open. This method does not always work because some applications
can reopen the network connections. Some applications may not be affected
by a lost network connection if they are not dependent on file pointers
being maintained on the server.
<P>
Sometimes you can issue the NET USE command at the command prompt to
determine whether or not a session has been disconnected. This technique
works best when the machine is not using a network installation (SETUP /N)
of Windows. Issuing the DIR command may restore the network connection and
allow the application to continue or at least exit without causing the
system to stop responding (hang).
<P>
You can also try to close all open files and attempt to quit Windows. If
the problem results from a network installation of Windows having lost its
network connections, you will get a message telling you that you do not
have enough memory to complete the operation.
<P>
<P><h3>Avoiding the Problem</h3>
 
<P>
The following steps may help prevent this problem:

<UL><LI>Increase FILES= to 128 or higher in the CONFIG.SYS file.

<LI>Increase FCBS= to 25 or higher in the CONFIG.SYS file.

<LI>Increase Sessions= to 20 or higher in the PROTOCOL.INI file.

<LI>Set NCBS= to 40 in the PROTOCOL.INI file.

<LI>Set NetHeapSize= to 52 in the [386Enh] section of the SYSTEM.INI
   file.

<LI>Set TimerCriticalSection= to 5000 or higher in the [386Enh] section of
   the SYSTEM.INI file.

<LI>If you are using a network installation of Windows (Setup /N) set
   maintainserverlist= to NO in the [network] section of the
   SYSTEM.INI file.
<P></UL>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
KBCategory: kbnetwork kbtshoot<BR>
KBSubcategory: wfw wfwg<BR>
Additional reference words: 3.10 3.11 sessions install tshoot<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  November 21, 1994</FONT>
	<BR>
	<A HREF="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
