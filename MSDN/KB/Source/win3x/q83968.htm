

<HTML>
<HEAD>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>How Windows Determines the Recommended Maximum Swap File Size </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q83968 ">
<META NAME="KBModify" CONTENT="1996/07/05">
<META NAME="KBCreate" CONTENT="1992/04/27">
<META NAME="Keywords" CONTENT="kbusage">
<META NAME="KBArea" CONTENT="Support; KB; win3x, crossnet">
<META NAME="Description" CONTENT="  This article discusses how Microsoft Windows version 3.1 determines the file size to recommend for swap files.  MORE INFORMATION  Temporary Swap File  1.Q. What is the temporary swap file recommended maximum size?    A. It is four times the physica...">
<META NAME="Product" CONTENT="Windows 3.1 and Windows for Workgroups">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QBW5,QDL9,QBWN,QBWO,QACN,QBWQ,QABN,QBJQ,QAX3,QABE,QBF0,QBBI,QAHB,QBVV,QAL2 V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>How Windows Determines the Recommended Maximum Swap File Size</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  July 5, 1996</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q83968 </B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
The information in this article applies to:

<UL><LI>Microsoft Windows operating system versions 3.1, 3.11
<LI>Microsoft Windows for Workgroups versions 3.1, 3.11
</UL> 
<P>
<P><h2>SUMMARY</h2>
 
<P>
This article discusses how Microsoft Windows version 3.1 determines the
file size to recommend for swap files.
<P>
<P><h2>MORE INFORMATION</h2>
 
<P>
<P><h3>Temporary Swap File</h3>
 
<P>
1.Q. What is the temporary swap file recommended maximum size?
<P>
<PRE>  A. It is four times the physical RAM in the computer, rounded to the
     next 4 megabytes (MB). For example, if you have 3 MB of free XMS
     memory, you can create 16 MB of virtual memory ([3 MB * 4] + 4MB = 16
     MB). Four is the default value for the SYSTEM.INI [386Enh] switch
     "PageOverCommit=".

     The recommended maximum size is also limited by the "50 percent free
     hard drive space" rule (that is, a swap file cannot take more than 50
     percent of the available, usable hard drive space [compressed or
     stacked hard drive space is not considered usable]).

     Whichever limit is reached first establishes the maximum size.

</PRE>2.Q. When I set a temporary swap file to a size larger than the
<PRE>     maximum recommended size, the following error message is displayed.
     What does this message mean?

        Windows will not use more than the virtual memory specified by
        the Recommended Size. Are you sure you want to create a larger
        swap file?

  A. WIN386.EXE creates the temporary swap file at run time, and the
     file grows as necessary; the swap-file functionality only controls the
     maximum size allowable. You can never exceed 50 percent of the free
     hard disk space or four times the amount of physical RAM.

</PRE><h3>Permanent Swap File</h3>
 
<P>
3.Q. When I set a permanent swap file to a size larger than the
<PRE>     recommended maximum size, Windows forces the setting back to the
     recommended maximum size, even when plenty of free hard drive space
     exists. When this occurs, the following message is displayed. What
     does this message mean?

        The number you specified is too large. The number currently
        displayed is the largest you can specify.

  A. When Windows sets up a permanent swap file, free and contiguous
     hard drive space limits the recommended maximum size. A permanent swap
     file must be located on unfragmented space; therefore, even if there
     is plenty of disk space, the swap file is limited by file
     fragmentation.

</PRE>If you have an disk-optimization program, such as Speedisk by Norton
Utilities or Compress by PC Tools, you can use it to make more of the
free hard drive space contiguous and usable for a permanent swap file.
<P>
NOTE: The maximum size limitations described in the first answer apply
in addition to the required unfragmented disk space.
<P>
NOTE: These utilities should not be run from Windows and should not be
run if you are using a disk cache. For more information, consult the
manual for the utility you are using.
<P>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
KBCategory: kbusage<BR>
KBSubcategory: wfw win31 wfwg<BR>
Additional reference words: 3.10 3.11 unfragment defragment swapfile<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  July 5, 1996</FONT>
	<BR>
	<A HREF="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
