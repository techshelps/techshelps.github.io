

<HTML>
<HEAD>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>SAMPLE: Alpha Blending in the Direct3D HAL and HEL </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q169626">
<META NAME="KBModify" CONTENT="1997/09/05">
<META NAME="KBCreate" CONTENT="1997/06/05">
<META NAME="Keywords" CONTENT="GdiDirect3D">
<META NAME="KBArea" CONTENT="Support; KB; win32sdk">
<META NAME="Description" CONTENT="  The D3DALPHA Direct3D Immediate Mode sample demonstrates how to create a texture based on  alpha pixels,  using a source and destination DirectDraw surface.  The example application and source code is in a self-executable compressed file. The follo...">
<META NAME="Product" CONTENT="Win32 SDK">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QAVR,QAU4,QDNG,QAH1,QAPF,QAB6,QAGI,QAK6 V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>SAMPLE: Alpha Blending in the Direct3D HAL and HEL</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  September 5, 1997</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q169626</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
 
The information in this article applies to:

<UL><LI>Microsoft DirectX 3 Software Development Kit, version 3.0
</UL> 
<P>
<P><h2>SUMMARY</h2>
 
<P>
The D3DALPHA Direct3D Immediate Mode sample demonstrates how to create a
texture based on "alpha pixels," using a source and destination DirectDraw
surface.
<P>
The example application and source code is in a self-executable compressed
file. The following file is available for download from the Microsoft
Software Library:
<P>
<PRE> ~ <A HREF="http://support.microsoft.com/download/support/mslfiles/D3dalpha.exe">D3dalpha.exe</A> <I>(size: 94729 bytes)</I> 

</PRE>For more information about downloading files from the Microsoft Software
Library, please see the following article in the Microsoft Knowledge Base:
<P>
<PRE>   ARTICLE-ID: <B><A HREF="../zMiscellaneous/Q119591.htm">Q119591</A></B>
   TITLE     : How to Obtain Microsoft Support Files from Online Services

</PRE><h2>MORE INFORMATION</h2>
 
<P>
Alpha blending mixes colors at the pixel level. Alpha values can be
specified for a texture on every pixel contained in that texture's surface.
Call IDirect3DDevice::EnumTextureFormats() to find out which pixel formats
support alpha channels for your device. A wide range of texture pixel
formats are supported by the RGB HEL. A few of these formats support alpha
channel information. To view a table that shows these formats, go to the
DirectX SDK help file and type in "texture map formats" for the index. The
D3DALPHA sample demonstrates how to create and use an alpha texture in the
HEL and in the HAL. If alpha textures are supported on your 3D hardware,
the sample selects and uses the HAL. The RGB HEL is used if 3D hardware is
not found.
<P>
D3DALPHA shows how to create an alpha texture surface and alpha texture
object and fill it with data included in a BMP file. The creation of the
alpha texture is done in a two-step process. A source texture surface is
created in system memory and a source texture object is created by calling
QueryInterface() on that surface. A second, initially empty, DirectDraw
texture surface is created in video memory if 3D accelerated hardware was
selected. If it is using the HEL, the second surface is created in system
memory. A second texture object, the destination texture, is created based
on this surface. The source texture is loaded into the destination texture
surface with a call to IDirect3DTexture::Load() and then discarded. This
process allows a 3D accelerated device to compress a texture map as it
enters video memory during the IDirect3DTexture::Load() call. The creation
of textures must be done in this manner. For further example code on the
creation of source and destination texture objects and texture surfaces,
review file "texture.c" in the "misc" directory of the DirectX SDK samples.
<P>
When creating the background texture, the sample first tries to find a
pixel format that supports 8BPP palettized mode. If it cannot find an 8BPP
palettized pixel format, it chooses a 16BPP RGB pixel format. For the alpha
texture, the sample tries to find a 16BPP pixel format. If a 16BPP pixel
format is not enumerated by EnumTextureFormats(), then a 32BPP format is
chosen. If a pixel format with alpha channels is not found, then the
application exits with an error.
 
<PRE>Keywords          : GdiDirect3D
Technology        : kbDirectXSDK
Version           : 3.0
Platform          : WINDOWS
Solution Type     : kbfile kbsample</PRE>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
================================================================================<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  September 5, 1997</FONT>
	<BR>
	<A HREF="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
