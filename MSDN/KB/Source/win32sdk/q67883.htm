

<HTML>
<HEAD>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>How to Use a DIB Stored as a Windows Resource </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q67883 ">
<META NAME="KBModify" CONTENT="1995/11/02">
<META NAME="KBCreate" CONTENT="1990/12/28">
<META NAME="Keywords" CONTENT="kbgraphic">
<META NAME="KBArea" CONTENT="Support; KB; win32sdk">
<META NAME="Description" CONTENT="  Device-independent bitmaps (DIBs) are a very useful tool for displaying graphic information in a variety of device environments. With the appropriate device drivers, Windows can display a DIB with varying results on any video display or on a graphi...">
<META NAME="Product" CONTENT="Win32 SDK">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QAPG,QAG9,QAH2,QDL9,QBWO,QBWN,QAJQ,QAIM,QAY2,QAV1,QAV0,QAUD,QAB2,QBWQ,QALW V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>How to Use a DIB Stored as a Windows Resource</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  November 2, 1995</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q67883 </B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
The information in this article applies to:

<UL><LI>Microsoft Windows Software Development Kit (SDK) for Windows
   versions 3.1 and 3.0

<LI>Microsoft Win32 Application Programming Interface (API) included with:
<P>
<P><PRE>    - Microsoft Windows NT versions 3.5 and 3.51
    - Microsoft Windows 95 version 4.0
</UL></PRE> 
<P>
<P><h2>SUMMARY</h2>
 
<P>
Device-independent bitmaps (DIBs) are a very useful tool for displaying
graphic information in a variety of device environments. With the
appropriate device drivers, Windows can display a DIB with varying results
on any video display or on a graphics printer.
<P>
This article discusses the differences between two methods that can be
used to access a DIB from a resource.
<P>
<P><h2>MORE INFORMATION</h2>
 
<P>
Bitmaps retrieved from resources are very similar to those stored in
.BMP files on disk. The header information is the same for each type of
bitmap. However, depending upon the method used to retrieve the bitmap
from the resource, the bitmap may be a device-independent bitmap (DIB)
or a device-dependent bitmap (DDB).
<P>
When the LoadBitmap() function is used to obtain a bitmap from a
resource, the bitmap is converted to a DDB. Typically, the DDB will be
selected into a memory device context (DC) and blt'ed to the screen
for display.
<P>
NOTE: If a 256-color bitmap with a palette is loaded from a resource, some
colors will be lost. To display a bitmap with a palette correctly, the
palette must be selected into the destination DC before the image is
transferred to the DC. LoadBitmap() cannot return the palette associated
with the bitmap; therefore, this information is lost. Instead, the colors
in the bitmap are mapped to colors available in the default system palette,
and a bitmap with the system default color depth is returned.
<P>
For example, if LoadBitmap() loads a 256-color image into an application
running on a VGA display, the 256 colors used in the bitmap will be mapped
to the 16 available colors, and a 4 bits-per-pixel bitmap will be returned.
When the display is a 256-color 8514 unit, the same action will map the 256
bitmap colors into the 20 reserved system colors, and an 8 bits-per-pixel
bitmap will be returned.
<P>
If, instead of calling LoadBitmap(), the application calls FindResource()
(with RT_BITMAP type), LoadResource(), and LockResource(), a pointer to a
packed DIB will be the result. A packed DIB is a BITMAPINFO structure
followed by an array of bytes containing the bitmap bits.
<P>
NOTE: If the resource was originally stored as a DDB, the bitmap returned
will be in the DDB format. In other words, no conversion is done.
<P>
The BITMAPINFO structure is a BITMAPINFOHEADER structure and an array of
RGBQUADs that define the colors used in the DIB. The pointer to the packed
DIB may be used in the same manner as a bitmap read from disk.
<P>
NOTE: The BITMAPFILEHEADER structure is NOT present in the packed DIB;
however, it is present in a DIB read from disk.
<P>
<P><h2>REFERENCES</h2>
 
<P>
For sample code demonstrating how to use FindResource() with RT_BITMAP,
LoadResource(), and LockResource(), please see the following article in the
Microsoft Knowledge Base:
<P>
<PRE>   ARTICLE-ID: <B><A HREF="../WIN32SDK/Q124947.htm">Q124947</A></B>
   TITLE     : Retrieving Palette Information from a Bitmap Resource
</PRE>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional reference words: 3.00 3.10 3.50 4.00 95<BR>
KBCategory: kbgraphic<BR>
KBSubcategory: GdiBmp<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  November 2, 1995</FONT>
	<BR>
	<A HREF="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
