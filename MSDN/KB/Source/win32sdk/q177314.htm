

<HTML>
<HEAD>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>SAMPLE: Netbios.exe: NetBIOS Client and Server Sample </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q177314">
<META NAME="KBModify" CONTENT="1997/11/25">
<META NAME="KBCreate" CONTENT="1997/11/25">
<META NAME="Keywords" CONTENT="NtwkNetBios">
<META NAME="KBArea" CONTENT="Support; KB; win32sdk">
<META NAME="Description" CONTENT="  Netbios.exe is a NetBIOS programming sample that implements an echo server and client. The sample illustrates how a client and server should be written in order to make the application protocol and LAN Adapter (LANA) independent. It also shows how ...">
<META NAME="Product" CONTENT="Win32 SDK">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QARL,QAUJ,QBFY,QAPF,QAH4,QAJH,QAY2,QARM,QBVX,QANE,QAI5,QAA1,QANY,QAJ4,QBWD V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>SAMPLE: Netbios.exe: NetBIOS Client and Server Sample</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  November 25, 1997</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q177314</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
 
The information in this article applies to:

<UL><LI>Microsoft Win32 Software Development Kit (SDK) on the following
   platforms:
   - Microsoft Windows NT versions 3.51, 4.0
   - Microsoft Windows 95 OEM Service Release, version 2
</UL> 
<P>
<P><h2>SUMMARY</h2>
 
<P>
Netbios.exe is a NetBIOS programming sample that implements an echo server
and client. The sample illustrates how a client and server should be
written in order to make the application protocol and LAN Adapter (LANA)
independent. It also shows how to avoid common mistakes programmers
frequently make when writing NetBIOS applications under WIN32.
<P>
The following file is available for download from the Microsoft
Software Library:
<P>
<PRE> ~ <A HREF="http://support.microsoft.com/download/support/mslfiles/Netbios.exe">Netbios.exe</A> <I>(size: 45215 bytes)</I> 

</PRE>For more information about downloading files from the Microsoft Software
Library, please see the following article in the Microsoft Knowledge Base:
<P>
<PRE>   ARTICLE-ID: <B><A HREF="../zMiscellaneous/Q119591.htm">Q119591</A></B>
   TITLE     : How to Obtain Microsoft Support Files from Online Services

</PRE>For a discussion about LANAs see the following article in the Microsoft
Knowledge Base:
<P>
<PRE>   ARTICLE-ID: <B><A HREF="../WIN32SDK/Q138037.htm">Q138037</A></B>
   TITLE     : How to Use LANA Numbers in a 32-bit Environment

</PRE><h2>MORE INFORMATION</h2>
 
<P>
This file is associated with the NetBIOS echo client/server sample.
<P>
There are four source files associated with this application:
<P>
<PRE>   client.c   - source code for client app
   server.c   - source code for server app
   nbcommon.c - NetBIOS functions common to client and server
   nbcommon.h - common NetBIOS defines and prototypes

</PRE><h3>Compilation &amp; Execution</h3>
 
<P>
These files compile into two applications: client.exe and server.exe.
<P>
First, compile nbcommon.c into object code. In a DOS prompt, type:
<P>
<PRE>   cl /c nbcommon.c

</PRE>Next, compile the two applications with the following commands:
<P>
<PRE>   cl -o client client.c nbcommon.obj netapi32.lib

   cl -o server server.c nbcommon.obj netapi32.lib

</PRE>To run the server:
<P>
<PRE>   server SERVER-NAME

   SERVER-NAME uniquely identifies the echo service. All clients
   who want to connect to the server should connect using this name.

</PRE>To run the client:
<P>
<PRE>   client CLIENT-NAME  SERVER-NAME

   CLIENT-NAME uniquely identifies the client. SERVER-NAME identifies
   which NetBIOS server the client wishes to connect to. Both of
   these names are NetBIOS names which are formed as follows:

   1. Names are no longer than 16 characters long.

   2. Names are unique. Only one instance of a name can
      exist in the network at any time.

   3. The 16th character must be greater than 0x20.  These
      values 0x20 and below are reserved and designate
      certain this name as a machine name, user name, etc.
      Consult a NetBIOS reference for the exact use of these
      reserved values.

</PRE>For example, the server is executed on a machine named "AJONES1" with this
command:
<P>
<PRE>   server MYSERVER1

</PRE>This establishes the server process as MYSERVER1. This name is registered
with the machine and can be verified by running:
<P>
<PRE>   nbtstat -a AJONES1

</PRE>which will display a list of all names registered with the machine
including "MYSERVER1." Please note that nbtstat.exe is a utility that is
installed only when the TCP/IP protocol is installed. It is a very useful
utility for debugging certain aspects of Netbios programs, and I would
highly recommend installing it.
<P>
Execute the client from a machine named "AJONES2" with this command:
<P>
<PRE>   client MYCLIENT MYSERVER1

</PRE>The client will connect to the server, send a string, and read the string
back from the server.
 
<PRE>Keywords          : NtwkNetBios
Version           : WINNT:3.51,4.0
Platform          : Win95 winnt
Issue type        : kbfile</PRE>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
================================================================================<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  November 25, 1997</FONT>
	<BR>
	<A HREF="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
