

<HTML>
<HEAD>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>How to Set Up and Run the RNR Sample Included in the Win32 SDK </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q131505">
<META NAME="KBModify" CONTENT="1995/09/29">
<META NAME="KBCreate" CONTENT="1995/06/13">
<META NAME="Keywords" CONTENT="kbnetwork kbnetwork">
<META NAME="KBArea" CONTENT="Support; KB; win32sdk">
<META NAME="Description" CONTENT="  This article explains how to set up and operate the Service Registration and Resolution (RNR) sample over the TCP and SPX network protocols. The RNR sample comes with the Microsoft Win32 (SDK) versions 3.5 and 3.51. It illustrates the use of the se...">
<META NAME="Product" CONTENT="Win32 SDK">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QAA1,QDI2,QAGI,QBBI,QAPF,QBWD,QAUJ,QACK,QAUD,QAIJ,QAIF,QBWS,QAKD,QAD7,QARM V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>How to Set Up and Run the RNR Sample Included in the Win32 SDK</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  September 29, 1995</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q131505</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
The information in this article applies to:

<UL><LI>Microsoft Win32 Software Development Kit (SDK) versions 3.5, 3.51
</UL> 
<P>
<P><h2>SUMMARY</h2>
 
<P>
This article explains how to set up and operate the Service Registration
and Resolution (RNR) sample over the TCP and SPX network protocols. The RNR
sample comes with the Microsoft Win32 (SDK) versions 3.5 and 3.51. It
illustrates the use of the service registration and resolution APIs.
<P>
<P><h2>MORE INFORMATION</h2>
 
<P>
<P><h3>How to Set Up the RNR Sample</h3>
 
<P>
Run rnrsetup /ADD on each client and on the server to call the SetService
API with SERVICE_ADD_TYPE. This call stores the service name type, its
associated GUID, and relevant addressing information for the specified name
spaces in the registry path:
<P>
<PRE>   \HKEY_LOCAL_MACHINE
     \CurrentControlSet
       \Control
         \ServiceProvider
           \ServiceTypes

</PRE>This information is then retrieved by GetTypeByName() and
GetAddressByName() calls respectively to identify the server's address.
<P>
<P><h3>How to Operate the RNR Sample</h3>
 

<OL><P><LI>Start rnrsrv on one machine. After setting listening ports on the
   available protocols, the RNR server executes the SetService() call with
   the SERVICE_REGISTER flag to register the network service with the
   specified name spaces. For example, it enables advertising the
   EchoExample service name on the SAP protocol.

<P><LI>On the other machine, start rnrclnt using the following syntax:
<P>
   rnrclnt /?
<P>
   Usage: rnrclnt [/name:SVCNAME] [/type:TYPENAME] [/size:N]
<PRE>             [/count:N]  [/rcvbuf:N] [/sndbuf:N]

    - TYPENAME is initially passed to GetTypeByName() call to return
      the GUID value. The GUID value and SVCNAME is then passed to
      GetAddressByName() to return the address of the server that
      the client can connect to. TYPENAME is defined as EchoExample
      for the RNR sample.

    - SVCNAME specifies which EchoExample server to connect to. If
      SVCNAME is specified as the server name in the Internet domain,
      the TCP protocol will be used. If SVCNAME is specified as
      EchoServer (the RNR service name advertised on SAP), the SPX
      protocol will be used.

    - The other parameters to the rnrclnt have appropriate default
      values and are self explanatory.
</PRE>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional reference words: 3.50 3.51<BR>
KBCategory: kbnetwork kbnetwork<BR>
KBSubcategory: NtwkWinsock<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  September 29, 1995</FONT>
	<BR>
	<A HREF="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
