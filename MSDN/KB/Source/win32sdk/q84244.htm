

<HTML>
<HEAD>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Processes Maintain Only One Current Directory </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q84244 ">
<META NAME="KBModify" CONTENT="1996/12/16">
<META NAME="KBCreate" CONTENT="1992/05/05">
<META NAME="Keywords" CONTENT="kbprg">
<META NAME="KBArea" CONTENT="Support; KB; win32sdk">
<META NAME="Description" CONTENT="  Processes under Windows NT maintain only one current directory. Under MS-DOS or OS/2, a process will maintain a current directory for each drive.  MORE INFORMATION  For example, if you do the following  1. Set the current drive to be drive C and se...">
<META NAME="Product" CONTENT="Win32 SDK">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QATJ,QBXB,QA62,QAFI,QBWP,QAC9,QAC1,QBXS,QADX,QBFY,QAB5,QABA,QALQ,QBSO,QAA1 V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>Processes Maintain Only One Current Directory</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  December 16, 1996</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q84244 </B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
The information in this article applies to:

<UL><LI>Microsoft Win32 Application Programming Interface (API) included with:
<P>
<P><PRE>    - Microsoft Windows NT versions 3.1, 3.5, 3.51, and 4.0
</UL></PRE> 
<P>
<P><h2>SUMMARY</h2>
 
<P>
Processes under Windows NT maintain only one current directory. Under
MS-DOS or OS/2, a process will maintain a current directory for each drive.
<P>
<P><h2>MORE INFORMATION</h2>
 
<P>
For example, if you do the following

<OL><P><LI>Set the current drive to be drive C and set the current directory
   to be \MAINC\MAINSUBC.

<P><LI>Change the current drive to be drive D and set the current
   directory to be \MAIND\MAINSUBD.
<P>
</OL>When you reset the current drive to drive C, the current directory will be
the original directory: \MAINC\MAINSUBC.
<P>
MS-DOS and OS/2 use a current directory structure (CDS) to maintain this
information. The memory for this structure is allocated at boot time, and
is set by the LASTDRIVE= line in the CONFIG.SYS file. For example, if you
set LASTDRIVE=Z, you will have 26 entries in the CDS and will be able to
track 26 current directories.
<P>
Windows NT by default allows a process to track only one current directory-
-the one for the current drive--because the underlying operating system
does not use drive letters; it always uses fully-qualified names such as:
<P>
<PRE>   \Device\HardDisk0\Partition1\autoexec.bat

</PRE></OL>The Win32 subsystem maintains drive letters by setting up symbolic links
such as:
<P>
<PRE>   \??\C: == \Device\HardDisk0\Paritition1
   \??\D: == \Device\HardDisk0\Paritition2
   \??\E: == \Device\HardDisk1\Paritition1

</PRE>(Partitions are 1-based while hard disks are 0-based because Partition0
refers to the entire physical device, which is the "file" that FDISK opens
to do its work.) Therefore, when you do SetCurrentDirectory("c:\tmp\sub"),
the Win32 subsystem translates that to "\??\c:\tmp\sub", "...".
<P>
As far as Windows NT is concerned, there are no "drives," there is one
object name space.
<P>
CMD.EXE maintains a private current directory for each drive it has touched
and uses environment variables to associate a current directory with each
drive.
<P>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
KBCategory: kbprg<BR>
KBSubcategory: BseFileio<BR>
Additional reference words: 3.1 3.5 3.51 4.0 Path Directory Current Drive<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  December 16, 1996</FONT>
	<BR>
	<A HREF="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
