

<HTML>
<HEAD>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>SMTP: Recommended Environments for the SMTP Gateway </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q137041">
<META NAME="KBModify" CONTENT="1997/10/20">
<META NAME="KBCreate" CONTENT="1995/09/19">
<META NAME="Keywords" CONTENT="">
<META NAME="KBArea" CONTENT="Support; KB; pcmail">
<META NAME="Description" CONTENT="  When you have the SMTP Mail Gateway functional, you need to address several factors to get reliable performance. If you overlook the factors, the gateway may intermittently hang and refuse inbound connections.  The issues listed below are usually i...">
<META NAME="Product" CONTENT="PC Mail">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QBVW,QAYC,QAI5,QAJQ,QDN1,QBG2,QBVV,QAVZ,QBWD,QDIZ,QAU3,QAM5,QACN,QDJ3,QBF0 V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>SMTP: Recommended Environments for the SMTP Gateway</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  October 20, 1997</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q137041</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
3.00
MS-DOS
kb3rdparty
<P>
 
The information in this article applies to:

<UL><LI>Microsoft Mail Gateway to SMTP, version 3.0
</UL> 
<P>
<P><h2>SUMMARY</h2>
 
<P>
When you have the SMTP Mail Gateway functional, you need to address several
factors to get reliable performance. If you overlook the factors, the
gateway may intermittently hang and refuse inbound connections.
<P>
The issues listed below are usually involved when the gateway stops working
with no error message recorded in the SMTPGATE.LOG, and the following is
repeatedly displayed in this file:
<P>
<PRE>   Spawning SMTPGET
   Spawn(SMTPGET)=0
   Idling: 48258 bytes, largest 47234

</PRE><h2>MORE INFORMATION</h2>
 
<P>
The following five configuration issues can decrease the reliability of the
SMTP gateway.

<OL><P><LI>The postoffice (PO) and gateway should be on the same physical network.
   Because the gateway's temporary files are written on the
   postoffice (M:\MAILDATA\SMTP\), and not its local hard disk, the
   performance of the gateway is dependent on file input/output.
   The most effective way to ensure fast file input/output is to
   have both the gateway and postoffice on the same physical
   network.

<P><LI>Use a Mail Relay Host for inbound SMTP mail.
   It is not mandatory to have Mail Relay Host configured for Inbound
   mail, but it is highly recommended. The SMTP Gateway is dependent
   on a MS-DOS redirector and the reliability of a UNIX to MS-DOS
   connection is not as robust as that of a UNIX to UNIX connection (UNIX
   is multithreaded; MS-DOS is single threaded). Therefore, you should
   control the UNIX to MS-DOS connection by storing all messages going to
   the Microsoft Mail on a Host before they get forwarded to Microsoft
   Mail.
<P>
   You want to have as much control over the less reliable UNIX to MS-DOS
   connection as possible. The optimum way to control this is by putting a
   Mail Relay Host on the same network segment as the gateway and PO
   server. Not only does this increase the reliability of the UNIX to
   MS-DOS connection from a physical perspective, but it also allows the
   Host to be configured to open/close the connections more effectively.

<P><LI>Routers should use static routing.
   If the Smart Host (Mail Relay Host) is not on the same network
   segment as the gateway and PO, then static routes should be
   configured on the router that separates the gateway and host.
   The IP addresses for the gateway and the Smart Host should be
   added to the static table on the router.
<P>
   NOTE: Most routers use dynamic routing by default, a static table
   needs to be manually created and maintained.

<P><LI>Use a 16-bit network interface card (NIC)
   When you use a 16-bit NIC, it is a good way to get fast file
   input/output. Additionally, it is recommended to use a 16-bit NIC
   with RAM disabled.

<P><LI>Use one protocol per NIC (IPX/SPX)
   When the PO is on a Novell NetWare server, and IPX/SPX is used to
   access the PO and TCP/IP is used to access the Host, it
   may be necessary to isolate each protocol on a separate NIC.
<P></OL>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional reference words: 3.00<BR>
KBCategory: kb3rdparty<BR>
KBSubcategory: MailGWSMTP<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  October 20, 1997</FONT>
	<BR>
	<A HREF="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
