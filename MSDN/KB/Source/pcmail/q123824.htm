

<HTML>
<HEAD>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>X400: Err Msg: ERROR 1 (TRAN): Invalid TPDU 70 in State 4 </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q123824">
<META NAME="KBModify" CONTENT="1997/10/20">
<META NAME="KBCreate" CONTENT="1994/12/13">
<META NAME="Keywords" CONTENT="">
<META NAME="KBArea" CONTENT="Support; KB; pcmail">
<META NAME="Description" CONTENT=" SYMPTOM  Version 3.2x of the Microsoft Mail Gateway for X.400 may display the following message in the X400xxxx.LOG file if verbose and debug logging are enabled (-lvd):     Incoming ER TPDU on connection xx:    0970001A 00C10302 F080    ERROR 1 (TR...">
<META NAME="Product" CONTENT="PC Mail">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QAML,QANY,QBE7,QBE6,QA7O,QA7N,QAEV,QAYY,QAYC,QBVW,QALS,QAAP,QAB4,QAI4,QBVV V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>X400: Err Msg: ERROR 1 (TRAN): Invalid TPDU 70 in State 4</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  October 20, 1997</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q123824</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
3.20
MS-DOS
kbusage kberrmsg kb3rdparty
<P>
 
The information in this article applies to:

<UL><LI>Microsoft Mail Gateway for X400, versions 3.2x
</UL> 
<P>
<P><h2>SYMPTOM</h2>
 
<P>
Version 3.2x of the Microsoft Mail Gateway for X.400 may display the
following message in the X400xxxx.LOG file if verbose and debug logging are
enabled (-lvd):
<P>
<PRE>   Incoming ER TPDU on connection xx:
   0970001A 00C10302 F080
   ERROR 1 (TRAN): Invalid TPDU 70 in state 4

</PRE><h2>CAUSE</h2>
 
<P>
The data field in the message has a field length of zero. This is allowed
if it is the last packet.
<P>
<P><h2>RESOLUTION</h2>
 
<P>
The remote X400 message transfer agent (MTA) must be able to accept the
last packet in the conversation if it has a data field length of zero.
Contact the administrator of the other X400 MTA to verify it will accept an
end packet of data field length zero.
<P>
<P><h2>MORE INFORMATION</h2>
 
<P>
A complete explanation of the TPDU follows:
<P>
<PRE>   rv[ 10] 0970001A 00C10302 F080

      09  length       = 9
      70  TPDU type    = ER
      001A             = Destination reference
      00  reject cause = Not specified
      C1 03 02 F080    = The invalid TPDU that the other side is
                         complaining about.

</PRE>The invalid TPDU:
<P>
<PRE>      02 length        = 2
      F0 TPDU type     = DT
      80  EOT or the end flag.

</PRE>The Microsoft X.400 Gateway may create a zero length data field if the
length of the message happened to fall on a DT TPDU boundary. This is not a
violation of the X.400 standard. According to X.224 section 6.3.3.:
<P>
<PRE>   All DT TPDUs except the last DT TPDU in a sequence greater than one
   shall have a length of data greater than zero.

</PRE>This is the last DT TPDU in a sequence (the EOT flag being on), so it is
allowed to have a zero length user data field.
<P>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional reference words: x400 errmsg<BR>
KBCategory: kbusage kberrmsg kb3rdparty<BR>
KBSubcategory: MailGWX400<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  October 20, 1997</FONT>
	<BR>
	<A HREF="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
