

<HTML>
<HEAD>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>PC DirSync: DirSync Request Limitations of SRVMAIN.EXE </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q123857">
<META NAME="KBModify" CONTENT="1996/05/24">
<META NAME="KBCreate" CONTENT="1994/12/13">
<META NAME="Keywords" CONTENT="">
<META NAME="KBArea" CONTENT="Support; KB; pcmail">
<META NAME="Description" CONTENT="  Foreign DirSync requesters (third party gateways participating in DirSync) may cause SRVMAIN -T (T2) to fail when generating DirSync mail back to the requester at T2 time. DIRSYNC.LOG will report the following errors:     Warning[  9] Out of memory...">
<META NAME="Product" CONTENT="PC Mail">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QAYC,QAGI,QAB4,QBW6,QBF0,QAC2,QBBI,QABN,QBV0,QAEV,QAY2,QAXB,QAR5,QBXJ,QAJ6 V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>PC DirSync: DirSync Request Limitations of SRVMAIN.EXE</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  May 24, 1996</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q123857</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
The information in this article applies to:

<UL><LI>Microsoft Mail for PC Networks, versions 3.0, 3.0a, 3.2, and 3.5
</UL> 
<P>
<P><h2>SUMMARY</h2>
 
<P>
Foreign DirSync requesters (third party gateways participating in DirSync)
may cause SRVMAIN -T (T2) to fail when generating DirSync mail back to the
requester at T2 time. DIRSYNC.LOG will report the following errors:
<P>
<PRE>   Warning[  9] Out of memory: SRVUPDS
   Fatal  [159] Failure to send update mail to requesters
                &lt;address type&gt;:&lt;network&gt;/&lt;po&gt;

</PRE>The requester fails to receive any address changes from the DirSync server,
but other requesters (Microsoft Mail postoffices) appear unaffected, and
receive address changes.
<P>
<P><h2>MORE INFORMATION</h2>
 
<P>
As documented in the "Directory Synchronization with Foreign Mail Systems"
manual, there are two ways the requester can request addresses from the
DirSync server: Inbody or Inattachment. Inbody means that the address
transactions will be included in the body of the mail message. Inattachment
means that address transactions will be included in a separate file that is
an attachment to the mail message.
<P>
The T2 failure and error messages result if the import request message from
the requester specifies "transactions=inbody" instead of
"transactions=inattachment." If Inbody is specified, SRVMAIN -T will create
SRVUPDS.GLB, a temporary file that contains all transactions that need to
be sent out to the various requesters during this cycle, on the disk. Then,
in memory on the computer running DirSync, SRVMAIN creates a mail message,
and tries to read in the entire contents of SRVUPDS as the message body
into available memory. If the list is large enough to exceed the available
memory, SRVMAIN fails to create the mail message and DIRSYNC.LOG reports
the errors listed above. No transactions will be sent back to the
requester.
<P>
NOTE: This memory limitation shows up first when running SRVMAIN under MS-
DOS, but could occur under OS/2 as well (unlikely in real world
circumstances). SRVMAIN is a bound executable, capable of executing under
both MS-DOS and OS/2. Since OS/2 does not have the conventional memory
(640K) limitation that MS-DOS has, running DirSync under OS/2 will likely
succeed under the same circumstances that would make SRVMAIN fail under MS-
DOS.
<P>
If "transactions=inattachment" is specified, then SRVMAIN builds a
temporary file on disk (TMPTRANS.GLB) from SRVUPDS that includes all the
appropriate transactions for that requester, and, after completion,
attaches this file to the requester update message, avoiding the memory
limitation.
<P>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
KBCategory: kb3rdparty kberrmsg<BR>
KBSubcategory: MailPCDirSync<BR>
Additional reference words: 3.00 3.00a 3.20 3.50 Requester<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  May 24, 1996</FONT>
	<BR>
	<A HREF="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
