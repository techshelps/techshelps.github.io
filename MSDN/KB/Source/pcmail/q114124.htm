

<HTML>
<HEAD>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>PC MMTA: External Configured for CommType=X25Eicon May Hang </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q114124">
<META NAME="KBModify" CONTENT="1995/11/16">
<META NAME="KBCreate" CONTENT="1994/04/25">
<META NAME="Keywords" CONTENT="kb3rdparty kbnetwork kbtlc kbbug3.20 kbfix3.20.60">
<META NAME="KBArea" CONTENT="Support; KB; pcmail">
<META NAME="Description" CONTENT="  An MS-DOS message transfer agent (MTA) or OS/2 multitasking MTA (MMTA) session started with the Commtype=X25Eicon switch stops responding (hangs). No X.25 Call-Requests go out and all incoming calls in that session or other instances, if any, are r...">
<META NAME="Product" CONTENT="PC Mail">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QAGI,QDJO,QAJ6,QBE7,QBE6,QAIF,QAH6,QAGB,QBVV,QBB0,QA4F,QAWM,QAVZ,QASP,QAML V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>PC MMTA: External Configured for CommType=X25Eicon May Hang</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  November 16, 1995</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q114124</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
The information in this article applies to:

<UL><LI>Microsoft Mail for PC Networks, version 3.2
</UL> 
<P>
<P><h2>SYMPTOMS</h2>
 
<P>
An MS-DOS message transfer agent (MTA) or OS/2 multitasking MTA (MMTA)
session started with the Commtype=X25Eicon switch stops responding (hangs).
No X.25 Call-Requests go out and all incoming calls in that session or
other instances, if any, are rejected. Following the hang, the MMTA session
typically will not respond to the ESC key to terminate.
<P>
<P><h2>CAUSE</h2>
 
<P>
An Eicon adapter tracks network control blocks (NCBs) by putting them in
queues labeled Free, Active, Completed, and Unknown. On one Eicon adapter
there can be a maximum of 245 NCBs allocated simultaneously. The NCBs are
released to the Free queue when an X.25 application calls the Eicon
application programming interface (API) routine X25DONE.
<P>
When initiating a transfer, the MMTA session issues a Call-Request to the
Eicon adapter. The Eicon adapter allocates two NCBs per Call-Request,
regardless of whether or not an X.25 virtual circuit (VC) has actually been
established with a remote MMTA. Although the MMTA does issue an X25HANGUP
call when a message transfer is complete, it does not call X25DONE.
<P>
This causes NCBs to accumulate in the Completed queue, never to return to
the Free queue. When an MMTA session sends the 126th NCB (roughly), given
two NCBs per Call-Request, the adapter hangs and does not process any more
incoming or outgoing calls. Following this, the MMTA session that sent the
last Call-Request hangs.
<P>
<P><h2>WORKAROUND</h2>
 
<P>
Currently, two workarounds are available:

<UL><LI>Use the -BR (break relative) switch on the MMTA command line to
   periodically terminate X.25 MMTA sessions.

<LI>Restart the computer containing the Eicon adapter. This will
   re-initialize the adapter. If you are running OS/2, any additional
   X.25 MMTA instances will be disabled until this is done.
<P>
</UL><h2>STATUS</h2>
 
<P>
Microsoft has confirmed this to be a problem in the MTA for version 3.2 of
Microsoft Mail for PC Networks and in the MMTA for OS/2. This was fixed
with External version 3.2.6 for both MS-DOS and OS/2.
<P>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional reference words: 3.20 breakrelative<BR>
KBCategory: kb3rdparty kbnetwork kbtlc kbbug3.20 kbfix3.20.60<BR>
KBSubCategory: MailPCMMTA<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  November 16, 1995</FONT>
	<BR>
	<A HREF="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
