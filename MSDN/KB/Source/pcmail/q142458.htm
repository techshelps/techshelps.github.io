

<HTML>
<HEAD>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>X.400: How to Test TP4 Connection Before X.400 Installation </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q142458">
<META NAME="KBModify" CONTENT="1997/10/20">
<META NAME="KBCreate" CONTENT="1996/01/14">
<META NAME="Keywords" CONTENT="MailGWX400 kbhowto kbsetup">
<META NAME="KBArea" CONTENT="Support; KB; pcmail">
<META NAME="Description" CONTENT="  You can use the TP4 utilities (PING, TTXT.EXE, and TRXT.EXE) to test a network connection before you install Microsoft Mail Gateway to X.400.  MORE INFORMATION  Notes:   - The Mail Gateway to X.400 provides a TP4 transport or connectionless    prot...">
<META NAME="Product" CONTENT="PC Mail">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QAVW,QAVX,QBE7,QBE6,QBCU,QBVW,QAYC,QBFY,QA3Q,QAY2,QAVZ,QAA1,QAR2,QAEV,QDI2 V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>X.400: How to Test TP4 Connection Before X.400 Installation</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  October 20, 1997</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q142458</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
3.00
MS-DOS
kbsetup
<P>
 
The information in this article applies to:

<UL><LI>Microsoft Mail Gateway to X.400, version 3.0
</UL> 
<P>
<P><h2>SUMMARY</h2>
 
<P>
You can use the TP4 utilities (PING, TTXT.EXE, and TRXT.EXE) to test a
network connection before you install Microsoft Mail Gateway to X.400.
<P>
<P><h2>MORE INFORMATION</h2>
 
<P>
Notes:

<UL><LI>The Mail Gateway to X.400 provides a TP4 transport or connectionless
   protocol (CLNP).

<LI>The TP4/CLNP protocol also includes diagnostic utilities: PING,
   TTXT.EXE, and TRXT.EXE.
<P>
</UL><h3>PING</h3>
 
<P>
The PING utility tests the DLI/protocol driver interface at the data link
level, verifying data link layer connectivity. The PING utility operates as
a loopback test between the local network workstation that will be running
the X.400 gateway MTA (X400GATE.EXE) and a remote network workstation,
often the receiving MTA running TP4 protocol.

<OL><P><LI>Install the Microsoft Mail TP4/CLNP Drivers and Utilities disk on
   the hard drive of the gateway computer and modify PROTOCOL.INI,
   CONFIG.SYS, and AUTOEXEC.BAT as documented in Chapter 2 of the Microsoft
   Mail Gateway to X.400 "Administrator's Guide," pages 25-31.

<P><LI>From the C:\TP4\DIAG directory, created by the Microsoft Mail TP4/CLNP
   Drivers and Utilities disk, type:
<P>
<P><PRE>      ping MAC-address [count] [length] [subnetwork] [-u driver]
</PRE><P>
   The MAC-address is a 12 digit hexadecimal value of the receiving network
   workstation. If the MAC-address is unknown, have the remote user
   determine MAC-address from Microsoft Diagnostic Utility (MSD.EXE)
   under Networks or from the C:\TP4\UTIL\GETMAC.EXE utility.
<P>
   For more information on the use of the GETMAC.EXE utility, see page 40
   of Microsoft Mail Gateway to X.400 TP4/CLNP "Administrator's Reference."
<P>
   NOTE: If the receiving network workstation is on another subnetwork
   make sure to include the subnetwork value that specifies the number of
   the adapter connected to the subnetwork where the remote system resides.

<P><LI>With the command line of PING 00AA00342C79 1000, a successful returning
   result will be:
<P>
<P><PRE>      1000 test packet sent and received
</PRE><P>
</OL><h3>TTXT and TRXT</h3>
 

<OL><P><LI>Install the Microsoft Mail TP4/CLNP Drivers and Utilities disk on
   hard drive of the gateway computer and modify PROTOCOL.INI, CONFIG.SYS,
   and AUTOEXEC.BAT as documented in Chapter 2 of the Microsoft Mail
   Gateway to X.400 "Administrator's Guide," pages 25-31.

<P><LI>Go to the computer designated as the receiver. To determine the
   receivers NSAP, type GETNSAP from C:\TP4\UTIL directory.
<P>
   If no NSAP is displayed, use SETNSAP as documented on page 52 of
   Microsoft Mail Gateway to X.400 TP4/CLNP "Administrator's Reference."

<P><LI>Type TRXT from the C:\TP4\DIAG directory.

<P><LI>Move to the computer designated as the transmitter.

<P><LI>Type TTXT -N rx_nsap -c 3 from the C:\TP4\DIAG directory.
<P>
   Replace rx_nsap with the value for the receiver NSAP determined in
   step 2.

<P><LI>When you have typed the ttxt command line, one or more transport
   connection establishment messages appear on each system. For example,
   the transmitter station displays:
<P>
<PRE>      00:00:00:   STC00  established
      00:00:00:   STC01  established
      00:00:00:   STC02  established

   The receiver station displays similar messages:

      00:00:01:   RTC00  established
      00:00:01:   RTC01  established
      00:00:01:   RTC02  established

</PRE></OL>During the trxt and ttxt testing, both computers periodically display
throughput messages, unless quiet mode was specified. If the default value
was used for reporting the interval, messages such as the following will be
displayed at the transmitter station after 30 seconds:
<P>
<PRE>  00:00:30:   STC000    179.92  KB/sec     11.3   TSDU/sec     88   ms/TSDU
  00:00:30:   STC001    179.92  KB/sec     11.3   TSDU/sec     88   ms/TSDU
  00:00:30:   STC002    179.92  KB/sec     11.3   TSDU/sec     88   ms/TSDU

  00:00:30:   TOTAL3  CON  538.69  KB/sec 33.9 TSDU/sec 29   ms/TSDU

</PRE>Similar messages will also be displayed at the receiver station after 30
seconds:
<P>
<PRE>00:00:30:   RTC000    176.21  KB/sec     11.1   TSDU/sec     90   ms/TSDU
00:00:30:   RTC001    176.21  KB/sec     11.1   TSDU/sec     90   ms/TSDU
00:00:30:   RTC002    175.68  KB/sec     11.1   TSDU/sec     90   ms/TSDU
00:00:30:   TOTAL3  CON  528.11  KB/sec 33.3 TSDU/sec 30   ms/TSDU

</PRE><P><LI>To stop trxt and ttxt testing, press any key on the transmitter
   computer's keyboard. The receiver displays messages similar to the
   following:
<P>
<PRE>      00:03:45:   RTC00    disconnected   reason   128
      00:03:45:   RTC01    disconnected   reason   128
      00:03:45:   RTC02    disconnected   reason   128

</PRE><P><LI>To stop the receiver, press any key on the receiver's keyboard.
<P>
   NOTE: Do not press CTRL+C or BREAK to stop the ttxt or trxt diagnostic
   utilities.
<P>
</OL>For further procedures and command line options for TP4/CLNP utilities, see
Chapter 3 of Microsoft Mail Gateway to X.400 TP4/CLNP "Administrator's
Reference."
<P>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional reference words: 3.00 3.x<BR>
KBCategory: kbsetup kbhowto<BR>
KBSubcategory: MailGWX.400<BR>
Keywords          : MailGWX400 kbhowto kbsetup<BR>
Version           : 3.00<BR>
Platform          : MS-DOS<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  October 20, 1997</FONT>
	<BR>
	<A HREF="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
