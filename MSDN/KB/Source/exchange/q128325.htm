

<HTML>
<HEAD>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>XADM: Reclaiming Disk Space for the Information Store </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q128325">
<META NAME="KBModify" CONTENT="1997/04/03">
<META NAME="KBCreate" CONTENT="1995/03/29">
<META NAME="Keywords" CONTENT="kbenv XADM">
<META NAME="KBArea" CONTENT="Support; KB; exchange">
<META NAME="Description" CONTENT="  If the Information Store does not start due to lack of disk space, an application event is logged in the Windows NT Event Viewer. The source is EDB and the error test includes the Jet Blue error ID -1808. This article describes how to free up disk ...">
<META NAME="Product" CONTENT="Exchange">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QBW5,QDIU,QBWP,QDMH,QAUR,QA3W,QBXB,QACK,QATJ,QAGB,QAFI,QAEF,QAU5,QAYY,QAIJ V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>XADM: Reclaiming Disk Space for the Information Store</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  April 3, 1997</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q128325</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
 
The information in this article applies to:

<UL><LI>Microsoft Exchange Server, version 4.0
</UL> 
<P>
<P><h2>SUMMARY</h2>
 
<P>
If the Information Store does not start due to lack of disk space, an
application event is logged in the Windows NT Event Viewer. The source is
EDB and the error test includes the Jet Blue error ID -1808. This article
describes how to free up disk space so that the Information Store can
restart, and how to use Windows NT Performance Monitor to track disk space
usage in the future.
<P>
<P><h2>MORE INFORMATION</h2>
 
<P>
<P><h3>Monitoring Disk Space</h3>
 
<P>
An Administrator can observe disk space usage on the drive containing the
Information Store by using the Windows NT Performance Monitor. The
LogicalDisk object along with the "% Free Space" and "Free Megabytes"
counters are used to monitor and trigger alerts when disk space is low.
<P>
<P><h3>Recovering Space Used by Log Files</h3>
 
<P>
Increasing log files can cause the Information Store or Directory Store to
run out of operating space. To prevent this, do one of the following:

<UL><LI>Write the log files to a different drive.

<LI>To change the location where the Information Store or Directory Store
   Transaction logs are written, select the Server object properties page
   and choose the Database Paths tab. Change the path for the Information
   Store and Directory Store transaction logs and click OK.

<LI>Backup the Exchange Server.

<LI>Use the Windows NT Backup utility that ships with Exchange Server to
   perform either a Normal (full) or Incremental Online backup of the
   server. The Backup utility automatically deletes transaction logs that
   are no longer needed (they have been committed to disk). If you never
   run the Backup utility, log files continue to grow.

<LI>Correctly delete log files periodically.

<LI>When the Information and Directory stores run, you find log files of the
   EDB*.LOG form in both the EXCHSRVR\DSADATA and EXCHSRVR\MDBDATA
   directories. Microsoft Exchange uses these log files to commit data to
   disk. In addition, these log files are necessary to perform Incremental
   and Differential type backup using the Windows NT Backup utility.

<LI>The EDB*.LOG files can be deleted after the Directory and Information
   Store services have been shut down. If the log files are deleted when
   the services are still running, you can jeopardize data integrity. When
   the services are stopped, the transactions in these log files are
   committed to the main database file on disk (DIR.EDB for the directory
   and PRIV.EDB and PUB.EDB for the Information Store). When this data is
   committed, the log files are no longer needed. Follow the steps below to
   correctly delete log files:
<P>
   1. In Control Panel Services, select the Microsoft System Attendant
<P><PRE>      Service and click STOP. This stops all Microsoft Exchange Services.
</PRE><P>
   2. Make a backup copy of the EDB*.LOG files in both the EXCHSRVR\DSADATA
<P><PRE>      and the EXCHSRVR\MDBDATA directories. Copy them to an alternate
      location on the hard drive or to the tape backup.
</PRE><P>
   3. Delete all the EDB*.LOG files in both the EXCHSRVR\DSADATA and
<P><PRE>      EXCHSRVR\MDBDATA directories.
</PRE><P>
   4. Restart all the Microsoft Exchange Server Services (in particular,
<P><PRE>      the Directory and Information Store services).
</PRE><P>
   5. If these services do not start, restore the DSADATA and MDBDATA
<P><PRE>      sub-directories from tape or hard disk. Restart the services again.
</PRE><P>
   6. If the services start, delete the backup copy of the DSADATA and
<P><PRE>      MDBDATA sub-directories.
</PRE><P>
</UL>NOTE: If you delete the EDB*.LOG files in the manner described above,
Incremental and Differential backups of the Exchange Directory Store and
Information Store are no longer valid or possible. You can only perform a
Normal type (full) backup.
<P>
Circular Logging (which is enabled, by default – Advanced tab of the
server object's property page) writes log files, but once the checkpoint
has been advanced, the inactive portion of the transaction logs are
discarded. Typically, this represents the majority of the potential log
data. The total size of the active transactions are less than the total
amount of RAM on a given computer. Therefore, with circular logging
enabled, the system has complete recoverability, with respect to hard and
soft crashes. The element that is sacrificed is the protection against
media failure. These methods are not supported on servers, where Circular
logging is enabled, because the transaction logs are used for incremental
and differential backups. An error message in Windows NT Backup appears.
<P>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional query words:<BR>
Keywords            : kbenv XADM<BR>
Version             : 4.0 5.0<BR>
Platform            : WINDOWS<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  April 3, 1997</FONT>
	<BR>
	<A HREF="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
