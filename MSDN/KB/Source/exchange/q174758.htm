

<HTML>
<HEAD>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>XADM: Steps Performed During Knowledge Consistency Check </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q174758">
<META NAME="KBModify" CONTENT="1997/12/01">
<META NAME="KBCreate" CONTENT="1997/10/06">
<META NAME="Keywords" CONTENT="XADM kbusage">
<META NAME="KBArea" CONTENT="Support; KB; exchange">
<META NAME="Description" CONTENT="  The purpose of this article is to explain the steps you perform when you run a knowledge consistency check (KCC) on a Microsoft Exchange Server computer.  MORE INFORMATION  When you run a KCC either automatically or from the directory service gener...">
<META NAME="Product" CONTENT="Exchange">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QABI,QABH,QBXB,QBG2,QAID,QAEF,QAAW,QAJP,QAHT,QAJZ,QBVX,QAFO,QBWD,QDH6,QA9N V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>XADM: Steps Performed During Knowledge Consistency Check</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  December 1, 1997</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q174758</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
 
The information in this article applies to:

<UL><LI>Microsoft Exchange Server, versions 4.0, 5.0, and 5.5
</UL> 
<P>
<P><h2>SUMMARY</h2>
 
<P>
The purpose of this article is to explain the steps you perform when you
run a knowledge consistency check (KCC) on a Microsoft Exchange Server
computer.
<P>
<P><h2>MORE INFORMATION</h2>
 
<P>
When you run a KCC either automatically or from the directory service
general page of a Microsoft Exchange Server computer, perform the following
checks and steps:

<OL><P><LI>Bind to the local server.
</OL>2. Determine the names of other Exchange Server computers in the local
<PRE>   server's site.
</PRE></OL>3. Bind to another server in the site.
4. Check whether this second server has the same server name as any that
<PRE>   were obtained in Step 2. If not, synchronize the Configuration naming
   contexts in both directions, and repeat with another server until they
   are all done or one of the server names matches.
</PRE>5. Search the local server for all the writable naming contexts (NC).
6. For each NC, check that there are Reps-to and Reps-from values for each
<PRE>   server in the site. Fix any missing links.
</PRE>7. Search the local directory under the local site's directory-replication
<PRE>   container for connectors.
</PRE>8. For each connector found, determine whether there is a corresponding
<PRE>   remote connector locally. In other words, see whether there is a replica
   of the connector in the other site that points back to your local site.
</PRE>9. If there is a local copy of the remote connector, update the inbound
<PRE>   sites on the local connector to match the remote connector's outbound
   sites.
</PRE>10. Go through the local connectors and construct a list of all sites
<PRE>   replicated in from all the connectors.
</PRE>11. Go through the connectors and ensure that they all replicate out all of
<PRE>   the inbound sites, plus your local site, minus the sites coming in on
   that connector.
</PRE>12. Search the local directory service for non-writable replicas.
13. Check that you have all the replicas described by the local connectors,
<PRE>   add any that are missing, and remove any that you should not have.
</PRE>14. Search the local directory service for authorizations.
15. Verify that you have all the authorizations as described by the
<PRE>   connectors, and remove any that you should not have.
</PRE>16. Check that for each intersite replica that you replicate to this
<PRE>   directory service, you replicate on to all other servers in the site.
   Remove any replicas to non-existent servers.
</PRE>17. Take replication responsibility for objects last modified by servers
<PRE>   that have been removed from the site. This is done on a random basis to
   avoid all the servers in the site adopting the same server's objects at
   the same time.
</PRE>Additional query word: KCC
 
<PRE>Keywords          : XADM kbusage
Version           : WinNT:5.5
Platform          : WINDOWS
Issue type        : kbhowto</PRE>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
================================================================================<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  December 1, 1997</FONT>
	<BR>
	<A HREF="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
