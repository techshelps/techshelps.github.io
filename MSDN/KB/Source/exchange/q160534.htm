

<HTML>
<HEAD>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>XCON: Size Limits May Cause Message Looping </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q160534">
<META NAME="KBModify" CONTENT="1998/02/11">
<META NAME="KBCreate" CONTENT="1996/12/05">
<META NAME="Keywords" CONTENT="XCON">
<META NAME="KBArea" CONTENT="Support; KB; exchange">
<META NAME="Description" CONTENT="  You have a Microsoft Exchange Server Organization configured with multiple Sites connected by X.400 connectors, and each Site has a Microsoft Mail Connector servicing the same set of Microsoft Mail postoffices. The Microsoft Mail Connectors have a ...">
<META NAME="Product" CONTENT="Exchange">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QABN,QAEV,QAH6,QAYC,QBG2,QAID,QAM5,QAH7,QAD7,QAJB,QAJQ,QAK9,QDKW,QAKJ,QAZB V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>XCON: Size Limits May Cause Message Looping</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  February 11, 1998</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q160534</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



<P><h3> </h3>
 
The information in this article applies to:

<UL><LI>Microsoft Exchange Server, versions 4.0 and 5.0
</UL> 
<P>
<P><h2>SYMPTOMS</h2>
 
<P>
You have a Microsoft Exchange Server Organization configured with multiple
Sites connected by X.400 connectors, and each Site has a Microsoft Mail
Connector servicing the same set of Microsoft Mail postoffices. The
Microsoft Mail Connectors have a size limit imposed but the X.400 connector
does not.
<P>
You send a message that exceeds the size limit, but it is a long time,
perhaps several hours, before you receive a non-delivery report (NDR).
<P>
<P><h2>CAUSE</h2>
 
<P>
A message that exceeds the size limit should result in an immediate NDR;
however, because the routing table has an alternate route over the X.400
connector to the other site, the message transfer agent (MTA) reroutes the
message until it reaches the hard-coded hop count of 512.
<P>
A message will go through the 512-hop count before returning an NDR if a
particular user is restricted from using all the connectors of a particular
type (for example, all IMCs in an organization). A restricted user may not
receive an NDR for hours (depending on the Microsoft Exchange Server
topology).
<P>
This behavior is by design for Microsoft Exchange Server. The Microsoft 
Exchange Message Transfer Agent (MTA) does not store detailed data about 
each reroute in the P1 header of each message that passes through the MTA. 
This could potentially make individual messages much larger because each 
time they pass through another MTA, the Internal-Trace-Information-Element 
would significantly grow in size. This could severely degrade MTA 
performance. The P1 header of a message passing through the MTA only 
contains destination MTA name, hop count, and routing action information.
<P>
<P><h2>WORKAROUND</h2>
 
<P>
To work around this problem, do one of the following:

<UL><LI>Have a consistent size limit for the organization. Set this on the MTA
   object of the server objects.

<LI>Eliminate redundant paths to the same destination. (Have only one
   Microsoft Mail Connector servicing that set of postoffices).
<P>
</UL><h2>STATUS</h2>
 
<P>
This behavior is by design as stated for Exchange Server.  
<P>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional query words: loop message tracking restrictions<BR>
Keywords          : XCON<BR>
Version           : 4.0 5.0<BR>
Platform          : winnt<BR>
Issue type        : kbinfo<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  February 11, 1998</FONT>
	<BR>
	<A HREF="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
