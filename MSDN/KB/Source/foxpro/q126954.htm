

<HTML>
<HEAD>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>How to Allocate More File Handles for FoxPro 2.6 for UNIX </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q126954">
<META NAME="KBModify" CONTENT="1997/12/18">
<META NAME="KBCreate" CONTENT="1995/03/07">
<META NAME="Keywords" CONTENT="FxenvOs kb3rdparty kbenv">
<META NAME="KBArea" CONTENT="Support; KB; foxpro, crossnet, odbc">
<META NAME="Description" CONTENT=" NOTE: Microsoft does not support, endorse, or recommend SCO Unix or SCO Xenix. We provide the following information only as a convenience for our customers. Microsoft does not provide warranties of any kind on the following information, either expre...">
<META NAME="Product" CONTENT="Visual FoxPro">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QANE,QACF,QAFX,QAHE,QAA1,QAGU,QAJZ,QDI2,QBWS,QDKI,QDKH,QAKC,QAYZ,QAB4,QDKO V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>How to Allocate More File Handles for FoxPro 2.6 for UNIX</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  December 18, 1997</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q126954</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
2.60
UNIX
kb3rdparty kbenv
<P>
 
The information in this article applies to:

<UL><LI>Microsoft FoxPro for UNIX, version 2.6
</UL> 
<P>
NOTE: Microsoft does not support, endorse, or recommend SCO Unix or SCO
Xenix. We provide the following information only as a convenience for our
customers. Microsoft does not provide warranties of any kind on the
following information, either expressed or implied, including but not
limited to the implied warranties of merchantability and/or fitness for a
particular purpose.
<P>
<P><h2>SUMMARY</h2>
 
<P>
For users of FoxPro on MS-DOS and Windows platforms, the error message "Too
Many Files Open" is usually easy to correct by making some changes to the
CONFIG.SYS or AUTOEXEC.BAT files and then rebooting the computer. However,
to fix the same problem, FoxPro users under the UNIX operating system must
tune the UNIX Kernel parameters, and then re-link the Kernel by shutting
down and then rebooting the UNIX host machine.
<P>
WARNING: The information that follows illustrates a specific situation and
is by no means the only Kernel configuration that would eliminate the "Too
Many Files Open" error for the situation illustrated in this article. It is
also important to note that tuning Kernel parameters is a complex and
potentially dangerous process, and should be performed by experienced SCO
administrators only.
<P>
<P><h2>MORE INFORMATION</h2>
 
<P>
By default, SCO sets up the host to support 60 files per user, 200 files
system wide, and 100 locks system wide. This may be okay for most
installations, but suppose you need to support 80 files per user?
<P>
What follows is a description of the process you need to follow to tune the
Kernel on the SCO UNIX host to provide for two users opening 80 FoxPro
tables simultaneously.
<P>
You could use an alternative method called the SYSADMSH (System
Administration Shell) method if you prefer. For more information about
using the System Administration Shell to tune the SCO UNIX Kernel, please
see the following article in the Microsoft Knowledge Base:
<P>
<PRE>   ARTICLE-ID: <B><A HREF="../FOXPRO/Q124715.htm">Q124715</A></B>
   TITLE     : How UNIX Kernel Parameters Affect FoxPro for UNIX

</PRE><h3>Tuning the Kernel on the SCO UNIX Host for Two Users to Use 80 Tables Each</h3>
 

<OL><P><LI>Login on the console as root.

<P><LI>At the "#" prompt, type:
<P>
   cd /etc/conf/cf.d; /etc/conf/cf.d/configure

<P><LI>At the configuration menu, select "3. Files, Inodes, and Filesystems."

<P><LI>At the NINODE parameter prompt for the maximum number of open inodes
   systemwide, enter 600.

<P><LI>At the NHINODE parameter prompt for the inode hash table size,
   enter 1024.

<P><LI>At the NFILE parameter prompt for the maximum number of open files
   systemwide, enter 512.

<P><LI>Skip past the next three parameters (NMOUNT, CMASK, and ETRUNC). At
   the NOFILES parameter prompt for the maximum number of open files per
   process, enter 150.

<P><LI>Skip past the SHLBMAX parameter, and at the FLCKREC parameter prompt for
   the number of records that can be locked by the system, enter 1024.

<P><LI>Skip past the remaining prompts, and come back to the configuration
   menu. Press the "q" key.

<P><LI>You will be asked if you wish to update the system configuration files.
<P><PRE>    Press the "y" key. The system should pause. Then you should get a
    message stating that the configuration files have been updated. At that
    point, you should be back at the "#" prompt.
</PRE>
<P><LI>Re-link the Kernel by typing the following at the "#" prompt:
<P>
<P><PRE>    ./link_unix
</PRE><P>
<P><PRE>    You will see a message stating that the UNIX Operating System will now
    be rebuilt, and that this might take a few minutes.
</PRE>
<P><LI>When this is done you will see a message stating that the UNIX Kernel
<P><PRE>    has been rebuilt. You will then be asked if you want the new Kernel to
    boot by default. Press the "y" key.
</PRE>
<P><LI>SCO UNIX will then let you know that the new Kernel has been installed.
<P><PRE>    Then you will be asked if you want to rebuild the Kernel environment.
    Press the "y" key.
</PRE><P>
<P><PRE>    You will see the message: "Setting up new kernel environment." Then you
    will be at the "#" prompt.
</PRE>
<P><LI>Perform an orderly shutdown of the system, and then reboot. The new
<P><PRE>    Kernel parameters will now be in effect.
</PRE><P>
</OL>These settings represent a worst case scenario. Hopefully, you would not
ever have to support two or more users who each need to have 80 tables open
at the same time.
<P>
Here's the reasoning behind the values presented above. Start with the
maximum number of files that each user must have open at any one time,
which in this case is 80. Now FoxPro tables can have other associated files
like memo files and indexes, so for the worst case assume that all 80 files
will have an associated memo file and one index (CDX) file, this brings the
total to 240. You also have to allow for the files that FoxPro itself opens
for operations.
<P>
The SCO products discussed here are manufactured by vendors independent of
Microsoft; we make no warranty, implied or otherwise, regarding these
products' performance or reliability.
<P>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional reference words: FoxUnix 2.60<BR>
KBCategory: kb3rdparty kbenv<BR>
KBSubcategory: FxenvOs<BR>
Keywords          : FxenvOs kb3rdparty kbenv<BR>
Version           : 2.60<BR>
Platform          : UNIX<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  December 18, 1997</FONT>
	<BR>
	<A HREF="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
