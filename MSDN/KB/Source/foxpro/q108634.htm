

<HTML>
<HEAD>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>BUG: Hang or GPF in Browse with S&lt;n&gt; Function Code </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q108634">
<META NAME="KBModify" CONTENT="1995/06/27">
<META NAME="KBCreate" CONTENT="1993/12/14">
<META NAME="Keywords" CONTENT="kbprg kbbuglist">
<META NAME="KBArea" CONTENT="Support; KB; foxpro, crossnet, odbc">
<META NAME="Description" CONTENT="  If the following conditions are present when you are browsing a database, FoxPro for MS-DOS locks up or exits to the MS-DOS prompt and FoxPro for Windows causes a general protection (GP) fault:   - A character field in the database is 254 character...">
<META NAME="Product" CONTENT="Visual FoxPro">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QA7N,QA7O,QAH4,QAZV,QBKN,QAJ6,QAY5,QBV8,QAB9,QDL9,QBWQ,QBWO,QBWN,QBWT,QABI V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>BUG: Hang or GPF in Browse with S&lt;n&gt; Function Code</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  June 27, 1995</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q108634</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
The information in this article applies to:

<UL><LI>Microsoft FoxPro for MS-DOS, versions 2.5, 2.5a, 2.5b, 2.6
<LI>Microsoft FoxPro for Windows, versions 2.5, 2.5a, 2.5b
</UL> 
<P>
<P><h2>SYMPTOMS</h2>
 
<P>
If the following conditions are present when you are browsing a database,
FoxPro for MS-DOS locks up or exits to the MS-DOS prompt and FoxPro for
Windows causes a general protection (GP) fault:

<UL><LI>A character field in the database is 254 characters wide. This is the
   maximum width allowed for a character field. Widths less than this
   should not cause the problem.

<LI>The BROWSE FIELDS command is issued and the character field with the
   width of 254 has the S&lt;n&gt; function code applied to it. The S&lt;n&gt; function
   code limits the display width to the number of characters specified in
   place of &lt;n&gt;.
<P>
</UL><h2>RESOLUTION</h2>
 
<P>
As an alternative to the S&lt;n&gt; function code, use the :&lt;column width&gt;
clause. For example:
<P>
<PRE>   BROWSE FIELDS cno, company :20, contact

</PRE><h2>STATUS</h2>
 
<P>
Microsoft has confirmed this to be a problem in FoxPro versions 2.5, 2.5a,
2.5b, and 2.6 for MS-DOS and FoxPro versions 2.5, 2.5a, and 2.5b for
Windows. This problem does not occur in FoxPro version 2.6 for Windows. We
are researching this problem and will post new information here in the
Microsoft Knowledge Base as it becomes available.
<P>
<P><h2>MORE INFORMATION</h2>
 
<P>
<P><h3>Steps to Reproduce Problem</h3>
 

<OL><P><LI>Modify the structure of the CUSTOMER database so that the COMPANY field
   is 254 characters wide. The CUSTOMER database can be found in the
   TUTORIAL subdirectory of the directory where FoxPro is installed.

<P><LI>Make sure the CUSTOMER database is in use.

<P><LI>Issue the following command in the Command window:
<P>
<P><PRE>      BROWSE FIELDS cno, company :P='@S20', contact
</PRE><P>
   This command will browse the CNO, COMPANY and CONTACT fields in the
   CUSTOMER database. The COMPANY field should display only 20 characters.
<P>
</OL>If you are running the Standard (16-bit) version of FoxPro for MS-DOS
(FOXPRO.EXE), tabbing to the COMPANY field from one of the other fields
places the information from that field in the COMPANY field. Scrolling the
COMPANY field using the arrow keys causes the information from the previous
record to appear in the current record. This behavior is just temporary; it
does not permanently change the database. Eventually FoxPro locks up.
<P>
If you are running the Extended (32-bit) version of FoxPro for MS-DOS
(FOXPROX.EXE), tabbing to the COMPANY field either locks up FoxPro or
causes FoxPro to exit to MS-DOS. You may also receive the "Abnormal Program
Termination: Memory Protection Fault" error message.
<P>
If you are running FoxPro for Windows, FoxPro causes a GP fault before
the Browse window can be completely displayed.
<P>
<P><h2>REFERENCES</h2>
 
<P>
"Language Reference," version 2.5, pages L3-33 through L3-35 and L3-235
through L3-238
<P>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional reference words: FoxDos FoxWin 2.50 2.50a 2.50b buglist2.50<BR>
buglist2.50a<BR>
buglist2.50b crash exit quit bnormal GPF UAE 2.60 buglist2.60<BR>
KBCategory: kbprg kbbuglist<BR>
KBSubcategory: FxprgBrowse<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  June 27, 1995</FONT>
	<BR>
	<A HREF="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
