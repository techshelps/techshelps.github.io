

<HTML>
<HEAD>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Problems with RAM Disks or Caches in Expanded Memory </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q88672 ">
<META NAME="KBModify" CONTENT="1995/04/17">
<META NAME="KBCreate" CONTENT="1992/08/30">
<META NAME="Keywords" CONTENT="kbprg">
<META NAME="KBArea" CONTENT="Support; KB; foxpro, crossnet, odbc">
<META NAME="Description" CONTENT="  The following information applies only to expanded memory, NOT extended memory.  Products that create RAM disks or do some form of disk caching using expanded memory may not be compatible with FoxPro versions 2.0 or 2.5 for MS-DOS. If you are runni...">
<META NAME="Product" CONTENT="Visual FoxPro">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QBW6,QBF0,QAH4,QAGI,QBVV,QA5C,QAL3,QAIB,QAIA,QAC2,QAKP,QAYY,QAC9,QAY4,QASP V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>Problems with RAM Disks or Caches in Expanded Memory</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  April 17, 1995</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q88672 </B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
The information in this article applies to:

<UL><LI>Microsoft FoxPro for MS-DOS, versions 2.0, 2.5, and 2.5a
</UL> 
<P>
<P><h2>SUMMARY</h2>
 
<P>
The following information applies only to expanded memory, NOT extended
memory.
<P>
Products that create RAM disks or do some form of disk caching using
expanded memory may not be compatible with FoxPro versions 2.0 or 2.5
for MS-DOS. If you are running a program that creates a RAM disk or
disk cache in expanded memory, FoxPro's performance may be affected
and data may be lost or damaged when a cache is used.
<P>
To avoid these problems, use RAM drivers that create caches in extended
memory, not expanded.
<P>
FoxPro does not work well with RAM caches in expanded memory because
FoxPro performs its own internal caching.
<P>
<P><h2>MORE INFORMATION</h2>
 
<P>
If EMS=ON is in your CONFIG.FP file, FoxPro does much of its I/O
directly into expanded memory. RAM disk or disk-caching programs that
also perform I/O directly into expanded memory may conflict with
FoxPro's usage of expanded memory.
<P>
When FoxPro requests that MS-DOS perform an I/O transfer into the
expanded memory page frame, the RAM disk or caching program intercepts
FoxPro's call to MS-DOS and tries to affect the I/O data transfer. The
following are conditions under which problems occur:

<UL><LI>Some programs fail to allocate the expanded memory they are using,
   which in turn causes a conflict with FoxPro because FoxPro is
   trying to use the same memory.

<LI>Some programs fail to restore the expanded memory page frame to its
   original address prior to the I/O request, which causes FoxPro to
   look in the wrong area when performing an I/O operation.

<LI>Some programs fail to note that the address in which the data will
   be read is in the page frame itself. Other caches remap the page
   frame so that it contains their I/O buffers; they then copy data
   from their buffers to the I/O transfer address, failing to note
   that this address is in their own buffer. As a result, data in
   their buffer is corrupted.
<P>
</UL>Nothing can be done to correct these deviations from proper expanded
memory usage (as defined by the expanded memory specification [EMS]).
For these reasons, we recommend that cache programs based on expanded
memory not be used.
<P>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional reference words: FoxDos 2.00 2.50 2.50a<BR>
KBCategory: kbprg<BR>
KBSubcategory:<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  April 17, 1995</FONT>
	<BR>
	<A HREF="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
