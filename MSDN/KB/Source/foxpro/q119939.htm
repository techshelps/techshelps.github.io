

<HTML>
<HEAD>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>FIX: Screen Builder Doesn't Recognize #ELIF &amp; #UNDEF </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q119939">
<META NAME="KBModify" CONTENT="1997/10/20">
<META NAME="KBCreate" CONTENT="1994/08/29">
<META NAME="Keywords" CONTENT="FxtoolSbuilder kbbuglist kbfixlist kbprg">
<META NAME="KBArea" CONTENT="Support; KB; foxpro, crossnet, odbc">
<META NAME="Description" CONTENT="  The Screen Builder program (GENSCRN.PRG) doesn't recognize #ELIF and #UNDEF as preprocessor directives. The .SPR program file generated for a screen that has code snippets containing these directives isn't correct.  NOTE: This problem does NOT occu...">
<META NAME="Product" CONTENT="Visual FoxPro">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QAH4,QBXS,QDIZ,QAA8,QDL9,QBWQ,QBWO,QBWN,QAR4,QDO9,QBWS,QAFR,QAA1,QAG2,QDI2 V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>FIX: Screen Builder Doesn't Recognize #ELIF &amp; #UNDEF</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  October 20, 1997</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q119939</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
<PRE>2.60    | 2.60   | 2.50b 2.50c
</PRE>WINDOWS | MS-DOS | MACINTOSH
kbprg kbbuglist kbfixlist
<P>
 
The information in this article applies to:

<UL><LI>Microsoft FoxPro for Windows, version 2.6
<LI>Microsoft FoxPro for MS-DOS, version 2.6
<LI>Microsoft FoxPro for Macintosh, versions 2.5b, 2.5c
</UL> 
<P>
<P><h2>SYMPTOMS</h2>
 
<P>
The Screen Builder program (GENSCRN.PRG) doesn't recognize #ELIF and #UNDEF
as preprocessor directives. The .SPR program file generated for a screen
that has code snippets containing these directives isn't correct.
<P>
NOTE: This problem does NOT occur in prior versions of FoxPro for Windows
or MS-DOS.
<P>
<P><h2>STATUS</h2>
 
<P>
Microsoft has confirmed this to be a problem in the Microsoft products
listed at the beginning of this article. This problem was corrected in
FoxPro version 2.6a for Windows, FoxPro version 2.6a for MS-DOS, and FoxPro
version 2.6a for Macintosh.
<P>
<P><h2>MORE INFORMATION</h2>
 
<P>
<P><h3>Steps to Reproduce Problem</h3>
 

<OL><P><LI>In the Command window, type "CREATE SCREEN test" (without the
    quotation marks).

<P><LI>In FoxPro for Windows or Macintosh, choose Layout from the Screen
    menu.
<P>
    In FoxPro for MS-DOS, choose Screen Layout from the Screen menu.

<P><LI>In FoxPro for Windows or Macintosh, in the Screen Layout dialog
    box, under Options, choose the Code button.
<P>
    In FoxPro for MS-DOS, under Screen Code, select the Setup
    check box, and then choose OK. Skip to step 5.

<P><LI>In FoxPro for Windows or Macintosh, in the Screen Code dialog
    box, choose Screen Setup Code. Choose OK twice.
<P>
    NOTE: This step doesn't apply to FoxPro for MS-DOS.

<P><LI>Type the following code in the Setup Code snippet window:
<P>
       #IF 'WINDOWS' $ UPPER(VERSION())
<PRE>          ? 'This is FoxPro for Windows'
       #ELIF 'MAC' $ UPPER(VERSION())
          ? 'This is FoxPro for Macintosh'
       #ELIF 'UNIX' $ UPPER(VERSION())
          ? 'This is FoxPro for UNIX'
       #ELSE
          ? 'This is FoxPro for MS-DOS'
       #ENDIF

       #DEFINE testconst 10
       #UNDEF testconst

</PRE><P><LI>From the File menu, choose Close. FoxPro returns to the Screen
    Design window.

<P><LI>From the Program menu, choose Generate.

<P><LI>When prompted to save changes to the screen, choose Yes.

<P><LI>When prompted to save environment information, choose No.

<P><LI>In the Generate Screen dialog box, choose Generate.

<P><LI>Close the Screen Design window.

<P><LI>In the Command window, type "MODIFY COMMAND test.spr" (without the
    quotation marks).

<P><LI>Go to the "Setup Code" section.
<P>
</OL>In the code that follows, note that the #ELIF statements and the
#UNDEF statement are missing:
<P>
<PRE>   #REGION 1
   #IF 'WINDOWS' $ UPPER(VERSION())
      ? 'This is FoxPro for Windows'
      ? 'This is FoxPro for Macintosh'
      ? 'This is FoxPro for UNIX'
   #ELSE
      ? 'This is FoxPro for MS-DOS'
   #ENDIF

   #DEFINE testconst 10
</PRE>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional reference words: FoxMac FoxDos FoxWin 2.50b 2.50c 2.60 2.60a<BR>
buglist2.50b buglist2.50c buglist2.60 fixlist2.60a generator genscreen<BR>
screengen<BR>
KBCategory: kbprg kbfixlist kbbuglist<BR>
KBSubcategory: FxtoolSbuilder<BR>
Keywords          : FxtoolSbuilder kbbuglist kbfixlist kbprg<BR>
Version           : 2.60 | 2.60 | 2.50b 2.50c<BR>
Platform          : MACINTOSH MS-DOS WINDOWS<BR>
Solution Type     : kbfix<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  October 20, 1997</FONT>
	<BR>
	<A HREF="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
