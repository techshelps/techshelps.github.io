

<HTML>
<HEAD>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>BUG: Win 3.1 Kernel Debugger 3.10.46 Locks Up on Pentium Sys </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q125635">
<META NAME="KBModify" CONTENT="1995/09/01">
<META NAME="KBCreate" CONTENT="1995/02/01">
<META NAME="Keywords" CONTENT="kbprg kbbuglist">
<META NAME="KBArea" CONTENT="Support; KB; win16ddk">
<META NAME="Description" CONTENT="  When running the Microsoft Windows version 3.1 Kernel Debugger version 3.10.46 on a Pentium-based computer, a sign-on banner message will display, and the computer will subsequently lock up.  CAUSE =====  The Microsoft Windows 3.1 Kernel Debugger v...">
<META NAME="Product" CONTENT="Win16 DDK">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QBWN,QDL9,QBWO,QAB9,QBWQ,QAVX,QATS,QASR,QAJ6,QAR4,QBV8,QBVV,QAVW,QAUR,QAO1 V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>BUG: Win 3.1 Kernel Debugger 3.10.46 Locks Up on Pentium Sys</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  September 1, 1995</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q125635</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
The information in this article applies to:

<UL><LI>Microsoft Windows Device Development Kit (DDK) for Windows,
   version 3.1
</UL> 
<P>
<P><h2>SYMPTOMS</h2>
 
<P>
When running the Microsoft Windows version 3.1 Kernel Debugger version
3.10.46 on a Pentium-based computer, a sign-on banner message will display,
and the computer will subsequently lock up.
<P>
<P><h2>CAUSE</h2>
 
<P>
The Microsoft Windows 3.1 Kernel Debugger version 3.10.46 (WDEB386.EXE,
103,078 bytes) contains two machine-language instructions that are not
supported by the Intel Pentium (P5) processor. These illegal instructions
reference test registers, specifically the TR6 and TR7 test registers.
<P>
<P><h2>RESOLUTION</h2>
 
<P>
The following patch procedure modifies the Windows 3.1 version
of the WDEB386.EXE executable file. By changing the illegal instructions
into NOP instructions, the debugger will function on the Pentium processor.

<OL><P><LI>Rename WDEB386.EXE to WDEB386.X86 to save an original copy of the
   Windows 80386 Debugger.

<P><LI>COPY  WDEB386.X86 to WDEB386.P5. The MS-DOS debugger cannot edit files
   with .EXE extensions.

<P><LI>Debug WDEB386.P5. This patch procedure uses the MS-DOS debugger because
   of its universal availability.

<P><LI>Enter the following commands at DEBUG's '=' prompt:
<P>
   a. D64D8 - The first three bytes listed in this dump listing should
<PRE>              read:  0F  24  F0.
   b. D64DF - The first three bytes listed in this dump listing should
              read:  0F  24  F8.

   NOTE: If either dump does not read EXACTLY as expected, this patch
   procedure will not fix this particular version of the Microsoft 80386
   Debugger. DO NOT continue this procedure! Quit the debugger and restore
   the original Windows 80386 Debugger file.

   c. E64D8  90  90  90 - changes the illegal instruction to NOPs.

   d. E64DF  90  90  90 - changes the illegal instruction to NOPs/

   e. W - Save the updated Windows 80386 Debugger.  Responds with
          "Writing 192A6 bytes."

   f. Q - Quit DEBUG.

</PRE><P><LI>Rename WDEB386.P5 to WDEB386.EXE.
<P>
</OL><h2>STATUS</h2>
 
<P>
Microsoft has confirmed this to be a problem in the Microsoft products
listed at the beginning of this article. We are currently researching this
problem and will post new information in the Knowledge Base at it becomes
available.
<P>
<P>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional reference words: 3.10 buglist3.10 hang crash freeze<BR>
KBCategory: kbprg kbbuglist<BR>
KBSubcategory:<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  September 1, 1995</FONT>
	<BR>
	<A HREF="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
