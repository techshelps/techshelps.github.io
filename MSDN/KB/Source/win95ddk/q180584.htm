

<HTML>
<HEAD>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>HOWTO: Realize a TrueType Font as a Glyph Index Font </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q180584">
<META NAME="KBModify" CONTENT="1998/02/06">
<META NAME="KBCreate" CONTENT="1998/02/05">
<META NAME="Keywords" CONTENT="NTDDKPrnt">
<META NAME="KBArea" CONTENT="Support; KB; win95ddk">
<META NAME="Description" CONTENT="  To indicate support for glyph indices for a TrueType font the printer driver has to call EngineRealizeFontExt function to realize the font.  MORE INFORMATION  To support glyph indices, the printer driver has to perform the following steps:  1. Buil...">
<META NAME="Product" CONTENT="win95ddk">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QADF,QA28,QATJ,QAU9,QDL9,QBXS,QBWQ,QBWO,QBWN,QAHE,QA7O,QA7N,QA3M,QAY5,QABI V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>HOWTO: Realize a TrueType Font as a Glyph Index Font</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  February 6, 1998</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q180584</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
 
The information in this article applies to:

<UL><LI>Windows 95 Device Driver Kit (DDK), version 4.0
</UL> 
<P>
<P><h2>SUMMARY</h2>
 
<P>
To indicate support for glyph indices for a TrueType font the printer
driver has to call EngineRealizeFontExt function to realize the font.
<P>
<P><h2>MORE INFORMATION</h2>
 
<P>
To support glyph indices, the printer driver has to perform the following
steps:

<OL><P><LI>Build the driver with a resource compiler that supports the -40 option.

<P><LI>Set the dpVersion field of the GDIINFO 0x400. This will tell GDI that
   the driver is a Windows 95 driver.

<P><LI>Set the C1_GLYPH_INDEX ( 0x100 ) flag in the dpCaps1, which is in the
   GDIINFO structure, to indicate that the driver supports glyph index
   fonts.

<P><LI>At RealizeObject time, the driver must realize the font using the
   EngineRealizeFontExt (...) function. This sets the appropriate
   fields in the FONTINFO structure. The prototype for the
   EngineRealizeFontExt is:
<P>
<P><PRE>    WORD FAR PASCAL EngineRealizeFontExt ( HDC,
<PRE></PRE>                                           LPLOGFONT,
                                           LPTEXTXFORM,
                                           LPFONTINFO,
                                           WORD   /* flags */  );

   Bit 0 of the flags parameter indicates whether to realize the font as a
   glyph index font or old style font (all other bits should be zero).

</PRE><P><LI>Return a value of 0x400 in DeviceCapabilities for DC_VERSION.
<P>
</OL>To confirm support for the glyph indices, you can check the FONTINFO
structure that is passed to the ExtTextOut function. It should have the
PF_GLYPH_INDEX ( 0x20) bit set in the dfType field, and the lpString will
have the glyph indices for the string to printed.
 
<PRE>Keywords          : NTDDKPrnt
Version           : WINDOWS:4.0
Platform          : WINDOWS
Hardware          : x86
Issue type        : kbhowto</PRE>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
================================================================================<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  February 6, 1998</FONT>
	<BR>
	<A HREF="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
