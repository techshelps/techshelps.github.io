

<HTML>
<HEAD>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>PRB: PreCreateWindow() Not Called for CFormView </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q131989">
<META NAME="KBModify" CONTENT="1997/07/31">
<META NAME="KBCreate" CONTENT="1995/06/26">
<META NAME="Keywords" CONTENT="MfcMisc kbprb kbprg kbusage">
<META NAME="KBArea" CONTENT="Support; KB; visualc">
<META NAME="Description" CONTENT="  PreCreateWindow() for a CFormView derived class does not get called by the MFC framework during the creation process of a formview.  CAUSE =====  This is by design. During the creation of the view, the view's Create() function is called by the fram...">
<META NAME="Product" CONTENT="Visual C++">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QAGI,QAIF,QADK,QBXR,QBVV,QABO,QAIC,QBWP,QBFY,QA56,QA55,QA01,QAY5,QAX6,QAPN V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>PRB: PreCreateWindow() Not Called for CFormView</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  July 31, 1997</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q131989</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
1.00 1.50 1.51 1.52 | 1.00 2.00 2.10
<PRE>WINDOWS             | WINDOWS NT
</PRE>kbprg kbusage kbprb
<P>
 
The information in this article applies to:

<UL><LI>The Microsoft Foundation Classes (MFC) included with:
<P>
<P><PRE>    - Microsoft Visual C++ for Windows, versions 1.0, 1.5, 1.51, 1.52
    - Microsoft Visual C++, 32-bit Edition, versions 1.0, 2.0, 2.1
</UL></PRE> 
<P>
<P><h2>SYMPTOMS</h2>
 
<P>
PreCreateWindow() for a CFormView derived class does not get called by the
MFC framework during the creation process of a formview.
<P>
<P><h2>CAUSE</h2>
 
<P>
This is by design. During the creation of the view, the view's Create()
function is called by the framework. This then calls CWnd::Create for all
the views except CFormView. The CFormView class has its own Create, which
calls ::CreateDialog to create the view. CWnd::Create has a call to
PreCreateWindow while CFormView::Create does not. As a result,
PreCreateWindow( ) for a CFormView derived class does not get called.
<P>
<P><h2>WORKAROUND</h2>
 
<P>
To change the initial size and location, override the frame window's
PreCreateWindow(). To make other changes, override the virtual function,
CFormView::Create().
<P>
<P><h2>STATUS</h2>
 
<P>
This behavior is by design.
<P>
<P><h2>MORE INFORMATION</h2>
 
<P>
PreCreateWindow() is generally used to alter the default values of the
CREATESTRUCT structure before the window is created. This structure
contains fields that determine the initial size, location, style, and class
among other properties for the window. For CView derived objects, the size,
location, and some of the style bits have no effect when modified. In
general, the encapsulating frame window's PreCreateWindow() should be
overridden and used instead. However, if you need to change the view's
CREATESTRUCT, you can override PreCreateWindow() for the view, except for
the CFormView (and CRecordView) class.
<P>
CFormView (and CRecordView) uses the dialog template to initialize most of
its window properties. As a result, CFormView::Create() calls
::CreateDialog(), passing it the dialog template resource as one of its
parameters. CView, CEditView, and CScrollView call CWnd::Create() which
calls CWnd::CreateEx() where the CREATESTRUCT structure is filled and
PreCreateWindow() is called before ::CreateWindowEx().
<P>
Typically, there is very little flexibility in changing the default
construction parameters for a CFormView after the creation process has
started. Some of the parameters that can be modified by PreCreateWindow for
other views, like the class name, are ignored in the case of CFormView. See
the implementation of CFormView::Create in the Viewform.cpp file for more
details.
<P>
NOTE: Starting with MFC version 4.0, included with Visual C++ version 4.0,
CFormView::Create() calls its PreCreateWindow() to get the prefered
extended style. This is done before the modeless dialog is created.
<P>
<P><h2>REFERENCES</h2>
 
<P>
For more information, please see the MFC source library and Online Books.
<P>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional reference words: 1.00 1.50 2.00 2.10<BR>
KBCategory: kbprg kbusage kbprb<BR>
KBSubcategory: MfcMisc<BR>
Keywords          : MfcMisc kbprb kbprg kbusage<BR>
Technology        : kbMfc<BR>
Version           : 1.00 1.50 1.51 1.52 | 1.00 2.00<BR>
Platform          : NT WINDOWS<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  July 31, 1997</FONT>
	<BR>
	<A HREF="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
