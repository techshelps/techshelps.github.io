

<HTML>
<HEAD>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>INFO: AppWizard and Precompiled Header Files </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q119329">
<META NAME="KBModify" CONTENT="1997/10/03">
<META NAME="KBCreate" CONTENT="1994/08/13">
<META NAME="Keywords" CONTENT="WizardIss">
<META NAME="KBArea" CONTENT="Support; KB; visualc">
<META NAME="Description" CONTENT="  When you use AppWizard to generate a starter application, it sets up your project to use a precompiled header (.PCH) file. Precompiled headers help to speed up compilation when a group of files in a project do not change. In the case of Microsoft F...">
<META NAME="Product" CONTENT="Visual C++">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QAH4,QAAP,QAB4,QBXT,QA5V,QAIB,QBFY,QA56,QA55,QAOT,QBVV,QAY5,QAD2,QBQB,QABI V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>INFO: AppWizard and Precompiled Header Files</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  October 3, 1997</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q119329</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
 
The information in this article applies to:

<UL><LI>The AppWizard included with:
   - Microsoft Visual C++ for Windows, versions 1.0, 1.5, 1.51, 1.52
   - Microsoft Visual C++, 32-bit Edition, versions 1.0, 2.0, 2.1, 4.0, 5.0
</UL> 
<P>
<P><h2>SUMMARY</h2>
 
<P>
When you use AppWizard to generate a starter application, it sets up your
project to use a precompiled header (.PCH) file. Precompiled headers help
to speed up compilation when a group of files in a project do not change.
In the case of Microsoft Foundation Class (MFC) applications generated by
AppWizard, the group of files that do not change are the standard MFC
header files.
<P>
AppWizard puts the line "#include 'stdafx.h'" as one of the first lines in
every .CPP file in a project. Because of the compiler options being used by
projects generated with AppWizard, anything up to and including "stdafx.h"
in a .CPP file is considered by the compiler to be part of a precompiled
header.
<P>
The problem with this is that when you edit the .CPP files and insert
<PRE>#includes, #defines, declarations, or other code before the "#include
'stdafx.h'" line, all of it is ignored by the compiler. This is the correct
</PRE>behavior because when the compiler is using the precompiled header, it
starts to compile the code in the .CPP file after skipping past the
"stdafx.h" line.
<P>
This behavior can lead to compiler errors that do not seem to make sense,
because it appears that you are including all the needed declarations and
header files in the .CPP file. For example, some of the errors that may
result are the following:

<UL><LI>error C2065: 'CTestClass' : undeclared identifier

<LI>error C2146: syntax error : missing ';' before identifier 'tc'

<LI>error C2064: term does not evaluate to a function
<P>
</UL>Even if the code compiles without errors, it may not run the way you expect
to if there is code meant to be conditionally included or excluded based on
whether a preprocessor macro was defined. This can occur if the line with
the #define was inserted before the "stdafx.h" line. To avoid unexpected
compiler errors or unexpected behavior in your application, make sure any
code you add to an AppWizard-generated .CPP file comes after the "stdafx.h"
line.
<P>
<P><h2>REFERENCES</h2>
 
<P>
"Visual C++ for Windows Programming Techniques" manual, chapter 1,
"Using Precompiled Headers."
<P>
"Visual C++ for Windows NT Programming Techniques" manual, chapter 10,
"Using Precompiled Headers."
<P>
Visual C++ Books Online topic "Using Precompiled Headers" in the
"Visual C++ User's Guide" chapter on "Working With Projects."
<P>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional query words: random incorrect<BR>
Keywords          : WizardIss<BR>
Version           : WIN3X:1.0,1.5,1.51,1.52;WINNT:1.0,2.0,2.1,4.0,5.0<BR>
Platform          : NT WINDOWS<BR>
Issue type        : kbinfo<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  October 3, 1997</FONT>
	<BR>
	<A HREF="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
