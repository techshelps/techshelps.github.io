

<HTML>
<HEAD>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Embedding .FON Files in an MS-DOS .EXE File </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q89144 ">
<META NAME="KBModify" CONTENT="1997/07/17">
<META NAME="KBCreate" CONTENT="1992/09/10">
<META NAME="Keywords" CONTENT="kb16bitonly">
<META NAME="KBArea" CONTENT="Support; KB; visualc">
<META NAME="Description" CONTENT="  You can create MS-DOS programs that load fonts from .FON font files. It is sometimes desirable to embed a font into an MS-DOS .EXE file so that there are fewer files to distribute with the program. However, it is not possible to embed the .FON file...">
<META NAME="Product" CONTENT="Visual C++">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QADF,QDL9,QBWO,QBWN,QAY4,QBWQ,QBFY,QAPF,QAIM,QAGI,QAUJ,QAH6,QBXR,QAH4,QBWS V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>Embedding .FON Files in an MS-DOS .EXE File</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  July 17, 1997</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q89144 </B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
6.00 6.00a 6.00ax 7.00 | 1.00 1.50
<PRE>MS-DOS                 | WINDOWS
</PRE>kbtool
<P>
<P>
 
The information in this article applies to:

<UL><LI>Microsoft C for MS-DOS, versions 6.0, 6.0a, 6.0ax, and 7.0
<LI>Microsoft C/C++ for MS-DOS, version 7.0
<LI>Microsoft Visual C++ for Windows, versions 1.0 and 1.5
</UL> 
<P>
<P><h2>SUMMARY</h2>
 
<P>
You can create MS-DOS programs that load fonts from .FON font files. It is
sometimes desirable to embed a font into an MS-DOS .EXE file so that
there are fewer files to distribute with the program. However, it is
not possible to embed the .FON files into .EXE files.
<P>
You can create a new font resource file (.FNT) and embed it into the
MS-DOS .EXE file rather than placing it into a .FON file. A Windows
resource compiler such as RC.EXE supplied with the Windows 3.0
Software Development Kit (SDK) or Windows 3.1 SDK needs to be used to
embed a .FNT file into an .EXE file or to create a .FON file.
<P>
The purpose of embedding a font into an MS-DOS .EXE file is to have
fewer files to distribute. The _registerfonts() and _setfont()
functions will still read the font information from the .EXE file at
run time. Embedding the font into the executable does not stop these
functions from accessing the disk.
<P>
<P><h2>MORE INFORMATION</h2>
 
<P>
To embed a .FNT file into an MS-DOS executable, do the following:

<OL><P><LI>Create a .FNT file using a font editor, such as the one supplied
   with the Windows 3.0 or 3.1 SDK. When creating the .FNT file with
   the font editor, you must save the .FNT file as a Windows 2.0 font
   resource file to allow it to work with the Microsoft C graphics
   libraries. For this example, the .FNT file will be called FONT.FNT.

<P><LI>Compile and link the executable that will use the font. The
   following example program will simply display a message in the font
   embedded into the same file. For this example, the executable will
   be called HELLO.EXE:
<P>
<P><PRE>       /* Compile options needed: /link graphics.lib
       */
</PRE><P>
<P><PRE>       #include &lt;graph.h&gt;
       #include &lt;conio.h&gt;
</PRE><P>
<P><PRE>       void main (short argc, char * argv[])
       {
<PRE></PRE>           _registerfonts (argv[0]);
           _setfont ("n1");
           _setvideomode (_MAXRESMODE);
           _outgtext ("hello");
           getch ();
           _setvideomode (_DEFAULTMODE);
       }

</PRE><P><LI>Create the following .RC file, replacing the font resource name
   FONT.FNT with the name of the font resource file that is to be
   embedded into the executable. For this example, this file will be
   called FONT.RC:
<P>
<P><PRE>      1 FONT FONT.FNT
</PRE>
<P><LI>Create the following C source file and compile it. For this
   example, this file will be called FNTHELLO.C:
<P>
<P><PRE>       /* Compile options needed: /c
       */
</PRE><P>
<P><PRE>       int junk;
</PRE>
<P><LI>Create the following .DEF file replacing the program name HELLO.EXE
   with the name of the MS-DOS .EXE file that the font will be
   embedded in. For this example, this file will be called
   FNTHELLLO.DEF:
<P>
<P><PRE>       LIBRARY font
       EXETYPE WINDOWS
       DESCRIPTION 'font'
       STUB 'HELLO.EXE'
       DATA NONE
</PRE>
<P><LI>Use the following command to run LINK 5.01 or later to create a
   segmented executable:
<P>
<P><PRE>       LINK FNTHELLO.OBJ, FNTHELLO.EXE, NUL, /NOD, FNTHELLO.DEF
</PRE>
<P><LI>Run RC.EXE to add the font to the executable:
<P>
<P><PRE>       RC FONT.RC FNTHELLO.EXE
</PRE><P>
</OL>After completing the steps listed above, the executable file
FNTHELLO.EXE can be run to cause the string "hello" to be displayed in
the font stored in the executable.
<P>
<P><h2>REFERENCES</h2>
 

<UL><LI>Microsoft Windows Software Development Kit "Guide to Programming"
   manual for version 3.0
<P></UL>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional reference words: kbinf 6.00 6.00a 6.00ax 7.00 1.00 1.50<BR>
KBCategory: kbtool<BR>
KBSubcategory: TlsMisc<BR>
Keywords            : kb16bitonly<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  July 17, 1997</FONT>
	<BR>
	<A HREF="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
