

<HTML>
<HEAD>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>SAMPLE: Context-Sensitive Help in a CDialog Object </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q141724">
<META NAME="KBModify" CONTENT="1997/07/02">
<META NAME="KBCreate" CONTENT="1995/12/21">
<META NAME="Keywords" CONTENT="kbfile kbprg kbsample MfcUI">
<META NAME="KBArea" CONTENT="Support; KB; visualc">
<META NAME="Description" CONTENT=" This is the 32-bit version of this sample.   The DLGHLP sample illustrates implementing context-sensitive help in a CDialog object.  The following file is available for download from the Microsoft Software Library:   ~ Dlghlp32.exe  For more informa...">
<META NAME="Product" CONTENT="Visual C++">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QAB5,QAOE,QA01,QA7O,QAMN,QAPF,QANX,QA2O,QABA,QA4H,QAHE,QBUN,QBTC,QAJ4,QAK3 V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>SAMPLE: Context-Sensitive Help in a CDialog Object</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  July 2, 1997</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q141724</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
 
The information in this article applies to:

<UL><LI>The Microsoft Foundation Classes (MFC) included with:
   - Microsoft Visual C++, 32-bit Edition, versions 4.0, 4.1 4.2, 4.2b, 5.0
</UL> 
<P>
This is the 32-bit version of this sample.
<P>
<P><h2>SUMMARY</h2>
 
<P>
The DLGHLP sample illustrates implementing context-sensitive help in a
CDialog object.
<P>
The following file is available for download from the Microsoft Software
Library:
<P>
<PRE> ~ <A HREF="http://support.microsoft.com/download/support/mslfiles/Dlghlp32.exe">Dlghlp32.exe</A> <I>(size: 62368 bytes)</I> 

</PRE>For more information about downloading files from the Microsoft Software
Library, please see the following article in the Microsoft Knowledge Base:
<P>
<PRE>   ARTICLE-ID: <B><A HREF="../zMiscellaneous/Q119591.htm">Q119591</A></B>
   TITLE     : How to Obtain Microsoft Support Files from Online Services

</PRE>Dlghlp32.exe was archived as a self-extracting file using the PKware file-
compression utility. The archived file contains subdirectories, and
therefore, the -d switch needs to be used when decompressing the file to
disk.
<P>
<P><h2>MORE INFORMATION</h2>
 
<P>
The DLGHLP32 sample implements context-sensitive help in a dialog box by
overriding CWnd::OnHelpInfo and CWnd::OnContextMenu in the dialog class to
handle the WM_HELP and WM_CONTEXTMENU messages. WM_HELP and WM_CONTEXTMENU
are new Win32 messages that are received by the active window when Help is
requested. DLGHLP32 uses the information provided to these handlers to
call ::WinHelp with the appropriate parameters.
<P>
DLGHLP32 includes two dialog boxes, each with a number of controls in
them. The user is able to set the focus to a particular control and, by
pressing F1, right-clicking, or using the ? (question mark) icon to bring
up help that is specific for that control. Several of the control IDs are
used in both dialog boxes. For example, each dialog box contains a radio
button with the ID of IDC_RADIO1. To allow a unique help context value to
be generated for each control, the ID of each dialog box is used as a base
and is added to the ID of the control.
<P>
::WinHelp provides two new help commands for handling WM_HELP and
WM_CONTEXTMENU. They are HELP_WM_HELP and HELP_CONTEXTMENU, respectively.
In both cases, an array mapping control IDs to help contexts is passed in
the dwData parameter. DLGHLP32 defines two of these arrays, one for each
dialog box class. This facilitates generating unique help context for
controls in both dialogs, even if the control IDs are the same.
<P>
DLGHLP32 is based on an AppWizard-generated application. Files included
with the sample which are directly related to implementing context-
sensitive help in a dialog box are:

<UL><LI>DLGBOX1.CPP: Implements context-sensitive help for Dialog Box 1 by
   overriding CWnd::OnHelpInfo and CWnd::OnContextMenu.

<LI>DLGBOX2.CPP: Implements context-sensitive help for Dialog Box 2 by
   overriding CWnd::OnHelpInfo and CWnd::OnContextMenu.

<LI>DLGRES.H: Defines the help context IDs based on the ID of the dialog
   box and the specific control.

<LI>DLGCTRLS.HM: Help map file that defines the help context IDs for the
   dialog box controls.
<P></UL>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional query words: DLGHLP context sensitive<BR>
Keywords            : kbfile kbprg kbsample MfcUI<BR>
Technology          : kbMfc<BR>
Version             : 4.0 4.1 4.2 4.2b 5.0<BR>
Platform            : NT WINDOWS<BR>
Resolution Type     : kbcode<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  July 2, 1997</FONT>
	<BR>
	<A HREF="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
