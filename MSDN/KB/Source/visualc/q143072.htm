

<HTML>
<HEAD>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>How to Determine Default Libraries for an .OBJ Object File </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q143072">
<META NAME="KBModify" CONTENT="1998/03/06">
<META NAME="KBCreate" CONTENT="1996/01/25">
<META NAME="Keywords" CONTENT="TlsMisc">
<META NAME="KBArea" CONTENT="Support; KB; visualc">
<META NAME="Description" CONTENT="  In Visual C++, default libraries can be linked to automatically. This is done for the C run-time libraries. The compiler writes a default C run-time library name in the object (.obj) files it creates. The library name depends on the compiler option...">
<META NAME="Product" CONTENT="Visual C++">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Security" CONTENT="PUBLIC ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QBHQ,QABA,QAW6,QAPN,QAUJ,QADK,QBFY,QA5A,QAOT,QADL,QAY2,QAM2,QAMB,QAE1,QDMW V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>How to Determine Default Libraries for an .OBJ Object File</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  March 6, 1998</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q143072</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
 
The information in this article applies to:
<P>
<PRE>  - Microsoft Visual C++, 32-bit Edition, 2.0, 2.1, 2.2, 4.0, 5.0
</PRE> 
<P>
<P><h2>SUMMARY</h2>
 
<P>
In Visual C++, default libraries can be linked to automatically. This is
done for the C run-time libraries. The compiler writes a default C run-time
library name in the object (.obj) files it creates. The library name
depends on the compiler options you use. For additional information, please
see the following article in the Microsoft Knowledge Base:
<P>
<PRE>   ARTICLE-ID: <B><A HREF="../VISUALC/Q128641.htm">Q128641</A></B>
   TITLE     : The /Mx Compiler Options and the LIBC, LIBCMT, MSVCRT Libs

</PRE>You can also specify default libraries by the using the #pragma comment()
compiler directive. The Microsoft Foundation Class (MFC) header files do
this.
<P>
Writing a default library name in an object file in this manner saves you
from having to specify the library on the linker command line. However,
sometimes it is necessary to determine which libraries an object file links
to by default.
<P>
<P><h2>MORE INFORMATION</h2>
 
<P>
To see which libraries an object file will use by default, you can use the
Dumpbin.exe utility in a console session. For example, to find out which
libraries Mfcapp.obj will cause the linker to search automatically, you
would use the following code (this example pipes the output to a file):
<P>
<PRE>   DUMPBIN /RAWDATA /SECTION:.drectve MFCAPP.OBJ &gt; OUTPUT.TXT

</PRE>In the column to the right side of the output, you'll see the list of
default libraries; the following is an excerpt from that column:
<P>
-default|lib:mfc4
0.lib -d|efaultli
b:mfcs40|.lib -de
faultlib|:msvcrt.
lib -def|aultlib:
kernel32|.lib -de
faultlib|:user32.
lib
<P>
From this excerpt, you can determine this object file will cause the linker
to automatically search Mfc40.lib, Msvcrt.lib, Kernel32.lib, and User32.lib
when building an executable file. As you can see, each library name is
preceded with "-defaultlib:". You can use this procedure for multiple
object files, and compare the output of each file.
<P>
One reason you may need to determine which default library names are in an
object file is to troubleshoot the LNK2005 error, "symbol multiply
defined."
<P>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional query words:<BR>
Keywords          : TlsMisc<BR>
Version           : WinNT:2.0,2.1,2.2,4.0,5.0<BR>
Platform          : NT WINDOWS<BR>
Issue type        : kbhowto<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  March 6, 1998</FONT>
	<BR>
	<A HREF="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
