

<HTML>
<HEAD>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>PRB: Unreferenced Symbols Don't Appear in .BSC File </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q121289">
<META NAME="KBModify" CONTENT="1997/07/31">
<META NAME="KBCreate" CONTENT="1994/09/30">
<META NAME="Keywords" CONTENT="TlsMisc kbprb kbtool kbusage">
<META NAME="KBArea" CONTENT="Support; KB; visualc">
<META NAME="Description" CONTENT="  Unless a symbol is referenced in a program, it will not appear in the browser database.  CAUSE =====  This problem is due to the default behaviors of the Compiler (CL.EXE) and how it handles browser files (.SBR files), as well as the Browser Databa...">
<META NAME="Product" CONTENT="Visual C++">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QAIB,QBV8,QA56,QA55,QA5V,QBXT,QBVV,QAOT,QAZV,QAY5,QAY2,QAPF,QAKR,QAHE,QABA V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>PRB: Unreferenced Symbols Don't Appear in .BSC File</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  July 31, 1997</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q121289</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
1.00 1.50 1.51 | 1.00
<PRE>WINDOWS        | WINDOWS NT
</PRE>kbusage kbtool kbprb
<P>
 
The information in this article applies to:
<P>
<PRE>  - Microsoft Visual C++ for Windows, versions 1.0, 1.5, and 1.51
  - Microsoft Visual C++, 32-bit Edition, version 1.0
</PRE> 
<P>
<P><h2>SYMPTOMS</h2>
 
<P>
Unless a symbol is referenced in a program, it will not appear in the
browser database.
<P>
<P><h2>CAUSE</h2>
 
<P>
This problem is due to the default behaviors of the Compiler (CL.EXE)
and how it handles browser files (.SBR files), as well as the Browser
Database Maintenance Utility (BSCMAKE.EXE) and how it handles browser
databases (.BSC files).
<P>
NOTE: This article does not apply to Microsoft Visual C++, 32-bit Edition,
version 2.0 and above. In these versions, when the compiler option "Don't
Pack Info" is selected, the option /Zn is added to the CL compile line.
Subsequently, the option /Iu is automatically added to BSCMAKE.EXE.
<P>
<P><h2>RESOLUTION</h2>
 
<P>
By understanding the default behaviors, you can discover where unreferenced
symbols are defined. The default behavior of the Compiler when using the
/FR or /Fr switches is to pack browser files, removing information about
where unreferenced symbols are defined. To prevent the Compiler from doing
this packing, use the /Zn switch from the command line, or check the "Don't
Pack Information" checkbox under:
<P>
<PRE>   Options...|Project...|Compiler...|Listing Files

</PRE>Similarly, the default behavior of BSCMAKE is to not record information
about unreferenced symbols when building the browser database for an
application. To turn off this behavior, use the /Iu switch from the command
line.
<P>
NOTE: There is no way to control BSCMAKE's behavior when using a Visual
Workbench-generated makefile. The hard-coded default BSCMAKE command line
used by the Visual Workbench doesn't include the /Iu option. In the case of
a Visual Workbench-generated makefile, find the inference rule within the
makefile generated by the Visual Workbench that causes the BSCMAKE utility
to be executed. There, change the command line that is passed to the
BSCMAKE utility. To do this, open the makefile as a text file and find the
$(PROJ).BSC: inference rule. You should see the BSCMAKE command on the next
line or two. Just add the /Iu option as shown in this example:
<P>
$(PROJ).BSC: $(SBRS)
<PRE>    bscmake@&lt;&lt;
</PRE>/Iu /o$@ $(SBRS)
&lt;&lt;
<P>
NOTE: There is an important caveat here. When you use the internal build
engine of the Visual Workbench, the inference rule portion of the makefile
is not used. Instead, the Visual Workbench uses the inference rules only
when the file is opened as an external makefile. For this solution to work,
the makefile must be opened as an external makefile in the Visual Workbench
or the project must be built with NMAKE from the command line.
<P>
NOTE: The Compiler and BSCMAKE work independently. BSCMAKE builds the
browser database from browser (.SBR) files generated at compile time.
Unreferenced symbols will not appear in the browser database if:

<UL><LI>CL.EXE is executed with /Fr or /FR, and without the /Zn option,
   regardless of whether BSCMAKE is executed with the /Iu option.
   Omitting the /Zn option causes browser file packing to discard
   information about unreferenced symbols.

<LI>CL.EXE is executed with /Fr or /FR, and /Zn, and BSCMAKE is executed
   without the /Iu option. Omitting the /Iu option causes BSCMAKE to
   ignore information about unreferenced symbols.
<P>
</UL>In order for the solutions presented here to work, both of these must be
true:

<UL><LI>The Compiler must be executed with /Fr or /FR, and /Zn.

<LI>BSCMAKE must be executed with the /Iu option in the same build.
<P>
</UL><h2>MORE INFORMATION</h2>
 
<P>
An unreferenced symbol is a symbol that has been defined, but never appears
in the body of code apart from its definition. Common examples of defined
but unreferenced symbols are instances of CWinApp-derived classes in MFC
applications and variables of any type that are not used in an application.
<P>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional reference words: 1.00 1.50 1.51<BR>
KBCategory: kbusage kbtool kbprb<BR>
KBSubcategory: TlsMisc<BR>
Keywords          : TlsMisc kbprb kbtool kbusage<BR>
Version           : 1.00 1.50 1.51 | 1.00<BR>
Platform          : NT WINDOWS<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  July 31, 1997</FONT>
	<BR>
	<A HREF="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
