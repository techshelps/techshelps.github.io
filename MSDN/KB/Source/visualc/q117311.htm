

<HTML>
<HEAD>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>BUG: Break When Expression Has Changed Fails With Floats </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q117311">
<META NAME="KBModify" CONTENT="1997/07/22">
<META NAME="KBCreate" CONTENT="1994/06/26">
<META NAME="Keywords" CONTENT="kb16bitonly">
<META NAME="KBArea" CONTENT="Support; KB; visualc">
<META NAME="Description" CONTENT="   Break When Expression Has Changed  breakpoints set on float or pointer to float variables may not function correctly, or the break may occur at the wrong location. This happens in both CodeView and the Visual C++ integrated debugger.  STATUS =====...">
<META NAME="Product" CONTENT="Visual C++">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QAH4,QA6A,QAYL,QDKW,QBW6,QAKP,QDL9,QBWQ,QBWO,QBWN,QA56,QA55,QAY2,QALZ,QAK9 V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>BUG: Break When Expression Has Changed Fails With Floats</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  July 22, 1997</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q117311</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
<PRE>4.10    | 1.00 1.50 1.50.01 4.10
</PRE>MS-DOS  | WINDOWS
kbtool kbbuglist
<P>
 
The information in this article applies to:

<UL><LI>The Visual Workbench Integrated Debugger included with:
   Microsoft Visual C++ for Windows, versions 1.0, 1.5 and 1.5.01

<LI>Microsoft CodeView for MS-DOS, version 4.1
<LI>Microsoft Codeview for Windows, version 4.1
</UL> 
<P>
<P><h2>SYMPTOMS</h2>
 
<P>
"Break When Expression Has Changed" breakpoints set on float or pointer to
float variables may not function correctly, or the break may occur at the
wrong location. This happens in both CodeView and the Visual C++ integrated
debugger.
<P>
<P><h2>STATUS</h2>
 
<P>
Microsoft has confirmed this to be a problem in the debugging information
generated by the compiler. We will post new information here in the
Knowledge Base as it becomes available. To work around the problem, use
CodeView's memory window to view the contents of your variables. When their
contents change, CodeView highlights the changed bytes.
<P>
<P><h2>MORE INFORMATION</h2>
 
<P>
The sample program below demonstrates the bug. Build a debug version of a
DOS executable using the code below. Debug the application using CodeView
for DOS. Step through the application to line 7 in the debugger, set a
"Break When Expression Has Changed" breakpoint on pf, and hit F5 to
continue the program. The breakpoint will be missed.
<P>
<P><h3>Sample Code</h3>
 
<P>
<PRE>/* Compile options needed:   /Zi /Od
*/

void main( void )
</PRE>{
<PRE>    float  f, *pf;
    int    i;

    f = 1.1f;
    i = 2;
    pf = &amp;f;
    i = 3;
</PRE>}
<P>
To view the contents of pf using the memory window, as the workaround
states in the status section of this article, step to the first line
of code in main(). Open the register window to get both the segment
from the SS register, since the variable is local, and the value of
BP. To calculate the memory offset of pf look at the locals window to
get the offset from BP. In this case it is OxA. Subtract the value of
the offset from the value of BP. Then using memory window number 1
change the current address to the SS:BP-offset by typing over the
current address. Continue stepping through the code. When the memory
location, currently displayed in the memory window, of pf changes
it will be highlighted.
<P>
<P>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional reference words:  4.10 1.50 1.00 1.50.01<BR>
KBCategory: kbtool kbbuglist<BR>
KBSubcategory: WBDebug<BR>
Keywords            : kb16bitonly<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  July 22, 1997</FONT>
	<BR>
	<A HREF="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
