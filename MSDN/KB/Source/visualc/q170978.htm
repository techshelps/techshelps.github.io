

<HTML>
<HEAD>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>PRB: MFC Browser Library (MFC.BSC) Can't Find MFC Source Files </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q170978">
<META NAME="KBModify" CONTENT="1997/07/31">
<META NAME="KBCreate" CONTENT="1997/07/02">
<META NAME="Keywords" CONTENT="MfcMisc">
<META NAME="KBArea" CONTENT="Support; KB; visualc">
<META NAME="Description" CONTENT="  The MFC browser library (MFC.BSC) that ships with Visual C++ has problems finding the target source code files, requiring you to enter the directory path.  Visual C++ may also load the wrong version of source files, depending on where different ver...">
<META NAME="Product" CONTENT="Visual C++">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QAFI,QBXB,QBFY,QATJ,QBHQ,QA56,QA55,QAK6,QBW5,QBJZ,QBF0,QANE,QAH4,QAEF,QAC9 V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>PRB: MFC Browser Library (MFC.BSC) Can't Find MFC Source Files</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  July 31, 1997</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q170978</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
 
The information in this article applies to:

<UL><LI>Microsoft Visual C++, 32-bit Editions, version 5.0
</UL> 
<P>
<P><h2>SYMPTOMS</h2>
 
<P>
The MFC browser library (MFC.BSC) that ships with Visual C++ has problems
finding the target source code files, requiring you to enter the directory
path.
<P>
Visual C++ may also load the wrong version of source files, depending on
where different versions of Visual C++ are loaded. For example, if the
Visual C++ 4.0 source files are loaded on E: drive, they will be found
instead of the Visual C++ 5.0 files.
<P>
<P><h2>CAUSE</h2>
 
<P>
These problems are caused by different directory paths embedded in the
MFC.BSC file and the actual location of these files on your hard disk. For
the browser to work properly, these directory paths must be the same.
<P>
The directory path that the MFC browse library was created on
(E:\msdev\mfc\src) is different from the default installation path for the
MFC source code (C:\Program Files\DevStudio\Vc\mfc\src). The browser can
find the files if the drive letter is different. However, it fails to find
the target files and consequently prompts for the target directory if the
paths are different.
<P>
<P><h2>RESOLUTION</h2>
 
<P>
You can work around this by rebuilding the MFC browser library (MFC.BSC).
<P>
<P><h3>Steps to Rebuild the MFC Browser Library</h3>
 

<OL><P><LI>Verify that you have around 400 megabytes of free disk space on the
   drive where Visual C++ is installed. This much space is required to
   build the browse information. 358 megabytes that are used by .SBR files
   can be freed once the browser database has been built. Temporary files
   require the additional space. Temporary files are automatically deleted.

<P><LI>From a Command Prompt, run the Vcvars32.Bat, which should be in the
   &lt;drive&gt;:&lt;DevStudio directory path&gt;\vc\bin, to set the proper environment
   variables. Change to the &lt;drive&gt;:&lt;Devstudio directory path&gt;\Vc\Mfc\Src
   directory, and build the browse information by running the nmake on the
   makefile:
<P>
<P><PRE>      nmake browseonly=1 no_pch=1 no_pdb=1 dll=2
</PRE><P>
   This creates NafxeWD.bsc file and a subdirectory called $DLLD.W with
   .SBR files.

<P><LI>Provided you do not plan to rebuild the browse database frequently,
   remove all files in the $DLLD.W directory, and then remove the directory
   itself. The intermediate .SBR files occupy roughly 358 megabytes of disk
   space and are not required to use the browser.

<P><LI>If you want to, you can change the new browse file from NafxeWD.BSC to
   MFC.BSC.
<P>
</OL>To use the browser file, start Visual C++. On the File menu, click Open,
and choose the .BSC file that you just created. On the Tools menu, click
Source Browser. The Browser window appears, and then you can look up any of
the MFC functions or data variables.
<P>
<P><h2>STATUS</h2>
 
<P>
This behavior is by design.
<P>
<P><h2>REFERENCES</h2>
 
<P>
For additional information regarding the building of the MFC.BSC library,
please see the following articles in the Microsoft Knowledge Base:
<P>
<PRE>   ARTICLE-ID: <B><A HREF="../VISUALC/Q98656.htm">Q98656</A></B>
   TITLE     : INFO: Creating a Browser Library for the Foundation Classes

   ARTICLE-ID: <B><A HREF="../VISUALC/Q138326.htm">Q138326</A></B>
   TITLE     : HOWTO: Create a Browser Library for the Common Control
               Classes

</PRE></OL>(c) Microsoft Corporation 1997, All Rights Reserved.
Contributions by Mike Francis, Microsoft Corporation
<P>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional query words: mfc browser mfc.bsc<BR>
Keywords          : MfcMisc<BR>
Technology        : kbMfc<BR>
Version           : 5.0<BR>
Platform          : NT WINDOWS<BR>
Issue type        : kbprb<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  July 31, 1997</FONT>
	<BR>
	<A HREF="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
