

<HTML>
<HEAD>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>DOCERR: Use of _far Keyword in Tiny Programs </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q66104 ">
<META NAME="KBModify" CONTENT="1997/07/17">
<META NAME="KBCreate" CONTENT="1990/10/06">
<META NAME="Keywords" CONTENT="kb16bitonly">
<META NAME="KBArea" CONTENT="Support; KB; visualc">
<META NAME="Description" CONTENT="  A tiny memory model program cannot have _far code. The following documentation, taken from online help in Microsoft C versions 6.0, 6.0a, 6.0ax, 7.0, and Visual C++ version 1.0, is incorrect because it is not possible to use the _far keyword with c...">
<META NAME="Product" CONTENT="Visual C++">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QAH4,QAEY,QBVV,QBFY,QAC2,QAB4,QAYY,QAO3,QAO2,QAR5,QAA1,QAAP,QAJH,QAEF,QDI2 V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>DOCERR: Use of _far Keyword in Tiny Programs</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  July 17, 1997</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q66104 </B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
6.00 6.00a 6.00ax 7.00 | 1.00
<PRE>MS-DOS                 | WINDOWS
</PRE>kbprg kbdocerr
<P>
 
The information in this article applies to:

<UL><LI>Microsoft C for MS-DOS, versions 6.0, 6.0a, and 6.0ax
<LI>Microsoft C/C++ for MS-DOS, version 7.0
<LI>Microsoft Visual C++ for Windows, version 1.0
</UL> 
<P>
<P><h2>SUMMARY</h2>
 
<P>
A tiny memory model program cannot have _far code. The following
documentation, taken from online help in Microsoft C versions 6.0,
6.0a, 6.0ax, 7.0, and Visual C++ version 1.0, is incorrect because it
is not possible to use the _far keyword with code addresses or static
data addresses in a tiny program. It is also not possible to use the
_huge keyword with static data addresses.

<UL><LI>The tiny-model option creates a program with the .COM extension.
   The program contains a single segment for both code and data. Code
   and data combined are limited to 64K.
<P>
   Both code and data items are accessed with near addresses. You can
   override the defaults with the _far keyword for code and the _far
   or _huge keyword for data.
<P>
</UL><h2>MORE INFORMATION</h2>
 
<P>
The _far keyword does override the near addresses correctly, but the
linker will generate the following error message because a .COM file
cannot have segment references:
<P>
<PRE>   LINK : fatal error L1127: far segment references not allowed with
   /TINY

</PRE>Selecting DOS COM from initial build options in PWB and not placing a
/AT in the additional build options will also cause the above error.
<P>
You can use _far and _huge keywords to create pointers for use with
dynamic memory or to set up pointers with absolute addresses, such as
a pointer to video memory. This is because these pointers do not have
segment values that depend on where the program is loaded in memory.
An .EXE file contains a table of all segment references that are made
by the program in its header. When the program is loaded, all segment
values in the table are adjusted for the programs load location.
Because .COM files do not have this header information, they cannot
contain segment references.
<P>
No Microsoft graphics library routines can be used when generating
.COM files because they are all compiled as far calls.
<P>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional reference words: 6.00 6.00a 6.00ax 7.00 1.00<BR>
KBCategory: kbprg kbdocerr<BR>
KBSubcategory: CLngIss<BR>
Keywords            : kb16bitonly<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  July 17, 1997</FONT>
	<BR>
	<A HREF="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
