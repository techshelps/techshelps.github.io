

<HTML>
<HEAD>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Using .PCH Files Across Projects in Visual Workbench </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q117780">
<META NAME="KBModify" CONTENT="1996/01/21">
<META NAME="KBCreate" CONTENT="1994/07/07">
<META NAME="Keywords" CONTENT="kbtool">
<META NAME="KBArea" CONTENT="Support; KB; visualc">
<META NAME="Description" CONTENT="  In some instances, it is beneficial to share precompiled header (.PCH) files among several projects. However, the Visual Workbench is not able to use the program database (.PDB) files, because project-specific information related to each .PCH file ...">
<META NAME="Product" CONTENT="Visual C++">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QA55,QA56,QAJN,QBXS,QBFY,QAY2,QBVR,QAOT,QAJQ,QAF8,QAG0,QBV4,QBV8,QAWF,QAKJ V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>Using .PCH Files Across Projects in Visual Workbench</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  January 21, 1996</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q117780</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
The information in this article applies to:

<UL><LI>The Visual Workbench included with:
<P>
<P><PRE>    - Microsoft Visual C++ for Windows, versions 1.0, 1.5, 1.51, and
      1.52
    - Microsoft Visual C++ 32-bit Edition, version 1.0
</UL></PRE> 
<P>
<P><h2>SUMMARY</h2>
 
<P>
In some instances, it is beneficial to share precompiled header (.PCH)
files among several projects. However, the Visual Workbench is not able to
use the program database (.PDB) files, because project-specific information
related to each .PCH file is stored in the .PDB files. This article
explains how to use .PCH files without using .PDB files in the versions of
Visual C++ listed above. This same thing can be done in later versions of
Visual C++ 32-bit Edition, but the steps will be different.
<P>
<P><h2>MORE INFORMATION</h2>
 
<P>
To use a common precompiled header among different projects:

<OL><P><LI>Copy the header file into the common directory you want, and then
   delete it from the individual project directories. When using
   applications generated by AppWizard, the STDAFX.H file is the same for
   all applications, so it is a good candidate for a shared precompiled
   header.

<P><LI>For each .CPP file that includes the file being used for precompiled
   headers, give an explicit path to the header. For example, suppose that
   the .CPP file contains the following:
<P>
<P><PRE>      #include "stdafx.h"
</PRE><P>
   If the new location of the header file is C:\MSVC\CMN_HDR, then this
   statement should be changed to the following:
<P>
<P><PRE>      #include "c:\msvc\cmn_hdr\stdafx.h"
</PRE><P>
   Repeat this step for each project that uses a common header file.

<P><LI>For each project, choose Project from the Options menu.

<P><LI>Choose the Compiler command button to change the compiler options

<P><LI>Choose Precompiled Headers from the Category list box.

<P><LI>In the Precompile through Header edit box, enter the complete path of
   the common headers.

<P><LI>Choose Debug Options from the Category list box.

<P><LI>Put the bullet on the Full (C7 Compatible) radio-control box. This
   directs the compiler not to place any of the precompiled header
   information into the .PDB file, which keeps inconsistency errors from
   occurring in that file.

<P><LI>Choose the "OK" button to accept these changes and then choose the "OK"
   button again to close the Project Options dialog box.
<P>
</OL>10.For each project, choose Scan All Dependencies from the Project menu
<PRE>   before rebuilding the project so that the compiler will use the new
   common header file.
</PRE>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional reference words: kbinf 1.00 1.10 1.50<BR>
KBCategory: kbtool<BR>
KBSubcategory: VWBIss<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  January 21, 1996</FONT>
	<BR>
	<A HREF="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
