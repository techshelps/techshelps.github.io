

<HTML>
<HEAD>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Use New Flags to Speed Up C Run-time Low-Level I/O Functions </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q131324">
<META NAME="KBModify" CONTENT="1997/07/22">
<META NAME="KBCreate" CONTENT="1995/06/08">
<META NAME="Keywords" CONTENT="CRTIss kbprg">
<META NAME="KBArea" CONTENT="Support; KB; visualc">
<META NAME="Description" CONTENT="  The low-level file open functions in the C Run-time library for the 32-bit Edition of Visual C++ accept some additional flags to allow you to take advantage of Win32-specific file system features. These flags are not available in the 16-bit version...">
<META NAME="Product" CONTENT="Visual C++">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QAHE,QAY5,QBFY,QA26,QBQB,QBWS,QBV8,QAB9,QBFN,QA56,QA55,QAU3,QAMR,QBWP,QBF0 V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>Use New Flags to Speed Up C Run-time Low-Level I/O Functions</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  July 22, 1997</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q131324</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
1.00 2.00 2.10 4.00
WINDOWS NT
kbprg
<P>
 
The information in this article applies to:

<UL><LI>The C Run-time (CRT) included with:
   Microsoft Visual C++, 32-bit Edition, versions 1.0, 2.0, 2.1, and
   4.0
</UL> 
<P>
<P><h2>SUMMARY</h2>
 
<P>
The low-level file open functions in the C Run-time library for the 32-bit
Edition of Visual C++ accept some additional flags to allow you to take
advantage of Win32-specific file system features. These flags are not
available in the 16-bit version of Visual C++.
<P>
The low-level file open functions are: _open, _wopen, _sopen, and _wsopen.
The new flags (and others) can be combined together with the bitwise OR
operator and passed as the 'oflag' argument to the file open functions.
<P>
The file open functions call the Win32 function 'CreateFile' to actually
open the file with the specified options. The following table relates these
new C Run-time flags to the equivalent flags that are passed to CreateFile.
<P>
<PRE>C Run-time Flag     CreateFile Flag
</PRE> 
<PRE>_O_SHORT_LIVED      FILE_ATTRIBUTE_TEMPORARY
_O_TEMPORARY        FILE_FLAG_DELETE_ON_CLOSE
_O_RANDOM           FILE_FLAG_RANDOM_ACCESS
_O_SEQUENTIAL       FILE_FLAG_SEQUENTIAL_SCAN

</PRE><h2>MORE INFORMATION</h2>
 
<P>
You can use these flags to improve file I/O performance in some cases. For
example, if you need to read from a large file sequentially, and do not
need to jump to different parts of the file, you most likely will improve
the performance of your application by using the _O_SEQUENTIAL flag when
opening the file. This translates to the FILE_FLAG_SEQUENTIAL_SCAN flag for
CreateFile.
<P>
For more information, please refer to the following sources:
<P>
Microsoft Knowledge Base: Read these articles
<P>
<PRE>   ARTICLE-ID: <B><A HREF="../WIN32SDK/Q98756.htm">Q98756</A></B>
   TITLE     : Increased Performance Using FILE_FLAG_SEQUENTIAL_SCAN

   ARTICLE-ID: <B><A HREF="../WIN32SDK/Q103237.htm">Q103237</A></B>
   TITLE     : Using Temporary File Can Improve Application Performance

</PRE>Visual C++ Books Online: Read the descriptions of the _open/_wopen and
<PRE>   _sopen/_wsopen functions.  Search on "_open" and "_sopen."

</PRE>Visual C++ Run-Time Library Reference, Part 2, Run-Time Reference: Read
the descriptions of _open/_wopen and _sopen/_wsopen.
<P>
Win32 Programmer's Reference, Volume 3, Function Reference: Read the
description of WIN32 API CreateFile.
<P>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional reference words: kbinf 1.00 2.00 2.10 4.00 open sopen option<BR>
speed up faster<BR>
KBCategory: kbprg<BR>
KBSubcategory: CRTIss<BR>
Keywords            : CRTIss kbprg<BR>
Version             : 1.00 2.00 2.10 4.00<BR>
Platform            : NT WINDOWS<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  July 22, 1997</FONT>
	<BR>
	<A HREF="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
