

<HTML>
<HEAD>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>HOWTo: Using .pch Files Across Projects in the Visual Workbench </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q137515">
<META NAME="KBModify" CONTENT="1998/01/02">
<META NAME="KBCreate" CONTENT="1995/09/28">
<META NAME="Keywords" CONTENT="VwbIss">
<META NAME="KBArea" CONTENT="Support; KB; visualc">
<META NAME="Description" CONTENT="  In some cases, it is beneficial to share precompiled header (.pch) files among several projects. However, the Visual Workbench can't use the program database (.pdb) files because project-specific information related to each .pch file is stored in t...">
<META NAME="Product" CONTENT="Visual C++">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QA55,QBFY,QA56,QBVR,QAJN,QAY2,QAF8,QA3A,QBXS,QBWS,QAJQ,QAHP,QAF4,QBBI,QAFI V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>HOWTo: Using .pch Files Across Projects in the Visual Workbench</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  January 2, 1998</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q137515</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
 
The information in this article applies to:

<UL><LI>The Visual Workbench included with:
   Microsoft Visual C++, 32-bit Edition, version 2.0, 2.1, 2.2, and 4.0
</UL> 
<P>
<P><h2>SUMMARY</h2>
 
<P>
In some cases, it is beneficial to share precompiled header (.pch) files
among several projects. However, the Visual Workbench can't use the program
database (.pdb) files because project-specific information related to each
.pch file is stored in the .pdb files. This article explains how to use
.pch files without using .pdb files in the versions of Visual C++ listed at
the beginning of this article.
<P>
For information about about the 16-bit Visual Workbench, please see the
following article in the Microsoft Knowledge Base:
<P>
<PRE>   ARTICLE-ID: <B><A HREF="../VISUALC/Q117780.htm">Q117780</A></B>
   TITLE     : Using .PCH Files Across Projects in Visual Workbench

</PRE><h2>MORE INFORMATION</h2>
 
<P>
<P><h3>Step-by-Step Procedure</h3>
 
<P>
To use a common precompiled header among different projects, first
determine which header file you wish to use. (If all the projects have been
generated by AppWizard, the stdafx.h file is the same for each, so it is a
good candidate for a shared precompiled header.) Once you've made your
choice, copy the header file into a common directory.
<P>
Now, for each project that will share the precompiled header, do the
following:

<OL><P><LI>Delete the shared header file from the individual project directories.

<P><LI>For each .cpp file that includes the file being used for shared
   precompiled header, specify  an explicit path to the header. For
   example, suppose that stdafx.h is the designated to be the shared
   header file and a .cpp file contains the following:
<P>
<P><PRE>      #include "stdafx.h"
</PRE><P>
   If the new location of the header file is c:\common\headers, then the
   above statement in the .cpp file should be changed to the following:
<P>
<P><PRE>      #include "c:\common\headers\stdafx.h"
</PRE>
<P><LI>With Visual C++ 2.x, choose Settings from the Project menu. With Visual
   C++ 4.0, choose Settings from the Build menu.

<P><LI>Click the C/C++ tab.

<P><LI>Choose Precompiled Headers from the Category list box.

<P><LI>With Visual C++ 2.x, in the Precompile through Header edit box, type
   the complete path of the common header. With Visual C++ 4.0, select
   Automatic use of Precompiled Headers and specify the complete path to
   the header file in the enabled Through header edit control. (The path
   to use is the same path specified in Step 2 above.)

<P><LI>Click the C/C++ tab, and choose General from the Category list box.

<P><LI>Choose the "C7 Compatible" from the "Debug Info" List box. This tells
   the compiler not to place any of the precompiled header information into
   the .pdb file, which keeps inconsistency errors from occurring in that
   file.

<P><LI>Click OK to accept these changes and to close the Project Settings
   dialog box.

<P><LI>Click the Update All Dependencies before rebuilding the project so
<P><PRE>    that the compiler will use the new common header file. With Visual C++
    2.x, this option is on the Project menu; with Visual C++ 4.0, this
    option is on the Build menu.
<P></BLOCKQUOTE>
</OL>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional query words: 2.00 2.10 2.20 4.00<BR>
Keywords          : VwbIss<BR>
Version           : WINNT: 2.0,2.1,2.2,4.0<BR>
Platform          : winnt<BR>
Issue type        : kbhowto<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  January 2, 1998</FONT>
	<BR>
	<A HREF="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
