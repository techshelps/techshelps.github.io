

<HTML>
<HEAD>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Problems Accessing Windows FAT Drives Larger than 2 GB </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q127851">
<META NAME="KBModify" CONTENT="1998/03/18">
<META NAME="KBCreate" CONTENT="1995/03/19">
<META NAME="Keywords" CONTENT="diskmem win95 wpp95 win98 kbinterop kbnetwork kbsetup kbtool">
<META NAME="KBArea" CONTENT="Support; KB; win95x, crossnet, winprint">
<META NAME="Description" CONTENT="  Microsoft Windows NT supports the creation of primary partitions and logical (physical) drives of up to 4 gigabytes (GB) using the File Allocation Table (FAT) file system, but Windows 95 and Microsoft MS-DOS do not support these drives. The limit f...">
<META NAME="Product" CONTENT="Windows 95">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Security" CONTENT="PUBLIC ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QBWN,QDL9,QBWO,QBWQ,QBWP,QABX,QAC9,QDJB,QA47,QAMV,QABN,QDNF,QBW7,QAI5,QDJC V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>Problems Accessing Windows FAT Drives Larger than 2 GB</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  March 18, 1998</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q127851</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
5.x 6.00 6.20 6.21 6.22 95
WINDOWS
PUBLIC
kbtool kbnetwork kbinterop kbsetup
<P>
********************************************************************
<PRE>     BETA INFORMATION  BETA INFORMATION  BETA INFORMATION  BETA

     This article discusses a Beta release of a Microsoft
     product. The information in this article is provided as-is
     and is subject to change without notice.

     No formal product support is available from Microsoft for
     this Beta product. For information about obtaining support
     for a Beta release, please see the documentation included
     with the Beta product files, or check the Web location
     from which you downloaded the release.

     BETA INFORMATION  BETA INFORMATION  BETA INFORMATION  BETA
</PRE>********************************************************************
<P>
 
The information in this article applies to:

<UL><LI>Microsoft Windows 98
<LI>Microsoft Windows 95
<LI>Microsoft MS-DOS operating system versions 5.x, 6.0, 6.2, 6.21,
   6.22
</UL> 
<P>
<P><h2>SUMMARY</h2>
 
<P>
Microsoft Windows NT supports the creation of primary partitions and
logical (physical) drives of up to 4 gigabytes (GB) using the File
Allocation Table (FAT) file system, but Windows 95 and Microsoft MS-DOS do
not support these drives. The limit for drives using the FAT file system in
Windows 95 and MS-DOS is 2 GB.
<P>
<P><h2>MORE INFORMATION</h2>
 
<P>
Both MS-DOS and Windows 95 use a 16-bit FAT for logical drives larger than
15 megabytes (MB). The maximum number of clusters for a 16-bit FAT drive
is 64K, or 65,536 bytes (where 1K = 1024 bytes). In addition, the maximum
cluster size in MS-DOS and Windows 95 is 32K, or 32,768 bytes. Therefore,
the maximum logical drive size in MS-DOS and Windows 95 is calculated as
follows:
<P>
<PRE>   32K x 64K = 2048 MB = 2 GB

</PRE>Windows NT uses a 64K maximum cluster size on 16-bit FAT drives. The
maximum logical drive size in Windows NT is calculated as follows:
<P>
<PRE>   64K x 64K = 4096 MB = 4 GB

</PRE>NOTE: On a FAT drive, space is allocated by clusters. That is, a file that
is smaller than the drive's cluster size will still be allocated one full
cluster, thus wasting the additional space in the cluster. Similarly, a
file that is large enough to fill 3-1/2 clusters will be allocated four
full clusters. Using a smaller cluster size will typically result in less
wasted space on the drive.
<P>
The cluster size for a FAT drive is determined when the drive is formatted
and varies depending on the size of the logical drive. For more information
about cluster and logical drive sizes in MS-DOS, please see the following
article in the Microsoft Knowledge Base:
<P>
<PRE>   TITLE: FAT Type and Cluster Size Depends on Logical Drive Size
   ID: <B><A HREF="../zMiscellaneous/Q67321.htm">Q67321</A></B>

</PRE>Windows 95 and MS-DOS use the FDISK utility to partition a disk. When it
accesses a hard disk, FDISK uses the system AT ROM BIOS INT13h interface,
which has a maximum of 1024 cylinders, 255 heads, and 63 sectors per track.
FDISK can access any drive within the limits imposed by the AT ROM BIOS,
which means that FDISK can access drives of up to 8 GB, calculated as
follows:
<P>
<PRE>   1024 cylinders x 255 heads x 63 sectors per track x 512 bytes per
   sector = 8,422,686,720 bytes, or roughly 8 GB

</PRE>The original IDE hardware interface is limited to 16 heads, which reduces
the maximum drive size to 504 MB. Newer IDE (ATAPI) technology, however,
uses a translation scheme called Logical Block Addressing (LBA) to exceed
the 504-MB limit as imposed by the system AT ROM BIOS and IDE specifi-
cation. SCSI and ESDI hard drive controllers use similar translation
methods that are usually built into the controller card's ROM BIOS to
exceed the 504-MB drive size limit. For more information about the use of
large hard disks with MS-DOS and Windows 95, please see the following
article in the Microsoft Knowledge Base:
<P>
<PRE>   TITLE: Windows 95 Support for Large IDE Hard Disks
   ID: <B><A HREF="../WIN95X/Q126855.htm">Q126855</A></B>

</PRE>The FDISK utility in MS-DOS and Windows 95 can create an extended partition
larger than 2 GB. FDISK can then create multiple formatted drives of up to
2 GB in this extended partition that conform to the AT ROM BIOS constraints
mentioned earlier. FDISK will not, however, allow the creation of a primary
FAT partition or logical drive in an extended FAT partition that is larger
than 2 GB. Note also that, as mentioned earlier, logical drives larger than
504 MB cannot be accessed using MS-DOS or Windows 95 unless LBA or geometry
translation is used.
<P>
Windows NT allows you to create 4 GB FAT drives, either as a primary
partition or as a logical drive in an extended partition. Because MS-DOS
and Windows 95 have a maximum partition size of 2 GB, FAT drives larger
than 2 GB created using Windows NT cannot be reliably accessed using MS-DOS
or Windows 95.
<P>
NOTE: Microsoft does not recommend using MS-DOS or Windows 95 with a 4 GB
FAT drive created in Windows NT. If you use Windows NT's dual boot feature
to boot MS-DOS or Windows 95, you should be able to access the drive, but
you may experience unexpected behaviors. In particular, some applications
or utilities may incorrectly report that 0 bytes of free space exist on the
drive.
<P>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
KBCategory: kbtool kbnetwork kbinterop kbsetup<BR>
KBSubcategory: wpp95 win95 diskmem<BR>
Additional reference words: 95 msdos<BR>
Keywords          : diskmem win95 wpp95 win98 kbinterop kbnetwork kbsetup kbtool<BR>
Version           : 5.x 6.00 6.20 6.21 6.22 95<BR>
Platform          : WINDOWS<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  March 18, 1998</FONT>
	<BR>
	<A HREF="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
