

<HTML>
<HEAD>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Drive Is No Longer Bootable After Restoring Root Directory </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q100374">
<META NAME="KBModify" CONTENT="1996/05/08">
<META NAME="KBCreate" CONTENT="1993/06/20">
<META NAME="Keywords" CONTENT="kbtool kbusage">
<META NAME="KBArea" CONTENT="Support; KB; win95x, crossnet, winprint">
<META NAME="Description" CONTENT=" NOTE: This information applies to both Microsoft DoubleSpace and Microsoft DriveSpace. For MS-DOS 6.22 and Windows 95, use DRVSPACE in place of DBLSPACE in all commands and filenames.   When you back up the root folder of drive C (or your DoubleSpac...">
<META NAME="Product" CONTENT="Windows 95">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QBFY,QDL9,QBWO,QBWN,QA3W,QBWQ,QBV8,QDIU,QANE,QAB9,QAC9,QDIV,QA9N,QAFI,QASB V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>Drive Is No Longer Bootable After Restoring Root Directory</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  May 8, 1996</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q100374</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
The information in this article applies to:

<UL><LI>Microsoft MS-DOS operating system versions 6.0, 6.2, 6.22
<LI>Microsoft Windows 95
</UL> 
<P>
NOTE: This information applies to both Microsoft DoubleSpace and Microsoft
DriveSpace. For MS-DOS 6.22 and Windows 95, use DRVSPACE in place of
DBLSPACE in all commands and filenames.
<P>
<P><h2>SYMPTOMS</h2>
 
<P>
When you back up the root folder of drive C (or your DoubleSpace host
drive, if drive C is compressed) and then later restore the files, you may
no longer be able to boot your computer from drive C. When you use
Microsoft Backup or Microsoft Backup for Windows in MS-DOS 6.x, this
problem occurs if you clear the following options (which are selected by
default) in the Special Selections dialog box when you restore the files:

<UL><LI>Exclude Read Only Files
<LI>Exclude System Files
<LI>Exclude Hidden Files
<P>
</UL><h2>RESOLUTION</h2>
 
<P>
<P><h3>Using MS-DOS 6.x or Windows 95 Without Dual Boot</h3>
 
<P>
To work around this problem, start your computer with the MS-DOS 6.x
Upgrade Setup Disk 1 or Windows 95 Startup disk (Emergency Boot Disk) in
drive A, and use the SYS command to make drive C bootable. For example,
type the following command at the MS-DOS command prompt:
<P>
<PRE>   a:\sys a: c:

</PRE>NOTE: If drive C is compressed and is currently mounted, you need to use
the SYS command to make the host drive for drive C bootable.
<P>
<P><h3>Using Windows 95 with Dual Boot</h3>
 
<P>
To work around this problem when you are using Windows 95 and dual-booting
to MS-DOS 6.x, follow these steps:
<P>

<OL><P><LI>Start your computer with the MS-DOS 6.x Upgrade Disk 1 in drive A and
   create a backup copy of the Windows 95 Msdos.sys file. To do so, type
   the following commands:
<P>
<P><PRE>      a:\attrib c:\msdos.sys -s -h -r
      copy c:\msdos.sys c:\msdos.xxx
</PRE>
<P><LI>Use the SYS command to make drive C bootable. For example, type the
   following command at an MS-DOS command prompt:
<P>
<P><PRE>      a:\sys a: c:
</PRE><P>
   NOTE: If drive C is compressed and is currently mounted, you need to use
   the SYS command to make the host drive for drive C bootable.

<P><LI>Remove the system, hidden, and read-only attributes from the Io.sys,
   Msdos.sys, Io.dos, and Msdos.dos files by typing the following commands:
<P>
<P><PRE>      a:\attrib c:\io.sys -s -h -r
      a:\attrib c:\msdos.sys -s -h -r
      a:\attrib c:\io.dos -s -h -r
      a:\attrib c:\msdos.dos -s -h -r
</PRE>
<P><LI>Delete the Io.dos and Msdos.dos files by typing the following commands:
<P>
<P><PRE>      del c:\io.dos
      del c:\msdos.dos
</PRE>
<P><LI>Create copies of the Io.sys and Msdos.sys files with the extension .dos
   by typing the following commands:
<P>
<P><PRE>      copy c:\io.sys c:\io.dos
      copy c:\msdos.sys c:\msdos.dos
</PRE>
<P><LI>Start your computer with the Windows 95 Startup disk (Emergency Boot
   Disk) and use the SYS command to copy the Windows 95 system files to
   drive C. For example, type the following command at an MS-DOS command
   prompt:
<P>
<P><PRE>      a:\sys a: c:
</PRE><P>
   If drive C is compressed and is currently mounted, you need to use the
   SYS command to copy the Windows 95 system files to the host drive for
   drive C.

<P><LI>Restore the backup copy of the Windows 95 Msdos.sys file created in
   step 1 by typing the following commands:
<P>
<P><PRE>      a:\attrib c:\msdos.sys -s -h -r
      copy c:\msdos.xxx c:\msdos.sys
</PRE><P>
</OL><h2>MORE INFORMATION</h2>
 
<P>
When you are using MS-DOS 6.x, Microsoft Backup always backs up read-only,
hidden, and system files by default, but does not restore them unless you
specifically select the options to do so.
<P>
Although Backup restores the MS-DOS 6.x or Windows 95 system files (Io.sys,
Msdos.sys, Dblspace.bin, and Command.com) to the root folder of your hard
disk, the disk is not bootable. For an MS-DOS or Windows 95 disk to be
bootable, Io.sys must occupy the first entry in the root folder. Backup
performs a "safe" restore, which means that it copies a file being restored
to a folder with a temporary filename, deletes the old file, and renames it
to its correct name. Therefore, when Backup restores Io.sys, it no longer
occupies the first two entries in the root folder.
<P>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
KBCategory: kbtool kbusage<BR>
KBSubcategory: msdos win95 mwbackup msbackup<BR>
Additional reference words: 6.00 6.20 6.22 95 repartition fdisk format<BR>
msbackup.exe mwbackup.exe<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  May 8, 1996</FONT>
	<BR>
	<A HREF="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
