

<HTML>
<HEAD>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Using Hard Disk Utilities with Windows 95 </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q120442">
<META NAME="KBModify" CONTENT="1996/11/21">
<META NAME="KBCreate" CONTENT="1994/09/11">
<META NAME="Keywords" CONTENT="kb3rdparty kbprb kbtool">
<META NAME="KBArea" CONTENT="Support; KB; win95x, crossnet, winprint">
<META NAME="Description" CONTENT="  Most hard disk utility programs released before Windows 95 and Windows NT 4.0 require an update. If you use a non-long filename-aware hard disk utility, you may lose long filenames and you are at risk of losing data.  If the file maintenance utilit...">
<META NAME="Product" CONTENT="Windows 95">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QA2S,QBCU,QDL9,QBWO,QBWN,QBWQ,QAC9,QBWP,QAL3,QAFI,QANE,QAEF,QBWS,QA9N,QBV8 V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>Using Hard Disk Utilities with Windows 95</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  November 21, 1996</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q120442</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
The information in this article applies to:

<UL><LI>Microsoft Windows 95
<LI>Microsoft Windows NT Workstation version 4.0
<LI>Microsoft Windows NT Server version 4.0
</UL> 
<P>
<P><h2>SUMMARY</h2>
 
<P>
Most hard disk utility programs released before Windows 95 and Windows NT
4.0 require an update. If you use a non-long filename-aware hard disk
utility, you may lose long filenames and you are at risk of losing data.
<P>
If the file maintenance utility you use is not written to support long
filenames, it will likely damage your long filenames. Examples of such
programs include the following:
<P>
<PRE>   4DOS
   Disk utilities in Stacker 4.0 or earlier
   MS-DOS DOSSHELL
   NDOS
   Norton Desktop
   Norton Utilities
   PC-Tools PCShell
   PC-Tools Utilities
   Windows File Manager
   XTree
   XTree Gold
   XTree Pro
   XTreeNet 3.0

</PRE>For more information about the problems caused by third-party hard disk
utilities, please contact the manufacturer.
<P>
<P><h2>MORE INFORMATION</h2>
 
<P>
The following MS-DOS commands run from MS-DOS (not an MS-DOS command
prompt) may also cause long filename damage:

<UL><LI>COPY - This command results in a mismatched long filename when you copy
<PRE>          a short filename in the 32-bit entry beneath an orphaned long
          filename.

</PRE><LI>DEFRAG - Using DEFRAG from MS-DOS version 6.0, 6.2, 6.21, or 6.22 causes
<PRE>            you to lose long filenames because it re-sorts the structure of
            short filenames on your disk without taking into account
            their associated long filenames.

            Windows 95 Defrag does not re-sort the filenames due to the
            possibility of file corruption in a multitasking environment.

</PRE><LI>DEL/DELTREE - These commands result in orphaned long filenames. DEL
<PRE>                 applies to files only. DELTREE applies to files and
                 folders, but only affects the topmost folder that it is
                 run on as all subsequent folders and files are deleted,
                 including their long filenames.

</PRE><LI>MD - This command results in a mismatched long filename. The damage
<PRE>        occurs when you make a short filename folder in the 32-bit entry
        beneath an orphaned long filename.

</PRE><LI>MOVE - This command causes mismatched or orphaned long filenames. If
<PRE>          MOVE is performed within the context of the same folder (a
          modified rename) then a mismatched long filename will result. If
          MOVE is performed outside of the folder, then an orphaned long
          filename will result. This applies to both files and folders.

</PRE><LI>RD - This command results in an orphaned long filename. The damage
<PRE>        occurs when you remove a short filename folder in the 32-bit entry
        beneath its associated long filename.

</PRE><LI>REN - This command results in a mismatched long filename. The damage
<PRE>         occurs when you rename a short filename in the 32-bit entry
         beneath its associated long filename. The REN command will not fix
         a previously mismatched long filename.

</PRE><LI>SCANDISK - This command does not account for the long filename structure
<PRE>              when it writes corrections to your disk; therefore, it
              corrupts long filenames.

</PRE></UL>If you need to use an earlier version of a hard disk utility in Windows 95,
perform the following steps:
<P>
NOTE: The long filename backup utility (Lfnbk.exe) is not supported in
Windows NT 4.0. There is no comparable utility for Windows NT 4.0.

<OL><P><LI>Run Lfnbk.exe, which is a long filename (LFN) backup utility available
   in the \\Admin\Apptools\Lfnback folder of the Windows 95 CD.
<P>
   Lfnbk.exe removes your long filenames and saves them to a data file.
   Read LFNBK.TXT for more information.

<P><LI>Restart your computer and use the appropriate step below:
<P>
<P><PRE>    - If you need to run an MS-DOS-based utility, press the F8 key when
      you see the "Starting Windows 95" message, and then choose Command
      Prompt Only from the Startup menu.
</PRE><P>
<P><PRE>      -or-
</PRE><P>
<P><PRE>    - If you need to run a Windows-based utility, allow Windows 95 to start
      normally.
</PRE>
<P><LI>After you run the utility, restart your computer and run Lfnbk.exe to
   restore your long filenames.
<P>
</OL>The third-party products discussed in this article are manufactured by
vendors independent of Microsoft; we make no warranty, implied or
otherwise, regarding these products' performance or reliability.
<P>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
KBCategory: kb3rdparty kbprb kbtool<BR>
KBSubcategory: win95 winnt appscomp diskmem lfn NTSrvWkst<BR>
Additional reference words: 95 4.00 corrupt prodnt<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  November 21, 1996</FONT>
	<BR>
	<A HREF="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
