

<HTML>
<HEAD>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Cannot Start Windows 95 After Using the SYS Command </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q149110">
<META NAME="KBModify" CONTENT="1998/01/16">
<META NAME="KBCreate" CONTENT="1996/03/27">
<META NAME="Keywords" CONTENT="win95 winboot kbenv">
<META NAME="KBArea" CONTENT="Support; KB; win95x, crossnet, winprint">
<META NAME="Description" CONTENT="  When you use the SYS command to replace the Windows 95 system files on your hard disk, the Msdos.sys file may not be replaced, or may be replaced with an incomplete Msdos.sys file that contains only the text  ;SYS.   If the existing Msdos.sys file ...">
<META NAME="Product" CONTENT="Windows 95">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QBWN,QDL9,QBWO,QBWQ,QAC9,QBVV,QBV8,QACI,QDIV,QAB9,QAHD,QBFY,QANE,QAGQ,QAJP V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>Cannot Start Windows 95 After Using the SYS Command</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  January 16, 1998</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q149110</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
 
The information in this article applies to:

<UL><LI>Microsoft Windows 95
</UL> 
<P>
<P><h2>SYMPTOMS</h2>
 
<P>
When you use the SYS command to replace the Windows 95 system files on
your hard disk, the Msdos.sys file may not be replaced, or may be replaced
with an incomplete Msdos.sys file that contains only the text ";SYS."
<P>
If the existing Msdos.sys file on your hard disk is damaged and is not
replaced by the SYS command, or if the existing Msdos.sys file is replaced
with an incomplete Msdos.sys file, Windows 95 may boot only to a command
prompt the next time you start Windows 95. If the existing Msdos.sys file
is not damaged and is not replaced by the SYS command, no problems occur.
<P>
<P><h2>CAUSE</h2>
 
<P>
If the SYS command (Sys.com) included with Windows 95 determines that
the existing Msdos.sys file is from MS-DOS version 6.22 or earlier, it
replaces the existing Msdos.sys file with an incomplete Msdos.sys file
that contains only the text ";SYS." If the SYS command is unable to
determine that the existing Msdos.sys file is from MS-DOS version 6.22
or earlier, it assumes that the file is a valid Windows 95 Msdos.sys file
and does not replace it.
<P>
<P><h2>RESOLUTION</h2>
 
<P>
To work around this issue, manually rebuild the Msdos.sys file on your
hard disk so that it includes the location of your Windows folder and the
Windows 95 system files. To do so, follow these steps:

<OL><P><LI>Remove the system, hidden, and read-only attributes from the Msdos.sys
   file in the root folder of the boot drive. To do so, type the following
   command at the command prompt
<P>
<P><PRE>      attrib -s -h -r &lt;drive&gt;:\msdos.sys
</PRE><P>
   where &lt;drive&gt; is the physical boot drive.
<P>
   NOTE: If drive C is compressed and is currently mounted, the Msdos.sys
   file is located on the host drive for drive C. If drive C is not
   compressed or is not currently mounted, the Msdos.sys file is located
   on drive C.

<P><LI>Rename the Msdos.sys file using the following command
<P>
<P><PRE>      ren &lt;drive&gt;:\msdos.sys msdos.xxx
</PRE><P>
   where &lt;drive&gt; is the physical boot drive.

<P><LI>Use any editor (such as Edit.com) to create a new Msdos.sys file
   that contains the following text
<P>
<P><PRE>      [Paths]
      WinDir=&lt;drive&gt;:\&lt;windows&gt;
      WinBootDir=&lt;drive&gt;:\&lt;windows&gt;
      HostWinBootDrv=&lt;boot drive&gt;
</PRE><P>
   where &lt;drive&gt; is the drive containing the Windows folder, &lt;windows&gt; is
   the Windows folder, and &lt;boot drive&gt; is the physical boot drive. For
   example, if you installed Windows 95 on drive C in a folder named
   Windows and drive C is not compressed, the Msdos.sys file should
   contain the following lines:
<P>
<P><PRE>      [Paths]
      WinDir=C:\WINDOWS
      WinBootDir=C:\WINDOWS
      HostWinBootDrv=C
</PRE><P>
   NOTE: You can also add an [Options] section to the Msdos.sys file with
   additional settings to personalize the boot process. For information
   about the [Options] section, please see the following article in the
   Microsoft Knowledge Base:
<P>
<P><PRE>      ARTICLE-ID: <B><A HREF="../zMiscellaneous/Q118579.htm">Q118579</A></B>
<PRE></PRE>      TITLE     : Contents of the Windows Msdos.sys File

</PRE><P><LI>Save and then close the Msdos.sys file.

<P><LI>Restart your computer.
<P>
</OL><h2>MORE INFORMATION</h2>
 
<P>
When you use the SYS command to replace the Windows 95 system files on
your hard disk, the SYS command replaces the existing Msdos.sys file only
if it determines that the file is from MS-DOS version 6.22 or earlier. To
determine if the Msdos.sys file is from MS-DOS version 6.22 or earlier,
the SYS command checks to see if the first byte in the file is 0x3Bh,
0xE9h, or 0xEBh. These hexadecimal values indicate that the file is a
binary file and that it is likely a valid Msdos.sys file.
<P>
This logic is intended to prevent the SYS command from replacing a valid
Windows 95 Msdos.sys file. However, when the SYS command replaces the
existing Msdos.sys file, it replaces the file with an Msdos.sys file that
contains only the text ";SYS." Creating an Msdos.sys file without a
[Paths] section is appropriate when you are replacing the Windows 95
system files on a floppy disk, because the location of the Windows folder
may not be the same on the computer used to create the bootable floppy
disk and the computer on which the floppy disk is used. Creating an
Msdos.sys file without a [Paths] section is not appropriate when you are
replacing the system files on a hard disk, but the SYS command cannot
distinguish between a floppy disk and a hard disk.
<P>
If the first byte in the existing Msdos.sys file is not one of the
hexadecimal values listed above, the SYS command assumes that the file is
a valid Windows 95 Msdos.sys file and does not replace it. Therefore, if
the existing Msdos.sys file is an ASCII text file, or if it is damaged
(and the first character in the file does not happen to be one of the
hexadecimal values listed above), the file is not replaced.
<P>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional query words: 95 corrupted<BR>
Keywords          : win95 winboot kbenv<BR>
Version           : 95<BR>
Platform          : WINDOWS<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  January 16, 1998</FONT>
	<BR>
	<A HREF="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
