

<HTML>
<HEAD>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Using the UNDELETE Command in Windows 95 </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q142189">
<META NAME="KBModify" CONTENT="1996/02/02">
<META NAME="KBCreate" CONTENT="1996/01/07">
<META NAME="Keywords" CONTENT="kbtool kberrmsg">
<META NAME="KBArea" CONTENT="Support; KB; win95x, crossnet, winprint">
<META NAME="Description" CONTENT="  If you try to use the MS-DOS UNDELETE command in Windows 95, you may receive the following error message:     Windows has disabled direct disk access to protect long filenames.    To override this protection, see the LOCK /? command for more    inf...">
<META NAME="Product" CONTENT="Windows 95">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QBWN,QDL9,QBWO,QAEF,QBCT,QAGC,QAGB,QBWQ,QA3W,QAFI,QBV8,QAB9,QABT,QDKD,QDJH V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>Using the UNDELETE Command in Windows 95</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  February 2, 1996</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q142189</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
The information in this article applies to:

<UL><LI>Microsoft Windows 95
</UL> 
<P>
<P><h2>SYMPTOMS</h2>
 
<P>
If you try to use the MS-DOS UNDELETE command in Windows 95, you may
receive the following error message:
<P>
<PRE>   Windows has disabled direct disk access to protect long filenames.
   To override this protection, see the LOCK /? command for more
   information.

   The system has been halted. Press CTRL+ALT+DEL to restart your
   computer.

</PRE><h2>CAUSE</h2>
 
<P>
The UNDELETE command requires direct access to the drive. You must lock
the drive before you issue the UNDELETE command.
<P>
<P><h2>RESOLUTION</h2>
 
<P>
NOTE: The UNDELETE command runs in MS-DOS mode by default. You should run
these commands in MS-DOS mode.
<P>
Lock the drive before you issue the UNDELETE command. To lock the drive,
type
<P>
<PRE>   lock &lt;x&gt;:

</PRE>where &lt;x&gt; is the letter of the drive you want to lock.
<P>
When you are done using the UNDELETE command, unlock the drive by typing
<P>
<PRE>   unlock &lt;x&gt;:

</PRE>where &lt;x&gt; is the letter of the drive you want to unlock.
<P>
WARNING: Using the LOCK command enables direct disk access. A program that
accesses the disk directly can destroy long file names. You should back up
long file names before running a program that could harm them. To back up
long file names, use the Lfnbk.exe program located in the Admin\Apptools\
Lfnbk folder on the Windows 95 CD-ROM. See the Lfnbk.txt file in the same
folder for information about this program.
<P>
The Lfnbk.exe program is included in the CD-ROM version of Windows 95, but
not in the floppy disk version. If you are using the floppy disk version
of Windows 95 and you want to use Lfnbk.exe, please see the following
article in the Microsoft Knowledge Base for information about the
availability of Lfnbk.exe:
<P>
<PRE>   ARTICLE-ID: <B><A HREF="../WIN95X/Q135315.htm">Q135315</A></B>
   TITLE     : CD-ROM Extras for Microsoft Windows 95 Upgrade
</PRE>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
KBCategory: kbtool kberrmsg<BR>
KBSubcategory: win95<BR>
Additional reference words: 95<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  February 2, 1996</FONT>
	<BR>
	<A HREF="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
