

<HTML>
<HEAD>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Long Filenames Cause Problems with Earlier Versions of MS-DOS </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q118493">
<META NAME="KBModify" CONTENT="1996/04/17">
<META NAME="KBCreate" CONTENT="1994/07/20">
<META NAME="Keywords" CONTENT="kbprb kbenv kb3rdparty">
<META NAME="KBArea" CONTENT="Support; KB; win95x, crossnet, winprint">
<META NAME="Description" CONTENT="  One or more of the following symptoms occur while you are running MS-DOS 6.22 or earlier:   - In a directory listing, the volume label is reported incorrectly.   - When you try to remove a partition, Fdisk reports the following error:        Volume...">
<META NAME="Product" CONTENT="Windows 95">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QAC2,QAMB,QA7T,QDL9,QBWO,QBWN,QDJ6,QAVS,QBWQ,QAAP,QAC9,QA2S,QAR4,QANE,QAB9 V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>Long Filenames Cause Problems with Earlier Versions of MS-DOS</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  April 17, 1996</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q118493</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
The information in this article applies to:

<UL><LI>Microsoft Windows 95
</UL> 
<P>
<P><h2>SYMPTOMS</h2>
 
<P>
One or more of the following symptoms occur while you are running MS-DOS
6.22 or earlier:

<UL><LI>In a directory listing, the volume label is reported incorrectly.

<LI>When you try to remove a partition, Fdisk reports the following error:
<P>
<P><PRE>      Volume label does not match
</PRE>
<LI>The Label command reports the following error when changing the volume
   label:
<P>
<P><PRE>      Cannot make directory entry
</PRE>
<LI>Symantec Norton Disk Doctor reports files with names such as AA, AB, and
   AT are too long or too short. Nothing is corrected when Norton Disk
   Doctor tries to fix the files.
<P>
   NOTE: The SCANDISK command in Windows 95 reports no errors.
<P>
</UL><h2>CAUSE</h2>
 
<P>
By design, Windows 95 stores long filename information in directory entries
adjacent to the file being stored. These directory entries have the Read-
Only, Hidden, System, and Volume Label attributes set. Earlier versions of
MS-DOS recognize these entries as the volume label. As long as you continue
to run Windows 95 and use long filenames, the volume label is unchangeable.
<P>
<P><h2>RESOLUTION</h2>
 
<P>
If you have removed Windows 95 from your system and want to correct the
volume label, use one of the following procedures:
<P>
<P><h3>Windows 95 Startup Disk Method</h3>
 

<OL><P><LI>Obtain a Windows 95 Startup Disk that contains the LABEL.EXE
   command line utility for Windows 95.

<P><LI>Boot with the Startup Disk and type the following command:
<P>
<P><PRE>      label &lt;drive&gt;:
</PRE><P>
   where &lt;drive&gt; is the drive with the unusual volume label.

<P><LI>When prompted, enter a new volume label.
<P>
</OL>NOTE: If this procedure does not work, then the MS-DOS 6.x method below
must be used.
<P>
<P><h3>MS-DOS 6.x Method</h3>
 

<OL><P><LI>Back up your hard disk.

<P><LI>Reformat the disk. For example, type the following at the
   MS-DOS command prompt and then press ENTER
<P>
<P><PRE>      format &lt;drive&gt;: /s /v:&lt;label name&gt;
</PRE><P>
   where &lt;drive&gt; is the drive with the unusual volume label and
   &lt;label name&gt; is the new volume name you want to use.

<P><LI>Restore your files.
<P>
</OL><h2>MORE INFORMATION</h2>
 
<P>
Most disk utilities need to be updated to function properly with long
filenames.
<P>
Norton Disk Doctor is manufactured by Symantec, a vendor independent of
Microsoft; we make no warranty, implied or otherwise, regarding this
product's performance or reliability.
<P>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
KBCategory: kbenv kbprb kb3rdparty<BR>
KBSubcategory: wpp95 win95 diskmem lfn<BR>
Additional reference words: 95 3rdparty ndd<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  April 17, 1996</FONT>
	<BR>
	<A HREF="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
