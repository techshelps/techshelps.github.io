

<HTML>
<HEAD>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Contents of the Windows Msdos.sys File </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q118579">
<META NAME="KBModify" CONTENT="1998/02/11">
<META NAME="KBCreate" CONTENT="1994/07/24">
<META NAME="Keywords" CONTENT="kbenv kbhw kbsetup kbtshoot diskmem winboot wpp95 win98 win95">
<META NAME="KBArea" CONTENT="Support; KB; win98x">
<META NAME="Description" CONTENT="  The Windows Setup program creates a file called Msdos.sys in the root folder and sets the file's Read-Only, System, and Hidden attributes. Unlike the Msdos.sys file in MS-DOS, this file is a text file. It contains a [Paths] section that lists the l...">
<META NAME="Product" CONTENT="win98x">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QABA,QBXS,QBAO,QDL9,QBWO,QBWN,QDIV,QBWQ,QBWS,QANY,QBWC,QBVV,QAFI,QA47,QA4P V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>Contents of the Windows Msdos.sys File</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  February 11, 1998</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q118579</B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
********************************************************************
<PRE>     BETA INFORMATION  BETA INFORMATION  BETA INFORMATION  BETA

     This article discusses a Beta release of a Microsoft
     product. The information in this article is provided as-is
     and is subject to change without notice.

     No formal product support is available from Microsoft for
     this Beta product. For information about obtaining support
     for a Beta release, please see the documentation included
     with the Beta product files, or check the Web location
     from which you downloaded the release.

     BETA INFORMATION  BETA INFORMATION  BETA INFORMATION  BETA
</PRE>********************************************************************
<P>
 
The information in this article applies to:

<UL><LI>Microsoft Windows 95
<LI>Microsoft Windows 98
</UL> 
<P>
<P><h2>SUMMARY</h2>
 
<P>
The Windows Setup program creates a file called Msdos.sys in the root
folder and sets the file's Read-Only, System, and Hidden attributes. Unlike
the Msdos.sys file in MS-DOS, this file is a text file. It contains a
[Paths] section that lists the locations for other Windows 95 files (such
as the registry) and an [Options] section that you can use to personalize
the boot process.
<P>
<P><h2>MORE INFORMATION</h2>
 
<P>
The [Paths] section can contain the following settings:
<P>
 
<P>
HostWinBootDrv=&lt;Root of Boot Drive&gt;
<P>
Default:  C
<P>
Purpose:  Specifies the location for the root of the boot drive.
<P>
 
<P>
UninstallDir=&lt;Root of Boot Drive&gt;
<P>
Default:  C
<P>
Purpose:  Specifies the location of the W95undo.dat and W95undo.ini
<PRE>          files. These files are necessary to uninstall Windows 95.

</PRE>NOTE: This setting is present only if you back up your system files when
you are prompted during Windows 95 Setup.
<P>
 
<P>
WinBootDir=&lt;Windows Directory&gt;
<P>
Default:  Directory specified during Setup (for example, C:\WINDOWS)
<P>
Purpose:  Lists the location of the necessary files for booting.
<P>
 
<P>
WinDir=&lt;Windows Directory&gt;
<P>
Default:  Directory specified during Setup (for example, C:\WINDOWS)
<P>
Purpose:  Lists the location of the Windows 95 directory specified
<PRE>          during Setup.

</PRE> 
<P>
The [Options] section can contain the following settings and must be
manually inserted:
<P>
 
<P>
AutoScan=&lt;Number&gt;
<P>
Default:  1
<P>
Purpose:  Defines whether or not ScanDisk is run after a bad shutdown.
<PRE>          A setting of 0 does not run ScanDisk; 1 prompts before
          running ScanDisk; 2 does not prompt before running
          ScanDisk but prompts you before fixing errors if any
          errors are found.

          This setting is used only by OEM Service Release 2.

</PRE> 
<P>
BootDelay=&lt;Seconds&gt;
<P>
Default:  2
<P>
Purpose:  Sets the amount of time the "Starting Windows" message
<PRE>          remains on the screen before Windows 95 continues to boot.

</PRE> 
<P>
BootSafe=&lt;Boolean&gt;
<P>
Default:  0
<P>
Purpose:  A setting of 1 forces your computer to boot in safe mode.
<P>
 
<P>
BootGUI=&lt;Boolean&gt;
<P>
Default:  1
<P>
Purpose:  A setting of 1 forces the loading of the GUI interface. A
<PRE>          setting of 0 disables the loading of the GUI interface.

</PRE> 
<P>
BootKeys=&lt;Boolean&gt;
<P>
Default:  1
<P>
Purpose:  A setting of 1 enables the use of the function key boot
<PRE>          options (that is, F4, F5, F6, and F8). A setting of 0 disables
          the use of these function keys during the boot process

</PRE>NOTE: A setting of BootKeys=0 overrides the use of BootDelay=n.
<P>
 
<P>
BootMenu=&lt;Boolean&gt;
<P>
Default:  0
<P>
Purpose:  A setting of 1 enables the Startup menu. If this setting is 0,
<PRE>          then you must press the F8 key when "Starting Windows 95"
          appears to invoke the Startup menu.

</PRE> 
<P>
BootMenuDefault=&lt;Number&gt;
<P>
Default:  1 if the system is running correctly
<PRE>          3 if the system hung in the previous instance

</PRE>Purpose:  Use this setting to set the default menu item for startup.
<P>
 
<P>
BootMenuDelay=&lt;Number&gt;
<P>
Default:  30
<P>
Purpose:  This setting is used to set the number of seconds your system
<PRE>          will pause on the Startup menu. If the number of seconds counts
          down to 0 without intervention, the BootMenuDefault is activated.

</PRE>NOTE: This option is not functional unless BootMenu=1 has been added to the
[Options] section of the Msdos.sys file.
<P>
 
<P>
BootMulti=&lt;Boolean&gt;
<P>
Default:  0
<P>
Purpose:  A setting of 0 disables the multi-boot option. (For example,
<PRE>          with a setting of 0 you cannot boot your previous operating
          system.) A setting of 1 enables the F4 and F8 keys to boot your
          previous operating system.

</PRE>NOTE: This setting is set to 0 by default to prevent you from
<PRE>      inadvertently starting MS-DOS and damaging data by running a
      disk utility that does not recognize long file names.

</PRE> 
<P>
BootWarn=&lt;Boolean&gt;
<P>
Default:  1
<P>
Purpose:  A setting of 0 disables the safe mode boot warning message and
<PRE>          the Startup menu.

</PRE> 
<P>
BootWin=&lt;Boolean&gt;
<P>
Default:  1
<P>
Purpose:  A setting of 1 forces Windows 95 to load at startup. A setting
<PRE>          of 0 disables Windows 95 as your default operating system (this
          is useful only if you have MS-DOS version 5.x or 6.x on the
          computer).

</PRE>NOTE: Pressing F4 inverts the default only if BootMulti=1. (For example,
<PRE>      pressing the F4 key with a setting of 0 forces Windows 95 to load.)

</PRE> 
<P>
DoubleBuffer=&lt;Boolean&gt;
<P>
Default:  0
<P>
Purpose:  A setting of 1 is a conditional setting that enables double-
<PRE>          buffering for controllers that need it (for example, SCSI
          controllers). A setting of 2 is an unconditional setting that
          enables double-buffering regardless of whether the controller
          needs it or not.

</PRE> 
<P>
DBLSpace=&lt;Boolean&gt;
<P>
Default:  1
<P>
Purpose:  A setting of 1 allows the automatic loading of the DBLSPACE.BIN
<PRE>          file. A setting of 0 prevents the automatic loading of this
          file.

</PRE>NOTE: Windows 95 uses either Dblspace.bin or Drvspace.bin if either is
present in the root folder of the boot drive at startup. To disable a
compression driver from being loaded at startup, use both settings in the
Msdos.sys file. For example:
<P>
<PRE>   DBLSpace=0
   DRVSpace=0

</PRE> 
<P>
DRVSpace=&lt;Boolean&gt;
<P>
Default:  1
<P>
Purpose:  A setting of 1 allows the automatic loading of the DRVSPACE.BIN
<PRE>          file. A setting of 0 prevents the automatic loading of this
          file.

</PRE>NOTE: Windows 95 uses either Dblspace.bin or Drvspace.bin if either is
present in the root folder of the boot drive at startup. To disable a
compression driver from being loaded at startup, use both settings in the
Msdos.sys file. For example:
<P>
<PRE>   DBLSpace=0
   DRVSpace=0

</PRE> 
<P>
LoadTop=&lt;Boolean&gt;
<P>
Default:  1
<P>
Purpose:  A setting of 0 does not let Windows 95 load COMMAND.COM or
<PRE>          DRVSPACE.BIN/DBLSPACE.BIN at the top of 640K. If you are having
          compatibility problems with software that makes assumptions about
          the available memory try setting this to 0.

</PRE> 
<P>
Logo=&lt;Boolean&gt;
<P>
Default:  1
<P>
Purpose: A setting of 1 forces the default Windows 95 logo to appear. A
<PRE>         setting of 0 prevents the animated logo from being displayed.
         A setting of 0 also avoids hooking a variety of interrupts
         that can create incompatibilities with certain third-party
         memory managers.

</PRE> 
<P>
Network=&lt;Boolean&gt;
<P>
Default:  0
<P>
Purpose:  A setting of 1 means the network was installed and adds "Safe
<PRE>          mode with network support" as an option on the Windows 95
          Startup menu.

</PRE> 
<P>
The Msdos.sys file also contains a section that contains seemingly useless
information. This information is necessary to support programs that expect
the Msdos.sys file to be at least 1024 bytes in length. For example, if an
anti-virus program detects that the Msdos.sys file is less than 1024 bytes,
it may assume that the Msdos.sys file is infected with a virus. If you
delete the Msdos.sys file your computer will not start.
<P>
The following statement, followed by a series of "X"s, appears in the
Msdos.sys file:
<P>
<PRE>   ;The following lines are required for compatibility with other programs.
   ;Do not remove them (Msdos.sys needs to be &gt;1024 bytes).

</PRE>Since each line begins with a semicolon (;), the lines are not read by the
system.
<P>
<P><h3>How to Edit the Msdos.sys File</h3>
 
<P>
If you want to change any of the values in the Msdos.sys file, follow these
steps to edit the file:

<OL><P><LI>Click Start, point to Find, then click Files Or Folders.

<P><LI>In the Named box, type "msdos.sys" (without quotation marks). In the
   Look In box, click your boot drive (usually drive C, or drive H if
   drive C is compressed). Click the Find Now button.

<P><LI>Right-click the Msdos.sys file and then click Properties.

<P><LI>Click the Read-Only and Hidden check boxes to clear them to remove these 
   attributes from the Msdos.sys file, and then click OK.

<P><LI>Right-click the Msdos.sys file and then click Open With.

<P><LI>In the "Choose the program you want to use" box, click WordPad and
   then click OK.

<P><LI>Make the changes you want to the Msdos.sys file. When you are done,
   save the file as a text document, and then quit WordPad.

<P><LI>Right-click the Msdos.sys file, and then click Properties.

<P><LI>Click the Read-Only and Hidden check boxes to select them to set these
   attributes for the file, and then click OK. Close the Find window.

<P><LI>Quit and then restart Windows.
<P></OL>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional query words: 95<BR>
Keywords          : kbenv kbhw kbsetup kbtshoot diskmem winboot wpp95 win98 win95<BR>
Version           : 95<BR>
Platform          : WINDOWS<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  February 11, 1998</FONT>
	<BR>
	<A HREF="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
