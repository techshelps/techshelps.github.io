

<HTML>
<HEAD>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Causes of General Protection Faults </TITLE>

<!--STYLE_BEGIN-->
<style>@import url(../../msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="../../msdn_ie3.css">
<!--STYLE_END-->

<META HTTP-EQUIV="CONTENT-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="ms.locale" CONTENT="EN-US">
<META NAME="Category" CONTENT="Support; KB Article">
<META NAME="KBID" CONTENT="Q82710 ">
<META NAME="KBModify" CONTENT="1998/02/11">
<META NAME="KBCreate" CONTENT="1992/03/31">
<META NAME="Keywords" CONTENT="wfwg win31 winmem win98">
<META NAME="KBArea" CONTENT="Support; KB; win98x">
<META NAME="Description" CONTENT="  Intel 80286, 80386, and 80486 CPUs can detect when a program does something wrong. The most common problems are stack faults, invalid instructions, divide errors (divide by zero), and general protection faults. These generally indicate nonstandard ...">
<META NAME="Product" CONTENT="win98x">
<META NAME="Platform" CONTENT="Windows">
<META NAME="Technology" CONTENT=" ">
<META NAME="Premium" CONTENT="support">

<META NAME="nyms" CONTENT="QA47,QDL9,QBWO,QBWN,QADN,QAHC,QAH4,QBWQ,QAYY,QAHB,QABN,QAKN,QAJH,QBVV,QA7R V02180118">
</HEAD>

<BODY BGCOLOR="#FFFFFF" LEFTMARGIN="0" RIGHTMARGIN="0" TOPMARGIN="0">


<!--DOCBODY_START-->
<BR>
<CENTER>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" VALIGN="top" WIDTH="90%">
	<TR>
		<TD VALIGN="top">
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<H1>Causes of General Protection Faults</H1>
			</FONT>
			<FONT FACE="verdana,arial,helvetica" SIZE="1">
			Last reviewed:  February 11, 1998</FONT><BR>
			<FONT FACE="verdana,arial,helvetica" SIZE="2">
			<B>Article ID: Q82710 </B>
			</FONT>
		</TD>
	</TR>
	<TR>
	<TD>
	<FONT FACE="Verdana, Arial, Helvetica" SIZE=2>



 
********************************************************************
<PRE>     BETA INFORMATION  BETA INFORMATION  BETA INFORMATION  BETA

     This article discusses a Beta release of a Microsoft
     product. The information in this article is provided as-is
     and is subject to change without notice.

     No formal product support is available from Microsoft for
     this Beta product. For information about obtaining support
     for a Beta release, please see the documentation included
     with the Beta product files, or check the Web location
     from which you downloaded the release.

     BETA INFORMATION  BETA INFORMATION  BETA INFORMATION  BETA
</PRE>********************************************************************
<P>
 
The information in this article applies to:

<UL><LI>Microsoft Windows operating system versions 3.1, 3.11
<LI>Microsoft Windows 98
</UL> 
<P>
<P><h2>SUMMARY</h2>
 
<P>
Intel 80286, 80386, and 80486 CPUs can detect when a program does
something wrong. The most common problems are stack faults, invalid
instructions, divide errors (divide by zero), and general protection
faults. These generally indicate nonstandard code in an application.
<P>
<P><h2>MORE INFORMATION</h2>
 
<P>
The following faults can occur in a Windows application, in Windows
itself, or in a Windows device driver (for example, a video display
driver).
<P>
<P><h3>Stack Fault (Interrupt 12)</h3>
 
<P>
Reasons for a stack fault are:

<UL><LI>An instruction tries to access memory beyond the limits of the
   Stack segment (POP, PUSH, ENTER, LEAVE, or a stack relative access:
   MOV AX, [BP+6]).

<LI>Loading SS with a selector marked not present, but otherwise valid
   (shouldn't happen under Windows).
<P>
</UL>Stack faults are always fatal to the current application in Windows.
<P>
<P><h3>Invalid Instruction (Interrupt 6)</h3>
 
<P>
The CPU detects most invalid instructions, and generates an Interrupt
6. This is always fatal to the application. This should never happen,
and is usually caused by executing data instead of code.
<P>
<P><h3>Divide Error (Interrupt 0)</h3>
 
<P>
This is caused when the destination register cannot hold the result of
a divide operation. It could be divide by zero, or divide overflow.
<P>
<P><h3>General Protection Fault (Interrupt 13)</h3>
 
<P>
All protection violations that do not cause another exception cause a
general protection exception. This includes, but is not limited to:

<UL><LI>Exceeding the segment limit when using the CS, DS, ES, FS, GS
   segments. This is a very common bug in programs, usually caused by
   miscalculating how much memory is required in an allocation.

<LI>Transferring execution to a segment that is not executable
   (for example, jumping to a location that contains garbage).

<LI>Writing to a read-only or a code segment.

<LI>Loading a bad value into a segment register.

<LI>Using a NULL pointer. A value of 0 is defined as a null pointer. In
   protected mode, it is always invalid to use a segment register that
   contains 0.
<P></UL>

	</FONT>
	</TD>
	</TR>
</TABLE>
<P>


<!--DOCBODY_END-->

<!--FOOTER_START-->
<table cellpadding=5 border=0 width="90%">
<tr>
<td>
	<HR WIDTH="90%">

<BLOCKQUOTE>
<FONT FACE="Verdana, Arial, Helvetica" SIZE="1">
<SPAN STYLE="font-family:verdana,arial,helvetica; font-size:8pt">
Additional query words: 3.10 gpfault 3.0a<BR>
Keywords          : wfwg win31 winmem win98<BR>
Version           : WINDOWS:3.1,3.11,98<BR>
Platform          : WINDOWS<BR>
Issue type        : kbinfo<BR>

</SPAN>
</FONT>
<BR>
<BR>
THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
SO THE FOREGOING LIMITATION MAY NOT APPLY.
</BLOCKQUOTE>
<P>
<center>
	<FONT FACE="Verdana,Arial,Helvetica" SIZE="1">
	Last reviewed:  February 11, 1998</FONT>
	<BR>
	<A HREF="../cpyright.htm" STYLE="font: bold 7pt Verdana,Arial,Helvetica">&copy; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A><BR>
	
</center>
</td>
</tr>
</table>

<!--FOOTER_END-->
</FONT>
</BODY>
</HTML>
