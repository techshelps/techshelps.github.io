<html>
<head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>12.9 Virtual Machine Exit</title>
<META NAME=MS-HAID CONTENT="12_9">
<style>@import url(stylesheets/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="stylesheets/msdn_ie3.css"></head>
<body bgcolor=#ffffff>

<h2>12.9	 Virtual Machine Exit</h2>
<a name="44857"></a>
<p>
<a name="44858"></a>
A Java Virtual Machine terminates all its activity and <i>exits</i> when one of two things 
happens:
<p><ul><a name="44862"></a>
<li>All the threads that are not daemon threads <a href="20_20.htm#2860">(&#167;20.20.24)</a> terminate.
<a name="44866"></a>
<li>Some thread invokes the <code>exit</code> method <a href="20_16.htm#34351">(&#167;20.16.2)</a> of class <code>Runtime</code> or class <code>System</code> and the exit operation is not forbidden by the security manager <a href="20_17.htm#14111">(&#167;20.17.13)</a>.
</ul><p><a name="44870"></a>
A Java program can specify that the finalizers of all objects that have finalizers, 
and all classes that have class finalizers, that have not yet been automatically 
invoked are to be run before the virtual machine exits. This is done by invoking 
the method <code>runFinalizersOnExit</code> of class <code>System</code> with the argument <code>true</code>. The 
default is to not run finalizers on exit, and this behavior may be restored by invoking <code>runFinalizersOnExit</code> with the argument <code>false</code>. An invocation of the <code>runFinalizersOnExit</code> method is permitted only if the caller is allowed to <code>exit</code>, and 
is otherwise rejected by the <code>SecurityManager</code> <a href="20_17.htm#14464">(&#167;20.17)</a>.

<p><i>. . . Farewell!<br>
The day frowns more and more. Thou'rt like to have<br>
A lullaby too rough: I never saw<br>
The heavens so dim by day: A savage clamour!<br>
Well may I get aboard! This is the chase.<br>
I am gone for ever!</i> [Exit, pursued by a bear]<br>
&#151;William Shakespeare, <i>The Winter's Tale</i>, Act III, scene iii</p>
<p>
<p>

<hr>
<p>
<br>
</font>
</body></html>
