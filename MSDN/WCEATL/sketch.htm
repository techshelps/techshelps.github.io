<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>SKETCH/SKETCNTR</title>
<style>@import url(msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="msdn_ie3.css"></HEAD>
<BODY BGCOLOR=#FFFFFF TEXT=#000000>

<h2><a name="_vcce_sketch_sketcntr"></a>SKETCH/SKETCNTR</h2>
<p>
The SKETCH sample demonstrates how to capture mouse/stylus messages and use them to draw on the screen. The SKETCNTR sample is a simple dialog box application that provides a container for the CSketcCtl control.</p>
<p>
The CSKETCNTRDlg dialog box class has one public variable, m_Sketch, which is a CSketcCtl object. The dialog box also has an "Erase" button.</p>
<p>
The CSketcCtl class implements the ISketcCtl interface in addition to the <b>IUnknown</b> and <b>IDispatch</b> interfaces. It supports a dual interface, so you can either access the ISketcCtl methods through <b>IDispatch::Invoke</b> or call them directly by way of the vtable. ISketcCtl exposes three methods, get_PenWidth, put_PenWidth, and Erase. The CSketcCtl class has seven data members. The left, right, top, and bottom data members contain the x an y coordinates of the lop left and bottom right corners, respectively, of the rectangle occupied by the control. These members are used for drawing and erasing the control. The bLBDown member indicates whether the stylus tip is touching the touch screen (which is equivalent to the left button being pressed on a mouse). The m_PenWidth member specifies the current width in pixels of the pen. The line member is an array of two <b>POINT</b> structures. The <b>POINT</b> at line[0] represents the coordinates for the beginning of a line, and the <b>POINT</b> at line[1] represents the coordinates for the end of the line.</p>
<p>
When you touch the dialog box with the stylus, in the area occupied by the Sketch control, it sends the Sketch Control a WM_LBUTTONDOWN message. The CSketcCtl::OnLButtonDown handler sets bLBDown to <b>TRUE</b>, and assigns the coordinates of the stylus tip to the <b>POINT</b> at line[0]. When you move the stylus on the touch screen, it sends a WM_MOUSEMOVE message. The CSketcCtl::OnMouseMove handler sets the value at line[1] to the current coordinates of the stylus tip, draws a line from the point represented by line[0] to the point represented by line[1], then replaces the value at line[0] with the current value at line[1]. When you lift the stylus from the screen, it sends a WM_LBUTTONUP message. The CSketcCtl::OnLButtonUp handler sets bLBDown to <b>FALSE</b>. When you tap the "Erase" button on the CSKETCNTRDlg dialog box, it calls the Sketch control's ISketcCtl::Erase method, which erases the contents of the control.</p>
<p>
The dialog box doesn't provide a way to access the ISketcCtl::get_PenWidth and ISketcCtl::put_PenWidth methods, but you could easily add features to take advantage of this functionality. These methods simply set and retrieve the value of the CSketcCtl::m_PenWidth member, which is used to set the pen width in the OnMouseMove handler.</p>
<p>
This sample demonstrates the following keywords:</p>
<p class=indent1>
<object id=alink_1 type="application/x-oleobject"
	classid="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
<PARAM name="Command" value="ALink,MENU">
<PARAM name="DefaultTopic" value="notopic.htm">
<PARAM name="Item1" value="">
<PARAM name="Item2" value="_wcesdk_win32_GetDC">
</object><a href=JavaScript:alink_1.Click()><b>GetDC</b></a></p>
<p class=indent1>
<object id=alink_2 type="application/x-oleobject"
	classid="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
<PARAM name="Command" value="ALink,MENU">
<PARAM name="DefaultTopic" value="notopic.htm">
<PARAM name="Item1" value="">
<PARAM name="Item2" value="_wcesdk_win32_Polyline">
</object><a href=JavaScript:alink_2.Click()><b>Polyline</b></a></p>
<p class=indent1>
<object id=alink_3 type="application/x-oleobject"
	classid="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
<PARAM name="Command" value="ALink,MENU">
<PARAM name="DefaultTopic" value="notopic.htm">
<PARAM name="Item1" value="">
<PARAM name="Item2" value="_wcesdk_win32_Rectangle">
</object><a href=JavaScript:alink_3.Click()><b>Rectangle</b></a></p>
<p class=indent1>
<object id=alink_4 type="application/x-oleobject"
	classid="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
<PARAM name="Command" value="ALink,MENU">
<PARAM name="DefaultTopic" value="notopic.htm">
<PARAM name="Item1" value="">
<PARAM name="Item2" value="_atl_CWindow.3a3a.ReleaseDC">
</object><a href=JavaScript:alink_4.Click()><b>ReleaseDC</b></a></p>
<p class=indent1>
<object id=alink_5 type="application/x-oleobject"
	classid="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
<PARAM name="Command" value="ALink,MENU">
<PARAM name="DefaultTopic" value="notopic.htm">
<PARAM name="Item1" value="">
<PARAM name="Item2" value="_wcesdk_win32_SelectObject">
</object><a href=JavaScript:alink_5.Click()><b>SelectObject</b></a></p>
<p>
You can find the SKETCH project files in the Wce\Samples\Atl\SKETCH directory.</p>
<p>
You can find the SKETCNTR project files in the Wce\Samples\Atl\SKETCNTR directory.</p>
<p>
To build the SKETCH and SKETCNTR samples, follow the procedure described in <object id=alink_6 type="application/x-oleobject"
	classid="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
<PARAM name="Command" value="ALink,MENU">
<PARAM name="DefaultTopic" value="notopic.htm">
<PARAM name="Item1" value="">
<PARAM name="Item2" value="_wcesdk_Building_the_Sample_Applications">
</object><a href=JavaScript:alink_6.Click()>Building the Sample Applications</a>, selecting one or more of the following project configurations. </p>
<ul>
<li>
WCE x86em (Desktop PC Windows CE emulation)</li>
<li>
WCE x86</li>
<li>
WCE PPC</li>
<li>
WCE MIPS</li>
<li>
WCE SH</li>
</ul>
<p>
</p>
<p>&nbsp;</p></body>
</HTML>
