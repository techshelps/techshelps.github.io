<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>ACDSMPL.H</title>
<link disabled rel=stylesheet href=../../../../../../../backsdk3.css>
<style type="text/css">
@import url(../../../../../../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>
<h2><a name="_code_context5169"></a>ACDSMPL.H</h2>
<pre><code>#ifndef _ACDSMPL_ <br>#define _ACDSMPL_ <br> <br>#include &lt;windows.h&gt; <br>#include &lt;commdlg.h&gt; <br>#include &lt;commctrl.h&gt; <br>#include &lt;tapi.h&gt; <br> <br>/////////////////////////////////////////////////////////////////////////// <br>// <br>//  STRUCTURES <br>// <br>/////////////////////////////////////////////////////////////////////////// <br> <br>typedef struct _tagLISTITEM; <br> <br>typedef struct <br>{ <br>    DWORD                   dwState; <br>    DWORD                   dwNextState; <br>    DWORD                   dwActivity; <br>     <br>} ADDRESSINFO, * PADDRESSINFO; <br> <br>typedef struct _tagAGENT <br>{ <br>    DWORD                   dwKey; <br>    DWORD                   dwSize; <br>    struct _tagAGENT *      pNext; <br>    struct _tagAGENT *      pPrev; <br>    LPTSTR                  lpszName; <br>    LPTSTR                  lpszNumber; <br>    HTREEITEM               hItem; <br>    DWORD                   dwDeviceID; <br>    DWORD                   dwPermID; <br>    HLINE                   hLine; <br>    DWORD                   dwNumAddresses; <br>    PADDRESSINFO            pAddressInfo; <br>     <br>}   AGENT, * PAGENT; <br> <br>typedef struct _tagGROUP <br>{ <br>    DWORD                   dwKey; <br>    DWORD                   dwSize; <br>    struct _tagGROUP *      pNext; <br>    struct _tagGROUP *      pPrev; <br>    LPTSTR                  lpszName; <br>    HTREEITEM               hItem; <br>    HLINE                   hLine; <br>    DWORD                   dwDeviceID; <br>    DWORD                   dwAddress; <br>    struct _tagLISTITEM *   pAgentList; <br>     <br>}   GROUP, * PGROUP; <br> <br>typedef struct _tagGENERICSTRUCT <br>{ <br>    DWORD                       dwKey; <br>    DWORD                       dwSize; <br>    struct _tagGENERICSTRUCT *  pNext; <br>    struct _tagGENERICSTRUCT *  pPrev; <br>     <br>}  GENERICSTRUCT, * PGENERICSTRUCT; <br> <br>typedef struct _tagLISTITEM <br>{ <br>    DWORD                   dwKey; <br>    DWORD                   dwSize; <br>    struct _tagLISTITEM *   pNext; <br>    struct _tagLISTITEM *   pPrev; <br>    PAGENT                  pAgent; <br>    BOOL                    bLoggedIn; <br>    DWORD                   dwAddress; <br>     <br>}   LISTITEM, * PLISTITEM; <br> <br> <br>typedef struct _tagACDGLOBALS <br>{ <br>    PAGENT         pAgents; <br>    PGROUP         pGroups; <br>    DWORD          dwNumAgents; <br>    DWORD          dwNumGroups; <br>    LPDWORD        pdwPermIDs; <br>    HINSTANCE      hInstance; <br>    HLINEAPP       hLineApp; <br>    DWORD          dwNumDevs; <br>    HWND           hMainWnd; <br>    HWND           hTreeWnd; <br>    HWND           hLogWnd; <br>    BOOL           bGroupView; <br>    DWORD          dwBarLocation; <br>    HTREEITEM      hAgentParent; <br>    HTREEITEM      hGroupParent; <br>    HTREEITEM      hTreeItemWithMenu; <br>     <br>} ACDGLOBALS, * LPACDGLOBALS; <br> <br> <br>//////////////////////////////////////////////////////////////////////////////////////////////// <br>// <br>//  PROTOTYPES <br>// <br>//////////////////////////////////////////////////////////////////////////////////////////////// <br> <br>// memory <br>LPVOID ACDAlloc(DWORD dwSize); <br> <br>void ACDFree(LPVOID pBuf); <br> <br>LPVOID ACDReAlloc(LPVOID pBuf, <br>                  DWORD dwSize); <br> <br>// tapi utils <br>LINEADDRESSCAPS * LineGetAddressCaps (HLINEAPP hLineApp, <br>                                      DWORD    dwDeviceID, <br>                                      DWORD    dwAddressID); <br> <br>LINECALLINFO * LineGetCallInfo (HCALL hCall); <br> <br>LINEDEVCAPS * LineGetDevCaps (HLINEAPP hLineApp, <br>                              DWORD    dwDeviceID); <br> <br>VARSTRING * LineGetID (HLINE  hLine, <br>                       DWORD  dwAddressID, <br>                       HCALL  hCall, <br>                       DWORD  dwSelect, <br>                       LPCTSTR lpszDeviceClass); <br> <br>LINECALLSTATUS * LineGetCallStatus (HCALL hCall); <br> <br>// list utils <br>BOOL InsertStruct(PGENERICSTRUCT * ppRoot, <br>                  PGENERICSTRUCT pStruct); <br> <br>BOOL DeleteStruct(PGENERICSTRUCT * ppRoot, <br>                  PGENERICSTRUCT pStruct); <br> <br>PGROUP AddGroup(LPTSTR lpszName, <br>                 DWORD dwDeviceID, <br>                 DWORD dwAddress); <br> <br>PAGENT AddAgent(LPTSTR lpszName, <br>                LPTSTR lpszNumber, <br>                DWORD dwDeviceID); <br> <br>BOOL DeleteAgent(PAGENT pAgent); <br> <br>BOOL DeleteGroup(PGROUP pGroup); <br> <br>BOOL InsertIntoGroupList(PGROUP pGroup, <br>                         PAGENT pAgent); <br> <br>BOOL RemoveFromGroupList(PGROUP pGroup, <br>                         PAGENT pAgent); <br> <br>DWORD GetDeviceID(DWORD dwPermID); <br> <br>PAGENT GetAgentFromhLine(HLINE hLine); <br> <br>PAGENT GetAgentFromName(LPTSTR lpszName); <br> <br>PLISTITEM IsAgentInList(PLISTITEM pList, <br>                        PAGENT pAgent); <br> <br>/////////////////////////////////////////////////////////////////////////// <br>// <br>//  DEFINES <br>// <br>/////////////////////////////////////////////////////////////////////////// <br> <br>#define TOTALACTIVITIES     10 <br>#define NUMGROUPENTRIES     10 <br>#define NAMESIZE            128 <br> <br>// structure keys <br>#define GROUPROOTKEY        'GRRT' <br>#define AGENTROOTKEY        'AGRT' <br>#define AGENTKEY            'AGNT' <br>#define GROUPKEY            'GROU' <br>#define LISTKEY             'LIST' <br> <br> <br>// window control defines <br>#define SIZEBAR             3 <br>#define WINDOWSCALEFACTOR   15 <br> <br>#define SZAPPNAME           TEXT("ACD Sample") <br> <br>#endif <br> </code></pre>
<p>&nbsp;</p></body>
</HTML>
