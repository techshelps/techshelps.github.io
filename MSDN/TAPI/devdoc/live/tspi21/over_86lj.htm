<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Digit Gathering</title>
<link disabled rel=stylesheet href=../../backsdk3.css>
<style type="text/css">
@import url(../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h3><a name="_tspi_digit_gathering"></a>Digit Gathering</h3>
<p>
Besides enabling digit monitoring and being notified of digits one at a time, tapi32.dll can also request that multiple digits be collected in a buffer. Only when the buffer is full or when some other termination condition is met is tapi32.dll notified. Digit gathering is useful for functions such as credit card number collection. tapi32.dll invokes <a href="func1_625v.htm"><b>TSPI_lineGatherDigits</b></a>, specifying a buffer to fill with digits. Digit gathering terminates when one of a number of conditions is true.
<ul>
<li>
The requested number of digits has been collected.</li>
<li>
One of multiple termination digits is detected. The termination digits are specified to <b>TSPI_lineGatherDigits</b>, and the termination digit is placed in the buffer as well.</li>
<li>
One of two timeouts expires. The timeouts are a first digit timeout, specifying the maximum duration before the first digit must be collected, and an interdigit timeout, specifying the maximum duration between successive digits.</li>
<li>
Digit gathering is canceled explicitly by invoking <a href="func1_625v.htm"><b>TSPI_lineGatherDigits</b></a> again with either another set of parameters (as with a new buffer) to start a new gathering request or by using a NULL digit buffer parameter to simply cancel.</li>
</ul>
<p>
When terminated for whatever reason, a <a href="messgs_7e9f.htm">LINE_GATHERDIGITS</a> message is sent to the application that requested the digit gathering. </p>
<p>
<b>Note</b>&nbsp;&nbsp;Only a single digit gathering request can be outstanding on a call at any given time.</p>
<p>
Digit gathering and digit monitoring can be enabled on the same call at the same time. In that case, tapi32.dll receives a <a href="messgs_5243.htm">LINE_MONITORDIGITS</a> message for each detected digit and a separate LINE_GATHERDIGITS message when the buffer is sent back.</p>
<p>&nbsp;</p></body>
</HTML>
