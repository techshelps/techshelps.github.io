<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>TSPI_lineSetCallQualityOfService</title>
<link disabled rel=stylesheet href=../../backsdk3.css>
<style type="text/css">
@import url(../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h1><a name="_tspi_tspi_linesetcallqualityofservice"></a>TSPI_lineSetCallQualityOfService</h1>
<p>
The <b>TSPI_lineSetCallQualityOfService</b> function service provider attempts to renegotiate the QOS on the call with the switch If the desired QOS is not available, then the function fails, but the call continues with the previous QOS. If the function succeeds, the new QOS information is stored in <a href="struc1_1ks2.htm"><b>LINECALLINFO</b></a>; a LINECALLINFOSTATE_QOS message is sent by the service provider to indicate the updated values.</p>
<pre><code><b>LONG TSPIAPI TSPI_lineSetCallQualityOfService(
  DRV_REQUESTID</b><i> dwRequestID</i><b>,  </b>
<b>  HDRVCALL</b><i> hdCall</i><b>,           </b>
<b>  LPVOID</b><i> lpSendingFlowspec</i><b>,  </b>
<b>  DWORD</b><i> dwSendingFlowspecSize</i><b>,  </b>
<b>  LPVOID</b><i> lpReceivingFlowspec</i><b>,  </b>
<b>  DWORD</b><i> dwReceivingFlowspecSize  </i>
<b>);</b>
 </code></pre>
<h4>Parameters</h4>
<dl>
<dt>
<i>dwRequestID</i></dt>
<dd>
Identifier for reporting asynchronous function results.</dd>
<dt>
<i>hdCall</i></dt>
<dd>
The service provider's handle to the call.</dd>
<dt>
<i>lpSendingFlowspec</i></dt>
<dd>
Pointer to memory containing a WinSock2 <b>FLOWSPEC</b> structure followed by provider-specific data. The provider-specific portion following the <b>FLOWSPEC</b> structure must not contain pointers to other blocks of memory in the application process, because TAPI does not know how to marshal the data pointed to by the private pointer(s) and convey it through interprocess communication to the service provider.</dd>
<dt>
<i>dwSendingFlowspecSize</i></dt>
<dd>
The total size in bytes of the <b>FLOWSPEC</b> and accompanying provider-specific data, equivalent to what would have been stored in SendingFlowspec.len in a WinSock2 <b>QOS</b> structure.</dd>
<dt>
<i>lpReceivingFlowspec</i></dt>
<dd>
Pointer to memory containing a WinSock2 <b>FLOWSPEC</b> structure followed by provider-specific data. The provider-specific portion following the <b>FLOWSPEC</b> structure must not contain pointers to other blocks of memory in the application process, because TAPI does not know how to marshal the data pointed to by the private pointer(s) and convey it through interprocess communication to the service provider.</dd>
<dt>
<i>dwReceivingFlowspecSize</i></dt>
<dd>
The total size in bytes of the <b>FLOWSPEC</b> and accompanying provider-specific data, equivalent to what would have been stored in ReceivingFlowspec.len in a WinSock2 <b>QOS</b> structure.
</dd>
</dl>
<h4>Return Values</h4>
<p>
Returns <b>dwRequestID</b> if the asynchronous operation starts; otherwise, the function returns one of these negative error values: </p>
<p>
LINEERR_INVALCALLSTATE, LINEERR_INVALRATE, LINEERR_NOMEM, LINEERR_OPERATIONFAILED, LINEERR_RATEUNAVAIL, LINEERR_RESOURCEUNAVAIL. </p>
<h4>See Also</h4>
<p>
<a href="struc1_1ks2.htm"><b>LINECALLINFO</b></a> </p>
<p>&nbsp;</p></body>
</HTML>
