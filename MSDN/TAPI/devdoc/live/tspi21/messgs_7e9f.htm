<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>LINE_GATHERDIGITS</title>
<link disabled rel=stylesheet href=../../backsdk3.css>
<style type="text/css">
@import url(../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h1><a name="_tspi_line_gatherdigits"></a>LINE_GATHERDIGITS</h1>
<p>
The LINE_GATHERDIGITS message is sent to the <a href="func3_7q7o.htm"><b>LINEEVENT</b></a> callback function when the current buffered digit gathering request has terminated. This message is not sent when digit gathering is canceled. The digit buffer can be examined after this message has been received. The effect of examining the digit buffer before this message has been received is undefined.</p>
<pre><code>LINE_GATHERDIGITS
htLine = (HTAPILINE) hLineDevice;
htCall = (HTAPICALL) hCallDevice;
dwMsg = (DWORD) LINE_GATHERDIGITS;
dwParam1 = (DWORD) LineGatherTerminate;
dwParam2 = (DWORD) dwEndToEndID;
dwParam3 = (DWORD) dwTickCount;
 </code></pre>
<h4>Parameters</h4>
<dl>
<dt>
<i>htLine</i></dt>
<dd>
The TAPI opaque object handle to the line device.</dd>
<dt>
<i>htCall</i></dt>
<dd>
The TAPI opaque object handle to the call device.</dd>
<dt>
<i>dwMsg</i></dt>
<dd>
The value LINE_GATHERDIGITS.</dd>
<dt>
<i>dwParam1</i></dt>
<dd>
Specifies the reason why digit gathering was terminated. This parameter can be one of the following LINEGATHERTERM_ constants: 
<dl>
<dt>
LINEGATHERTERM_BUFFERFULL </dt>
<dd>
The requested number of digits has been gathered. The buffer is full. </dd>
<dt>
LINEGATHERTERM_TERMDIGIT </dt>
<dd>
One of the termination digits matched a received digit. The matched termination digit is the last digit in the buffer. </dd>
<dt>
LINEGATHERTERM_FIRSTTIMEOUT </dt>
<dd>
The first digit timeout expired. The buffer contains no digits. </dd>
<dt>
LINEGATHERTERM_INTERTIMEOUT </dt>
<dd>
The inter-digit timeout expired. The buffer contains at least one digit. </dd>
<dt>
LINEGATHERTERM_CANCEL </dt>
<dd>
The request was canceled by a subsequent <a href="func1_625v.htm"><b>TSPI_lineGatherDigits</b></a> request, or because the call terminated. </dd>
</dl>
</dd>
<dt>
<i>dwParam2</i></dt>
<dd>
The <i>dwEndToEndID</i> that was specified in the original <b>TSPI_lineGatherDigits</b> request for which this is the final result.</dd>
<dt>
<i>dwParam3</i></dt>
<dd>
Service providers shall insert into <i>dwParam3</i> the "tick count" (number of milliseconds since Windows started), obtained from <b>GetTickCount</b>, at which the digit gathering completed.
</dd>
</dl>
<h4>Remarks</h4>
<p>
Calling <a href="func1_625v.htm"><b>TSPI_lineGatherDigits</b></a> while digit gathering is in progress cancels the current digit gathering request and starts a new one, but does not result in the service provider sending this message.</p>
<p>
The corresponding message at the TAPI level does not include an end-to-end identifier. End-to-end marking is only done at the TSPI level.</p>
<h4>See Also</h4>
<p>
<a href="cnstant_88dv.htm">LINEGATHERTERM_ Constants</a>, <a href="func1_625v.htm"><b>TSPI_lineGatherDigits</b></a></p>
<p>&nbsp;</p></body>
</HTML>
