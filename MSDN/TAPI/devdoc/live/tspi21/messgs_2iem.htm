<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>PHONE_BUTTON</title>
<link disabled rel=stylesheet href=../../backsdk3.css>
<style type="text/css">
@import url(../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h1><a name="_tspi_phone_button"></a>PHONE_BUTTON</h1>
<p>
The PHONE_BUTTON message is sent to the <a href="func3_2x6c.htm"><b>PHONEEVENT</b></a> callback function to notify TAPI that it has detected a button press on a phone device that TAPI has open and for which button press monitoring is enabled.</p>
<pre><code>PHONE_BUTTON
htPhone = (HTAPIPHONE) hPhoneDevice;
dwMsg = (DWORD) PHONE_BUTTON;
dwParam1 = (DWORD) idButtonLamp;
dwParam2 = (DWORD) PhoneButtonMode;
dwParam3 = (DWORD) PhoneButtonState;
 </code></pre>
<h4>Parameters</h4>
<dl>
<dt>
<i>htPhone</i></dt>
<dd>
The TAPI opaque object handle to the phone device.</dd>
<dt>
<i>dwMsg</i></dt>
<dd>
The value PHONE_BUTTON.</dd>
<dt>
<i>dwParam1</i></dt>
<dd>
The button/lamp identifier of the button that was pressed. Note that the button identifiers 0 through 11 are always the KEYPAD buttons. '0' is button identifier 0, '1' is button identifier 1, and so on, through button identifier 9. '*' is button identifier 10, and '#' is button identifier 11. Additional information about a button identifier is available through <a href="func3_67ar.htm"><b>TSPI_phoneGetDevCaps</b></a> and <a href="func3_0sj3.htm"><b>TSPI_phoneGetButtonInfo</b></a>.</dd>
<dt>
<i>dwParam2</i></dt>
<dd>
The button mode of the button. This parameter uses the following PHONEBUTTONMODE_ constants: 
<dl>
<dt>
PHONEBUTTONMODE_CALL </dt>
<dd>
The button is assigned to a call appearance. </dd>
<dt>
PHONEBUTTONMODE_FEATURE </dt>
<dd>
The button is assigned to requesting features from the switch, such as hold, conference, or transfer. </dd>
<dt>
PHONEBUTTONMODE_KEYPAD </dt>
<dd>
The button is one of the twelve keypad buttons, '0' through '9', '*', and '#'. </dd>
<dt>
PHONEBUTTONMODE_LOCAL </dt>
<dd>
The button is a local function button, such as mute or volume control. </dd>
<dt>
PHONEBUTTONMODE_DISPLAY </dt>
<dd>
The button is a "soft" button associated with the phone's display. A phone set can have zero or more display buttons. </dd>
</dl>
</dd>
<dt>
<i>dwParam3</i></dt>
<dd>
Specifies whether this is a button down event or a button up event. This parameter uses the following PHONEBUTTONSTATE_ constants: 
<dl>
<dt>
PHONEBUTTONSTATE_UP </dt>
<dd>
The button is in the "up" state. </dd>
<dt>
PHONEBUTTONSTATE_DOWN </dt>
<dd>
The button is in the "down" state (pressed down). 
</dd>
</dl>
</dd>
</dl>
<h4>Remarks</h4>
<p>
The set of phone button events that is reported is selected by the <a href="func3_8zsj.htm"><b>TSPI_phoneSetStatusMessages</b></a> function. The service provider must send PHONE_BUTTON messages for at least the set of button press events selected through that procedure. The service provider can send more than this set but should limit its messages to this set for performance reasons.</p>
<p>
A PHONE_BUTTON message is sent whenever a button changes state. The service provider must guarantee that each button DOWN event is strictly paired with a button UP event, in that order. Note that a service provider that can detect only one of the button press or release events should expand the event it does detect into a button DOWN message followed by a button UP message.</p>
<h4>See Also</h4>
<p>
<a href="cnstant_8sfn.htm">PHONEBUTTONFUNCTION_ Constants</a>, <a href="cnstant_5n5f.htm">PHONEBUTTONMODE_ Constants</a>, <a href="cnstant_6r1v.htm">PHONEBUTTONSTATE_ Constants</a>,<b> <a href="func3_2x6c.htm">PHONEEVENT</a></b>, <a href="struc2_7pf6.htm"><b>PHONESTATUS</b></a>, <a href="func3_0sj3.htm"><b>TSPI_phoneGetButtonInfo</b></a>, <a href="func3_67ar.htm"><b>TSPI_phoneGetDevCaps</b></a>, <a href="func3_8zsj.htm"><b>TSPI_phoneSetStatusMessages</b></a>, </p>
<p>&nbsp;</p></body>
</HTML>
