<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>PHONECAPS</title>
<link disabled rel=stylesheet href=../../backsdk3.css>
<style type="text/css">
@import url(../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h1><a name="_tspi_phonecaps_str"></a>PHONECAPS</h1>
<p>
The <b>PHONECAPS</b> structure describes the capabilities of a phone device.</p>
<pre><code>typedef struct phonecaps_tag {
    DWORD  dwTotalSize;
    DWORD  dwNeededSize;
    DWORD  dwUsedSize;

    DWORD  dwProviderInfoSize;
    DWORD  dwProviderInfoOffset;

    DWORD  dwPhoneInfoSize;
    DWORD  dwPhoneInfoOffset;

    DWORD  dwPermanentPhoneID;
    DWORD  dwPhoneNameSize;
    DWORD  dwPhoneNameOffset;
    DWORD  dwStringFormat;

    DWORD  dwPhoneStates;
    DWORD  dwHookSwitchDevs;
    DWORD  dwHandsetHookSwitchModes;
    DWORD  dwSpeakerHookSwitchModes;
    DWORD  dwHeadsetHookSwitchModes;

    DWORD  dwVolumeFlags;
    DWORD  dwGainFlags;
    DWORD  dwDisplayNumRows;
    DWORD  dwDisplayNumColumns;
    DWORD  dwNumRingModes;
    DWORD  dwNumButtonLamps;

    DWORD  dwButtonModesSize;
    DWORD  dwButtonModesOffset;

    DWORD  dwButtonFunctionsSize;
    DWORD  dwButtonFunctionsOffset;
    DWORD  dwLampModesSize;
    DWORD  dwLampModesOffset;

    DWORD  dwNumSetData;
    DWORD  dwSetDataSize;
    DWORD  dwSetDataOffset;

    DWORD  dwNumGetData
    DWORD  dwGetDataSize;
    DWORD  dwGetDataOffset;

    DWORD  dwDevSpecificSize;
    DWORD  dwDevSpecificOffset;

} PHONECAPS, FAR *LPPHONECAPS;
 </code></pre>
<h4>Members</h4>
<dl>
<dt>
<b>dwTotalSize</b></dt>
<dd>
The total size in bytes allocated to this data structure.</dd>
<dt>
<b>dwNeededSize</b></dt>
<dd>
The size in bytes for this data structure that is needed to hold the returned information.</dd>
<dt>
<b>dwUsedSize</b></dt>
<dd>
The size in bytes of this data structure that contains useful information.</dd>
<dt>
<b>dwProviderInfoSize</b></dt>
<dt>
<b>dwProviderInfoOffset</b></dt>
<dd>
The size in bytes and the offset in bytes from the beginning of this data structure of the variably sized field containing service-provider specific information. The <b>dwProviderInfoSize/Offset</b> member provides information about the provider hardware or software, such as the vendor name and version numbers of hardware or software. This information can be useful when a user needs to call customer service with problems regarding the provider.</dd>
<dt>
<b>dwPhoneInfoSize</b></dt>
<dt>
<b>dwPhoneInfoOffset</b></dt>
<dd>
The size in bytes and the offset in bytes from the beginning of this data structure of the variably sized device field containing phone-specific information. The <b>dwPhoneInfoSize/Offset</b> member is intended to provide information about the attached phone device, such as the phone-device manufacturer, the model name, the software version, and so on. This information can be useful when a user needs to call customer service with problems regarding the phone.</dd>
<dt>
<b>dwPermanentPhoneID</b></dt>
<dd>
The permanent <b>DWORD</b> identifier by which the phone device is known in the system's configuration.</dd>
<dt>
<b>dwPhoneNameSize</b></dt>
<dt>
<b>dwPhoneNameOffset</b></dt>
<dd>
The size in bytes and the offset in bytes from the beginning of this data structure of the variably sized device field containing a user-configurable name for this phone device. This name can be configured by the user when configuring the phone device's service provider and is provided for the user's convenience.</dd>
<dt>
<b>dwStringFormat</b></dt>
<dd>
The string format to be used with this phone device. This member uses the following STRINGFORMAT_ constants: 
<dl>
<dt>
STRINGFORMAT_ASCII </dt>
<dd>
ASCII string format using one byte per character. </dd>
<dt>
STRINGFORMAT_DBCS </dt>
<dd>
DBCS string format using two bytes per character. </dd>
<dt>
STRINGFORMAT_UNICODE </dt>
<dd>
Unicode string format using two bytes per character. </dd>
</dl>
</dd>
<dt>
<b>dwPhoneStates</b></dt>
<dd>
The state changes for this phone device for which the application can be notified through a <a href="messgs_797p.htm">PHONE_STATE</a> callback message. This member uses the following PHONESTATE_ constants: 
<dl>
<dt>
PHONESTATE_OTHER </dt>
<dd>
A phone status information item other than those listed below has changed. </dd>
<dt>
PHONESTATE_CONNECTED </dt>
<dd>
The connection between the phone device and TAPI was just made. This happens when TAPI is first invoked, or when the wire connecting the phone to the computer is plugged in when TAPI is active. </dd>
<dt>
PHONESTATE_DISCONNECTED </dt>
<dd>
The connection between the phone device and TAPI was just broken. This happens when the wire connecting the phone set to the computer is unplugged while TAPI is active. </dd>
<dt>
PHONESTATE_OWNER </dt>
<dd>
The number of owners for the phone device has changed. </dd>
<dt>
PHONESTATE_MONITORS </dt>
<dd>
The number of monitors for the phone device has changed. </dd>
<dt>
PHONESTATE_DISPLAY </dt>
<dd>
The display of the phone has changed. </dd>
<dt>
PHONESTATE_LAMP </dt>
<dd>
A lamp of the phone has changed. </dd>
<dt>
PHONESTATE_RINGMODE </dt>
<dd>
The ring mode of the phone has changed. </dd>
<dt>
PHONESTATE_RINGVOLUME </dt>
<dd>
The ring volume of the phone has changed. </dd>
<dt>
PHONESTATE_HANDSETHOOKSWITCH </dt>
<dd>
The handset hookswitch state has changed. </dd>
<dt>
PHONESTATE_HANDSETVOLUME </dt>
<dd>
The handset's speaker volume setting has changed. </dd>
<dt>
PHONESTATE_HANDSETGAIN </dt>
<dd>
The handset's microphone gain setting has changed. </dd>
<dt>
PHONESTATE_SPEAKERHOOKSWITCH </dt>
<dd>
The speakerphone's hookswitch state has changed. </dd>
<dt>
PHONESTATE_SPEAKERVOLUME </dt>
<dd>
The speakerphone's speaker volume setting has changed. </dd>
<dt>
PHONESTATE_SPEAKERGAIN </dt>
<dd>
The speakerphone's microphone gain setting state has changed. </dd>
<dt>
PHONESTATE_HEADSETHOOKSWITCH </dt>
<dd>
The headset's hookswitch state has changed. </dd>
<dt>
PHONESTATE_HEADSETVOLUME </dt>
<dd>
The headset's speaker volume setting has changed. </dd>
<dt>
PHONESTATE_HEADSETGAIN </dt>
<dd>
The headset's microphone gain setting has changed. </dd>
<dt>
PHONESTATE_SUSPEND </dt>
<dd>
The application's use of the phone is temporarily suspended. </dd>
<dt>
PHONESTATE_RESUME </dt>
<dd>
The application's use of the phone device is resumed after having been suspended for some time. </dd>
<dt>
PHONESTATE_DEVSPECIFIC </dt>
<dd>
The phone's device-specific information has changed. </dd>
<dt>
PHONESTATE_REINIT </dt>
<dd>
Items have changed in the configuration of phone devices. To become aware of these changes (such as of the appearance of new phone devices) the application reinitializes its use of TAPI. If specified, the <i>htPhone</i> parameter is left NULL for this state change as it applies to any of the phones in the system. </dd>
</dl>
</dd>
<dt>
<b>dwHookSwitchDevs</b></dt>
<dd>
The phone's hookswitch devices. This member uses the following PHONEHOOKSWITCHDEV_ constants: 
<dl>
<dt>
PHONEHOOKSWITCHDEV_HANDSET </dt>
<dd>
The ubiquitous, hand-held ear- and mouthpiece. </dd>
<dt>
PHONEHOOKSWITCHDEV_SPEAKER </dt>
<dd>
A built-in loudspeaker and microphone. This can be an externally connected adjunct to the telephone set. </dd>
<dt>
PHONEHOOKSWITCHDEV_HEADSET </dt>
<dd>
A headset connected to the phone set. </dd>
</dl>
</dd>
<dt>
<b>dwHandsetHookSwitchModes</b></dt>
<dt>
<b>dwSpeakerHookSwitchModes</b></dt>
<dt>
<b>dwHeadsetHookSwitchModes</b></dt>
<dd>
Specifies the phone's hookswitch mode capabilities of the handset, speaker, or headset, respectively. These members are only meaningful if the hookswitch device is listed in <b>dwHookSwitchDevs</b>. This member uses the following PHONEHOOKSWITCHMODE_ constants: 
<dl>
<dt>
PHONEHOOKSWITCHMODE_ONHOOK </dt>
<dd>
The device's microphone and speaker are both onhook. </dd>
<dt>
PHONEHOOKSWITCHMODE_MIC </dt>
<dd>
The device's microphone is active and the speaker is mute. </dd>
<dt>
PHONEHOOKSWITCHMODE_SPEAKER </dt>
<dd>
The device's speaker is active and the microphone is mute. </dd>
<dt>
PHONEHOOKSWITCHMODE_MICSPEAKER </dt>
<dd>
The device's microphone and speaker are both active. </dd>
<dt>
PHONEHOOKSWITCHMODE_UNKNOWN </dt>
<dd>
The device's hookswitch state is unknown or cannot be detected. </dd>
</dl>
</dd>
<dt>
<b>dwVolumeFlags</b></dt>
<dd>
The volume setting capabilities of the phone device's speaker components. If the bit in position PHONEHOOKSWITCHDEV_ is TRUE, the volume of the corresponding hookswitch device's speaker component can be adjusted through <a href="func3_03dx.htm"><b>TSPI_phoneSetVolume</b></a>; otherwise, FALSE.</dd>
<dt>
<b>dwGainFlags</b></dt>
<dd>
The gain setting capabilities of the phone device's microphone components. If the bit position PHONEHOOKSWITCHDEV_ is TRUE, the volume of the corresponding hookswitch device's microphone component can be adjusted using <a href="func3_5n3i.htm"><b>TSPI_phoneSetGain</b></a>; otherwise, FALSE.</dd>
<dt>
<b>dwDisplayNumRows</b></dt>
<dd>
The display capabilities of the phone device by describing the number of rows in the phone display. The <b>dwDisplayNumRows</b> and <b>dwDisplayNumColumns</b> members are both zero for a phone device without a display.</dd>
<dt>
<b>dwDisplayNumColumns</b></dt>
<dd>
The display capabilities of the phone device by describing the number of columns in the phone display. <b>dwDisplayNumRows</b> and <b>dwDisplayNumColumns</b> are both zero for a phone device without a display.</dd>
<dt>
<b>dwNumRingModes</b></dt>
<dd>
The ring capabilities of the phone device. The phone is able to ring with <b>dwNumRingModes</b> different ring patterns, identified as 1, 2, ... <b>dwNumRingModes</b> minus one. If the value of this member is zero, applications have no control over the ring mode of the phone. If the value of this member is greater than zero, it indicates the number of ring modes in addition to silence that are supported by the service provider. A value of 0 in the <i>lpdwRingMode</i> parameter of <a href="func3_5mcn.htm"><b>TSPI_phoneGetRing</b></a> or the <i>dwRingMode</i> parameter of <a href="func3_85lz.htm"><b>TSPI_phoneSetRing</b></a> indicates silence (the phone is not ringing or should not be rung), and <i>dwRingMode</i> values of 1 to <b>dwNumRingModes</b> are valid ring modes for the phone device.</dd>
<dt>
<b>dwNumButtonLamps</b></dt>
<dd>
The number of button/lamps on the phone device that are detectable in TAPI. Button/lamps are identified by their identifier. Valid button/lamp identifiers range from zero to <b>dwNumButtonLamps</b> minus one. The keypad buttons '0', through '9', '*', and '#' are assigned the identifiers 0 through 12.</dd>
<dt>
<b>dwButtonModesSize</b></dt>
<dt>
<b>dwButtonModesOffset</b></dt>
<dd>
The size in bytes and the offset from the beginning of this data structure in bytes of the variably sized field containing the button modes of the phone's buttons, of type PHONEBUTTONMODE_. The array is indexed by button/lamp identifier. Values are: 
<dl>
<dt>
PHONEBUTTONMODE_DUMMY </dt>
<dd>
Used to describe a button/lamp position that has no corresponding button, but has only a lamp. If the phone provides any non-DUMMY buttons, the <a href="messgs_2iem.htm">PHONE_BUTTON</a> message is sent to the application if a button is pressed at the phone device. </dd>
<dt>
PHONEBUTTONMODE_CALL </dt>
<dd>
The button is assigned to a call appearance. </dd>
<dt>
PHONEBUTTONMODE_FEATURE </dt>
<dd>
The button is assigned to requesting features from the switch, such as hold, conference, and transfer. </dd>
<dt>
PHONEBUTTONMODE_KEYPAD </dt>
<dd>
The button is one of the twelve keypad buttons, '0' through '9', '*', and '#'. </dd>
<dt>
PHONEBUTTONMODE_LOCAL </dt>
<dd>
The button is a local function button, such as mute or volume control. </dd>
<dt>
PHONEBUTTONMODE_DISPLAY </dt>
<dd>
The button is a "soft" button associated with the phone's display. A phone set can have zero or more display buttons. </dd>
</dl>
</dd>
<dt>
<b>dwButtonFunctionsSize</b></dt>
<dt>
<b>dwButtonFunctionsOffset</b></dt>
<dd>
The size in bytes and the offset from the beginning of this data structure in bytes of the variably sized field containing the button modes of the phone's buttons, of type PHONEBUTTONFUNCTION_. The array is indexed by button/lamp identifier.</dd>
<dt>
<b>dwLampModesSize</b></dt>
<dt>
<b>dwLampModesOffset</b></dt>
<dd>
The size in bytes and the offset from the beginning of this data structure in bytes of the variably sized field containing the lamp modes of the phone's lamps, of type PHONELAMPMODE_. The array is indexed by button/lamp identifier. Values are: 
<dl>
<dt>
PHONELAMPMODE_BROKENFLUTTER </dt>
<dd>
Broken flutter is the superposition of flash and flutter. </dd>
<dt>
PHONELAMPMODE_FLASH </dt>
<dd>
Flash means slow on and off. </dd>
<dt>
PHONELAMPMODE_FLUTTER </dt>
<dd>
Flutter means fast on and off. </dd>
<dt>
PHONELAMPMODE_OFF </dt>
<dd>
The lamp is off. </dd>
<dt>
PHONELAMPMODE_STEADY </dt>
<dd>
The lamp is continuously lit. </dd>
<dt>
PHONELAMPMODE_WINK </dt>
<dd>
The lamp is winking. </dd>
<dt>
PHONELAMPMODE_DUMMY </dt>
<dd>
This value is used to describe a button/lamp position that has no corresponding lamp. </dd>
</dl>
</dd>
<dt>
<b>dwNumSetData</b></dt>
<dd>
The number of different download areas in the phone device. The different areas are referred to using the data identifiers 0, 1, ..., <b>dwNumSetData</b> minus one. If this member is zero, the phone does not support the download capability.</dd>
<dt>
<b>dwSetDataSize</b></dt>
<dt>
<b>dwSetDataOffset</b></dt>
<dd>
The size in bytes and the offset from the beginning of this data structure in bytes of the variably sized field containing the sizes (in bytes) of the phone's download data areas. This is an array with <b>DWORD</b>-sized elements, indexed by data identifier.</dd>
<dt>
<b>dwNumGetData</b></dt>
<dd>
The number of different upload areas in the phone device. The different areas are referred to using the data identifiers 0, 1, ..., <b>dwNumGetData</b> minus one. If this member is zero, the phone does not support the upload capability.</dd>
<dt>
<b>dwGetDataSize</b></dt>
<dt>
<b>dwGetDataOffset</b></dt>
<dd>
The size in bytes and the offset from the beginning of this data structure in bytes of the variably sized field containing the sizes (in bytes) of the phone's upload data areas. This is an array with <b>DWORD</b>-sized elements, indexed by data identifier.</dd>
<dt>
<b>dwDevSpecificSize</b></dt>
<dt>
<b>dwDevSpecificOffset</b></dt>
<dd>
The size in bytes and the offset in bytes from the beginning of this data structure of the variably sized device-specific field.
</dd>
</dl>
<h4>Remarks</h4>
<p>
Device-specific extensions should use the <b>DevSpecific</b> (<b>dwDevSpecificSize</b> and <b>dwDevSpecificOffset</b>) variably sized area of this data structure.</p>
<h4>See Also</h4>
<p>
<a href="cnstant_5n5f.htm">PHONEBUTTONMODE_ Constants</a>, <a href="cnstant_9vg3.htm">PHONEHOOKSWITCHDEV_ Constants</a>,<b> </b><a href="cnstant_8xv7.htm">PHONELAMPMODE_ Constants</a>, <a href="func3_67ar.htm"><b>TSPI_phoneGetDevCaps</b></a></p>
<p>&nbsp;</p></body>
</HTML>
