<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>LINE_APPNEWCALL</title>
<link disabled rel=stylesheet href=../../backsdk3.css>
<style type="text/css">
@import url(../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h1><a name="_win32_line_appnewcall"></a>LINE_APPNEWCALL</h1>
<p>
The LINE_APPNEWCALL message is sent to inform an application when a new call handle has been spontaneously created on its behalf (other than through an API call from the application, in which case the handle would have been returned through a pointer parameter passed into the function). </p>
<pre><code>LINE_APPNEWCALL
dwDevice = (DWORD) hLine;
dwCallbackInstance = (DWORD) dwInstanceData;
dwParam1 = (DWORD) dwAddressID;
dwParam2 = (DWORD) hCall;
dwParam3 = (DWORD) dwPrivilege;
 </code></pre>
<h4>Parameters</h4>
<dl>
<dt>
<i>dwDevice</i> </dt>
<dd>
The application's handle to the line device on which the call has been created. </dd>
<dt>
<i>dwCallbackInstance</i> </dt>
<dd>
The callback instance supplied when opening the call's line. </dd>
<dt>
<i>dwParam1</i> </dt>
<dd>
Identifier of the address on the line on which the call appears. </dd>
<dt>
<i>dwParam2</i> </dt>
<dd>
The application's handle to the new call. </dd>
<dt>
<i>dwParam3</i> </dt>
<dd>
The applications privilege to the new call (LINECALLPRIVILEGE_OWNER or LINECALLPRIVILEGE_MONITOR). 
</dd>
</dl>
<h4>Return Values</h4>
<p>
No return value. </p>
<h4>Comments and Backward Compatibility</h4>
<p>
Applications supporting TAPI version 2.0 or later are sent a LINE_APPNEWCALL message whenever the application is spontaneously given a handle to a new call. Because the message includes the <i>hLine</i> and <i>dwAddressID</i> parameters on which the call exists, the application can readily create a <i>new</i> call object in the correct context. The LINE_APPNEWCALL message is always immediately followed by a <a href="msgs_1eud.htm">LINE_CALLSTATE</a> message indicating the initial state of the call. </p>
<p>
Older applications (that negotiated an API version earlier than 2.0) are sent only a LINE_CALLSTATE message, as documented in previous versions of the API. Such applications would create a <i>new</i> call object upon receiving a LINE_CALLSTATE message that has <i>dwParam3</i> set to a nonzero value and containing a call handle not presently known by the application. The disadvantages are that (a) the application must call <b>lineGetCallInfo</b> to determine the <i>hLine</i> and <i>dwAddressID</i> parameters associated with the call; (b) the application must scan all known call handles to determine that the call is a new call; and (c) it is possible, under certain conditions, for the application to think it is receiving a new call handle when in reality it has just deallocated its handle to the call (for example, the application has just deallocated a call handle, but a LINE_CALLSTATE message giving the application ownership of the call due to a <b>lineHandoff</b> from another application was already in the application's TAPI message queue). </p>
<h4>QuickInfo</h4>
<p>
&nbsp;&nbsp;<b>Version:</b> Use TAPI version 2.0 and later<br>
&nbsp;&nbsp;<b>Header:</b> Declared in tapi.h.</p>
<h4>See Also</h4>
<p>
<a href="msgs_1eud.htm">LINE_CALLSTATE</a>, <a href="func1_5zov.htm"><b>lineGetCallInfo</b></a>, <a href="func1_0b52.htm"><b>lineHandoff</b></a> </p>
<p>&nbsp;</p></body>
</HTML>
