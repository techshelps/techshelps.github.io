<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>PHONESTATUS</title>
<link disabled rel=stylesheet href=../../backsdk3.css>
<style type="text/css">
@import url(../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h1><a name="_win32_phonestatus_str"></a>PHONESTATUS</h1>
<p>
The <b>PHONESTATUS</b> structure describes the current status of a phone device. </p>
<pre><code>typedef struct phonestatus_tag {
    DWORD  dwTotalSize;
    DWORD  dwNeededSize;
    DWORD  dwUsedSize;
    DWORD  dwStatusFlags; 
    DWORD  dwNumOwners;
    DWORD  dwNumMonitors;
    DWORD  dwRingMode;
    DWORD  dwRingVolume;
    DWORD  dwHandsetHookSwitchMode;
    DWORD  dwHandsetVolume;
    DWORD  dwHandsetGain;
    DWORD  dwSpeakerHookSwitchMode;
    DWORD  dwSpeakerVolume;
    DWORD  dwSpeakerGain;
    DWORD  dwHeadsetHookSwitchMode;
    DWORD  dwHeadsetVolume;
    DWORD  dwHeadsetGain;
    DWORD  dwDisplaySize;
    DWORD  dwDisplayOffset;
    DWORD  dwLampModesSize;
    DWORD  dwLampModesOffset;
    DWORD  dwOwnerNameSize;
    DWORD  dwOwnerNameOffset;
    DWORD  dwDevSpecificSize;
    DWORD  dwDevSpecificOffset;

    DWORD dwPhoneFeatures;
} PHONESTATUS, FAR *LPPHONESTATUS; 
 </code></pre>
<h4>Members</h4>
<dl>
<dt>
<b>dwTotalSize</b> </dt>
<dd>
The total size in bytes allocated to this data structure. </dd>
<dt>
<b>dwNeededSize</b> </dt>
<dd>
The size in bytes for this data structure that is needed to hold all the returned information. </dd>
<dt>
<b>dwUsedSize</b> </dt>
<dd>
The size in bytes of the portion of this data structure that contains useful information. </dd>
<dt>
<b>dwStatusFlags</b> </dt>
<dd>
Provides a set of status flags for this phone device. This member uses the following PHONESTATUSFLAGS_ constants: 
<dl>
<dt>
PHONESTATUSFLAGS_CONNECTED </dt>
<dd>
Specifies whether the phone is currently connected to TAPI. If connected, TRUE; otherwise, FALSE. </dd>
<dt>
PHONESTATUSFLAGS_SUSPENDED </dt>
<dd>
Specifies whether TAPI's manipulation of the phone device is suspended. If suspended, TRUE; otherwise, FALSE. An application's use of a phone device may be temporarily suspended when the switch wants to manipulate the phone in a way that cannot tolerate interference from the application. </dd>
</dl>
</dd>
<dt>
<b>dwNumOwners</b> </dt>
<dd>
The number of application modules with owner privilege for the phone. </dd>
<dt>
<b>dwNumMonitors</b> </dt>
<dd>
The number of application modules with monitor privilege for the phone. </dd>
<dt>
<b>dwRingMode</b> </dt>
<dd>
The current ring mode of a phone device. </dd>
<dt>
<b>dwRingVolume</b> </dt>
<dd>
The current ring volume of a phone device. This is a value between 0x00000000 (silence) and 0x0000FFFF (maximum volume). </dd>
<dt>
<b>dwHandsetHookSwitchMode</b> </dt>
<dd>
The current hookswitch mode of the phone's handset. This member uses the following PHONEHOOKSWITCHMODE_ constants: 
<dl>
<dt>
PHONEHOOKSWITCHMODE_ONHOOK </dt>
<dd>
The device's microphone and speaker are both onhook. </dd>
<dt>
PHONEHOOKSWITCHMODE_MIC </dt>
<dd>
The device's microphone is active, the speaker is mute. </dd>
<dt>
PHONEHOOKSWITCHMODE_SPEAKER </dt>
<dd>
The device's speaker is active, the microphone is mute. </dd>
<dt>
PHONEHOOKSWITCHMODE_MICSPEAKER </dt>
<dd>
The device's microphone and speaker are both active. </dd>
</dl>
</dd>
<dt>
<b>dwHandsetVolume</b> </dt>
<dd>
The current speaker volume of the phone's handset device. This is a value between 0x00000000 (silence) and 0x0000FFFF (maximum volume). </dd>
<dt>
<b>dwHandsetGain</b> </dt>
<dd>
The current microphone gain of the phone's handset device. This is a value between 0x00000000 (silence) and 0x0000FFFF (maximum gain). </dd>
<dt>
<b>dwSpeakerHookSwitchMode</b> </dt>
<dd>
The current hookswitch mode of the phone's speakerphone. This member uses the following PHONEHOOKSWITCHMODE_ constants: 
<dl>
<dt>
PHONEHOOKSWITCHMODE_ONHOOK </dt>
<dd>
The device's microphone and speaker are both onhook. </dd>
<dt>
PHONEHOOKSWITCHMODE_MIC </dt>
<dd>
The device's microphone is active, the speaker is mute. </dd>
<dt>
PHONEHOOKSWITCHMODE_SPEAKER </dt>
<dd>
The device's speaker is active, the microphone is mute. </dd>
<dt>
PHONEHOOKSWITCHMODE_MICSPEAKER </dt>
<dd>
The device's microphone and speaker are both active. </dd>
</dl>
</dd>
<dt>
<b>dwSpeakerVolume</b> </dt>
<dd>
The current speaker volume of the phone's speaker device. This is a value between 0x00000000 (silence) and 0x0000FFFF (maximum volume). </dd>
<dt>
<b>dwSpeakerGain</b> </dt>
<dd>
The current microphone gain of the phone's speaker device. This is a value between 0x00000000 (silence) and 0x0000FFFF (maximum gain). </dd>
<dt>
<b>dwHeadsetHookSwitchMode</b> </dt>
<dd>
The current hookswitch mode of the phone's headset. This member uses the following PHONEHOOKSWITCHMODE_ constants: 
<dl>
<dt>
PHONEHOOKSWITCHMODE_ONHOOK </dt>
<dd>
The device's microphone and speaker are both onhook. </dd>
<dt>
PHONEHOOKSWITCHMODE_MIC </dt>
<dd>
The device's microphone is active, the speaker is mute. </dd>
<dt>
PHONEHOOKSWITCHMODE_SPEAKER </dt>
<dd>
The device's speaker is active, the microphone is mute. </dd>
<dt>
PHONEHOOKSWITCHMODE_MICSPEAKER </dt>
<dd>
The device's microphone and speaker are both active. </dd>
</dl>
</dd>
<dt>
<b>dwHeadsetVolume</b> </dt>
<dd>
The current speaker volume of the phone's headset device. This is a value between 0x00000000 (silence) and 0x0000FFFF (maximum volume). </dd>
<dt>
<b>dwHeadsetGain</b> </dt>
<dd>
The current microphone gain of the phone's headset device. This is a value between 0x00000000 (silence) and 0x0000FFFF (maximum gain). </dd>
<dt>
<b>dwDisplaySize</b> </dt>
<dt>
<b>dwDisplayOffset</b> </dt>
<dd>
The size in bytes of the variably sized field containing the phone's current display information, and the offset in bytes, from the beginning of this data structure. </dd>
<dt>
<b>dwLampModesSize</b> </dt>
<dt>
<b>dwLampModesOffset</b> </dt>
<dd>
The size in bytes of the variably sized field containing the phone's current lamp modes, and the offset in bytes from the beginning of this data structure. </dd>
<dt>
<b>dwOwnerNameSize</b> </dt>
<dt>
<b>dwOwnerNameOffset</b> </dt>
<dd>
The size in bytes of the variably sized field containing the name of the application that is the current owner of the phone device, and the offset in bytes from the beginning of this data structure. The name is the application name provided by the application when it invoked with <a href="func2_9zs5.htm"><b>phoneInitialize</b></a> or <a href="func2_5ans.htm"><b>phoneInitializeEx</b></a>. If no application name was supplied, the application's filename is used instead. If the phone currently has no owner, <b>dwOwnerNameSize</b> is zero. </dd>
<dt>
<b>dwDevSpecificSize</b> </dt>
<dt>
<b>dwDevSpecificOffset</b> </dt>
<dd>
The size in bytes of the variably sized device-specific field, and the offset in bytes from the beginning of this data structure. </dd>
<dt>
<b>dwPhoneFeatures</b> </dt>
<dd>
These flags indicate which Telephony API functions can be invoked on the phone, considering the availability of the feature in the device capabilities, the current device state, and device ownership of the invoking application. A zero indicates the corresponding feature cannot be invoked by the application on the phone in its current state; a one indicates the feature can be invoked. This member uses PHONEFEATURE_ constants. 
</dd>
</dl>
<h4>Remarks</h4>
<p>
Device-specific extensions should use the <b>DevSpecific </b>(<b>dwDevSpecificSize</b> and <b>dwDevSpecificOffset</b>) variably sized area of this data structure. </p>
<p>
The <b>dwPhoneFeatures</b> member is available only to applications that open the phone device with an API version of 2.0 or later. </p>
<h4>QuickInfo</h4>
<p>
&nbsp;&nbsp;<b>Version:</b> Use TAPI version 1.4 and later.<br>
&nbsp;&nbsp;<b>Header:</b> Declared in tapi.h.</p>
<h4>See Also</h4>
<p>
<a href="func2_9zs5.htm"><b>phoneInitialize</b></a>, <a href="func2_5ans.htm"><b>phoneInitializeEx</b></a> </p>
<p>&nbsp;</p></body>
</HTML>
