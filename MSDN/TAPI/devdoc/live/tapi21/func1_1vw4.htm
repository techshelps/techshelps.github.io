<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>lineGetRequest</title>
<link disabled rel=stylesheet href=../../backsdk3.css>
<style type="text/css">
@import url(../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h1><a name="_win32_linegetrequest"></a>lineGetRequest</h1>
<p>
The <b>lineGetRequest</b> function retrieves the next by-proxy request for the specified request mode. </p>
<pre><code><b>LONG lineGetRequest(
  HLINEAPP</b><i> hLineApp</i><b>,      </b>
<b>  DWORD</b><i> dwRequestMode</i><b>,    </b>
<b>  LPVOID</b><i> lpRequestBuffer  </i>
<b>);</b>
 </code></pre>
<h4>Parameters</h4>
<dl>
<dt>
<i>hLineApp</i> </dt>
<dd>
The application's usage handle for the line portion of TAPI. </dd>
<dt>
<i>dwRequestMode</i> </dt>
<dd>
The type of request that is to be obtained. Note that <i>dwRequestMode</i> can only have one bit set. This parameter uses the following LINEREQUESTMODE_ constants: 
<dl>
<dt>
LINEREQUESTMODE_MAKECALL </dt>
<dd>
A <a href="func2_40oc.htm"><b>tapiRequestMakeCall</b></a> request. 
</dd>
</dl>
</dd>
<dt>
<i>lpRequestBuffer</i> </dt>
<dd>
A pointer to a memory buffer where the parameters of the request are to be placed. The size of the buffer and the interpretation of the information placed in the buffer depends on the request mode. The application-allocated buffer is assumed to be of sufficient size to hold the request. 
<p>
If <i>dwRequestMode</i> is LINEREQUESTMODE_MAKECALL, interpret the content of the request buffer using the <a href="struc2_42r6.htm"><b>LINEREQMAKECALL</b></a> structure. 

<p>
If <i>dwRequestMode</i> is LINEREQUESTMODE_MEDIACALL, interpret the content of the request buffer using the <b>LINEREQMEDIACALL</b> structure. 

</dd>
</dl>
<h4>Return Values</h4>
<p>
Returns zero if the request succeeds or a negative error number if an error occurs. Possible return values are: </p>
<p>
LINEERR_INVALAPPHANDLE, LINEERR_NOTREGISTERED, LINEERR_INVALPOINTER, LINEERR_OPERATIONFAILED, LINEERR_INVALREQUESTMODE, LINEERR_RESOURCEUNAVAIL, LINEERR_NOMEM, LINEERR_UNINITIALIZED, LINEERR_NOREQUEST.</p>
<h4>Remarks</h4>
<p>
A telephony-enabled application can request that a call be placed on its behalf by invoking <a href="func2_40oc.htm"><b>tapiRequestMakeCall</b></a>. These requests are queued by TAPI and the highest priority application that has registered to handle the request is sent a <a href="msgs_7ak4.htm">LINE_REQUEST</a> message with indication of the mode of the request that is pending. Typically, this application is the user's call-control application. The LINE_REQUEST message indicates that zero or more requests may be pending for the registered application to process; after receiving LINE_REQUEST, it is the responsibility of the recipient application to call <b>lineGetRequest</b> until LINEERR_NOREQUEST is returned, indicating that no more requests are pending. </p>
<p>
Next, the call-control application that receives this message invokes <b>lineGetRequest</b>, specifying the request mode and a buffer that is large enough to hold the request. The call-control application then interprets and executes the request. </p>
<p>
After execution of <b>lineGetRequest</b>, TAPI purges the request from its internal queue, making room available for a subsequent request. It is therefore possible for a new LINE_REQUEST message to be received immediately upon execution of <b>lineGetRequest</b>, should the same or another application issue another request. It is the responsibility of the request recipient application to handle this scenario by some mechanism (for example, by making note of the additional LINE_REQUEST and deferring a subsequent <b>lineGetRequest</b> until processing of the preceding request completes, by getting the subsequent request and buffer as necessary, or by another appropriate means). </p>
<p>
The subsequent LINE_REQUEST should not be ignored because it is not repeated by TAPI. </p>
<h4>QuickInfo</h4>
<p>
&nbsp;&nbsp;<b>Version:</b> Use TAPI version 1.4 and later.<br>
&nbsp;&nbsp;<b>Header:</b> Declared in tapi.h.<br>
&nbsp;&nbsp;<b>Import Library:</b> Link with tapi32.lib.</p>
<h4>See Also</h4>
<p>
<a href="quickref_9s85.htm">TAPI Reference Overview</a>, <a href="quickref_7uzp.htm">Basic Telephony Services Reference</a>, <a href="msgs_7ak4.htm">LINE_REQUEST</a>, <a href="struc2_42r6.htm"><b>LINEREQMAKECALL</b></a>, <a href="func2_40oc.htm"><b>tapiRequestMakeCall</b></a></p>
<p>&nbsp;</p></body>
</HTML>
