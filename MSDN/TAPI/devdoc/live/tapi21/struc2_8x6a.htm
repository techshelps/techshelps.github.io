<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>PHONECAPS</title>
<link disabled rel=stylesheet href=../../backsdk3.css>
<style type="text/css">
@import url(../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h1><a name="_win32_phonecaps_str"></a>PHONECAPS</h1>
<p>
The <b>PHONECAPS</b> structure describes the capabilities of a phone device. </p>
<pre><code>typedef struct phonecaps_tag {
    DWORD  dwTotalSize;
    DWORD  dwNeededSize;
    DWORD  dwUsedSize;
    DWORD  dwProviderInfoSize;
    DWORD  dwProviderInfoOffset;
    DWORD  dwPhoneInfoSize;
    DWORD  dwPhoneInfoOffset;
    DWORD  dwPermanentPhoneID;
    DWORD  dwPhoneNameSize;
    DWORD  dwPhoneNameOffset;
    DWORD  dwStringFormat;
    DWORD  dwPhoneStates;
    DWORD  dwHookSwitchDevs;
    DWORD  dwHandsetHookSwitchModes;
    DWORD  dwSpeakerHookSwitchModes;
    DWORD  dwHeadsetHookSwitchModes;
    DWORD  dwVolumeFlags;
    DWORD  dwGainFlags;
    DWORD  dwDisplayNumRows;
    DWORD  dwDisplayNumColumns;
    DWORD  dwNumRingModes;
    DWORD  dwNumButtonLamps;
    DWORD  dwButtonModesSize;
    DWORD  dwButtonModesOffset;
    DWORD  dwButtonFunctionsSize;
    DWORD  dwButtonFunctionsOffset;
    DWORD  dwLampModesSize;
    DWORD  dwLampModesOffset;
    DWORD  dwNumSetData;
    DWORD  dwSetDataSize;
    DWORD  dwSetDataOffset;
    DWORD  dwNumGetData
    DWORD  dwGetDataSize;
    DWORD  dwGetDataOffset;
    DWORD  dwDevSpecificSize; 
    DWORD  dwDevSpecificOffset;

    DWORD dwDeviceClassesSize;
    DWORD dwDeviceClassesOffset;
    DWORD dwPhoneFeatures;
    DWORD dwSettableHandsetHookSwitchModes;
    DWORD dwSettableSpeakerHookSwitchModes;
    DWORD dwSettableHeadsetHookSwitchModes;
    DWORD dwMonitoredHandsetHookSwitchModes;
    DWORD dwMonitoredSpeakerHookSwitchModes;
    DWORD dwMonitoredHeadsetHookSwitchModes;
} PHONECAPS, FAR *LPPHONECAPS; 
 </code></pre>
<h4>Members</h4>
<dl>
<dt>
<b>dwTotalSize</b> </dt>
<dd>
The total size in bytes allocated to this data structure. </dd>
<dt>
<b>dwNeededSize</b> </dt>
<dd>
The size in bytes for this data structure that is needed to hold all the returned information. </dd>
<dt>
<b>dwUsedSize</b> </dt>
<dd>
The size in bytes of the portion of this data structure that contains useful information. </dd>
<dt>
<b>dwProviderInfoSize</b> </dt>
<dt>
<b>dwProviderInfoOffset</b> </dt>
<dd>
The size in bytes of the variably sized field containing service provider-specific information, and the offset in bytes from the beginning of this data structure. 
<p>
The <b>dwProviderInfoSize/Offset</b> member provides information about the provider hardware and/or software, such as the vendor name and version numbers of hardware and software. This information can be useful when a user needs to call customer service with problems regarding the provider. 
</dd>
<dt>
<b>dwPhoneInfoSize</b> </dt>
<dt>
<b>dwPhoneInfoOffset</b> </dt>
<dd>
The size in bytes of the variably sized device field containing phone-specific information, and the offset in bytes from the beginning of this data structure. 
<p>
The <b>dwPhoneInfoSize/Offset</b> member provides information about the attached phone device, such as the phone device manufacturer, the model name, the software version, and so on. This information can be useful when a user needs to call customer service with problems regarding the phone. 
</dd>
<dt>
<b>dwPermanentPhoneID</b> </dt>
<dd>
The permanent <b>DWORD</b> identifier by which the phone device is known in the system's configuration. </dd>
<dt>
<b>dwPhoneNameSize</b> </dt>
<dt>
<b>dwPhoneNameOffset</b> </dt>
<dd>
The size in bytes of the variably sized device field containing a user configurable name for this phone device, and the offset in bytes from the beginning of this data structure This name can be configured by the user when configuring the phone device's service provider and is provided for the user's convenience. </dd>
<dt>
<b>dwStringFormat</b> </dt>
<dd>
The string format to be used with this phone device. This member uses the following STRINGFORMAT_ constants: 
<dl>
<dt>
STRINGFORMAT_ASCII </dt>
<dd>
ASCII string format using one byte per character. </dd>
<dt>
STRINGFORMAT_DBCS </dt>
<dd>
DBCS string format using one or two bytes per character. </dd>
<dt>
STRINGFORMAT_UNICODE </dt>
<dd>
Unicode string format using two bytes per character. </dd>
</dl>
</dd>
<dt>
<b>dwPhoneStates</b> </dt>
<dd>
The state changes for this phone device for which the application can be notified in a <a href="msgs_6wkl.htm">PHONE_STATE</a> message. This member uses the following PHONESTATE_ constants: 
<dl>
<dt>
PHONESTATE_OTHER </dt>
<dd>
Phone status items other than those listed below have changed. The application should check the current phone status to determine which items have changed. </dd>
<dt>
PHONESTATE_CONNECTED </dt>
<dd>
The connection between the phone device and TAPI was just made. This happens when TAPI is first invoked or when the wire connecting the phone to the PC is plugged in while TAPI is active. </dd>
<dt>
PHONESTATE_DISCONNECTED </dt>
<dd>
The connection between the phone device and TAPI was just broken. This happens when the wire connecting the phone set to the PC is unplugged while TAPI is active. </dd>
<dt>
PHONESTATE_OWNER </dt>
<dd>
The number of owners for the phone device has changed. </dd>
<dt>
PHONESTATE_MONITORS </dt>
<dd>
The number of monitors for the phone device has changed. </dd>
<dt>
PHONESTATE_DISPLAY </dt>
<dd>
The display of the phone has changed. </dd>
<dt>
PHONESTATE_LAMP </dt>
<dd>
A lamp of the phone has changed. </dd>
<dt>
PHONESTATE_RINGMODE </dt>
<dd>
The ring mode of the phone has changed. </dd>
<dt>
PHONESTATE_RINGVOLUME </dt>
<dd>
The ring volume of the phone has changed. </dd>
<dt>
PHONESTATE_HANDSETHOOKSWITCH </dt>
<dd>
The handset's hookswitch state has changed. </dd>
<dt>
PHONESTATE_HANDSETVOLUME </dt>
<dd>
The handset's speaker volume setting has changed. </dd>
<dt>
PHONESTATE_HANDSETGAIN </dt>
<dd>
The handset's microphone gain setting has changed. </dd>
<dt>
PHONESTATE_SPEAKERHOOKSWITCH </dt>
<dd>
The speakerphone's hookswitch state has changed. </dd>
<dt>
PHONESTATE_SPEAKERVOLUME </dt>
<dd>
The speakerphone's speaker volume setting has changed. </dd>
<dt>
PHONESTATE_SPEAKERGAIN </dt>
<dd>
The speakerphone's microphone gain setting state has changed. </dd>
<dt>
PHONESTATE_HEADSETHOOKSWITCH </dt>
<dd>
The headset's hookswitch state has changed. </dd>
<dt>
PHONESTATE_HEADSETVOLUME </dt>
<dd>
The headset's speaker volume setting has changed. </dd>
<dt>
PHONESTATE_HEADSETGAIN </dt>
<dd>
The headset's microphone gain setting has changed. </dd>
<dt>
PHONESTATE_SUSPEND </dt>
<dd>
The application's use of the phone is temporarily suspended. </dd>
<dt>
PHONESTATE_RESUME </dt>
<dd>
The application's use of the phone device is resumed after having been suspended for some time. </dd>
<dt>
PHONESTATE_DEVSPECIFIC </dt>
<dd>
The phone's device-specific information has changed. </dd>
<dt>
PHONESTATE_REINIT </dt>
<dd>
Items have changed in the configuration of phone devices. To become aware of these changes (as for the appearance of new phone devices) the application should reinitialize its use of TAPI. </dd>
<dt>
PHONESTATE_CAPSCHANGE </dt>
<dd>
Indicates that, due to configuration changes made by the user or other circumstances, one or more of the members in the <b>PHONECAPS</b> structure have changed. The application should use <a href="func2_0eib.htm"><b>phoneGetDevCaps</b></a> to read the updated structure. </dd>
<dt>
PHONESTATE_REMOVED </dt>
<dd>
Indicates that the device is being removed from the system by the service provider (most likely through user action, through a control panel or similar utility). Normally, a <a href="msgs_6wkl.htm">PHONE_STATE</a> message with this value is immediately followed by a <a href="msgs_9oh1.htm">PHONE_CLOSE</a> message on the device. Subsequent attempts to access the device prior to TAPI being reinitialized result in PHONEERR_NODEVICE being returned to the application. If a service provider sends a PHONE_STATE message containing this value to TAPI, TAPI passes it along to applications that have negotiated TAPI version 1.4 or later; applications negotiating a previous API version do not receive any notification. </dd>
</dl>
</dd>
<dt>
<b>dwHookSwitchDevs</b> </dt>
<dd>
Specifies the phone's hookswitch devices. This member uses the following PHONEHOOKSWITCHDEV_ constants: 
<dl>
<dt>
PHONEHOOKSWITCHDEV_HANDSET </dt>
<dd>
The ubiquitous, handheld, ear- and mouthpiece. </dd>
<dt>
PHONEHOOKSWITCHDEV_SPEAKER </dt>
<dd>
A built-in loudspeaker and microphone. This could also be an externally connected adjunct to the telephone set. </dd>
<dt>
PHONEHOOKSWITCHDEV_HEADSET </dt>
<dd>
A headset connected to the phone set. </dd>
</dl>
</dd>
<dt>
<b>dwHandsetHookSwitchModes</b> </dt>
<dt>
<b>dwSpeakerHookSwitchModes</b> </dt>
<dt>
<b>dwHeadsetHookSwitchModes</b> </dt>
<dd>
Specifies the phone's hookswitch mode capabilities of the handset, speaker, or headset, respectively. The member is only meaningful if the hookswitch device is listed in <b>dwHookSwitchDevs</b>. This member uses the following PHONEHOOKSWITCHMODE_ constants: 
<dl>
<dt>
PHONEHOOKSWITCHMODE_ONHOOK </dt>
<dd>
The device's microphone and speaker are both onhook. </dd>
<dt>
PHONEHOOKSWITCHMODE_MIC </dt>
<dd>
The device's microphone is active, the speaker is mute. </dd>
<dt>
PHONEHOOKSWITCHMODE_SPEAKER </dt>
<dd>
The device's speaker is active, the microphone is mute. </dd>
<dt>
PHONEHOOKSWITCHMODE_MICSPEAKER </dt>
<dd>
The device's microphone and speaker are both active. </dd>
</dl>
</dd>
<dt>
<b>dwVolumeFlags</b> </dt>
<dd>
Specifies the volume setting capabilities of the phone device's speaker components. If the bit in position PHONEHOOKSWITCHDEV_ is TRUE, the volume of the corresponding hookswitch device's speaker component can be adjusted with <a href="func2_6kdh.htm"><b>phoneSetVolume</b></a>; otherwise, FALSE. </dd>
<dt>
<b>dwGainFlags</b> </dt>
<dd>
Specifies the gain setting capabilities of the phone device's microphone components. If the bit position PHONEHOOKSWITCHDEV_ is TRUE, the volume of the corresponding hookswitch device's microphone component can be adjusted with <a href="func2_5bn2.htm"><b>phoneSetGain</b></a>; otherwise, FALSE.</dd>
<dt>
<b>dwDisplayNumRows</b> </dt>
<dd>
Specifies the display capabilities of the phone device by describing the number of rows in the phone display. The <b>dwDisplayNumRows</b> and <b>dwDisplayNumColumns</b> members are both zero for a phone device without a display. </dd>
<dt>
<b>dwDisplayNumColumns</b> </dt>
<dd>
Specifies the display capabilities of the phone device by describing the number of columns in the phone display. The <b>dwDisplayNumRows</b> and <b>dwDisplayNumColumns</b> members are both zero for a phone device without a display. </dd>
<dt>
<b>dwNumRingModes</b> </dt>
<dd>
The ring capabilities of the phone device. The phone is able to ring with <b>dwNumRingModes</b> different ring patterns, identified as 1, 2, through <b>dwNumRingModes</b> minus one. If the value of this member is 0, applications have no control over the ring mode of the phone. If the value of this member is greater than 0, it indicates the number of ring modes in addition to silence that are supported by the service provider. A value of 0 in the <i>lpdwRingMode</i> parameter of <a href="func2_5aw7.htm"><b>phoneGetRing</b></a> or the <i>dwRingMode</i> parameter of <a href="func2_7u5j.htm"><b>phoneSetRing</b></a> indicates silence (the phone is not ringing or should not be rung), and <i>dwRingMode</i> values of 1 to <b>dwNumRingModes</b> are valid ring modes for the phone device. </dd>
<dt>
<b>dwNumButtonLamps</b> </dt>
<dd>
Specifies the number of button/lamps on the phone device that are detectable in TAPI. Button/lamps are identified by their identifier. Valid button/lamp identifiers range from zero to <b>dwNumButtonLamps</b> minus one. The keypad buttons '0', through '9', '*', and '#' are assigned the identifiers 0 through 12. </dd>
<dt>
<b>dwButtonModesSize</b> </dt>
<dt>
<b>dwButtonModesOffset</b> </dt>
<dd>
The size in bytes and the offset from the beginning of this data structure in bytes of the variably sized field containing the button modes of the phone's buttons. The array is indexed by button/lamp identifier. This member uses the following PHONEBUTTONMODE_ constants: 
<dl>
<dt>
PHONEBUTTONMODE_DUMMY </dt>
<dd>
This value is used to describe a button/lamp position that has no corresponding button, but has only a lamp. If the phone provides any non-DUMMY buttons, the <a href="msgs_01bi.htm">PHONE_BUTTON</a> message is sent to the application if a button is pressed at the phone device. </dd>
<dt>
PHONEBUTTONMODE_CALL </dt>
<dd>
The button is assigned to a call appearance. </dd>
<dt>
PHONEBUTTONMODE_FEATURE </dt>
<dd>
The button is assigned to requesting features from the switch, such as hold, conference, and transfer. </dd>
<dt>
PHONEBUTTONMODE_KEYPAD </dt>
<dd>
The button is one of the twelve keypad buttons, '0' through '9', '*', and '#'. </dd>
<dt>
PHONEBUTTONMODE_LOCAL </dt>
<dd>
The button is a local function button, such as mute or volume control. </dd>
<dt>
PHONEBUTTONMODE_DISPLAY </dt>
<dd>
The button is a "soft" button associated with the phone's display. A phone set can have zero or more display buttons. </dd>
</dl>
</dd>
<dt>
<b>dwButtonFunctionsSize</b> </dt>
<dt>
<b>dwButtonFunctionsOffset</b> </dt>
<dd>
The size in bytes of the variably sized field containing the button modes of the phone's buttons, and the offset in bytes from the beginning of this data structure. This member uses the values specified by the PHONEBUTTONFUNCTION_ constants. The array is indexed by button/lamp identifier. </dd>
<dt>
<b>dwLampModesSize</b> </dt>
<dt>
<b>dwLampModesOffset</b> </dt>
<dd>
The size in bytes of the variably sized field containing the lamp modes of the phone's lamps, and the offset in bytes from the beginning of this data structure. The array is indexed by button/lamp identifier. This member uses the following PHONELAMPMODE_ constants: 
<dl>
<dt>
PHONELAMPMODE_BROKENFLUTTER </dt>
<dd>
Broken flutter is the superposition of flash and flutter. </dd>
<dt>
PHONELAMPMODE_FLASH </dt>
<dd>
Flash means slow on and off. </dd>
<dt>
PHONELAMPMODE_FLUTTER </dt>
<dd>
Flutter means fast on and off. </dd>
<dt>
PHONELAMPMODE_OFF </dt>
<dd>
The lamp is off. </dd>
<dt>
PHONELAMPMODE_STEADY </dt>
<dd>
The lamp is continuously lit. </dd>
<dt>
PHONELAMPMODE_WINK </dt>
<dd>
The lamp is winking. </dd>
<dt>
PHONELAMPMODE_DUMMY </dt>
<dd>
This value is used to describe a button/lamp position that has no corresponding lamp. </dd>
</dl>
</dd>
<dt>
<b>dwNumSetData</b> </dt>
<dd>
The number of different download areas in the phone device. The different areas are referred to using the data IDs 0, 1, , <b>dwNumSetData</b> minus one. If this member is zero, the phone does not support the download capability. </dd>
<dt>
<b>dwSetDataSize</b> </dt>
<dt>
<b>dwSetDataOffset</b> </dt>
<dd>
The size in bytes of the variably sized field containing the sizes (in bytes) of the phone's download data areas, and the offset in bytes from the beginning of this data structure. This is an array with <b>DWORD</b>-sized elements indexed by data identifier. </dd>
<dt>
<b>dwNumGetData</b> </dt>
<dd>
The number of different upload areas in the phone device. The different areas are referred to using the data IDs 0, 1, , <b>dwNumGetData</b> minus one. If this field is zero, the phone does not support the upload capability. </dd>
<dt>
<b>dwGetDataSize</b> </dt>
<dt>
<b>dwGetDataOffset</b> </dt>
<dd>
The size in bytes of the variably sized field containing the sizes (in bytes) of the phone's upload data areas, and the offset in bytes from the beginning of this data structure. This is an array with <b>DWORD</b>-sized elements indexed by data identifier. </dd>
<dt>
<b>dwDevSpecificSize</b> </dt>
<dt>
<b>dwDevSpecificOffset</b> </dt>
<dd>
The size in bytes of the variably sized device-specific field, and the offset in bytes from the beginning of this data structure. </dd>
<dt>
<b>dwDeviceClassesSize</b> </dt>
<dt>
<b>dwDeviceClassesOffset</b> </dt>
<dd>
Length in bytes and offset from the beginning of <b>PHONECAPS</b> of a string consisting of the device class identifiers supported on this device for use with <a href="func2_7w9w.htm"><b>phoneGetID</b></a>, separated by NULLs; the last identifier in the list is followed by two NULLs. </dd>
<dt>
<b>dwPhoneFeatures</b> </dt>
<dd>
These flags indicate which Telephony API functions can be invoked on the phone. A zero indicates the corresponding feature is not implemented and can never be invoked by the application on the phone; a one indicates the feature may be invoked depending on the device state and other factors. This member uses PHONEFEATURE_ constants. </dd>
<dt>
<b>dwSettableHandsetHookSwitchModes</b> </dt>
<dd>
The PHONEHOOKSWITCHMODE_ values that can be <i>set</i> on the handset using <a href="func2_5jjc.htm"><b>phoneSetHookSwitch</b></a>. </dd>
<dt>
<b>dwSettableSpeakerHookSwitchModes</b> </dt>
<dd>
The PHONEHOOKSWITCHMODE_ values that can be <i>set</i> on the speakerphone using <b>phoneSetHookSwitch</b>. </dd>
<dt>
<b>dwSettableHeadsetHookSwitchModes</b> </dt>
<dd>
The PHONEHOOKSWITCHMODE_ values that can be <i>set</i> on the headset using <b>phoneSetHookSwitch</b>. </dd>
<dt>
<b>dwMonitoredHandsetHookSwitchModes</b> </dt>
<dd>
The PHONEHOOKSWITCHMODE_ values that can be <i>detected</i> and <i>reported</i> for the handset in a PHONE_STATE message and by <a href="func2_0sa0.htm"><b>phoneGetHookSwitch</b></a>. </dd>
<dt>
<b>dwMonitoredSpeakerHookSwitchModes</b> </dt>
<dd>
The PHONEHOOKSWITCHMODE_ values that can be <i>detected</i> and <i>reported</i> for the speakerphone in a PHONE_STATE message and by <b>phoneGetHookSwitch</b>. </dd>
<dt>
<b>dwMonitoredHeadsetHookSwitchModes</b> </dt>
<dd>
The PHONEHOOKSWITCHMODE_ values that can be <i>detected</i> and <i>reported</i> for the headset in a PHONE_STATE message and by <b>phoneGetHookSwitch</b>. 
</dd>
</dl>
<h4>Remarks</h4>
<p>
Device-specific extensions should use the <b>DevSpecific </b>(<b>dwDevSpecificSize</b> and <b>dwDevSpecificOffset</b>) variably sized area of this data structure. </p>
<p>
The members <b>dwDeviceClassesSize</b> through <b>dwMonitoredHeadsetHookSwitchModes</b> are available only to applications that open the phone device with an API version of 2.0 or later. </p>
<h4>QuickInfo</h4>
<p>
&nbsp;&nbsp;<b>Version:</b> Use TAPI version 1.4 and later.<br>
&nbsp;&nbsp;<b>Header:</b> Declared in tapi.h.</p>
<h4>See Also</h4>
<p>
<a href="msgs_01bi.htm">PHONE_BUTTON</a>, <a href="msgs_9oh1.htm">PHONE_CLOSE</a>, <a href="msgs_6wkl.htm">PHONE_STATE</a>, <a href="func2_0eib.htm"><b>phoneGetDevCaps</b></a>, <a href="func2_0sa0.htm"><b>phoneGetHookSwitch</b></a>, <a href="func2_5aw7.htm"><b>phoneGetRing</b></a>, <a href="func2_5bn2.htm"><b>phoneSetGain</b></a>, <a href="func2_5jjc.htm"><b>phoneSetHookSwitch</b></a>, <a href="func2_7u5j.htm"><b>phoneSetRing</b></a>, <a href="func2_6kdh.htm"><b>phoneSetVolume</b></a> </p>
<p>&nbsp;</p></body>
</HTML>
