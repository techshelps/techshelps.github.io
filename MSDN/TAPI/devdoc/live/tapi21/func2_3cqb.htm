<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>lineMonitorTones</title>
<link disabled rel=stylesheet href=../../backsdk3.css>
<style type="text/css">
@import url(../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h1><a name="_win32_linemonitortones"></a>lineMonitorTones</h1>
<p>
The <b>lineMonitorTones</b> function enables and disables the detection of inband tones on the call. Each time a specified tone is detected, a message is sent to the application. </p>
<pre><code><b>LONG lineMonitorTones(
  HCALL</b><i> hCall</i><b>,                         </b>
<b>  LPLINEMONITORTONE const</b><i> lpToneList</i><b>,  </b>
<b>  DWORD</b><i> dwNumEntries                   </i>
<b>);</b>
 </code></pre>
<h4>Parameters</h4>
<dl>
<dt>
<i>hCall</i> </dt>
<dd>
A handle to the call on whose voice channel tones are to be monitored. The call state of <i>hCall</i> can be any state except <i>idle</i>. </dd>
<dt>
<i>lpToneList</i> </dt>
<dd>
A list of tones to be monitored, of type <a href="struc2_231u.htm"><b>LINEMONITORTONE</b></a>. Each tone in this list has an application-defined tag field that is used to identify individual tones in the list to report a tone detection. Tone monitoring in progress is canceled or changed by calling this operation with either NULL for <i>lpToneList</i> or with another tone list. </dd>
<dt>
<i>dwNumEntries</i> </dt>
<dd>
The number of entries in <i>lpToneList</i>. This parameter is ignored if <i>lpToneList</i> is NULL. 
</dd>
</dl>
<h4>Return Values</h4>
<p>
Returns zero if the request succeeds or a negative error number if an error occurs. Possible return values are: </p>
<p>
LINEERR_INVALCALLHANDLE, LINEERR_INVALCALLSTATE, LINEERR_INVALPOINTER, LINEERR_INVALTONE, LINEERR_NOMEM, LINEERR_OPERATIONFAILED, LINEERR_OPERATIONUNAVAIL, LINEERR_RESOURCEUNAVAIL, LINEERR_UNINITIALIZED.</p>
<h4>Remarks</h4>
<p>
This function succeeds if tone monitoring has been correctly initiated, not when tone monitoring has terminated. Tone monitoring remains in effect until it is explicitly disabled by calling <b>lineMonitorTones</b> with another tone list (or NULL), until the call transitions to <i>idle</i>, or when the application deallocates its call handle for the call. </p>
<p>
Although this function can be invoked in any call state, tones can typically only be detected while the call is in the <i>connected</i> state. Tone detection typically requires computational resources. Depending on the service provider and other activities that compete for such resources, the number of tones that can be detected can vary over time. Also, an equivalent amount of resources can be consumed for monitoring a single triple frequency tone versus three single frequency tones. If resources are overcommitted, the LINEERR_RESOURCEUNAVAIL error is returned. </p>
<p>
The <b>lineMonitorTones</b> function is also used to detect silence. Silence is specified as a tone with a frequency of zero. </p>
<p>
Monitoring of tones on a conference call applies only to the <i>hConfCall</i>, not to the individual participating calls </p>
<p>
If the LINEERR_INVALPOINTER error value is returned, the specified <i>lpToneList</i> parameter is invalid or the value specified by the <i>dwNumEntries</i> parameter is too large. </p>
<h4>QuickInfo</h4>
<p>
&nbsp;&nbsp;<b>Version:</b> Use TAPI version 1.4 and later.<br>
&nbsp;&nbsp;<b>Header:</b> Declared in tapi.h.<br>
&nbsp;&nbsp;<b>Import Library:</b> Link with tapi32.lib.</p>
<h4>See Also</h4>
<p>
<a href="quickref_9s85.htm">TAPI Reference Overview</a>, <a href="quickref_2bg3.htm">Supplementary Line Services Functions</a>, <a href="struc2_231u.htm"><b>LINEMONITORTONE</b></a></p>
<p>&nbsp;</p></body>
</HTML>
