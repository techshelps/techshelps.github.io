<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Auto-Answer by the Service Provider</title>
<link disabled rel=stylesheet href=../../backsdk3.css>
<style type="text/css">
@import url(../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h3><a name="_win32_auto_answer_by_the_service_provider"></a>Auto-Answer by the Service Provider</h3>
<p>
In this scenario, the provider is set up to auto-answer a new call. The provider answers it and determines the call's media mode. It then informs TAPI of the call. Because no applications decide to take ownership, TAPI cannot pass the call to any application. </p>
<p>
The following steps describe what occurs in a scenario in which a line has only monitoring applications, the service provider is configured to auto-answer all new calls, and a call comes in. 
<ul>
<li>
The service provider passes the call handle to TAPI. </li>
<li>
TAPI passes monitor handles to the monitor applications (the call is in the <i>connected</i> state). </li>
<li>
TAPI realizes that the call is <i>connected</i>, but there are, so far, no potential owners. </li>
<li>
TAPI must call <b>TSPI_lineDrop</b> to cause the call to revert to <i>idle</i>. </li>
<li>
The monitoring applications are notified that the call is idle and deallocate their handles if they have not already done so. </li>
<li>
The last deallocation causes a <b>TSPI_lineCloseCall</b>. </li>
</ul>
<p>
This example illustrates an important point for writers of monitoring applications. It is not a good idea to wait to monitor for incoming calls you later want to own. It is better to open the line as an owner, because there might not be enough time to change your privilege from monitor to owner before TAPI drops the call. </p>
<p>&nbsp;</p></body>
</HTML>
