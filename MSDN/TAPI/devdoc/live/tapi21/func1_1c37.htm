<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>lineGenerateDigits</title>
<link disabled rel=stylesheet href=../../backsdk3.css>
<style type="text/css">
@import url(../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h1><a name="_win32_linegeneratedigits"></a>lineGenerateDigits</h1>
<p>
The <b>lineGenerateDigits</b> function initiates the generation of the specified digits on the specified call as inband tones using the specified signaling mode. Invoking this function with a NULL value for <i>lpszDigits</i> aborts any digit generation currently in progress. Invoking <b>lineGenerateDigits</b> or <a href="func1_899h.htm"><b>lineGenerateTone</b></a> while digit generation is in progress aborts the current digit generation or tone generation and initiates the generation of the most recently specified digits or tone. </p>
<pre><code><b>LONG lineGenerateDigits(
  HCALL</b><i> hCall</i><b>,        </b>
<b>  DWORD</b><i> dwDigitMode</i><b>,  </b>
<b>  LPCSTR</b><i> lpszDigits</i><b>,  </b>
<b>  DWORD</b><i> dwDuration    </i>
<b>);</b>
 </code></pre>
<h4>Parameters</h4>
<dl>
<dt>
<i>hCall</i> </dt>
<dd>
A handle to the call. The application must be an owner of the call. Call state of <i>hCall</i> can be any state. </dd>
<dt>
<i>dwDigitMode</i> </dt>
<dd>
The format to be used for signaling these digits. Note that <i>dwDigitMode</i> is allowed to have only a single flag set. This parameter uses the following LINEDIGITMODE_ constants: 
<dl>
<dt>
LINEDIGITMODE_PULSE </dt>
<dd>
Uses pulse/rotary for digit signaling. Valid digits for pulse mode are '0' through '9'. </dd>
<dt>
LINEDIGITMODE_DTMF </dt>
<dd>
Uses DTMF tones for digit signaling. Valid digits for DTMF mode are '0' through '9', 'A', 'B', 'C', 'D', '*', '#'. 
</dd>
</dl>
</dd>
<dt>
<i>lpszDigits</i> </dt>
<dd>
A pointer to a NULL-terminated character buffer that contains the digits to be generated. Valid characters for pulse mode are '0' through '9' and ',' (comma). Valid characters for DTMF mode are '0' through '9', 'A', 'B', 'C', 'D', '*', '#', and ',' (comma). A comma injects an extra delay between the signaling of the previous and next digits it separates. The duration of this pause is configuration defined, and the line's device capabilities indicate what this duration is. Multiple commas can be used to inject longer pauses. Invalid digits are ignored during the generation, rather than being reported as errors. The exclamation character (!) is a valid character in the string specifed by the <i>lpszDigits</i> parameter for both DTMF and pulse mode. This character causes a "hookflash" operation, as described for dialable addresses. </dd>
<dt>
<i>dwDuration</i> </dt>
<dd>
Both the duration in milliseconds of DTMF digits and pulse and DTMF inter-digit spacing. A value of 0 uses a default value. The <i>dwDuration</i> parameter must be within the range specified by <b>MinDialParams</b> and <b>MaxDialParams</b> in <a href="struc2_30mq.htm"><b>LINEDEVCAPS</b></a>. If out of range, the actual value is set to the nearest value in the range. 
</dd>
</dl>
<h4>Return Values</h4>
<p>
Returns zero if the request succeeds or a negative error number if an error occurs. Possible return values are: </p>
<p>
LINEERR_INVALCALLHANDLE, LINEERR_NOTOWNER, LINEERR_INVALCALLSTATE, LINEERR_OPERATIONUNAVAIL, LINEERR_INVALDIGITMODE, LINEERR_OPERATIONFAILED, LINEERR_INVALPOINTER, LINEERR_RESOURCEUNAVAIL, LINEERR_NOMEM, LINEERR_UNINITIALIZED.</p>
<h4>Remarks</h4>
<p>
The <b>lineGenerateDigits</b> function is considered to have completed successfully when the digit generation has been successfully initiated, not when all digits have been generated. In contrast to <a href="func1_06cs.htm"><b>lineDial</b></a>, which dials digits in a network-dependent fashion, <b>lineGenerateDigits</b> guarantees to produce the digits as inband tones over the voice channel using DTMF or hookswitch dial pulses when using pulse. The <b>lineGenerateDigits</b> function is generally not suitable for making calls or dialing. It is intended for end-to-end signaling over an established call. </p>
<p>
After all digits in <i>lpszDigits</i> have been generated, or after digit generation has been aborted or canceled, a <a href="msgs_0mzp.htm">LINE_GENERATE</a> message is sent to the application. </p>
<p>
Only one inband generation request (tone generation or digit generation) is allowed to be in progress per call across all applications that are owners of the call. Digit generation on a call is canceled by initiating either another digit generation request or a tone generation request. To cancel the current digit generation, the application can invoke <b>lineGenerateDigits</b> and specify NULL for the <i>lpszDigits</i> parameter. </p>
<p>
Depending on the service provider and hardware, the application can monitor the digits it generates itself. If that is not desired, the application can disable digit monitoring while generating digits. </p>
<h4>QuickInfo</h4>
<p>
&nbsp;&nbsp;<b>Version:</b> Use TAPI version 1.4 and later.<br>
&nbsp;&nbsp;<b>Header:</b> Declared in tapi.h.<br>
&nbsp;&nbsp;<b>Import Library:</b> Link with tapi32.lib.</p>
<h4>See Also</h4>
<p>
<a href="quickref_9s85.htm">TAPI Reference Overview</a>, <a href="quickref_2bg3.htm">Supplementary Line Services Functions</a>, <a href="msgs_0mzp.htm">LINE_GENERATE</a>, <a href="struc2_30mq.htm"><b>LINEDEVCAPS</b></a>, <a href="func1_06cs.htm"><b>lineDial</b></a>, <a href="func1_899h.htm"><b>lineGenerateTone</b></a> </p>
<p>&nbsp;</p></body>
</HTML>
