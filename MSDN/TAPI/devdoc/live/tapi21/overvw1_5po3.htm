<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Waiting a Minimum Number of Rings</title>
<link disabled rel=stylesheet href=../../backsdk3.css>
<style type="text/css">
@import url(../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h3><a name="_win32_waiting_a_minimum_number_of_rings"></a>Waiting a Minimum Number of Rings</h3>
<p>
The <a href="func1_76ib.htm"><b>lineGetNumRings</b></a> function can be used by any application to determine the number of times an incoming call on the given address should ring before the call is to be answered. Waiting a certain number of rings allows callers to be spared the charge of a call connection if it seems that the call will not be answered by the desired party (usually a person). This feature is sometimes called <i>toll-saver</i> support. Applications can use the <b>lineGetNumRings</b> and <a href="func2_4j3n.htm"><b>lineSetNumRings</b></a> functions in combination to provide a mechanism to support toll-saver features for multiple independent applications. </p>
<p>
Any application that receives a handle for a call in the offering state and a <a href="msgs_7het.htm">LINE_LINEDEVSTATE</a> ringing message should wait a number of rings equal to the number returned by <a href="func1_76ib.htm"><b>lineGetNumRings</b></a> before answering the call in order to honor the toll-saver settings across all applications. The <b>lineGetNumRings</b> function returns the minimum number of rings any application has specified with the <b>lineSetNumRings</b> function. Because this number may vary dynamically, an application should call <b>lineGetNumRings</b> each time it has the option to answer a call—that is, when it is the owner of a call still in the <i>offering</i> state. A separate LINE_LINEDEVSTATE ringing message is sent to the application for each ring cycle. </p>
<p>
If the service provider is set to auto-answer calls, it answers after a certain number of rings. Service providers do not have access to the minimum-ring information established by <a href="func2_4j3n.htm"><b>lineSetNumRings</b></a>, and therefore will make their own determination of when to automatically answer an incoming call. When a call has been so answered by a service provider, it will be initially delivered to the owning application already in the <i>connected</i> state, so the application will not need to be concerned with counting rings or with answering the call. </p>
<p>&nbsp;</p></body>
</HTML>
