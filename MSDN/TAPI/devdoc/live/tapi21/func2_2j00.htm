<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>linePickup</title>
<link disabled rel=stylesheet href=../../backsdk3.css>
<style type="text/css">
@import url(../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h1><a name="_win32_linepickup"></a>linePickup</h1>
<p>
The <b>linePickup</b> function picks up a call alerting at the specified destination address and returns a call handle for the picked-up call. If invoked with NULL for the <i>lpszDestAddress</i> parameter, a group pickup is performed. If required by the device, <i>lpszGroupID</i> specifies the group identifier to which the alerting station belongs. </p>
<pre><code><b>LONG linePickup(
  HLINE</b><i> hLine</i><b>,             </b>
<b>  DWORD</b><i> dwAddressID</i><b>,       </b>
<b>  LPHCALL</b><i> lphCall</i><b>,         </b>
<b>  LPCSTR</b><i> lpszDestAddress</i><b>,  </b>
<b>  LPCSTR</b><i> lpszGroupID       </i>
<b>);</b>
 </code></pre>
<h4>Parameters</h4>
<dl>
<dt>
<i>hLine</i> </dt>
<dd>
A handle to the open line device on which a call is to be picked up. </dd>
<dt>
<i>dwAddressID</i> </dt>
<dd>
The address on <i>hLine</i> at which the pickup is to be originated. </dd>
<dt>
<i>lphCall</i> </dt>
<dd>
A pointer to a memory location where the handle to the picked up call is returned. The application is the initial sole owner of the call. </dd>
<dt>
<i>lpszDestAddress</i> </dt>
<dd>
A pointer to a NULL-terminated character buffer that contains the address whose call is to be picked up. The address is in standard dialable address format. </dd>
<dt>
<i>lpszGroupID</i> </dt>
<dd>
A pointer to a NULL-terminated character buffer containing the group identifier to which the alerting station belongs. This parameter is required on some switches to pick up calls outside of the current pickup group. 
<p>
The <i>lpszGroupID</i> parameter can be specified by itself with a NULL pointer for <i>lpszDestAddress</i>. Alternatively, <i>lpszGroupID</i> can be specified in addition to <i>lpszDestAddress</i>, if required by the device. 

</dd>
</dl>
<h4>Return Values</h4>
<p>
Returns a positive request identifier if the function is completed asynchronously, or a negative error number if an error occurs. The <i>dwParam2</i> parameter of the corresponding <a href="msgs_2ayh.htm">LINE_REPLY</a> message is zero if the function succeeds or it is a negative error number if an error occurs. Possible return values are: </p>
<p>
LINEERR_INVALADDRESS, LINEERR_NOMEM, LINEERR_INVALADDRESSID, LINEERR_OPERATIONUNAVAIL, LINEERR_INVALGROUPID, LINEERR_OPERATIONFAILED, LINEERR_INVALLINEHANDLE, LINEERR_RESOURCEUNAVAIL, LINEERR_INVALPOINTER, LINEERR_UNINITIALIZED.</p>
<h4>Remarks</h4>
<p>
When a call has been picked up successfully, the application is notified by the <a href="msgs_1eud.htm">LINE_CALLSTATE</a> message about call state changes. The <a href="struc1_0twy.htm"><b>LINECALLINFO</b></a> structure supplies information about the call that was picked up. It lists the reason for the call as <i>pickup</i>. This structure is available using <a href="func1_5zov.htm"><b>lineGetCallInfo</b></a>. </p>
<p>
If LINEADDRCAPFLAGS_PICKUPCALLWAIT is TRUE, <b>linePickup</b> can be used to pick up a call for which the user has audibly detected the call-waiting signal but for which the provider is unable to perform the detection. This gives the user a mechanism to "answer" a waiting call even though the service provider was unable to detect the call-waiting signal. Both <i>lpszDestAddress</i> and <i>lpszGroupID</i> pointer parameters must be NULL to pick up a call-waiting call. The <b>linePickup</b> function creates a new call handle for the waiting call and passes that handle to the user. The <i>dwAddressID</i> parameter is most often zero (particularly in single-line residential cases). </p>
<p>
After <b>linePickup</b> has been used to pick up the second call, <b>lineSwapHold</b> can be used to toggle between them. The <b>lineDrop</b> function can be used to drop one (and toggle to the other), and so forth. If the user wants to drop the current call and pick up the second call, they should call <b>lineDrop</b> when they get the call-waiting beep, wait for the second call to ring, and then call <b>lineAnswer</b> on the new call handle. The LINEADDRFEATURE_PICKUP flag in the <b>dwAddressFeatures</b> member in <b>LINEADDRESSSTATUS</b> indicates when pickup is actually possible. </p>
<h4>QuickInfo</h4>
<p>
&nbsp;&nbsp;<b>Version:</b> Use TAPI version 1.4 and later.<br>
&nbsp;&nbsp;<b>Header:</b> Declared in tapi.h.<br>
&nbsp;&nbsp;<b>Import Library:</b> Link with tapi32.lib.</p>
<h4>See Also</h4>
<p>
<a href="quickref_9s85.htm">TAPI Reference Overview</a>, <a href="quickref_2bg3.htm">Supplementary Line Services Functions</a>, <a href="msgs_1eud.htm">LINE_CALLSTATE</a>, <a href="msgs_2ayh.htm">LINE_REPLY</a>, <a href="struc1_4xki.htm"><b>LINEADDRESSSTATUS</b></a>, <a href="func1_17zm.htm"><b>lineAnswer</b></a>, <a href="struc1_0twy.htm"><b>LINECALLINFO</b></a>, <a href="func1_0zhs.htm"><b>lineDrop</b></a>, <a href="func1_5zov.htm"><b>lineGetCallInfo</b></a>, <a href="func2_7l9g.htm"><b>lineSwapHold</b></a></p>
<p>&nbsp;</p></body>
</HTML>
