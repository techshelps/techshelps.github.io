<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Specifying Media Modes</title>
<link disabled rel=stylesheet href=../../backsdk3.css>
<style type="text/css">
@import url(../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h3><a name="_win32_specifying_media_modes"></a>Specifying Media Modes</h3>
<p>
The ability of an application to deal with incoming calls or to be the target of call handoffs on a line is determined by the value used for the <i>dwMediaModes</i> parameter of the <a href="func2_2lny.htm"><b>lineOpen</b></a> function. With this function, the application indicates its interest in monitoring calls or receiving ownership of incoming calls of one or more specific <i>media modes</i>, or of <i>any</i> (unspecified) media mode, as described in the following cases: 
<ul>
<li>
An incoming call of a <i>certain</i> media mode is given to the application that has opened the line device for that particular media mode. A single application may specify multiple flags simultaneously to handle multiple media modes. </li>
<li>
An application that wants to handle calls for which the actual media mode present has not yet been determined would turn on the <i>unknown</i> media bit as a parameter of <b>lineOpen</b>. </li>
<li>
An application that wants to handle calls of any media mode would indicate this capability by turning on <i>all</i> of the media bits that are supported on the line (which can be obtained from <a href="struc2_30mq.htm"><b>LINEDEVCAPS</b></a>). </li>
</ul>
<p>
All applications that have opened a line device in any mode are notified about certain general statuses and events occurring on the line device or its addresses. These include the line being taken out of service, the line going back into service, the line being under maintenance, an address coming in use or going idle, and an open or close operation being executed on the line. An application that does not care about a certain message can use the <a href="func2_0o1f.htm"><b>lineSetStatusMessages</b></a> function to filter the message. Most such status messages are disabled by default; an application would need to call <b>lineSetStatusMessages</b> to enable them. </p>
<p>
The media modes specified with <a href="func2_2lny.htm"><b>lineOpen</b></a> add to the default value for the provider's media mode monitoring for initial incoming call type determination. This means that the <i>dwMediaMode</i> settings of all applications with the line open are <b>OR</b>ed together, and that union becomes the default media detection on the line. The <a href="func2_94wx.htm"><b>lineMonitorMedia</b></a> function modifies the mask that controls <a href="msgs_3w9t.htm">LINE_MONITORMEDIA</a> messages but does not affect the default media detection enabled on new incoming calls. It is necessary for an application using <b>lineMonitorMedia</b> to call it to establish media monitoring on every new call in which it is interested. </p>
<p>&nbsp;</p></body>
</HTML>
