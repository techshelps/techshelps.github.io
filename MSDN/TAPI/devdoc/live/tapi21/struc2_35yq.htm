<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>PHONEBUTTONINFO</title>
<link disabled rel=stylesheet href=../../backsdk3.css>
<style type="text/css">
@import url(../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h1><a name="_win32_phonebuttoninfo_str"></a>PHONEBUTTONINFO</h1>
<p>
The <b>PHONEBUTTONINFO</b> structure contains information about a button on a phone device. </p>
<pre><code>typedef struct phonebuttoninfo_tag {
    DWORD  dwTotalSize;
    DWORD  dwNeededSize;
    DWORD  dwUsedSize;
    DWORD  dwButtonMode;
    DWORD  dwButtonFunction;
    DWORD  dwButtonTextSize;
    DWORD  dwButtonTextOffset;
    DWORD  dwDevSpecificSize;
    DWORD  dwDevSpecificOffset;
    DWORD  dwButtonState;
} PHONEBUTTONINFO, FAR *LPPHONEBUTTONINFO; 
 </code></pre>
<h4>Members</h4>
<dl>
<dt>
<b>dwTotalSize</b> </dt>
<dd>
The total size in bytes allocated to this data structure. </dd>
<dt>
<b>dwNeededSize</b> </dt>
<dd>
The size in bytes for this data structure that is needed to hold all the returned information. </dd>
<dt>
<b>dwUsedSize</b> </dt>
<dd>
The size in bytes of the portion of this data structure that contains useful information. </dd>
<dt>
<b>dwButtonMode</b> </dt>
<dd>
The mode or general usage class of the button. This member uses the following PHONEBUTTONMODE_ constants: 
<dl>
<dt>
PHONEBUTTONMODE_DUMMY </dt>
<dd>
This value is used to describe a button/lamp position that has no corresponding button but has only a lamp. </dd>
<dt>
PHONEBUTTONMODE_CALL </dt>
<dd>
The button is assigned to a call appearance. </dd>
<dt>
PHONEBUTTONMODE_FEATURE </dt>
<dd>
The button is assigned to requesting features from the switch, such as hold, conference, and transfer. </dd>
<dt>
PHONEBUTTONMODE_KEYPAD </dt>
<dd>
The button is one of the twelve keypad buttons, '0' through '9', '*', and '#'. </dd>
<dt>
PHONEBUTTONMODE_LOCAL </dt>
<dd>
The button is a local function button, such as mute or volume control. </dd>
<dt>
PHONEBUTTONMODE_DISPLAY </dt>
<dd>
The button is a "soft" button associated with the phone's display. A phone set can have zero or more display buttons. </dd>
</dl>
</dd>
<dt>
<b>dwButtonFunction</b> </dt>
<dd>
The function assigned to the button. This member uses the PHONEBUTTONFUNCTION_ constants. </dd>
<dt>
<b>dwButtonTextSize</b> </dt>
<dt>
<b>dwButtonTextOffset</b> </dt>
<dd>
The size in bytes of the variably sized field containing descriptive text for this button, and the offset in bytes from the beginning of this data structure. The format of this information is as specified in the <b>dwStringFormat</b> member of the phone's device capabilities. </dd>
<dt>
<b>dwDevSpecificSize</b> </dt>
<dt>
<b>dwDevSpecificOffset</b> </dt>
<dd>
The size in bytes of the variably sized device-specific field, and the offset in bytes from the beginning of this data structure. </dd>
<dt>
<b>dwButtonState</b> </dt>
<dd>
For the <a href="func2_7ien.htm"><b>phoneGetButtonInfo</b></a> function, this field indicates the current state of the button, using the PHONEBUTTONSTATE_ constants. This field is ignored by the <b>phoneSetButtonInfo</b> function. 
</dd>
</dl>
<h4>Remarks</h4>
<p>
Device-specific extensions should use the <b>DevSpecific </b>(<b>dwDevSpecificSize</b> and <b>dwDevSpecificOffset</b>) variably sized area of this data structure. </p>
<p>
Older applications are compiled without this field in the <b>PHONEBUTTONINFO</b> structure, and using a <b>SIZEOF</b> <b>PHONEBUTTONINFO</b> smaller than the new size. The application passes in a <i>dwAPIVersion</i> parameter with the <a href="func2_6him.htm"><b>phoneOpen</b></a> function, which can be used for guidance by TAPI in handling this situation. If the application passes in a <b>dwTotalSize</b> less than the size of the fixed portion of the structure as defined in the specified <b>dwAPIVersion</b>, PHONEERR_STRUCTURETOOSMALL is returned. If sufficient memory has been allocated by the application, before calling <b>TSPI_phoneGetButtonInfo</b>, TAPI sets the <b>dwNeededSize</b> and <b>dwUsedSize</b> members to the fixed size of the structure as it existed in the specified API version. </p>
<p>
New service providers (which support the new API version) must examine the API version passed in. If the API version is less than the highest version supported by the provider, the service provider must not fill in fields not supported in older API versions, as these would fall in the variable portion of the older structure. </p>
<p>
New applications must be cognizant of the API version negotiated, and not examine the contents of fields in the fixed portion beyond the original end of the fixed portion of the structure for the negotiated API version. </p>
<h4>QuickInfo</h4>
<p>
&nbsp;&nbsp;<b>Version:</b> Use TAPI version 1.4 and later.<br>
&nbsp;&nbsp;<b>Header:</b> Declared in tapi.h.</p>
<h4>See Also</h4>
<p>
<a href="func2_7ien.htm"><b>phoneGetButtonInfo</b></a>, <a href="func2_6him.htm"><b>phoneOpen</b></a> </p>
<p>&nbsp;</p></body>
</HTML>
