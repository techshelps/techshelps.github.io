<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Nonclient Area</title>
<link disabled rel=stylesheet href=../../backsdk3.css>
<style type="text/css">
@import url(../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h2><a name="_win32_nonclient_area"></a>Nonclient Area</h2>
<p>
The system sends a <a href="pantdraw_8gdw.htm">WM_NCPAINT</a> message to the window whenever a part of the nonclient area of the window, such as the title bar, menu bar, or window frame, must be updated. The system may also send other messages to direct a window to update a portion of its client area; for example, when a window becomes active or inactive, it sends the <object id=alink_1 type="application/x-oleobject"
	classid="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
<PARAM name="Command" value="ALink,MENU">
<PARAM name="DefaultTopic" value="../../notopic_0pk4.htm">
<PARAM name="Item1" value="">
<PARAM name="Item2" value="_win32_wm_ncactivate">
</object><a href=JavaScript:alink_1.Click()>WM_NCACTIVATE</a> message to update its title bar. In general, processing these messages for standard windows is not recommended, because the application must be able to draw all the required parts of the nonclient area for the window. For this reason, most applications pass these messages to <object id=alink_2 type="application/x-oleobject"
	classid="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
<PARAM name="Command" value="ALink,MENU">
<PARAM name="DefaultTopic" value="../../notopic_0pk4.htm">
<PARAM name="Item1" value="">
<PARAM name="Item2" value="_win32_defwindowproc">
</object><a href=JavaScript:alink_2.Click()><b>DefWindowProc</b></a> for default processing. </p>
<p>
An application that creates custom nonclient areas for its windows must process these messages. When doing so, the application must use a window device context to carry out drawing in the window. The <i>window device context</i> enables the application to draw in all portions of the window, including the nonclient area. An application retrieves a window device context by using the <a href="pantdraw_0hcz.htm"><b>GetWindowDC</b></a> or <a href="devcons_76wo.htm"><b>GetDCEx</b></a> function and, when drawing is complete, must release the window device context by using the <a href="devcons_66hv.htm"><b>ReleaseDC</b></a> function. </p>
<p>
The system maintains an update region for the nonclient area. When an application receives a WM_NCPAINT message, the <i>wParam</i> parameter contains the handle of a region defining the dimensions of the update region. The application can use the handle to combine the update region with the clipping region for the window device context. The system does not automatically combine the update region when retrieving the window device context unless the application uses <b>GetDCEx</b> and specifies both the region handle and the DCX_INTERSECTRGN flag. If the application does not combine the update region, only drawing operations that would otherwise extend outside the window are clipped. The application is not responsible for clearing the update region, regardless of whether it uses the region. </p>
<p>
If an application processes the WM_NCACTIVATE message, after processing it must return TRUE to direct the system to complete the change of active window. If the window is minimized when the application receives the WM_NCACTIVATE message, it should pass the message to <b>DefWindowProc</b>. In such cases, the default function redraws the label for the icon. </p>
<p>&nbsp;</p></body>
</HTML>
