<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Retrieving Graphic-Object Attributes and Selecting New Graphic Objects</title>
<link disabled rel=stylesheet href=../../backsdk3.css>
<style type="text/css">
@import url(../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h2><a name="_win32_retrieving_graphic_object_attributes_and_selecting_new_graphic_objects"></a>Retrieving Graphic-Object Attributes and Selecting New Graphic Objects</h2>
<p>
An application can retrieve the attributes for a pen, brush, palette, font, or bitmap by calling the <a href="devcons_61tg.htm"><b>GetCurrentObject</b></a> and <a href="devcons_912s.htm"><b>GetObject</b></a> functions. The <b>GetCurrentObject</b> function returns a handle identifying the object currently selected into the device context; the <b>GetObject</b> function returns a structure that describes the object's attributes. </p>
<p>
The following example shows how an application can retrieve the current brush attributes and use the retrieved data to determine whether it is necessary to select a new brush. </p>
<pre><code>HDC hdc;                     // display DC handle 
    HBRUSH hbrushNew, hbrushOld; // brush handles 
    HBRUSH hbrush;               // brush handle 
    LOGBRUSH lb;                 // logical-brush structure 
 
    // Retrieve a handle identifying the current brush. 
 
    hbrush = GetCurrentObject(hdc, OBJ_BRUSH); 
 
    // Retrieve a LOGBRUSH structure that contains the 
    // current brush attributes. 
 
    GetObject(hbrush, sizeof(LOGBRUSH), &amp;lb); 
 
    // If the current brush is not a solid-black brush, 
    // replace it with the solid-black stock brush. 
 
    if ((lb.lbStyle != BS_SOLID) 
           || (lb.lbColor != 0x000000)) 
    { 
        hbrushNew = GetStockObject(BLACK_BRUSH); 
        hbrushOld = SelectObject(hdc, hbrushNew); 
    } 
 
    // Perform painting operations with the white brush. 
 
 
    // After completing the last painting operation with the new 
    // brush, the application should select the original brush back 
    // into the device context and delete the new brush. 
    // In this example, hbrushNew contains a handle to a stock object. 
    // It is not necessary (but it is not harmful) to call 
    // DeleteObject on a stock object. If hbrushNew contained a handle 
    // to a brush created by a function such as CreateBrushIndirect, 
    // it would be necessary to call DeleteObject. 
 
    SelectObject(hdc, hbrushOld); 
    DeleteObject(hbrushNew); 
</code></pre>
<p>
<b>Note</b>&nbsp;&nbsp;The application saved the original brush handle when calling the <a href="devcons_9v3o.htm"><b>SelectObject</b></a> function the first time. This handle is saved so that the original brush can be selected back into the device context after the last painting operation has been completed with the new brush. After the original brush is selected back into the device context, the new brush is deleted, freeing memory in the GDI heap. </p>
<p>&nbsp;</p></body>
</HTML>
