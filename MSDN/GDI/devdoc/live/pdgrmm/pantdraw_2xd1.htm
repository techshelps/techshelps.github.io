<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Display Device Context Cache</title>
<link disabled rel=stylesheet href=../../backsdk3.css>
<style type="text/css">
@import url(../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h3><a name="_win32_display_device_context_cache"></a>Display Device Context Cache</h3>
<p>
The system maintains a cache of display device contexts that it uses for common, parent, and window device contexts. The system retrieves a device context from the cache whenever an application calls the <a href="devcons_4esj.htm"><b>GetDC</b></a> or <a href="pantdraw_7b78.htm"><b>BeginPaint</b></a> function; the system returns the DC to the cache when the application subsequently calls the <a href="devcons_66hv.htm"><b>ReleaseDC</b></a> or <a href="pantdraw_1th0.htm"><b>EndPaint</b></a> function. </p>
<p>
In 16-bit Windows, the cache contains five display device contexts, but only five device contexts from the cache can be active at a time. To ensure that other applications have access to these device contexts, an application must release a device context immediately after using it. Failure to do so eventually causes the application to fail. </p>
<p>
There is no predetermined limit on the amount of device contexts that a cache can hold; the system creates a new display device context for the cache if none is available. Given this, a Win32-based application can have more than five active device contexts from the cache at a time. However, the application must continue to release these device contexts after use. Because new display device contexts for the cache are allocated in the application's heap space, failing to release the device contexts eventually consumes all available heap space. The system indicates this failure by returning an error when it cannot allocate space for the new device context. Other functions unrelated to the cache may also return errors. </p>
<p>&nbsp;</p></body>
</HTML>
