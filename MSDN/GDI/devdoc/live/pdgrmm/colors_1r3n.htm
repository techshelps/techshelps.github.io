<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>System Palette and Static Colors</title>
<link disabled rel=stylesheet href=../../backsdk3.css>
<style type="text/css">
@import url(../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h3><a name="_win32_system_palette_and_static_colors"></a>System Palette and Static Colors</h3>
<p>
Ordinarily, the system palette entries that the system reserves for static colors cannot be changed. An application can override this default behavior by using the <a href="colors_0sv9.htm"><b>SetSystemPaletteUse</b></a> function to reduce the number of static color entries and, thereby, increase the number of unused system palette entries. However, because changing the static colors can have an immediate and dramatic effect on all windows on the display, an application should not call <b>SetSystemPaletteUse</b>, unless it has a maximized window and the input focus. </p>
<p>
When an application calls <b>SetSystemPaletteUse</b> with the SYSPAL_NOSTATIC value, the system frees all but two of the reserved entries, allowing those entries to receive new color values when the application subsequently realizes its logical palette. The remaining two static color entries remain reserved and are set to white and black. An application can restore the reserved entries by calling <b>SetSystemPaletteUse</b> with the SYSPAL_STATIC value. It can discover the current system palette usage by using the <a href="colors_3tlx.htm"><b>GetSystemPaletteUse</b></a> function. </p>
<p>
Furthermore, after setting the system palette usage to SYSPAL_NOSTATIC, the application must immediately realize its logical palette, call the <object id=alink_1 type="application/x-oleobject"
	classid="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
<PARAM name="Command" value="ALink,MENU">
<PARAM name="DefaultTopic" value="../../notopic_0pk4.htm">
<PARAM name="Item1" value="">
<PARAM name="Item2" value="_win32_getsyscolor">
</object><a href=JavaScript:alink_1.Click()><b>GetSysColor</b></a> function to save the current system color settings, call the <object id=alink_2 type="application/x-oleobject"
	classid="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
<PARAM name="Command" value="ALink,MENU">
<PARAM name="DefaultTopic" value="../../notopic_0pk4.htm">
<PARAM name="Item1" value="">
<PARAM name="Item2" value="_win32_setsyscolors">
</object><a href=JavaScript:alink_2.Click()><b>SetSysColors</b></a> function to set the system colors to reasonable values using black and white, and finally send the <a href="colors_0hph.htm">WM_SYSCOLORCHANGE</a> message to other top-level windows to allow them to be redrawn with the new system colors. When setting system colors using black and white, the application should make sure adjacent or overlapping items, such as window frames and borders, are set to black and white, respectively. </p>
<p>
Before the application loses the input focus, closes its window, or terminates, it must immediately call <b>SetSystemPaletteUse</b> with the SYSPAL_STATIC value, realize its logical palette, restore the system colors to their previous values, and send the WM_SYSCOLORCHANGE message. The system sends a <a href="pantdraw_88ac.htm">WM_PAINT</a> message to any window that is affected by a system color change. Applications that have brushes using the existing system colors should delete those brushes and recreate them using the new system colors. </p>
<p>&nbsp;</p></body>
</HTML>
