<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>JPEG Extensions for Specific Bitmap Functions and Structures</title>
<link disabled rel=stylesheet href=../../backsdk3.css>
<style type="text/css">
@import url(../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h2><a name="_win32_jpeg_extensions_for_specific_bitmap_functions_and_structures"></a>JPEG Extensions for Specific Bitmap Functions and Structures</h2>
<p>
<span style=color:#FF0000>[This is preliminary documentation and subject to change.]</span> </p>
<p>
Starting with Windows 98 and Windows NT 5.0, the <a href="bitmaps_1ppv.htm"><b>StretchDIBits</b></a> and <a href="bitmaps_8e5h.htm"><b>SetDIBitsToDevice</b></a> functions have been extended to allow JPEG images to be passed as the source image. The extensions allow <b>SetDIBitsToDevice</b> and <b>StretchDIBits</b> to send JPEG images to printer devices. This extension is not intended as a means to supply general JPEG decompression to applications, but rather to allow applications to send JPEG compressed images directly to printers having hardware support for JPEG images.</p>
<p>
The <a href="bitmaps_1rw2.htm"><b>BITMAPINFOHEADER</b></a>, <a href="bitmaps_2k1e.htm"><b>BITMAPV4HEADER</b></a><b> </b>and <a href="bitmaps_7c36.htm"><b>BITMAPV5HEADER</b></a><b> </b>structures are extended to allow specification of a new compression value indicating that the bitmap data is a JPEG image. This new compression value is only valid for <b>SetDIBitsToDevice</b> and <b>StretchDIBits</b> when the <i>hdc </i>parameter specifies a printer device. To support metafile spooling of the printer, the application should not rely on the return value to determine whether the device supports the JPEG file. The application must issue the<b> </b>QUERYESCSUPPORT escape before calling <b>SetDIBitsToDevice </b>and <b>StretchDIBits</b>. If the validation escape fails, the application must then fall back on its own JPEG support to decompress the image into a bitmap.</p>
<p>&nbsp;</p></body>
</HTML>
