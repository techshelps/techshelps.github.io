<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Class Display Device Contexts</title>
<link disabled rel=stylesheet href=../../backsdk3.css>
<style type="text/css">
@import url(../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h3><a name="_win32_class_display_device_contexts"></a>Class Display Device Contexts</h3>
<p>
By using a <i>class device context</i>, an application can use a single display device context for every window belonging to a given class. Class device contexts are often used with control windows that are drawn using the same attribute values. Like private device contexts, class device contexts minimize the time required to prepare a device context for drawing. </p>
<p>
The system supplies a class device context for a window if it belongs to a window class having the CS_CLASSDC style. The system creates the device context when creating the first window belonging to the class and then uses the same device context for all subsequently created windows in the class. Initially, the class device context has the same default values for attributes as a common device context, but the application can modify these at any time. The system preserves all changes, except for the clipping region and device origin, until the last window in the class has been destroyed. A change made for one window applies to all windows in that class. </p>
<p>
An application can retrieve the handle for the class device context by using the <a href="devcons_4esj.htm"><b>GetDC</b></a> function any time after the first window has been created. The application can keep and use the handle without releasing it because the class device context is not part of the display device context cache. If the application creates another window in the same window class, the application must retrieve the class device context again. Retrieving the device context sets the correct device origin and clipping region for the new window. After the application retrieves the class device context for a new window in the class, the device context can no longer be used to draw in the original window without again retrieving it for that window. In general, each time it must draw in a window, an application must explicitly retrieve the class device context for the window. </p>
<p>
Applications that use class device contexts should always call <a href="pantdraw_7b78.htm"><b>BeginPaint</b></a> when processing a <a href="pantdraw_88ac.htm">WM_PAINT</a> message. The function sets the correct device origin and clipping region for the window, and incorporates the update region. The application should also call <a href="pantdraw_1th0.htm"><b>EndPaint</b></a> to restore the caret if <b>BeginPaint</b> hid it. <b>EndPaint </b>has no other effect on a class device context. </p>
<p>
The system passes the class device context when sending the <object id=alink_1 type="application/x-oleobject"
	classid="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
<PARAM name="Command" value="ALink,MENU">
<PARAM name="DefaultTopic" value="../../notopic_0pk4.htm">
<PARAM name="Item1" value="">
<PARAM name="Item2" value="_win32_wm_erasebkgnd">
</object><a href=JavaScript:alink_1.Click()>WM_ERASEBKGND</a> message to the application, permitting the current attribute values to affect any drawing carried out by the application or the system when processing this message. The system supplies a window device context with the <object id=alink_2 type="application/x-oleobject"
	classid="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
<PARAM name="Command" value="ALink,MENU">
<PARAM name="DefaultTopic" value="../../notopic_0pk4.htm">
<PARAM name="Item1" value="">
<PARAM name="Item2" value="_win32_wm_iconerasebkgnd">
</object><a href=JavaScript:alink_2.Click()>WM_ICONERASEBKGND</a> message regardless of whether the corresponding window has a class device context. As it could with a window having a private device context, an application can use <a href="devcons_76wo.htm"><b>GetDCEx</b></a> to force the system to return a common device context for the window that has a class device context. </p>
<p>
Using class device contexts is not recommended. </p>
<p>&nbsp;</p></body>
</HTML>
