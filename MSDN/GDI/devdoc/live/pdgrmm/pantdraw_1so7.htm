<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Synchronous and Asynchronous Drawing</title>
<link disabled rel=stylesheet href=../../backsdk3.css>
<style type="text/css">
@import url(../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h3><a name="_win32_synchronous_and_asynchronous_drawing"></a>Synchronous and Asynchronous Drawing</h3>
<p>
Most drawing carried out during processing of the<b> </b><a href="pantdraw_88ac.htm">WM_PAINT</a> message is asynchronous; that is, there is a delay between the time a portion of the window is invalidated and the time WM_PAINT<b> </b>is sent. During the delay, the application typically retrieves messages from the queue and carries out other tasks. The reason for the delay is that the system generally treats drawing in a window as a low-priority operation and works as though user-input messages and messages that may affect the position or size of a window will be processed before WM_PAINT. </p>
<p>
In some cases, it is necessary for an application to draw synchronously — that is, draw in the window immediately after invalidating a portion of the window. A typical application draws its main window immediately after creating the window to signal the user that the application has started successfully. The system draws some control windows synchronously, such as buttons, because such windows serve as the focus for user input. Although any window with a simple drawing routine can be drawn synchronously, all such drawing should be done quickly and should not interfere with the application's ability to respond to user input. </p>
<p>
The <a href="pantdraw_4zef.htm"><b>UpdateWindow</b></a> and <a href="pantdraw_81pz.htm"><b>RedrawWindow</b></a> functions allow for synchronous drawing. <b>UpdateWindow</b> sends a WM_PAINT<b> </b>message directly to the window if the update region is not empty. <b>RedrawWindow</b> also sends a WM_PAINT<b> </b>message, but gives the application greater control over how to draw the window, such as whether to draw the nonclient area and window background or whether to send the message regardless of whether the update region is empty. These functions send the WM_PAINT<b> </b>message directly to the window, regardless of the number of other messages in the application message queue. </p>
<p>
Any window requiring time-consuming drawing operations should be drawn asynchronously to prevent pending messages from being blocked as the window is drawn. Also, any application that frequently invalidates small portions of a window should allow these invalid portions to consolidate into a single asynchronous WM_PAINT<b> </b>message, rather than a series of synchronous WM_PAINT<b> </b>messages. </p>
<p>&nbsp;</p></body>
</HTML>
