<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>GdiFlush</title>
<link disabled rel=stylesheet href=../../backsdk3.css>
<style type="text/css">
@import url(../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h1><a name="_win32_gdiflush"></a>GdiFlush</h1>
<p>
The <b>GdiFlush</b> function flushes the calling thread's current batch. </p>
<pre><code><b>BOOL GdiFlush(</b>VOID<b>)</b>
<b> </b></code></pre>
<h4>Parameters</h4>
<p>
This function has no parameters. </p>
<h4>Return Values</h4>
<p>
If all functions in the current batch succeed, the return value is nonzero.</p>
<p>
If not all functions in the current batch succeed, the return value is zero, indicating that at least one function returned an error. </p>
<h4>Remarks</h4>
<p>
Batching enhances drawing performance by minimizing the amount of time needed to call GDI drawing functions that return Boolean values. The system accumulates the parameters for calls to these functions in the current batch and then calls the functions when the batch is flushed by any of the following means: 
<ul>
<li>
Calling the <b>GdiFlush</b> function </li>
<li>
Reaching or exceeding the batch limit set by the <a href="pantdraw_8ed0.htm"><b>GdiSetBatchLimit</b></a> function </li>
<li>
Filling the batching buffers </li>
<li>
Calling any GDI function that does not return a Boolean value </li>
</ul>
<p>
The return value for <b>GdiFlush</b> applies only to the functions in the batch at the time <b>GdiFlush</b> is called. Errors that occur when the batch is flushed by any other means are never reported. </p>
<p>
The <a href="pantdraw_3n3o.htm"><b>GdiGetBatchLimit</b></a> function returns the batch limit. </p>
<p>
<b>Note</b>&nbsp;&nbsp;The batch limit is maintained for each thread separately. In order to completely disable batching, call <b>GdiSetBatchLimit</b>(1) during the initialization of each thread. </p>
<p>
An application should call <b>GdiFlush</b> before a thread goes away if there is a possibility that there are pending function calls in the graphics batch queue. The system does not execute such batched functions when a thread goes away. </p>
<p>
A multithreaded application that serializes access to GDI objects with a mutex must ensure flushing the GDI batch queue by calling <b>GdiFlush</b> as each thread releases ownership of the GDI object. This prevents collisions of the GDI objects (device contexts, metafiles, and so on). </p>
<h4>QuickInfo</h4>
<p>
<b>&nbsp;&nbsp;Windows NT: </b>Requires version 3.1 or later.<br>
<b>&nbsp;&nbsp;Windows: </b>Requires Windows 95 or later.<br>
<b>&nbsp;&nbsp;Windows CE: </b>Unsupported.<br>
<b>&nbsp;&nbsp;Header: </b>Declared in wingdi.h.<br>
<b>&nbsp;&nbsp;Import Library: </b>Use gdi32.lib.</p>
<h4>See Also</h4>
<p>
<a href="pantdraw_3wtj.htm">Painting and Drawing Overview</a>, <a href="pantdraw_8igj.htm">Painting and Drawing Functions</a>, <a href="pantdraw_3n3o.htm"><b>GdiGetBatchLimit</b></a>, <a href="pantdraw_8ed0.htm"><b>GdiSetBatchLimit</b></a> </p>
<p>&nbsp;</p></body>
</HTML>
