<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>FindFirstPrinterChangeNotification</title>
<link disabled rel=stylesheet href=../../backsdk3.css>
<style type="text/css">
@import url(../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h1><a name="_win32_findfirstprinterchangenotification"></a>FindFirstPrinterChangeNotification</h1>
<p>
The <b>FindFirstPrinterChangeNotification</b> function creates a change notification object and returns a handle to the object. You can then use this handle in a call to one of the wait functions to monitor changes to the printer or print server. </p>
<p>
The <b>FindFirstPrinterChangeNotification</b> call specifies the type of changes to be monitored. You can specify a set of conditions to monitor for changes, a set of printer information fields to monitor, or both.</p>
<p>
A wait operation on the change notification handle succeeds when one of the specified changes occurs in the specified printer or print server. You then call the <a href="prntspol_0tym.htm"><b>FindNextPrinterChangeNotification</b></a> function to retrieve information about the change, and to reset the change notification object for use in the next wait operation.</p>
<pre><code><b>HANDLE FindFirstPrinterChangeNotification(
  HANDLE</b><i> hPrinter</i><b>,  </b>// handle to printer or print server to monitor 
                    // for changes
<b>  DWORD</b><i> fdwFlags</i><b>,   </b>// flags that specify the conditions to monitor
<b>  DWORD</b><i> fdwOptions</i><b>, </b>// reserved, must be zero
<b>  LPVOID</b><i> pPrinterNotifyOptions</i>
<i>                    </i>// pointer to structure specifying printer 
                    // information to monitor
<b>);</b>
 </code></pre>
<h4>Parameters</h4>
<dl>
<dt>
<i>hPrinter</i></dt>
<dd>
Handle to the printer or print server that you want to monitor. This handle is obtained by calling the <a href="prntspol_9qnm.htm"><b>OpenPrinter</b></a> function.</dd>
<dt>
<i>fdwFlags</i></dt>
<dd>
A set of bit flags that specify the conditions that will cause the change notification object to enter a signaled state. A change notification occurs when one or more of the specified conditions are met. The <i>fdwFlags</i> parameter can be zero if <i>pPrinterNotifyOptions</i> is non-NULL. 
<p>
You can set one or more of the following change notification constants: 

<table cellspacing=4 cols=2>
<tr valign=top>
<th align=left width=20%>Value</th>
<th align=left width=80%>Meaning</th>
</tr>
<tr valign=top>
<td colspan=2 width=100%>PRINTER_CHANGE_FORM</td>
</tr>
<tr valign=top>
<td width=20%></td>
<td width=80%>Notify of any changes to a form. You can set this general flag or one or more of the following specific flags:<br>
PRINTER_CHANGE_ADD_FORM PRINTER_CHANGE_SET_FORM PRINTER_CHANGE_DELETE_FORM</td>
</tr>
<tr valign=top>
<td colspan=2 width=100%>PRINTER_CHANGE_JOB</td>
</tr>
<tr valign=top>
<td width=20%></td>
<td width=80%>Notify of any changes to a job. You can set this general flag or one or more of the following specific flags:<br>
PRINTER_CHANGE_ADD_JOB PRINTER_CHANGE_SET_JOB PRINTER_CHANGE_DELETE_JOB PRINTER_CHANGE_WRITE_JOB</td>
</tr>
<tr valign=top>
<td colspan=2 width=100%>PRINTER_CHANGE_PORT</td>
</tr>
<tr valign=top>
<td width=20%></td>
<td width=80%>Notify of any changes to a port. You can set this general flag or one or more of the following specific flags:<br>
PRINTER_CHANGE_ADD_PORT PRINTER_CHANGE_CONFIGURE_PORT PRINTER_CHANGE_DELETE_PORT</td>
</tr>
<tr valign=top>
<td colspan=2 width=100%>PRINTER_CHANGE_PRINT_PROCESSOR</td>
</tr>
<tr valign=top>
<td width=20%></td>
<td width=80%>Notify of any changes to a print processor. You can set this general flag or one or more of the following specific flags: PRINTER_CHANGE_ADD_PRINT_PROCESSOR PRINTER_CHANGE_DELETE_PRINT_PROCESSOR </td>
</tr>
<tr valign=top>
<td colspan=2 width=100%>PRINTER_CHANGE_PRINTER</td>
</tr>
<tr valign=top>
<td width=20%></td>
<td width=80%>Notify of any changes to a printer. You can set this general flag or one or more of the following specific flags: <br>
PRINTER_CHANGE_ADD_PRINTER PRINTER_CHANGE_SET_PRINTER PRINTER_CHANGE_DELETE_PRINTER PRINTER_CHANGE_FAILED_CONNECTION_PRINTER</td>
</tr>
<tr valign=top>
<td colspan=2 width=100%>PRINTER_CHANGE_PRINTER_DRIVER</td>
</tr>
<tr valign=top>
<td width=20%></td>
<td width=80%>Notify of any changes to a printer driver. You can set this general flag or one or more of the following specific flags:<br>
PRINTER_CHANGE_ADD_PRINTER_DRIVER PRINTER_CHANGE_SET_PRINTER_DRIVER PRINTER_CHANGE_DELETE_PRINTER_DRIVER</td>
</tr>
<tr valign=top>
<td colspan=2 width=100%>PRINTER_CHANGE_ALL</td>
</tr>
<tr valign=top>
<td width=20%></td>
<td width=80%>Notify if any of the preceding changes occur.</td>
</tr>
</table><br>


<p>
For descriptions of the more specific flags in the preceding table, see the <a href="prntspol_0tym.htm"><b>FindNextPrinterChangeNotification</b></a> function.
</dd>
<dt>
<i>fdwOptions</i></dt>
<dd>
Reserved; must be zero.</dd>
<dt>
<i>pPrinterNotifyOptions</i></dt>
<dd>
Pointer to a <a href="prntspol_1o4y.htm"><b>PRINTER_NOTIFY_OPTIONS</b></a> structure. The <b>pTypes</b> member of this structure points to an array of one or more <b>PRINTER_NOTIFY_OPTIONS_TYPE</b> structures, each of which specifies a printer information field to monitor. A change notification occurs when one or more of the specified fields changes. When a change occurs, the <b>FindNextPrinterChangeNotification</b> function can retrieve the new printer information. This parameter can be NULL if <i>fdwFlags</i> is nonzero. 
<p>
For a list of fields that can be monitored, see <a href="prntspol_0odu.htm"><b>PRINTER_NOTIFY_OPTIONS_TYPE</b></a>.

</dd>
</dl>
<h4>Return Values</h4>
<p>
If the function succeeds, the return value is a handle to a change notification object associated with the specified printer or print server.</p>
<p>
If the function fails, the return value is INVALID_HANDLE_VALUE. To get extended error information, call <object id=alink_1 type="application/x-oleobject"
	classid="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
<PARAM name="Command" value="ALink,MENU">
<PARAM name="DefaultTopic" value="../../notopic_0pk4.htm">
<PARAM name="Item1" value="">
<PARAM name="Item2" value="_win32_getlasterror">
</object><a href=JavaScript:alink_1.Click()><b>GetLastError</b></a>.</p>
<h4>Remarks</h4>
<p>
To monitor a printer or print server, call the <b>FindFirstPrinterChangeNotification </b>function, then use the returned change notification object handle in a call to one of the <object id=alink_2 type="application/x-oleobject"
	classid="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
<PARAM name="Command" value="ALink,MENU">
<PARAM name="DefaultTopic" value="../../notopic_0pk4.htm">
<PARAM name="Item1" value="">
<PARAM name="Item2" value="_win32_wait_functions">
</object><a href=JavaScript:alink_2.Click()>wait functions</a>.<b> </b>A wait operation on a change notification object is satisfied when the change notification object enters the signaled state. The system signals the object when one or more of the changes specified by <i>fdwFlags</i> or <i>pPrinterNotifyOptions</i> occurs in the monitored printer or print server.</p>
<p>
When you call <b>FindFirstPrinterChangeNotification</b>, either <i>fdwFlags</i> must be nonzero or <i>pPrinterNotifyOptions</i> must be non-NULL. If both are specified, notifications will occur for both.</p>
<p>
When a wait operation on a printer change notification object is satisfied, call the <a href="prntspol_0tym.htm"><b>FindNextPrinterChangeNotification</b></a> function to determine the cause of the notification. For a condition specified by <i>fdwFlags</i>, <b>FindNextPrinterChangeNotification</b> reports the condition or conditions that changed. For a printer information field specified by <i>pPrinterNotifyOptions</i> , <b>FindNextPrinterChangeNotification</b> reports the field or fields that changed as well as the new information for these fields. <b>FindNextPrinterChangeNotification</b> also resets the change notification object to the nonsignaled state so you can use it in another wait operation to continue monitoring the printer or print server.</p>
<p>
Do not call the <b>FindNextPrinterChangeNotification</b> function if the change notification object is not in the signaled state. If the wait function returns the value WAIT_TIMEOUT, the change object is not in the signaled state. Call the <b>FindNextPrinterChangeNotification</b> function only if the wait function succeeds without timing out.</p>
<p>
When you no longer need the change notification object, close it by calling the <a href="prntspol_1c1a.htm"><b>FindClosePrinterChangeNotification</b></a> function.</p>
<h4>QuickInfo</h4>
<p>
<b>&nbsp;&nbsp;Windows NT: </b>Requires version 3.5 or later.<br>
<b>&nbsp;&nbsp;Windows: </b>Unsupported.<br>
<b>&nbsp;&nbsp;Windows CE: </b>Unsupported.<br>
<b>&nbsp;&nbsp;Header: </b>Declared in winspool.h.<br>
<b>&nbsp;&nbsp;Import Library: </b>Use winspool.lib.</p>
<h4>See Also</h4>
<p>
<a href="prntspol_62ia.htm">Printing and Print Spooler Overview</a>, <a href="prntspol_7mgj.htm">Printing and Print Spooler Functions</a>, <a href="prntspol_1c1a.htm"><b>FindClosePrinterChangeNotification</b></a>, <a href="prntspol_0tym.htm"><b>FindNextPrinterChangeNotification</b></a>, <a href="prntspol_9qnm.htm"><b>OpenPrinter</b></a>, <a href="prntspol_1o4y.htm"><b>PRINTER_NOTIFY_OPTIONS</b></a>, <a href="prntspol_0odu.htm"><b>PRINTER_NOTIFY_OPTIONS_TYPE</b></a></p>
<p>&nbsp;</p></body>
</HTML>
