<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<html>

<head>
<meta http-equiv="Content-Type"
content="text/html; charset=iso-8859-1">
<meta name="GENERATOR" content="Microsoft FrontPage 2.0">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Changing Views</title>
<style>@import url(/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="/msdn_ie3.css"></HEAD>

<BODY bgcolor="#FFFFFF">


<h2>Changing Views</h2>

<p>The preceding code produces a list view control that initially
appears in details view. As yet, you have no way of changing
views. In the LISTVIEW sample, you can do this by choosing a view
from the Options menu, shown in Figure 3-8. </p>

<p><b>Figure 3-8.</b> </p>

<p><img src="fig3-8.gif" width="482" height="323"></p>

<h4><i>The Options menu in the LISTVIEW sample.</i> </h4>

<p>Clicking an item on this menu generates a WM_COMMAND message.
In an MFC application, you can handle this by adding a message
map entry for the command (IDM_LARGEICON for large icon view),
and you can change the view by setting the window style. To check
the current view of the control, use the LVS_TYPEMASK constant.
The current view can be LVS_ICON, LVS_SMALLICON, LVS_LIST, or
LVS_REPORT. </p>

<p><tt>void CMfclistView::OnLargeicon () <br>
{<br>
DWORD dwStyle;<br>
<br>
dwStyle = GetWindowLong (m_ListCtl.m_hWnd, GWL_STYLE);<br>
<br>
if ((dwStyle &amp; LVS_TYPEMASK) != LVS_ICON)<br>
SetWindowLong (m_ListCtl.m_hWnd, GWL_STYLE,<br>
(dwStyle &amp; ~LVS_TYPEMASK) | LVS_ICON);<br>
}</tt> </p>
</body>
</html>
