<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<html>

<head>
<meta http-equiv="Content-Type"
content="text/html; charset=iso-8859-1">
<meta name="GENERATOR" content="Microsoft FrontPage 2.0">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Creating an Image List</title>
<style>@import url(/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="/msdn_ie3.css"></HEAD>

<BODY bgcolor="#FFFFFF">


<h2>Creating an Image List</h2>

<p>Creating an image list is easy: just call the ImageList_Create
function or, if you are developing your application with MFC, use
the Create member function on the CImageList object. For a
nonmasked image list, ImageList_Create produces a single bitmap
large enough to hold the specified number of images with the
given dimensions. It then creates a screen-compatible DC and
selects the bitmap into it. For a masked image list,
ImageList_Create creates two bitmaps and two screen-compatible
DCs. It selects the image bitmap into one DC and selects the mask
bitmap into the other. The initial size of the image list is
determined by the size values that you specify in your call to
ImageList_Create. If you subsequently add more images, the size
of the image list automatically increases to accommodate them,
based on the number of images you specified as a growth limit. </p>

<p>The following code from the TREEVIEW sample demonstrates how
to create an image list, add images to it, and then ensure that
all the images have been added: </p>

<p><tt>// First create the image list you will need.<br>
hIml = ImageList_Create (BITMAP_WIDTH, // width<br>
BITMAP_HEIGHT, // height <br>
0, // creation flags<br>
NUM_BITMAPS, // number of images<br>
0); // amount this list can grow<br>
<br>
// Load the bitmaps and add them to the image list.<br>
hBmp = LoadBitmap (hInst, MAKEINTRESOURCE (FORSALE));<br>
idxForSale = ImageList_Add (hIml, // handle to image list<br>
hBmp, // handle of bitmap to add<br>
NULL); // handle of bitmap mask<br>
<br>
hBmp = LoadBitmap (hInst, MAKEINTRESOURCE (REDMOND));<br>
idxRedmond = ImageList_Add (hIml, hBmp, NULL);<br>
<br>
hBmp = LoadBitmap (hInst, MAKEINTRESOURCE (BELLEVUE));<br>
idxBellevue = ImageList_Add (hIml, hBmp, NULL);<br>
<br>
hBmp = LoadBitmap (hInst, MAKEINTRESOURCE (SEATTLE));<br>
idxSeattle = ImageList_Add (hIml, hBmp, NULL);<br>
<br>
// Be sure that all the bitmaps were added.<br>
if (ImageList_GetImageCount (hIml) &lt; NUM_BITMAPS)<br>
return FALSE;</tt> </p>
</body>
</html>
