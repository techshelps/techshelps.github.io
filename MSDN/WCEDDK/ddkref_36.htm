<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>ACMDM_FILTERTAG_DETAILS</title>
<style>@import url(msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="msdn_ie3.css"></HEAD>
<BODY BGCOLOR=#FFFFFF TEXT=#000000>

<h2><a name="_wceddk_acmdm_filtertag_details"></a>ACMDM_FILTERTAG_DETAILS</h2>
<p>
The ACMDM_FILTERTAG_DETAILS message requests an ACM driver to return information about a filter tag.</p>
<h4>Parameters</h4>
<dl>
<dt>
<i>dwDriverID</i></dt>
<dd>
Driver instance identifier. This is the value returned by the driver in response to the <b>ACM_Open</b> function.</dd>
<dt>
<i>hDriver</i></dt>
<dd>
Driver handle.</dd>
<dt>
<i>uMsg</i></dt>
<dd>
ACMDM_FILTERTAG_DETAILS</dd>
<dt>
<i>lParam1</i></dt>
<dd>
Pointer to an ACMFILTERTAGDETAILS structure. ( ACMFILTERTAGDETAILS is defined in Msacm.h and described in the Win32 SDK.)</dd>
<dt>
<i>lParam2</i></dt>
<dd>
Contains one of the following flags specified by the fdwDetails parameter of the acmFilterTagDetails function ( described in the Win32 SDK):
<dl>
<dt>
ACM_FILTERTAGDETAILSF_INDEX</dt>
<dd>
Indicates the dwFilterTagIndex member of the ACMFILTERTAGDETAILS structure contains a filter tag index. The valid index range is from zero to one less than the cFilterTags member returned in the driver's ACMDRIVERDETAILS structure. (See ACMDM_DRIVER_DETAILS.)
<p>
The driver should return details for the filter tag associated with the index.
</dd>
<dt>
ACM_FILTERTAGDETAILSF_FILTERTAG</dt>
<dd>
Indicates the dwFilterTag member of the ACMFILTERTAGDETAILS structure contains a filter tag.
<p>
The driver should return details for the specified filter tag.
</dd>
<dt>
ACM_FILTERTAGDETAILSF_LARGESTSIZE</dt>
<dd>
Indicates the driver should return details for the filter tag having the largest filter. The dwFilterTag member of ACMFILTERTAGDETAILS can contain a filter tag or WAVE_FILTER_UNKNOWN.</dd>
</dl>
</dd>
</dl>
<h4>Return Value</h4>
<p>
The driver should return MMSYSERR_NOERROR if the operation succeeds. Otherwise it should return one of the MMSYSERR error codes defined in Mmsystem.h, or one of the ACMERR error codes defined in Msacm.h. Possible error codes include:</p>
<table cellspacing=4 cols=2>
<tr valign=top>
<th align=left width=40%>Value</th>
<th align=left width=60%>Description</th>
</tr>
<tr valign=top>
<td width=40%>MMSYSERR_NOTSUPPORTED</td>
<td width=60%>The driver does not support filter operations or the specified query operation.</td>
</tr>
<tr valign=top>
<td width=40%>ACMERR_NOTPOSSIBLE</td>
<td width=60%>The input parameter values don't represent a valid filter or filter tag.</td>
</tr>
</table><br>
<h4>Comments</h4>
<p>
The ACM (WAVEAPI.DLL) sends the ACMDM_FILTERTAG_DETAILS message by calling the ACM driver's <b>ACM_IOControl</b>() entry point via DeviceIoControl(). The ACM sends this message when an application calls <b>acmFilterTagDetails</b>, which is described in the Win32 SDK.</p>
<p>
An ACM driver that provides filters must support this message.</p>
<p>
The client specifies the filter tag in the ACMFILTERTAGDETAILS structure's dwFilterTag member. The driver returns information for a particular tag, as follows:
<ul>
<li>
If the ACM_FILTERDETAILSF_INDEX flag is set, the client has specified an index value in the ACMFILTERTAGDETAILS structure's dwFilterTagIndex member. The driver fills in the ACMFILTERTAGDETAILS structure for the filter tag associated with the specified index value.</li>
<li>
If the ACM_FILTERTAGDETAILSF_FILTERTAG flag is set, the client has specified a filter tag in the ACMFILTERTAGDETAILS structure's dwFilterTag member. The driver fills in the ACMFILTERTAGDETAILS structure for the specified filter tag.</li>
<li>
If the ACM_FILTERTAGDETAILSF_LARGESTSIZE flag is set, the driver does one of two things:<ul>
<li>
If dwFilterTag contains WAVE_FILTER_UNKNOWN, the driver fills in the ACMFILTERTAGDETAILS structure for the filter tag having a filter with the largest filter structure size.</li>
<li>
If dwFilterTag contains a filter tag, the driver fills in the ACMFILTERTAGDETAILS structure for that filter tag, describing the filter with the largest structure size belonging to the specified tag.</li>
</ul>
</li>
</ul>
<p>
Before calling the driver's <b>ACM_IOControl</b> function, the ACM verifies that:
<ul>
<li>
The ACMFILTERTAGDETAILS structure is readable and writeable.</li>
<li>
The size of the ACMFILTERTAGDETAILS structure, contained in its cbStruct member, is at least the structure's defined size. (The structure's size can be larger than its defined size, to allow for a longer szFilterTag member or to allow newer, larger structure definitions to be used within drivers under development.)</li>
<li>
The ACMFILTERTAGDETAILS structure's fdwSupport member contains zero.</li>
<li>
The lParam2 parameter contains a valid flag value.</li>
</ul>
<p>
Before returning, the driver must set the ACMFILTERTAGDETAILS structure's cbStruct member to the actual number of bytes returned. The value returned in cbStruct must not be greater than the value received.</p>
<p>
For more information about filter tags, see Format Tags and Filter Tags in the Windows NT DDK.</p>
<p>&nbsp;</p></body>
</HTML>
