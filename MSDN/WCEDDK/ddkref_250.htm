<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>The [Drivers\PCMCIA\Plug-and-Play ID] Key</title>
<style>@import url(msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="msdn_ie3.css"></HEAD>
<BODY BGCOLOR=#FFFFFF TEXT=#000000>

<h2><a name="_wceddk_the_.5b.drivers.5c.pcmcia.5c.plug.2d.and.2d.play_id.5d_.key"></a>The [Drivers\PCMCIA\<i>Plug-and-Play ID</i>] Key</h2>
<p>
The [Drivers\PCMCIA] key contains subkeys for known PC Cards. Each subkey is the card's Plug-and-Play ID. The values within a <i>Plug and Play ID</i> subkey define the values for a PC Card device with a matching Plug and Play identifier.</p>
<p>
Required values for this subkey are described in the following table. Additional values can be stored for purposes specific to the device.</p>
<table cellspacing=4 cols=3>
<tr valign=top>
<th align=left width=15%>Value name</th>
<th align=left width=22%>Value type</th>
<th align=left width=63%>Description</th>
</tr>
<tr valign=top>
<td width=15%><b>Dll</b></td>
<td width=22%><b>REG_SZ</b></td>
<td width=63%>This value specifies the filename for the DLL that contains the installable device driver. The Device Manager will load the DLL.</td>
</tr>
<tr valign=top>
<td width=15%><b>Prefix</b></td>
<td width=22%><b>REG_SZ</b></td>
<td width=63%>This value specifies the device driver's <a href="devnames_2.htm">device filename prefix</a>. It is a three character identifier, such as "COM".</td>
</tr>
<tr valign=top>
<td width=15%><b>Index</b></td>
<td width=22%><b>REG_DWORD</b></td>
<td width=63%>This optional value specifies the device index (0 through 9) which the Device Manager should assign to the driver. If the <b>Index</b> value is not present, the Device Manager assigns the lowest index value available. This index will be associated with the device (for example, "PGR1:"). Only index values 0 through 9 are allowed.</td>
</tr>
<tr valign=top>
<td width=15%><b>Context</b></td>
<td width=22%><b>REG_DWORD</b></td>
<td width=63%>This optional value specifies the device context. If the <b>Context</b> value is present (that is, if it was initialized by the device's setup application), the Device Manager passes it as the <i>dwInfo</i> parameter to <b>RegisterDevice</b>. If it is not present, a pointer to a string containing the registry path to the device's [Drivers\Active] key is passed as the parameter. The driver's initialization function can then open this key to read its information. To let the driver read the [Drivers\Active] key data, you should not initialize the <b>Context</b> value.</td>
</tr>
<tr valign=top>
<td width=15%><b>Ioctl</b></td>
<td width=22%><b>REG_DWORD</b></td>
<td width=63%>This optional value specifies an I/O control code the Device Manager sends to an installable driver after loading it. If the <b>Ioctl</b> value is present, the Device Manager opens the loaded driver and calls its <b><i>xxx</i>_IOControl</b> function, passing the I/O control code specified by the <b>Ioctl</b> value. The driver can do any necessary post-initialization in this context. For example, the driver could load modules that will use the device. <p>
In addition, the Device Manager broadcasts a WM_DEVICECHANGE message for the new device and it signals the application notification system via the <b>CeEventHasOccurred</b> function, passing it the NOTIFICATION_EVENT_DEVICE_CHANGE event.</p>
</td>
</tr>
</table><br>
<p>
The following example shows the registry key for the Motorola NewsCard pager. When the Device Manager matches the pager's Plug-and-Play ID with the registry key, it loads Newscard.dll and registers a device for the NewsCard driver. Because the <b>Index</b> value is specified, the Device Manager registers the pager device as "PGR1:" device. If the <b>Index</b> value were not present, the Device Manager would select an appropriate device index (which would most likely be 1 anyway, unless some other device driver had already registered "PGR1:"). However, since an index is specified, only one PC Card of this type can be supported by this device driver because Device Manager cannot register this type of card under any other device name than "PGR1:".</p>
<pre><code>HKEY_LOCAL_MACHINE
    [Drivers]
        [PCMCIA]
            [Motorola,_Inc.-NewsCard_Data_Receiver-E6DD]
                DWORD: Index = 0x1
                SZ: Prefix = PGR
                SZ: Dll = NEWSCARD.DLL
</code></pre>
<p>&nbsp;</p></body>
</HTML>
