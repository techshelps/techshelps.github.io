<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>ACMDM_STREAM_CLOSE</title>
<style>@import url(msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="msdn_ie3.css"></HEAD>
<BODY BGCOLOR=#FFFFFF TEXT=#000000>

<h2><a name="_wceddk_acmdm_stream_close"></a>ACMDM_STREAM_CLOSE</h2>
<p>
The ACMDM_STREAM_CLOSE message requests an ACM driver to close a conversion stream that was opened with an ACMDM_STREAM_OPEN message.</p>
<h4>Parameters</h4>
<dl>
<dt>
<i>dwDriverID</i></dt>
<dd>
Driver instance identifier. This is the value returned by the driver in response to the <b>ACM_Open</b> function.</dd>
<dt>
<i>hDriver</i></dt>
<dd>
Driver handle.</dd>
<dt>
<i>uMsg</i></dt>
<dd>
ACMDM_STREAM_CLOSE</dd>
<dt>
<i>lParam1</i></dt>
<dd>
Pointer to an <b>ACMDRVSTREAMINSTANCE</b> structure.</dd>
<dt>
<i>lParam2</i></dt>
<dd>
Not used.</dd>
</dl>
<h4>Return Value</h4>
<p>
The driver should return MMSYSERR_NOERROR if the operation succeeds. Otherwise it should return one of the MMSYSERR error codes defined in Mmsystem.h, or one of the ACMERR error codes defined in Msacm.h. An asynchronous driver might have to return ACMERR_BUSY if a conversion operation has not completed.</p>
<h4>Comments</h4>
<p>
The ACM (WAVEAPI.DLL) sends the ACMDM_STREAM_CLOSE message by calling the ACM driver's <b>ACM_IOControl</b>() entry point via <b>DeviceIoControl</b>(). The ACM sends this message when an application calls the <b>acmStreamClose</b> function, which is described in the Win32 SDK.</p>
<p>
All ACM drivers that provide stream conversions must support this message. For more information about stream conversions, see Converting Data Streams in the Windows NT DDK.</p>
<p>
If the driver supports asynchronous operations, and if the client has specified the ACM_STREAMOPENF_ASYNC flag ( contained in the <b>ACMDRVSTREAMINSTANCE</b> structure's fdwOpen member), then the driver should send the client an MM_ACM_CLOSE callback message, by calling the <b>PostThreadMessage</b> function, after the operation completes.</p>
<p>&nbsp;</p></body>
</HTML>
