<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>ACMDM_FILTER_DETAILS</title>
<style>@import url(msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="msdn_ie3.css"></HEAD>
<BODY BGCOLOR=#FFFFFF TEXT=#000000>

<h2><a name="_wceddk_acmdm_filter_details"></a>ACMDM_FILTER_DETAILS</h2>
<p>
The ACMDM_FILTER_DETAILS message requests an ACM driver to return information about a filter associated with a specified filter tag.</p>
<h4>Parameters</h4>
<dl>
<dt>
<i>dwDriverID</i></dt>
<dd>
Driver instance identifier. This is the value returned by the driver in response to the <b>ACM_Open</b> function.</dd>
<dt>
<i>hDriver</i></dt>
<dd>
Driver handle.</dd>
<dt>
<i>uMsg</i></dt>
<dd>
ACMDM_FILTER_DETAILS</dd>
<dt>
<i>lParam1</i></dt>
<dd>
Pointer to an ACMFILTERDETAILS structure. ( ACMFILTERDETAILS is defined in Msacm.h and described in the Win32 SDK.)</dd>
<dt>
<i>lParam2</i></dt>
<dd>
Contains one of the following flags, specified by the fdwDetails parameter of the acmFilterDetails function ( described in the Win32 SDK):
<dl>
<dt>
ACM_FILTERDETAILSF_INDEX</dt>
<dd>
Indicates the dwFilterIndex member of the ACMFILTERDETAILS structure contains a filter index. The valid index range is from zero to one less than the cStandardFilters member returned in the ACMFILTERTAGDETAILS structure for the filter tag. (See ACMDM_FILTERTAG_DETAILS.)</dd>
<dt>
ACM_FILTERDETAILSF_FILTER</dt>
<dd>
Indicates the client has filled in the WAVEFILTER structure associated with the ACMFILTERDETAILS structure.</dd>
</dl>
</dd>
</dl>
<h4>Return Value</h4>
<p>
The driver should return MMSYSERR_NOERROR if the operation succeeds. Otherwise it should return one of the MMSYSERR error codes defined in Mmsystem.h, or one of the ACMERR error codes defined in Msacm.h. Possible error codes include:</p>
<table cellspacing=4 cols=2>
<tr valign=top>
<th align=left width=40%>Value</th>
<th align=left width=60%>Description</th>
</tr>
<tr valign=top>
<td width=40%>MMSYSERR_NOTSUPPORTED</td>
<td width=60%>The driver does not support filter operations or the specified query operation.</td>
</tr>
<tr valign=top>
<td width=40%>ACMERR_NOTPOSSIBLE</td>
<td width=60%>The input parameter values do not represent a valid filter or filter tag.</td>
</tr>
</table><br>
<h4>Comments</h4>
<p>
The ACM (WAVEAPI.DLL) sends the ACMDM_FILTER_DETAILS message by calling the ACM driver's <b>ACM_IOControl</b>() entry point via DeviceIoControl(). The ACM sends this message when an application calls <b>acmFilterDetails</b>, which is described in the Win32 SDK.</p>
<p>
An ACM driver that provides filters must support this message.</p>
<p>
The client can do either of the following:
<ul>
<li>
Specify a filter index, in order to obtain a description of the filter associated with the index.</li>
<li>
Specify a filter description, in order to validate the filter and obtain the filter's string description.</li>
</ul>
<p>
The client specifies the filter tag in the ACMFILTERDETAILS structure's dwFilterTag member. The driver returns information for a particular filter belonging to the filter tag, as follows:
<ul>
<li>
If the ACM_FILTERDETAILSF_INDEX flag is set, the client has specified an index value in the ACMFILTERDETAILS structure's dwFilterIndex member. The driver fills in the WAVEFILTER structure for the filter associated with the specified index value. It also fills in the ACMFILTERDETAILS structure's szFilter, fdwSupport, and cbStruct members.</li>
<li>
If the ACM_FILTERDETAILSF_FILTER flag is set, the client has filled in the WAVEFILTER structure. The driver validates the structure contents and, if the contents are valid, fills in the ACMFILTERDETAILS structure's szFilter, fdwSupport, and cbStruct members.</li>
</ul>
<p>
Before calling the driver's <b>ACM_IOControl</b> function, the ACM verifies that:
<ul>
<li>
The ACMFILTERDETAILS structure and its associated WAVEFILTER structure are readable and writeable.</li>
<li>
The size of the ACMFILTERDETAILS structure, contained in its cbStruct member, is at least the structure's defined size. (The structure's size can be larger than its defined size, to allow for a longer szFilter member or to allow newer, larger structure definitions to be used within drivers under development.)</li>
<li>
The size of the WAVEFILTER structure pointed to by the ACMFILTERDETAILS structure's pwfltr member is at least as large as the generic WAVEFILTER structure's defined size. (See The WAVEFILTER Structure below.)</li>
<li>
The ACMFILTERDETAILS structure's fdwSupport member contains zero.</li>
<li>
The lParam2 parameter contains a valid flag value.</li>
</ul>
<p>
Before returning, the driver must set the ACMFILTERDETAILS structure's cbStruct member to the actual number of bytes returned. The value returned in cbStruct must not be greater than the value received from the client.</p>
<p>
For more information about filter tags and filter structures, see Format Tags and Filter Tags and Defining Format Structures and Filter Structures in the Windows NT DDK.</p>
<p>
The WAVEFILTER Structure</p>
<p>
The WAVEFILTER structure is a generic structure for describing a filter. Generally, you will extend this structure for your specific filter type, as has been done in the Microsoft Audio Filter. (For examples, see VOLUMEWAVEFILTER and ECHOWAVEFILTER in mmreg.h.) When a client sends an ACMDM_FILTER_DETAILS message, it specifies the address of a structure that you have defined for the specified filter type. This structure is typically larger than the generic WAVEFILTER structure.</p>
<p>&nbsp;</p></body>
</HTML>
