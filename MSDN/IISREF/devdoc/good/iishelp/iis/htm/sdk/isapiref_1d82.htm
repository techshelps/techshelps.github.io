<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>ServerSupportFunction</title>
<link disabled rel=stylesheet href=../../../../../backsdk3.css>
<style type="text/css">
@import url(../../../../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h1><a name="_in_serversupportfunction_filter"></a>ServerSupportFunction</h1>
<p>
The <b>ServerSupportFunction</b> callback function is used by ISAPI filters to process the information that was included with the event notification. </p>
<pre><code><b>BOOL WINAPI * ServerSupportFunction(
</b>  <b>struct _HTTP_FILTER_CONTEXT</b> * <i>pfc</i>,
<b>  enum SF_REQ_TYPE</b><i> sfReq</i><b>,</b>
<b>  PVOID</b><i> pData</i><b>,</b>
  <b>DWORD</b> <i>ul1</i>,
<b>  DWORD</b><i> ul2</i>
<b>);</b>
 </code></pre>
<h4>Parameters</h4>
<dl>
<dt>
<i>pfc</i></dt>
<dd>
Points to a <b>HTTP_FILTER_CONTEXT</b> structure.</dd>
<dt>
<i>sfReq</i></dt>
<dd>
Points to a function used to extend the ISAPI filter functions. Parameters are specific to the extensions. The possible values follow:
<table cellspacing=4 cols=2>
<tr valign=top>
<td width=57%><b>Value</b></td>
<td width=43%><b>Meaning</b></td>
</tr>
<tr valign=top>
<td width=57%>SF_REQ_ADD_HEADERS_ON_DENIAL</td>
<td width=43%>If the server denies the HTTP request, add the specified headers to the server error response. This allows an authentication filter to advertise its services without filtering every request. Generally, the headers will be WWW-Authenticate headers with custom authentication schemes. However, no restriction is placed on which headers can be specified. IIS will advertise both basic and NTLM, individually and collectively, if they are enabled. <p>
This value should only be set by raw data filters the return SF_STATUS_READ_NEXT</p>
</td>
</tr>
<tr valign=top>
<td width=57%>SF_REQ_DISABLE_NOTIFICATIONS</td>
<td width=43%>Stops the receipt of notifications of specific events. </td>
</tr>
<tr valign=top>
<td width=57%>SF_REQ_GET_CONNID</td>
<td width=43%>Returns the connection ID contained in the <b>connID</b> field of an ISAPI extensions <a href="appref_3z1n.htm"><b>Extension_Control_Block</b></a>. This value can be used to coordinate shared data between filters and extensions.</td>
</tr>
<tr valign=top>
<td width=57%>SF_REQ_GET_PROPERTY</td>
<td width=43%>This value is used to get an IIS property as defined in SF_PROPERTY_IIS.</td>
</tr>
<tr valign=top>
<td width=57%>SF_REQ_NORMALIZE_URL</td>
<td width=43%>This value is used to normalize a URL. </td>
</tr>
<tr valign=top>
<td width=57%>SF_REQ_SEND_RESPONSE_HEADER</td>
<td width=43%>This sends a complete HTTP server response header including the status, server version, message time, and MIME version. Server extensions should append other information, such as content type and content length, followed by an extra \r\n.</td>
</tr>
<tr valign=top>
<td width=57%>SF_REQ_SET_CERTIFICATE_INFO</td>
<td width=43%><dl>
<dt>
Sets an SSPI security context and impersonation token derived from a client certificate.</dt>
</dl>
</td>
</tr>
<tr valign=top>
<td width=57%>SF_REQ_SET_NEXT_READ_SIZE</td>
<td width=43%><dl>
<dt>
This is used only by raw data filters that return SF_STATUS_REQ_READ_NEXT. It determines the amount of data to be read. </dt>
</dl>
</td>
</tr>
<tr valign=top>
<td width=57%>SF_REQ_SET_PROXY_INFO</td>
<td width=43%><dl>
<dt>
Indicates that the request came from a proxy.</dt>
</dl>
</td>
</tr>
</table><br>

</dd>
<dt>
<i>pData</i></dt>
<dd>
A zero-terminated string pointing to optional status string (for example, 401 Access Denied) or NULL for the default response of 200 OK.</dd>
<dt>
<i>ul1</i></dt>
<dd>
A DWORD containing information required by the function. The meaning of the parameter is dependent on SF_REQ_TYPE.</dd>
<dt>
<i>ul2</i></dt>
<dd>
A DWORD containing information required by the function. The meaning of the parameter is dependent on SF_REQ_TYPE.
</dd>
</dl>
<p>&nbsp;</p></body>
</HTML>
