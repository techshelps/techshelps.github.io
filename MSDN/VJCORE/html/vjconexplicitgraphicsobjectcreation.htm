<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Explicit Graphics Object Creation</title>
<style>@import url(stylesheets/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="stylesheets/msdn_ie3.css"></HEAD>
<BODY>

<h1><a name="vjconexplicitgraphicsobjectcreation"></a>Explicit Graphics Object Creation</h1>
<p>
All classes that extend the Control class support the createGraphics method, which you can use to create a Graphics object instance. The following code fragment demonstrates how to call this method from within a Form-derived class:</p>
<pre><code>Graphics g = this.createGraphics();
</code></pre>
<p>
A second approach to explicit Graphics object creation involves using a handle to a Win32 device context (HDC). Generally, the only case in which you create a Graphics object in this fashion is when you have called a Win32 method that returns an HDC.</p>
<p>
If you simply need graphical capabilities that are not supported natively in the Graphics object, you can use the object’s getHandle method to retrieve the handle to a Win32 device context and can pass that handle transparently to the appropriate Win32 method.</p>
<p>
If you create a Graphics object based on a previously existing handle, the Graphics object doesn't assume ownership of the handle; after you have used the object, you are responsible for freeing the handle using the appropriate Win32 function. If you use the Graphics object’s getHandle method to retrieve the object’s underlying handle, the object retains ownership of that handle and you should not try to free it.</p>
<p>
For more information on Win32 handles and the Graphics object, see <a href="vjtutperforminghandlebasedoperations.htm">Handle-Based Operations</a>.</p>
</BODY>
</HTML>
