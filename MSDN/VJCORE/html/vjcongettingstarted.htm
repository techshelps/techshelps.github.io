<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Message Box Example</title>
<style>@import url(stylesheets/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="stylesheets/msdn_ie3.css"></HEAD>
<BODY>

<h1><a name="vjcongettingstarted"></a>Message Box Example</h1>
<p>
This topic provides a message box application that uses the @dll.import directive.</p>
<p>
Using J/Direct to call Win32 DLLs from Java code is straightforward. The following is a short Java application that displays a message box:</p>
<pre><code>class ShowMsgBox {
 &nbsp; public static void main(String args[])
 &nbsp; {
 &nbsp;&nbsp;&nbsp;&nbsp; MessageBox(0, "It worked!", 
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "This messagebox brought to you using J/Direct", 0);
 &nbsp; }
 &nbsp; 
 &nbsp; /** @dll.import("USER32") */
 &nbsp; private static native int MessageBox(int hwndOwner, String text, 
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; String title, int fuStyle);
}
</code></pre>
<p>
The @dll.import directive tells the compiler that the MessageBox method will link to the Win32 USER32.DLL using the J/Direct protocol rather than the Raw Native Interface (RNI) protocol supported in previous versions. In addition, the Microsoft Virtual Machine (VM) for Java provides automatic type marshaling from String objects to the null-terminated strings expected by C. </p>
<p>
It is not necessary to indicate whether the ANSI MessageBox (MessageBoxA) function or the Unicode MessageBox function (MessageBoxW) should be called. In the above example, the ANSI version is always called. <a href="vjconhowvmchoosesbetweenansiunicode.htm">How the VM Chooses Between ANSI and Unicode</a> explains how to use the auto modifier to call the optimal version of the function, depending on the version of Microsoft Windows that is hosting the application. </p>
</BODY>
</HTML>
