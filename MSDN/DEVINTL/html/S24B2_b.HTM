<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<html>

<head>
<meta http-equiv="Content-Type"
content="text/html; charset=iso-8859-1">

<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Double-Byte Character Sets in Windows</title>
<style>@import url(../msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="../msdn_ie3.css"></HEAD>

<BODY bgcolor="#FFFFFF">

<FONT FACE="Verdana, Arial, Helvetica" SIZE="2">

<h2>Double-Byte Character Sets in Windows</h2>

<P><b>Glossary</b></p>

<ul>
    <li><b>Full-width character:</b> In a double-byte character
        set, a character that is represented by 2 bytes and
        typically has a half-width variant.</li>
    <li><b>Half-width character:</b> In a double-byte character
        set, a character that is represented by 1 byte and
        typically has a full-width variant.</li>
    <li><b>Hiragana:</b> The Japanese cursive script. Each
        hiragana character represents a phonetic syllable.</li>
    <li><b>Katakana:</b> A Japanese script, mostly used to spell
        words borrowed from other languages. Each katakana
        character represents a phonetic syllable.</li>
    <li><b>Kana:</b> The set of Japanese hiragana and katakana
        characters.</li>
    <li><b>Ideographic character:</b> A character of Chinese
        origin representing a word or a syllable that is
        generally used in more than one Asian language. Sometimes
        referred to as a Chinese character.</li>
    <li><b>Kanji:</b> The Japanese name for ideographic
        characters of Chinese origin.</li>
    <li><b>Shift-JIS:</b> The Japan Industry Standard multibyte
        encoding. The codes are numerically shifted from the
        codes used by the JIS standard X 0208, hence the name.</li>
    <li><b>Lead Byte-:</b> The byte value that is the first half
        of a double-byte character.</li>
    <li><b>Trail byte:</b> The byte value that is the second half
        of a double-byte character.</li>
</ul>

<p>The Chinese language defines more than 10000 basic ideographic
characters. Many of these characters were borrowed or adapted for
other writing systems long ago. These characters are called <i>hantsu</i>
or <i>hanzi</i> in Chinese, <i>kanji</i> in Japanese, and <i>hanja</i>
in Korean. Single-byte character sets are too small to
accommodate these languages. Once you have assigned 256 code
points (that is, indexes to the code page), what do you do with
the rest of the several thousand characters that Chinese or
Japanese readers and writers typically use every day?</p>

<p>A solution commonly used on PCs is to encode most characters
(primarily ideographs) with 2-byte values, thus making room for
far more than 256 characters. The key phrase in the previous
sentence is &quot;most characters&quot;&#151;characters such as
those in the ASCII set and the Japanese phonetic syllabary known
as <i>katakana</i> still have single-byte representations. The
result is a code page that mixes single-byte and double-byte
characters. You can actually see the difference when typing text
using most fonts on Far East editions of Windows. (See Figure
3-1.) Ideographic characters exist only in full-width form;
there's no such thing as a single-byte kanji character.</p>

<P><img src="F03FD01.gif" width="528" height="170"></p>

<P><b>Figure 3-1</b> <i>Half-width ASCII characters
followed by half-width katakana characters; and full-width ASCII
characters followed by full-width katakana, hiragana, and kanji
characters. Notice how the columns line up.</i></p>

<p>On other systems, such as some Unix systems, characters can be
represented by as many as 3 bytes. (See Figure 3-2.) Character
sets that mix character codes of 1, 2, and 3 bytes are generally
called multibyte character sets. Double-byte character sets are
specific types of multibyte character sets, in contrast with
Unicode, in which each character is always 16 bits wide.</p>

<P><img src="F03FD02.gif" width="576" height="129"></p>

<P><b>Figure 3-2</b> <i>Multibyte character sets.</i></p>

<p>The mixing of byte lengths in multibyte character sets used by
Far East editions of Windows leads to more complex string-parsing
code. Figure 3-3 gives an example of a Shift-JIS string and the
different code-point ranges that can appear: ASCII, Lead Byte-s
trail bytes, and kana. Each byte does not necessarily represent a
single character. For this reason, developers must exercise
caution when coding string-parsing routines.</p>

<p><img src="F03FD03.gif" width="292" height="455"></p>

<P><b>Figure 3-3</b> <i>A Shift-JIS string. Four code
ranges are shown: ASCII (0x00 through 0x7F), the first Shift-JIS
lead-byte range (0x81 through 0x9F), kana (0xA0 through 0xDF),
and the second lead-byte range (0xE0 through 0xFC).</i></p>
</FONT></BODY>
</html>
