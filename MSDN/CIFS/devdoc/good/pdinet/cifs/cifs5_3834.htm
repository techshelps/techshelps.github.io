<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>CLOSE: Close File</title>
<link disabled rel=stylesheet href=../../../backsdk3.css>
<style type="text/css">
@import url(../../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h3><a name="_cifs_80"></a>CLOSE: Close File</h3>
<p>
The close message is sent to invalidate a file handle for the requesting process.  All locks or other resources held by the requesting process on the file should be released by the server.  The requesting process can no longer use <i>fid</i> for further file access requests.</p>
<table border=1 cellspacing=4 cols=2 frame=box rules=cols>
<tr valign=top>
<td width=50%>Client Request<br>
==================================</td>
<td width=50%>Description<br>
=================================</td>
</tr>
<tr valign=top>
<td width=50%>UCHAR WordCount;</td>
<td width=50%>Count of parameter words = 3</td>
</tr>
<tr valign=top>
<td width=50%>USHORT Fid;</td>
<td width=50%>File handle</td>
</tr>
<tr valign=top>
<td width=50%>UTIME LastWriteTime</td>
<td width=50%>Time of last write</td>
</tr>
<tr valign=top>
<td width=50%>USHORT ByteCount;</td>
<td width=50%>Count of data bytes = 0</td>
</tr>
</table><br>
<p>
If <i>LastWriteTime</i> is 0, the server should allow its local operating system to set the file's times.  Otherwise, the server should set the time to the values requested.  Failure to set the times, even if requested by the client in the request message, should not result in an error response from the server.</p>
<p>
If <i>Fid</i> refers to a print spool file, the file should be spooled to the printer at this time.</p>
<table border=1 cellspacing=4 cols=2 frame=box rules=cols>
<tr valign=top>
<td width=50%>Server Response<br>
==================================</td>
<td width=50%>Description<br>
=================================</td>
</tr>
<tr valign=top>
<td width=50%>UCHAR WordCount;</td>
<td width=50%>Count of parameter words = 0</td>
</tr>
<tr valign=top>
<td width=50%>USHORT ByteCount;</td>
<td width=50%>Count of data bytes = 0</td>
</tr>
</table><br>
<h4>Errors</h4>
<p>
ERRDOS/ERRbadfid<br>
ERRSRV/ERRinvdevice<br>
ERRSRV/ERRinvid<br>
ERRSRV/ERRbaduid</p>
<p>&nbsp;</p></body>
</HTML>
