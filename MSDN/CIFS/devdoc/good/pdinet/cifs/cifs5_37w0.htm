<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Pid Field</title>
<link disabled rel=stylesheet href=../../../backsdk3.css>
<style type="text/css">
@import url(../../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h3><a name="_cifs_40"></a>Pid Field</h3>
<p>
<i>Pid</i> uniquely identifies a client process.  Clients inform servers of the creation of a new process by simply introducing a new <i>Pid</i> value into the dialogue for new processes.</p>
<p>
In the core protocol, the SMB_COM_PROCESS_EXIT SMB was used to indicate the catastrophic termination of a process on the client.  In the single tasking DOS system, it was possible for hard errors to occur causing the destruction of the process with files remaining open.  Thus a SMB_COM_PROCESS_EXIT SMB was sent for this occurrence to allow the server to close all files opened by that process.</p>
<p>
In the <code>LANMAN 1.0</code> and newer dialects, no SMB_COM_PROCESS_EXIT SMB is sent.  The client operating system must ensure that the appropriate close and cleanup SMBs will be sent when the last process referencing the file closes it.  From the server's point of view, there is no concept of FIDs "belonging to" processes.  A FID returned by the server to one process may be used by any other process using the same transport connection and <i>tid</i>.  There is no process creation SMB sent to the server; it is up to the client to ensure only valid client processes gain access to <i>fid</i>s (and <i>tid</i>s).  On SMB_COM_TREE_DISCONNECT (or when the client and server session is terminated) the server will invalidate any files opened by any process on that client.</p>
<p>&nbsp;</p></body>
</HTML>
