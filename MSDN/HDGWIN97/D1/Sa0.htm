<HTML><HEAD><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Plug and Play Design for PC Card 16</TITLE><META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset= iso-8859-1"><style>@import url(/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="/msdn_ie3.css"></HEAD><BODY BGCOLOR="#FFFFFF"><font face="verdana,arial,helvetica" size="2">

<H2 CLASS="h1">Plug and Play Design for PC&nbsp;Card 16</H2><P CLASS="t">This section summarizes the Plug and Play requirements for PC Card 16 cards.</P>
<P CLASS="t">The Windows&nbsp;operating system determines what type of card is plugged into the PC&nbsp;Card socket by examining the tuples on the card. For Plug and Play functionality, PC I/O cards must support a set of required information and configuration tuples. The PCMCIA bus enumerator uses these tuples to identify the card, load the correct device driver, and indicate all the possible configurations to the Plug and Play configuration manager. The configuration manager then dynamically assigns a valid configuration based on this information.</P>
<P CLASS="h4"><B>9. Required I/O card tuples supported</B></P>

<TABLE COLS="3" BORDER="0" CELLPADDING="7"><COLGROUP><COL WIDTH="25%" VALIGN="TOP"><COL WIDTH="25%" VALIGN="TOP"><COL WIDTH="25%" VALIGN="TOP"></COLGROUP><TBODY><TR><TD VALIGN="TOP">Required</TD><TD VALIGN="TOP"></TD><TD VALIGN="TOP"></TD></TR></TBODY></TABLE>
<P CLASS="spacing"><BR></P><P CLASS="t">You must implement the following items for any PCMCIA I/O card that connects to a PC&nbsp;97 system:</P>
<UL><LI>The PC&nbsp;Card must contain the device information tuple (CISTPL_DEVICE, 01h), the level 1 version/product information tuple (CISTPL_VERS_1, 15h), the configuration tuple (CISTPL_CONFIG, 1Ah), and the configuration table entry tuple (CISTPL_CFTABLE_ENTRY, 1Bh).</LI><LI>The level 1 version/product information tuple must contain the name of the manufacturer and the name of the product in the product information string (TPLLV1_INFO, byte 4).</LI><LI>The name of the manufacturer and the name of the product in the level-1 version/product information tuple must be composed only of ASCII characters greater than ASCII 20h and less than ASCII 7Fh.</LI></UL><P></P>
<P CLASS="t">Windows uses the information contained in the required and recommended tuples to create a unique device identifier for the card and to assimilate configuration information for the device. Windows&nbsp;uses the device configuration tuples to determine the general characteristics of the card.</P>
<P CLASS="ttl"><B>Required I/O Card Tuples</B></P>
<P></P>

<TABLE COLS="3" BORDER="0" CELLPADDING="7"><COLGROUP><COL WIDTH="55pt" VALIGN="TOP"><COL WIDTH="95pt" VALIGN="TOP"><COL WIDTH="196pt" VALIGN="TOP"></COLGROUP><TBODY><TR><TD VALIGN="TOP">Tuple <BR>identifier</TD><TD VALIGN="TOP">Tuple code</TD><TD VALIGN="TOP">Description and comments</TD></TR></TBODY></TABLE>
<P CLASS="spacing"><BR></P><P></P>

<TABLE COLS="4" BORDER="0" CELLPADDING="7"><COLGROUP><COL WIDTH="55pt" VALIGN="TOP"><COL WIDTH="95pt" VALIGN="TOP"><COL WIDTH="196pt" VALIGN="TOP"><COL WIDTH="3pt" VALIGN="TOP"></COLGROUP><TBODY><TR><TD VALIGN="TOP">01h</TD><TD VALIGN="TOP">CISTPL_DEVICE</TD><TD VALIGN="TOP">Device information (common memory). For non-memory cards, this tuple must be present, but the device type will be NULL.</TD></TR><TR><TD VALIGN="TOP">15h</TD><TD VALIGN="TOP">CISTPL_VERS_1</TD><TD VALIGN="TOP">Level 1 version/product information:<BR>        Product information string<BR>        Product name<BR>        Product number<BR>        Other manufacturer information</TD></TR><TR><TD VALIGN="TOP">1Ah</TD><TD VALIGN="TOP">CISTPL_CONF</TD><TD VALIGN="TOP">Configuration. Indicates the location of configuration registers and the registers present.</TD></TR><TR><TD VALIGN="TOP">1Bh</TD><TD VALIGN="TOP">CISTPL_CE</TD><TD VALIGN="TOP">Configuration table entry. Appropriate configuration requirements for I/O space, interrupts, memory, and so on should be specified.</TD></TR><TR><TD VALIGN="TOP">20h</TD><TD VALIGN="TOP">CISTPL_MANFID</TD><TD VALIGN="TOP">Manufacturer identifier. Card manufacturer identifier code. Defines manufacturer for this card.</TD></TR><TR><TD VALIGN="TOP">21h</TD><TD VALIGN="TOP">CISTPL_FUNCID</TD><TD VALIGN="TOP">Function identifier. Provides function information about the card. Also includes system&nbsp;initialization information.</TD></TR></TBODY></TABLE>
<P CLASS="spacing"><BR></P><P CLASS="t">The device information tuple provides information about the memory devices used in the card's common memory space. The device type, size, and speed are used to configure the socket for efficient access to the card. This tuple must be present on PCMCIA I/O cards, but the device type must be NULL.</P>
<P CLASS="t">The Level 1 version/product information tuple contains human-readable information about the product and its manufacturer. This information is intended to be displayed to the user, where necessary. Windows&nbsp;uses the information contained in the product information and product name strings to construct the device identifier for that card. It also scans through the tuple, starting at the very beginning and going to the end of the product name string. The information gathered from the scan is one source for creating a 16-bit cyclic redundancy check (CRC) that Windows&nbsp;uses to construct the device identifier. Because the optional third and fourth strings in the tuple are not used in the CRC scan, devices that require unique numbers on each card can use these strings to store that information.</P>
<P CLASS="t">The configuration tuple tells the software where to locate the configuration registers that program the card's configuration, as well as which registers are present on the card.</P>
<P CLASS="t">Each configuration table entry tuple completely describes one valid configuration in which the card can operate. Each entry describes power, timing, I/O space, interrupt, and memory space requirements for the given configuration. Configuration software selects one of these configurations for the card based on the resources currently available in the system.</P>
<P CLASS="t">The manufacturer identifier tuple (CISTPL_MANFID, 20h) and the function identification tuple (CISTPL_FUNCID, 21h) add extra flexibility to a PC&nbsp;Card that connects to the PC:</P>
<UL><LI>The manufacturer identifier tuple provides unique information about the manufacturer of this card. This code is registered with PCMCIA. Windows uses the manufacturer identifier tuple as one source for creating a 16-bit CRC used in the construction of the device identifier.</LI><LI>The function identification tuple provides information about the class of device or what function the card provides (for example, memory, modem, disk, and so on). This information helps the software perform necessary installation tasks and locate compatible drivers. Although it is not required to make this determination, Windows uses the function identification tuple internally to determine what type of device is on the PC&nbsp;Card.</LI></UL><P></P>
<P CLASS="h4"><B>10. Configuration entry tuples listed in priority order</B></P>

<TABLE COLS="3" BORDER="0" CELLPADDING="7"><COLGROUP><COL WIDTH="25%" VALIGN="TOP"><COL WIDTH="25%" VALIGN="TOP"><COL WIDTH="25%" VALIGN="TOP"></COLGROUP><TBODY><TR><TD VALIGN="TOP">Required</TD><TD VALIGN="TOP"></TD><TD VALIGN="TOP"></TD></TR></TBODY></TABLE>
<P CLASS="spacing"><BR></P><P CLASS="t">Place the configuration entry tuples in the preferred order for configuring the device. Windows processes the tuples in the order they are placed in the card's information structure (CIS). From these tuples, Windows creates logical configuration in this order and prioritizes them in the same order. Notice that for multiple voltage cards the voltage policy is to prioritize 3.3V configurations (if supported by the system) over 5V configurations, regardless of the order of the configuration table entry tuples (CISTPL_CFTABLE_ENTRY).</P>
<P CLASS="h4"><B>11. Maximum configuration options specified</B></P>

<TABLE COLS="3" BORDER="0" CELLPADDING="7"><COLGROUP><COL WIDTH="25%" VALIGN="TOP"><COL WIDTH="25%" VALIGN="TOP"><COL WIDTH="25%" VALIGN="TOP"></COLGROUP><TBODY><TR><TD VALIGN="TOP">Required</TD><TD VALIGN="TOP"></TD><TD VALIGN="TOP"></TD></TR></TBODY></TABLE>
<P CLASS="spacing"><BR></P><P CLASS="t">Many older PC Cards specified "fixed" configurations to address compatibility with existing software. However, this is not the intended use for tuples; the configuration software should be responsible for compatibility. The tuples should be used only to rule out configurations not supported by the hardware. If you must provide fixed configurations for an operating system other than Windows, you must still provide one or more entries that specify the maximum configurability the hardware can handle.</P></BODY></HTML>
