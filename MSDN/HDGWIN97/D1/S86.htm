<HTML><HEAD><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>ATAPI Peripheral General Requirements</TITLE><META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset= iso-8859-1"><style>@import url(/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="/msdn_ie3.css"></HEAD><BODY BGCOLOR="#FFFFFF"><font face="verdana,arial,helvetica" size="2">

<H3 CLASS="h2">ATAPI Peripheral General Requirements</H3><P CLASS="t">This section defines the requirements for all ATAPI devices.</P>
<P CLASS="h4"><B>17. Compliant with SFF 8020i v. 1.2 or higher</B></P>

<TABLE COLS="3" BORDER="0" CELLPADDING="7"><COLGROUP><COL WIDTH="25%" VALIGN="TOP"><COL WIDTH="25%" VALIGN="TOP"><COL WIDTH="25%" VALIGN="TOP"></COLGROUP><TBODY><TR><TD VALIGN="TOP">Required</TD><TD VALIGN="TOP"></TD><TD VALIGN="TOP"></TD></TR></TBODY></TABLE>
<P CLASS="spacing"><BR></P><P CLASS="t">This specification defines standard hardware and software design guidelines for ATAPI devices. Notice additional requirements for BIOS support of Int 13 Extensions earlier in this chapter.</P>
<P CLASS="h4"><B>18. All ATAPI devices enumerated by BIOS compliant with SFF 8020i v.&nbsp;2.5</B></P>

<TABLE COLS="3" BORDER="0" CELLPADDING="7"><COLGROUP><COL WIDTH="25%" VALIGN="TOP"><COL WIDTH="25%" VALIGN="TOP"><COL WIDTH="25%" VALIGN="TOP"></COLGROUP><TBODY><TR><TD VALIGN="TOP">Required</TD><TD VALIGN="TOP"></TD><TD VALIGN="TOP"></TD></TR></TBODY></TABLE>
<P CLASS="spacing"><BR></P><P CLASS="t">ATAPI specification SFF 8020i v.&nbsp;2.5 defines the process for enumeration of all ATAPI devices.</P>
<P CLASS="h4"><B>19. Media Status Notification support v. 1.03 or higher</B></P>

<TABLE COLS="3" BORDER="0" CELLPADDING="7"><COLGROUP><COL WIDTH="25%" VALIGN="TOP"><COL WIDTH="25%" VALIGN="TOP"><COL WIDTH="25%" VALIGN="TOP"></COLGROUP><TBODY><TR><TD VALIGN="TOP">Required</TD><TD VALIGN="TOP"></TD><TD VALIGN="TOP"></TD></TR></TBODY></TABLE>
<P CLASS="spacing"><BR></P><P CLASS="t">The Microsoft specification for Media Status Notification support (v. 1.03 or higher) defines the protocol for ATA and ATAPI devices to use in communicating about the current state of removable media.</P>
<P CLASS="h4"><B>20. Automatic configuration of firmware based on CSEL configuration</B></P>

<TABLE COLS="3" BORDER="0" CELLPADDING="7"><COLGROUP><COL WIDTH="25%" VALIGN="TOP"><COL WIDTH="25%" VALIGN="TOP"><COL WIDTH="25%" VALIGN="TOP"></COLGROUP><TBODY><TR><TD VALIGN="TOP">Required</TD><TD VALIGN="TOP"></TD><TD VALIGN="TOP"></TD></TR></TBODY></TABLE>
<P CLASS="spacing"><BR></P><P CLASS="t">SFF 8020i Section 10.0 (v. 1.2 or higher) defines the cabling and connectors required for automatic configuration of a device as master (dev0) or slave (dev1) on a given channel. This required Cable Select (CSEL) support eliminates the need for master-slave jumpers on the drive. </P>
<P CLASS="t">The implementation for boot drive determination in multiple-drive systems is defined in the Compaq, Intel, Phoenix BIOS Boot Specification (Section 5.0). This is the format Windows operating systems will use as the consistent method for determining the boot drive as new bootable devices are introduced for PCs. The system designer can use an equivalent method for boot drive determination, but the method must ensure that the boot drive is recognized by the Windows 95 and Windows NT operating systems.</P>
<P CLASS="h4"><B>21. Pin&nbsp;1 cable designation for connections</B></P>

<TABLE COLS="3" BORDER="0" CELLPADDING="7"><COLGROUP><COL WIDTH="25%" VALIGN="TOP"><COL WIDTH="25%" VALIGN="TOP"><COL WIDTH="25%" VALIGN="TOP"></COLGROUP><TBODY><TR><TD VALIGN="TOP">Required</TD><TD VALIGN="TOP"></TD><TD VALIGN="TOP"></TD></TR></TBODY></TABLE>
<P CLASS="spacing"><BR></P><P CLASS="t">Pin&nbsp;1 orientation must be designated by one edge of the ribbon cable and also on the keyed connector of the IDE or ATAPI peripheral device.</P>
<P CLASS="h4"><B>22. ATAPI RESET supported in hardware, per SFF 8020i v. 1.2</B></P>

<TABLE COLS="3" BORDER="0" CELLPADDING="7"><COLGROUP><COL WIDTH="25%" VALIGN="TOP"><COL WIDTH="25%" VALIGN="TOP"><COL WIDTH="25%" VALIGN="TOP"></COLGROUP><TBODY><TR><TD VALIGN="TOP">Recommended</TD><TD VALIGN="TOP"></TD><TD VALIGN="TOP"></TD></TR></TBODY></TABLE>
<P CLASS="spacing"><BR></P><P CLASS="t">Ensure that the ATAPI RESET command is processed by the peripheral, even if the firmware state cannot be determined. Reset the controller by going into a power-up state (clear requests, signature present), except leave any nondefault Mode values in their current state and leave the DRV bit unchanged (Section 6.2 of SFF 8020i v. 1.2 or higher).</P>
<P CLASS="h4"><B>23. PCI IDE bus mastering compliant with SFF 8038i</B></P>

<TABLE COLS="3" BORDER="0" CELLPADDING="7"><COLGROUP><COL WIDTH="25%" VALIGN="TOP"><COL WIDTH="25%" VALIGN="TOP"><COL WIDTH="25%" VALIGN="TOP"></COLGROUP><TBODY><TR><TD VALIGN="TOP">Recommended</TD><TD VALIGN="TOP"></TD><TD VALIGN="TOP"></TD></TR></TBODY></TABLE>
<P CLASS="spacing"><BR></P><P CLASS="t">IDE devices should comply with Small Form Factor (SFF) 8038i to ensure fully-featured hardware and Windows-compatible device driver support. </P>
<P CLASS="nt"><FONT CLASS="nh"><B>Note</B></FONT>  This will become a requirement in 1998.</P>
<P CLASS="h4"><B>24. SMART-compliant drive uses SMART IOCTL API</B></P>

<TABLE COLS="3" BORDER="0" CELLPADDING="7"><COLGROUP><COL WIDTH="25%" VALIGN="TOP"><COL WIDTH="25%" VALIGN="TOP"><COL WIDTH="25%" VALIGN="TOP"></COLGROUP><TBODY><TR><TD VALIGN="TOP">Optional</TD><TD VALIGN="TOP"></TD><TD VALIGN="TOP"></TD></TR></TBODY></TABLE>
<P CLASS="spacing"><BR></P><P CLASS="t">The SMART IOCTL API Specification published by Compaq Computer Corporation and Microsoft Corporation (v. 1.1 or higher) describes the API for an application to issue SMART commands to an IDE drive under Microsoft Windows. In Windows&nbsp;95, the API is implemented in a Vendor Specific Driver (VSD), Smartvsd.vxd.</P></BODY></HTML>
