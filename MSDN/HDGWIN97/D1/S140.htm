<HTML><HEAD><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Device Drivers and Installation for Network Communications</TITLE><META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset= iso-8859-1"><style>@import url(/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="/msdn_ie3.css"></HEAD><BODY BGCOLOR="#FFFFFF"><font face="verdana,arial,helvetica" size="2">

<H3 CLASS="h2">Device Drivers and Installation for Network Communications</H3><P CLASS="t">This section summarizes requirements for device drivers for network communications devices, in addition to the requirements for using an NDIS&nbsp;4.0 miniport driver, as defined in the "Network Adapter Basic Features" section earlier in this chapter. </P>
<P CLASS="h4"><B>36. Device driver and installation meet Windows and Windows NT standards</B></P>

<TABLE COLS="3" BORDER="0" CELLPADDING="7"><COLGROUP><COL WIDTH="25%" VALIGN="TOP"><COL WIDTH="25%" VALIGN="TOP"><COL WIDTH="25%" VALIGN="TOP"></COLGROUP><TBODY><TR><TD VALIGN="TOP">Required</TD><TD VALIGN="TOP"></TD><TD VALIGN="TOP"></TD></TR></TBODY></TABLE>
<P CLASS="spacing"><BR></P><P CLASS="t">The manufacturer does not need to supply a driver if a standard driver is provided with the operating system. If a manufacturer supplies drivers, requirements for device drivers and installation include the following:</P>
<UL><LI>All devices and drivers must pass testing by Microsoft WHQL.</LI><LI>All configuration settings are stored in the registry. The driver must not use INI files for configuration settings.</LI><LI>The correct miniport driver or any other manufacturer-supplied files specified in the device's INF must be installed in the correct locations. For manufacturer-provided files, the vendor must not be identified as Microsoft, and all other copyright and version information must be correct for the manufacturer.</LI><LI>Driver installation and removal use Windows-based methods as defined in the Windows&nbsp;95 and Windows&nbsp;NT DDKs.</LI><LI>Driver files provided by the vendor must not use the same file names as used by files included in Microsoft operating systems, unless specifically agreed with Microsoft.</LI><LI>Only 32-bit protected-mode components are installed. No real-mode or 16-bit protected-mode components are provided in order to operate under Windows.</LI><LI>Driver supports Plug and Play IRPs (for WDM drivers) or messages (for VxDs).</LI></UL><P CLASS="t">For complete details about standard installation requirements for drivers, see "Basic PC&nbsp;97" in Part 2 of this guide.</P>
<P CLASS="h4"><B>37. Windows NT-based detection DLL works correctly</B></P>

<TABLE COLS="3" BORDER="0" CELLPADDING="7"><COLGROUP><COL WIDTH="25%" VALIGN="TOP"><COL WIDTH="25%" VALIGN="TOP"><COL WIDTH="25%" VALIGN="TOP"></COLGROUP><TBODY><TR><TD VALIGN="TOP">Required</TD><TD VALIGN="TOP"></TD><TD VALIGN="TOP"></TD></TR></TBODY></TABLE>
<P CLASS="spacing"><BR></P><P CLASS="t">This ensures that the network communications devices is correctly identified during installation. </P>
<P CLASS="h4"><B>38. Driver supports promiscuous mode</B></P>

<TABLE COLS="3" BORDER="0" CELLPADDING="7"><COLGROUP><COL WIDTH="25%" VALIGN="TOP"><COL WIDTH="25%" VALIGN="TOP"><COL WIDTH="25%" VALIGN="TOP"></COLGROUP><TBODY><TR><TD VALIGN="TOP">Required</TD><TD VALIGN="TOP"></TD><TD VALIGN="TOP"></TD></TR></TBODY></TABLE>
<P CLASS="spacing"><BR></P><P CLASS="t">This ensures that the adapter can be used with Microsoft Network Monitor Agent. This requirement applies only to LAN media (non-switched).</P>
<P CLASS="h4"><B>39. Driver works correctly with Microsoft network clients and protocols</B></P>

<TABLE COLS="3" BORDER="0" CELLPADDING="7"><COLGROUP><COL WIDTH="25%" VALIGN="TOP"><COL WIDTH="25%" VALIGN="TOP"><COL WIDTH="25%" VALIGN="TOP"></COLGROUP><TBODY><TR><TD VALIGN="TOP">Required</TD><TD VALIGN="TOP"></TD><TD VALIGN="TOP"></TD></TR></TBODY></TABLE>
<P CLASS="spacing"><BR></P><P CLASS="t">This includes the 32-bit Microsoft client and NetWare-compatible clients provided with Windows, whether connected to a Windows NT-based server, a Novell NetWare 3.x or 4.x server, or a Windows-based peer server. For all cases, this includes connections using Microsoft TCP/IP, the IPX/SPX-compatible protocol, and NetBEUI.<B><I> </I></B></P>
<P CLASS="h4"><B>40. NDIS miniport driver does not make operating system-specific kernel calls</B></P>

<TABLE COLS="3" BORDER="0" CELLPADDING="7"><COLGROUP><COL WIDTH="25%" VALIGN="TOP"><COL WIDTH="25%" VALIGN="TOP"><COL WIDTH="25%" VALIGN="TOP"></COLGROUP><TBODY><TR><TD VALIGN="TOP">Required</TD><TD VALIGN="TOP"></TD><TD VALIGN="TOP"></TD></TR></TBODY></TABLE>
<P CLASS="spacing"><BR></P><P CLASS="t">A miniport driver that follows the NDIS specification must not make operating system-specific calls. A correct driver makes calls only to the NDIS library. The NDIS library provides all the functions a driver needs or should use. This results in binary compatibility of the driver between Windows 95 and Windows&nbsp;NT.</P>
<P CLASS="t">NDIS conformance must be validated over a single network connection and multiple connections. For Windows NT, this must be validated on a multiprocessor system for any device that receives the "Designed for Microsoft Windows" logo.</P>
<P CLASS="h4"><B>41. Driver detects adapter availability for removable devices</B></P>

<TABLE COLS="3" BORDER="0" CELLPADDING="7"><COLGROUP><COL WIDTH="25%" VALIGN="TOP"><COL WIDTH="25%" VALIGN="TOP"><COL WIDTH="25%" VALIGN="TOP"></COLGROUP><TBODY><TR><TD VALIGN="TOP">Required</TD><TD VALIGN="TOP"></TD><TD VALIGN="TOP"></TD></TR></TBODY></TABLE>
<P CLASS="spacing"><BR></P><P CLASS="t">The device driver must sense the presence of the network device to determine whether the commands sent to and received from the network device are appropriate. This can be implemented using a known register address that can be queried. The device driver must inform the user if the network is not available.</P>
<P CLASS="h4"><B>42. Help file provided if special driver parameters are used</B></P>

<TABLE COLS="3" BORDER="0" CELLPADDING="7"><COLGROUP><COL WIDTH="25%" VALIGN="TOP"><COL WIDTH="25%" VALIGN="TOP"><COL WIDTH="25%" VALIGN="TOP"></COLGROUP><TBODY><TR><TD VALIGN="TOP">Required</TD><TD VALIGN="TOP"></TD><TD VALIGN="TOP"></TD></TR></TBODY></TABLE>
<P CLASS="spacing"><BR></P><P CLASS="t">This ensures that the user can change settings correctly. The user interface for displaying any driver-specific Help file must display the correct file. The Help file must contain relevant information.</P></BODY></HTML>
