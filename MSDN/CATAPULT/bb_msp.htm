<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<html>

<HEAD>
<meta name="PREMIUM" content="MSDN">
<meta http-equiv="Content-Type" content="text/html; charset=iso8859-1">
<meta name="MS.LOCALE" content="EN-US">
<meta name="DESCRIPTION" content="This page is from the Microsoft Proxy Server book, found in the Tools and Technologies Section in the MSDN Library">



<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Appendix B, Network Considerations</title>
<style>@import url(msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="msdn_ie3.css"></HEAD>


<BODY bgcolor="#FFFFFF" link=#003399 vlink=#996699>


<FONT FACE="Verdana, Arial, Helvetica" SIZE="2">

	<!--TOOLBAR_START-->
	<!--TOOLBAR_EXEMPT-->
	<!--TOOLBAR_END-->

<FONT FACE="Verdana, Arial, Helvetica" SIZE="2">

<p align="left"><a name="Top"><font size="2"
face="Verdana, Arial, Helvetica"><img src="onepix.gif" alt="Space"
align="top" width="1" height="1"></font></a></p>

<hr>

<h3><a name="AppendixB"><font size="2" face="Verdana, Arial, Helvetica"><br>
Appendix B</font></a></h3>

<h1><a name="1h1"><font size="6" face="Verdana, Arial, Helvetica">Network
Considerations</font></a></h1>

<blockquote>
    <p><a href="#h201"><font size="2" face="Verdana, Arial, Helvetica">Overview
    of Network Considerations with Microsoft Proxy Server</font></a><font
    size="2" face="Verdana, Arial, Helvetica"><br>
    </font><a href="#h202"><font size="2" face="Verdana, Arial, Helvetica">Considerations
    for Setting Up Your Private Network</font></a><font size="2"
    face="Verdana, Arial, Helvetica"><br>
    </font><a href="#h203"><font size="2" face="Verdana, Arial, Helvetica">Considerations
    for Connecting to the Internet</font></a></p>
</blockquote>

<hr>

<h1><a href="#Top"><font size="2" face="Verdana, Arial, Helvetica"><img
src="up.gif" alt="To Top" align="middle" border="0" width="14"
height="11"></font></a><a name="h201"><font size="2"
face="Verdana, Arial, Helvetica">Overview of Network Considerations with
Microsoft Proxy Server</font></a></h1>

<p><font size="2" face="Verdana, Arial, Helvetica">Whether your network
currently uses TCP/IP or not, you will need to decide how
Microsoft Proxy Server operates with TCP/IP services used on the
Internet, and possibly with TCP/IP services already installed on
your network. Your decisions will be influenced by a number of
factors: </font></p>

<ul>
    <li><p align="left"><font size="2" face="Verdana, Arial, Helvetica"><strong>Network
        size&nbsp;&nbsp;&nbsp;</strong>If you have a small
        Microsoft-based network of fewer than&nbsp;50 users, the
        use of NetBIOS machine broadcasts may be acceptable for
        resolving host-to-computer name addresses on your
        network. If your network is large, or is subdivided,
        consider a more advanced service option, such as Domain
        Naming System (DNS) or Windows Internet Naming Service
        (WINS), which can be used to manage name resolution. </font></p>
    </li>
    <li><p align="left"><font size="2" face="Verdana, Arial, Helvetica"><strong>Network
        protocols&nbsp;&nbsp;&nbsp;</strong>Microsoft Proxy
        Server uses TCP/IP or IPX/SPX protocols to communicate on
        your network with clients. If you have one of these
        protocols installed already for all clients on your
        network, your network is ready for Microsoft Proxy
        Server. If you have a small network that is currently
        using NetBEUI only, you need to enable one of these other
        protocols for your network clients to have proxy access. </font></p>
    </li>
    <li><font size="2" face="Verdana, Arial, Helvetica"><strong>Network
        connection type&nbsp;&nbsp;&nbsp;</strong>Depending on
        the type of connection hardware you use, some additional
        considerations can apply. Connection hardware options can
        include network adapter cards, modems, or ISDN adapters. </font></li>
</ul>

<p><font size="2" face="Verdana, Arial, Helvetica">This appendix outlines
some of the options you have available when planning and
implementing TCP/IP services on the Internet with Microsoft Proxy
Server on your network. </font></p>

<hr>

<h1><a href="#Top"><font size="2" face="Verdana, Arial, Helvetica"><img
src="up.gif" alt="To Top" align="middle" border="0" width="14"
height="11"></font></a><a name="h202"><font size="2"
face="Verdana, Arial, Helvetica">Considerations for Setting Up Your
Private Network</font></a></h1>

<blockquote>
    <p><a href="#h301"><font size="2" face="Verdana, Arial, Helvetica">Using
    Broadcasts to Resolve Host Names </font></a><font size="2"
    face="Verdana, Arial, Helvetica"><br>
    </font><a href="#h302"><font size="2" face="Verdana, Arial, Helvetica">Using
    WINS Service</font></a><font size="2" face="Verdana, Arial, Helvetica"><br>
    </font><a href="#h303"><font size="2" face="Verdana, Arial, Helvetica">Using
    DNS with WINS and DHCP</font></a><font size="2"
    face="Verdana, Arial, Helvetica"><br>
    </font><a href="#h304"><font size="2" face="Verdana, Arial, Helvetica">Using
    Multiple DNS Servers </font></a></p>
</blockquote>

<h3><a href="#Top"><font size="2" face="Verdana, Arial, Helvetica"><img
src="up.gif" alt="To Top" align="middle" border="0" width="14"
height="11"></font></a><a name="h301"><font size="2"
face="Verdana, Arial, Helvetica">Using Broadcasts to Resolve Host Names</font></a></h3>

<p><font size="2" face="Verdana, Arial, Helvetica">If your network is
small and limited to a single network segment or a single subnet,
broadcast name resolution through NetBIOS is an acceptable
solution. NetBIOS can be used with any of the network transport
protocols supported by Windows NT Server (NetBEUI, IPX/SPX, and
TCP/IP).</font></p>

<p><font size="2" face="Verdana, Arial, Helvetica">The advantage to using
NetBIOS broadcast resolution is that it requires no additional
administration once a basic network configuration has been set.
However, broadcast resolution using NetBIOS is not as effective
for larger intranets or in cases where routers are used to
subdivide your intranet. Also, the use of broadcasts increases
traffic on your network and can have negative effects for network
performance as your network increases in size.</font></p>

<p><font size="2" face="Verdana, Arial, Helvetica">For larger networks, an
improved solution is needed. Both WINS and DNS are examples of
services designed to accommodate the problems and demands
associated with larger networks. DNS was developed for larger
TCP/IP networks and is used throughout the Internet. WINS was
developed by Microsoft and is recommended for use in medium-sized
and large TCP/IP networks using Windows NT Server. </font></p>

<h3><a href="#Top"><font size="2" face="Verdana, Arial, Helvetica"><img
src="up.gif" alt="To Top" align="middle" border="0" width="14"
height="11"></font></a><a name="h302"><font size="2"
face="Verdana, Arial, Helvetica">Using WINS Service</font></a></h3>

<p><font size="2" face="Verdana, Arial, Helvetica">WINS was developed by
Microsoft and is recommended for use in medium and large networks
using Windows NT Server with TCP/IP. When installing a WINS
server on the same computer used for Microsoft Proxy Server, it
is important to:</font></p>

<ol>
    <li><font size="2" face="Verdana, Arial, Helvetica">Manually specify a
        permanent IP address in the TCP/IP properties for the
        server&#146;s internal network adapter. </font></li>
    <li><font size="2" face="Verdana, Arial, Helvetica">Use this same IP
        address (not the server&#146;s computer name) when using
        WINS Manager to add a WINS server for your internal
        network.</font></li>
</ol>

<p><font size="2" face="Verdana, Arial, Helvetica">For more information on
considerations for using Microsoft Proxy Server as either a WINS
client or WINS server, see &nbsp;</font><a href="05_msp.htm"><font
size="2" face="Verdana, Arial, Helvetica"> &#147;Server
Administration.&#148;</font></a><font size="2"
face="Verdana, Arial, Helvetica"> For more information on installing or
configuring WINS services, see your product documentation
provided with Windows&nbsp;NT Server&nbsp;4.0.</font></p>

<h3><a href="#Top"><font size="2" face="Verdana, Arial, Helvetica"><img
src="up.gif" alt="To Top" align="middle" border="0" width="14"
height="11"></font></a><a name="h303"><font size="2"
face="Verdana, Arial, Helvetica">Using DNS with WINS and DHCP</font></a></h3>

<p><font size="2" face="Verdana, Arial, Helvetica">Windows&nbsp;NT
Server&nbsp;4.0 provides a significantly enhanced DNS Server from
previous versions of Windows&nbsp;NT. This version supports
integration with WINS and DHCP services to provide a complete
solution for resolving host names to network addresses. </font></p>

<p><font size="2" face="Verdana, Arial, Helvetica">In addition to
performing standard DNS service, the Windows NT DNS Server can
further check a WINS names database for host names not resolved
by DNS. Also, because WINS can manage dynamic updating of
host-to-address information, the use of WINS and DNS together can
greatly reduce the need to manually administer DNS information
for your network.</font></p>

<p><font size="2" face="Verdana, Arial, Helvetica">An additional
possibility with WINS and DNS is the use of DHCP. With DHCP,
users in a large organization with Windows NT or Windows 95
clients can easily migrate to other locations within your private
network. Consistent access to network resources is maintained
through the use of friendly names, and the assignment of IP
addresses is effectively automated. For network administrators,
DHCP provides the best option for reducing the burden of
carefully managing IP address assignments for all network
clients.</font></p>

<p><font size="2" face="Verdana, Arial, Helvetica">For more information on
considerations when enabling DNS, WINS, and DHCP services with
Microsoft Proxy Server, see </font><a href="05_msp.htm"><font
size="2" face="Verdana, Arial, Helvetica"> &#147;Server
Administration.&#148;</font></a><font size="2"
face="Verdana, Arial, Helvetica"> For more information on installing and
configuring DNS, WINS, and DHCP services, see the documentation
provided with Windows NT Server. </font></p>

<h3><a href="#Top"><font size="2" face="Verdana, Arial, Helvetica"><img
src="up.gif" alt="To Top" align="middle" border="0" width="14"
height="11"></font></a><a name="h304"><font size="2"
face="Verdana, Arial, Helvetica">Using Multiple DNS Servers</font></a></h3>

<p><font size="2" face="Verdana, Arial, Helvetica">If you are using
Microsoft DNS on your intranet and also have external DNS
servers, you will need to change the configuration of the
Microsoft DNS server to turn off recursive forwarding for DNS
searches. To turn off recursive forwarding on the Windows&nbsp;NT
DNS server provided with Windows&nbsp;NT Server&nbsp;4.0, add the
following entry to the registry on the DNS server computer:</font></p>

<blockquote>
    <pre><font size="2" face="Verdana, Arial, Helvetica">HKEY_LOCAL_MACHINE
  SYSTEM
    CurrentControlSet 
      Services
        DNS
          Parameters
            NoRecursion:REG_DWORD:0x1</font></pre>
</blockquote>

<p><font size="2" face="Verdana, Arial, Helvetica">To add this registry
entry to the server, run <strong>regedt32</strong> and open the
following key:</font></p>

<blockquote>
    <pre><font size="2" face="Verdana, Arial, Helvetica">HKEY_LOCAL_MACHINE
  SYSTEM
    CurrentControlSet 
      Services
        DNS
          Parameters</font></pre>
</blockquote>

<p><font size="2" face="Verdana, Arial, Helvetica">In the <strong>Parameters</strong>
key add the following value:</font></p>

<blockquote>
    <p><font size="2" face="Verdana, Arial, Helvetica"><tt>NoRecursion:REG_DWORD:0x1</tt></font></p>
</blockquote>

<p><font size="2" face="Verdana, Arial, Helvetica">The preceding registry
entry prevents your local DNS server from blocking further
attempts to resolve a request for host name resolution. This
allows DNS searches to continue in trying other secondary DNS
servers specified in the search list. </font></p>

<p><font size="2" face="Verdana, Arial, Helvetica">If your local DNS
server uses a platform other than Windows&nbsp;NT
Server&nbsp;4.0, such as a Unix-based DNS server that uses the
BIND service, refer to your server&#146;s documentation on how to
turn off recursive forwarding. </font></p>

<p><font size="2" face="Verdana, Arial, Helvetica"><strong>Note</strong>&nbsp;&nbsp;&nbsp;If
you are using dial-up support with Microsoft Proxy Server, do not
use RAS settings to set DNS search lists.</font></p>

<hr>

<h1><a href="#Top"><font size="2" face="Verdana, Arial, Helvetica"><img
src="up.gif" alt="To Top" align="middle" border="0" width="14"
height="11"></font></a><a name="h203"><font size="2"
face="Verdana, Arial, Helvetica">Considerations for Connecting to the
Internet</font></a></h1>

<blockquote>
    <p><a href="#h305"><font size="2" face="Verdana, Arial, Helvetica">Considerations
    When Using a Direct Link</font></a><font size="2"
    face="Verdana, Arial, Helvetica"><br>
    </font><a href="#h306"><font size="2" face="Verdana, Arial, Helvetica">Considerations
    When Using a Dial-Up Link<br>
    </font></a><a href="#h307"><font size="2"
    face="Verdana, Arial, Helvetica">Managing Your Own Internet Domain<br>
    </font></a><a href="#h308"><font size="2"
    face="Verdana, Arial, Helvetica">Where to Put DNS Servers on Your
    Network</font></a></p>
</blockquote>

<h3><a href="#Top"><font size="2" face="Verdana, Arial, Helvetica"><img
src="up.gif" alt="To Top" align="middle" border="0" width="14"
height="11"></font></a><a name="h305"><font size="2"
face="Verdana, Arial, Helvetica">Considerations When Using a Direct Link</font></a></h3>

<p><font size="2" face="Verdana, Arial, Helvetica">If you are using a
continuous ongoing link to the Internet through a dedicated
leased line or T1 line option, you will need to specify DNS
servers for use in resolving Internet domain host names to IP
addresses. </font></p>

<p><font size="2" face="Verdana, Arial, Helvetica">One simple option is to
specify the IP addresses for DNS servers provided by your
Internet service provider (ISP). For this option, you will need
to obtain IP addresses for DNS servers from your ISP. These
addresses can then be entered in the <strong>DNS Service Search
Order</strong> dialog box on the <strong>DNS</strong> property
sheet for TCP/IP properties on the external server adapter that
connects Microsoft Proxy Server to your ISP.</font></p>

<p><font size="2" face="Verdana, Arial, Helvetica">Another option for some
networks is registering and managing your own Internet domain.
For more information on considerations for Microsoft Proxy Server
when using this option, see </font><a href="#h307"><font size="2"
face="Verdana, Arial, Helvetica">Managing Your Own Internet Domain</font></a><font
size="2" face="Verdana, Arial, Helvetica"> and </font><a href="#h308"><font
size="2" face="Verdana, Arial, Helvetica">Where to Put DNS Servers on Your
Network</font></a><font size="2" face="Verdana, Arial, Helvetica">, later
in this appendix.</font></p>

<h3><a href="#Top"><font size="2" face="Verdana, Arial, Helvetica"><img
src="up.gif" alt="To Top" align="middle" border="0" width="14"
height="11"></font></a><a name="h306"><font size="2"
face="Verdana, Arial, Helvetica">Considerations When Using A Dial-Up Link</font></a></h3>

<p><font size="2" face="Verdana, Arial, Helvetica"><strong>Note</strong>&nbsp;&nbsp;&nbsp;If
you are using dial-up support with Microsoft Proxy Server, do not
use RAS settings to set DNS search lists.</font></p>

<p><font size="2" face="Verdana, Arial, Helvetica">For more information on
issues concerning the use of multiple DNS servers with Microsoft
DNS and Microsoft Proxy Server, see </font><a href="#h304"><font
size="2" face="Verdana, Arial, Helvetica">Using Multiple DNS Servers.</font></a><font
size="2" face="Verdana, Arial, Helvetica"> </font></p>

<h3><a href="#Top"><font size="2" face="Verdana, Arial, Helvetica"><img
src="up.gif" alt="To Top" align="middle" border="0" width="14"
height="11"></font></a><a name="h307"><font size="2"
face="Verdana, Arial, Helvetica">Managing Your Own Internet Domain</font></a></h3>

<p><font size="2" face="Verdana, Arial, Helvetica">Although you can use
Microsoft Proxy Server to connect to the Internet whether or not
you have a registered domain name, many people or organizations
prefer to have one for representing themselves on the Internet.</font></p>

<p><font size="2" face="Verdana, Arial, Helvetica">If you have registered
an Internet domain name, you may decide to have your ISP handle
the details of how to administer your domain for use by others on
the Internet. For small organizations, this solution is preferred
because Internet domain administration is somewhat complex to
implement. </font></p>

<p><font size="2" face="Verdana, Arial, Helvetica">If you do decide to
register and manage your own domain, consider the following
options for setting up DNS services for your network and for
outside users on the Internet:</font></p>

<ul>
    <li><p align="left"><font size="2" face="Verdana, Arial, Helvetica">Install
        a single DNS server on your network that manages DNS
        services for both your private network and for Internet
        users. This computer is <em>multi-homed</em>, which means
        that it uses separate network interfaces to connect to
        both your private network and the Internet. </font></p>
    </li>
    <li><p align="left"><font size="2" face="Verdana, Arial, Helvetica">Install
        a single DNS server on Microsoft Proxy Server that
        manages DNS services for both your private network and
        for Internet users. For small organizations, combining
        DNS service with Microsoft Proxy Server on a single
        server computer may be preferred, although this
        configuration may reduce performance for proxy service. </font></p>
    </li>
    <li><p align="left"><font size="2" face="Verdana, Arial, Helvetica">Install
        two or more DNS servers on your private network with one
        for internal usage only and the other for managing your
        Internet domain for outside users on the Internet. </font></p>
    </li>
</ul>

<h3><a href="#Top"><font size="2" face="Verdana, Arial, Helvetica"><img
src="up.gif" alt="To Top" align="middle" border="0" width="14"
height="11"></font></a><a name="h308"><font size="2"
face="Verdana, Arial, Helvetica">Where to Put DNS Servers on Your Network</font></a></h3>

<p><font size="2" face="Verdana, Arial, Helvetica">To administer DNS
service locally on your network, first determine the preferred
physical location for any DNS servers on your network. </font></p>

<p><font size="2" face="Verdana, Arial, Helvetica">The location you choose
will depend on whether DNS service is needed for Internet
connections, or if DNS services are needed on your private
network only.</font></p>

<h4><a
name="IfyouwanttoprovideDNSservicesforInternetconnectionsonly"><font
size="2" face="Verdana, Arial, Helvetica"><strong>If you want to provide
DNS services for Internet connections only </strong></font></a></h4>

<ul>
    <li><p align="left"><font size="2" face="Verdana, Arial, Helvetica">Install
        a separate DNS server on the network segment that
        connects Microsoft Proxy Server to your ISP. This is a
        preferred solution for larger networks. </font></p>
    </li>
    <li><font size="2" face="Verdana, Arial, Helvetica">As an option,
        install and configure a DNS server on the computer
        running Microsoft Proxy Server. For this configuration,
        make sure that DNS services are installed on the external
        adapter only, and not on the internal adapter. This
        solution is not preferred, but is an option for smaller
        networks, where the cost of an additional server would be
        an issue.</font></li>
</ul>

<h4><a
name="IfyouwanttoprovideDNSservicesforyourprivatenetworkonly"><font
size="2" face="Verdana, Arial, Helvetica"><strong>If you want to provide
DNS services for your private network only</strong></font></a></h4>

<ul>
    <li><p align="left"><font size="2" face="Verdana, Arial, Helvetica">Install
        a separate DNS server on the network segment that
        connects Microsoft Proxy Server to your internal network.
        </font></p>
    </li>
    <li><font size="2" face="Verdana, Arial, Helvetica">Install and
        configure a DNS Server on the computer running Microsoft
        Proxy Server. For this configuration, make sure that DNS
        services are installed on the internal adapter only, and
        not on the external adapter. </font></li>
</ul>

<hr>

<p align="center"><font size="2" face="Verdana, Arial, Helvetica"><i>©
1996 by Microsoft Corporation. All rights reserved.</i> </font></p>
</FONT>
</FONT>
</BODY>
</html>
