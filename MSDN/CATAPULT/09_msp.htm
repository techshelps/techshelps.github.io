<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<html>

<HEAD>
<meta name="PREMIUM" content="MSDN">
<meta http-equiv="Content-Type" content="text/html; charset=iso8859-1">
<meta name="MS.LOCALE" content="EN-US">
<meta name="DESCRIPTION" content="This page is from the Microsoft Proxy Server book, found in the Tools and Technologies Section in the MSDN Library">



<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>CHAPTER 9, Security</title>
<style>@import url(msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="msdn_ie3.css"></HEAD>


<BODY bgcolor="#FFFFFF" link=#003399 vlink=#996699>


<FONT FACE="Verdana, Arial, Helvetica" SIZE="2">

	<!--TOOLBAR_START-->
	<!--TOOLBAR_EXEMPT-->
	<!--TOOLBAR_END-->

<FONT FACE="Verdana, Arial, Helvetica" SIZE="2">

<p align="left"><a name="Top"><font size="2"
face="Verdana, Arial, Helvetica"><img src="onepix.gif" alt="Space"
align="top" width="1" height="1"></font></a></p>

<hr>

<h1><a name="Security"><font size="6" face="Verdana, Arial, Helvetica">Security</font></a></h1>

<blockquote>
    <p align="left"><a href="#1h1"><font size="2"
    face="Verdana, Arial, Helvetica">Security Overview</font></a><font
    size="2" face="Verdana, Arial, Helvetica"><br>
    </font><a href="#2h1"><font size="2" face="Verdana, Arial, Helvetica">Web
    Proxy Security</font></a><font size="2"
    face="Verdana, Arial, Helvetica"><br>
    </font><a href="#3h1"><font size="2" face="Verdana, Arial, Helvetica">WinSock
    Proxy Security</font></a><font size="2"
    face="Verdana, Arial, Helvetica"><br>
    </font><a href="#5h1"><font size="2" face="Verdana, Arial, Helvetica">Securing
    Your Network</font></a></p>
</blockquote>

<hr>

<h1><a href="#Top"><font size="2" face="Verdana, Arial, Helvetica"><img
src="up.gif" alt="To Top" align="middle" border="0" width="14"
height="11"></font></a><a name="1h1"><font size="2"
face="Verdana, Arial, Helvetica">Security Overview</font></a></h1>

<p><font size="2" face="Verdana, Arial, Helvetica">Microsoft Proxy Server
provides a secure gateway between your private network and the
Internet. As a network administrator, you can use the default
configuration to set up Microsoft Proxy Server quickly. Once the
server is installed, you can enable Windows-based clients on your
private network to access Internet services without risking the
security of your private network. You can closely administer
Microsoft Proxy Server services to grant or deny access to users,
services, ports, or domains you that you specify. </font></p>

<p><font size="2" face="Verdana, Arial, Helvetica">When Microsoft Proxy
Server is first installed, Internet users are prevented from
connecting to your private network by:</font></p>

<ul>
    <li><p align="left"><font size="2" face="Verdana, Arial, Helvetica"><strong>Disabling
        IP forwarding on the server&nbsp;&nbsp;&nbsp;</strong>IP
        forwarding (IP routing) normally allows packets to be
        forwarded on the internal network. By disabling this
        feature for the server, all connections must be placed
        remotely by using the Microsoft Proxy Server. </font></p>
    </li>
    <li><p align="left"><font size="2" face="Verdana, Arial, Helvetica"><strong>Denying
        listening on inbound service ports&nbsp;&nbsp;&nbsp;</strong>This
        prevents Internet users from initiating connections on
        any service ports you do not specifically enable inbound
        access to. </font></p>
    </li>
</ul>

<hr>

<h1><a href="#Top"><font size="2" face="Verdana, Arial, Helvetica"><img
src="up.gif" alt="To Top" align="middle" border="0" width="14"
height="11"></font></a><a name="2h1"><font size="2"
face="Verdana, Arial, Helvetica">Web Proxy Security</font></a></h1>

<blockquote>
    <p><a href="#17h2"><font size="2" face="Verdana, Arial, Helvetica">About
    Web Proxy Security</font></a><a href="#9h2"><font size="2"
    face="Verdana, Arial, Helvetica"><br>
    Setting Access Control for the Web Proxy Service</font></a><a
    href="#2h2"><font size="2" face="Verdana, Arial, Helvetica"><br>
    How Anonymous Logon Works</font></a><font size="2"
    face="Verdana, Arial, Helvetica"><br>
    </font><a href="#3h2"><font size="2" face="Verdana, Arial, Helvetica">How
    Basic Authentication Works</font></a><font size="2"
    face="Verdana, Arial, Helvetica"><br>
    </font><a href="#4h2"><font size="2" face="Verdana, Arial, Helvetica">How
    Windows&nbsp;NT Challenge/Response Authentication Works</font></a></p>
</blockquote>

<h2><a href="#Top"><font size="2" face="Verdana, Arial, Helvetica"><img
src="up.gif" alt="To Top" align="middle" border="0" width="14"
height="11"></font></a><a name="17h2"><font size="2"
face="Verdana, Arial, Helvetica">About Web Proxy Security</font></a></h2>

<p><font size="2" face="Verdana, Arial, Helvetica">The Web Proxy service
uses the same password authentication options for client requests
as those allowed by the WWW service of Internet Information
Server (IIS).</font></p>

<p><font size="2" face="Verdana, Arial, Helvetica">A client <em>logon
request</em> occurs whenever a client request is forwarded to a
Server using IIS or Microsoft Proxy Server. The logon process is
used to determine if the client is allowed or denied access to a
resource on the server requested by the client. An <em>authentication</em>
is a server mechanism used to validate users when processing
logon requests. An authentication can be as simple as assigning
and encoding a password for the user or it can involve several
secure and encrypted process communications between the client
and server.</font></p>

<p><font size="2" face="Verdana, Arial, Helvetica">In addition to the
options for authenticating users, Web Proxy offers the option to
enable or disable access control. For simplified management of
the Web Proxy service, you can disable access control. This is
useful if anonymous user access is all that is needed for users
on your network. For management of individual users on your
network, access control can be enabled so that you can fully
administer individual security for each user on your network.</font></p>

<p><font size="2" face="Verdana, Arial, Helvetica">When access control is
enabled, Web Proxy clients on your network are verified by using
a combination of Web Proxy service permissions and the password
authentication settings applied for IIS services. The password
authentication options for IIS users include the following:</font></p>

<ul>
    <li><p align="left"><font size="2" face="Verdana, Arial, Helvetica"><strong>Anonymous
        Logon&nbsp;&nbsp;&nbsp;</strong>This is a standard way to
        provide a single guest user account that is assigned
        reading and browsing privileges only. This account allows
        shared access for all users who request published
        documents on an Internet server. </font></p>
    </li>
    <li><p align="left"><font size="2" face="Verdana, Arial, Helvetica"><strong>Basic
        Authentication&nbsp;&nbsp;&nbsp;</strong>This is a
        standard way to validate HTTP users by using encoded
        clear-text passwords and user names. This type of
        authentication is specified in HTTP standards established
        by the World Wide Web Consortium (W3C) and the Conseil
        Europeen pour la Recherche Nucleair (CERN). </font></p>
    </li>
    <li><p align="left"><font size="2" face="Verdana, Arial, Helvetica"><strong>Challenge/Response
        Authentication&nbsp;&nbsp;&nbsp;</strong>This is a secure
        standard for validating clients that Microsoft has
        developed. This type of authentication is very secure and
        uses encryption to transmit security information. It can
        be enabled for client browsers that support this level of
        authentication, such as Internet Explorer 3.0. </font></p>
    </li>
</ul>

<p><font size="2" face="Verdana, Arial, Helvetica">Authentication is set
within the <strong>Service</strong> property sheet of the WWW
service of IIS. The option to enable or disable access control
for Web Proxy is set within the <strong>Permissions</strong>
property sheet of the Web Proxy service. Both of these services
are configured by using Internet Service Manager.</font></p>

<h2><a href="#Top"><font size="2" face="Verdana, Arial, Helvetica"><img
src="up.gif" alt="To Top" align="middle" border="0" width="14"
height="11"></font></a><a name="9h2"><font size="2"
face="Verdana, Arial, Helvetica">Setting Access Control for the Web Proxy
Service</font></a></h2>

<p><font size="2" face="Verdana, Arial, Helvetica">You can use Web Proxy
access control to select whether to administer service
permissions individually by user, or allow all users to use the
Web Proxy service. When access control is enabled, verification
is done on each Web Proxy request to determine if the user has
appropriate permissions assigned for the type of service being
requested. When access control is disabled, the Web Proxy service
ignores user permission settings, and all requests are accepted.
For more information on how to set access control for Web Proxy,
see </font><a href="06_msp.htm"><font size="2"
face="Verdana, Arial, Helvetica">&#147;Configuring the Web
Proxy Service.&#148;</font></a></p>

<h2><a href="#Top"><font size="2" face="Verdana, Arial, Helvetica"><img
src="up.gif" alt="To Top" align="middle" border="0" width="14"
height="11"></font></a><a name="2h2"><font size="2"
face="Verdana, Arial, Helvetica">How Anonymous Logon Works</font></a></h2>

<p><font size="2" face="Verdana, Arial, Helvetica">Anonymous logon is a
method that uses a standard logon account to provide guest access
to resources on the Internet. To establish anonymous logon, a
user account is first created and assigned limited privileges on
a server. In standard TCP/IP, the user name for this account is
&#147;anonymous.&#148; &#147;Anonymous&#148; is entered at a
server logon prompt. The server will then prompt for an e-mail
name be entered as a logon password. Once the user has completed
the &#147;anonymous&#148; logon, rights granted are typically
read-only access to limited sets of files and directories. </font></p>

<p><font size="2" face="Verdana, Arial, Helvetica">When Server is first
installed with Internet Information Server (IIS), IIS creates a
default anonymous user account named IUSR_<em>computername</em>,
where <em>computername</em> is the NetBIOS name for the server.
This account is allowed permissions by default to the Web Proxy
service. This user does not need to be assigned further user
permissions in the Web Proxy service properties to enable
anonymous logon for proxy users.</font></p>

<p><font size="2" face="Verdana, Arial, Helvetica">The IIS WWW service
provides three authentication check boxes: <strong>Allow
Anonymous</strong>, <strong>Basic (Clear-Text)</strong>, and <strong>Challenge/Response</strong>.
If you select <strong>Allow Anonymous</strong> without also
selecting one of the other types of authentication, the following
occurs:</font></p>

<ul>
    <li><font size="2" face="Verdana, Arial, Helvetica">The Web Proxy
        service services all user requests</font></li>
    <li><font size="2" face="Verdana, Arial, Helvetica">All included items
        on the Permissions property sheet are disabled; Web Proxy
        service ignores these settings.</font></li>
</ul>

<hr>

<p><font color="#FF0000" size="2" face="Verdana, Arial, Helvetica"><strong>Warning</strong></font><font
size="2" face="Verdana, Arial, Helvetica"><strong>&nbsp;&nbsp;&nbsp;</strong>If
anonymous logon is allowed, all client applications use it. To
force proxy users to log on with an account and password, disable
anonymous logon. You can still grant unrestricted access to the
Web Proxy service by disabling access control in the <strong>Permissions</strong>
property sheet.</font></p>

<hr>

<h4><a name="ToenableanonymouslogontoMicrosoftProxyServer"><font
size="2" face="Verdana, Arial, Helvetica"><strong>To enable anonymous
logon to Microsoft Proxy Server</strong></font></a></h4>

<ol>
    <li><p align="left"><font size="2" face="Verdana, Arial, Helvetica">From
        Internet Service Manager, double-click the computer name
        next to the <strong>WWW</strong> service. </font></p>
        <p align="left"><font size="2" face="Verdana, Arial, Helvetica">The
        <strong>WWW Service Properties</strong> window is
        displayed. </font></p>
    </li>
    <li><p align="left"><font size="2" face="Verdana, Arial, Helvetica">Click
        the <strong>Allow Anonymous</strong> check box in the
        Password Authentication section to select it. </font></p>
    </li>
    <li><font size="2" face="Verdana, Arial, Helvetica">Click <strong>Apply</strong>,
        and then click <strong>OK</strong>.&nbsp;<br>
        <br>
        </font></li>
</ol>

<h2><a href="#Top"><font size="2" face="Verdana, Arial, Helvetica"><img
src="up.gif" alt="To Top" align="middle" border="0" width="14"
height="11"></font></a><a name="3h2"><font size="2"
face="Verdana, Arial, Helvetica">How Basic Authentication Works</font></a></h2>

<blockquote>
    <p><a href="#3h3"><font size="2" face="Verdana, Arial, Helvetica">What
    is Basic Authentication?</font></a><font size="2"
    face="Verdana, Arial, Helvetica"><br>
    </font><a href="#4h3"><font size="2" face="Verdana, Arial, Helvetica">Enabling
    Basic Authentication</font></a></p>
</blockquote>

<h3><a href="#Top"><font size="2" face="Verdana, Arial, Helvetica"><img
src="up.gif" alt="To Top" align="middle" border="0" width="14"
height="11"></font></a><a name="3h3"><font size="2"
face="Verdana, Arial, Helvetica">What is Basic Authentication?</font></a></h3>

<p><font size="2" face="Verdana, Arial, Helvetica">Basic authentication is
a standard HTTP mechanism that sends and receives user
information as clear text. (The term <em>clear text</em>
indicates data is transmitted as clearly readable text characters
rather than binary bit-streamed information, which is not
text-formatted.) Passwords and user names are encoded but not
encrypted in this type of authentication. </font></p>

<p><font size="2" face="Verdana, Arial, Helvetica">Basic authentication is
used by Web Proxy service when:</font></p>

<ul>
    <li><font size="2" face="Verdana, Arial, Helvetica">The <strong>Basic
        (Clear Text)</strong> check box is selected on the <strong>Service</strong>
        property sheet in WWW <strong>service properties</strong>.</font></li>
    <li><font size="2" face="Verdana, Arial, Helvetica">The server and
        client are both enabled to use Challenge/Response
        authentication. </font></li>
    <li><font size="2" face="Verdana, Arial, Helvetica">The client request
        could not be processed by using anonymous logon account. </font></li>
    <li><font size="2" face="Verdana, Arial, Helvetica">The <strong>Enable
        Access Control</strong> check box on the <strong>Permissions</strong>
        property sheet for the Web Proxy service properties is
        selected.</font></li>
</ul>

<p><font size="2" face="Verdana, Arial, Helvetica">In basic
authentication, the client is responsible for prompting the user
for user name and password credentials. The credentials are then
encoded and sent to the server. The user name must be an account
on the computer running IIS<strong> </strong>or in a trusted
domain of that computer. When using a trusted domain account, the
user name must contain the domain name in the following format. </font></p>

<blockquote>
    <p><font size="2" face="Verdana, Arial, Helvetica">username=domain\account</font></p>
</blockquote>

<hr>

<p><font color="#FF0000" size="2" face="Verdana, Arial, Helvetica"><strong>Warning&nbsp;&nbsp;&nbsp;</strong></font><font
size="2" face="Verdana, Arial, Helvetica">User credentials can be decoded
easily by using widely available utilities (such as UUdecode).
For some client types, such as UNIX-based Web clients, basic
authentication is the only available means of establishing
password-required access to Web published document files. If you
allow access from the Internet to Microsoft Proxy Server or
another Windows&nbsp;NT-based server on your private network,
HTTP basic authentication offers poor security. </font></p>

<p><font size="2" face="Verdana, Arial, Helvetica">If you need to support
other client types that are not Windows-based, you should
consider a supplementary encryption method. If your network
supports only Windows-based clients, you should use a more secure
authentication mechanism that supports link encryption, such as
Challenge/Response authentication.</font></p>

<hr>

<h3><a href="#Top"><font size="2" face="Verdana, Arial, Helvetica"><img
src="up.gif" alt="To Top" align="middle" border="0" width="14"
height="11"></font></a><a name="4h3"><font size="2"
face="Verdana, Arial, Helvetica">Enabling Basic Authentication</font></a></h3>

<p><font size="2" face="Verdana, Arial, Helvetica">To enable basic
authentication, create a local group and grant it permission to
use a Web Proxy protocol (FTP, Gopher, or HTTP, or Secure). Users
are then granted access by assigning each user membership in this
local group. To create and modify groups and user accounts, use
User Manager for Domains. For more information, see your
documentation for .</font></p>

<h4><a
name="ToenablebasicauthenticationforusewithMicrosoftProxyServer"><font
size="2" face="Verdana, Arial, Helvetica"><strong>To enable basic
authentication for use with Microsoft Proxy Server</strong></font></a></h4>

<p><font size="2" face="Verdana, Arial, Helvetica">There are two ways to
enable basic authentication. Use the following simple procedure
to require basic authentication for all users. You can also use
the complex procedure to allow anonymous logon for specific users
and require basic authentication for all other users.</font></p>

<h5><a name="Simple:"><font size="2" face="Verdana, Arial, Helvetica">Simple:</font></a></h5>

<ol>
    <li><p align="left"><font size="2" face="Verdana, Arial, Helvetica">From
        Internet Service Manager, double-click the computer name
        next to the WWW service. </font></p>
    </li>
    <li><p align="left"><font size="2" face="Verdana, Arial, Helvetica">Select
        the <strong>Basic (Clear Text)</strong> check box in the
        Password Authentication section. </font></p>
    </li>
    <li><p align="left"><font size="2" face="Verdana, Arial, Helvetica">Clear
        the <strong>Challenge/Response</strong> check box. </font></p>
    </li>
    <li><p align="left"><font size="2" face="Verdana, Arial, Helvetica">Clear
        the <strong>Allow Anonymous</strong> check box. </font></p>
    </li>
    <li><p align="left"><font size="2" face="Verdana, Arial, Helvetica">Click
        <strong>Apply</strong>, then click <strong>OK</strong>. </font></p>
    </li>
    <li><p align="left"><font size="2" face="Verdana, Arial, Helvetica">Double-click
        the computer name next to the Web Proxy service. </font></p>
    </li>
    <li><p align="left"><font size="2" face="Verdana, Arial, Helvetica">Click
        the <strong>Permissions</strong> tab. </font></p>
    </li>
    <li><p align="left"><font size="2" face="Verdana, Arial, Helvetica">Set
        access control for users. </font></p>
        <p align="left"><font size="2" face="Verdana, Arial, Helvetica">To
        allow all users rights to all Web Proxy services (FTP,
        Gopher, WWW, Secure), clear the <strong>Enable Access
        Control</strong> check box. </font></p>
        <p align="left"><font size="2" face="Verdana, Arial, Helvetica">To
        set limited user access to Web Proxy services, select the
        <strong>Enable Access Control </strong>check box. If you
        enable access control, you will need to assign user
        permissions for access rights to each service. For
        information about assigning permissions, see </font><a
        href="06_msp.htm#Top"><font size="2"
        face="Verdana, Arial, Helvetica">&#147;Configuring the
        Web Proxy Service.&#148;</font></a><font size="2"
        face="Verdana, Arial, Helvetica"> </font></p>
    </li>
    <li><font size="2" face="Verdana, Arial, Helvetica">Click <strong>Apply</strong>,
        and then click <strong>OK</strong>.<br>
        <br>
        </font></li>
</ol>

<h5><a name="Complex:"><font size="2" face="Verdana, Arial, Helvetica">Complex:</font></a></h5>

<ol>
    <li><p align="left"><font size="2" face="Verdana, Arial, Helvetica">From
        Internet Service Manager, double-click the computer name
        next to the WWW service. </font></p>
    </li>
    <li><p align="left"><font size="2" face="Verdana, Arial, Helvetica">Select
        the <strong>Basic (Clear Text)</strong> check box in the
        Password Authentication section. </font></p>
    </li>
    <li><p align="left"><font size="2" face="Verdana, Arial, Helvetica">Clear
        the <strong>Challenge/Response</strong> check box. </font></p>
    </li>
    <li><p align="left"><font size="2" face="Verdana, Arial, Helvetica">Select
        the <strong>Allow Anonymous</strong> check box. </font></p>
    </li>
    <li><p align="left"><font size="2" face="Verdana, Arial, Helvetica">Click
        <strong>Apply</strong>, and then click <strong>OK</strong>.
        </font></p>
    </li>
    <li><p align="left"><font size="2" face="Verdana, Arial, Helvetica">Double-click
        the computer name next to the Web Proxy service. </font></p>
    </li>
    <li><p align="left"><font size="2" face="Verdana, Arial, Helvetica">Click
        the <strong>Permissions</strong> tab. </font></p>
    </li>
    <li><p align="left"><font size="2" face="Verdana, Arial, Helvetica">Select
        the <strong>Enable Access Control </strong>check box. </font></p>
    </li>
    <li><p align="left"><font size="2" face="Verdana, Arial, Helvetica">Add
        users to permissions lists for Web Proxy services (FTP
        Read, Gopher, WWW, Secure). </font></p>
        <p><font size="2" face="Verdana, Arial, Helvetica">For information
        about assigning permissions, see </font><a
        href="06_msp.htm#Top"><font size="2"
        face="Verdana, Arial, Helvetica">&#147;Configuring the
        Web Proxy Service.&#148;</font></a><font size="2"
        face="Verdana, Arial, Helvetica"> </font></p>
    </li>
    <li><p align="left"><font size="2" face="Verdana, Arial, Helvetica">Add
        the IUSR_<em>computername</em> user to permissions lists
        for Web Proxy services that will allow anonymous use. </font></p>
    </li>
    <li><font size="2" face="Verdana, Arial, Helvetica">Click <strong>Apply</strong>,
        and then click <strong>OK</strong>.</font></li>
</ol>

<hr>

<h2><a href="#Top"><font size="2" face="Verdana, Arial, Helvetica"><img
src="up.gif" alt="To Top" align="middle" border="0" width="14"
height="11"></font></a><a name="4h2"><font size="2"
face="Verdana, Arial, Helvetica">How Challenge/Response Authentication
Works</font></a></h2>

<blockquote>
    <p><a href="#5h3"><font size="2" face="Verdana, Arial, Helvetica">What
    is Challenge/Response Authentication?</font></a><font
    size="2" face="Verdana, Arial, Helvetica"><br>
    </font><a href="#6h3"><font size="2" face="Verdana, Arial, Helvetica">Enabling
    Challenge/Response Authentication</font></a></p>
</blockquote>

<h3><a href="#Top"><font size="2" face="Verdana, Arial, Helvetica"><img
src="up.gif" alt="To Top" align="middle" border="0" width="14"
height="11"></font></a><a name="5h3"><font size="2"
face="Verdana, Arial, Helvetica">What is Challenge/Response
Authentication?</font></a></h3>

<p><font size="2" face="Verdana, Arial, Helvetica">Challenge/Response
authentication is a security mechanism. Unlike basic
authentication, which forwards user names and passwords as
clear-text from client to server, Challenge/Response
authentication follows a more complex process that requires
multiple communications between the client and server. Microsoft
Internet Explorer 3.0 supports Challenge/Response authentication
with Microsoft Proxy Server.</font></p>

<p><font size="2" face="Verdana, Arial, Helvetica">Challenge/Response
authentication works within the security model to provide a
transparent logon procedure for clients. In a
challenge-and-response sequence, the client computer uses its
established user logon information to identify itself to the
server. The user is not prompted to enter these user credentials.
Instead, the information is available after the user first logs
on to a Windows&nbsp;NT-based computer.</font></p>

<p><font size="2" face="Verdana, Arial, Helvetica">Challenge/Response
authentication only works where the client and server computers
are located in the same or trusted domains. </font></p>

<h3><a href="#Top"><font size="2" face="Verdana, Arial, Helvetica"><img
src="up.gif" alt="To Top" align="middle" border="0" width="14"
height="11"></font></a><a name="6h3"><font size="2"
face="Verdana, Arial, Helvetica">Enabling Challenge/Response
Authentication</font></a></h3>

<h4><a name="ToenableChallenge/ResponseauthenticationforWebProxy"><font
size="2" face="Verdana, Arial, Helvetica"><strong>To enable
Challenge/Response authentication for Web Proxy</strong></font></a></h4>

<p><font size="2" face="Verdana, Arial, Helvetica">There are two ways to
enable Challenge/Response authentication.Use the following simple
procedure to require Challenge/Response authentication for all
users. You can also use the complex procedure to allow anonymous
logon for specific users and require Challenge/Response
authentication for all other users.</font></p>

<h5><font size="2" face="Verdana, Arial, Helvetica">Simple:</font></h5>

<ol>
    <li><p align="left"><font size="2" face="Verdana, Arial, Helvetica">From
        Internet Service Manager, double-click the computer name
        next to the WWW service. </font></p>
    </li>
    <li><p align="left"><font size="2" face="Verdana, Arial, Helvetica">Select
        the <strong>Challenge/Response</strong> check box in the
        Password Authentication section. </font></p>
    </li>
    <li><p align="left"><font size="2" face="Verdana, Arial, Helvetica">Clear
        the <strong>Allow Anonymous</strong> check box. </font></p>
    </li>
    <li><p align="left"><font size="2" face="Verdana, Arial, Helvetica">Click
        <strong>Apply</strong>, and then click <strong>OK</strong>.
        </font></p>
    </li>
    <li><p align="left"><font size="2" face="Verdana, Arial, Helvetica">Double-click
        the computer name next to the Web Proxy service. </font></p>
    </li>
    <li><p align="left"><font size="2" face="Verdana, Arial, Helvetica">Click
        the <strong>Permissions</strong> tab. </font></p>
    </li>
    <li><p align="left"><font size="2" face="Verdana, Arial, Helvetica">Set
        access control for users. </font></p>
        <p align="left"><font size="2" face="Verdana, Arial, Helvetica">To
        allow all users access to Web Proxy services (FTP,
        Gopher, WWW, Secure), clear the <strong>Enable Access
        Control</strong> check box. </font></p>
        <p align="left"><font size="2" face="Verdana, Arial, Helvetica">To
        set limited user access to Web Proxy services, select the
        <strong>Enable Access Control </strong>check box. If you
        enable access control, you need to assign user
        permissions for access rights to each service. For
        information about assigning permissions, see </font><a
        href="06_msp.htm#Top"><font size="2"
        face="Verdana, Arial, Helvetica">&#147;Configuring the
        Web Proxy Service.&#148;</font></a><font size="2"
        face="Verdana, Arial, Helvetica"> </font></p>
    </li>
    <li><font size="2" face="Verdana, Arial, Helvetica">Click <strong>Apply</strong>,
        and then click <strong>OK</strong>.</font></li>
</ol>

<h5><font size="2" face="Verdana, Arial, Helvetica">Complex:</font></h5>

<ol>
    <li><p align="left"><font size="2" face="Verdana, Arial, Helvetica">From
        Internet Service Manager, double-click the computer name
        next to the WWW service. </font></p>
    </li>
    <li><p align="left"><font size="2" face="Verdana, Arial, Helvetica">Select
        the <strong>Challenge/Response</strong> check box in the
        Password Authentication section. </font></p>
    </li>
    <li><p align="left"><font size="2" face="Verdana, Arial, Helvetica">Clear
        the <strong>Basic (Clear Text)</strong> check box. </font></p>
    </li>
    <li><p align="left"><font size="2" face="Verdana, Arial, Helvetica">Select
        the <strong>Allow Anonymous</strong> check box. </font></p>
    </li>
    <li><p align="left"><font size="2" face="Verdana, Arial, Helvetica">Click
        <strong>Apply</strong>, and then click <strong>OK</strong>.
        </font></p>
    </li>
    <li><p align="left"><font size="2" face="Verdana, Arial, Helvetica">Double-click
        the computer name next to the Web Proxy service. </font></p>
    </li>
    <li><p align="left"><font size="2" face="Verdana, Arial, Helvetica">Click
        the <strong>Permissions</strong> tab. </font></p>
    </li>
    <li><p align="left"><font size="2" face="Verdana, Arial, Helvetica">Select
        the <strong>Enable Access Control </strong>check box. </font></p>
    </li>
    <li><p align="left"><font size="2" face="Verdana, Arial, Helvetica">Add
        users to permissions lists for Web Proxy services (FTP
        Read, Gopher, WWW, Secure). </font></p>
        <p><font size="2" face="Verdana, Arial, Helvetica">For information
        about assigning permissions, see </font><a
        href="06_msp.htm#Top"><font size="2"
        face="Verdana, Arial, Helvetica">&#147;Configuring the
        Web Proxy Service.&#148;</font></a><font size="2"
        face="Verdana, Arial, Helvetica"> </font></p>
    </li>
    <li><p align="left"><font size="2" face="Verdana, Arial, Helvetica">Add
        the IUSR_<em>computername</em> user name to permissions
        lists for Web Proxy services that will allow anonymous
        use. </font></p>
    </li>
    <li><p align="left"><font size="2" face="Verdana, Arial, Helvetica">Click
        <strong>Apply</strong>, and then click <strong>OK</strong>.
        </font></p>
    </li>
</ol>

<p><font size="2" face="Verdana, Arial, Helvetica">For Challenge/Response
authentication to be used, the Web browser for each client must
support it. Currently, Microsoft Internet Explorer 3.0 is the
only browser that supports this option with Microsoft Proxy
Server. For more information, on enabling Web Proxy service for
clients using Internet Explorer 2.0 or later, see </font><a
href="08_msp.htm"><font size="2" face="Verdana, Arial, Helvetica">&#147;Setting Up Clients.&#148;</font></a><font size="2"
face="Verdana, Arial, Helvetica">&nbsp;</font></p>

<hr>

<h1><a href="#Top"><font size="2" face="Verdana, Arial, Helvetica"><img
src="up.gif" alt="To Top" align="middle" border="0" width="14"
height="11"></font></a><a name="3h1"><font size="2"
face="Verdana, Arial, Helvetica">WinSock Proxy Security</font></a></h1>

<blockquote>
    <p><a href="#15h2"><font size="2" face="Verdana, Arial, Helvetica">How
    WinSock Proxy Security Works</font></a><font size="2"
    face="Verdana, Arial, Helvetica"><br>
    </font><a href="#16h2"><font size="2" face="Verdana, Arial, Helvetica">Setting
    Access Control for WinSock Proxy</font></a><font size="2"
    face="Verdana, Arial, Helvetica"><br>
    </font><a href="#19h2"><font size="2" face="Verdana, Arial, Helvetica">Assigning
    Permissions for WinSock Proxy Users</font></a><font size="2"
    face="Verdana, Arial, Helvetica"><br>
    </font><a href="#12h2"><font size="2" face="Verdana, Arial, Helvetica">Considerations
    for WinSock Proxy Security</font></a></p>
</blockquote>

<h2><a href="#Top"><font size="2" face="Verdana, Arial, Helvetica"><img
src="up.gif" alt="To Top" align="middle" border="0" width="14"
height="11"></font></a><a name="15h2"><font size="2"
face="Verdana, Arial, Helvetica">How WinSock Proxy Security Works</font></a></h2>

<p><font size="2" face="Verdana, Arial, Helvetica">The WinSock Proxy
service provides secure communication between your network and
remote Internet computers that support Windows Sockets
applications. It uses Challenge/Response authentication to
authenticate all users (when access control is enabled). </font></p>

<p><font size="2" face="Verdana, Arial, Helvetica">Also, to enhance
security you can use WinSock Proxy as an IP application gateway
for IPX networks. This allows IPX/SPX clients on an internal
network to access TCP/IP resources on an external network. An
application level proxy uses two separate service connections: an
IPX connection on the internal network between the WinSock Proxy
server and client, and an IP connection between the WinSock Proxy
server and a remote server on the Internet. Because separate
connections and different routing protocols are used on the
internal and external networks, the risk of outside intrusion is
reduced. Only the computer running Microsoft Proxy Server is
visible to other Internet servers. </font></p>

<p><font size="2" face="Verdana, Arial, Helvetica"><strong>Note</strong>&nbsp;&nbsp;&nbsp;WinSock
Proxy and Multi-Protocol Routing (MPR), a routing service
provided with Server 4.0, use different methods for handling
network communications and establishing IPX-to-IP connectivity. </font></p>

<p><font size="2" face="Verdana, Arial, Helvetica">The WinSock Proxy
service uses application-level proxy over two separate virtual
circuits. MPR uses protocol conversion processes where multiple
routing protocols are in use (also known as tunneling) to
communicate over a single virtual circuit.</font></p>

<hr>

<h2><a href="#Top"><font size="2" face="Verdana, Arial, Helvetica"><img
src="up.gif" alt="To Top" align="middle" border="0" width="14"
height="11"></font></a><a name="16h2"><font size="2"
face="Verdana, Arial, Helvetica">Setting Access Control for WinSock Proxy</font></a></h2>

<p><font size="2" face="Verdana, Arial, Helvetica">You can use WinSock
Proxy access control to select whether to administer service
permissions individually by user, or allow all users to use the
WinSock Proxy service.</font></p>

<ul>
    <li><p align="left"><font size="2" face="Verdana, Arial, Helvetica">When
        access control is enabled, verification is done on each
        WinSock Proxy request to determine if each user has
        appropriate permissions assigned for the type of protocol
        service being requested. You can control which
        application ports can be used and who can use them.
        Protocol port access for inbound and outbound connections
        and the ability to set user permissions by protocol allow
        you to restrict use of Windows Sockets applications
        between your network and the Internet. WinSock services,
        such as RealAudio, VDOLive, and Enliven protocols, can be
        administered to allow only specific users access through
        WinSock Proxy. </font></p>
    </li>
    <li><p align="left"><font size="2" face="Verdana, Arial, Helvetica">When
        access control is disabled, the WinSock Proxy service
        does not verify users. In this case, any user permissions
        have no effect, and user permission settings are ignored.
        Access to all WinSock Proxy server ports and protocols is
        possible for valid users on the server computer. </font></p>
    </li>
</ul>

<p><font size="2" face="Verdana, Arial, Helvetica">For more information on
setting access control for the WinSock Proxy service, see </font><a
href="07_msp.htm"><font size="2" face="Verdana, Arial, Helvetica">&#147;Configuring the WinSock Proxy Service.&#148;</font></a></p>

<h2><a href="#Top"><font size="2" face="Verdana, Arial, Helvetica"><img
src="up.gif" alt="To Top" align="middle" border="0" width="14"
height="11"></font></a><a name="19h2"><font size="2"
face="Verdana, Arial, Helvetica"><strong>Assigning Permissions for WinSock
Proxy Users</strong></font></a></h2>

<p><font size="2" face="Verdana, Arial, Helvetica">Use the <strong>Permissions</strong>
property sheet of the <strong>WinSock Proxy Service Properties</strong>
window in Internet Service Manager to set permissions for WinSock
Proxy users. For more information, see </font><a
href="07_msp.htm#Top"><font size="2" face="Verdana, Arial, Helvetica">&#147;Configuring the WinSock Proxy Service.&#148;</font></a></p>

<h2><a href="#Top"><font size="2" face="Verdana, Arial, Helvetica"><img
src="up.gif" alt="To Top" align="middle" border="0" width="14"
height="11"></font></a><a name="12h2"><font size="2"
face="Verdana, Arial, Helvetica">Considerations for WinSock Proxy Security</font></a></h2>

<blockquote>
    <p><a href="#12h3"><font size="2" face="Verdana, Arial, Helvetica">When
    Modifying the Local Address Table<br>
    </font></a><a href="#13h3"><font size="2"
    face="Verdana, Arial, Helvetica">When Setting Port Protocol
    Permissions</font></a><font size="2" face="Verdana, Arial, Helvetica"><br>
    </font><a href="#14h3"><font size="2" face="Verdana, Arial, Helvetica">When
    Setting TCP/IP Properties for Network Adapter Cards</font></a><font
    size="2" face="Verdana, Arial, Helvetica"><br>
    </font><a href="#21h2"><font size="2" face="Verdana, Arial, Helvetica">When
    Running Microsoft Proxy Server in a Workgroup</font></a></p>
</blockquote>

<h3><a href="#Top"><font size="2" face="Verdana, Arial, Helvetica"><img
src="up.gif" alt="To Top" align="middle" border="0" width="14"
height="11"></font></a><a name="12h3"><font size="2"
face="Verdana, Arial, Helvetica">When Modifying the Local Address Table</font></a></h3>

<p><font size="2" face="Verdana, Arial, Helvetica">For security reasons,
consider the following carefully when you are modifying the LAT:</font></p>

<ul>
    <li><font size="2" face="Verdana, Arial, Helvetica"><strong>Do not add
        IP addresses for any devices connected to the same
        physical cabling segment used by the external network
        adapter card.</strong></font><p><font size="2"
        face="Verdana, Arial, Helvetica">This prevents possible connection
        leaks between the external and internal network, and
        requires all interconnection between external and
        internal clients to be established active security
        settings configured on the computer running Microsoft
        Proxy Server. </font></p>
    </li>
    <li><font size="2" face="Verdana, Arial, Helvetica"><strong>Check that
        IP addresses for the server&#146;s adapter cards are
        correctly stated for the LAT.</strong></font><p><font
        size="2" face="Verdana, Arial, Helvetica">If two or more network
        adapter cards are installed for the Microsoft Proxy
        Server, only IP addresses for cards connected to the
        internal network segment should be listed or included in
        the LAT. All cards used for connecting to the external
        segment should not be present in the LAT. </font></p>
    </li>
</ul>

<p><font size="2" face="Verdana, Arial, Helvetica">For more information on
the LAT or how to modify it, see </font><a href="05_msp.htm"><font
size="2" face="Verdana, Arial, Helvetica">&#147;Server
Administration.&#148;</font></a></p>

<h3><a href="#Top"><font size="2" face="Verdana, Arial, Helvetica"><img
src="up.gif" alt="To Top" align="middle" border="0" width="14"
height="11"></font></a><a name="13h3"><font size="2"
face="Verdana, Arial, Helvetica">When Setting Port Protocol Permissions</font></a></h3>

<p><font size="2" face="Verdana, Arial, Helvetica">Ports serviced by
WinSock Proxy are used by various TCP/IP applications for inbound
or outbound connections. By default, inbound access is disabled
for protocols that provide administrative access, such as Telnet
or FTP. </font></p>

<hr>

<p><font color="#FF0000" size="2" face="Verdana, Arial, Helvetica"><strong>Warning</strong></font><font
size="2" face="Verdana, Arial, Helvetica">&nbsp;&nbsp;&nbsp;Some TCP/IP
applications that use TCP to transport data, such as Telnet and
FTP, use clear text to send and receive user and password
information. This information can be seen by others on the
Internet. If you intend to use the Internet to pass discrete
information between your network and other networks, you should
implement further levels of encryption for your data.</font></p>

<hr>

<p><font size="2" face="Verdana, Arial, Helvetica">If you choose to allow
inbound access for these types of applications to your network
from the Internet, be careful to:</font></p>

<ul>
    <li><font size="2" face="Verdana, Arial, Helvetica">Set remote account
        restrictions in User Manager for Domains carefully.</font></li>
    <li><font size="2" face="Verdana, Arial, Helvetica">Enable access
        control for WinSock Proxy to specify and limit user
        permissions to the WinSock Proxy service.</font></li>
    <li><font size="2" face="Verdana, Arial, Helvetica">Do not use the
        Unlimited Access option to grant remote users permissions
        to WinSock Proxy service.</font></li>
</ul>

<p><font size="2" face="Verdana, Arial, Helvetica">In most cases, remote
Internet users should use restricted accounts that assign guest
logon access or read-only file access on the server. Also, by
enabling access control, permissions that are set for each
defined WinSock Proxy protocol are applied to all users.</font></p>

<hr>

<p><font color="#FF0000" size="2" face="Verdana, Arial, Helvetica"><strong>Warning</strong></font><font
size="2" face="Verdana, Arial, Helvetica">&nbsp;&nbsp;&nbsp;Do not provide
Internet users the Unlimited Access option. When assigned, this
option allows a user full control to use any protocols or ports
with WinSock Proxy service, including those that are not defined.
For this reason, be cautious in assigning this permissions option
to users.</font></p>

<hr>

<h3><a href="#Top"><font size="2" face="Verdana, Arial, Helvetica"><img
src="up.gif" alt="To Top" align="middle" border="0" width="14"
height="11"></font></a><a name="14h3"><font size="2"
face="Verdana, Arial, Helvetica">When Setting TCP/IP Properties for
Network Adapter Cards</font></a></h3>

<p><font size="2" face="Verdana, Arial, Helvetica">Server 4.0 provides
additional advanced options for securing TCP/IP networking, which
can be used to provide further security for your network. Because
WinSock Proxy service port options are set at a higher level (the
application layer) and TCP/IP networking properties are set at a
lower level (the network and transport layer), settings for
TCP/IP Protocol Properties take precedence when enabling port
access. </font></p>

<p><font size="2" face="Verdana, Arial, Helvetica">For more information on
how to configure advanced security options for TCP/IP networking
with Microsoft Proxy Server, see </font><a href="05_msp.htm"><font
size="2" face="Verdana, Arial, Helvetica">&#147;Server
Administration.&#148;</font></a><font size="2"
face="Verdana, Arial, Helvetica">&nbsp;</font></p>

<h3><a href="#Top"><font size="2" face="Verdana, Arial, Helvetica"><img
src="up.gif" alt="To Top" align="middle" border="0" width="14"
height="11"></font></a><a name="21h2"><font size="2"
face="Verdana, Arial, Helvetica">When Running Microsoft Proxy Server in a
Workgroup</font></a></h3>

<p><font size="2" face="Verdana, Arial, Helvetica">When the server running
Microsoft Proxy Server is installed as part of a workgroup and is
not part of a domain, the following considerations are in effect
for configuring WinSock Proxy service access control:</font></p>

<ul>
    <li><p align="left"><font size="2" face="Verdana, Arial, Helvetica">If
        the server is running the WinSock Proxy service with
        access control enabled, use User Manager to create an
        account on the server for each user who will be accessing
        the Internet through that server. Use User Manager to
        place those users in user groups, and then use Internet
        Service Manager to grant appropriate WinSock Proxy
        permissions to each group. </font></p>
    </li>
    <li><p align="left"><font size="2" face="Verdana, Arial, Helvetica">If
        the server is running the WinSock Proxy service with
        access control disabled, users can access the server by
        using the server&#146;s special Everyone account. </font></p>
    </li>
</ul>

<hr>

<h1><a href="#Top"><font size="2" face="Verdana, Arial, Helvetica"><img
src="up.gif" alt="To Top" align="middle" border="0" width="14"
height="11"></font></a><a name="5h1"><font size="2"
face="Verdana, Arial, Helvetica">Securing Your Network</font></a></h1>

<blockquote>
    <p><a href="#20h2"><font size="2" face="Verdana, Arial, Helvetica">Restricting
    Inbound Access From the Internet</font></a><font size="2"
    face="Verdana, Arial, Helvetica"><br>
    </font><a href="#18h2"><font size="2" face="Verdana, Arial, Helvetica">Restricting
    Outbound Access From Your Network</font></a></p>
</blockquote>

<p><font size="2" face="Verdana, Arial, Helvetica">Microsoft Proxy Server
offers default security that is probably sufficient to protect
your network from outside intruders. In some installations, you
may want more security to further protect your network from an
anticipated intrusion.</font></p>

<p><font size="2" face="Verdana, Arial, Helvetica">The following sections
discuss further considerations when restricting access to your
local network from users on the Internet, and also from users
located on other separate networks within your organization.</font></p>

<h2><a href="#Top"><font size="2" face="Verdana, Arial, Helvetica"><img
src="up.gif" alt="To Top" align="middle" border="0" width="14"
height="11"></font></a><a name="20h2"><font size="2"
face="Verdana, Arial, Helvetica">Restricting Inbound Access From the
Internet</font></a></h2>

<blockquote>
    <p><a href="#15h3"><font size="2" face="Verdana, Arial, Helvetica">About
    Default Inbound Security From the Internet</font></a><a
    href="#11h3"><font size="2" face="Verdana, Arial, Helvetica"><br>
    Domain Planning Considerations</font></a></p>
</blockquote>

<h3><a href="#Top"><font size="2" face="Verdana, Arial, Helvetica"><img
src="up.gif" alt="To Top" align="middle" border="0" width="14"
height="11"></font></a><a name="15h3"><font size="2"
face="Verdana, Arial, Helvetica">About Default Inbound Security From the
Internet</font></a></h3>

<p><font size="2" face="Verdana, Arial, Helvetica">When Microsoft Proxy
Server is first installed, your network is secured from external
users on the Internet in two ways: by disabling IP forwarding on
the server and by disabling listening on inbound service ports. </font></p>

<p><font size="2" face="Verdana, Arial, Helvetica">IP forwarding is a
TCP/IP routing feature of Server. If IP forwarding is enabled,
Microsoft Proxy Server forwards all IP connection requests
received on any of the server network ports. To prevent default
forwarding of all IP requests, IP forwarding must be disabled.</font></p>

<p><font size="2" face="Verdana, Arial, Helvetica">With IP forwarding
disabled, Microsoft Proxy Server sets network boundaries and
controls IP traffic between the two server network ports. This
configuration forces all connections between both network ports
to be managed through either the Web Proxy service or WinSock
Proxy service. </font></p>

<p><font size="2" face="Verdana, Arial, Helvetica">By disabling listening
on inbound service ports, Internet users are prevented from
initiating connections on any application service ports you do
not specifically grant users permissions to use.</font></p>

<h3><a href="#Top"><font size="2" face="Verdana, Arial, Helvetica"><img
src="up.gif" alt="To Top" align="middle" border="0" width="14"
height="11"></font></a><a name="11h3"><font size="2"
face="Verdana, Arial, Helvetica"><strong> Domain Planning Considerations</strong></font></a></h3>

<p><font size="2" face="Verdana, Arial, Helvetica">In many cases, the
preferred way to install Microsoft Proxy Server is to make it a
stand-alone server in your current domain. However, if you have
multiple domain servers within a larger private network, you can
also consider setting up Microsoft Proxy Server as a Primary
Domain Controller (PDC) within its own domain.</font></p>

<p><font size="2" face="Verdana, Arial, Helvetica">To install a new domain
for Microsoft Proxy Server, set a single one-way trust
relationship to another domain on your private network. In this
relationship, the domain used for Microsoft Proxy Server is the
trusting domain and another internal domain is specified as the
trusted domain.</font></p>

<p><font size="2" face="Verdana, Arial, Helvetica">If there is an
intrusion, having a separate domain limits access to the
Microsoft Proxy Server. This is because no internal
Windows&nbsp;NT-based servers trust the domain used for Microsoft
Proxy Server. If other proxy servers are added, they can be
included within the domain created for use with Microsoft Proxy
Server. </font></p>

<p><font size="2" face="Verdana, Arial, Helvetica">For more information on
setting trust relationships and understanding domains, see your
documentation for Server.</font></p>

<h2><a href="#Top"><font size="2" face="Verdana, Arial, Helvetica"><img
src="up.gif" alt="To Top" align="middle" border="0" width="14"
height="11"></font></a><a name="18h2"><font size="2"
face="Verdana, Arial, Helvetica">Restricting Outbound Access From Your
Network</font></a></h2>

<blockquote>
    <p><a href="#16h3"><font size="2" face="Verdana, Arial, Helvetica">Overview
    of Outbound Access Security Options</font></a><a href="#7h3"><font
    size="2" face="Verdana, Arial, Helvetica"><br>
    Filtering Access By DNS Domain Name</font></a><font size="2"
    face="Verdana, Arial, Helvetica"><br>
    </font><a href="#8h3"><font size="2" face="Verdana, Arial, Helvetica">Filtering
    Access By IP Address</font></a><font size="2"
    face="Verdana, Arial, Helvetica"><br>
    </font><a href="#9h3"><font size="2" face="Verdana, Arial, Helvetica">Using
    Groups to Assign Internal User Permissions</font></a></p>
</blockquote>

<h3><a href="#Top"><font size="2" face="Verdana, Arial, Helvetica"><img
src="up.gif" alt="To Top" align="middle" border="0" width="14"
height="11"></font></a><a name="16h3"><font size="2"
face="Verdana, Arial, Helvetica">Overview of Outbound Access Security
Options</font></a></h3>

<p><font size="2" face="Verdana, Arial, Helvetica">This section covers
considerations for securing access from your private network to
other networks. Whether you are setting restrictions to the
Internet or other networks in your organization, the same options
are useful. These include setting domain filters and assigning
user permissions to limit access by users on your network to
another network. </font></p>

<p><font size="2" face="Verdana, Arial, Helvetica">When setting domain
filters, both the Web Proxy and WinSock Proxy services can be set
to have a default policy that grants or denies access to specific
Domain Naming System (DNS) domains or IP addresses. You can then
list exceptions to the policy. </font></p>

<p><font size="2" face="Verdana, Arial, Helvetica">Filters that are set
for either service are applied for both the Web Proxy and WinSock
Proxy services. Filtering can be set using the service properties
for either service. </font></p>

<p><font size="2" face="Verdana, Arial, Helvetica">For user permissions,
settings are specific to each service, and permissions must be
set separately for the Web Proxy and WinSock Proxy services. </font></p>

<h3><a href="#Top"><font size="2" face="Verdana, Arial, Helvetica"><img
src="up.gif" alt="To Top" align="middle" border="0" width="14"
height="11"></font></a><a name="7h3"><font size="2"
face="Verdana, Arial, Helvetica">Filtering Access By DNS Domain Name</font></a></h3>

<p><font size="2" face="Verdana, Arial, Helvetica">For both Web Proxy and
WinSock Proxy services, outbound access can be restricted to
Internet sites by setting filtering options for this purpose.
Filtering can be applied to exclude access to a single computer,
a group of computers, or entire DNS domain names that are
reachable on the Internet by users on your network. </font></p>

<p><font size="2" face="Verdana, Arial, Helvetica">In most cases when
establishing filtered access to remote Internet sites, applying
filtering based on DNS domain names for specific sites will
provide the best option for several reasons. </font></p>

<p><font size="2" face="Verdana, Arial, Helvetica">First, filtering by
specified IP addresses may not work effectively because there may
be several IP addresses answering to a given domain name. If you
pick one address, you will miss the other addresses that mirror
the same server content. Also, in some networks, IP addresses may
be dynamically assigned by using Bootstrap Protocol (BOOTP) or
dynamic host configuration protocol (DHCP) services. Where this
occurs, the remote server&#146;s IP address may change. </font></p>

<h3><a href="#Top"><font size="2" face="Verdana, Arial, Helvetica"><img
src="up.gif" alt="To Top" align="middle" border="0" width="14"
height="11"></font></a><a name="8h3"><font size="2"
face="Verdana, Arial, Helvetica">Filtering Access By IP Address</font></a></h3>

<p><font size="2" face="Verdana, Arial, Helvetica">If you are managing a
large private network that uses TCP/IP but does not connect to
the Internet, you may find it more convenient to precisely filter
access by entering specific IP addresses. </font></p>

<p><font size="2" face="Verdana, Arial, Helvetica">Although DNS filtering
is simpler to manage and generally preferred where available,
listing individual IP addresses for filtering is a valid option
where DNS naming services are not managed on your network, and
your private network uses static IP addressing.</font></p>

<h3><a href="#Top"><font size="2" face="Verdana, Arial, Helvetica"><img
src="up.gif" alt="To Top" align="middle" border="0" width="14"
height="11"></font></a><a name="9h3"><font size="2"
face="Verdana, Arial, Helvetica">Using Groups to Assign Internal User
Permissions</font></a></h3>

<p><font size="2" face="Verdana, Arial, Helvetica">When assigning
permissions for the WinSock Proxy and Web Proxy services, it is
recommended that you first use User Manager to create user groups
for each common set of permissions that will be needed by users
on your network. For most networks, this will greatly reduce the
amount of time spent administering individual user permissions. </font></p>

<p><font size="2" face="Verdana, Arial, Helvetica">Groups can be created
to manage and authorize Internet access for users selectively.
Permissions by service for Web Proxy clients can include
permission rights to use FTP, Gopher, HTTP, and Secure Sockets
Layer (SSL) connections. To better understand how groups can be
used in this way, it is useful to look at some examples of
managing permissions with user groups.</font></p>

<p><font size="2" face="Verdana, Arial, Helvetica">For example, if you
need to simplify assigning service permissions for each user to
FTP, Gopher, and WWW services, you could create a group named
Proxies and add this group to the permission rights listing for
each of these three services using the Web Proxy service property
sheet in Internet Service Manager. In the future, to provide
individual users proxy access for all of these Internet protocol
services, you would then only need to add each user once as a
member to the Proxies group using the User Manager for Domains. </font></p>

<p><font size="2" face="Verdana, Arial, Helvetica">The same concept could
apply for other service permissions by user that you want to
create. Suppose you have a group of users that need to use SSL
connections for access to the World Wide Web (WWW). For security
reasons, these connections are not to use the default HTTP
service port, port 80. By creating a group named Secure Proxies
and adding this group permission rights to the Secure service in
Internet Service Manager, you could add each user as a member to
the Secure Proxies group.</font></p>

<p><font size="2" face="Verdana, Arial, Helvetica">For WinSock Proxy
service users, protocol permissions can be managed by using the
same strategy. If, for example, you wanted to assign a small
group of users on your network access to real-time audio and
video transmission, you could create a group AV Enabled and
assign this group permission rights for RealAudio and VDOLive
protocols by using the <strong>Permissions</strong> property
sheet for WinSock Proxy service properties. Each multimedia user
could then be provided access simply by being added to the AV
Enabled group. </font></p>

<hr>

<p align="center"><font size="2" face="Verdana, Arial, Helvetica"><i>
1996 by Microsoft Corporation. All rights reserved.</i> </font></p>
</FONT>
</FONT>
</BODY>
</html>
