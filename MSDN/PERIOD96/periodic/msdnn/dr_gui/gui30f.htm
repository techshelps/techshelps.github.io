<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<html>

<head>
<meta http-equiv="Content-Type"
content="text/html; charset=iso-8859-1">
<meta name="GENERATOR" content="Microsoft FrontPage 2.0">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Buddy, Can You Spare Some EN_CHANGE?</title>

<meta name=href content="msdn_ie4.css">                
<style>@import url(msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="msdn_ie3.css"></HEAD><basefont face="verdana,arial,helvetica" size=2 color="#000000">

<BODY bgcolor="#FFFFFF">
<font face="verdana,arial,helvetica" size="2">

<font size="5" face="verdana,arial,helvetica">Buddy, Can You Spare
Some EN_CHANGE?</font>

<h2><font size="2" face="verdana,arial,helvetica">Dear Dr. GUI:</font></h2>

<p><font size="2" face="verdana,arial,helvetica">I am using Visual C++
4.1 on Windows 95 and Windows NT. </font></p>

<p><font size="2" face="verdana,arial,helvetica">I was trying to use the
EN_CHANGE of an edit box since I wanted to display the characters
that are changed in the edit box somewhere else in my dialog. But
for some reason at runtime, that event is being generated even
before the dialog is being displayed. Why is that happening?
Aren't events supposed to be trapped/generated after the dialog
is initialized or displayed and something changes in the edit
box? </font></p>

<p><font size="2" face="verdana,arial,helvetica">The on-line
documentation says: &quot;The EN_CHANGE notification message is
sent when the user has taken an action that may have altered text
in an edit control.&quot; Am reading this wrong? </font></p>

<p><font size="2" face="verdana,arial,helvetica">Please help!! </font></p>

<p><font size="2" face="verdana,arial,helvetica">Thanks. </font></p>

<p><font size="2" face="verdana,arial,helvetica">Vikram Naik </font></p>

<h2><font size="2" face="verdana,arial,helvetica">Dr. GUI replies:</font></h2>

<p><font size="2" face="verdana,arial,helvetica">In medical school, Dr.
GUI learned it as you did. But a few real-life tests showed that
Dr. GUI had learned wrong. (Remember when doctors prescribed
smoking to help with weight loss?) </font></p>

<p><font size="2" face="verdana,arial,helvetica">Regardless of what the
documentation says, the EN_CHANGE notification is sent whenever
the text in the edit control is changed, not just when the user
changes it. For instance, when you initialize it with <b>SetWindowText</b>,
the notification message is sent. (In fact, this happens whether
the text is actually changed or not.) This is the correct way for
this to work: You want your parent to know when the edit
control's contents have changed regardless of how they've
changed. It's a feature! </font></p>

<p><font size="2" face="verdana,arial,helvetica">By the way, MFC has some
special code to prevent notifications from being sent through the
message map mechanism when you're updating controls in a window
by calling <b>UpdateData</b>. So if you test this with an MFC
application (as Dr. GUI did), you'll find that you DON'T get the
notification function call on the initial update. </font></p>

<p><font size="2" face="verdana,arial,helvetica">Just be sure you're
prepared to handle the change notification when it
comes&#151;because it WILL come! </font></p>
</font></body>
</html>
