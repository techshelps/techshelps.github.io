<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<html>

<head>
<meta http-equiv="Content-Type"
content="text/html; charset=iso-8859-1">
<meta name="GENERATOR" content="Microsoft FrontPage 2.0">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>32767 Limit with CDC Drawing Functions?</title>

<meta name=href content="msdn_ie4.css">                
<style>@import url(msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="msdn_ie3.css"></HEAD>

<BODY bgcolor="#FFFFFF">
<font face="verdana,arial,helvetica" size="2">

<p><font color="#000000" size="5" face="verdana,arial,helvetica">32767
Limit with CDC Drawing Functions?</font></p>

<h3><font color="#000000" size="2" face="verdana,arial,helvetica">Dear
Dr. GUI:</font></h3>

<p><font color="#000000" size="2" face="verdana,arial,helvetica">We
have an application which makes extensive use of the CDC class.
The functions work very well until we start passing values
greater than 32767. Most member functions are passed <b>int</b>s,
which presumably should be <b>long</b>s in Windows NT and Windows
95. The problem is that, although the application works perfectly
normally in Windows NT, it goes alarmingly wrong in Windows 95
and Win32s after the 32767 limit. Although, with a serious amount
of work (involving factoring EVERY value we send to any CDC
function) we can get around this problem, it would be nice if all
systems worked anyway. </font></p>

<p><font color="#000000" size="2" face="verdana,arial,helvetica">Do
you have any suggestions? </font></p>

<p><font color="#000000" size="2" face="verdana,arial,helvetica">Cheers,
</font></p>

<p><font color="#000000" size="2" face="verdana,arial,helvetica">Pete
Callaway </font></p>

<h3><font color="#000000" size="2" face="verdana,arial,helvetica">Dr.
GUI replies:</font></h3>

<p><font color="#000000" size="2" face="verdana,arial,helvetica">Ah!
A traditional Windows SDK question, at last. </font></p>

<p><font color="#000000" size="2" face="verdana,arial,helvetica">This
isn't terribly well covered in the MFC documentation, so it falls
to Dr. GUI to deliver some bad news: Under Windows 95 and Win32s,
all screen coordinates are limited to 16 bits (&#150;32768 to
32767). For performance, compatibility, and memory footprint
reasons, Windows 95 and Win32s use a lot of 16-bit code. For
efficiency's sake, that necessitates using 16-bit values for
coordinates. </font></p>

<p><font color="#000000" size="2" face="verdana,arial,helvetica">Because
of this, you're going to have to scale your coordinates to the
required range. </font></p>

<p><font color="#000000" size="2" face="verdana,arial,helvetica">Sorry
the news isn't better. </font></p>
</font></body>
</html>
