<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<html>

<head>
<meta http-equiv="Content-Type"
content="text/html; charset=iso-8859-1">
<meta name="GENERATOR" content="Microsoft FrontPage 2.0">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>But Isn't that a Little Forward of You? Forward Declarations</title>

<meta name=href content="msdn_ie4.css">                
<style>@import url(msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="msdn_ie3.css"></HEAD><basefont face="verdana,arial,helvetica" size=2 color="#000000">

<BODY bgcolor="#FFFFFF">
<font face="verdana,arial,helvetica" size="2">

<p><font color="#000000" size="5" face="verdana,arial,helvetica">But
Isn't that a Little Forward of You? Forward Declarations</font></p>

<h2><font color="#000000" size="2" face="verdana,arial,helvetica">Dr.
GUI:</font><font color="#000000"
face="verdana,arial,helvetica"> </font></h2>

<p><font color="#000000" size="2" face="verdana,arial,helvetica">I
have the following class construct in an .H file:</font><font
color="#000000" face="verdana,arial,helvetica"> </font></p>

<p><font color="#000000" size="2" face="Courier New">struct S</font><font
color="#000000" face="verdana,arial,helvetica"> <br>
</font><font color="#000000" size="2" face="Courier New">{</font><font
color="#000000" face="verdana,arial,helvetica"> <br>
</font><font color="#000000" size="2" face="Courier New">X:Etype
a;</font><font color="#000000" face="verdana,arial,helvetica"> <br>
</font><font color="#000000" size="2" face="Courier New">};</font><font
color="#000000" face="verdana,arial,helvetica"> <br>
&nbsp; <br>
</font><font color="#000000" size="2" face="Courier New">class X</font><font
color="#000000" face="verdana,arial,helvetica"> <br>
</font><font color="#000000" size="2" face="Courier New">{</font><font
color="#000000" face="verdana,arial,helvetica"> <br>
</font><font color="#000000" size="2" face="Courier New">public:</font><font
color="#000000" face="verdana,arial,helvetica"> <br>
</font><font color="#000000" size="2" face="Courier New">enum
Etype { LEFT, UP, RIGHT, DOWN };</font><font color="#000000"
face="verdana,arial,helvetica"> <br>
</font><font color="#000000" size="2" face="Courier New">void
Check(S&amp; first, S&amp; second);</font><font color="#000000"
face="verdana,arial,helvetica"> <br>
</font><font color="#000000" size="2" face="Courier New">};</font><font
color="#000000" face="verdana,arial,helvetica"> </font></p>

<p><font color="#000000" size="2" face="verdana,arial,helvetica">This
does not compile since <b>X::Etype</b> is not defined. But I
can't put the definition of struct S after the definition of X,
since X has a function, <b>Check</b>, which depends on references
to S.</font><font color="#000000" face="verdana,arial,helvetica">
</font></p>

<p><font color="#000000" size="2" face="verdana,arial,helvetica">Is
there a way around this?</font><font color="#000000"
face="verdana,arial,helvetica"> </font></p>

<p><font color="#000000" size="2" face="verdana,arial,helvetica">Mark
Graham</font><font color="#000000" face="verdana,arial,helvetica">
</font></p>

<h2><font color="#000000" size="2" face="verdana,arial,helvetica">Dr.
GUI replies:</font><font color="#000000"
face="verdana,arial,helvetica"> </font></h2>

<p><font color="#000000" size="2" face="verdana,arial,helvetica">The
good doctor has always believed in proper declarations, and so
does Visual C++&#151;so you're sure stuck here!</font><font
color="#000000" face="verdana,arial,helvetica"> </font></p>

<p><font color="#000000" size="2" face="verdana,arial,helvetica">Thankfully,
the designers of Visual C++ foresaw this problem and made a
provision for forward declarations. Since you are just passing
references to <b>X::Check</b>, you need to use a forward
declaration of struct S.</font><font color="#000000"
face="verdana,arial,helvetica"> </font></p>

<p><font color="#000000" size="2" face="Courier New">struct S;</font><font
color="#000000" face="verdana,arial,helvetica"> <br>
</font><font color="#000000" size="2" face="Courier New">class X</font><font
color="#000000" face="verdana,arial,helvetica"> <br>
</font><font color="#000000" size="2" face="Courier New">{</font><font
color="#000000" face="verdana,arial,helvetica"> <br>
</font><font color="#000000" size="2" face="Courier New">public:</font><font
color="#000000" face="verdana,arial,helvetica"> <br>
</font><font color="#000000" size="2" face="Courier New">enum
Etype { LEFT, UP, RIGHT, DOWN };</font><font color="#000000"
face="verdana,arial,helvetica"> <br>
</font><font color="#000000" size="2" face="Courier New">void
Check(S&amp; first, S&amp; second);</font><font color="#000000"
face="verdana,arial,helvetica"> <br>
</font><font color="#000000" size="2" face="Courier New">};</font><font
color="#000000" face="verdana,arial,helvetica"> <br>
</font><font color="#000000" size="2" face="Courier New">struct S</font><font
color="#000000" face="verdana,arial,helvetica"> <br>
</font><font color="#000000" size="2" face="Courier New">{</font><font
color="#000000" face="verdana,arial,helvetica"> <br>
</font><font color="#000000" size="2" face="Courier New">X:Etype
a;</font><font color="#000000" face="verdana,arial,helvetica"> <br>
</font><font color="#000000" size="2" face="Courier New">};</font><font
color="#000000" face="verdana,arial,helvetica"> </font></p>
</font></body>
</html>
