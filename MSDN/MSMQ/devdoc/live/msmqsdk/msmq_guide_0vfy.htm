<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Message Authentication</title>
<link disabled rel=stylesheet href=../../backsdk3.css>
<style type="text/css">
@import url(../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h2><a name="_mq_message_authentication"></a>Message Authentication</h2>
<p>
Message authentication allows the receiving application to verify the source of a message and that the message was not modified on its way to the queue. This is done by attaching a <a href="msmqglos_3wv8.htm#_mq_digital_signature_gly">digital signature</a> to the message when it is sent,and verifying the digital signature when the message reaches the queue. The digital signature is created by MSMQ and attached to the message when the message is sent. The receiving MSMQ Queue Manager then uses the digital signature to verify the sender and that the message was not modified.</p>
<p>
To digitally sign a message, the sending application supplies a signature key pair for creating the digital signature. The signature key pair is made up of a <a href="msmqglos_3wvk.htm#_mq_public_signing_key_gly">public signing key</a> and a <a href="msmqglos_3wvk.htm#_mq_private_signing_key_gly">private signing key</a>.</p>
<p>
The information used to validate who sent the message is contained in security certificates. MSMQ can use an <a href="msmqglos_3wvd.htm#_mq_internal_certificate_gly">internal certificate</a> that is provided by MSMQ or an <a href="msmqglos_3wv9.htm#_mq_external_certificate_gly">external certificate</a> that is obtained from a <a href="msmqglos_3wv7.htm#_mq_certification_authority_gly">certification authority</a><u> </u>(CA).</p>
<p>
Internal certificates are typically used when only the sender identifier is used to authenticate the message. In this case, MSMQ uses the sender identifier to authenticate the message, and the receiving application does nothing. There is no other information used to verify the sender, and only the sender identifier is guaranteed correct. Internal certificates can also be used without the sender identifier if you want only to verify that the message was not tampered with.</p>
<p>
<b>Note</b>&nbsp;&nbsp;When an internal security certificate is used, the <a href="msmqglos_3wvk.htm#_mq_private_signing_key_gly">private signing key</a> is registered the first time that the MSMQ Control Panel application is run.</p>
<p>
External certificates are used when you want to use more than just the sender identifier to authenticate the message. The information in the external certificate is guaranteed by the <a href="msmqglos_3wv7.htm#_mq_certification_authority_gly">certification authority</a><u> </u>that created the certificate. MSMQ does not validate an external certificate.</p>
<p>
In this case, it is the receiving application's responsibility to validate the certificate before using the authenticated message. MSMQ generates the digital signature of a message when it is sent and verifies the digital signature when the message is received, but it does not validate the certificate itself.</p>
<p>
<b>Note</b>&nbsp;&nbsp;External certificates are required when communicating with operating environments other than Windows NT® where the sender identifier is meaningless.</p>
<table cellspacing=4 cols=2>
<tr valign=top>
<th align=left width=48%>For information on…</th>
<th align=left width=52%>See…</th>
</tr>
<tr valign=top>
<td width=48%>Using an internal certificate</td>
<td width=52%><a href="msmquse_22n9.htm">Authenticating Messages Using an Internal Certificate</a></td>
</tr>
<tr valign=top>
<td width=48%>Using an external certificate</td>
<td width=52%><a href="msmquse_8ztx.htm">Authenticating Messages Using an External Certificate</a></td>
</tr>
<tr valign=top>
<td width=48%>Specifying certificates</td>
<td width=52%><a href="mqactx_22cl.htm">SenderCertificate</a> (ActiveX)<br>
<a href="mqprop_2nsk.htm">PROPID_M_SENDER_CERT</a> (C API)</td>
</tr>
<tr valign=top>
<td width=48%>Sender identifier properties</td>
<td width=52%><a href="mqactx_4l9g.htm">SenderId</a> (ActiveX)<br>
<a href="mqprop_0p7o.htm">PROPID_M_SENDERID</a> (C API)</td>
</tr>
<tr valign=top>
<td width=48%>The authentication process</td>
<td width=52%><a href="msmq_guide_4bsj.htm">How MSMQ Authenticates Messages</a></td>
</tr>
</table><br>
<p>&nbsp;</p></body>
</HTML>
