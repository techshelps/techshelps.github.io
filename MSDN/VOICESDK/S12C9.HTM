<HTML>
<HEAD>
<meta name="PREMIUM" content="MSDN">
<meta http-equiv="Content-Type" content="text/html; charset=iso8859-1">
<meta name="MS.LOCALE" content="EN-US">
<meta name="DESCRIPTION" content="This page is from the 'Integrated Voice and Data Software Support in Microsoft Windows' section in the MSDN Library">

<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>xfConnectAndSend</TITLE><style>@import url(msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="msdn_ie3.css"></HEAD>

<BODY bgcolor="#FFFFFF" link=#003399 vlink=#996699>

<FONT FACE="Verdana, Arial, Helvetica" SIZE="2">

	<!--TOOLBAR_START-->
	<!--TOOLBAR_EXEMPT-->
	<!--TOOLBAR_END-->

<H2>xfConnectAndSend</H2><P><B>#include &lt;fte.h&gt;</B></P>
<P><B>DWORD WINAPI xfConnectAndSend(</B><I>hSession</I><B>, </B><I>lpAddress</I><B>, </B><I>lpOpen</I><B>, </B><I>lpDescription</I><B>, </B><I>lpFiles</I><B>, </B><I>lpTag</I><B>, </B><I>lcbTag</I><B>, </B><I>dwFlags</I><B>)<BR>HSESSION </B><I>hSession</I><B>;                        /* handle of session to use for connection                    */<BR>LPXFRADDRESS </B><I>lpAddress</I><B>;            /* pointer to transfer address for connection                */<BR>LPCSTR </B><I>lpOpen</I><B>;                            /* pointer to parameter for receiving application            */<BR>LPCSTR </B><I>lpDescription</I><B>;</B>                    <B>/* pointer to friendly description of transfer                */<BR>LPCSTR </B><I>lpFiles</I><B>;</B>                            <B>/* pointer to list of files to transfer                            */<BR>LPCSTR </B><I>lpTag</I><B>;</B>                            <B>/* pointer to arbitrary data for receiving application    */<BR>DWORD </B><I>dwTag</I><B>;</B>                            <B>/* number of bytes in tag                                        */<BR>DWORD </B><I>dwFlags</I><B>;</B>                            <B>/* flag specifying conditions for send                            */</B></P>
<P>The <B>xfConnectAndSend</B> function makes a connection, transfers file(s), and terminates the connection.</P>
<P><B>Parameters</B></P>
<P><I>hSession</I></P>
<P>Identifies the desired session, which was established by a call to <B>xfInitialize</B>.</P>
<P><I>lpAddress</I></P>
<P>Provides information (such as a telephone number or a machine name) needed about the transfer address to make the connection. See <B>XFRADDRESS</B> for details about the address structure.</P>
<P><I>lpOpen</I></P>
<P>Indicates the filename to open after the transfer is complete. This parameter is optional, and if not used, set it to NULL. If XF_MATCHID is specified, the applications conducting the transfer determine the meaning of the string.</P>
<P><I>lpDescription</I></P>
<P>The single, friendly name to describe a file transfer that involves multiple files. This name can be, for instance, "Budget Update" when transferring multiple files in a budget update. This parameter is optional, and if not used, set it to NULL. </P>
<P><I>lpFiles</I></P>
<P>Identifies the file or list of files to send. It contains successive, zero-terminated strings that are the filenames to transfer. The entire list of files ends with an additional zero; that is, two zeros terminate the final filename string. This parameter is optional, and if not used, set it to NULL.</P>
<P><I>lpTag</I></P>
<P>Contains optional, additional information to send to the receiving application. It can contain arbitrary, binary information for the receiving application to interpret, and it can be sent even if no file is sent. For example, it can convey the paragraph and sentence to where a receiving word processing application moves its cursor when displaying a transferred file.</P>
<P><I>dwTag</I></P>
<P>Length of the tag to send, in bytes.</P>
<P><I>dwFlags</I></P>
<P>Specifies conditions for the connection and send. It can be any of these values:</P>

<TABLE COLS="3" BORDER="0" CELLPADDING="7"><COLGROUP><COL WIDTH="107pt" VALIGN="TOP"><COL WIDTH="226pt" VALIGN="TOP"><COL WIDTH="0pt" VALIGN="TOP"></COLGROUP><TBODY><TR><TD VALIGN="TOP"><FONT FACE="Verdana, Arial, Helvetica" SIZE="2"><P><B>Value</B></P></FONT></TD><TD COLSPAN="2" VALIGN="TOP"><FONT FACE="Verdana, Arial, Helvetica" SIZE="2"><P><B>Meaning</B></P></FONT></TD></TR><TR><TD COLSPAN="2" VALIGN="TOP"><FONT FACE="Verdana, Arial, Helvetica" SIZE="2"><P></P></FONT></TD></TR><TR><TD VALIGN="TOP"><FONT FACE="Verdana, Arial, Helvetica" SIZE="2"><P>XF_DONT_COMPRESS</P></FONT></TD><TD COLSPAN="2" VALIGN="TOP"><FONT FACE="Verdana, Arial, Helvetica" SIZE="2"><P>Don't compress files when transferring. If not specified, files are compressed for efficient transfer.</P></FONT></TD></TR><TR><TD VALIGN="TOP"><FONT FACE="Verdana, Arial, Helvetica" SIZE="2"><P>XF_INCLUDEPATH</P></FONT></TD><TD COLSPAN="2" VALIGN="TOP"><FONT FACE="Verdana, Arial, Helvetica" SIZE="2"><P>Include path names along with filenames. If not specified, only filenames are sent.</P></FONT></TD></TR><TR><TD VALIGN="TOP"><FONT FACE="Verdana, Arial, Helvetica" SIZE="2"><P>XF_MATCHID</P></FONT></TD><TD COLSPAN="2" VALIGN="TOP"><FONT FACE="Verdana, Arial, Helvetica" SIZE="2"><P>Allow only the specific application with the UUID in the <B>uuidAppID</B> field of the XFRADDRESS to receive the files.</P></FONT></TD></TR><TR><TD VALIGN="TOP"><FONT FACE="Verdana, Arial, Helvetica" SIZE="2"><P>XF_WAIT</P></FONT></TD><TD COLSPAN="2" VALIGN="TOP"><FONT FACE="Verdana, Arial, Helvetica" SIZE="2"><P>Wait until the file transfer is complete before returning from the function call. If not specified, the function returns immediately.</P></FONT></TD></TR></TBODY></TABLE>
<P><BR></P><P></P>
<P><B>Return Value</B></P>
<P>The return value specifies the result of the termination request. It can be any one of the values list in section 2.2.4. File Transfer Errors.</P>
<P></P>
<P><B>Comments</B></P>
<P>If the XF_WAIT flag is specified, the file transfer engine makes the connection and transfer before returning from the call. Otherwise, the call returns immediately, an XF_SUCCESS return value does not necessarily signify a successful operation, and the file transfer engine continues to make the connection and the transfer.</P>
<P>The <B>xfConnectAndSend</B> function call is equivalent to calling the <B>xfConnect</B>, <B>xfSend</B>, and <B>xfDisconnect</B> functions. If the complete list of files is known before making the connection, and if the <B>xfConnect</B> function call is not required, the <B>xfConnectAndSend</B> function can be used instead of the equivalent function sequence.</P>
<P>If no UUID is specified in the <B>uuidAppID </B>field fo <B>XFRADDRESS</B>, the default application receives the files.  If a UUID is specified, the files will be received by the application or by the default application if the application is not available.  If a UUID is specified and the XF_MATCHID option is used, the files must be received by the specific application or the transfer fails.</P>
<P><B>See Also</B></P>
<P><B>xfConnect, xfDisconnect</B>, <B>xfInitialize</B>, <B>XFRADDRESS</B>, <B>xfSend</B></P>
<P></P>
</FONT>
</BODY>
</HTML>
