<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>MoveClusterGroup</title>
<link disabled rel=stylesheet href=../../backsdk3.css>
<style type="text/css">
@import url(../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h2><a name="_wolf_moveclustergroup"></a>MoveClusterGroup</h2>
<p>
The <b>MoveClusterGroup</b> function moves a group and all of its resources from one node to another.</p>
<pre><code><b>DWORD WINAPI MoveClusterGroup(
  HGROUP</b><i> hGroup</i><b>,           </b>
<b>  HNODE</b><i> hDestinationNode</i>   
<b>);</b>
 </code></pre>
<h4>Parameters</h4>
<dl>
<dt>
<i>hGroup</i></dt>
<dd>
[in] Handle to the group to be moved.</dd>
<dt>
<i>hDestinationNode</i></dt>
<dd>
[in] Optional handle to the node where the moved group should be brought back online or NULL.
</dd>
</dl>
<h4>Return Values</h4>
<dl>
<dt>
ERROR_SUCCESS</dt>
<dd>
The reassignment of ownership of the group has completed.  </dd>
<dt>
ERROR_IO_PENDING</dt>
<dd>
The reassignment of ownership of the group is in progress. 
</dd>
</dl>
<p>
If the operation was unsuccessful, <b>MoveClusterGroup</b> returns a Win32 error value.</p>
<h4>Remarks</h4>
<p>
The return value from <b>MoveClusterGroup</b> indicates whether or not the group has successfully changed ownership. It does not imply anything about the state of the group and all of its resources. That is, if the group was in the online state prior to the move, it may or may not be online on its new node when <b>MoveClusterGroup</b> returns, regardless of the return value.</p>
<p>
After the ownership of the group has been successfully reassigned, <b>MoveClusterGroup</b> returns and the Cluster Service attempts to restore the group and its resources to its previous state on the new node. For example, if before the move the group was partially online with an offline Generic Service resource and an online Physical Disk resource, after the move the Cluster Service attempts to bring the Physical Disk resource online on the new node. The Generic Service resource remains offline. </p>
<p>
Since the ERROR_SUCCESS return value indicates only that the ownership of the group has changed, callers of <b>MoveClusterGroup</b> must assume that ERROR_SUCCESS implies ERROR_IO_PENDING and wait for completion. The caller may wait by either:
<ul>
<li>
Polling the state of each resource in the group.</li>
<li>
Creating a notification port and waiting for the appropriate CLUSTER_CHANGE_RESOURCE_STATE events to arrive.</li>
</ul>
<p>
When all of the resources in the group have been brought online, the caller can assume that the move operation has completed and that the resources have been restored to their original state.</p>
<p>
When <i>hDestinationNode</i> is set to NULL, <b>MoveClusterGroup</b> attempts to move the group to the best possible node. If there is no node available that can accept the group, the function fails. <b>MoveClusterGroup</b> also fails if <b>MoveClusterGroup</b> determines that the group cannot be brought online on the node identified by the <i>hDestinationNode</i> parameter. </p>
<h4>QuickInfo</h4>
<p>
<b>&nbsp;&nbsp;Version: </b>Use Windows NT Server Enterprise Edition 4.0.<br>
<b>&nbsp;&nbsp;Windows CE: </b>Unsupported.<br>
<b>&nbsp;&nbsp;Header: </b>Declared in clusapi.h.</p>
<p>&nbsp;</p></body>
</HTML>
