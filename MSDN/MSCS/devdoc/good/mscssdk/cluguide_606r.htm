<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Enumerating Cluster Objects</title>
<link disabled rel=stylesheet href=../../backsdk3.css>
<style type="text/css">
@import url(../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h1><a name="_wolf_enumerating_cluster_objects"></a>Enumerating Cluster Objects</h1>
<p>
One of the most common tasks of cluster-aware and cluster management applications is to enumerate objects in the cluster. Applications can enumerate specific types of objects such as resources, or choose to limit their enumeration to objects that affect a particular group or resource.</p>
<h5><img src="../../images/wedge.gif" border=0>&nbsp;&nbsp;&nbsp;&nbsp;To find the cluster Network Name resource</h5>
<ul>
<li>
Create a resource enumerator by calling <a href="clusapi_2xil.htm"><b>ClusterOpenEnum</b></a> and specifying CLUSTER_ENUM_RESOURCE for the <i>dwType</i> parameter.</li>
<li>
Loop through all of the resources in the cluster by calling <a href="clusapi_3w31.htm"><b>ClusterEnum</b></a> repeatedly with the contents of the <i>lpdwType</i> parameter set to CLUSTER_ENUM_RESOURCE. For each resource:<ol>
<li>
Call <a href="clusapi_921x.htm"><b>OpenClusterResource</b></a>, setting the <i>lpszResourceName</i> parameter to the contents of the <i>lpszName</i> parameter returned from <b>ClusterEnum</b>.</li>
<li>
Call <a href="clusapi_5hd8.htm"><b>ClusterResourceControl</b></a> with the <i>dwControlCode</i> parameter set to <a href="clusctl_6dkj.htm">CLUSCTL_RESOURCE_GET_FLAGS</a>.</li>
<li>
If the CLUS_FLAG_CORE flag is set, indicating that the resource is a core cluster resource, call <b>ClusterResourceControl</b> with the <i>dwControlCode</i> parameter set to <a href="clusctl_6qqt.htm">CLUSCTL_RESOURCE_GET_RESOURCE_TYPE</a>. </li>
<li>
The resource type will be set to "Network Name" for the cluster Network Name resource. There will only be one core resource in the cluster with the "Network Name" resource type. </li>
</ol>
</li>
</ul>
<p>&nbsp;</p></body>
</HTML>
