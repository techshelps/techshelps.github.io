<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>LogEvent</title>
<link disabled rel=stylesheet href=../../backsdk3.css>
<style type="text/css">
@import url(../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h2><a name="_wolf_logevent"></a>LogEvent</h2>
<p>
The <b>LogEvent</b> callback function records an event for a resource. </p>
<pre><code><b>VOID WINAPI LogEvent(
  RESOURCE_HANDLE</b><i> ResourceHandle</i><b>,</b>   
<b>  LOG_LEVEL</b><i> LogLevel</i><b>,</b>               
<b>  LPCWSTR</b><i> FormatString</i>              
<b>);</b>
 </code></pre>
<h4>Parameters</h4>
<dl>
<dt>
<i>ResourceHandle</i></dt>
<dd>
[in] Handle identifying the resource recording the event. The value for <i>ResourceHandle</i> should be the handle passed in during the <a href="resapi_1ub2.htm"><b>Open</b></a> call for this resource.</dd>
<dt>
<i>LogLevel</i></dt>
<dd>
[in] Constant that represents the log level of the event and is for information only. Valid values are shown next, in order from least to most severe:
<dl>
<dt>
LOG_INFORMATION</dt>
<dd>
The event is informational.</dd>
<dt>
LOG_WARNING</dt>
<dd>
The event is reporting a failure that might have happened, but it is uncertain whether a failure really did occur.</dd>
<dt>
LOG_ERROR </dt>
<dd>
The event affects a single component, but other components are not affected and the integrity of the rest of the node is not compromised.</dd>
<dt>
LOG_SEVERE</dt>
<dd>
The event is reporting a severe failure that affects multiple components or the integrity of the entire system is compromised — or believed to be compromised.</dd>
</dl>
</dd>
<dt>
<i>FormatString</i></dt>
<dd>
[in] Pointer to a formatted Unicode string that includes the information to be recorded. This string must be in the same format as is passed to the Win32 function <b>FormatMessage</b>.
</dd>
</dl>
<h4>Return Values</h4>
<p>
None.</p>
<h4>Remarks</h4>
<p>
The <b>LogEvent</b> function is implemented by the Resource Monitor and called by a resource DLL to report events and errors to the cluster debugging log. Resource DLLs receive a pointer to the <b>LogEvent</b> function as an input parameter to their <a href="resapi_1kj4.htm"><b>Startup</b></a> entry point function.</p>
<p>
To enable the cluster debugging log:
<ul>
<li>
Set the CLUSTERLOG environment variable to a complete path identifying the location of the log file. The default name for the log file is cluster.log and the default location is the cluster directory. </li>
<li>
Set the size of the log file in the <b>ClusterLogSize</b> entry in the cluster database under <b>HKEY_LOCAL_MACHINE\Cluster</b>. The size is a DWORD value that indicates the number of megabytes that the log file can hold. If this value is set to zero, logging is disabled.</li>
</ul>
<p>
<b>LogEvent</b> does not write entries to the Microsoft® Windows NT® event log. To report events in the Windows NT event log, a resource DLL must call the Win32 function <b>ReportEvent</b>. </p>
<p>
The format of the logged message looks like:</p>
<pre><code>ResourceTypeName &lt;specific resource name&gt;: message
</code></pre>
<p>
ResourceTypeName is the resource type, such as "Generic Application". The specific resource name is the user-friendly name for the specific resource and message is the message delivered by the resource DLL to the Resource Monitor.</p>
<h4>QuickInfo</h4>
<p>
<b>&nbsp;&nbsp;Version: </b>Use Windows NT Server Enterprise Edition 4.0.<br>
<b>&nbsp;&nbsp;Windows CE: </b>Unsupported.<br>
<b>&nbsp;&nbsp;Header: </b>Declared in resapi.h.</p>
<p>&nbsp;</p></body>
</HTML>
