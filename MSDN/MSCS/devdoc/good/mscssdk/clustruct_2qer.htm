<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Cluster Structures</title>
<link disabled rel=stylesheet href=../../backsdk3.css>
<style type="text/css">
@import url(../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h1><a name="_wolf_cluster_structures"></a>Cluster Structures</h1>
<p>
Cluster structures are used to describe data relating to an object in a cluster. The most common use of the majority of cluster structures is in a value list. <a href="cluguide_68ab.htm">A value list</a> is returned by <b>ClusterResourceControl</b> and <b>ClusterResourceTypeControl</b> and is included in the property value of a <a href="cluguide_1e2b.htm">property list</a>. </p>
<p>
Microsoft® Cluster Server defines a special structure, <a href="clustruct_6p0l.htm"><b>CLUSPROP_VALUE</b></a>, that is used as a generic header in many cluster structures. <b>CLUSPROP_VALUE</b> has two members: a <a href="clustruct_7u0o.htm"><b>CLUSPROP_SYNTAX</b></a> structure that describes a data value's format and type and a numeric value that describes a data value's length.</p>
<p>
Most of the other cluster structures describe data of a particular type that is used in a value list. All of these structures include as their first member a <b>CLUSPROP_VALUE</b> structure. The following table lists the structures that are available for describing data values:</p>
<table cellspacing=4 cols=2>
<tr valign=top>
<th align=left width=58%>Cluster structure</th>
<th align=left width=42%>Purpose</th>
</tr>
<tr valign=top>
<td width=58%><a href="clustruct_4gah.htm"><b>CLUSPROP_BINARY</b></a></td>
<td width=42%>Describes binary data.</td>
</tr>
<tr valign=top>
<td width=58%><a href="clustruct_7ktu.htm"><b>CLUSPROP_DISK_NUMBER</b></a></td>
<td width=42%>Describes the number of a disk.</td>
</tr>
<tr valign=top>
<td width=58%><a href="clustruct_5n1h.htm"><b>CLUSPROP_DISK_SIGNATURE</b></a></td>
<td width=42%>Describes the signature of a disk.</td>
</tr>
<tr valign=top>
<td width=58%><a href="clustruct_7vfo.htm"><b>CLUSPROP_DWORD</b></a></td>
<td width=42%>Describes numeric data.</td>
</tr>
<tr valign=top>
<td width=58%><a href="clustruct_3p2y.htm"><b>CLUSPROP_MULTI_SZ</b></a></td>
<td width=42%>Describes multiple strings.</td>
</tr>
<tr valign=top>
<td width=58%><a href="clustruct_0sbz.htm"><b>CLUSPROP_PARTITION_INFO</b></a></td>
<td width=42%>Describes information relevant to storage class resources. </td>
</tr>
<tr valign=top>
<td width=58%><a href="clustruct_52qt.htm"><b>CLUSPROP_PROPERTY_NAME</b></a></td>
<td width=42%>Describes the name of a property.</td>
</tr>
<tr valign=top>
<td width=58%><a href="clustruct_1mm1.htm"><b>CLUSPROP_REQUIRED_DEPENDENCY</b></a></td>
<td width=42%>Describes a resource upon which another resource must depend.</td>
</tr>
<tr valign=top>
<td width=58%><a href="clustruct_4uur.htm"><b>CLUSPROP_RESOURCE_CLASS</b></a></td>
<td width=42%>Describes a resource class value.</td>
</tr>
<tr valign=top>
<td width=58%><a href="clustruct_3pbj.htm"><b>CLUSPROP_RESOURCE_CLASS_INFO</b></a></td>
<td width=42%>Describes information relevant to a resource class.</td>
</tr>
<tr valign=top>
<td width=58%><a href="clustruct_6d9v.htm"><b>CLUSPROP_SCSI_ADDRESS</b></a></td>
<td width=42%>Describes an address for a SCSI device.</td>
</tr>
<tr valign=top>
<td width=58%><a href="clustruct_09fe.htm"><b>CLUSPROP_SZ</b></a></td>
<td width=42%>Describes a null-terminated Unicode string.</td>
</tr>
<tr valign=top>
<td width=58%><a href="clustruct_5m42.htm"><b>CLUSPROP_ULARGE_INTEGER</b></a></td>
<td width=42%>Describes an unsigned large integer.</td>
</tr>
</table><br>
<p>
The data portion of these structures can be a single value or can itself be a structure. For example, the <b>CLUSPROP_DISK_NUMBER</b> structure includes a single DWORD to hold the data for the disk number. The <b>CLUSPROP_VALUE</b> portion of this structure is set as follows:</p>
<pre><code>CLUSPROP_VALUE Value;
Value.Syntax = CLUSPROP_SYNTAX_DISK_NUMBER;
Value.cbLength = cbDiskNum;
 </code></pre>
<p>
Because the data for a SCSI device address requires more than a single value, the <a href="clustruct_6d9v.htm"><b>CLUSPROP_SCSI_ADDRESS</b></a> structure uses a <a href="clustruct_7lbn.htm"><b>CLUS_SCSI_ADDRESS</b></a> structure to hold it. The <b>CLUSPROP_VALUE</b> member of a <b>CLUSPROP_SCSI_ADDRESS</b> structure is set as follows:</p>
<pre><code>CLUSPROP_VALUE Value;
Value.Syntax = CLUSPROP_SYNTAX_SCSI_ADDRESS;
Value.cbLength = cbSCSIAddress;
 </code></pre>
<p>
The <b>CLUS_SCSI_ADDRESS</b> structure is a union comprised of four unsigned characters or a single DWORD.</p>
<p>
The following diagram shows the relationship between the structures used as headers, the structures used to describe data values, and the structures used to hold data for the data values. On the left is the header structure, <b>CLUSPROP_VALUE</b>. The structures shown in the middle column are the data value structures. Structures that have data of the same type are grouped together in the diagram. On the right are the data structures.</p>
<p>
One CLUSPROP structure, <a href="clustruct_1mm1.htm"><b>CLUSPROP_REQUIRED_DEPENDENCY</b></a>, is missing from the diagram because it has a slightly different format. <b>CLUSPROP_REQUIRED_DEPENDENCY</b> is a union with three members: a <b>CLUSPROP_VALUE</b> structure, a <a href="clustruct_4uur.htm"><b>CLUSPROP_RESOURCE_CLASS</b></a> structure, and a <b>CLUSPROP_SZ</b> structure.</p>
<p>
<img src="images/wfstruct.gif" border=0></p>
<p>
In addition to the structures dedicated to describing data values, there are the following structures:</p>
<table cellspacing=4 cols=2>
<tr valign=top>
<th align=left width=48%>Cluster structure</th>
<th align=left width=52%>Purpose</th>
</tr>
<tr valign=top>
<td width=48%><a href="clustruct_5odu.htm"><b>CLUS_WORKER</b></a></td>
<td width=52%>Describes information about a worker thread. </td>
</tr>
<tr valign=top>
<td width=48%><a href="clustruct_7p9u.htm"><b>CLUSPROP_BUFFER_HELPER</b></a></td>
<td width=52%>Used to build or parse a property or value list.</td>
</tr>
<tr valign=top>
<td width=48%><a href="clustruct_1z1w.htm"><b>CLUSPROP_LIST</b></a></td>
<td width=52%>Used to access the beginning of a property list.</td>
</tr>
<tr valign=top>
<td width=48%><a href="clustruct_1bzj.htm"><b>CLUSTERVERSIONINFO</b></a></td>
<td width=52%>Describes version information about the Cluster Service.</td>
</tr>
<tr valign=top>
<td width=48%><a href="clustruct_2bal.htm"><b>RESUTIL_PROPERTY_ITEM</b></a></td>
<td width=52%>Contains information about a property and an offset to the property's data.</td>
</tr>
</table><br>
<p>
<b>Note</b>&nbsp;&nbsp;To improve clarity, some of the definitions of the data value structures are not documented exactly as they appear in the CLUSAPI.H header file. Specifically, the documentation eliminates the extra level of indirection for structures that include another structure as a member. </p>
<p>
For example, in the CLUSAPI.H header file, the <b>CLUSPROP_PARTITION_INFO</b> structure includes as a member a <a href="clustruct_2mlr.htm"><b>CLUS_PARTITION_INFO</b></a> structure. The documentation, however, eliminates this extra level of indirection by listing all of the members of the <b>CLUS_PARTITION_INFO</b> as if they were members of the <b>CLUSPROP_PARTITION_INFO</b> structure directly.</p>
<p>&nbsp;</p></body>
</HTML>
