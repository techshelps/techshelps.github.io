<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>CLUSCTL_RESOURCE_GET_REQUIRED_DEPENDENCIES</title>
<link disabled rel=stylesheet href=../../backsdk3.css>
<style type="text/css">
@import url(../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h2><a name="_wolf_clusctl_resource_get_required_dependencies"></a>CLUSCTL_RESOURCE_GET_REQUIRED_DEPENDENCIES</h2>
<p>
The CLUSCTL_RESOURCE_GET_REQUIRED_DEPENDENCIES control code is used to request a list of all required dependencies for a resource.</p>
<h4>Quick Info</h4>
<table cellspacing=4 cols=2>
<tr valign=top>
<td width=37%>Type:</td>
<td width=63%>External</td>
</tr>
<tr valign=top>
<td width=37%>Access:</td>
<td width=63%>CLUS_ACCESS_READ</td>
</tr>
<tr valign=top>
<td width=37%>Input:</td>
<td width=63%>None</td>
</tr>
<tr valign=top>
<td width=37%>Output:</td>
<td width=63%><a href="cluguide_68ab.htm">Value list</a></td>
</tr>
<tr valign=top>
<td width=37%>Global:</td>
<td width=63%>CLUS_NOT_GLOBAL</td>
</tr>
<tr valign=top>
<td width=37%>Modify:</td>
<td width=63%>CLUS_NO_MODIFY</td>
</tr>
<tr valign=top>
<td width=37%>Code:</td>
<td width=63%>CLCTL_GET_REQUIRED_DEPENDENCIES</td>
</tr>
</table><br>
<h4>Notes to Callers</h4>
<p>
<b>ClusterResourceControl</b> returns a value list when you pass CLUSCTL_RESOURCE_GET_REQUIRED_DEPENDENCIES that indicates the resources upon which the specific resource depends. For example, if you request the required dependencies for a Print Spooler resource, it will typically return two entries in its value list: an entry for a storage device resource such as a Physical Disk and a Network Name resource. </p>
<p>
All of the entries in the value list except the final one are <a href="clustruct_1mm1.htm"><b>CLUSPROP_REQUIRED_DEPENDENCY</b></a> structures. This structure describes dependencies using either a resource class or a resource type. When you are parsing the value list, use the <b>Value</b> member of each entry to determine whether the dependency is being described as a resource class or type. The final entry contains only the CLUSPROP_SYNTAX_ENDMARK value. </p>
<h4>Notes to Resource DLL Writers</h4>
<p>
If your resource has required dependencies, you must support the CLUSCTL_RESOURCE_GET_REQUIRED_DEPENDENCIES control code in your <a href="resapi_0w8c.htm"><b>ResourceControl</b></a> entry point function. Return a value list that is terminated with the <a href="clustruct_7u0o.htm"><b>CLUSPROP_SYNTAX</b></a> value CLUSPROP_SYNTAX_ENDMARK. The other entries should include a<b> CLUSPROP_REQUIRED_DEPENDENCY</b> union. This union describes a dependency in one of three ways: 
<ul>
<li>
By its format, type, and length using the standard <b>CLUSPROP_VALUE</b> header structure.</li>
<li>
By its resource class.</li>
<li>
By its resource type.</li>
</ul>
<p>
Resource class is a numeric value that identifies resources of similar capability. For example, CLUS_RESCLASS_STORAGE identifies resources that are capable of storing data. Third-party developers can create their own resource classes; user-defined classes are identified with the CLUS_RESCLASS_USER storage class. </p>
<p>
In the example described in the <b>Notes to Callers</b> section, a Print Spooler resource has required dependencies on a storage class device and a Network Name resource. You would return a value list with two entries preceding the final one: one entry with the <b>ResClass</b> member of the <b>CLUSPROP_REQUIRED_DEPENDENCY</b> structure set to CLUS_RESCLASS_STORAGE and a second entry with the <b>ResTypeName</b> member set to "Network Name."</p>
<p>&nbsp;</p></body>
</HTML>
