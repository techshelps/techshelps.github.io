<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>CAPTEST.H</title>
<link disabled rel=stylesheet href=../../../../../backsdk3.css>
<style type="text/css">
@import url(../../../../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>
<h2><a name="_code_context3787"></a>CAPTEST.H</h2>
<pre><code>/**************************************************************************** <br> * <br> *   captest.h: Include file for the CapTest Sample Program <br> * <br> *   Microsoft Video for Windows Capture Class Sample Program <br> * <br> ***************************************************************************/ <br>/************************************************************************** <br> * <br> *  THIS CODE AND INFORMATION IS PROVIDED "AS IS" WITHOUT WARRANTY OF ANY <br> *  KIND, EITHER EXPRESSED OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE <br> *  IMPLIED WARRANTIES OF MERCHANTABILITY AND/OR FITNESS FOR A PARTICULAR <br> *  PURPOSE. <br> * <br> *  Copyright 1992 - 1998 Microsoft Corporation.  All Rights Reserved. <br> * <br> **************************************************************************/ <br> <br> <br>#include "dialogs.h" <br> <br>// <br>// General purpose constants... <br>// <br>#define MAXVIDDRIVERS            10 <br>#define MS_FOR_15FPS             66 <br>#define DEF_PALNUMFRAMES         10 <br>#define DEF_PALNUMCOLORS         236L <br>#define ONEMEG                   (1024L * 1024L) <br> <br>// <br>// Menu Ids... <br>// <br>#define IDM_FILE                  100 <br>#define IDM_F_SETCAPTUREFILE      101 <br>#define IDM_F_SAVEVIDEOAS         102 <br>#define IDM_F_ALLOCATESPACE       103 <br>#define IDM_F_EXIT                104 <br> <br>#define IDM_EDIT                  110 <br>#define IDM_E_COPY                111 <br>#define IDM_E_PASTEPALETTE        112 <br> <br>#define IDM_CAPTURE               120 <br>#define IDM_C_CAPTUREVIDEO        121 <br>#define IDM_C_CAPTUREFRAME        122 <br>#define IDM_C_CAPTURESETTINGS     123 <br> <br>#define IDM_OPTIONS               130 <br>#define IDM_O_PREVIEW             131 <br>#define IDM_O_OVERLAY             132 <br>#define IDM_O_AUDIOFORMAT         133 <br>#define IDM_O_VIDEOFORMAT         134 <br>#define IDM_O_VIDEOSOURCE         135 <br>#define IDM_O_VIDEODISPLAY        136 <br>#define IDM_O_PALETTE             137 <br>#define IDM_O_CHOOSECOMPRESSOR    140 <br> <br>// !!! Leave some room after this define for the drivers <br>#define IDM_O_DRIVERS             150 <br>#define IDM_O_DRIVERS1            151 <br>#define IDM_O_DRIVERS2            152 <br>#define IDM_O_DRIVERS3            153 <br>#define IDM_O_DRIVERS4            154 <br>#define IDM_O_DRIVERS5            155 <br>#define IDM_O_DRIVERS6            156 <br>#define IDM_O_DRIVERS7            157 <br>#define IDM_O_DRIVERS8            158 <br>#define IDM_O_DRIVERS9            159 <br>// The above are just reserved dummy IDs. <br> <br>#define IDM_HELP                  190 <br>#define IDM_H_ABOUT               191 <br> <br>#define IDS_ERR_REGISTER_CLASS   1 <br>#define IDS_ERR_CREATE_WINDOW    2 <br> <br> <br>// <br>// Macro Definitions... <br>// <br>#define IsDriverIndex(w) ( ((w) &gt;= IDM_O_DRIVERS)  &amp;&amp;  \ <br>                           ((w) - IDM_O_DRIVERS &lt; MAXVIDDRIVERS) ) <br> <br>#define Width(X)  ((X).right - (X).left) <br>#define Height(X) ((X).bottom - (X).top) <br> <br> <br>//- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - ;  <br>//  <br>//  Win 16/32 portability stuff... <br>//  <br>//  <br>//  <br>//- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - ;  <br> <br>#ifndef WIN32 <br>    #ifndef FNLOCAL <br>        #define FNLOCAL     NEAR PASCAL <br>        #define FNCLOCAL    NEAR _cdecl <br>        #define FNGLOBAL    FAR PASCAL <br>        #define FNCGLOBAL   FAR _cdecl <br>    #ifdef _WINDLL <br>        #define FNWCALLBACK FAR PASCAL __loadds <br>        #define FNEXPORT    FAR PASCAL __export <br>    #else <br>        #define FNWCALLBACK FAR PASCAL __loadds <br>        #define FNEXPORT    FAR PASCAL __export <br>    #endif <br>    #endif <br> <br>    // <br>    // <br>    // <br>    // <br>    #ifndef FIELD_OFFSET <br>    #define FIELD_OFFSET(type, field)    ((LONG)&amp;(((type *)0)-&gt;field)) <br>    #endif <br> <br>    // <br>    //  based code makes since only in win 16 (to try and keep stuff out of <br>    //  our fixed data segment... <br>    // <br>    #define BCODE           _based(_segname("_CODE")) <br> <br>    #define HUGE            _huge <br> <br>    // <br>    //  stuff for Unicode in Win 32--make it a noop in Win 16 <br>    // <br>    #ifndef _TCHAR_DEFINED <br>        #define _TCHAR_DEFINED <br>        typedef char            TCHAR, *PTCHAR; <br>        typedef unsigned char   TBYTE, *PTUCHAR; <br> <br>        typedef PSTR            PTSTR, PTCH; <br>        typedef LPSTR           LPTSTR, LPTCH; <br>        typedef LPCSTR          LPCTSTR; <br>    #endif <br> <br>    #define TEXT(a)         a <br>    #define SIZEOF(x)       sizeof(x) <br>    #define SIZEOFACMSTR(x) sizeof(x) <br>#else <br>    #ifndef FNLOCAL <br>        #define FNLOCAL     _stdcall <br>        #define FNCLOCAL    _stdcall <br>        #define FNGLOBAL    _stdcall <br>        #define FNCGLOBAL   _stdcall <br>        #define FNWCALLBACK CALLBACK <br>        #define FNEXPORT    CALLBACK <br>    #endif <br> <br>    #ifndef _CRTAPI1 <br>    #define _CRTAPI1    __cdecl <br>    #endif <br>    #ifndef _CRTAPI2 <br>    #define _CRTAPI2    __cdecl <br>    #endif <br>    #ifndef try <br>    #define try         __try <br>    #define leave       __leave <br>    #define except      __except <br>    #define finally     __finally <br>    #endif <br> <br> <br>    // <br>    //  there is no reason to have based stuff in win 32 <br>    // <br>    #define BCODE <br> <br>    #define HUGE <br>    #define HTASK                   HANDLE <br>    #define SELECTOROF(a)           (a) <br>    typedef LRESULT (CALLBACK* DRIVERPROC)(DWORD, HDRVR, UINT, LPARAM, LPARAM); <br> <br>    // <br>    //  for compiling Unicode <br>    // <br>    #ifdef UNICODE <br>        #define SIZEOF(x)   (sizeof(x)/sizeof(WCHAR)) <br>    #else <br>        #define SIZEOF(x)   sizeof(x) <br>    #endif <br>    #define SIZEOFACMSTR(x)(sizeof(x)/sizeof(WCHAR)) <br>#endif <br> <br> <br>// <br>// Global Variables... <br>// <br>extern TCHAR           gachAppName[] ; <br>extern TCHAR           gachIconName[] ; <br>extern TCHAR           gachMenuName[] ; <br>extern TCHAR           gachString[] ; <br>extern TCHAR           gachMCIDeviceName[] ; <br> <br>extern HINSTANCE      ghInstApp ; <br>extern HWND           ghWndMain ; <br>extern HWND           ghWndCap ; <br>extern HANDLE         ghAccel ; <br>extern WORD           gwDeviceIndex ; <br>extern WORD           gwPalFrames ; <br>extern WORD           gwPalColors ; <br>extern WORD           gwCapFileSize ; <br> <br>extern CAPSTATUS      gCapStatus ; <br>extern CAPDRIVERCAPS  gCapDriverCaps ; <br>extern CAPTUREPARMS   gCapParms ; <br> <br>extern LPWAVEFORMATEX glpwfex ; <br> <br>// <br>// Dialog Box Procedures... <br>// <br>int FAR PASCAL AboutProc(HWND, UINT, UINT, LONG) ; <br>int FAR PASCAL AudioFormatProc(HWND, UINT, UINT, LONG) ; <br>int FAR PASCAL CapSetUpProc(HWND, UINT, UINT, LONG) ; <br>BOOL CALLBACK MakePaletteProc(HWND, UINT, UINT, LONG) ; <br>int FAR PASCAL AllocCapFileProc(HWND, UINT, UINT, LONG) ; </code></pre>
<p>&nbsp;</p></body>
</HTML>
