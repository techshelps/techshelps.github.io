<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>VIDCAP.H</title>
<link disabled rel=stylesheet href=../../../../../backsdk3.css>
<style type="text/css">
@import url(../../../../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>
<h2><a name="_code_context3830"></a>VIDCAP.H</h2>
<pre><code>/************************************************************************** <br> * <br> *  THIS CODE AND INFORMATION IS PROVIDED "AS IS" WITHOUT WARRANTY OF ANY <br> *  KIND, EITHER EXPRESSED OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE <br> *  IMPLIED WARRANTIES OF MERCHANTABILITY AND/OR FITNESS FOR A PARTICULAR <br> *  PURPOSE. <br> * <br> *  Copyright 1992 - 1998 Microsoft Corporation.  All Rights Reserved. <br> * <br> **************************************************************************/ <br>/**************************************************************************** <br> * <br> *   vidcap.h: Main application include file <br> * <br> *   Vidcap32 Source code <br> * <br> ***************************************************************************/ <br> <br>#include "dialogs.h" <br> <br>#define USE_ACM1        // Use ACM dialogs for audio format selection <br> <br>// <br>// General purpose constants... <br>// <br>#define MAXVIDDRIVERS            10 <br> <br>#define DEF_CAPTURE_FPS          15 <br>#define MIN_CAPTURE_FPS          (1.0 / 60)     // one frame per minute <br>#define MAX_CAPTURE_FPS          100 <br> <br>#define FPS_TO_MS(f)             ((DWORD) ((double)1.0e6 / f)) <br> <br>#define DEF_CAPTURE_RATE         FPS_TO_MS(DEF_CAPTURE_FPS) <br>#define MIN_CAPTURE_RATE         FPS_TO_MS(MIN_CAPTURE_FPS) <br>#define MAX_CAPTURE_RATE         FPS_TO_MS(MAX_CAPTURE_FPS) <br> <br> <br>#define DEF_PALNUMFRAMES         10 <br>#define DEF_PALNUMCOLORS         236L <br>#define ONEMEG                   (1024L * 1024L) <br> <br>//standard index size options <br>#define CAP_LARGE_INDEX          (30 * 60 * 60 * 3)     // 3 hrs @ 30fps <br>#define CAP_SMALL_INDEX          (30 * 60 * 15)         // 15 minutes @ 30fps <br> <br> <br>// <br>// Menu Ids...must not conflict with string table ids <br>// these are also the id of help strings in the string table <br>// (along with all the SC_ system menu items). <br>// menu popups must start 10 apart and be numbered in the same order <br>// as they appear if the help text is to work correctly for the <br>// popup heads as well as for the menu items. <br>// <br>#define IDM_SYSMENU               100 <br> <br>#define IDM_FILE                  200 <br>#define IDM_F_SETCAPTUREFILE      201 <br>#define IDM_F_SAVEVIDEOAS         202 <br>#define IDM_F_ALLOCATESPACE       203 <br>#define IDM_F_EXIT                204 <br>#define IDM_F_LOADPALETTE         205 <br>#define IDM_F_SAVEPALETTE         206 <br>#define IDM_F_SAVEFRAME           207 <br>#define IDM_F_EDITVIDEO           208 <br> <br> <br>#define IDM_EDIT                  300 <br>#define IDM_E_COPY                301 <br>#define IDM_E_PASTEPALETTE        302 <br>#define IDM_E_PREFS               303 <br> <br>#define IDM_CAPTURE               400 <br>#define IDM_C_CAPTUREVIDEO        401 <br>#define IDM_C_CAPTUREFRAME        402 <br>#define IDM_C_PALETTE             403 <br>#define IDM_C_CAPSEL              404 <br>#define IDM_C_TEST                405 <br>#define IDM_C_TESTAGAIN           406 <br> <br>#define IDM_OPTIONS               500 <br>#define IDM_O_PREVIEW             501 <br>#define IDM_O_OVERLAY             502 <br>#define IDM_O_AUDIOFORMAT         503 <br>#define IDM_O_VIDEOFORMAT         504 <br>#define IDM_O_VIDEOSOURCE         505 <br>#define IDM_O_VIDEODISPLAY        506 <br>#define IDM_O_CHOOSECOMPRESSOR    507 <br> <br>#define IDM_O_DRIVER0             520 <br>#define IDM_O_DRIVER1             521 <br>#define IDM_O_DRIVER2             522 <br>#define IDM_O_DRIVER3             523 <br>#define IDM_O_DRIVER4             524 <br>#define IDM_O_DRIVER5             525 <br>#define IDM_O_DRIVER6             526 <br>#define IDM_O_DRIVER7             527 <br>#define IDM_O_DRIVER8             528 <br>#define IDM_O_DRIVER9             529 <br> <br>#define IDM_HELP                  600 <br>#define IDM_H_CONTENTS            601 <br>#define IDM_H_ABOUT               602 <br> <br> <br>// filter rcdata ids <br>#define ID_FILTER_AVI           900 <br>#define ID_FILTER_PALETTE       901 <br>#define ID_FILTER_DIB           902 <br> <br> <br>/* <br> * string table id <br> * <br> * NOTE: string table ID's must not conflict with IDM_ menu ids, <br> * as there is a help string for each menu id. <br> */ <br> <br> <br>#define IDS_APP_TITLE            1001 <br> <br>#define IDS_ERR_REGISTER_CLASS   1002 <br>#define IDS_ERR_CREATE_WINDOW    1003 <br>#define IDS_ERR_FIND_HARDWARE    1004 <br>#define IDS_ERR_CANT_PREALLOC    1005 <br>#define IDS_ERR_MEASUREFREEDISK  1006 <br>#define IDS_ERR_SIZECAPFILE      1007 <br>#define IDS_ERR_RECONNECTDRIVER  1008 <br>#define IDS_ERR_CMDLINE          1009 <br>#define IDS_WARN_DEFAULT_PALETTE 1010 <br> <br>#define IDS_TITLE_SETCAPTUREFILE 1101 <br>#define IDS_TITLE_SAVEAS         1102 <br>#define IDS_TITLE_LOADPALETTE    1104 <br>#define IDS_TITLE_SAVEPALETTE    1105 <br>#define IDS_TITLE_SAVEDIB        1106 <br>#define IDS_PROMPT_CAPFRAMES     1107 <br>#define IDS_STATUS_NUMFRAMES     1108 <br>#define IDS_CAP_CLOSE            1109 <br>#define IDS_MCI_CONTROL_ERROR    1110 <br>#define IDS_ERR_ACCESS_SOUNDDRIVER 1111 <br>#define IDS_ERR_VIDEDIT          1112 <br> <br>#define IDC_toolbarSETFILE      1220 <br>#define IDC_toolbarCAPFRAME     1221 <br>#define IDC_toolbarCAPSEL       1222 <br>#define IDC_toolbarCAPAVI       1223 <br>#define IDC_toolbarCAPPAL       1224 <br>#define IDC_toolbarLIVE         1225 <br>#define IDC_toolbarEDITCAP      1226 <br>#define IDC_toolbarOVERLAY      1227 <br> <br>#define IDS_CAPPAL_CLOSE        1230 <br>#define IDS_CAPPAL_STATUS       1231 <br>#define IDS_CAPPAL_STOP         1232 <br>#define IDS_CAPPAL_START        1233 <br> <br>#defineIDS_CAP_RTL             1234 <br> <br>#define IDBMP_TOOLBAR100// main toolbar <br> <br> <br>// <br>// Macro Definitions... <br>// <br>#define IsDriverIndex(w) ( ((w) &gt;= IDM_O_DRIVERS)  &amp;&amp;  \ <br>                           ((w) - IDM_O_DRIVERS &lt; MAXVIDDRIVERS) ) <br> <br>#define RECTWIDTH(rc)  ((rc).right - (rc).left) <br>#define RECTHEIGHT(rc) ((rc).bottom - (rc).top) <br> <br> <br>// <br>// Global Variables... <br>// <br> <br>// preferences <br>extern BOOL gbCentre; <br>extern BOOL gbToolBar; <br>extern BOOL gbStatusBar; <br>extern BOOL gbAutoSizeFrame; <br>extern int gBackColour; <br>extern BOOL gfIsRTL; <br> <br>extern char           gachAppName[] ; <br>extern char           gachAppTitle[]; <br>extern char           gachIconName[] ; <br>extern char           gachMenuName[] ; <br>extern char           gachString[] ; <br>extern char           gachMCIDeviceName[] ; <br> <br>extern HINSTANCE      ghInstApp ; <br>extern HWND           ghWndMain ; <br>extern HWND           ghWndCap ; <br>extern HWND           ghWndFrame; <br>extern HANDLE         ghAccel ; <br>extern WORD           gwDeviceIndex ; <br>extern WORD           gwPalFrames ; <br>extern WORD           gwPalColors ; <br>extern WORD           gwCapFileSize ; <br>extern BOOL           gbLive ; <br> <br>extern CAPSTATUS      gCapStatus ; <br>extern CAPDRIVERCAPS  gCapDriverCaps ; <br>extern CAPTUREPARMS   gCapParms ; <br> <br>extern HANDLE         ghwfex ; <br>extern LPWAVEFORMATEX glpwfex ; <br> <br>// <br>// Dialog Box Procedures... <br>// <br>int FAR PASCAL AboutProc(HWND, UINT, UINT, LONG) ; <br>int FAR PASCAL AudioFormatProc(HWND, UINT, UINT, LONG) ; <br>int FAR PASCAL CapSetUpProc(HWND, UINT, UINT, LONG) ; <br>BOOL CALLBACK MakePaletteProc(HWND, UINT, UINT, LONG) ; <br>int FAR PASCAL AllocCapFileProc(HWND, UINT, UINT, LONG) ; <br>int FAR PASCAL PrefsDlgProc(HWND, UINT, WPARAM, LPARAM); <br>int FAR PASCAL NoHardwareDlgProc(HWND hDlg, UINT message, WPARAM wParam, LPARAM lParam); <br>long FAR PASCAL CapFramesProc(HWND hDlg, UINT Message, WPARAM wParam, LPARAM lParam); <br> <br>// utility functions (in vidcap.c) <br>/* <br> * put up a message box. the main window ghWndMain is used as the parent <br> * window, and the app title gachAppTitle is used as the dialog title. <br> * the text for the dialog -idString- is loaded from the resource string table <br> */ <br>int MessageBoxID(UINT idString, UINT fuStyle); <br>LPSTR tmpString(UINT idString); <br> <br></code></pre>
<p>&nbsp;</p></body>
</HTML>
