<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>GETCAPS.H</title>
<link disabled rel=stylesheet href=../../../../../backsdk3.css>
<style type="text/css">
@import url(../../../../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>
<h2><a name="_code_context3435"></a>GETCAPS.H</h2>
<pre><code><br>/******************************************************************************\ <br>*       This is a part of the Microsoft Source Code Samples.  <br>*       Copyright 1993 - 1998 Microsoft Corporation. <br>*       All rights reserved.  <br>*       This source code is only intended as a supplement to  <br>*       Microsoft Development Tools and/or WinHelp documentation. <br>*       See these sources for detailed information regarding the  <br>*       Microsoft samples programs. <br>\******************************************************************************/ <br> <br>/******************************************************************************\ <br>* <br>*                               GETCAPS.H <br>* <br>\******************************************************************************/ <br> <br> <br>/******************************************************************************\ <br>*                           SYMBOLIC CONSTANTS <br>\******************************************************************************/ <br> <br>#define MAX_DEVICE_CAPS     34     // num entries in gaCaps table <br> <br>#define MAX_TECHNOLOGY_CAPS 7      // num entries in gaTechnologyCaps table <br>#define MAX_CURVE_CAPS      10     // num entries in gaCurveCaps table <br>#define MAX_LINE_CAPS       8      // num entries in gaLineCaps table <br>#define MAX_POLYGON_CAPS    10     // num entries in gaPolygonCaps table <br>#define MAX_TEXT_CAPS       16     // num entries in gaTextCaps table <br>#define MAX_RASTER_CAPS     17     // num entries in gaRasterCaps table <br>#define MAX_CLIP_CAPS       3      // num entries in gaClipCaps table <br> <br>#define BLANKS              "                 \t" // see gaCaps to get spacing <br> <br>#define ERR_MOD_NAME       IDS_ERR_GETCAPS <br> <br> <br> <br>/******************************************************************************\ <br>*                                TYPEDEFS <br>\******************************************************************************/ <br> <br>typedef struct tagCAPSLOOKUP <br>{ <br>  int     iValue; <br>  LPTSTR  szValue; <br> <br>} CAPSLOOKUP; <br> <br> <br> <br>/******************************************************************************\ <br>*                            GLOBAL VARIABLES <br>\******************************************************************************/ <br> <br>HWND ghwndDevCaps; <br> <br>CAPSLOOKUP gaCaps[] = <br> <br>    { { DRIVERVERSION,   "DRIVERVERSION:   \t%ld" }, <br>      { TECHNOLOGY,      "TECHNOLOGY:      \t"    }, <br>      { HORZSIZE,        "HORZSIZE:        \t%ld" }, <br>      { VERTSIZE,        "VERTSIZE:        \t%ld" }, <br>      { HORZRES,         "HORZRES:         \t%ld" }, <br>      { VERTRES,         "VERTRES:         \t%ld" }, <br>      { BITSPIXEL,       "BITSPIXEL:       \t%ld" }, <br>      { PLANES,          "PLANES:          \t%ld" }, <br>      { NUMBRUSHES,      "NUMBRUSHES:      \t%ld" }, <br>      { NUMPENS,         "NUMPENS:         \t%ld" }, <br>      { NUMMARKERS,      "NUMMARKERS:      \t%ld" }, <br>      { NUMFONTS,        "NUMFONTS:        \t%ld" }, <br>      { NUMCOLORS,       "NUMCOLORS:       \t%ld" }, <br>      { PDEVICESIZE,     "PDEVICESIZE:     \t%ld" }, <br>      { CURVECAPS,       "CURVECAPS:       \t"    }, <br>      { LINECAPS,        "LINECAPS:        \t"    }, <br>      { POLYGONALCAPS,   "POLYGONALCAPS:   \t"    }, <br>      { TEXTCAPS,        "TEXTCAPS:        \t"    }, <br>      { CLIPCAPS,        "CLIPCAPS:        \t"    }, <br>      { RASTERCAPS,      "RASTERCAPS:      \t"    }, <br>      { ASPECTX,         "ASPECTX:         \t%ld" }, <br>      { ASPECTY,         "ASPECTY:         \t%ld" }, <br>      { ASPECTXY,        "ASPECTXY:        \t%ld" }, <br>      { LOGPIXELSX,      "LOGPIXELSX:      \t%ld" }, <br>      { LOGPIXELSY,      "LOGPIXELSY:      \t%ld" }, <br>      { SIZEPALETTE,     "SIZEPALETTE:     \t%ld" }, <br>      { NUMRESERVED,     "NUMRESERVED:     \t%ld" }, <br>      { COLORRES,        "COLORRES:        \t%ld" }, <br>      { PHYSICALWIDTH,   "PHYSICALWIDTH:   \t%ld" }, <br>      { PHYSICALHEIGHT,  "PHYSICALHEIGHT:  \t%ld" }, <br>      { PHYSICALOFFSETX, "PHYSICALOFFSETX: \t%ld" }, <br>      { PHYSICALOFFSETY, "PHYSICALOFFSETY: \t%ld" }, <br>      { SCALINGFACTORX,  "SCALINGFACTORX:  \t%ld" }, <br>      { SCALINGFACTORY,  "SCALINGFACTORY:  \t%ld" }  }; <br> <br> <br>CAPSLOOKUP gaTechnologyCaps[] = <br> <br>    { { DT_PLOTTER,      "DT_PLOTTER "      }, <br>      { DT_RASDISPLAY,   "DT_RASDISPLAY "   }, <br>      { DT_RASPRINTER,   "DT_RASPRINTER "   }, <br>      { DT_RASCAMERA,    "DT_RASCAMERA "    }, <br>      { DT_CHARSTREAM,   "DT_CHARSTREAM "   }, <br>      { DT_METAFILE,     "DT_METAFILE "     }, <br>      { DT_DISPFILE,     "DT_DISPFILE "     } }; <br> <br>CAPSLOOKUP gaCurveCaps[] = <br> <br>    { { CC_NONE,         "CC_NONE "         }, <br>      { CC_CIRCLES,      "CC_CIRCLES "      }, <br>      { CC_PIE,          "CC_PIE "          }, <br>      { CC_CHORD,        "CC_CHORD "        }, <br>      { CC_ELLIPSES,     "CC_ELLIPSES "     }, <br>      { CC_WIDE,         "CC_WIDE "         }, <br>      { CC_STYLED,       "CC_STYLED "       }, <br>      { CC_WIDESTYLED,   "CC_WIDESTYLED "   }, <br>      { CC_INTERIORS,    "CC_INTERIORS "    }, <br>      { CC_ROUNDRECT,    "CC_ROUNDRECT "    } }; <br> <br>CAPSLOOKUP gaLineCaps[] = <br> <br>    { { LC_NONE,         "LC_NONE "         }, <br>      { LC_POLYLINE,     "LC_POLYLINE "     }, <br>      { LC_MARKER,       "LC_MARKER "       }, <br>      { LC_POLYMARKER,   "LC_POLYMARKER "   }, <br>      { LC_WIDE,         "LC_WIDE "         }, <br>      { LC_STYLED,       "LC_STYLED "       }, <br>      { LC_WIDESTYLED,   "LC_WIDESTYLED "   }, <br>      { LC_INTERIORS,    "LC_INTERIORS "    } }; <br> <br>CAPSLOOKUP gaPolygonCaps[] = <br> <br>    { { PC_NONE,         "PC_NONE "         }, <br>      { PC_POLYGON,      "PC_POLYGON "      }, <br>      { PC_RECTANGLE,    "PC_RECTANGLE "    }, <br>      { PC_WINDPOLYGON,  "PC_WINDPOLYGON"   }, <br>      { PC_TRAPEZOID,    "PC_TRAPEZOID"     }, <br>      { PC_SCANLINE,     "PC_SCANLINE"      }, <br>      { PC_WIDE,         "PC_WIDE"          }, <br>      { PC_STYLED,       "PC_STYLED"        }, <br>      { PC_WIDESTYLED,   "PC_WIDESTYLED"    }, <br>      { PC_INTERIORS,    "PC_INTERIORS"     } }; <br> <br>CAPSLOOKUP gaTextCaps[] = <br> <br>    { { TC_OP_CHARACTER, "TC_OP_CHARACTER"  }, <br>      { TC_OP_STROKE,    "TC_OP_STROKE"     }, <br>      { TC_CP_STROKE,    "TC_CP_STROKE"     }, <br>      { TC_CR_90,        "TC_CR_90"         }, <br>      { TC_CR_ANY,       "TC_CR_ANY"        }, <br>      { TC_SF_X_YINDEP,  "TC_SF_X_YINDEP "  }, <br>      { TC_SA_DOUBLE,    "TC_SA_DOUBLE "    }, <br>      { TC_SA_INTEGER,   "TC_SA_INTEGER "   }, <br>      { TC_SA_CONTIN,    "TC_SA_CONTIN "    }, <br>      { TC_EA_DOUBLE,    "TC_EA_DOUBLE "    }, <br>      { TC_IA_ABLE,      "TC_IA_ABLE "      }, <br>      { TC_UA_ABLE,      "TC_UA_ABLE "      }, <br>      { TC_SO_ABLE,      "TC_SO_ABLE "      }, <br>      { TC_RA_ABLE,      "TC_RA_ABLE "      }, <br>      { TC_VA_ABLE,      "TC_VA_ABLE "      }, <br>      { TC_RESERVED,     "TC_RESERVED "     }, <br>      { TC_SCROLLBLT,    "TC_SCROLLBLT "     } }; <br> <br>CAPSLOOKUP gaRasterCaps[] = <br> <br>    { { 0,               "RC_NONE "         }, // !!! RC_NONE not #def'd <br>      { RC_BITBLT,       "RC_BITBLT "       }, <br>      { RC_BANDING,      "RC_BANDING "      }, <br>      { RC_SCALING,      "RC_SCALING "      }, <br>      { RC_BITMAP64,     "RC_BITMAP64 "     }, <br>      { RC_GDI20_OUTPUT, "RC_GDI20_OUTPUT " }, <br>      { RC_GDI20_STATE,  "RC_GDI20_STATE "  }, <br>      { RC_SAVEBITMAP,   "RC_SAVEBITMAP "   }, <br>      { RC_DI_BITMAP,    "RC_DI_BITMAP "    }, <br>      { RC_PALETTE,      "RC_PALETTE "      }, <br>      { RC_DIBTODEV,     "RC_DIBTODEV "     }, <br>      { RC_BIGFONT,      "RC_BIGFONT "      }, <br>      { RC_STRETCHBLT,   "RC_STRETCHBLT "   }, <br>      { RC_FLOODFILL,    "RC_FLOODFILL "    }, <br>      { RC_STRETCHDIB,   "RC_STRETCHDIB "   }, <br>      { RC_OP_DX_OUTPUT, "RC_OP_DX_OUTPUT " }, <br>      { RC_DEVBITS,      "RC_DEVBITS "      } }; <br> <br>CAPSLOOKUP gaClipCaps[] = <br> <br>    { { CP_NONE,         "CP_NONE "         }, <br>      { CP_RECTANGLE,    "CP_RECTANGLE "    }, <br>      { CP_REGION,       "CP_REGION "       } }; <br> <br> <br> <br>/******************************************************************************\ <br>*                          EXTERNAL VARIABLES <br>\******************************************************************************/ <br> <br>extern HWND ghwndMain; <br>extern char gszDeviceName []; <br>extern char gszDriverName []; <br>extern char gszPort       []; <br> <br> <br> <br>/******************************************************************************\ <br>*                          FUNCTION PROTOTYPES <br>\******************************************************************************/ <br> <br>BOOL DisplayDeviceCapsInfo (void); <br>void TranslateDeviceCaps   (int, int, int); <br>void ComplexDeviceCapsLine (char *, CAPSLOOKUP *, int, int); </code></pre>
<p>&nbsp;</p></body>
</HTML>
