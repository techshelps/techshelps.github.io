<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Developing Macintosh Client Applications</title>
<link disabled rel=stylesheet href=../../../backsdk3.css>
<style type="text/css">
@import url(../../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h2><a name="_rpc_developing_macintosh_client_applications"></a>Developing Macintosh Client Applications</h2>
<h5><img src="../../../images/wedge.gif" border=0>&nbsp;&nbsp;&nbsp;&nbsp;To develop client-side applications for the Macintosh, you must have the following</h5>
<ul>
<li>
Visual C++ for the Macintosh. The RPC runtime has been compiled using Visual C++ cross-development tools. In order to use rpc.lib, you must link against the C run-time and swapper library (swap.lib) provided with Visual C++, version 2.0 or later.</li>
<li>
The Macintosh RPC SDK, which is contained in a disk image in the Win32 SDK directory \rpc_sdk. Run SETUP.EXE from Disk 1 to install the Macintosh header and library files. Note that the current rpc.lib is native 68K. We currently do not provide a native Power Mac library. RPC runs in emulation on Power Macs.</li>
<li>
The target computer must have a microprocessor of 68020 or later, and it must be running System 7.0 or later.</li>
</ul>
<h5><img src="../../../images/wedge.gif" border=0>&nbsp;&nbsp;&nbsp;&nbsp;To connect to the Windows NT or Windows 95 server</h5>
<ul>
<li>
Current Windows NT-supported protocols for the Macintosh are ADSP and TCP/IP. In order to use ADSP, the Windows NT server must have both the AppleTalk protocol and Services for Macintosh. Windows 95 supports only the TCP/IP protocol for the Macintosh.</li>
</ul>
<h5><img src="../../../images/wedge.gif" border=0>&nbsp;&nbsp;&nbsp;&nbsp;To write an RPC client</h5>
<ol>
<li>
If you use <b>atexit</b> to perform cleanup during shutdown, do not call any RPC APIs in your exit processing function. </li>
<li>
If a yielding function is not registered, an RPC will not yield on the Macintosh. Register a yielding function by calling <a href="pr-func1_873j.htm"><b>RpcMacSetYieldInfo</b></a>. <pre><code>void RPC_ENTRY MacCallbackFunc(short *pStatus)
{
  MSG msg;
  while (*pStatus == 1)
  {
    if(PeekMessage(&amp;msg,NULL,0,0,PM_REMOVE))
    {
    TranslateMessage(&amp;msg);
    DispatchMessage(&amp;msg);
    }
  }
}
 </code></pre>
</li>
<li>
Most client-side APIs that are supported by Windows 3.<i>x</i> are also supported by the Macintosh. The Macintosh does not support the following APIs:<ul>
<li>
<b>RpcNs*</b> APIs</li>
<li>
<b>RpcMgmt*</b> APIs</li>
<li>
<b>RpcWinSetYieldInfo</b> (replaced by <b>RpcMacSetYieldInfo</b>)</li>
</ul>
</li>
</ol>
<p>
The only authentication service currently supported for the Macintosh is RPC_C_AUTHN_WINNT.</p>
<p>
The following protocol sequences are supported:
<ul>
<li>
ADSP:ncacn_at_dsp</li>
<li>
TCP:ncacn_ip_tcp</li>
</ul>
<p>
</p>
<p>&nbsp;</p></body>
</HTML>
