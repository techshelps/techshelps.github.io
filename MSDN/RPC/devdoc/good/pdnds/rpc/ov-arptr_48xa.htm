<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Pointers and Memory Allocation</title>
<link disabled rel=stylesheet href=../../../backsdk3.css>
<style type="text/css">
@import url(../../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h2><a name="_rpc_pointers_and_memory_allocation"></a>Pointers and Memory Allocation</h2>
<p>
The ability to change memory through pointers often requires that the server and the client allocate enough memory for the elements in the array. </p>
<p>
Whenever a stub must allocate or free memory, it calls run-time library functions that in turn call the functions <a href="ov-memmg_3rhh.htm"><b>midl_user_allocate</b></a> and <a href="ov-memmg_404l.htm"><b>midl_user_free</b></a>. These functions are not included as part of the run-time library. You need to write your own versions of these functions and link them with your application. In this way, you can decide how to manage memory. (The exception is if you are compiling your IDL file in OSF-compatibility (/<b>osf</b>) mode, in which case you do not need to implement these functions)</p>
<p>
You must write these functions to the following prototypes:</p>
<pre><code>void __RPC_FAR * __RPC_API midl_user_allocate(size_t len)

void __RPC_API midl_user_free(void __RPC_FAR * ptr)
 </code></pre>
<p>
For example, the versions of these functions for an application can simply call standard library functions:</p>
<pre><code>void __RPC_FAR * __RPC_API midl_user_allocate(size_t len)
{
    return(malloc(len));
}

void __RPC_API midl_user_free(void __RPC_FAR * ptr)
{
    free(ptr);
}
 </code></pre>
<p>&nbsp;</p></body>
</HTML>
