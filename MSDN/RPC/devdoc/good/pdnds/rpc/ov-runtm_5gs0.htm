<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Name Service Entry Cleanup</title>
<link disabled rel=stylesheet href=../../../backsdk3.css>
<style type="text/css">
@import url(../../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h2><a name="_rpc_name_service_entry_cleanup"></a>Name Service Entry Cleanup</h2>
<p>
A name service entry should contain information that does not change frequently. For this reason, do not include dynamic endpoints in your exported binding handles because they will change at each invocation of the server and will clutter up your name service entry. To remove these binding handles, use <a href="pr-func1_74qc.htm"><b>RpcBindingReset</b></a>. For example, a reasonable sequence of server operations would be:</p>
<p>
For more than one transport:</p>
<pre><code>RpcServerUseProtseq();
RpcServerUseProtseq();
 </code></pre>
<p>
To place bindings in the endpoint mapper:</p>
<pre><code>RpcServerInqBindings(&amp;Vector);
RpcEpRegister(Interface, Vector);
 </code></pre>
<p>
To remove endpoints from bindings:</p>
<pre><code>for (i=0; i &lt; Vector- &gt; Count; + + i)
    {
    RpcBindingReset(Vector-&gt;BindingH[i];
    }
 </code></pre>
<p>
To add bindings to the name service:</p>
<pre><code>RpcNsBindingExport(RPC_C_NS_SYNTAX_DEFAULT, EntryName, Interface
    Vector);
RpcServerListen();
 </code></pre>
<p>
Since the Microsoft Locator service does not use many resources to export information, the examples above work well. However, Microsoft RPC also supports Digital Equipment Corporation's Cell Directory Service (CDS), which is a more robust name service. When using CDS, <a href="pr-func1_8bg4.htm"><b>RpcNsBindingExport</b></a> or <a href="pr-func1_5cvo.htm"><b>RpcNsBindingUnexport</b></a> will create significant network traffic for replication and distribution. Thus, the server should determine if the information already has been exported and export only it if is has not.</p>
<p>&nbsp;</p></body>
</HTML>
