<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>RPC_ASYNC_STATE</title>
<link disabled rel=stylesheet href=../../../backsdk3.css>
<style type="text/css">
@import url(../../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h1><a name="_rpc_rpc_async_state"></a>RPC_ASYNC_STATE</h1>
<p>
The RPC_ASYNC_STATE structure holds the state of an asynchronous remote procedure call. PRPC_ASYNC_STATE is a handle to this structure, used to wait for, query, reply to, or cancel asynchronous calls. </p>
<pre><code><b>typedef struct _RPC_ASYNC_STATE {
  unsigned int</b>    <i>Size;</i>
<b>  unsigned long</b>    <i>Signature;</i>
 <b> long</b>    <i>Lock;</i>
<b>  void *</b>    <i>StubInfo</i>
<b>  void *</b>    <i>UserInfo</i>
<b>  void *</b>    <i>RuntimeInfo</i>
<b>  RPC_ASYNC_EVENT</b>    <i>Event</i>
<b>  RPC_NOTIFICATION_TYPES</b>    <i>NotificationType</i>
 <b> union</b> <b>{    </b>
<b>     struct {    </b>
<b>        PFN_RPCNOTIFICATION_ROUTINE</b>    NotificationRoutine<i>;</i>
        <b>HANDLE</b>     <i>hThread;</i>
               <b>}</b>     <i>APC;</i>
     <b>struct {    </b>
<b>        HANDLE</b>     <i>hIOPort;</i>
        <b>DWORD</b>    <i>dwNumberOfBytesTransferred;</i>
      <b>  DWORD</b>     <i>dwCompletionKey;</i>
       <b> LPOVERLAPPED</b>    <i>lpOverlapped;</i>
            <b>   }</b>           <i> IOC;</i>
     <b>struct {    </b>
<b>        HWND</b>     <i>hWnd</i>;
        <b>UINT</b>     <i>Msg</i>
              }     <i>HWND</i>;//not implemented in Beta1
     <b>HANDLE</b>    <i> hEvent;</i>
     <b>PFN_RPCNOTIFICATION_ROUTINE</b>     <i>NotificationRoutine;</i>
         <b> }</b>     <i>u;</i>
  <b>long</b>    <i> Reserved[4];</i>
} <b>RPC_ASYNC_STATE, *PRPC_ASYNC_STATE </b>;
</code></pre>
<dl>
<dt>
<i>Size</i></dt>
</dl>
<p>
The size, in bytes, of this structure. The run-time environment sets this field when <b>RpcAsyncInitializeHandle</b> is called. Do not modify this field.
<dl>
<dt>
<i>Signature</i></dt>
</dl>
<p>
The run-time environment sets this field when <b>RpcAsyncInitializeHandle</b> is called. Do not modify this field.
<dl>
<dt>
<i>Lock;</i></dt>
</dl>
<p>
The run-time environment sets this field when <b>RpcAsyncInitializeHandle</b> is called. Do not modify this field.
<dl>
<dt>
<i>StubInfo</i></dt>
<dd>
Reserved for use by the stubs. Do not use this field.</dd>
<dt>
<i>UserInfo</i></dt>
<dd>
Use this field for any application-specific information that you want to keep track of in this structure.</dd>
<dt>
<i>RuntimeInfo</i></dt>
<dd>
Reserved for use by the RPC run-time environment. Do not use this field.</dd>
<dt>
<i>Event</i></dt>
<dd>
Specifies the type of event that occurred. The RPC run-time environment sets this field.</dd>
<dt>
<i>NotificationType</i></dt>
<dd>
Specifies the kind of notification in use. See the Remarks section below for a description of notification types.</dd>
<dt>
<i>APC</i></dt>
<dd>
Structure used for notification by Windows asynchronous procedure call (APC).
<dl>
<dt>
<i>NotificationRoutine</i></dt>
<dd>
Calls the user-defined APC notification routine.</dd>
<dt>
<i>hThread</i></dt>
<dd>
The handle to the thread making the asynchronous call. A value of zero indicates the current thread.</dd>
</dl>
</dd>
<dt>
<i>IOC</i></dt>
<dd>
Structure used for notification by I/O completion port.
<dl>
<dt>
<i>hIOPort</i></dt>
<dd>
Handle to the I/O completion port.</dd>
<dt>
<i>dwNumberOfBytesTransferred</i></dt>
<dd>
Set by the calling application (either client or server).</dd>
<dt>
<i>dwCompletionKey</i></dt>
<dd>
Set by the calling application (either client or server).</dd>
<dt>
<i>lpOverlapped</i></dt>
<dd>
The address of the OVERLAPPED structure containing state information needed for I/O completion..</dd>
</dl>
</dd>
<dt>
<i>HWND</i></dt>
<dd>
Structure used for notification by Windows message. LPARAM points to the asynchronous handle for the call. Not implemented in Windows NT 5.0 Beta 1.
<dl>
<dt>
<i>hWnd</i></dt>
<dd>
Identifies the window to which the message should be posted.</dd>
<dt>
<i>Msg</i></dt>
<dd>
The message to be posted.</dd>
<dt>
<i>hEvent</i></dt>
<dd>
Handle used for notification by an event.</dd>
</dl>
</dd>
<dt>
<i>NotificationRoutine</i></dt>
<dd>
DCOM uses this internally for direct callbacks. Do not use this field.</dd>
<dt>
<i>Reserved[4]</i></dt>
<dd>
Reserved for compatibility with future versions, if any. Do not use this field.
</dd>
</dl>
<h4>Remarks</h4>
<p>
The client allocates space for the RPC_ASYNC_STATE structure and an associated handle, and calls <a href="pr-func1_8mzp.htm"><b>RpcAsyncInitializeHandle</b></a><b> </b>to initialize the structure. After the run-time environment has successfully initialized the structure, the client initializes the <i>NotificationType</i>, <i>NotificationRoutine</i>, <i>hThread</i> and <i>UserInfo</i> fields. The notification type may be any one of the following:</p>
<table cellspacing=4 cols=2>
<tr valign=top>
<th align=left width=41%>Notification Type</th>
<th align=left width=59%>Description</th>
</tr>
<tr valign=top>
<td width=41%>RpcNotificationTypeNone</td>
<td width=59%>There is no notification.</td>
</tr>
<tr valign=top>
<td width=41%>RpcNotificationTypeEvent</td>
<td width=59%>Notification by <object id=alink_1 type="application/x-oleobject"
	classid="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
<PARAM name="Command" value="ALink,MENU">
<PARAM name="DefaultTopic" value="../../../notopic_0pk4.htm">
<PARAM name="Item1" value="">
<PARAM name="Item2" value="_win32_event_objects">
</object><a href=JavaScript:alink_1.Click()>event</a>.</td>
</tr>
<tr valign=top>
<td width=41%>RpcNotificationTypeApc</td>
<td width=59%>Notification by Win32 <object id=alink_2 type="application/x-oleobject"
	classid="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
<PARAM name="Command" value="ALink,MENU">
<PARAM name="DefaultTopic" value="../../../notopic_0pk4.htm">
<PARAM name="Item1" value="">
<PARAM name="Item2" value="_win32_asynchronous_procedure_calls">
</object><a href=JavaScript:alink_2.Click()>Asynchronous Procedure Calls</a>.</td>
</tr>
<tr valign=top>
<td width=41%>RpcNotificationTypeIoc</td>
<td width=59%><object id=alink_3 type="application/x-oleobject"
	classid="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
<PARAM name="Command" value="ALink,MENU">
<PARAM name="DefaultTopic" value="../../../notopic_0pk4.htm">
<PARAM name="Item1" value="">
<PARAM name="Item2" value="_win32_using_i_o_completion_ports">
</object><a href=JavaScript:alink_3.Click()>Notification by I/O completion port</a>.</td>
</tr>
<tr valign=top>
<td width=41%>RpcNotificationTypeHwnd</td>
<td width=59%>Notification by <object id=alink_4 type="application/x-oleobject"
	classid="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
<PARAM name="Command" value="ALink,MENU">
<PARAM name="DefaultTopic" value="../../../notopic_0pk4.htm">
<PARAM name="Item1" value="">
<PARAM name="Item2" value="_win32_windows_messages">
</object><a href=JavaScript:alink_4.Click()>Windows message</a>.</td>
</tr>
<tr valign=top>
<td width=41%></td>
<td width=59%></td>
</tr>
</table><br>
<h4>See Also</h4>
<p>
<a href="ov-async_1eqr.htm"><b>Asynchronous RPC</b></a>, <a href="pr-func1_8nl8.htm"><b>RpcAsyncAbortCall</b></a>, <a href="pr-func1_3bvw.htm"><b>RpcAsyncCancelCall</b></a>, <a href="pr-func1_6pnw.htm"><b>RpcAsyncCompleteCall</b></a>, <a href="pr-func1_2d7p.htm"><b>RpcAsyncGetCallHandle</b></a>, <a href="pr-func1_76er.htm"><b>RpcAsyncGetCallStatus</b></a>, <a href="pr-func1_8mzp.htm"><b>RpcAsyncInitializeHandle</b></a>, <a href="pr-func1_2c8f.htm"><b>RpcAsyncRegisterInfo</b></a>, <a href="pr-func2_12r0.htm"><b>RpcServerTestCancel</b></a></p>
<p>&nbsp;</p></body>
</HTML>
