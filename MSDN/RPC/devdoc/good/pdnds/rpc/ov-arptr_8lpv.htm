<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Using Arrays, Strings, and Pointers</title>
<link disabled rel=stylesheet href=../../../backsdk3.css>
<style type="text/css">
@import url(../../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h1><a name="_rpc_using_arrays_strings_and_pointers"></a>Using Arrays, Strings, and Pointers</h1>
<p>
The Doctor program (see \samples\rpc\doctor in the Win32 SDK) is a good example of an application that demonstrates the design trade-offs involved with array and string attributes. The Doctor program is a small sample version of a better-known program, Eliza, developed by artificial intelligence researcher Joseph Weizenbaum at MIT in the 1960s. The program mimics a therapist by using simple pattern-matching to respond to natural language input.</p>
<p>
The Eliza program recorded the following session:</p>
<table cellspacing=4 cols=2>
<tr valign=top>
<th align=left width=46%>User</th>
<th align=left width=54%>Eliza</th>
</tr>
<tr valign=top>
<td width=46%>Men are all alike.</td>
<td width=54%>In what way?</td>
</tr>
<tr valign=top>
<td width=46%>They're always bugging us about something or other.</td>
<td width=54%>Can you think of a specific example?</td>
</tr>
<tr valign=top>
<td width=46%>Well, my boyfriend made me come here.</td>
<td width=54%>Your boyfriend made you come here.</td>
</tr>
<tr valign=top>
<td width=46%>He says I'm depressed much of the time.</td>
<td width=54%>I am sorry to hear that you are depressed.</td>
</tr>
<tr valign=top>
<td width=46%>It's true, I am unhappy.</td>
<td width=54%>Do you think coming here will help you not to be unhappy?</td>
</tr>
<tr valign=top>
<td width=46%>I need some help; that much seems certain.</td>
<td width=54%>What would it mean to you if you got some help?</td>
</tr>
<tr valign=top>
<td width=46%>Perhaps I could learn to get along with my mother.</td>
<td width=54%>Tell me more about your family.</td>
</tr>
<tr valign=top>
<td width=46%>My mother takes care of me.</td>
<td width=54%>Who else in your family takes care of you?</td>
</tr>
<tr valign=top>
<td width=46%>My father.</td>
<td width=54%>Your father.</td>
</tr>
<tr valign=top>
<td width=46%>You are like my father in some ways.</td>
<td width=54%>What resemblance do you see?</td>
</tr>
</table><br>
<p>
The Doctor program can be split into client-side and server-side applications. The client side prompts the patient for input and displays the doctor's response. The server side processes the patient input and generates the doctor's response. This is a classic example of a client-server application: the client is responsible for user interaction while the server handles the extensive computational load. Not much data is passed to and returned by the function but, because the data can require a significant amount of processing, it is processed by the server.</p>
<p>
The Doctor program uses a character array for input and returns another character array as output. The following topics demonstrate the design trade-offs between the various interfaces that can manage these parameters.</p>
<p>
The table below lists four ways to pass character arrays between the client and server, and the attributes and functions needed to implement each approach.</p>
<table cellspacing=4 cols=2>
<tr valign=top>
<th align=left width=33%>Approach</th>
<th align=left width=67%>Attributes or functions</th>
</tr>
<tr valign=top>
<td width=33%>Counted character arrays</td>
<td width=67%><object id=alink_1 type="application/x-oleobject"
	classid="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
<PARAM name="Command" value="ALink,MENU">
<PARAM name="DefaultTopic" value="../../../notopic_0pk4.htm">
<PARAM name="Item1" value="">
<PARAM name="Item2" value="_rpc_size_is">
</object><a href=JavaScript:alink_1.Click()><b>size_is</b></a>, <object id=alink_2 type="application/x-oleobject"
	classid="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
<PARAM name="Command" value="ALink,MENU">
<PARAM name="DefaultTopic" value="../../../notopic_0pk4.htm">
<PARAM name="Item1" value="">
<PARAM name="Item2" value="_rpc_length_is">
</object><a href=JavaScript:alink_2.Click()><b>length_is</b></a>, <object id=alink_3 type="application/x-oleobject"
	classid="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
<PARAM name="Command" value="ALink,MENU">
<PARAM name="DefaultTopic" value="../../../notopic_0pk4.htm">
<PARAM name="Item1" value="">
<PARAM name="Item2" value="_rpc_ref">
</object><a href=JavaScript:alink_3.Click()><b>ref</b></a></td>
</tr>
<tr valign=top>
<td width=33%>Stub-managed strings</td>
<td width=67%><object id=alink_4 type="application/x-oleobject"
	classid="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
<PARAM name="Command" value="ALink,MENU">
<PARAM name="DefaultTopic" value="../../../notopic_0pk4.htm">
<PARAM name="Item1" value="">
<PARAM name="Item2" value="_rpc_string">
</object><a href=JavaScript:alink_4.Click()><b>string</b></a>, <object id=alink_5 type="application/x-oleobject"
	classid="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
<PARAM name="Command" value="ALink,MENU">
<PARAM name="DefaultTopic" value="../../../notopic_0pk4.htm">
<PARAM name="Item1" value="">
<PARAM name="Item2" value="_rpc_ref">
</object><a href=JavaScript:alink_5.Click()><b>ref</b></a>, <a href="ov-memmg_3rhh.htm"><b>midl_user_allocate</b></a> on server</td>
</tr>
<tr valign=top>
<td width=33%>Stub-managed strings</td>
<td width=67%><object id=alink_6 type="application/x-oleobject"
	classid="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
<PARAM name="Command" value="ALink,MENU">
<PARAM name="DefaultTopic" value="../../../notopic_0pk4.htm">
<PARAM name="Item1" value="">
<PARAM name="Item2" value="_rpc_string">
</object><a href=JavaScript:alink_6.Click()><b>string</b></a>, <object id=alink_7 type="application/x-oleobject"
	classid="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
<PARAM name="Command" value="ALink,MENU">
<PARAM name="DefaultTopic" value="../../../notopic_0pk4.htm">
<PARAM name="Item1" value="">
<PARAM name="Item2" value="_rpc_unique">
</object><a href=JavaScript:alink_7.Click()><b>unique</b></a>, <a href="ov-memmg_3rhh.htm"><b>midl_user_allocate</b></a> on client and server</td>
</tr>
<tr valign=top>
<td width=33%>Function that returns a string</td>
<td width=67%><object id=alink_8 type="application/x-oleobject"
	classid="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
<PARAM name="Command" value="ALink,MENU">
<PARAM name="DefaultTopic" value="../../../notopic_0pk4.htm">
<PARAM name="Item1" value="">
<PARAM name="Item2" value="_rpc_unique">
</object><a href=JavaScript:alink_8.Click()><b>unique</b></a></td>
</tr>
</table><br>
<p>
Within the constraints associated with these combinations of attributes, there are alternative ways of sending one character array from client to server and of returning another character array from server to client.</p>
<p>&nbsp;</p></body>
</HTML>
