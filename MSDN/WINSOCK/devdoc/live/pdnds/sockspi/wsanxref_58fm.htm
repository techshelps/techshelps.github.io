<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>TCP/IP Socket Options</title>
<link disabled rel=stylesheet href=../../../backsdk3.css>
<style type="text/css">
@import url(../../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h3><a name="_win32_tcp_ip_socket_options_2"></a>TCP/IP Socket Options</h3>
<p>
The following TCP/IP specific options are defined:</p>
<p>
<b><i>level</i>=IPPROTO_IP</b></p>
<table cellspacing=4 cols=3>
<tr valign=top>
<th align=left width=37%>Value</th>
<th align=left width=24%>Type </th>
<th align=left width=39%>Meaning</th>
</tr>
<tr valign=top>
<td width=37%>IP_OPTIONS</td>
<td width=24%>char FAR *</td>
<td width=39%>List of IP options to be inserted into outgoing packets.</td>
</tr>
<tr valign=top>
<td width=37%>IP_TOS</td>
<td width=24%>int </td>
<td width=39%>Specifies type of service to be used</td>
</tr>
<tr valign=top>
<td width=37%>IP_TTL</td>
<td width=24%>int</td>
<td width=39%>Specify TTL to be used</td>
</tr>
<tr valign=top>
<td width=37%>IP_HDRINCL</td>
<td width=24%>BOOL</td>
<td width=39%>If true, application will provide IP header in the packets sent over SOCK_RAW interface, otherwise the header is provided by the service provider.</td>
</tr>
<tr valign=top>
<td width=37%>IP_MULTICAST_IF</td>
<td width=24%>struct in_addr FAR *</td>
<td width=39%>Select interface for outgoing multicast packets. The optval should point to the address of the interface to be used. If NULL, the default interface is used.</td>
</tr>
<tr valign=top>
<td width=37%>IP_MULTICAST_TTL</td>
<td width=24%>int</td>
<td width=39%>TTL used for the multicast packets</td>
</tr>
<tr valign=top>
<td width=37%>IP_MULTICAST_LOOP</td>
<td width=24%>BOOL</td>
<td width=39%>If true, multicast loopback is enabled, otherwise - disabled.</td>
</tr>
<tr valign=top>
<td width=37%>IP_ADD_MEMBERSHIP</td>
<td width=24%>struct ip_mreq FAR *</td>
<td width=39%>Specify the multicast group to join</td>
</tr>
<tr valign=top>
<td width=37%>IP_DROP_MEMBERSHIP</td>
<td width=24%>struct ip_mreq FAR *</td>
<td width=39%>Specify the multicast group to leave</td>
</tr>
</table><br>
<p>
<b><i>level</i>= IPPROTO_UDP</b></p>
<table cellspacing=4 cols=3>
<tr valign=top>
<th align=left width=37%>Value</th>
<th align=left width=21%>Type </th>
<th align=left width=42%>Meaning</th>
</tr>
<tr valign=top>
<td width=37%>UDP_NOCHECKSUM</td>
<td width=21%>BOOL</td>
<td width=42%>If the option is set, UDP datagrams are sent with the checksum of zero. This option is required. If a service provider does not have a mechanism to disable UDP checksum calculation, it may just store this option without doing any actions.</td>
</tr>
</table><br>
<p>
<b><i>level</i>= IPPROTO_TCP</b></p>
<table cellspacing=4 cols=3>
<tr valign=top>
<th align=left width=37%>Value</th>
<th align=left width=21%>Type </th>
<th align=left width=42%>Meaning</th>
</tr>
<tr valign=top>
<td width=37%>TCP_EXPEDITED_1122</td>
<td width=21%>BOOL</td>
<td width=42%>If set, the Service Provider implements the expedited data as specified in RFC-1222, otherwise the BSD style (default) is used. This option can be set on the connection only once, i.e. once on, this option can not be turned off. This option is not required.</td>
</tr>
</table><br>
<dl>
<dt>
<b>IP_OPTIONS</b></dt>
<dd>
Specifies IP options to be inserted into outgoing datagrams. Setting the new options overwrites all the previously specified options. Setting <i>optval </i>to zero means removing all the previously specified options. The support of IP_OPTIONS is not required. In order to check if IP_OPTIONS<b> </b>is supported or not, an application should use<b> <a href="../../../good/pdnds/sock2/wsapiref_8qcy.htm">getsockopt</a></b> trying to get the current options. If <b>getsockopt</b> fails, the IP_OPTIONS is not supported.</dd>
<dt>
<b>IP_TOS</b></dt>
<dd>
Changes the default value set by the TCP/IP service provider in the TOS field of IP header in outgoing datagrams. The support of IP_TOS<b> </b>is not required. In order to check if IP_TOS is supported or not, an application should use<b> getsockopt</b> trying to get the current options. If <b>getsockopt</b> fails, the IP_TOS is not supported.</dd>
<dt>
<b>IP_TTL</b></dt>
<dd>
Change the default value set by the TCP/IP service provider in the TTL field of IP header in outgoing datagrams. The support of IP_TTL is not required. In order to check if IP_TTL is supported or not, an application should use<b> getsockopt</b> trying to get the current options. If <b>getsockopt</b> fails, the IP_TTL is not supported.</dd>
<dt>
<b>IP_HDRINCL</b></dt>
<dd>
By default TCP/IP service provider forms the IP header for the outcoming datagrams. Some applications, however, may wish to provide their own IP header. Such applications should set IP_HDRINCL option into true and then supply a completed IP header at the front of each outgoing datagram. The only modification TCP/IP service provider may do to the supplied IP header is setting the ID field if the value supplied by the application is 0. The IP_HDRINCL option is applied only to the SOCK_RAW type of protocol. If a TCP/IP service provider supports SOCK_RAW protocol, it should also support IP_HDRINCL option.</dd>
<dt>
<b>IP_MULTICAST_IF</b></dt>
<dd>
Information supplied at a later release.</dd>
<dt>
<b>IP_MULTICAST_TTL</b></dt>
<dd>
Information supplied at a later release.</dd>
<dt>
<b>IP_MULTICAST_LOOP</b></dt>
<dd>
Information supplied at a later release.</dd>
<dt>
<b>IP_ADD_MEMBERSHIP</b></dt>
<dd>
Information supplied at a later release.</dd>
<dt>
<b>IP_DROP_MEMBERSHIP</b></dt>
<dd>
Support of these options is required if a protocol supports multicast. This will be indicated in the <a href="../../../good/pdnds/sock2/strucetc_4cfm.htm"><b>WSAPROTOCOL_INFO</b></a> structure returned by <a href="../../../good/pdnds/sock2/wsapiref_0f76.htm"><b>WSAEnumProtocols</b></a><b> </b>as follows:
<p>
XPI_SUPPORTS_MULTIPOINT = 1

<p>
XP1_MULTIPOINT_CONTROL_PLANE = 0

<p>
XP1_MULTIPOINT_DATA_PLANE = 0

</dd>
</dl>
<p>&nbsp;</p></body>
</HTML>
