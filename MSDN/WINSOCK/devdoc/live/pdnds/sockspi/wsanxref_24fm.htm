<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>How Packet Size Affects Protocols</title>
<link disabled rel=stylesheet href=../../../backsdk3.css>
<style type="text/css">
@import url(../../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h3><a name="_win32_how_packet_size_affects_protocols_2"></a>How Packet Size Affects Protocols</h3>
<p>
Media packet size issues discussed above affect the various PF_IPX protocols differently. A common strategy for handling various router and media size constraints is to use the full media size when the remote station's network number matches the local station and fall back to the minimum packet size otherwise.
<dl>
<dt>
NSPROTO_IPX</dt>
<dd>
Provides a datagram service and each datagram must reside within the maximum packet size. Windows Sockets sets the maximum datagram packet size to the local media packet size minus the IPX header. Keep in mind, however, that if the packet is routed, it may hit router restrictions en-route. Make sure your application can fall back to 546 byte datagrams.</dd>
<dt>
NSPROTO_SPX</dt>
<dd>
Provides stream and sequenced-packet services. Windows Sockets IPX/SPX lets data streams and messages span multiple packets, so packet size does not limit the amount of data handled by <i>send</i> and <i>recv</i>. However, the underlying media size must be set correctly or the first large packet will be undeliverable and the connection will reset. If the target station is on the local network, Windows Sockets sets its packet size to the media packet size. Otherwise it defaults to 512 bytes. This size can be changed immediately after <i>connect</i> or <i>accept</i> via <i>setsockopt</i>.</dd>
<dt>
NSPROTO_SPXII</dt>
<dd>
SPXII features <i>large Internet packet</i> negotiation to maintain a best-fit size for packets and does not require programmer intervention. However, if the remote station does not support SPXII and negotiates down to standard SPX, the NSPROTO_SPX rules above are in effect.
<table cellspacing=4 cols=4>
<tr valign=top>
<th align=left width=27%>Protocol</th>
<th align=left width=23%>Media</th>
<th align=left width=24%>Type</th>
<th align=left width=26%>Data Pkt Size</th>
</tr>
<tr valign=top>
<td width=27%>NSPROTO_IPX</td>
<td width=23%>Ethernet</td>
<td width=24%>Ethernet II</td>
<td width=26%></td>
</tr>
<tr valign=top>
<td width=27%></td>
<td width=23%></td>
<td width=24%>802.3</td>
<td width=26%></td>
</tr>
<tr valign=top>
<td width=27%></td>
<td width=23%></td>
<td width=24%>802.2</td>
<td width=26%>1466</td>
</tr>
<tr valign=top>
<td width=27%></td>
<td width=23%></td>
<td width=24%>SNAP</td>
<td width=26%></td>
</tr>
<tr valign=top>
<td width=27%></td>
<td width=23%>Token Ring</td>
<td width=24%>4 megabit</td>
<td width=26%></td>
</tr>
<tr valign=top>
<td width=27%></td>
<td width=23%></td>
<td width=24%>16 megabit</td>
<td width=26%></td>
</tr>
</table><br>


<table cellspacing=4 cols=4>
<tr valign=top>
<th align=left width=27%>Protocol</th>
<th align=left width=23%>Media</th>
<th align=left width=24%>Type</th>
<th align=left width=26%>Data Pkt Size</th>
</tr>
<tr valign=top>
<td width=27%>NSPROTO_SPX</td>
<td width=23%>Ethernet</td>
<td width=24%>Ethernet II</td>
<td width=26%></td>
</tr>
<tr valign=top>
<td width=27%></td>
<td width=23%></td>
<td width=24%>802.3</td>
<td width=26%></td>
</tr>
<tr valign=top>
<td width=27%></td>
<td width=23%></td>
<td width=24%>802.2</td>
<td width=26%>1454</td>
</tr>
<tr valign=top>
<td width=27%></td>
<td width=23%></td>
<td width=24%>SNAP</td>
<td width=26%></td>
</tr>
<tr valign=top>
<td width=27%></td>
<td width=23%>Token Ring</td>
<td width=24%>4 megabit</td>
<td width=26%></td>
</tr>
<tr valign=top>
<td width=27%></td>
<td width=23%></td>
<td width=24%>16 megabit</td>
<td width=26%></td>
</tr>
</table><br>

</dd>
</dl>
<p>&nbsp;</p></body>
</HTML>
