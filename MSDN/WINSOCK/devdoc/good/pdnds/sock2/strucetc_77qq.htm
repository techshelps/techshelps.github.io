<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>FLOWSPEC</title>
<link disabled rel=stylesheet href=../../../backsdk3.css>
<style type="text/css">
@import url(../../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h1><a name="_win32_flowspec_2"></a>FLOWSPEC</h1>
<pre><code>typedef struct _flowspec {
    uint32        TokenRate;            /* In Bytes/sec    */
    uint32        TokenBucketSize;      /* In Bytes        */
    uint32        PeakBandwidth;        /* In Bytes/sec    */
    uint32        Latency;              /* In microseconds */
    uint32        DelayVariation;       /* In microseconds */
    SERVICETYPE   ServiceType;          /* Guaranteed, Predictive, */
                                        /* Best Effort, etc.  */
   uint32         MaxSduSize            /* In Bytes           */
   uint32         MinimumPolicedSize    /* In Bytes           */
} FLOWSPEC, *PFLOWSPEC,  FAR * LPFLOWSPEC;

typedef struc _QualityOfService {
    FLOWSPECSendingFlowspec/*The flowspec for data sending*/
    FLOWSPECReceivingFlowspec/*Theflowspec for data receiving*/
    WSABUFProviderSpecific/*Additonal Provider*/
} QOS, FAR * LPQOS;
 </code></pre>
<h4>Members</h4>
<dl>
<dt>
<b>TokenRate</b></dt>
<dd>
A <i>token bucket model </i>is used to specify the rate at which permission to send traffic (or credits) accrues. In the model, the token bucket has a maximum volume (<b>TokenBucketSize</b>) and continuously fills at a certain rate, (<b>TokenRate)</b>. If the bucket contains sufficient credit, the application can send data and reduce the available credit by that amount. If sufficient credits are not available, the application must wait or discard the extra traffic.
<p>
A value of -1 in the members <b>TokenRate</b> and <b>TokenBucketSize</b> indicates that no rate-limiting is in force. The <b>TokenRate</b> is expressed in bytes per second.

<p>
If an application has been sending at a low rate for a period of time, it can send a large burst of data all at once until it runs out of credit. Having done so, it must limit itself to sending at <b>TokenRate</b> until its data burst is exhausted.

<p>
In video applications, the <b>TokenRate</b> is typically the average bit rate peak to peak. In constant rate applications, the <b>TokenRate</b> is equal to the <b>PeakBandwidth</b><i>.</i>
</dd>
<dt>
<b>TokenBucketSize</b></dt>
<dd>
Largest typical frame size in video applications, expressed in bytes. In constant rate applications, the <b>TokenBucketSize</b> is chosen to accommodate small variations.</dd>
<dt>
<b>PeakBandwidth</b></dt>
<dd>
Limits how fast packets may be sent back to back from the application, expressed in bytes/second. Some intermediate systems can take advantage of this information resulting in a more efficient resource allocation.</dd>
<dt>
<b>Latency</b></dt>
<dd>
Maximum acceptable delay between transmission of a bit by the sender and its receipt by the intended receiver or receivers, expressed in microseconds. The precise interpretation of this number depends on the level of guarantee specified in the QOS request.</dd>
<dt>
<b>DelayVariation</b></dt>
<dd>
Difference, in microseconds, between the maximum and minimum possible delay that a packet will experience. This value is used by applications to determine the amount of buffer space needed at the receiving side in order to restore the original data transmission pattern. </dd>
<dt>
<b>ServiceType </b></dt>
<dd>
Contains the value of the level of service to negotiate for the flow. The following ServiceTypes have been defined.  
<dl>
<dt>
<b>SERVICETYPE_NOTRAFFIC</b></dt>
<dd>
In either the sending or receiving flow specification, this value indicates that there will be no traffic in this direction. On duplex capable media, this signals underlying software to set up unidirectional connections only.  </dd>
<dt>
<b>SERVICETYPE_BESTEFFORT</b></dt>
<dd>
The service provider takes the <b>FLOWSPEC</b> as a guideline and makes reasonable efforts to maintain the level of service requested, without making any guarantees on packet delivery.</dd>
<dt>
<b>SERVICETYPE_CONTROLLEDLOAD</b></dt>
<dd>
Denotes that end-to-end behavior, provided to an application by a series of network elements, tightly approximates the behavior visible to applications receiving best-effort service "under unloaded conditions" from the same series of network elements. Thus, applications using this service may assume that: (1) A very high percentage of transmitted packets will be successfully delivered by the network to the receiving end notes. (Packet loss rate will closely approximate the basic packet error rate of the transmission medium.) and (2) Transit delay experienced by a very high percentage of the delivered packets will not greatly exceed the minimum transit delay experienced by any successfully delivered packet at the speed of light.  </dd>
<dt>
<b>SERVICETYPE_GUARANTEED</b></dt>
<dd>
The service provider implements a queuing algorithm which isolates the flow from the effects of other flows as much as possible and guarantees the flow the ability to propagate data at the <b>TokenRate</b> for the duration of the connection. If the sender sends faster than the <b>TokenRate</b>, the network may delay or discard the excess traffic. If the sender does not exceed the <b>TokenRate</b> over time, then Latency is also guaranteed. This <b>ServiceType</b> is designed for applications that require a precisely known quality of service but world not benefit from better service, such as real-time control systems.  </dd>
<dt>
<b>SERVICETYPE_NETWORK UNAVAILABLE</b></dt>
<dd>
In either sending or receiving flow specifications, this value may be used by a service provider to indicate a loss of service in the corresponding direction.  </dd>
<dt>
<b>SERVICETYPE_GENERAL_INFORMATION</b></dt>
<dd>
All service types are supported for this traffic flow. </dd>
<dt>
<b>SERVICETYPE_NOCHANGE</b></dt>
<dd>
In either sending or receiving flow specifications, this level of service requests that the quality of service in the corresponding direction is not changed. ServiceType_NoChange can be used when requesting a QOS change in one direction only, or when requesting a change only in the ProvderSpecific part of a QOS specification and not in the SendingFlowspec or the ReceivingFlowspec.</dd>
<dt>
<b>SERVICETYPE_IMMEDIATE_TRAFFIC_CONROL</b></dt>
<dd>
In either a Sending or Receiving flowspec, this may be combined using bit-wise OR with one of the other defined <b>ServiceType</b> values to request the service provider to activate traffic control coincident with provision of the <b>FLOWSPEC</b>.</dd>
</dl>
</dd>
<dt>
<b>MaxSduSize</b></dt>
<dd>
The maximum packet size, in bytes, that is permitted or used in the traffic flow. </dd>
<dt>
<b>MinimumPolicedSize</b></dt>
<dd>
The minimum packet size that will be given the level of service requested.
</dd>
</dl>
<p>&nbsp;</p></body>
</HTML>
