<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>WSAGetServiceClassInfo</title>
<link disabled rel=stylesheet href=../../../backsdk3.css>
<style type="text/css">
@import url(../../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h1><a name="_win32_wsagetserviceclassinfo_2"></a>WSAGetServiceClassInfo</h1>
<p>
The Windows Sockets <b>WSAGetServiceClassInfo</b> function retrieves all of the class information (schema) pertaining to a specified service class from a specified name space provider.</p>
<pre><code><b>INT WSAGetServiceClassInfo(
  LPGUID</b><i> lpProviderId</i><b>,                      </b>
<b>  LPGUID</b><i> lpServiceClassId</i><b>,                  </b>
<b>  LPDWORD</b><i> lpdwBufferLength</i><b>,                 </b>
<b>  LPWSASERVICECLASSINFO</b><i> lpServiceClassInfo  </i>
<b>);</b>
 </code></pre>
<h4>Parameters</h4>
<dl>
<dt>
<i>lpProviderId</i></dt>
<dd>
[in] A pointer to a GUID that identifies a specific name space provider</dd>
<dt>
<i>lpServiceClassId</i></dt>
<dd>
[in] A pointer to a GUID identifying the service class in question</dd>
<dt>
<i>lpdwBufferLength</i></dt>
<dd>
[in/out] On input, the number of bytes contained in the buffer pointed to by <i>lpServiceClassInfos</i>. On output, if the function fails and the error is WSAEFAULT, then it contains the minimum number of bytes to pass for the <i>lpServiceClassInfo</i> to retrieve the record.</dd>
<dt>
<i>lpServiceClasslnfo</i></dt>
<dd>
[out] A pointer to the service class information from the indicated name space provider for the specified service class.
</dd>
</dl>
<h4>Remarks</h4>
<p>
The <b>WSAGetServiceClassInfo</b> function retrieves service class information but the service class information retrieved from a particular name space provider might not be the complete set of class information that was supplied when the service class was installed. Individual name space providers are only required to retain service class information that is applicable to the name spaces that they support. See section <a href="ovrvw4_0yya.htm#_win32_service_class_data_structures_2">Service Class Data Structures</a> for more information.</p>
<h4>Return Values</h4>
<p>
The return value is zero if the <b>WSAGetServiceClassInfo</b> was successful. Otherwise, the value SOCKET_ERROR is returned, and a specific error number can be retrieved by calling <a href="wsapiref_2tiq.htm"><b>WSAGetLastError</b></a>.</p>
<h4>Error Codes</h4>
<table cellspacing=4 cols=2>
<tr valign=top>
<td width=48%>WSAEACCESS</td>
<td width=52%>The calling routine does not have sufficient privileges to access the information.</td>
</tr>
<tr valign=top>
<td width=48%>WSAEFAULT</td>
<td width=52%>The buffer referenced by <i>lpServiceClassInfo </i>is too small. Pass in a larger buffer.</td>
</tr>
<tr valign=top>
<td width=48%>WSAEINVAL</td>
<td width=52%>the specified service class ID or name space provider ID is invalid.</td>
</tr>
<tr valign=top>
<td width=48%>WSANOTINITIALIZED</td>
<td width=52%>The WS2_32.DLL has not been initialized. The application must first call <a href="wsapiref_1v8y.htm"><b>WSAStartup</b></a> before calling any Windows Sockets functions.</td>
</tr>
<tr valign=top>
<td width=48%>WSATYPE NOT FOUND</td>
<td width=52%>The specified class was not found.</td>
</tr>
<tr valign=top>
<td width=48%>WSA NOT ENOUGH MEMORY</td>
<td width=52%>There was insufficient memory to perform the operation.</td>
</tr>
</table><br>
<h4>QuickInfo</h4>
<p>
&nbsp;&nbsp;<b>Windows NT:</b>  Yes<br>
&nbsp;&nbsp;<b>Windows:</b> Yes<br>
&nbsp;&nbsp;<b>Windows CE:</b>  Unsupported.<br>
&nbsp;&nbsp;<b>Header:</b> Declared in winsock2.h.<br>
&nbsp;&nbsp;<b>Import Library:</b> Link with ws2_32.lib.</p>
<p>&nbsp;</p></body>
</HTML>
