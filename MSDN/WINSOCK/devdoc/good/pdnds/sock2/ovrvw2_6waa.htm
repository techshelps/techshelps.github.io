<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Layered Protocols and Protocol Chains</title>
<link disabled rel=stylesheet href=../../../backsdk3.css>
<style type="text/css">
@import url(../../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h3><a name="_win32_layered_protocols_and_protocol_chains_2"></a>Layered Protocols and Protocol Chains</h3>
<p>
Windows Sockets 2 incorporates the concept of a layered protocol. A layered protocol is one that implements only higher level communications functions while relying on an underlying transport stack for the actual exchange of data with a remote endpoint. An example of this type of layered protocol is a security layer that adds a protocol to the socket connection process in order to perform authentication and establish an encryption scheme. Such a security protocol generally requires the services of an underlying, reliable transport protocol such as TCP or SPX.</p>
<p>
The term <i>base protocol</i> refers to a protocol, such as TCP or SPX, that is fully capable of performing data communications with a remote endpoint. A <i>layered protocol</i> is a protocol that cannot stand alone, while a <i>protocol chain</i> is one or more layered protocols strung together and anchored by a base protocol.</p>
<p>
A protocol chain is created by having the layered protocols support the Windows Sockets 2 SPI at both their upper and lower edges. A special <a href="strucetc_4cfm.htm">WSAPROTOCOL_INFO</a> structure is created that refers to the protocol chain as a whole, and that describes the explicit order in which the layered protocols are joined. This is illustrated in the figure <i>Layered Protocol Architecture</i>. Since only base protocols and protocol chains are directly usable by applications, they are the only ones listed when the installed protocols are enumerated with the <a href="wsapiref_0f76.htm"><b>WSAEnumProtocols</b></a> function.</p>
<p>
<img src="images/ovrvw2_3.gif" border=0></p>
<p>
<b>Layered Protocol Architecture</b></p>
<p>&nbsp;</p></body>
</HTML>
