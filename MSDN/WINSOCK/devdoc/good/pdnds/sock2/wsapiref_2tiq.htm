<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>WSAGetLastError</title>
<link disabled rel=stylesheet href=../../../backsdk3.css>
<style type="text/css">
@import url(../../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h1><a name="_win32_wsagetlasterror_2"></a>WSAGetLastError</h1>
<p>
The Windows Sockets <b>WSAGetLastError</b> function gets the error status for the last operation that failed.</p>
<pre><b><code>int  WSAGetLastError (void);</code></b></pre>
<h4>Remarks</h4>
<p>
The <b>WSAGetLastError</b> function returns the last network error that occurred. When a particular Windows Sockets function indicates that an error has occurred, this function should be called to retrieve the appropriate error code. This error code can be different from the error code obtained from <a href="wsapiref_8qcy.htm"><b>getsockopt</b></a> SO_ERROR, which is socket-specific since <b>WSAGetLastError</b> is for all thread-specific sockets.</p>
<p>
A successful function call, or a call to <b>WSAGetLastError</b>, does not reset the error code. To reset the error code, use the <a href="wsapiref_7a42.htm"><b>WSASetLastError</b></a> function call with <i>iError</i> set to zero. A <b>getsockopt</b> SO_ERROR also resets the error code to zero.</p>
<p>
The <b>WSAGetLastError</b> function should not be used to check for an error value on receipt of an asynchronous message. In this case, the error value is passed in the<i> lParam</i> field of the message, and this can differ from the value returned by <b>WSAGetLastError</b>.</p>
<h4>Return Values</h4>
<p>
The return value indicates the error code for this thread's last Windows Sockets operation that failed.</p>
<h4>QuickInfo</h4>
<p>
&nbsp;&nbsp;<b>Windows NT:</b>  Yes<br>
&nbsp;&nbsp;<b>Windows:</b> Yes<br>
&nbsp;&nbsp;<b>Windows CE:</b>  Use version 1.0 and later.<br>
&nbsp;&nbsp;<b>Header:</b> Declared in winsock2.h.<br>
&nbsp;&nbsp;<b>Import Library:</b> Link with ws2_32.lib.</p>
<h4>See Also</h4>
<p>
<a href="wsapiref_8qcy.htm"><b>getsockopt</b></a>, <a href="wsapiref_7a42.htm"><b>WSASetLastError</b></a></p>
<p>&nbsp;</p></body>
</HTML>
