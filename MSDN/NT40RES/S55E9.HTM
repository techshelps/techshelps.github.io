<HTML><HEAD><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>HKEY_CURRENT_USER</TITLE><META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset= iso-8859-1"><style>@import url(msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="msdn_ie3.css"></HEAD>
<BODY BGCOLOR="#FFFFFF"><FONT FACE="Verdana, Arial, Helvetica" SIZE="2"><FORM NAME="x"><OBJECT CLASSID="clsid:9c2ac687-ceef-11cf-96d9-00a0c903b016" NAME="iv"></OBJECT></FORM>
<H2>HKEY_CURRENT_USER </H2><P CLASS="t">HKEY_CURRENT_USER contains the database that describes the user profile for the user who is currently logged on to the local computer. A user profile contains information that defines the appearance and behavior of the individual user's desktop, network connections, and other environment settings. A user profile ensures that Windows&nbsp;NT looks and acts the same at any computer where that user logs on, if that person's profile is available at that computer or on the same domain in Windows&nbsp;NT Server.</P>
<P CLASS="t">HKEY_CURRENT_USER contains all the information necessary to set up a particular user environment on the computer. This includes information about settings such as application preferences, screen colors, and other personal preferences and security rights. Many of these settings are similar to the information that was stored in the Win.ini file under Windows for MS-DOS. </P>
<P></P>
<P CLASS="t">HKEY_CURRENT_USER includes the default subkeys described in Table 23.8. For details about the contents of subkeys in HKEY_CURRENT_USER, see Regentry.hlp, the Registry Help file on the <I>Windows&nbsp;NT Workstation Resource Kit</I> CD.</P>
<P>Table 23.8    Default Subkeys in HKEY_CURRENT_USER</P>
<P></P>

<TABLE COLS="2" BORDER="0" CELLPADDING="7"><COLGROUP><COL WIDTH="68pt" VALIGN="TOP"><COL WIDTH="279pt" VALIGN="TOP"></COLGROUP><TBODY><TR><TD VALIGN="TOP"><P CLASS="th"><B>Subkey</B></P></TD><TD VALIGN="TOP"><P CLASS="th"><B>Contents</B></P></TD></TR><TR><TD COLSPAN="2" VALIGN="TOP"><P></P></TD></TR><TR><TD VALIGN="TOP"><P>AppEvents</P></TD><TD VALIGN="TOP"><P>Subkeys that define application events, including the <I>sound scheme</I>, the set of relationships between user actions and the sound produced by the computer. </P></TD></TR><TR><TD VALIGN="TOP"><P>Console </P></TD><TD VALIGN="TOP"><P>Subkeys that define the options and window size for a console (the interface between the user-mode and character-mode applications). This includes settings for the Windows&nbsp;NT command prompt. These settings should be changed by using the commands in the <B>Control</B> menu of each non–Windows-based application.<BR>(The subkey for the command prompt does not appear unless the font or screen colors have been changed by the current user.)</P></TD></TR><TR><TD VALIGN="TOP"><P>Control Panel </P></TD><TD VALIGN="TOP"><P>Subkeys that correspond to parameters that can be changed by using the options in Control Panel. This includes information that was stored in the Win.ini and Control.ini files under Windows for MS-DOS. </P></TD></TR><TR><TD VALIGN="TOP"><P>Environment </P></TD><TD VALIGN="TOP"><P>Value entries that correspond to the current user's settings for environment variables. This includes information that was stored in the Autoexec.bat file under MS-DOS. Values should be set by using the System option in Control Panel.</P></TD></TR><TR><TD VALIGN="TOP"><P>Keyboard Layout </P></TD><TD VALIGN="TOP"><P>Subkeys that specify the language used for the current keyboard layout. To change the language associated with the keyboard, use the <B>Input Locales</B> tab under the Keyboard option in Control Panel. </P></TD></TR><TR><TD VALIGN="TOP"><P>Network</P></TD><TD VALIGN="TOP"><P>This key is no longer used. (In previous versions of Windows&nbsp;NT, it stored persistent connections. Persistent connections are now stored in HKEY_CURRENT_USER\Software\Microsoft\Windows&nbsp;NT\CurrentVersion\Network\Persistent Connections.) </P></TD></TR><TR><TD VALIGN="TOP"><P>Printers </P></TD><TD VALIGN="TOP"><P>Subkeys that describe the printers installed for the current user. To change printer values, click the <B>Start</B> button, point to <B>Settings</B>, then point to the  <B>Printers</B> folder.</P></TD></TR><TR><TD VALIGN="TOP"><P>Software </P></TD><TD VALIGN="TOP"><P>Subkeys that describe the current user's configurable settings for installed software that the user can use. This information has the same structure as HKEY_LOCAL_MACHINE\Software. This information contains application-specific information that was stored in the Win.ini file or private initialization files under Windows for MS-DOS.</P></TD></TR><TR><TD VALIGN="TOP"><P>UNICODE Program Groups </P></TD><TD VALIGN="TOP"><P>This subkey is not used in Windows&nbsp;NT&nbsp;4.0. If the computer was upgraded to Windows&nbsp;NT&nbsp;4.0 from a previous version of Windows&nbsp;NT, this subkey might contain old subkeys in binary form. However, neither this subkey nor any subkeys it contains holds valid data used by Windows&nbsp;NT&nbsp;4.0.</P></TD></TR><TR><TD VALIGN="TOP"><P>Windows&nbsp;3.1 Migrations Status</P></TD><TD VALIGN="TOP"><P>This subkey contains data only if the computer has been upgraded from Windows&nbsp;3.<I>x</I> to Windows&nbsp;NT&nbsp;4.0. It contains the subkeys that indicate whether Program Group (.grp) and .ini files have been successfully converted to the Windows&nbsp;NT&nbsp;4.0 format. If you delete this key, Windows&nbsp;NT tries to convert the files again when the system restarts. </P>
<P>There is also a Windows&nbsp;3.1 Migration Status subkey under HKEY_LOCAL_MACHINE\Software that tracks the conversion of .ini and Reg.dat files to the Windows&nbsp;NT format.</P></TD></TR></TBODY></TABLE>
<P CLASS="spacing"><BR></P><P></P>
<P></P>
<P CLASS="t">Whenever similar data exists in the HKEY_LOCAL_MACHINE subtree and the HKEY_CURRENT_USER subtree, the data in HKEY_CURRENT_USER takes precedence, as described earlier in "HKEY_LOCAL_MACHINE." The most significant example is environment variables, where variables defined for the user who is currently logged on take precedence over system variables. Use the System option in Control Panel to define system variables.</P>
<P CLASS="t">HKEY_CURRENT_USER is mapped to HKEY_USER\<I>SID_#</I>, where <I>SID_#</I> is the Security ID string of the current user. The Windows&nbsp;NT logon process builds a user's personal profile environment based upon what it finds in HKEY_USER\<I>SID_#. </I>If no such data is available, HKEY_CURRENT_USER is built from the data in <I>Systemroot</I>\Profiles\Default User\Ntuser.dat.</P>
<P></P>
<P CLASS="t"><B>Note</B></P>
<P>To find the name of the file that goes with a hive, see the HiveList subkey in HKEY_LOCAL_MACHINE\System\CurrentControlSet\Control. To find which hive file goes with a user profile (whether or not the user is logged on), see the ProfileList subkey under HKEY_LOCAL_MACHINE\Software\Microsoft\Windows&nbsp;NT\CurrentVersion. To locate a specific subkey quickly, you can use the <B>Find Key</B> command from the <B>View</B> menu in Registry Editor.</P>
<P></P></BODY></HTML>
