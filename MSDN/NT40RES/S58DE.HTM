<HTML><HEAD><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Graphics Handling:  Before and After</TITLE><META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset= iso-8859-1"><style>@import url(msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="msdn_ie3.css"></HEAD>
<BODY BGCOLOR="#FFFFFF"><FONT FACE="Verdana, Arial, Helvetica" SIZE="2"><FORM NAME="x"><OBJECT CLASSID="clsid:9c2ac687-ceef-11cf-96d9-00a0c903b016" NAME="iv"></OBJECT></FORM>
<H3>Graphics Handling:  Before and After</H3><P CLASS="t">Previous versions of Windows NT included the following elements:</P>
<UL><LI><I>Console</I>, which provides text window support, shutdown, and hard-error handling.</LI></UL><UL><LI><I>Window Manager</I> (USER), which controls window displays, manages screen output, collects input from keyboard, mouse and other devices, and passes user messages to applications.</LI></UL><UL><LI><I>Graphics Device Interface </I>(GDI<I>), </I>a library of APIs for graphics output devices. It includes functions for line, text and figure drawing and graphics manipulation. The Window Manager calls these APIs, but user-mode applications can call them directly.</LI></UL><UL><LI><I>Graphics Device Drivers</I>, which collect and format data for hardware-dependent drivers in the Executive. The graphics display drivers, printer drivers, multimedia drivers, and video display drivers were part of the Win32 subsystem and ran in user mode. These drivers then call kernel-mode drivers in the Executive which interact with the hardware.</LI></UL><UL><LI><I>Miscellaneous environment functions</I>, special functions for 32-bit Windows applications, like those for creating and deleting processes.</LI></UL><P CLASS="t">The following figures show how the contents of the Win32 subsystem have changed from Windows&nbsp;NT 3.51 to Windows&nbsp;NT 4.0.</P>
<P><img src="xwr_d01.gif"></P>
<P>Figure 5.1    Contents of the Win32 Subsystem under Windows&nbsp;NT 3.51</P>
<P><img src="xwr_d02.gif"></P>
<P>Figure 5.2    Contents of the Win32 Subsystem under Windows&nbsp;NT 4.0</P>
<P CLASS="t">In Windows&nbsp;NT&nbsp;4.0, the Window Manager, GDI, and Win32 Graphics Device Drivers have been incorporated into the Windows NT Executive. The user-mode portions of Window Manger and GDI, Gdi32.dll and User32.dll, remain in user mode, along with the Console and miscellaneous environment functions. They run in the process created by the Client Server Runtime Subsystem, Csrss.exe, which once included all graphics functions in Win32. The server side functions of GDI and Window Manager, previously known as Winsrv.dll, have been incorporated into the Executive as Win32k.sys.</P>
<P CLASS="t">For a complete description of these components, see the section on the Windows NT Executive, later in this chapter.</P></BODY></HTML>
