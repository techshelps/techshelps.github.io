<HTML><HEAD><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Bindings for Network Components</TITLE><META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset= iso-8859-1"><style>@import url(msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="msdn_ie3.css"></HEAD>
<BODY BGCOLOR="#FFFFFF"><FONT FACE="Verdana, Arial, Helvetica" SIZE="2"><FORM NAME="x"><OBJECT CLASSID="clsid:9c2ac687-ceef-11cf-96d9-00a0c903b016" NAME="iv"></OBJECT></FORM>
<H3>Bindings for Network Components</H3><P CLASS="t">For the networking software in a computer to operate properly, several different pieces of software must be loaded, and their relationships with other components must be established. These relationships are often called <I>bindings</I>. To determine the complete set of optimal bindings among an ensemble of configured network components, the system checks the following information in the Registry:</P>
<UL><LI>The set of network components to be configured</LI></UL><UL><LI>The types of network components in this set</LI></UL><UL><LI>The constraining parameters for the network components and their bindings</LI></UL><UL><LI>The possible bindings that could occur</LI></UL><UL><LI>The proper way to inform each network component about its bindings</LI></UL><P></P>
<P CLASS="t">During system startup, the CurrentControlSet\Services subkey is checked for binding information for each service. If any is found, a Linkage subkey is created, and values are stored. For example, these two strings might appear in a value entry under the CurrentControlSet\Services\LanmanWorkstation\Linkage subkey:</P>
<P CLASS="spacing"><BR></P>
<PRE>Bind = \Device\Nbf_Elnkii01  \Device\Nbf_Elnkii02</PRE>
<P></P>
<P CLASS="t">This entry describes the binding information used by the Windows&nbsp;NT Redirector when two separate network cards are present. Each network card's symbolic name is suffixed with a network card index number. This name is joined to the name of the transport through which the network card is accessed. The names are generated by the system according to the constraints defined by the network component's rules.</P>
<P CLASS="t">Bindings have a <I>usability</I> requirement that means the binding must terminate either at an adapter (that is, a physical device) or at a <I>logical endpoint</I>, which is simply a software component that manages all further interconnection information internally. This requirement avoids loading software components that can never be of actual use. For example, a user might have a running network and then choose to remove the adapter card. Without the usability restriction, the bindings still connect components and prepare them for loading even though the network is entirely unusable.</P>
<P></P>
<P CLASS="t">The following example uses Nbf.sys and Srv.sys in an ensemble with two Etherlink II network cards and an IBM Token Ring card. First, in the values in the CurrentControlSet\Services\Nbf\Linkage subkey are the following:</P>
<P CLASS="spacing"><BR></P>
<PRE>Bind=    "\Device\ElnkII1"
        "\Device\ElnkII2"
        "\Device\IbmTok1"
Export=    "\Device\Nbf\ElnkII1"
        "\Device\Nbf\ElnkII2"
        "\Device\Nbf\IbmTok1"
Route=    "ElnkIISys ElnkII1"
        "ElnkIISys ElnkII2"
        "IbmtokSys IbmTok1"</PRE>
<P></P>
<P CLASS="t">Under the CurrentControlSet\Services\Srv\Linkage subkey, the following might appear:</P>
<P CLASS="spacing"><BR></P>
<PRE>Bind=    "\Device\Nbf\ElnkII1"
         "\Device\Nbf\ElnkII2"
         "\Device\Nbf\IbmTok1"
Export=   "\Device\Srv\Nbf\ElnkII1"
         "\Device\Srv\Nbf\ElnkII2"
         "\Device\Srv\Nbf\IbmTok1"
Route=   "Nbf ElnkIISys ElnkII1"
         "Nbf ElnkIISys ElnkII2"
         "Nbf IbmtokSys IbmTok1"</PRE>
<P></P>
<P CLASS="t">The names in the <B>Bind</B> and <B>Export</B> entries are based upon the object names defined in the component's NetRules subkey; these value entries can therefore be different from the actual names of the services, although in the previous example, for the sake of clarity, they are not. The names in the <B>Route</B> entry are the names of the Services subkeys comprising the full downward route through the bindings protocol.</P>
<P CLASS="t">When the system finishes computing the bindings for network components and the results are stored in the Registry, some network components might need to be informed of changes that occurred. For example, TCP/IP must prompt the user for an IP address for any network adapter that has been newly configured. If the NetRules subkey for a network component has a value entry named <B>Review</B> set to a nonzero value, the .inf file for the network component will be checked every time the bindings are changed.</P>
<P></P></BODY></HTML>
