<HTML><HEAD><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>The Windows NT File System Cache</TITLE><META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset= iso-8859-1"><style>@import url(msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="msdn_ie3.css"></HEAD>
<BODY BGCOLOR="#FFFFFF"><FONT FACE="Verdana, Arial, Helvetica" SIZE="2"><FORM NAME="x"><OBJECT CLASSID="clsid:9c2ac687-ceef-11cf-96d9-00a0c903b016" NAME="iv"></OBJECT></FORM>
<H2>The Windows NT File System Cache</H2><P CLASS="t"><I>Cache</I> is a French word for a place to hide necessities or valuables. In computer terminology, a cache is an additional storage area close to the component that uses it. Caches are designed to save time: In general, the closer the data is, the quicker you can get to it.</P>
<P CLASS="t">Windows&nbsp;NT&nbsp;4.0 supports several cache architectures: caches on processor chips, caches on the motherboard, caches on physical disks, and caches in physical memory. This chapter describes the <I>file system cache</I>, a cache in physical memory through which data files pass on their way to and from disk or other peripheral devices.</P>
<P CLASS="t">The file system cache is designed to minimize the need for disk operations. When an application requests data from a file, the file system first searches the cache:</P>
<UL><LI>If the data is found in the cache, the Virtual Memory Manager copies it into the application's buffer and performs no disk I/O.</LI></UL><UL><LI>If the data is not in the cache, the Virtual Memory Manager searches elsewhere in memory. As a last resort, it looks on the disk.</LI></UL><P></P>
<P CLASS="t">When determining what to cache, the Windows&nbsp;NT Virtual Memory Manager tries to anticipate the application's future requests for code and data, as well as its immediate needs. It might map an entire file into the cache, if space permits. This increases the likelihood that data requested will be found there.</P>
<P CLASS="t">The file system cache actually consists of a series of section objects created and indexed by the Windows&nbsp;NT Cache Manager. When the Virtual Memory Manager needs space in the cache, the Cache Manager creates a new section object. The files are then mapped—not copied—into the file system cache, so they don't need to be backed up in the paging file. This frees the paging file for other code and data.</P></BODY></HTML>
