<HTML><HEAD><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>HKEY_LOCAL_MACHINE\Hardware Key</TITLE><META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset= iso-8859-1"><style>@import url(msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="msdn_ie3.css"></HEAD>
<BODY BGCOLOR="#FFFFFF"><FONT FACE="Verdana, Arial, Helvetica" SIZE="2"><FORM NAME="x"><OBJECT CLASSID="clsid:9c2ac687-ceef-11cf-96d9-00a0c903b016" NAME="iv"></OBJECT></FORM>
<H3>HKEY_LOCAL_MACHINE\Hardware Key</H3><P CLASS="t">The HKEY_LOCAL_MACHINE\Hardware key contains the hardware data in the Registry that is computed at system startup. This includes information about hardware components on the system board and about the interrupts hooked by specific hardware devices.</P>
<P CLASS="t">The Hardware key contains distinct and important sets of data in three subkeys—Description, DeviceMap, and ResourceMap. These keys are described in the following sections.</P>
<P></P>
<P CLASS="t">All information in HKEY_LOCAL_MACHINE\Hardware is <I>volatile</I>, which means that the settings are computed each time the system is started and then discarded when the system stops. Applications and device drivers use this subtree to read information about the system components, store data directly into the DeviceMap subkey, and store data indirectly into the ResourceMap subkey.    </P>
<P><img src="xwr_v12.gif"></P>
<P></P>
<P CLASS="t"><B>Tip</B></P>
<P>Do not try to edit the data in HKEY_LOCAL_MACHINE\Hardware; much of the information appears in binary format, making it difficult to decipher.</P>
<P>To view data about a computer's hardware in an easy-to-read format, run Windows&nbsp;NT Diagnostics, click the <B>Services</B> tab, and then click the <B>Devices</B> button (in the lower right corner of the tab). Windows&nbsp;NT Diagnostics extracts the information from the Registry and renders it in a more readable format.</P>
<P></P>
<P></P>
<H4><A NAME="sec0"></A>Description Subkey</H4><P CLASS="t">The Description subkey under HKEY_LOCAL_MACHINE\Hardware displays information from the hardware database built by the firmware, the Hardware Recognizer (<B>Ntdetect.com</B>), and the Windows&nbsp;NT Executive, which manages the interface between the Kernel and the environment subsystems:</P>
<UL><LI>On RISC-based computers, this hardware database is a copy of the ARC configuration database in the firmware. </LI></UL><UL><LI>On a computer with an Intel processor platform, this database consists of the data found by <B>Ntdetect.com</B> and <B>Ntoskernel.exe</B>. </LI></UL><UL><LI>On computers that are not PC-compatible, the manufacturer provides its own Hardware Recognizer.</LI></UL><P></P>
<P CLASS="t">The Hardware Recognizer for Intel-based computers detects the following items:</P>

<TABLE COLS="2" BORDER="0" CELLPADDING="7"><COLGROUP><COL WIDTH="168pt" VALIGN="TOP"><COL WIDTH="180pt" VALIGN="TOP"></COLGROUP><TBODY><TR><TD VALIGN="TOP"><P>Bus/adapter type</P></TD><TD VALIGN="TOP"><P>Video adapter</P></TD></TR><TR><TD VALIGN="TOP"><P>Keyboard</P></TD><TD VALIGN="TOP"><P>Floating-point coprocessor</P></TD></TR><TR><TD VALIGN="TOP"><P>SCSI adapters</P></TD><TD VALIGN="TOP"><P>Mouse</P></TD></TR><TR><TD VALIGN="TOP"><P>Communication ports</P></TD><TD VALIGN="TOP"><P>Floppy drives</P></TD></TR><TR><TD VALIGN="TOP"><P>Machine ID</P></TD><TD VALIGN="TOP"><P>Parallel ports</P></TD></TR></TBODY></TABLE>
<P CLASS="spacing"><BR></P><P></P>
<P></P>
<P CLASS="t"><B>Note</B></P>
<P>Network adapter cards are not detected as part of startup; they are detected either during Windows&nbsp;NT Setup or when you install a new network adapter. To install a network adapter, in Control Panel, double-click <B>Network</B>, click the <B>Adapters</B> tab, then click <B>Add</B>. For details, see "Network Settings in the Registry," later in this chapter.</P>
<P></P>
<P CLASS="t">The key HKEY_LOCAL_MACHINE\Hardware\Description\System\<I>MultifunctionAdapter</I> contains several other subkeys, each corresponding to specific bus controllers on the local computer. Each of these subkeys describes a class (or type) of controller, including controllers for disk drives, display, keyboard, parallel ports, pointing devices, serial ports, and SCSI devices. The subkey's path describes the type of component. The numbering for hardware components is zero-based, which means that, for example, the first (or only) disk controller appears under the 0 subkey.</P>
<P></P>
<P CLASS="t">The name of the <I>MultifunctionAdapter</I> subkey depends on the bus type. For example, for ISA and MCA buses the subkey name appears as MultifunctionAdapter. For EISA buses, the subkey name is EisaAdapter, and for TurboChannel buses, the subkey name is TcAdapter. Figure 23.8 shows a MultifunctionAdapter subkey.</P>
<P><img src="xwr_v13.gif"></P>
<P>Figure 23.8    A MultifunctionAdapter subkey for an ISA or MCA bus</P>
<P CLASS="t">For each detected hardware component, the optional <B>Component Information</B> and&nbsp;<B>Configuration Data </B>value entries store version and configuration data in binary format. The <B>Identifier</B> entry contains the name of a component, if specified. For&nbsp;details on these value entries, see Regentry.hlp, a Help file on the <I>Windows&nbsp;NT Workstation Resource Kit</I> CD.</P>
<H4><A NAME="sec1"></A>DeviceMap Subkey</H4><P CLASS="t">In the HKEY_LOCAL_MACHINE\Hardware\DeviceMap\<I>Device</I> key, each <I>Device</I> subkey contains one or more values to specify the location in the Registry for specific driver information for that kind of component. </P>
<P></P>
<P CLASS="t">Figure 23.9 shows an example of the DeviceMap subkey and the value entry for a selected device name.</P>
<P><img src="xwr_v14.gif"></P>
<P>Figure 23.9    A DeviceMap subkey showing the value entry for a serial mouse device</P>
<P CLASS="t">The value for each <I>Device</I> subkey describes an actual port name or the path for a <I>Service </I>subkey in HKEY_LOCAL_MACHINE\System\ControlSet<I>nnn</I>\Services, which contains information about a device driver. That <I>Service</I> subkey contains the information a system administrator might need for troubleshooting and is also the information presented about the device by Windows&nbsp;NT Diagnostics.</P>
<P CLASS="t">Figure 23.10 shows DeviceMap entries for a computer that has multiple SCSI adapters.</P>
<P><img src="xwr_v15.gif"></P>
<P>Figure 23.10   A DeviceMap subkey with value entries for multiple SCSI adapters</P>
<H4><A NAME="sec2"></A>ResourceMap Subkey</H4><P CLASS="t">The ResourceMap subkey under HKEY_LOCAL_MACHINE\Hardware maps device drivers to resources that the drivers use. Each ResourceMap subkey contains data reported by the device driver about its use of I/O ports, I/O memory addresses, interrupts, direct memory access (DMA) channels, and so on. The data in the ResourceMap subkey is volatile, meaning that the subkey is recreated each time you start Windows&nbsp;NT. </P>
<P CLASS="t">Under the ResourceMap subkey, there are <I>DeviceClass</I> subkeys for the general class (or type) of devices. Each of these subkeys contains one or more <I>DriverName</I> subkeys with information about a specific driver. For example, in Figure 23.11, Sermouse is the <I>DriverName </I>subkey under the PointerPort <I>DeviceClass</I> subkey. (The driver names in these subkeys match the services listed in HKEY_LOCAL_MACHINE\System\CurrentControlSet\Services.)</P>
<P><img src="xwr_v16.gif"></P>
<P>Figure 23.11   A DeviceMap subkey showing the value entry for a device</P>
<H4><A NAME="sec3"></A>OwnerMap Subkey</H4><P CLASS="t">The OwnerMap subkey under HKEY_LOCAL_MACHINE\Hardware appears in the Registry only when certain types of device bus, such as a PCI device bus, are installed on the computer. The OwnerMap subkey contains operating system data to associate drivers of a specified type with devices of the same type on each installed bus. This subkey is new to Windows&nbsp;NT&nbsp;4.0. Figure 23.12 shows a typical configuration of OwnerMap.</P>
<P><img src="xwr_v17.gif"></P>
<P>Figure 23.12   The OwnerMap subkey</P></BODY></HTML>
