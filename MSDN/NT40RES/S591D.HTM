<HTML><HEAD><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Generating and Viewing Short Filenames</TITLE><META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset= iso-8859-1"><style>@import url(msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="msdn_ie3.css"></HEAD>
<BODY BGCOLOR="#FFFFFF"><FONT FACE="Verdana, Arial, Helvetica" SIZE="2"><FORM NAME="x"><OBJECT CLASSID="clsid:9c2ac687-ceef-11cf-96d9-00a0c903b016" NAME="iv"></OBJECT></FORM>
<H3>Generating and Viewing Short Filenames</H3><P CLASS="t">Filenames on Windows&nbsp;NT platforms can be up to 256 characters, and can contain spaces, multiple periods, and special characters that are illegal in MS-DOS filenames. These long filenames use the 16-bit Unicode character set. Windows&nbsp;NT makes it possible to access files with long names from other operating systems by automatically generating an MS-DOS-readable (eight-plus-three) name for each file. This way, files are accessible over a network by computers using the MS-DOS, Windows 3.1<I>x</I>, and OS/2 operating systems, as well as by computers using Windows&nbsp;NT and Windows&nbsp;95 operating systems.</P>
<P CLASS="t">By creating eight-plus-three filenames for files, Windows&nbsp;NT also enables MS-DOS-based and Windows-based 3.<I>x</I> applications to recognize and load files that have long filenames. In addition, when an application saves a file on a computer running Windows&nbsp;NT, both the eight-plus-three filename and long filename are retained.</P>
<P></P>
<P CLASS="t"><B>Note</B></P>
<P>Use caution with MS-DOS-based or Windows 3.<I>x</I>-based applications when running under Windows&nbsp;NT. With these applications, if you save a file to a temporary file, delete the original file, and rename the temporary file to the original filename, the long filename is lost. Any unique permissions set on that file are also lost. </P>
<P></P>
<P CLASS="t">If the long name of a file or folder contains spaces, be sure to surround the name with quotation marks. For instance, if you have a program called DUMP DISK FILES that you want to run from the Start icon and you enter the name without quotation marks, you will get an error message that says "cannot find the program DUMP or one of its components."</P>
<P CLASS="t">You must also use quotation marks when a path typed at the command line includes spaces, as in the following example:</P>
<P CLASS="spacing"><BR></P>
<PRE>move "c:\This month's reports\*.*" "c:\Last month's reports"
</PRE>
<P CLASS="t">Use wildcards such as * and ? carefully in conjunction with the <B>del</B> and <B>copy</B> command prompt commands. Windows&nbsp;NT searches both long and short filenames for matches to the wildcard combination you specify, which can cause extra files to be deleted or copied.</P>
<P CLASS="t">To copy or move files with case-sensitive long filenames, it is safest to select the files using a mouse in Windows&nbsp;NT Explorer and My Computer. That way, you can clearly identify which files you want to copy or move.</P>
<P CLASS="t">Because both the FAT file system and the NTFS file system use the Unicode character set for their names, there are several illegal characters that MS-DOS cannot read in any filename. To generate a short MS-DOS-readable filename for a file, Windows&nbsp;NT deletes all of these characters from the long filename and removes any spaces. Since an MS-DOS-readable filename can have only one period, Windows&nbsp;NT also removes all extra periods from the filename. Next, Windows&nbsp;NT truncates the filename, if necessary, to six characters and appends a tilde (~) and a number. For example, each nonduplicate filename is appended with <B>~1</B>. Duplicate filenames end with <B>~2</B>, <B>~3</B>, and so on. Filename extensions are truncated to three or fewer characters. Finally, when displaying filenames at the command line, Windows&nbsp;NT translates all characters in the filename and extension to uppercase. </P>
<P CLASS="t">When there are five or more files that would result in duplicate short filenames, Windows&nbsp;NT uses a slightly different method for creating short filenames. For the fifth and subsequent files, Windows&nbsp;NT: </P>
<UL><LI>Uses only the first two letters of the long filename.</LI></UL><UL><LI>Generates the next four letters of the short filename by mathematically manipulating the remaining letters of the long filename.</LI></UL><UL><LI>Appends ~1 (or another number, if necessary, to avoid a duplicate filename) to the result. </LI></UL><P></P>
<P CLASS="t">This method provides substantially improved performance when Windows&nbsp;NT must create short filenames for a large number of files with similar long filenames. Windows&nbsp;NT uses this method to create short filenames for both FAT and NTFS volumes.</P>
<P CLASS="t">For example, these are the long and short filenames for six files that you create in the order test 1 through test 6.</P>

<TABLE COLS="2" BORDER="0" CELLPADDING="7"><COLGROUP><COL WIDTH="174pt" VALIGN="TOP"><COL WIDTH="174pt" VALIGN="TOP"></COLGROUP><TBODY><TR><TD VALIGN="TOP"><P CLASS="th"><B>Long filename</B></P></TD><TD VALIGN="TOP"><P CLASS="th"><B>Short filename</B></P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P></P></TD></TR><TR><TD VALIGN="TOP"><P>This is test 1.txt</P></TD><TD VALIGN="TOP"><P>THISIS~1.TXT</P></TD></TR><TR><TD VALIGN="TOP"><P>This is test 2.txt</P></TD><TD VALIGN="TOP"><P>THISIS~2.TXT</P></TD></TR><TR><TD VALIGN="TOP"><P>This is test 3.txt</P></TD><TD VALIGN="TOP"><P>THISIS~3.TXT</P></TD></TR><TR><TD VALIGN="TOP"><P>This is test 4.txt</P></TD><TD VALIGN="TOP"><P>THISIS~4.TXT</P></TD></TR><TR><TD VALIGN="TOP"><P>This is test 5.txt</P></TD><TD VALIGN="TOP"><P>TH0FF9~1.TXT</P></TD></TR><TR><TD VALIGN="TOP"><P>This is test 6.txt</P></TD><TD VALIGN="TOP"><P>THFEF5~1.TXT</P></TD></TR></TBODY></TABLE>
<P CLASS="spacing"><BR></P><P></P>
<P CLASS="t">However, when you create the files in the order shown in this table, you get the following short filenames.</P>

<TABLE COLS="2" BORDER="0" CELLPADDING="7"><COLGROUP><COL WIDTH="174pt" VALIGN="TOP"><COL WIDTH="174pt" VALIGN="TOP"></COLGROUP><TBODY><TR><TD VALIGN="TOP"><P CLASS="th"><B>Long filename</B></P></TD><TD VALIGN="TOP"><P CLASS="th"><B>Short filename</B></P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P></P></TD></TR><TR><TD VALIGN="TOP"><P>This is test 2.txt</P></TD><TD VALIGN="TOP"><P>THISIS~1.TXT</P></TD></TR><TR><TD VALIGN="TOP"><P>This is test 3.txt</P></TD><TD VALIGN="TOP"><P>THISIS~2.TXT</P></TD></TR><TR><TD VALIGN="TOP"><P>This is test 1.txt</P></TD><TD VALIGN="TOP"><P>THISIS~3.TXT</P></TD></TR><TR><TD VALIGN="TOP"><P>This is test 4.txt</P></TD><TD VALIGN="TOP"><P>THISIS~4.TXT</P></TD></TR><TR><TD VALIGN="TOP"><P>This is test 5.txt</P></TD><TD VALIGN="TOP"><P>TH0FF9~1.TXT</P></TD></TR><TR><TD VALIGN="TOP"><P>This is test 6.txt</P></TD><TD VALIGN="TOP"><P>THFEF5~1.TXT</P></TD></TR></TBODY></TABLE>
<P CLASS="spacing"><BR></P><P></P>
<P CLASS="t">Windows&nbsp;NT displays the long names for folders and files. You can use Windows&nbsp;NT Explorer and My Computer to see the short name by selecting the file or folder and selecting <B>Properties</B> on the <B>File</B> menu.</P>
<P CLASS="t">From the command line, to see both the long and short filenames for each file in the folder, type the following command:</P>
<P CLASS="spacing"><BR></P>
<PRE>dir /x
</PRE>
<P></P>
<P CLASS="t"><B>Tip</B></P>
<P>To display both long and short filenames automatically when using the <B>dir</B> command, use the System option in Control Panel to set the <B>dircmd</B> variable to the value <B>/x</B>.</P>
<P></P></BODY></HTML>
