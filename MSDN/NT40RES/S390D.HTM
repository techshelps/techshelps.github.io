<HTML><HEAD><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Dual-booting on x86-based Computers</TITLE><META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset= iso-8859-1"><style>@import url(msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="msdn_ie3.css"></HEAD>
<BODY BGCOLOR="#FFFFFF"><FONT FACE="Verdana, Arial, Helvetica" SIZE="2"><FORM NAME="x"><OBJECT CLASSID="clsid:9c2ac687-ceef-11cf-96d9-00a0c903b016" NAME="iv"></OBJECT></FORM>
<H3>Dual-booting on x86-based Computers</H3><P CLASS="t">When your system partition contains the Windows&nbsp;NT Partition Boot Sector, Windows&nbsp;NT supports dual-booting between one or more instances of Windows&nbsp;NT and one additional operating system. The additional operating systems that are currently supported are MS-DOS, Windows&nbsp;95, and OS/2, versions 1.1 and 1.3. OS/2 versions 2.<I>x</I> might work, but are not supported. </P>
<P CLASS="t">You can also triple-boot Windows&nbsp;NT, Windows&nbsp;95, and MS-DOS. You can install and start up other operating systems from your hard disk, but you need to change the system partition. For procedures to change the system partition, see "Setting the System Partition," presented earlier in this chapter.</P>
<P CLASS="t">When you install a Windows&nbsp;NT operating system on an x86-based computer, Windows&nbsp;NT Setup copies the first sector of the system partition (the Partition Boot Sector) to a file named Bootsect.dos. It then replaces the Partition Boot Sector with its own Partition Boot Sector.</P>
<P CLASS="t">When you start your computer and the system partition contains the Windows&nbsp;NT Partition Boot Sector, the code in the Partition Boot Sector loads the Windows&nbsp;NT boot loader, NTLDR. The boot loader screen enables you to choose which Windows&nbsp;NT installation to start, or to start another operating system that is defined on the boot loader screen.</P>
<P CLASS="t">If you select an operating system other than Windows&nbsp;NT from the boot loader screen, NTLDR loads and starts the Bootsect.dos file. This functionality results in the other operating system starting as if NTLDR had not intervened. In the case of MS-DOS, the Bootsect.dos code looks for IO.sys; in the case of OS/2, the Bootsect.dos code looks for Os2ldr.exe.</P>
<H4><A NAME="sec0"></A>Configuring for Windows&nbsp;NT and MS-DOS </H4><P CLASS="t">You can dual-boot between Windows&nbsp;NT and MS-DOS on an x86-based computer. </P>
<P CLASS="t">Configuring your computer is easier if you install MS-DOS before you install Windows&nbsp;NT. If you decide to install MS-DOS after you have installed Windows&nbsp;NT, MS-DOS overwrites the Windows&nbsp;NT information in the Partition Boot Sector with its own information. You should have a current Emergency Repair Disk for the computer on which you are installing MS-DOS.</P>
<P CLASS="t">If you have already installed Windows&nbsp;NT and want to install MS-DOS, use one of the following procedures. After you install MS-DOS, you will need to replace the MS-DOS Partition Boot Sector with the Windows&nbsp;NT Partition Boot Sector. </P>
<H5 CLASS="h4"><A NAME="sec1"></A>To Install MS-DOS from floppy disks</H5><P>    1.    Boot from the A drive. The MS-DOS Setup program executes. Install MS-DOS following the instructions in the program.</P>
<P>    2.    When MS-DOS Setup completes, remove the floppy disk from the A drive.</P>
<P>    3.    Restore the Windows&nbsp;NT Partition Boot Sector by using the procedure described later in this section. </P>
<P>    4.    When you restart after replacing the Partition Boot Sector, you have a dual-boot computer.</P>
<P></P>
<H5 CLASS="h4"><A NAME="sec2"></A>To Install MS-DOS from the network</H5><P>    1.    Install MS-DOS from the network by executing Setup.exe. </P>
<P>    2.    When MS-DOS Setup completes, restore the Windows&nbsp;NT Partition Boot Sector by using the procedure described later in this section.</P>
<P>    3.    When you restart after the replacing the Partition Boot Sector, you have a dual-boot computer.</P>
<P></P>
<P CLASS="t">After you install MS-DOS, you need to replace the MS-DOS Partition Boot Sector with the Windows&nbsp;NT one. To be able to dual-boot MS-DOS, you also need to create the file Bootsect.dos. The next procedure does both of these things.</P>
<H5 CLASS="h4"><A NAME="sec3"></A>To Restore the Windows&nbsp;NT Partition Boot Sector</H5><P>    1.    Start up the computer from the Windows NT Setup disk 1. Follow the instructions to insert disk 2. When Windows&nbsp;NT Setup asks what you want to do, select the option to Repair by pressing the R key. Windows&nbsp;NT Setup displays the following options:</P>
<P CLASS="spacing"><BR></P>
<PRE>[X]  Inspect registry files 
[X]  Inspect startup environment
[X]  Verify Windows NT system files
[X]  Inspect boot sector
Continue (perform selected tasks)
</PRE>
<P>    2.    Clear all selections except the last one, <B>Inspect boot sector</B>. Select <B>Continue (perform selected tasks)</B> and press ENTER. </P>
<P>    3.    Insert Setup Disk 3 when prompted. </P>
<P>    4.    You are prompted for the Emergency Repair Disk. Setup displays the following messages after it has finished processing the Emergency Repair Disk:</P>
<P CLASS="spacing"><BR></P>
<PRE>Setup has completed repairs.
If there is a floppy disk inserted in drive A:, remove it.
Press ENTER to restart your computer.
</PRE>
<P></P>
<P CLASS="t">When you restart the computer, you can select a Windows&nbsp;NT installation or MS-DOS from boot loader screen.</P>
<P CLASS="t">After you have installed MS-DOS and replaced the Partition Boot Sector, it is a good idea to make a MS-DOS bootable floppy disk. This floppy disk should include the MS-DOS files, as well as the Master Boot Record and Partition Boot Sector for each boot partition. See "MS-DOS Bootable Floppy Disk" in Chapter 20, "Preparing for and Performing Recovery," for information about creating this disk.</P>
<H4><A NAME="sec4"></A>Configuring for Windows&nbsp;NT and Windows&nbsp;95 </H4><P CLASS="t">You can configure your computer to start either of these two operating systems. Currently, your installations are easier and less error-prone if you install Windows&nbsp;95 first and then install Windows&nbsp;NT. This order is recommended because sometimes Windows&nbsp;95 replaces a Windows&nbsp;NT Partition Boot Sector with its own Partition Boot Sector. A Windows&nbsp;95 Partition Boot Sector causes a problem for NTFS volumes, because the Windows&nbsp;95 Partition Boot Sector is for a FAT partition. Windows&nbsp;NT can no longer access the NTFS volume. If you install Windows&nbsp;95 first, use the installation procedures provided with the Windows&nbsp;95 CD-ROM.</P>
<P CLASS="t">If you want to be able to triple-boot Windows&nbsp;95, Windows&nbsp;NT, and MS-DOS, you should install MS-DOS first, as described in "Triple-booting Windows&nbsp;NT, Windows&nbsp;95, and MS-DOS," presented later in this chapter. </P>
<P CLASS="t">If you have Windows&nbsp;NT installed, and want to be able to install and dual-boot Windows&nbsp;95, you must configure Windows&nbsp;NT to dual-boot with MS-DOS. See "Configuring for Windows&nbsp;NT and MS-DOS," presented earlier in this chapter, for the procedures to install MS-DOS if you do not already have it installed. Then use the procedures described in "Triple-booting Windows&nbsp;NT, Windows&nbsp;95, and MS-DOS," presented later in this chapter.</P>
<H4><A NAME="sec5"></A>Configuring for Windows&nbsp;NT, Windows&nbsp;95, and MS-DOS</H4><P CLASS="t">On an x86-based computer, you can configure your computer to triple-boot one of these three operating systems. You should install them in the following order:</P>
<UL><LI>MS-DOS </LI></UL><UL><LI>Windows 95 </LI></UL><UL><LI>Windows NT </LI></UL><P></P>
<P CLASS="t">Install each of these operating systems using their standard installation procedure. To start Windows&nbsp;NT, select the instance to start on the boot loader screen. You can also select Windows&nbsp;95 from the boot loader screen.</P>
<P CLASS="t">To start MS-DOS, first select Windows&nbsp;95 from the boot loader screen. Select Enter on the screen, and press either the F4 or the F8 key. When you press F8, Windows&nbsp;95 displays its <B>Startup</B> menu. <B>Select Previous version of MS-DOS</B> to start MS-DOS. Using the F4 key bypasses the Windows&nbsp;95 <B>Startup</B> menu and starts MS-DOS directly.</P>
<P CLASS="t">Another way to be able to start all three of these operating systems is to configure your computer for a dual-boot of Windows&nbsp;NT and Windows&nbsp;95, and start MS-DOS from an MS-DOS bootable floppy disk.</P>
<P CLASS="t">If you install Windows&nbsp;95 in an existing Windows folder rather than doing a clean install, you need to edit Msdos.sys to enable Windows&nbsp;95 to dual-boot MS-DOS. Do this by making the file visible, and then turning off the read only attribute. You can then change the file.</P>
<H5 CLASS="h4"><A NAME="sec6"></A>To Enable startup of MS-DOS from Windows&nbsp;95</H5><P>    1.    On the <B>View</B> menu of My Computer or Windows&nbsp;NT Explorer, click <B>Options</B>.</P>
<P>    2.    On the <B>Options</B> tab, select <B>Show all files</B>. Click <B>OK</B>.</P>
<P>    3.    Find Msdos.sys and click the filename. </P>
<P>    4.    On the <B>File</B> menu, click <B>Properties</B>. </P>
<P>    5.    In the <B>Attributes</B> box of the <B>General</B> tab, clear the <B>Read Only</B> and <B>Hidden</B> check boxes, and then click <B>OK</B>.</P>
<P>    6.    Using a text editor, such as Notepad, add the following line to the [Options] section of Msdos.sys:</P>
<P>BootMulti=1 </P>
<P></P>
<P CLASS="t">If you upgrade or reinstall Windows&nbsp;95, Setup deletes any of these files that it finds in your MS-DOS folder and replaces them with the Windows&nbsp;95 versions in the Windows95 folder and Windows95\Command folder:</P>

<TABLE COLS="4" BORDER="0" CELLPADDING="7"><COLGROUP><COL WIDTH="78pt" VALIGN="TOP"><COL WIDTH="90pt" VALIGN="TOP"><COL WIDTH="90pt" VALIGN="TOP"><COL WIDTH="90pt" VALIGN="TOP"></COLGROUP><TBODY><TR><TD VALIGN="TOP"><P>Ansi.sys</P></TD><TD VALIGN="TOP"><P>Doskey.com</P></TD><TD VALIGN="TOP"><P>Keyb.com</P></TD><TD VALIGN="TOP"><P>Ramdrive.sys</P></TD></TR><TR><TD VALIGN="TOP"><P>Attrib.sys</P></TD><TD VALIGN="TOP"><P>Drvspace.bin</P></TD><TD VALIGN="TOP"><P>Keyboard.sys</P></TD><TD VALIGN="TOP"><P>Readme.txt</P></TD></TR><TR><TD VALIGN="TOP"><P>Chkdsk.exe</P></TD><TD VALIGN="TOP"><P>Drvspace.exe</P></TD><TD VALIGN="TOP"><P>Label.exe</P></TD><TD VALIGN="TOP"><P>Scandisk.exe</P></TD></TR><TR><TD VALIGN="TOP"><P>Choice.com</P></TD><TD VALIGN="TOP"><P>Drvspace.sys</P></TD><TD VALIGN="TOP"><P>Mem.exe</P></TD><TD VALIGN="TOP"><P>Scandisk.ini</P></TD></TR><TR><TD VALIGN="TOP"><P>Country.sys</P></TD><TD VALIGN="TOP"><P>Edit.com</P></TD><TD VALIGN="TOP"><P>Mode.com</P></TD><TD VALIGN="TOP"><P>Server.exe</P></TD></TR><TR><TD VALIGN="TOP"><P>Dblspace.bin</P></TD><TD VALIGN="TOP"><P>Edit.hlp</P></TD><TD VALIGN="TOP"><P>More.com</P></TD><TD VALIGN="TOP"><P>Share.exe</P></TD></TR><TR><TD VALIGN="TOP"><P>Dblspace.exe</P></TD><TD VALIGN="TOP"><P>Ega.cpi</P></TD><TD VALIGN="TOP"><P>Move.exe</P></TD><TD VALIGN="TOP"><P>Smartdrv.exe</P></TD></TR><TR><TD VALIGN="TOP"><P>Dblspace.sys </P></TD><TD VALIGN="TOP"><P>Emm386.exe</P></TD><TD VALIGN="TOP"><P>Mscdex.exe</P></TD><TD VALIGN="TOP"><P>Sort.exe</P></TD></TR><TR><TD VALIGN="TOP"><P>Debug.exe</P></TD><TD VALIGN="TOP"><P>Fc.exe</P></TD><TD VALIGN="TOP"><P>Msd.exe</P></TD><TD VALIGN="TOP"><P>Start.exe</P></TD></TR><TR><TD VALIGN="TOP"><P>Defrag.exe</P></TD><TD VALIGN="TOP"><P>Fdisk.exe</P></TD><TD VALIGN="TOP"><P>Networks.txt</P></TD><TD VALIGN="TOP"><P>Subst.exe</P></TD></TR><TR><TD VALIGN="TOP"><P>Deltree.exe</P></TD><TD VALIGN="TOP"><P>Find.exe</P></TD><TD VALIGN="TOP"><P>Nlsfunc.exe</P></TD><TD VALIGN="TOP"><P>Sys.com</P></TD></TR><TR><TD VALIGN="TOP"><P>Diskcopy.exe</P></TD><TD VALIGN="TOP"><P>Format.com</P></TD><TD VALIGN="TOP"><P>Os2.txt</P></TD><TD VALIGN="TOP"><P>Xcopy.exe</P></TD></TR><TR><TD VALIGN="TOP"><P>Display.sys</P></TD><TD VALIGN="TOP"><P>Help.com</P></TD><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P></P></TD></TR></TBODY></TABLE>
<P CLASS="spacing"><BR></P><P></P>
<P CLASS="t">If you already have a dual-boot configuration of Windows&nbsp;NT and MS-DOS, you can install Windows&nbsp;95 by using the following procedure. You should have a current Emergency Repair Disk for your Windows&nbsp;NT installation(s).</P>
<H5 CLASS="h4"><A NAME="sec7"></A>To Install Windows&nbsp;95 on a Windows&nbsp;NT/MS-DOS dual-boot configuration </H5><P>    1.    Shut down Windows&nbsp;NT and restart your computer. Select <B>MS-DOS</B> from the boot loader screen. </P>
<P>    2.    Install Windows&nbsp;95. Make sure you install Windows&nbsp;95 to a separate folder, and not the Windows&nbsp;NT %<I>systemroot</I>% folder. </P>
<P></P>
<P CLASS="t">After you successfully install Windows&nbsp;95 and restart the computer, the Windows&nbsp;NT boot loader screen should appear and you can choose between Windows&nbsp;NT and Windows&nbsp;95. Windows&nbsp;95 is the first entry on the screen. If you want to make Windows&nbsp;NT the default, see "Contents and Purpose of Boot.ini," presented later in this chapter, for information about changing the order of the selections. </P>
<P CLASS="t">If the Windows&nbsp;NT boot loader screen does not appear, restore the Windows&nbsp;NT Partition Boot Sector by using the procedure in "Dual-booting Windows&nbsp;NT and MS-DOS," presented earlier in this chapter. </P>
<P></P>
<P CLASS="t"><B>Note</B></P>
<P>If you do not install Windows&nbsp;95 on the C drive, Windows&nbsp;95 Setup creates a hidden, read only folder on your C drive that has the same name as the folder into which you are installing Windows&nbsp;95. </P>
<P></P>
<H4><A NAME="sec8"></A>Configuring for a Multi-boot With OS/2</H4><P CLASS="t">If you want to install OS/2, this is the order in which you should install the operating systems:</P>
<UL><LI>MS-DOS</LI></UL><UL><LI>Windows&nbsp;95</LI></UL><UL><LI>Windows&nbsp;NT</LI></UL><UL><LI>OS/2</LI></UL><P></P>
<P CLASS="t">This is the safest order in which to install all four operating systems. MS-DOS, Windows&nbsp;95, and Windows NT all have to share a system partition (C:), but can be installed on their own individual partition. They can also be installed in the same partition, but Windows&nbsp;95 and Windows&nbsp;NT must be installed in different folders. OS/2 requires its own primary partition on the first hard disk, and also requires a second, small primary partition for the BOOTLOADER. </P>
<P CLASS="t">If done correctly, the startup sequence will be:</P>
<P>    1.    The OS/2 bootloader loads, and you have the choice of starting from the OS/2 partition, or starting from the MS-DOS/Windows&nbsp;95/Windows&nbsp;NT system partition.</P>
<P>    2.    When the Windows&nbsp;NT boot loader loads, you can select from one or more versions of Windows&nbsp;NT or Windows&nbsp;95.</P>
<P>    3.    If you select Windows&nbsp;95, you can press F8 and get the Windows&nbsp;95 <B>Startup</B> menu, which allows you to start Windows&nbsp;95, the Windows&nbsp;95 command prompt only, or the previous version of MS-DOS.</P>
<P></P>
<P CLASS="t">The above sequence work if you install fewer than the four operating systems.</P></BODY></HTML>
