<HTML><HEAD><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Adding Remote System Names by Using #PRE</TITLE><META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset= iso-8859-1"><style>@import url(msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="msdn_ie3.css"></HEAD>
<BODY BGCOLOR="#FFFFFF"><FONT FACE="Verdana, Arial, Helvetica" SIZE="2"><FORM NAME="x"><OBJECT CLASSID="clsid:9c2ac687-ceef-11cf-96d9-00a0c903b016" NAME="iv"></OBJECT></FORM>
<H3>Adding Remote System Names by Using #PRE</H3><P CLASS="t">Using #PRE entries improves access to the identified computers because name and IP address mappings are contained in the computer's cache memory. However, by default, Windows&nbsp;NT limits the preload name cache to 100 entries. (This limit affects only entries marked with the #PRE keyword.)</P>
<P CLASS="t">If you specify more than 100 #PRE entries, only the first 100 #PRE entries are preloaded into the computer's cache. Any additional #PRE entries are ignored at startup and are used only if name resolution by the cache and IP broadcast fails. Windows NT then parses the complete LMHOSTS file which contains all the entries, including the #PRE entries that exceeded the cache limit of 100.</P>
<P CLASS="t">You can change the default maximum allowed #PRE entries by adding a <B>MaxPreLoads</B> value entry to the Registry. This value entry must be added to the following Registry key: </P>
<P CLASS="spacing"><BR></P>
<PRE>HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services\Netbt\Parameters 
</PRE>
<P CLASS="t">For example, the LMHOSTS file could contain the following information:</P>
<P CLASS="spacing"><BR></P>
<PRE>102.54.94.91        accounting                #accounting server
102.54.94.94        payroll                    #payroll server
102.54.94.97        stockquote        #PRE        #stock quote server
102.54.94.102    printqueue                #print server in Bldg 7
</PRE>
<P></P>
<P CLASS="t">In this example, the server named stockquote is preloaded into the name cache, because it is tagged with the #PRE keyword. The servers named accounting, payroll, and printqueue would be resolved only after the cache entries failed to match and after broadcast queries failed to locate them. After non-preloaded entries are resolved, their mappings are cached for a period of time for reuse. </P></BODY></HTML>
