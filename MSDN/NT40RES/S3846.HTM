<HTML><HEAD><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>When the Security Log Is Full</TITLE><META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset= iso-8859-1"><style>@import url(msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="msdn_ie3.css"></HEAD>
<BODY BGCOLOR="#FFFFFF"><FONT FACE="Verdana, Arial, Helvetica" SIZE="2"><FORM NAME="x"><OBJECT CLASSID="clsid:9c2ac687-ceef-11cf-96d9-00a0c903b016" NAME="iv"></OBJECT></FORM>
<H3>When the Security Log Is Full</H3><P CLASS="t">If you have set the security log either to "Overwrite Events Older than <I>n</I> Days" or "Do Not Overwrite Events (Clear Log Manually)", you might want to enable CrashOnAuditFail. The CrashOnAuditFail registry entry directs the operating system to crash (shutdown abnormally and display a blue screen) when the audit log is full. This assures that no auditable activities, including security violations, occur while the system is unable to log them. To enable CrashOnAuditFail, use the Registry Editor to create the following Registry key value:</P>

<TABLE COLS="2" BORDER="0" CELLPADDING="7"><COLGROUP><COL WIDTH="50pt" VALIGN="TOP"><COL WIDTH="308pt" VALIGN="TOP"></COLGROUP><TBODY><TR><TD VALIGN="TOP"><P>Hive:</P></TD><TD VALIGN="TOP"><P>HKEY_LOCAL_MACHINE\SYSTEM</P></TD></TR><TR><TD VALIGN="TOP"><P>Key:</P></TD><TD VALIGN="TOP"><P>\CurrentControlSet\Control\Lsa</P></TD></TR><TR><TD VALIGN="TOP"><P>Name:</P></TD><TD VALIGN="TOP"><P>CrashOnAuditFail</P></TD></TR><TR><TD VALIGN="TOP"><P>Type:</P></TD><TD VALIGN="TOP"><P>REG_DWORD</P></TD></TR><TR><TD VALIGN="TOP"><P>Values:</P></TD><TD VALIGN="TOP"><P>1    Crash if the audit log is full.</P>
<P>2    (This value is set by the operating system just before it crashes due a full audit log. While the value is 2, only the administrator can log on to the computer. This value confirms the cause of the crash. To reset, change this value back to 1.)</P></TD></TR></TBODY></TABLE>
<P CLASS="spacing"><BR></P><P></P>
<P CLASS="t">The changes take effect the next time the computer is started. You might want to update the Emergency Repair Disk to reflect these changes. Note that there is no 0 value for this key. To disable CrashOnAuditFail, delete the key from the registry.  </P>
<P CLASS="t">If Windows&nbsp;NT halts as a result of the security log becoming full, the system must be restarted and reconfigured to restore it to high-level security. When Windows&nbsp;NT restarts, the Security log is full and so no auditable actions are recorded until the Security log is cleared.</P>
<H4><A NAME="sec0"></A>To recover when Windows&nbsp;NT halts because it cannot generate an audit event record</H4><P>    1.    Restart the computer and log on using an account in the Administrators group.</P>
<P>    2.    Use Event Viewer to clear all events from the Security log, archiving the currently logged events. For details, see the "Event Viewer" chapter in the Windows&nbsp;NT Workstation or Windows&nbsp;NT Server <I>System Guide</I>. </P>
<P>    3.    Use the Registry Editor to change the value of <B>CrashOnAuditFail</B>, to <B>1</B>, under HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\Lsa (as described earlier in this section).</P>
<P>    4.    Exit, and then restart the computer.</P>
<P></P></BODY></HTML>
