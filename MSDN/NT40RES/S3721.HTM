<HTML><HEAD><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Monitoring Processes</TITLE><META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset= iso-8859-1"><style>@import url(msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="msdn_ie3.css"></HEAD>
<BODY BGCOLOR="#FFFFFF"><FONT FACE="Verdana, Arial, Helvetica" SIZE="2"><FORM NAME="x"><OBJECT CLASSID="clsid:9c2ac687-ceef-11cf-96d9-00a0c903b016" NAME="iv"></OBJECT></FORM>
<H3>Monitoring Processes</H3><P CLASS="t">Click the Task Manager Processes tab to see a list of running processes and measures of their performance. The Task Manager process table includes all processes that run in their own address space, including all applications and system services. From the <B>Options</B> menu, click <B>Show 16-bit Tasks</B> to include those in the display.</P>
<P CLASS="t">For a description of the most common system services that appear in the list, see "System Processes," in Chapter 9, "The Art of Performance Monitoring."</P>
<P CLASS="t"><B>Note</B></P>
<P>Task Manager displays its values in kilobytes, which are units of 1024 bytes. When comparing Performance Monitor and Task Manager values, multiply Task Manager values by 1024. For example, 108K bytes of memory usage for Explorer.exe, shown below, equals 110,592 bytes in Performance Monitor.</P>
<P><img src="xwr_j05.gif"></P>
<P CLASS="t">From the <B>View</B> menu, click <B>Select Columns</B> to add to or remove performance measures from the display. The following table briefly describes the measures and their Performance Monitor counterparts, if any.</P>

<TABLE COLS="8" BORDER="0" CELLPADDING="7"><COLGROUP><COL WIDTH="114pt" VALIGN="TOP"><COL WIDTH="0pt" VALIGN="TOP"><COL WIDTH="155pt" VALIGN="TOP"><COL WIDTH="0pt" VALIGN="TOP"><COL WIDTH="76pt" VALIGN="TOP"><COL WIDTH="0pt" VALIGN="TOP"><COL WIDTH="0pt" VALIGN="TOP"><COL WIDTH="2pt" VALIGN="TOP"></COLGROUP><TBODY><TR><TD VALIGN="TOP"><P CLASS="th"><B><BR>Process Measure</B></P></TD><TD COLSPAN="2" VALIGN="TOP"><P CLASS="th"><B><BR>Description</B></P></TD><TD COLSPAN="6" VALIGN="TOP"><P CLASS="th"><B>Performance Monitor Process counter </B></P></TD></TR><TR><TD COLSPAN="5" VALIGN="TOP"><P></P></TD></TR><TR><TD VALIGN="TOP"><P>Image Name</P></TD><TD COLSPAN="2" VALIGN="TOP"><P>Name of the process.</P></TD><TD COLSPAN="6" VALIGN="TOP"><P>The process name in the Instances box.</P></TD></TR><TR><TD VALIGN="TOP"><P>PID  (Process Identifier)</P></TD><TD COLSPAN="2" VALIGN="TOP"><P>Numerical ID assigned to the process while it runs.</P></TD><TD COLSPAN="6" VALIGN="TOP"><P>ID Process.</P></TD></TR><TR><TD VALIGN="TOP"><P>CPU Usage</P></TD><TD COLSPAN="2" VALIGN="TOP"><P>The percentage of time the threads of the process used the processor since the last update.</P></TD><TD COLSPAN="6" VALIGN="TOP"><P>%Processor Time.</P></TD></TR><TR><TD VALIGN="TOP"><P>CPU Time</P></TD><TD COLSPAN="2" VALIGN="TOP"><P>The total processor time used by the process since it was started, in seconds.</P></TD><TD COLSPAN="6" VALIGN="TOP"><P>None.</P></TD></TR><TR><TD VALIGN="TOP"><P>Memory Usage</P></TD><TD COLSPAN="2" VALIGN="TOP"><P>The amount of main memory used by the process, in kilobytes.</P></TD><TD COLSPAN="6" VALIGN="TOP"><P>Working Set.</P></TD></TR><TR><TD VALIGN="TOP"><P>Memory Usage Delta</P></TD><TD COLSPAN="2" VALIGN="TOP"><P>The change in memory use since the last update, in kilobytes. Unlike Performance Monitor, Task Manager displays negative values.</P></TD><TD COLSPAN="6" VALIGN="TOP"><P>None.</P></TD></TR><TR><TD VALIGN="TOP"><P>Page Faults</P></TD><TD COLSPAN="2" VALIGN="TOP"><P>The number of times data had to be retrieved from disk for this process because it was not found in memory. This value is accumulated from the time the process is started.</P></TD><TD COLSPAN="4" VALIGN="TOP"><P>None. </P>
<P>Page faults/sec is the rate of page faults over time.</P></TD></TR><TR><TD COLSPAN="2" VALIGN="TOP"><P>Page Faults Delta</P></TD><TD COLSPAN="3" VALIGN="TOP"><P>The change in the number of page faults since the last update.</P></TD><TD COLSPAN="5" VALIGN="TOP"><P>None.</P></TD></TR><TR><TD COLSPAN="2" VALIGN="TOP"><P>Virtual Memory Size</P></TD><TD COLSPAN="3" VALIGN="TOP"><P>Size of the process's share of the paging file, in kilobytes.</P></TD><TD COLSPAN="5" VALIGN="TOP"><P>Page File Bytes.</P></TD></TR><TR><TD COLSPAN="2" VALIGN="TOP"><P>Paged Pool</P></TD><TD COLSPAN="3" VALIGN="TOP"><P>Amount of the paged pool (user memory) used by the process, in kilobytes.</P>
<P>The paged pool is virtual memory available to be paged to disk. It includes all of user memory and a portion of system memory.</P></TD><TD COLSPAN="5" VALIGN="TOP"><P>Pool Paged Bytes.</P>
<P>(See note below.)</P>
<P></P></TD></TR><TR><TD COLSPAN="2" VALIGN="TOP"><P>Nonpaged Pool</P></TD><TD COLSPAN="3" VALIGN="TOP"><P>Amount of the nonpaged pool (system memory) used by the process, in kilobytes.</P>
<P>The nonpaged pool is operating system memory which is never paged to disk.</P></TD><TD COLSPAN="5" VALIGN="TOP"><P>Pool Nonpaged Bytes.</P>
<P>(See note below.)</P></TD></TR><TR><TD COLSPAN="2" VALIGN="TOP"><P>Base Priority</P></TD><TD COLSPAN="3" VALIGN="TOP"><P>The base priority of the process, which determines the order in which its threads are scheduled for the processor.</P>
<P>The base priority is set by the process code, not the operating system. The operating system sets and changes the dynamic priorities of threads in the process within the range of the base.</P>
<P>Use Task Manager to change the base priority of processes. See the next section for details.</P></TD><TD COLSPAN="5" VALIGN="TOP"><P>Priority Base.</P></TD></TR><TR><TD COLSPAN="2" VALIGN="TOP"><P>Handle Count</P></TD><TD COLSPAN="3" VALIGN="TOP"><P>The number of object handles in the process's object table.</P></TD><TD COLSPAN="5" VALIGN="TOP"><P>Handle Count.</P></TD></TR><TR><TD COLSPAN="2" VALIGN="TOP"><P>Thread Count</P></TD><TD COLSPAN="3" VALIGN="TOP"><P>The number of threads running in the process.</P></TD><TD COLSPAN="5" VALIGN="TOP"><P>Thread Count.</P></TD></TR></TBODY></TABLE>
<P CLASS="spacing"><BR></P><P></P>
<P></P>
<P CLASS="t"><B>Important</B></P>
<P>The size of the paged and nonpaged memory pools, as shown on the Process tab, are not precise. These values are taken from internal counters which count duplicated object handles as well as space for the object. Also, they are rounded to page size, so if a process is using part of a page, its pool space is overestimated. However, they can be used to monitor <I>changes</I> in the size of the pool for a process.</P>
<P>The paged and nonpaged pool size for the whole system, shown on the Performance tab, are precise. Thus, the sum of values for each process might not match the count for the whole system.</P>
<P>Task Manager, Performance Monitor, Process Explode (Pview.exe), Process Monitor (Pmon.exe) and Process Viewer (Pviewer.exe) all use the same internal counters for monitoring the paged and nonpaged memory pools.</P>
<P></P>
<H4><A NAME="sec0"></A>Changing the Base Priority Class</H4><P CLASS="t">The <I>base priority class</I> of a process determines the range of dynamic or current priorities that the operating system can assign to the threads of that process. The base priority is usually set in the application code. You can use Task Manager to change the base priority class of a process. However, this change lasts only as long as the process runs. When the process is started again, it reverts to the original base priority class.</P>
<P CLASS="t">In a preemptible, multitasking operating system like Windows&nbsp;NT, the microkernel schedules threads for the processor in order of their priority and interrupts running threads if a higher priority thread appears.</P>
<P CLASS="t">You might want to increase the priority of a process, or decrease the priority of competing processes to improve their response.</P>
<P CLASS="t"><B>Warning   </B>Changing the base priority class of a process to Real-Time can destabilize your system. A busy, Real-Time process can prevent other processes and system services from running.</P>
<P CLASS="t">To change the base priority class of a process, select the process name from the Task Manager Processes tab, click the highlighted name with the right mouse button, click Set Priority, and then select a new priority class from the Set Priority submenu.</P>
<P><img src="xwr_j06.gif"></P>
<H4><A NAME="sec1"></A>Selecting a Processor</H4><P CLASS="t">You can use Task Manager to limit the execution of a process to one or more processors.</P>
<P></P>
<P CLASS="t"><B>Note</B></P>
<P>The Set Affinity option used for selecting a processor appears only on computers with more than one processor.</P>
<P></P>
<P CLASS="t">On multiprocessor computers, the Windows&nbsp;NT microkernel distributes thread-processing requests over all processors based on thread priority. Often, the threads of a single process are running on more than one processor. Windows&nbsp;NT uses <I>soft affinity</I> to distribute processor load. This means that when all other factors are equal, Windows NT reassigns threads to the same processor they ran on before. This takes best advantage of the processor cache. However, you can override this configuration and determine on which processors your processes run.</P>
<P CLASS="t">You might want to expedite a process by reserving a processor for it and rerouting all other processes to other processors.</P>
<P CLASS="t">To select processors for a process, click the process name in the Task Manager Processes tab, click the highlighted name with the right mouse button, click Set Affinity, and the select one or more processors from the list.</P>
<P><img src="xwr_j07.gif"></P>
<H4><A NAME="sec2"></A>Starting your Debugger</H4><P CLASS="t">If you have installed a debugger, you can activate the debugger on a process by using Task Manager. Click the process name in the Task Manager Processes tab. Then click the highlighted name with the right mouse button and click <B>Debug</B>.</P>
<H4><A NAME="sec3"></A>Update Speed</H4><P CLASS="t">You can control the rate at which Task Manager updates its counts. This will reduce Task Manager overhead, but might miss some data. You can force an update at any time by clicking <B>Refresh Now</B> on the <B>View</B> menu or by pressing f5.</P>
<P CLASS="t">Task Manager Update Speed options are:</P>

<TABLE COLS="2" BORDER="0" CELLPADDING="7"><COLGROUP><COL WIDTH="168pt" VALIGN="TOP"><COL WIDTH="180pt" VALIGN="TOP"></COLGROUP><TBODY><TR><TD VALIGN="TOP"><P>High</P></TD><TD VALIGN="TOP"><P>Updates every half-second.</P></TD></TR><TR><TD VALIGN="TOP"><P>Normal</P></TD><TD VALIGN="TOP"><P>Updates once per second.</P></TD></TR><TR><TD VALIGN="TOP"><P>Low</P></TD><TD VALIGN="TOP"><P>Updates every four seconds.</P></TD></TR><TR><TD VALIGN="TOP"><P>Paused</P></TD><TD VALIGN="TOP"><P>Does not update automatically. Press F5 to update.</P></TD></TR></TBODY></TABLE>
<P CLASS="spacing"><BR></P><P></P></BODY></HTML>
