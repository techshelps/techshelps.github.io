<HTML><HEAD><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>OS/2 Configuration</TITLE><META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset= iso-8859-1"><style>@import url(msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="msdn_ie3.css"></HEAD>
<BODY BGCOLOR="#FFFFFF"><FONT FACE="Verdana, Arial, Helvetica" SIZE="2"><FORM NAME="x"><OBJECT CLASSID="clsid:9c2ac687-ceef-11cf-96d9-00a0c903b016" NAME="iv"></OBJECT></FORM>
<H3>OS/2 Configuration</H3><P CLASS="t">The OS/2 subsystem handles Os2.ini compatibly with OS/2. The WIN<I>xxx</I> APIs supported in this release of Windows&nbsp;NT are provided for this purpose. Startup.cmd is just a batch file.</P>
<P CLASS="t">When the OS/2 subsystem starts for the first time, it checks the Registry for OS/2 subsystem configuration information. If it doesn't find any, it looks for information in the original Config.sys file and adds the information to the Registry. If the original Config.sys file does not exist or is not an OS/2 configuration file, the subsystem adds the following default information to the Registry:</P>
<P CLASS="spacing"><BR></P>
<PRE>PROTSHELL=c:\os2\pmshell.exe c:\os2\os2.ini c:\os2\os2sys.ini 
    %SystemRoot%\system32\cmd.exe
SET COMSPEC=%SystemRoot%\system32\cmd.exe
</PRE>
<P CLASS="t">The subsystem updates the environment variable, <B>Os2LibPath</B>, with LIBPATH information found in the original Config.sys file. The updated <B>Os2LibPath</B> is &lt;<I>systemroot</I>&gt;\SYSTEM32\OS2\DLL concatenated with the list of directories specified in the LIBPATH line of the original Config.sys file.</P>
<P CLASS="t">The PATH information found in the original Config.sys file is not entered automatically into the default Windows&nbsp;NT path. To add the location of OS/2 applications, use the System applet in the Control Panel to add a PATH variable to the user environment variables. This information is appended automatically by Windows&nbsp;NT each time a user logs on to the system.</P>
<P></P>
<P CLASS="t">Windows&nbsp;NT supports the OS/2 configuration commands shown in the following table. If you use commands that are not supported, Windows&nbsp;NT ignores them.</P>
<P>Table 28.1    OS/2 Configuration Commands Supported by Windows&nbsp;NT</P>

<TABLE COLS="2" BORDER="0" CELLPADDING="7"><COLGROUP><COL WIDTH="69pt" VALIGN="TOP"><COL WIDTH="278pt" VALIGN="TOP"></COLGROUP><TBODY><TR><TD COLSPAN="2" VALIGN="TOP"><P></P></TD></TR><TR><TD VALIGN="TOP"><P CLASS="th"><B>Command</B></P></TD><TD VALIGN="TOP"><P CLASS="th"><B>Function</B></P></TD></TR><TR><TD COLSPAN="2" VALIGN="TOP"><P></P></TD></TR><TR><TD VALIGN="TOP"><P><B>protshell</B></P></TD><TD VALIGN="TOP"><P>Specifies the command interpreter. Only the Windows&nbsp;NT command interpreter is supported.</P></TD></TR><TR><TD VALIGN="TOP"><P><B>devicename</B></P></TD><TD VALIGN="TOP"><P>Specifies a user-defined Windows&nbsp;NT device driver used by OS/2 applications. </P></TD></TR><TR><TD VALIGN="TOP"><P><B>libpath</B></P></TD><TD VALIGN="TOP"><P>Specifies the location of OS/2 16-bit dynamic-link libraries.</P></TD></TR><TR><TD VALIGN="TOP"><P><B>set</B></P></TD><TD VALIGN="TOP"><P>Sets environment variables.</P></TD></TR><TR><TD VALIGN="TOP"><P><B>country</B></P></TD><TD VALIGN="TOP"><P>Sets a country code that defines country-dependent information such as time, date, and currency conventions.</P></TD></TR><TR><TD VALIGN="TOP"><P><B>codepage</B></P></TD><TD VALIGN="TOP"><P>Specifies the code pages your system is prepared to use.</P></TD></TR><TR><TD VALIGN="TOP"><P><B>devinfo=KBD</B></P></TD><TD VALIGN="TOP"><P>Specifies the information the keyboard needs in order to use a particular code page.</P></TD></TR></TBODY></TABLE>
<P CLASS="spacing"><BR></P><P></P>
<P CLASS="t">The <B>libpath</B>, <B>set</B>, and <B>devicename</B> commands are processed as follows:</P>
<UL><LI>The <B>libpath</B> command appends path information to the OS/2 library path in the Windows&nbsp;NT environment. At the command prompt, you can change the library path for OS/2 applications by using the<B> os2libpath</B> command.</LI></UL><UL><LI>The following <B>set</B> commands are ignored:</LI></UL><P></P>

<TABLE COLS="3" BORDER="0" CELLPADDING="7"><COLGROUP><COL WIDTH="85pt" VALIGN="TOP"><COL WIDTH="85pt" VALIGN="TOP"><COL WIDTH="97pt" VALIGN="TOP"></COLGROUP><TBODY><TR><TD VALIGN="TOP"><P><B>set path</B></P></TD><TD VALIGN="TOP"><P><B>set comspec</B></P></TD><TD VALIGN="TOP"><P>set video_devices</P></TD></TR><TR><TD VALIGN="TOP"><P><B>set vio_ibmvga</B></P></TD><TD VALIGN="TOP"><P><B>set vio_vga</B></P></TD><TD VALIGN="TOP"><P><B>set prompt</B></P></TD></TR></TBODY></TABLE>
<P CLASS="spacing"><BR></P><P></P>
<UL><LI>The <B>devicename</B> command specifies a device driver compatible with Windows&nbsp;NT for use with an OS/2 application. The syntax for the <B>devicename</B> command is as follows:</LI></UL><P><B>DEVICENAME=</B><I>OS/2devicename</I> [[<I>path</I>][<I>NTdevicename</I>]]</P>
<P CLASS="spacing"><BR></P>
<PRE></PRE>
<P><I>OS/2devicename</I> is the logical name that OS/2 applications use to address the device. <I>Path</I> and <I>NTdevicename</I> specify the Windows&nbsp;NT device driver to which the OS/2 device name is mapped. If these are not specified, the device is mapped to \DEVICE\<I>os/2devicename</I>.</P>
<P></P>
<P></P>
<H4><A NAME="sec0"></A>Changing OS/2 Configuration Information</H4><P CLASS="t">Although the OS/2 configuration information is stored in the Registry, you can edit that information just as you would edit an OS/2 Config.sys file. To edit the information, you must use an OS/2 text editor.</P>
<P></P>
<P CLASS="t"><B>Note</B></P>
<P>To change configuration information, you must be logged on as a member of the Administrators group.</P>
<P></P>
<H5 CLASS="h4"><A NAME="sec1"></A>To change configuration information</H5><OL><LI>While running Windows&nbsp;NT, start an OS/2 text editor in a window.</LI></OL><OL start=2><LI>Open a file called C:\CONFIG.SYS.</LI></OL><P>Windows&nbsp;NT retrieves the configuration information from the Registry and stores it in a temporary file that you can edit.</P>
<OL start=3><LI>Edit the configuration information.</LI></OL><OL start=4><LI>Save and close the file.</LI></OL><OL start=5><LI>Quit the editor.</LI></OL><P>Windows&nbsp;NT stores the new information in the registry.</P>
<OL start=6><LI>Log off from Windows&nbsp;NT, and restart your computer.</LI></OL><P></P></BODY></HTML>
