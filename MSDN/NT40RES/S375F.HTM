<HTML><HEAD><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Chapter 14 - Detecting Disk Bottlenecks</TITLE><META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset= iso-8859-1"><style>@import url(msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="msdn_ie3.css"></HEAD>
<BODY BGCOLOR="#FFFFFF"><FONT FACE="Verdana, Arial, Helvetica" SIZE="2"><FORM NAME="x"><OBJECT CLASSID="clsid:9c2ac687-ceef-11cf-96d9-00a0c903b016" NAME="iv"></OBJECT></FORM>
<H1>Chapter 14 - Detecting Disk Bottlenecks</H1><P CLASS="t">Disk space is a recurring problem. No matter how large a hard disk you buy, your software seems to consume it. But disk bottlenecks pertain to time, not space. When the disk becomes the limiting factor in your workstation, it is because the components involved in reading from and writing to the disk cannot keep pace with rest of the system.</P>
<P CLASS="t">The parts of the disk that create a time bottleneck are less familiar than the megabytes or gigabytes of space. They include the I/O bus, the device bus, the disk controller, and the head stack assembly. Each of these components contributes to and, in turn, limits the performance of the disk configuration.</P>
<P CLASS="t">Performance Monitor measures different aspects of physical and logical disk performance. This chapter examines logical and physical disk performance, shows how to spot and eliminate disk bottlenecks, and describes some special strategies for tuning disk sets.</P>
<P></P>
<P CLASS="t"><B>Tip</B></P>
<P>"Disk and File System Basics," Chapter 17 of this book, provides a comprehensive introduction to the state-of-the-art disk terminology and technology. It is a useful foundation for the information in this chapter.</P>
<P></P>
<P CLASS="t">Prepare to monitor your disk configuration by logging the System, Logical Disk, and Memory objects for several days at an update interval of 60 seconds. If you suspect that slow disk response is periodic, for example, if it is exaggerated by downloads on certain days or certain times of day, log those times separately or place bookmarks in your general log.</P>
<P CLASS="t"><B>Warning   </B>Performance Monitor will not monitor disk activity until you run Diskperf and restart the computer. For more information, see "Diskperf:  Enabling the Disk Counters," later in this chapter.</P>
<P CLASS="t">Use the following Performance Monitor counters to measure the performance of physical and logical disks.</P>

<TABLE COLS="3" BORDER="0" CELLPADDING="7"><COLGROUP><COL WIDTH="164pt" VALIGN="TOP"><COL WIDTH="183pt" VALIGN="TOP"><COL WIDTH="0pt" VALIGN="TOP"></COLGROUP><TBODY><TR><TD VALIGN="TOP"><P CLASS="th"><B>Object</B></P></TD><TD VALIGN="TOP"><P CLASS="th"><B>Counter</B></P></TD></TR><TR><TD COLSPAN="3" VALIGN="TOP"><P></P></TD></TR><TR><TD VALIGN="TOP"><P>Logical Disk/Physical Disk</P></TD><TD VALIGN="TOP"><P>% Disk Time</P></TD></TR><TR><TD VALIGN="TOP"><P>Logical Disk/Physical Disk</P></TD><TD VALIGN="TOP"><P>Avg. Disk Queue Length</P></TD></TR><TR><TD VALIGN="TOP"><P>Logical Disk/Physical Disk</P></TD><TD VALIGN="TOP"><P>Current Disk Queue Length</P>
<P>(Known in previous versions as Disk&nbsp;Queue&nbsp;Length)</P></TD></TR><TR><TD VALIGN="TOP"><P>Logical Disk/Physical Disk</P></TD><TD VALIGN="TOP"><P>Avg. Disk sec / Transfer</P></TD></TR><TR><TD VALIGN="TOP"><P>Logical Disk/Physical Disk</P></TD><TD VALIGN="TOP"><P>Disk Bytes / sec</P></TD></TR><TR><TD VALIGN="TOP"><P>Logical Disk/Physical Disk</P></TD><TD VALIGN="TOP"><P>Avg. Disk Bytes / Transfer</P></TD></TR><TR><TD VALIGN="TOP"><P>Logical Disk/Physical Disk</P></TD><TD VALIGN="TOP"><P>Disk Transfers / sec</P></TD></TR><TR><TD VALIGN="TOP"><P>Logical Disk/Physical Disk</P></TD><TD VALIGN="TOP"><P>% Free Space</P></TD></TR><TR><TD VALIGN="TOP"><P>Logical Disk/Physical Disk</P></TD><TD VALIGN="TOP"><P>Free Megabytes</P></TD></TR></TBODY></TABLE>
<P CLASS="spacing"><BR></P><P></P></BODY></HTML>
