<HTML><HEAD><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Reading from the Cache</TITLE><META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset= iso-8859-1"><style>@import url(msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="msdn_ie3.css"></HEAD>
<BODY BGCOLOR="#FFFFFF"><FONT FACE="Verdana, Arial, Helvetica" SIZE="2"><FORM NAME="x"><OBJECT CLASSID="clsid:9c2ac687-ceef-11cf-96d9-00a0c903b016" NAME="iv"></OBJECT></FORM>
<H3>Reading from the Cache</H3><P CLASS="t">There are four types of application reads:</P>
<UL><LI>In<I> copy reads</I>, data mapped in the cache is copied into memory so it can be read. An application's first read from a file usually is a copy read.</LI></UL><UL><LI>Subsequent reads are usually <I>fast reads</I>, in which an application or other process calls the cache directly rather than calling the file system.</LI></UL><UL><LI>With <I>pin reads</I>, data is mapped into the cache just to be changed and is then written back to disk. It is <I>pinned</I> in the cache; that is, it is held at the same address and is not pageable. This  prevents page faults.</LI></UL><UL><LI>With <I>read aheads</I>, the Virtual Memory Manager recognizes that the application is reading a file sequentially and, predicting its read pattern, begins to map larger blocks of data into the cache. Read aheads are usually efficient and are a sign that data references are localized. However, some application read patterns might fool the prediction logic of the Virtual Memory Manager and do read aheads when smaller reads might be more efficient. Only the application designer knows for sure!</LI></UL><P></P>
<P CLASS="t">The following graph shows the frequency of different kinds of cache reads during the run of a compiler. The intersecting curves are difficult to interpret, so a second copy of Performance Monitor—a report set to the same Time Window as the graph—is appended.</P>
<P><img src="xwr_m07.gif"></P>
<P CLASS="t">In this example, copy reads are more frequent than fast reads. This pattern of many first reads and fewer subsequent reads indicates that the application is probably reading from many small files. The rate of read aheads is also low, which is another indication that the application is skipping from file to file. When more fast reads than copy reads occur, the application is reading several times from the same file. The rate of read aheads should increase as well.</P></BODY></HTML>
