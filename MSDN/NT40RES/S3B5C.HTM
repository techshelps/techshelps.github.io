<HTML><HEAD><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Windows NT Startup Floppy Disk</TITLE><META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset= iso-8859-1"><style>@import url(msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="msdn_ie3.css"></HEAD>
<BODY BGCOLOR="#FFFFFF"><FONT FACE="Verdana, Arial, Helvetica" SIZE="2"><FORM NAME="x"><OBJECT CLASSID="clsid:9c2ac687-ceef-11cf-96d9-00a0c903b016" NAME="iv"></OBJECT></FORM>
<H3>Windows&nbsp;NT Startup Floppy Disk</H3><P CLASS="t">You must format your Windows&nbsp;NT startup floppy disk when you are running Windows&nbsp;NT. You can use My Computer to format the floppy disk, or enter <B>format a:</B> at the command prompt. Both of these utilities copy the Windows&nbsp;NT Partition Boot Sector, which is required to load the Windows&nbsp;NT boot loader, to the floppy disk. Windows&nbsp;NT Help describes the procedure for formatting a floppy disk by using My Computer. </P>
<P CLASS="t">You can use the Windows&nbsp;NT startup floppy disk to start Windows&nbsp;NT in the following circumstances:</P>
<UL><LI>The Master Boot Record or Partition Boot Sector on the system partition has a problem.</LI></UL><UL><LI>There are problems with the disk that contains the system partition and the boot partition is on another disk.</LI></UL><UL><LI>You are reconfiguring hard disks and you want to be able to start Windows&nbsp;NT from the Windows&nbsp;NT startup floppy disk if you are having problems. </LI></UL><P></P>
<P></P>
<P CLASS="t"><B>Note</B></P>
<P>On x86-based computers, if the Partition Table in the Master Boot Record has been corrupted, especially if the information for the system partition or boot partition is all zeroes, you might not be able to start up by using the Windows&nbsp;NT startup floppy disk. If you have a current backup of the Master Boot Record, try starting MS-DOS from the MS-DOS bootable floppy disk, and use the DiskSave program to replace the Master Boot Record.</P>
<P></P>
<P CLASS="t">The files that you need to copy to the floppy disk normally have the Read Only, System, and Hidden attributes set. If the files have either the System or Hidden attribute set, they are not visible. You need to make the files visible before you can copy them. </P>
<H4><A NAME="sec0"></A>To copy files to the Windows&nbsp;NT startup floppy disk</H4><P>    1.    Using My Computer or Windows&nbsp;NT Explorer, on the <B>View</B> menu, click <B>Options</B>.</P>
<P>    2.    On the <B>View</B> tab, select <B>Show all files</B>. Click <B>OK</B>.</P>
<P>    3.    Click the filename of the file to be copied.</P>
<P>    4.    On the <B>File</B> menu, click <B>Properties</B>. </P>
<P>    5.    In the <B>Attributes</B> box of the <B>General</B> tab, clear the <B>Read Only</B>, <B>System</B>, and <B>Hidden</B> check boxes, and click <B>OK</B>. </P>
<P>Do steps 3, 4, and 5 for each file that you want to copy.</P>
<P>    6.    Select the files, and then copy them to the floppy disk.</P>
<P></P>
<H4><A NAME="sec1"></A>Files to Copy for an x86-based Computer</H4><P CLASS="t">Copy the following files from the root folder of your system partition to the floppy disk you just formatted:</P>
<UL><LI>NTLDR — Windows&nbsp;NT boot loader program.</LI></UL><UL><LI>Boot.ini — describes the location of the boot partitions, specified by using Advanced RISC Computing (ARC) naming conventions.</LI></UL><UL><LI>Ntdetect.com — used for hardware detection.</LI></UL><UL><LI>Bootsect.dos — if you want to be able to dual-boot another operating system when using the Windows&nbsp;NT startup floppy disk.</LI></UL><UL><LI>Ntbootdd.sys — required only if you are using the scsi() syntax in the Boot.ini file. This file is not present in the root folder if you are using the multi() syntax.</LI></UL><P></P>
<P CLASS="t">The Ntbootdd.sys file is a renamed copy of the SCSI device driver used on your Windows&nbsp;NT computer. For example, if you are using the Adaptec 1542B SCSI controller, copy Aha154x.sys to the floppy disk, and then rename it to Ntbootdd.sys. If Windows&nbsp;NT Setup created an Ntbootdd.sys in your root folder, just copy that file. </P>
<P CLASS="t">You can find the device driver name by:</P>
<UL><LI>Looking in the HKEY_LOCAL_MACHINE\HARDWARE\DeviceMap\Scsi Registry subkey.</LI></UL><UL><LI>Double-clicking the SCSI Adapters option on Control Panel. In the<B> Devices</B> tab, click <B>Properties</B>. Click the <B>Driver</B> tab to see the driver filename.</LI></UL><P></P>
<H4><A NAME="sec2"></A>Creating Alternate Boot Selections for an x86-based Computer</H4><P CLASS="t">For Windows&nbsp;NT Workstation, you should not have to create alternate boot selections in your Boot.ini file. You might want to have other paths when you are reconfiguring disks. For instance, if you currently have a SCSI disk (with SCSI ID 0) and are adding an IDE disk to your configuration, the IDE disk must be the first one. If your SCSI disk has the BIOS enabled, and the boot partition is</P>
<P CLASS="spacing"><BR></P>
<PRE>multi(0)disk(0)rdisk(0)partition(1)\Winnt="Windows&nbsp;NT Workstation Version 4.0"
</PRE>
<P CLASS="t">you should disable the BIOS on the SCSI controller and add a second entry of:</P>
<P CLASS="spacing"><BR></P>
<PRE>scsi(0)disk(0)rdisk(0)partition(1)\Winnt="Windows&nbsp;NT Workstation Version 4.0 SCSI disk" 
</PRE>
<P></P>
<P CLASS="t"><B>Note</B></P>
<P>If you had translation enabled when you low-level formatted the SCSI disk, you will not be able to access the disk after you disable the BIOS on the controller. </P>
<P></P>
<P CLASS="t">This second entry enables you to start Windows&nbsp;NT from the SCSI disk to use Disk Administrator to partition and format the IDE disk. </P>
<P CLASS="t">You might also want to create alternate boot selections for debugging purposes. In this case, you can add other entries to the Boot.ini file and append switches to the pathname, such as: </P>
<P CLASS="spacing"><BR></P>
<PRE>multi(0)disk(0)rdisk(0)partition(1)\Winnt="Windows&nbsp;NT Workstation Version 4.0" /sos /DEBUG
</PRE>
<P CLASS="t">For more information about the switches, see: </P>
<UL><LI>Chapter 19, "What Happens When You Start Your Computer."</LI></UL><UL><LI>Chapter 21, "Troubleshooting Startup and Disk Problems." </LI></UL><UL><LI>Chapter 39, "Windows&nbsp;NT Debugger."</LI></UL><P></P>
<P CLASS="t">The section "Understanding ARC Pathnames," presented earlier in this chapter, contains more information about the pathnames on the Boot.ini file.</P>
<P></P>
<P CLASS="t"><B>Note</B></P>
<P>The Boot.ini file has the Read Only attribute set by default. Remove this attribute before editing the file. Restoring the attribute is optional. Windows&nbsp;NT Setup sets the attribute to prevent accidental deletion.</P>
<P></P>
<H4><A NAME="sec3"></A>Files to Copy for a RISC-based Computer</H4><P CLASS="t">When you install Windows&nbsp;NT on a RISC-based computer, it creates a folder, such as \Os\Winnt40, that contains the Osloader.exe and Hal.dll files. On Alpha AXP–based computers, this folder also contains several files with the .pal extension. Some or all of these files might have the system, hidden, or read-only attributes set.</P>
<P CLASS="t">A Windows&nbsp;NT startup floppy disk for a RISC-based computer should have a folder tree identical to the RISC-based system partition. Therefore, you should create the \Os\Winnt40 folder on the floppy disk.</P>
<P CLASS="t">Copy the following files from the \Os\Winnt40 folder on your hard disk to the same folder on the floppy disk:</P>
<UL><LI>Osloader.exe</LI></UL><UL><LI>Hal.dll</LI></UL><UL><LI>*.pal (AXP-based computers only)</LI></UL><P></P>
<H4><A NAME="sec4"></A>Creating Alternate Boot Selections for a RISC-based Computer</H4><P CLASS="t">RISC-based computers start from the system firmware. You should define a boot selection in the NVRAM that points to a Windows&nbsp;NT startup floppy disk. You only need to use the Windows&nbsp;NT startup floppy disk if there is a problem with the system partition (the partition with OSLOADER). If you do not create a path to the floppy disk ahead of time, and you cannot access the system partition, you will have to create a path to the Windows&nbsp;NT startup floppy disk to be able to start the computer.</P>
<P CLASS="t">For more information about firmware menus, see "Using a RISC-based Computer's Boot Menu" in Chapter 19, "What Happens When You Start Your Computer."</P>
<P></P>
<P CLASS="t"><B>Note</B></P>
<P>There are three types of RISC-based computers: Alpha, MIPS, and PowerPC. The examples in this section are for an Alpha AXP–based computer. The firmware menus that you use to get to the configuration options can be different for MIPS and PowerPC computers.</P>
<P></P>
<H5 CLASS="h4"><A NAME="sec5"></A>Creating a Path to the Windows&nbsp;NT Startup Floppy Disk </H5><P CLASS="t">Once you have created the Windows&nbsp;NT startup floppy disk, you need to create the path to it by using the <B>Add a boot selection</B> menu. These are the steps to get to that menu:</P>
<P>    1.    Start the computer. You see the <B>Boot</B> menu. </P>
<P>    2.    On the <B>Boot</B> menu, click <B>Supplementary menu</B>. </P>
<P>    3.    On the <B>Supplementary</B> menu, click <B>Setup the system</B>.</P>
<P>    4.    On the <B>Setup</B> menu, click <B>Manage boot selection menu</B>.</P>
<P>    5.    On the <B>Boot selections</B> menu, click <B>Add a boot selection</B>.</P>
<P></P>
<P CLASS="t">The following example shows creating a path to the Windows&nbsp;NT startup floppy disk. Be sure that the path to the Osloader.exe on the Windows&nbsp;NT startup floppy disk matches the path to Osloader.exe on the hard disk.</P>
<P></P>
<P CLASS="t"><B>Note</B></P>
<P>The right justified arrows (&lt;----) in these examples indicate which selection was made, or the information that was entered.</P>
<P></P>
<P CLASS="spacing"><BR></P>
<PRE>                                    Thursday, 03-07-96   11:18:43 AM

Select a system partition for this boot selection:
        SCSI Bus 0 Hard Disk 0 Partition 1
        New system partition  &lt;-----------------------------------------

Enter location of system partition for this boot selection:
        Select Media:
    SCSI Hard Disk
    Floppy Disk  &lt;------------------------------------------------------
    CD-ROM

        Enter floppy drive number: 0  &lt;---------------------------------

Enter the osloader directory and name: \os\winnt40\osloader.exe &lt;-------

Is the operating system in the same partition as the osloader:
        Yes
        No &lt;------------------------------------------------------------

Enter the location of os partition:
        Select Media:
    SCSI Hard Disk  &lt;---------------------------------------------------
    Floppy Disk
    CD-ROM

        Enter SCSI bus number: 0  &lt;-------------------------------------
        Enter SCSI ID: 2          &lt;-------------------------------------
        Enter Partition: 2        &lt;-------------------------------------

Enter the operating system root directory: \winnt40          &lt;----------
Enter a name for this boot selection: start from floppy disk  &lt;---------
Do you want to initialize the debugger at boot time:
        Yes
        No  &lt;-----------------------------------------------------------
</PRE>
<P></P>
<P CLASS="t"><B>Note</B></P>
<P>The location of the operating system root folder and the values that you enter for the path to the partition on the SCSI disk depend on your system configuration. The SCSI bus number will usually be 0, but the SCSI ID can be anything from 0 to 6, although 2 is common. </P>
<P></P>
<P CLASS="t">After entering the data, you will be back at the <B>Boot selections</B> menu. Select <B>Setup menu</B>. On the <B>Setup</B> menu, select <B>Supplementary menu, </B>and<B> save changes</B>.</P>
<H5 CLASS="h4"><A NAME="sec6"></A>Using Alternate Boot Selections</H5><P CLASS="t">When you have created alternate boot selections, you start an alternate one by selecting <B>Boot an alternate operating system</B> from the <B>Boot</B> menu. This example shows selecting the alternate operating system option.</P>
<P CLASS="spacing"><BR></P>
<PRE>ARC Multiboot Alpha AXP Version 3.5-11 
Copyright (c) 1993 Microsoft Corporation
Copyright (c) 1993 Digital Equipment Corporation

Boot Menu:

    Boot Windows&nbsp;NT Server Version 4.0
    Boot an alternate operating system  &lt;-------------------------------
    Run a utility
    Supplementary menu. . .

Use the arrow keys to select, then press Enter.
Seconds until auto-boot. Select another option to override: 9
</PRE>
<P CLASS="t">If you have added a boot selections for the Windows&nbsp;NT startup floppy disk, as described earlier in this section, and select <B>Boot an alternate operating system</B>, you would see a screen like the following.</P>
<P CLASS="spacing"><BR></P>
<PRE>ARC Multiboot Alpha AXP Version 3.5-11 
Copyright (c) 1993 Microsoft Corporation
Copyright (c) 1993 Digital Equipment Corporation

Boot Menu:

    start from floppy disk
    Boot Windows&nbsp;NT Workstation 4.0 (Default)

Use the arrow keys to select, then press Enter.
</PRE>
<P CLASS="t">Each time you create a new boot selection, it becomes the default selection. The preceding example shows the menu if you added a path to the Windows&nbsp;NT startup floppy disk after you had installed Windows&nbsp;NT Workstation 4.0. You should use the <B>Rearrange boot selections</B> menu to change the default boot selection back to the hard disk. See the section titled "Using a RISC-based Computer's Boot Menu ," in Chapter 19, "What Happens When You Start Your Computer," for information about managing boot selections.</P></BODY></HTML>
