<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Main Window Creation</title>
<link disabled rel=stylesheet href=../../backsdk3.css>
<style type="text/css">
@import url(../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h3><a name="_win32_main_window_creation"></a>Main Window Creation</h3>
<p>
Every Win32-based application must have <a href="windows_64ku.htm"><b>WinMain</b></a> as its entry point function. <b>WinMain</b> performs a number of tasks, including registering the window class for the main window and creating the main window. <b>WinMain</b> registers the main window class by calling the <a href="winclass_70s3.htm"><b>RegisterClass</b></a> function, and it creates the main window by calling the <a href="windows_1w6w.htm"><b>CreateWindowEx</b></a> function. </p>
<p>
<b>Portability Issue</b>&nbsp;&nbsp;The entry point need not be named <b>WinMain</b>. </p>
<p>
Your <a href="windows_64ku.htm"><b>WinMain</b></a> function can also limit your application to a single instance. Create a named mutex using the <object id=alink_1 type="application/x-oleobject"
	classid="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
<PARAM name="Command" value="ALink,MENU">
<PARAM name="DefaultTopic" value="../../notopic_0pk4.htm">
<PARAM name="Item1" value="">
<PARAM name="Item2" value="_win32_createmutex">
</object><a href=JavaScript:alink_1.Click()><b>CreateMutex</b></a> function. If <object id=alink_2 type="application/x-oleobject"
	classid="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
<PARAM name="Command" value="ALink,MENU">
<PARAM name="DefaultTopic" value="../../notopic_0pk4.htm">
<PARAM name="Item1" value="">
<PARAM name="Item2" value="_win32_getlasterror">
</object><a href=JavaScript:alink_2.Click()><b>GetLastError</b></a> returns ERROR_ALREADY_EXISTS, another instance of your application exists (it created the mutex) and you should exit <b>WinMain</b>. </p>
<p>
The system does not automatically display the main window after creating it; instead, an application must use the <a href="windows_2tdj.htm"><b>ShowWindow</b></a> function to display the main window. After creating the main window, the application's <a href="windows_64ku.htm"><b>WinMain</b></a> function calls <b>ShowWindow</b>, passing it two parameters: a handle to the main window and a flag specifying whether the main window should be minimized or maximized when it is first displayed. Normally, the flag can be set to any of the constants beginning with the SW_ prefix. However, when <b>ShowWindow</b> is called to display the application's main window, the flag must be set to SW_SHOWDEFAULT. This flag tells the system to display the window as directed by the program that started the application. </p>
<p>
If a window class was registered with the Unicode version of <a href="winclass_70s3.htm"><b>RegisterClass</b></a>, the window receives only Unicode messages. To determine whether a window uses the Unicode character set or not, call <a href="windows_6w2t.htm"><b>IsWindowUnicode</b></a>.</p>
<p>&nbsp;</p></body>
</HTML>
