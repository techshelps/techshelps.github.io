<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Icon Display</title>
<link disabled rel=stylesheet href=../../backsdk3.css>
<style type="text/css">
@import url(../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h2><a name="_win32_icon_display"></a>Icon Display</h2>
<p>
You can retrieve the image for an icon by using the <a href="icons_2227.htm"><b>GetIconInfo</b></a> function, and can draw it by using the <a href="icons_09q0.htm"><b>DrawIconEx</b></a> function. To draw the default image for a icon, specify the DI_COMPAT flag in the call to <b>DrawIconEx</b>. If you do not specify the DI_COMPAT flag, <b>DrawIconEx</b> draws the icon using the image that the user specified. </p>
<p>
When the system displays an icon, it must extract the appropriate icon image from the .EXE or .DLL file. The system uses the following steps to select the icon image:
<ol>
<li>
Select the RT_GROUP_ICON resource. If more than one such resource exists, Windows NT uses the first resource listed in the resource script, while Windows 95 chooses the first resource listed in alphabetical order. </li>
<li>
Select the appropriate RT_ICON image from the RT_GROUP_ICON resource. If more than one image exists, the system uses the following criteria to choose an image: <ul>
<li>
The image closest in size to the requested size is chosen. </li>
<li>
If two or more images of that size are present, the one that matches the color depth of the display is chosen. </li>
<li>
If no images exactly match the color depth of the display, the image with the greatest color depth that does not exceed the color depth of the display is chosen. If all exceed the color depth, the one with the lowest color depth is chosen.</li>
</ul>
</li>
</ol>
<p>
<b>Note</b>&nbsp;&nbsp;The system treats all color depths of 8 or more bpp as equal. Therefore, there is no advantage of including a 16x16 256 color image and a 16x16 16 color image in the same resource&nbsp; —  the system will simply choose the first one it encounters. When the display is in 8 bpp mode, the system will choose a 16 color icon over a 256 color icon, and will display all icons using the system default palette. </p>
<p>&nbsp;</p></body>
</HTML>
