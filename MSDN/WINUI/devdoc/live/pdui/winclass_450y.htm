<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>WNDCLASSEX</title>
<link disabled rel=stylesheet href=../../backsdk3.css>
<style type="text/css">
@import url(../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h1><a name="_win32_wndclassex_str"></a>WNDCLASSEX</h1>
<p>
The <b>WNDCLASSEX</b> structure contains window class information. It is used with the <a href="winclass_0wc8.htm"><b>RegisterClassEx</b></a> and <a href="winclass_2jp4.htm"><b>GetClassInfoEx</b></a><b> </b>functions. </p>
<p>
The <b>WNDCLASSEX</b> structure is similar to the <a href="winclass_8yk2.htm"><b>WNDCLASS</b></a> structure. There are two differences. <b>WNDCLASSEX</b> includes the <b>cbSize</b> member, which specifies the size of the structure, and the <b>hIconSm</b> member, which contains a handle to a small icon associated with the window class.</p>
<pre><code>typedef struct _WNDCLASSEX { 
    UINT    cbSize; 
    UINT    style; 
    WNDPROC lpfnWndProc; 
    int     cbClsExtra; 
    int     cbWndExtra; 
    HANDLE  hInstance; 
    HICON   hIcon; 
    HCURSOR hCursor; 
    HBRUSH  hbrBackground; 
    LPCTSTR lpszMenuName; 
    LPCTSTR lpszClassName; 
    HICON   hIconSm; 
} WNDCLASSEX; 
 </code></pre>
<h4>Members</h4>
<dl>
<dt>
<b>cbSize</b></dt>
<dd>
Specifies the size, in bytes, of this structure. Set this member to sizeof(WNDCLASSEX). Be sure to set this member before calling the <a href="winclass_2jp4.htm"><b>GetClassInfoEx</b></a> function. </dd>
<dt>
<b>style</b></dt>
<dd>
Specifies the class style(s). Styles can be combined by using the bitwise OR (|) operator. This member can be any combination of the following values: 
<table cellspacing=4 cols=2>
<tr valign=top>
<td width=41%><b>Value</b></td>
<th align=left width=59%>Action</th>
</tr>
<tr valign=top>
<td width=41%>CS_BYTEALIGNCLIENT</td>
<td width=59%>Aligns the window's client area on the byte boundary (in the x direction). This style affects the width of the window and its horizontal position on the display.</td>
</tr>
<tr valign=top>
<td width=41%>CS_BYTEALIGNWINDOW</td>
<td width=59%>Aligns a window on a byte boundary (in the x direction). This style affects the width of the window and its horizontal position on the display.</td>
</tr>
<tr valign=top>
<td width=41%>CS_CLASSDC</td>
<td width=59%>Allocates one device context to be shared by all windows in the class. Because window classes are process specific, it is possible for multiple threads of an application to create a window of the same class. It is also possible for the threads to attempt to use the device context simultaneously. When this happens, the system allows only one thread to successfully finish its drawing operation. For more information, see <object id=alink_1 type="application/x-oleobject"
	classid="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
<PARAM name="Command" value="ALink,MENU">
<PARAM name="DefaultTopic" value="../../notopic_0pk4.htm">
<PARAM name="Item1" value="">
<PARAM name="Item2" value="_win32_device_contexts">
</object><a href=JavaScript:alink_1.Click()>Device Contexts</a>. </td>
</tr>
<tr valign=top>
<td width=41%>CS_DBLCLKS</td>
<td width=59%>Sends double-click messages to the window procedure when the user double-clicks the mouse while the cursor is within a window belonging to the class.</td>
</tr>
<tr valign=top>
<td width=41%>CS_GLOBALCLASS</td>
<td width=59%>Allows an application to create a window of the class regardless of the value of the <i>hInstance</i> parameter passed to the <a href="windows_1w6w.htm"><b>CreateWindowEx</b></a> function. If you do not specify this style, the <i>hInstance</i> parameter passed to the <b>CreateWindow</b> (or <b>CreateWindowEx</b>) function must be the same as the <i>hInstance</i> parameter passed to the <a href="winclass_0wc8.htm"><b>RegisterClassEx</b></a> function.</td>
</tr>
<tr valign=top>
<td width=41%></td>
<td width=59%>You can create a global class by creating the window class in a dynamic-link library (DLL) and listing the name of the DLL in the registry under the following keys:</td>
</tr>
<tr valign=top>
<td width=41%></td>
<td width=59%><b>HKEY_LOCAL_MACHINE</b>\<b>Software<br>
</b>\<b>Microsoft</b>\<b>Windows NT</b>\<br>
<b>CurrentVersion</b>\<b>Windows</b>\<b>AppInit_DLLs</b></td>
</tr>
<tr valign=top>
<td width=41%></td>
<td width=59%>Whenever a process starts, the system loads the specified DLLs in the context of the newly started process before calling the entry-point function in that process. The DLL must register the class during its initialization procedure and must specify the CS_GLOBALCLASS style.</td>
</tr>
<tr valign=top>
<td width=41%>CS_HREDRAW</td>
<td width=59%>Redraws the entire window if a movement or size adjustment changes the width of the client area.</td>
</tr>
<tr valign=top>
<td width=41%>CS_NOCLOSE</td>
<td width=59%>Disables <b>Close</b> on the <b>window</b> menu.</td>
</tr>
<tr valign=top>
<td width=41%>CS_OWNDC</td>
<td width=59%>Allocates a unique device context for each window in the class. For more information, see <object id=alink_2 type="application/x-oleobject"
	classid="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
<PARAM name="Command" value="ALink,MENU">
<PARAM name="DefaultTopic" value="../../notopic_0pk4.htm">
<PARAM name="Item1" value="">
<PARAM name="Item2" value="_win32_device_contexts">
</object><a href=JavaScript:alink_2.Click()>Device Contexts</a>. </td>
</tr>
<tr valign=top>
<td width=41%>CS_PARENTDC</td>
<td width=59%>Sets the clipping region of the child window to that of the parent window so that the child can draw on the parent. A window with the CS_PARENTDC style bit receives a regular device context from the system's cache of device contexts. It does not give the child the parent's device context or device context settings. Specifying CS_PARENTDC enhances an application's performance. For more information, see <object id=alink_3 type="application/x-oleobject"
	classid="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
<PARAM name="Command" value="ALink,MENU">
<PARAM name="DefaultTopic" value="../../notopic_0pk4.htm">
<PARAM name="Item1" value="">
<PARAM name="Item2" value="_win32_device_contexts">
</object><a href=JavaScript:alink_3.Click()>Device Contexts</a>. </td>
</tr>
<tr valign=top>
<td width=41%>CS_SAVEBITS</td>
<td width=59%>Saves, as a bitmap, the portion of the screen image obscured by a window. The system uses the saved bitmap to re-create the screen image when the window is removed. The system displays the bitmap at its original location and does not send <object id=alink_4 type="application/x-oleobject"
	classid="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
<PARAM name="Command" value="ALink,MENU">
<PARAM name="DefaultTopic" value="../../notopic_0pk4.htm">
<PARAM name="Item1" value="">
<PARAM name="Item2" value="_win32_wm_paint">
</object><a href=JavaScript:alink_4.Click()>WM_PAINT</a> messages to windows obscured by the window if the memory used by the bitmap has not been discarded and if other screen actions have not invalidated the stored image. This style is useful for small windows (for example, menus or dialog boxes) that are displayed briefly and then removed before other screen activity takes place. This style increases the time required to display the window, because the system must first allocate memory to store the bitmap.</td>
</tr>
<tr valign=top>
<td width=41%>CS_VREDRAW</td>
<td width=59%>Redraws the entire window if a movement or size adjustment changes the height of the client area.</td>
</tr>
</table><br>

</dd>
<dt>
<b>lpfnWndProc</b></dt>
<dd>
Pointer to the window procedure. You must use the <a href="winprocs_9dlv.htm"><b>CallWindowProc</b></a> function to call the window procedure. For more information, see <a href="winprocs_53xf.htm"><b>WindowProc</b></a>. </dd>
<dt>
<b>cbClsExtra</b></dt>
<dd>
Specifies the number of extra bytes to allocate following the window-class structure. The system initializes the bytes to zero. </dd>
<dt>
<b>cbWndExtra</b></dt>
<dd>
Specifies the number of extra bytes to allocate following the window instance. The system initializes the bytes to zero. If an application uses <b>WNDCLASSEX</b> to register a dialog box created by using the <b>CLASS</b> directive in the resource file, it must set this member to DLGWINDOWEXTRA. </dd>
<dt>
<b>hInstance</b></dt>
<dd>
Handle to the instance that the window procedure of this class is within. </dd>
<dt>
<b>hIcon</b></dt>
<dd>
Handle to the class icon. This member must be a handle of an icon resource. If this member is NULL, an application must draw an icon whenever the user minimizes the application's window. </dd>
<dt>
<b>hCursor</b></dt>
<dd>
Handle to the class cursor. This member must be a handle of a cursor resource. If this member is NULL, an application must explicitly set the cursor shape whenever the mouse moves into the application's window. </dd>
<dt>
<b>hbrBackground</b></dt>
<dd>
Handle to the class background brush. This member can be a handle to the physical brush to be used for painting the background, or it can be a color value. A color value must be one of the following standard system colors (the value 1 must be added to the chosen color). If a color value is given, you must convert it to one of the following <b>HBRUSH</b> types: 

<p>
COLOR_ACTIVEBORDER<br>
COLOR_ACTIVECAPTION<br>
COLOR_APPWORKSPACE<br>
COLOR_BACKGROUND<br>
COLOR_BTNFACE<br>
COLOR_BTNSHADOW<br>
COLOR_BTNTEXT<br>
COLOR_CAPTIONTEXT<br>
COLOR_GRAYTEXT<br>
COLOR_HIGHLIGHT<br>
COLOR_HIGHLIGHTTEXT<br>
COLOR_INACTIVEBORDER<br>
COLOR_INACTIVECAPTION<br>
COLOR_MENU<br>
COLOR_MENUTEXT<br>
COLOR_SCROLLBAR<br>
COLOR_WINDOW<br>
COLOR_WINDOWFRAME<br>
COLOR_WINDOWTEXT

<p>
The system automatically deletes class background brushes when the class is freed. An application should not delete these brushes, because a class may be used by multiple instances of an application. 

<p>
When this member is NULL, an application must paint its own background whenever it is requested to paint in its client area. To determine whether the background must be painted, an application can either process the WM_ERASEBKGND message or test the <b>fErase</b> member of the <object id=alink_5 type="application/x-oleobject"
	classid="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
<PARAM name="Command" value="ALink,MENU">
<PARAM name="DefaultTopic" value="../../notopic_0pk4.htm">
<PARAM name="Item1" value="">
<PARAM name="Item2" value="_win32_paintstruct_str">
</object><a href=JavaScript:alink_5.Click()><b>PAINTSTRUCT</b></a> structure filled by the <object id=alink_6 type="application/x-oleobject"
	classid="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
<PARAM name="Command" value="ALink,MENU">
<PARAM name="DefaultTopic" value="../../notopic_0pk4.htm">
<PARAM name="Item1" value="">
<PARAM name="Item2" value="_win32_beginpaint">
</object><a href=JavaScript:alink_6.Click()><b>BeginPaint</b></a> function. 
</dd>
<dt>
<b>lpszMenuName</b></dt>
<dd>
Pointer to a null-terminated character string that specifies the resource name of the class menu, as the name appears in the resource file. If you use an integer to identify the menu, use the <a href="resource_2dd1.htm"><b>MAKEINTRESOURCE</b></a> macro. If this member is NULL, windows belonging to this class have no default menu. </dd>
<dt>
<b>lpszClassName</b></dt>
<dd>
Pointer to a null-terminated string or is an atom. If this parameter is an atom, it must be a global atom created by a previous call to the <b>GlobalAddAtom</b> function. The atom, a 16-bit value, must be in the low-order word of <b>lpszClassName</b>; the high-order word must be zero. 
<p>
If <b>lpszClassName</b> is a string, it specifies the window class name. 
</dd>
<dt>
<b>hIconSm</b></dt>
<dd>
Handle to a small icon that is associated with the window class. If this member is NULL, the system searches the icon resource specified by the <b>hIcon</b> member for an icon of the appropriate size to use as the small icon. 
</dd>
</dl>
<h4>QuickInfo</h4>
<p>
<b>&nbsp;&nbsp;Windows NT: </b>Requires version 3.5 or later.<br>
<b>&nbsp;&nbsp;Windows: </b>Requires Windows 95 or later.<br>
<b>&nbsp;&nbsp;Windows CE: </b>Unsupported.<br>
<b>&nbsp;&nbsp;Header: </b>Declared in winuser.h.<br>
<b>&nbsp;&nbsp;Unicode: </b>Defined as Unicode and ANSI structures.</p>
<h4>See Also</h4>
<p>
<a href="winclass_1ooj.htm">Window Classes Overview</a>, <a href="winclass_9vzn.htm">Window Class Structures</a>, <a href="winclass_2jp4.htm"><b>GetClassInfoEx</b></a>, <a href="winclass_0wc8.htm"><b>RegisterClassEx</b></a> </p>
<p>
</p>
<p>&nbsp;</p></body>
</HTML>
