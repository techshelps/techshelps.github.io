<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>DrawIconEx</title>
<link disabled rel=stylesheet href=../../backsdk3.css>
<style type="text/css">
@import url(../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h1><a name="_win32_drawiconex"></a>DrawIconEx</h1>
<p>
The <b>DrawIconEx</b> function draws an icon or cursor in the client area of the window of the specified device context, performing the specified raster operations, and stretching or compressing the icon or cursor as specified. </p>
<pre><code><b>BOOL DrawIconEx(
  HDC</b><i> hdc</i><b>,                    </b>// handle to device context
<b>  int</b><i> xLeft</i><b>,                  </b>// x-coordinate of upper left corner
<b>  int</b><i> yTop</i><b>,                   </b>// y-coordinate of upper left corner
<b>  HICON</b><i> hIcon</i><b>,                </b>// handle to icon to draw
<b>  int</b><i> cxWidth</i><b>,                </b>// width of the icon
<b>  int</b><i> cyWidth</i><b>,                </b>// height of the icon
<b>  UINT</b><i> istepIfAniCur</i><b>,         </b>// index of frame in animated cursor
<b>  HBRUSH</b><i> hbrFlickerFreeDraw</i><b>,  </b>// handle to background brush
  <b>UINT</b> <i>diFlags</i>                // icon-drawing flags
<b>);</b>
 </code></pre>
<h4>Parameters</h4>
<dl>
<dt>
<i>hdc</i></dt>
<dd>
Handle to the device context for a window. </dd>
<dt>
<i>xLeft</i></dt>
<dd>
Specifies the logical x-coordinate of the upper-left corner of the icon or cursor. </dd>
<dt>
<i>yTop</i></dt>
<dd>
Specifies the logical y-coordinate of the upper-left corner of the icon or cursor. </dd>
<dt>
<i>hIcon</i></dt>
<dd>
Handle to the icon or cursor to be drawn. This parameter can identify an animated cursor. The icon or cursor resource must have been previously loaded by using the <a href="resource_9fhi.htm"><b>LoadImage</b></a> function. </dd>
<dt>
<i>cxWidth</i></dt>
<dd>
Specifies the logical width of the icon or cursor. If this parameter is zero and the <i>diFlags</i> parameter is DI_DEFAULTSIZE, the function uses the SM_CXICON or SM_CXCURSOR system metric value to set the width. If this parameter is zero and DI_DEFAULTSIZE is not used, the function uses the actual resource width. </dd>
<dt>
<i>cyWidth</i></dt>
<dd>
Specifies the logical height of the icon or cursor. If this parameter is zero and the <i>diFlags</i> parameter is DI_DEFAULTSIZE, the function uses the SM_CYICON or SM_CYCURSOR system metric value to set the width. If this parameter is zero and DI_DEFAULTSIZE is not used, the function uses the actual resource height. </dd>
<dt>
<i>istepIfAniCur</i></dt>
<dd>
Specifies the index of the frame to draw, if <i>hIcon</i> identifies an animated cursor. This parameter is ignored if <i>hIcon</i> does not identify an animated cursor.</dd>
<dt>
<i>hbrFlickerFreeDraw</i></dt>
<dd>
Handle to a brush that the system uses for flicker-free drawing. If <i>hbrFlickerFreeDraw</i> is a valid brush handle, the system creates an offscreen bitmap using the specified brush for the background color, draws the icon or cursor into the bitmap, and then copies the bitmap into the device context identified by <i>hdc</i>. If <i>hbrFlickerFreeDraw</i> is NULL, the system draws the icon or cursor directly into the device context.</dd>
<dt>
<i>diFlags</i></dt>
<dd>
Specifies the drawing flags. This parameter can be one of the following values:
<table cellspacing=4 cols=2>
<tr valign=top>
<th align=left width=34%>Value</th>
<th align=left width=66%>Meaning</th>
</tr>
<tr valign=top>
<td width=34%>DI_COMPAT</td>
<td width=66%>Draws the icon or cursor using the system default image rather than the user-specified image.</td>
</tr>
<tr valign=top>
<td width=34%>DI_DEFAULTSIZE</td>
<td width=66%>Draws the icon or cursor using the width and height specified by the system metric values for cursors or icons, if the <i>cxWidth</i> and <i>cyWidth</i> parameters are set to zero. If this flag is not specified and <i>cxWidth</i> and <i>cyWidth</i> are set to zero, the function uses the actual resource size. </td>
</tr>
<tr valign=top>
<td width=34%>DI_IMAGE</td>
<td width=66%>Draws the icon or cursor using the image.</td>
</tr>
<tr valign=top>
<td width=34%>DI_MASK</td>
<td width=66%>Draws the icon or cursor using the mask.</td>
</tr>
<tr valign=top>
<td width=34%>DI_NORMAL</td>
<td width=66%>Combination of DI_IMAGE and DI_MASK.</td>
</tr>
</table><br>

</dd>
</dl>
<h4>Return Values</h4>
<p>
If the function succeeds, the return value is nonzero.</p>
<p>
If the function fails, the return value is zero. To get extended error information, call <object id=alink_1 type="application/x-oleobject"
	classid="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
<PARAM name="Command" value="ALink,MENU">
<PARAM name="DefaultTopic" value="../../notopic_0pk4.htm">
<PARAM name="Item1" value="">
<PARAM name="Item2" value="_win32_getlasterror">
</object><a href=JavaScript:alink_1.Click()><b>GetLastError</b></a>. </p>
<h4>Remarks</h4>
<p>
The <b>DrawIconEx</b> function places the icon's upper-left corner at the location specified by the <i>xLeft</i> and <i>yTop</i> parameters. The location is subject to the current mapping mode of the device context. </p>
<p>
<b>Windows CE:</b> The following parameter settings must be used: 
<ul>
<li>
<i>diFlags</i> must be DI_NORMAL, DI_IMAGE, or DI_MASK. (DI_COMPAT and DI_DEFAULTSIZE are not supported.)</li>
<li>
<i>cxWidth</i> and <i>cyHeight</i> must be zero or the native dimensions of the icon. </li>
<li>
<i>hbrFlickerFreeDraw</i> must be NULL. </li>
<li>
<i>iStepIfAniCur</i> must be zero. Animated icons are not supported. </li>
</ul>
<p>
Windows CE does not support:
<ul>
<li>
Stretching and compressing. <p>
That is, the icon resolution is fixed for a given HICON, and no icon resizing is supported.
</li>
<li>
Mapping modes.</li>
<li>
Using <b>DrawIconEx</b> to draw cursors.</li>
</ul>
<p>
The <i>hIcon</i> parameter cannot identify an animated cursor. </p>
<h4>QuickInfo</h4>
<p>
<b>&nbsp;&nbsp;Windows NT: </b>Requires version 3.5 or later.<br>
<b>&nbsp;&nbsp;Windows: </b>Requires Windows 95 or later.<br>
<b>&nbsp;&nbsp;Windows CE: </b>Requires version 1.0 or later.<br>
<b>&nbsp;&nbsp;Header: </b>Declared in winuser.h.<br>
<b>&nbsp;&nbsp;Import Library: </b>Use user32.lib.</p>
<h4>See Also</h4>
<p>
<a href="icons_1xpv.htm">Icons Overview</a>, <a href="icons_7zlf.htm">Icon Functions</a>, <a href="resource_9fhh.htm"><b>CopyImage</b></a>, <a href="icons_8omm.htm"><b>DrawIcon</b></a>, <a href="resource_9fhi.htm"><b>LoadImage</b></a> </p>
<p>&nbsp;</p></body>
</HTML>
