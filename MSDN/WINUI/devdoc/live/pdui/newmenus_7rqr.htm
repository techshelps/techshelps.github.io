<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Messages Used with Menus</title>
<link disabled rel=stylesheet href=../../backsdk3.css>
<style type="text/css">
@import url(../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h2><a name="_win32_messages_used_with_menus"></a>Messages Used with Menus</h2>
<p>
The system reports menu-related activity by sending messages to the window procedure of the window that owns the menu. The system sends a series of messages when the user selects items on the menu bar or clicks the right mouse button to display a shortcut menu.</p>
<p>
When the user activates an item on the menu bar, the owner window first receives a <a href="keybacel_19t0.htm">WM_SYSCOMMAND</a> message. This message includes a flag that indicates whether the user activated the menu by using the keyboard (SC_KEYMENU) or the mouse (SC_MOUSEMENU). For more information, see <a href="newmenus_5zjn.htm">Keyboard Access to Menus</a>.</p>
<p>
Next, before displaying any menus, the system sends the <a href="keybacel_1q0l.htm">WM_INITMENU</a> message to the window procedure so that an application can modify the menus before the user sees them. The system sends the WM_INITMENU message only once per menu activation. </p>
<p>
When the user points to a menu item that opens a submenu, the system sends the owner window the <a href="keybacel_2p80.htm">WM_INITMENUPOPUP</a> message before displaying the submenu. This message gives the application an opportunity to modify the submenu before it is displayed. </p>
<p>
Each time the user moves the highlighting from one item to another, the system sends a <a href="keybacel_4jp0.htm">WM_MENUSELECT</a> message to the window procedure of the menu's owner window. This message identifies the currently selected menu item. Many applications provide an information area at the bottom of their main windows and use this message to display additional information about the selected menu item. </p>
<p>
When the user chooses a command item from a menu, the system sends a <a href="editcon_8wh0.htm">WM_COMMAND</a> message to the window procedure. The low-order word of the WM_COMMAND message's <i>wParam</i> parameter contains the identifier of the chosen item. The window procedure should examine the identifier and process the message accordingly.</p>
<p>
Not all menus are accessible through a window's menu bar. Many applications display shortcut menus when the user clicks the right mouse button at a specific location. Such applications should process the <a href="newmenus_68vp.htm">WM_CONTEXTMENU</a> message and display a shortcut menu, if appropriate. If an application does not display a shortcut menu, it should pass the WM_CONTEXTMENU message to the <a href="winprocs_10o3.htm"><b>DefWindowProc</b></a> function for default processing.</p>
<p>&nbsp;</p></body>
</HTML>
