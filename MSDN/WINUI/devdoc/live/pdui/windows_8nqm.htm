<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>WM_QUERYDRAGICON</title>
<link disabled rel=stylesheet href=../../backsdk3.css>
<style type="text/css">
@import url(../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h1><a name="_win32_wm_querydragicon"></a>WM_QUERYDRAGICON</h1>
<p>
The WM_QUERYDRAGICON message is sent to a minimized (iconic) window. The window is about to be dragged by the user but does not have an icon defined for its class. An application can return a handle to an icon or cursor. The system displays this cursor or icon while the user drags the icon. </p>
<pre><code>WM_QUERYDRAGICON 
 </code></pre>
<h4>Parameters</h4>
<p>
This message has no parameters. </p>
<h4>Return Values</h4>
<p>
An application should return a handle to a cursor or icon that the system is to display while the user drags the icon. The cursor or icon must be compatible with the display driver's resolution. If the application returns NULL, the system displays the default cursor. </p>
<h4>Default Action</h4>
<p>
The <b>DefWindowProc</b> function returns a handle to the default cursor. </p>
<h4>Remarks</h4>
<p>
When the user drags the icon of a window without a class icon, the system replaces the icon with a default cursor. If the application requires a different cursor to be displayed during dragging, it must return a handle to the cursor or icon compatible with the display driver's resolution. If an application returns a handle to a color cursor or icon, the system converts the cursor or icon to black and white. The application can call the <b>LoadCursor</b> or <b>LoadIcon</b> function to load a cursor or icon from the resources in its executable (.EXE) file and to retrieve this handle. </p>
<p>
If a dialog box procedure handles this message, it should cast the desired return value to a <b>BOOL</b> and return the value directly. The DWL_MSGRESULT value set by the <b>SetWindowLong</b> function is ignored. </p>
<h4>QuickInfo</h4>
<p>
<b>&nbsp;&nbsp;Windows NT: </b>Requires version 3.1 or later.<br>
<b>&nbsp;&nbsp;Windows: </b>Requires Windows 95 or later.<br>
<b>&nbsp;&nbsp;Windows CE: </b>Requires version 2.0 or later.<br>
<b>&nbsp;&nbsp;Header: </b>Declared in winuser.h.</p>
<h4>See Also</h4>
<p>
<a href="windows_6t2r.htm">Windows Overview</a>, <a href="windows_2v8z.htm">Window Messages</a>, <a href="winprocs_10o3.htm"><b>DefWindowProc</b></a>, <a href="cursors_2sab.htm"><b>LoadCursor</b></a>, <a href="icons_799r.htm"><b>LoadIcon</b></a> </p>
<p>&nbsp;</p></body>
</HTML>
