<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Control-Color Messages</title>
<link disabled rel=stylesheet href=../../backsdk3.css>
<style type="text/css">
@import url(../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h3><a name="_win32_control.2d.color_messages"></a>Control-Color Messages </h3>
<p>
Controls and the system can send control-color messages when they want the dialog box procedure to paint the background of a control or other window by using a specific brush and colors. This can be useful when applications override the default colors used in dialog boxes and their controls. Following are the control-color messages, which have replaced the WM_CTLCOLOR message. </p>
<p>
<a href="buttons_0d4e.htm">WM_CTLCOLORBTN</a><br>
<a href="dlgboxes_0j1j.htm">WM_CTLCOLORDLG</a><br>
<a href="editcon_8rw4.htm">WM_CTLCOLOREDIT</a><br>
<a href="listbox_82t4.htm">WM_CTLCOLORLISTBOX</a><br>
<a href="dlgboxes_4ud4.htm">WM_CTLCOLORMSGBOX</a><br>
<a href="scrolbar_0cz6.htm">WM_CTLCOLORSCROLLBAR</a><br>
<a href="statcon_6dnn.htm">WM_CTLCOLORSTATIC</a></p>
<p>
A control sends a control-color message to the dialog box procedure just before it paints its own background. The message allows the procedure to specify which brush to use and to set the background and foreground colors. The procedure specifies a brush by returning the brush handle. To set the background and foreground colors, the procedure uses the <object id=alink_1 type="application/x-oleobject"
	classid="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
<PARAM name="Command" value="ALink,MENU">
<PARAM name="DefaultTopic" value="../../notopic_0pk4.htm">
<PARAM name="Item1" value="">
<PARAM name="Item2" value="_win32_setbkcolor">
</object><a href=JavaScript:alink_1.Click()><b>SetBkColor</b></a> and <object id=alink_2 type="application/x-oleobject"
	classid="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
<PARAM name="Command" value="ALink,MENU">
<PARAM name="DefaultTopic" value="../../notopic_0pk4.htm">
<PARAM name="Item1" value="">
<PARAM name="Item2" value="_win32_settextcolor">
</object><a href=JavaScript:alink_2.Click()><b>SetTextColor</b></a> functions with the control's display device context. The control-color message passes a handle of the display device context to the procedure in the message's <i>wParam</i> parameter. </p>
<p>
The system sends a WM_CTLCOLORDLG message to the dialog box procedure if the procedure does not process the <a href="icons_02xw.htm">WM_ERASEBKGND</a> message. The predefined dialog box class does not have a class background brush, so this message lets the procedure define its own background without having to include the code to carry out the work. </p>
<p>
In any case, when a dialog box procedure does not process a control-color message, the system uses a brush with the default window color to paint the background for all controls and windows except scroll bars. An application can retrieve the default window color by passing the COLOR_WINDOW value to the <object id=alink_3 type="application/x-oleobject"
	classid="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
<PARAM name="Command" value="ALink,MENU">
<PARAM name="DefaultTopic" value="../../notopic_0pk4.htm">
<PARAM name="Item1" value="">
<PARAM name="Item2" value="_win32_getsyscolor">
</object><a href=JavaScript:alink_3.Click()><b>GetSysColor</b></a> function. While the background is painted, the foreground color for the display device context is set to the default text color (COLOR_WINDOWTEXT). For scroll bars, the system uses a brush having the default scroll bar color (COLOR_SCROLLBAR). In this case, the background and foreground colors for the display device context are set to white and black, respectively. </p>
<p>&nbsp;</p></body>
</HTML>
