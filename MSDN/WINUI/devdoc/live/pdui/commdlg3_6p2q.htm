<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>CHOOSECOLOR</title>
<link disabled rel=stylesheet href=../../backsdk3.css>
<style type="text/css">
@import url(../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h1><a name="_win32_choosecolor_str"></a>CHOOSECOLOR</h1>
<p>
The <b>CHOOSECOLOR</b> structure contains information the <a href="commdlg3_4p4i.htm"><b>ChooseColor</b></a> function uses to initialize the <b>Color</b> common dialog box. After the user closes the dialog box, the system returns information about the user's selection in this structure. </p>
<pre><code>typedef struct {   // cc 
    DWORD        lStructSize; 
    HWND         hwndOwner; 
    HWND         hInstance; 
    COLORREF     rgbResult; 
    COLORREF*    lpCustColors; 
    DWORD        Flags; 
    LPARAM       lCustData; 
    LPCCHOOKPROC lpfnHook; 
    LPCTSTR      lpTemplateName; 
} CHOOSECOLOR; 
 </code></pre>
<h4>Members</h4>
<dl>
<dt>
<b>lStructSize</b></dt>
<dd>
Specifies the length, in bytes, of the structure. </dd>
<dt>
<b>hwndOwner</b></dt>
<dd>
Identifies the window that owns the dialog box. This member can be any valid window handle, or it can be NULL if the dialog box has no owner. </dd>
<dt>
<b>hInstance</b></dt>
<dd>
If the CC_ENABLETEMPLATEHANDLE flag is set in the <b>Flags</b> member, <b>hInstance</b> is the handle of a memory object containing a dialog box template. If the CC_ENABLETEMPLATE flag is set, <b>hInstance</b> identifies a module that contains a dialog box template named by the <b>lpTemplateName</b> member. If neither CC_ENABLETEMPLATEHANDLE nor CC_ENABLETEMPLATE is set, this member is ignored.</dd>
<dt>
<b>rgbResult</b></dt>
<dd>
If the CC_RGBINIT flag is set, <b>rgbResult</b> specifies the color initially selected when the dialog box is created. If the specified color value is not among the available colors, the system selects the nearest solid color available. If <b>rgbResult</b> is zero or CC_RGBINIT is not set, the initially selected color is black. If the user clicks the OK button, <b>rgbResult</b> specifies the user's color selection. </dd>
<dt>
<b>lpCustColors</b></dt>
<dd>
Pointer to an array of 16 COLORREF values that contain red, green, blue (RGB) values for the custom color boxes in the dialog box. If the user modifies these colors, the system updates the array with the new RGB values. To preserve new custom colors between calls to the <a href="commdlg3_4p4i.htm"><b>ChooseColor</b></a> function, you should allocate static memory for the array. </dd>
<dt>
<b>Flags</b></dt>
<dd>
A set of bit flags that you can use to initialize the <b>Color</b> common dialog box. When the dialog box returns, it sets these flags to indicate the user's input. This member can be a combination of the following flags: 
<table cellspacing=4 cols=2>
<tr valign=top>
<th align=left width=50%>Flag</th>
<th align=left width=50%>Meaning</th>
</tr>
<tr valign=top>
<td width=50%>CC_ANYCOLOR</td>
<td width=50%>Causes the dialog box to display all available colors in the set of basic colors. </td>
</tr>
<tr valign=top>
<td width=50%>CC_ENABLEHOOK</td>
<td width=50%>Enables the hook procedure specified in the <b>lpfnHook</b> member of this structure. This flag is used only to initialize the dialog box.</td>
</tr>
<tr valign=top>
<td width=50%>CC_ENABLETEMPLATE</td>
<td width=50%>Indicates that the <b>hInstance</b> and <b>lpTemplateName</b> members specify a dialog box template to use in place of the default template. This flag is used only to initialize the dialog box.</td>
</tr>
<tr valign=top>
<td width=50%>CC_ENABLETEMPLATEHANDLE</td>
<td width=50%>Indicates that the <b>hInstance</b> member identifies a data block that contains a preloaded dialog box template. The system ignores the <b>lpTemplateName</b> member if this flag is specified. This flag is used only to initialize the dialog box.</td>
</tr>
<tr valign=top>
<td width=50%>CC_FULLOPEN</td>
<td width=50%>Causes the dialog box to display the additional controls that allow the user to create custom colors. If this flag is not set, the user must click the <b>Define</b> <b>Custom</b> <b>Color</b> button to display the custom color controls.</td>
</tr>
<tr valign=top>
<td width=50%>CC_PREVENTFULLOPEN</td>
<td width=50%>Disables the <b>Define</b> <b>Custom</b> <b>Colors</b> button.</td>
</tr>
<tr valign=top>
<td width=50%>CC_RGBINIT</td>
<td width=50%>Causes the dialog box to use the color specified in the <b>rgbResult</b> member as the initial color selection.</td>
</tr>
<tr valign=top>
<td width=50%>CC_SHOWHELP</td>
<td width=50%>Causes the dialog box to display the Help button. The <b>hwndOwner</b> member must specify the window to receive the <a href="commdlg3_9d2f.htm">HELPMSGSTRING</a> registered messages that the dialog box sends when the user clicks the <b>Help</b> button.</td>
</tr>
<tr valign=top>
<td width=50%>CC_SOLIDCOLOR</td>
<td width=50%>Causes the dialog box to display only solid colors in the set of basic colors. </td>
</tr>
</table><br>

</dd>
<dt>
<b>lCustData</b></dt>
<dd>
Specifies application-defined data that the system passes to the hook procedure identified by the <b>lpfnHook</b> member. When the system sends the <a href="dlgboxes_4n1j.htm">WM_INITDIALOG</a> message to the hook procedure, the message's <i>lParam</i> parameter is a pointer to the <b>CHOOSECOLOR</b> structure specified when the dialog was created. The hook procedure can use this pointer to get the <b>lCustData</b> value.</dd>
<dt>
<b>lpfnHook</b></dt>
<dd>
Pointer to a <a href="commdlg3_04yr.htm"><b>CCHookProc</b></a> hook procedure that can process messages intended for the dialog box. This member is ignored unless the CC_ENABLEHOOK flag is set in the <b>Flags</b> member. </dd>
<dt>
<b>lpTemplateName</b></dt>
<dd>
Pointer to a null-terminated string that names the dialog box template resource in the module identified by the <b>hInstance</b> member. This template is substituted for the standard dialog box template. For numbered dialog box resources, <b>lpTemplateName</b> can be a value returned by the <b>MAKEINTRESOURCE</b> macro. This member is ignored unless the CC_ENABLETEMPLATE flag is set in the <b>Flags</b> member.
</dd>
</dl>
<h4>QuickInfo</h4>
<p>
<b>&nbsp;&nbsp;Windows NT: </b>Requires version 3.1 or later.<br>
<b>&nbsp;&nbsp;Windows: </b>Requires Windows 95 or later.<br>
<b>&nbsp;&nbsp;Windows CE: </b>Requires version 1.0 or later.<br>
<b>&nbsp;&nbsp;Header: </b>Declared in commdlg.h.<br>
<b>&nbsp;&nbsp;Unicode: </b>Defined as Unicode and ANSI structures.</p>
<h4>See Also</h4>
<p>
<a href="commdlg3_04ft.htm">Common Dialog Box Library Overview</a>, <a href="commdlg3_2xir.htm">Common Dialog Box Structures</a>, <a href="commdlg3_04yr.htm"><b>CCHookProc</b></a>, <a href="commdlg3_4p4i.htm"><b>ChooseColor</b></a>, <a href="resource_2dd1.htm"><b>MAKEINTRESOURCE</b></a>,<b> </b><a href="dlgboxes_4n1j.htm">WM_INITDIALOG</a> </p>
<p>&nbsp;</p></body>
</HTML>
