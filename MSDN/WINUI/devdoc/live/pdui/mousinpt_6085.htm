<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>The WM_NCHITTEST Message</title>
<link disabled rel=stylesheet href=../../backsdk3.css>
<style type="text/css">
@import url(../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h2><a name="_win32_the_wm_nchittest_message"></a>The WM_NCHITTEST Message</h2>
<p>
Whenever a mouse event occurs, the system sends a <a href="mousinpt_7ik4.htm">WM_NCHITTEST</a> message to either the window that contains the cursor hot spot or the window that has captured the mouse. The system uses this message to determine whether to send a client area or nonclient area mouse message. An application that must receive mouse movement and mouse button messages must pass the WM_NCHITTEST message to the <a href="winprocs_10o3.htm"><b>DefWindowProc</b></a> function. </p>
<p>
The <i>lParam</i> parameter of the WM_NCHITTEST message contains the screen coordinates of the cursor hot spot. The <b>DefWindowProc</b> function examines the coordinates and returns a hit-test value that identifies the location of the hot spot. The hit-test value can be one of the following values. </p>
<table cellspacing=4 cols=2>
<tr valign=top>
<th align=left width=29%>Value</th>
<th align=left width=71%>Location of hot spot</th>
</tr>
<tr valign=top>
<td width=29%>HTBORDER</td>
<td width=71%>In the border of a window that does not have a sizing border</td>
</tr>
<tr valign=top>
<td width=29%>HTBOTTOM</td>
<td width=71%>In the lower horizontal border of a window</td>
</tr>
<tr valign=top>
<td width=29%>HTBOTTOMLEFT</td>
<td width=71%>In the lower left corner of a window border</td>
</tr>
<tr valign=top>
<td width=29%>HTBOTTOMRIGHT</td>
<td width=71%>In the lower right corner of a window border</td>
</tr>
<tr valign=top>
<td width=29%>HTCAPTION</td>
<td width=71%>In a title bar</td>
</tr>
<tr valign=top>
<td width=29%>HTCLIENT</td>
<td width=71%>In a client area</td>
</tr>
<tr valign=top>
<td width=29%>HTCLOSE</td>
<td width=71%>In close button.</td>
</tr>
<tr valign=top>
<td width=29%>HTERROR</td>
<td width=71%>On the screen background or on a dividing line between windows (same as HTNOWHERE, except that the <a href="winprocs_10o3.htm"><b>DefWindowProc</b></a> function produces a system beep to indicate an error)</td>
</tr>
<tr valign=top>
<td width=29%>HTGROWBOX</td>
<td width=71%>In a size box (same as HTSIZE)</td>
</tr>
<tr valign=top>
<td width=29%>HTHELP</td>
<td width=71%>In Help button.</td>
</tr>
<tr valign=top>
<td width=29%>HTHSCROLL</td>
<td width=71%>In a horizontal scroll bar</td>
</tr>
<tr valign=top>
<td width=29%>HTLEFT</td>
<td width=71%>In the left border of a window</td>
</tr>
<tr valign=top>
<td width=29%>HTMENU</td>
<td width=71%>In a menu</td>
</tr>
<tr valign=top>
<td width=29%>HTMAXBUTTON</td>
<td width=71%>In Maximize button.</td>
</tr>
<tr valign=top>
<td width=29%>HTMINBUTTON</td>
<td width=71%>In Minimize button.</td>
</tr>
<tr valign=top>
<td width=29%>HTNOWHERE</td>
<td width=71%>On the screen background or on a dividing line between windows</td>
</tr>
<tr valign=top>
<td width=29%>HTREDUCE</td>
<td width=71%>In a Minimize button</td>
</tr>
<tr valign=top>
<td width=29%>HTRIGHT</td>
<td width=71%>In the right border of a window</td>
</tr>
<tr valign=top>
<td width=29%>HTSIZE</td>
<td width=71%>In a size box (same as HTGROWBOX)</td>
</tr>
<tr valign=top>
<td width=29%>HTSYSMENU</td>
<td width=71%>In a System menu or in a Close button in a child window</td>
</tr>
<tr valign=top>
<td width=29%>HTTOP</td>
<td width=71%>In the upper horizontal border of a window</td>
</tr>
<tr valign=top>
<td width=29%>HTTOPLEFT</td>
<td width=71%>In the upper left corner of a window border</td>
</tr>
<tr valign=top>
<td width=29%>HTTOPRIGHT</td>
<td width=71%>In the upper right corner of a window border</td>
</tr>
<tr valign=top>
<td width=29%>HTTRANSPARENT</td>
<td width=71%>In a window currently covered by another window in the same thread</td>
</tr>
<tr valign=top>
<td width=29%>HTVSCROLL</td>
<td width=71%>In the vertical scroll bar</td>
</tr>
<tr valign=top>
<td width=29%>HTZOOM</td>
<td width=71%>In a Maximize button</td>
</tr>
</table><br>
<p>
If the cursor is in the client area of a window, <a href="winprocs_10o3.htm"><b>DefWindowProc</b></a> returns the HTCLIENT hit-test value to the window procedure. When the window procedure returns this code to the system, the system converts the screen coordinates of the cursor hot spot to client coordinates, and then posts the appropriate client area mouse message. </p>
<p>
The <b>DefWindowProc</b> function returns one of the other hit-test values when the cursor hot spot is in a window's nonclient area. When the window procedure returns one of these hit-test values, the system posts a nonclient area mouse message, placing the hit-test value in the message's <i>wParam</i> parameter and the cursor coordinates in the <i>lParam</i> parameter. </p>
<p>&nbsp;</p></body>
</HTML>
