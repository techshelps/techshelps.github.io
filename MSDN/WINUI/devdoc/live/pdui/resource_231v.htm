<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Win32 Resource File Formats</title>
<link disabled rel=stylesheet href=../../backsdk3.css>
<style type="text/css">
@import url(../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h2><a name="_win32_win32_resource_file_formats"></a>Win32 Resource File Formats</h2>
<p>
This section describes the format of the <i>binary resource file</i> that the resource compiler creates based on the contents of the resource-definition file. This file usually has an .RES extension. The linker reformats the .RES file into a resource object file and then links it to the executable file of a Win32-based application. </p>
<p>
A binary resource file consists of a number of concatenated resource entries. Each entry consists of a resource header<b> </b>and the data for that resource. A resource header is <b>DWORD</b>-aligned in the file and consists of the following:
<ul>
<li>
A <b>DWORD</b> that contains the size of the resource header </li>
<li>
A <b>DWORD</b> that contains the size of the resource data </li>
<li>
The resource type </li>
<li>
The resource name </li>
<li>
Additional resource information </li>
</ul>
<p>
The <a href="resource_22cy.htm"><b>RESOURCEHEADER</b></a> structure describes the format of this header. The data for the resource follows the resource header and is specific to each type of resource. Some resources also employ a resource-specific group header structure to provide information about a group of resources. </p>
<p>
An accelerator table is one resource entry in a resource file. It does not have a group header. An <a href="resource_1che.htm"><b>ACCELTABLEENTRY</b></a><b> </b>structure describes each entry in the accelerator table. Multiple accelerator tables are permitted. </p>
<p>
A dialog box is also one resource entry in the resource file. It consists of one <a href="dlgboxes_8nzm.htm"><b>DLGTEMPLATE</b></a><b> </b>dialog box header structure plus one <a href="dlgboxes_971u.htm"><b>DLGITEMTEMPLATE</b></a><b> </b>structure for each control in the dialog box. The <a href="dlgboxes_1qwi.htm"><b>DLGTEMPLATEEX</b></a><b> </b>and the <a href="dlgboxes_0jqq.htm"><b>DLGITEMTEMPLATEEX</b></a><b> </b>structures describe the format of extended dialog box resources. </p>
<p>
Fonts are stored in the resource file as a group of resources. Individual fonts make up a font group. A <object id=alink_1 type="application/x-oleobject"
	classid="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
<PARAM name="Command" value="ALink,MENU">
<PARAM name="DefaultTopic" value="../../notopic_0pk4.htm">
<PARAM name="Item1" value="">
<PARAM name="Item2" value="_tools_font_statement">
</object><a href=JavaScript:alink_1.Click()><b>FONT</b> <b>Statement</b></a> resource definition statement in the .RC file defines each font. Each individual font in the resource consists of the complete contents of the related .FNT file. A <a href="resource_3ylu.htm"><b>FONTGROUPHDR</b></a> structure follows all the individual font components in the .RES file. </p>
<p>
Font resources are not added to the resources of a specific application. Instead, they are normally added to executable files that have a .FON extension. These files are usually resource-only dynamic-link libraries (DLLs) rather than applications. </p>
<p>
The system handles each icon and cursor as a single file. However, these are stored in .RES files and in executable files as a group of icon resources or a group of cursor resources. The file formats of icon and cursor resources are similar. In the .RES file a resource group header follows all of the individual icon or cursor group components. </p>
<p>
The format of each icon component closely resembles the format of the .ICO file. Each icon image is stored in a <object id=alink_2 type="application/x-oleobject"
	classid="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
<PARAM name="Command" value="ALink,MENU">
<PARAM name="DefaultTopic" value="../../notopic_0pk4.htm">
<PARAM name="Item1" value="">
<PARAM name="Item2" value="_win32_bitmapinfo_str">
</object><a href=JavaScript:alink_2.Click()><b>BITMAPINFO</b></a> structure followed by the color device-independent bitmap (DIB) bits of the icon's XOR mask. The monochrome DIB bits of the icon's AND mask follow the color DIB bits. </p>
<p>
The format of each cursor component resembles the format of the .CUR file. Each cursor image is stored in a <b>BITMAPINFO</b> structure followed by the monochrome device-independent bitmap (DIB) bits of the cursor's XOR mask, and then by the monochrome DIB bits of the cursor's AND mask. Note that there is a difference in the bitmaps of the two resources: Unlike icons, cursor XOR masks do not have color DIB bits. Although the bitmaps of the cursor masks are monochrome and do not have DIB headers or color tables, the bits are still in DIB format with respect to alignment and direction. Another significant difference between cursors and icons is that cursors have a hotspot and icons do not. </p>
<p>
The group header for both icon and cursor resources consists of a <a href="resource_0ghe.htm"><b>NEWHEADER</b></a><b> </b>structure plus one or more <b>RESDIR</b> structures. There is one <a href="resource_04fm.htm"><b>RESDIR</b></a> structure for each icon or cursor. The group header contains the information a Win32-based application needs to select the correct icon or cursor to display. Both the group header and the data that repeats for each icon or cursor in the group have a fixed length. This allows the application to randomly access the information. </p>
<p>
A menu resource consists of a <a href="resource_3njm.htm"><b>MENUHEADER</b></a><b> </b>structure followed by one or more <a href="resource_8vaq.htm"><b>NORMALMENUITEM</b></a><b> </b>or<b> <a href="resource_87zm.htm">POPUPMENUITEM</a></b> structures, one for each menu item in the menu template. The <a href="newmenus_94z6.htm"><b>MENUEX_TEMPLATE_HEADER</b></a><b> </b>and the <a href="newmenus_32wi.htm"><b>MENUEX_TEMPLATE_ITEM</b></a><b> </b>structures describe the format of extended menu resources. </p>
<p>
A message table is a resource that contains formatted text for display as an error message or in a message box. The main structure in a message table resource is the <a href="resource_24c2.htm"><b>MESSAGE_RESOURCE_DATA</b></a><b> </b>structure. </p>
<p>
The main structure in a version resource is the <object id=alink_3 type="application/x-oleobject"
	classid="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
<PARAM name="Command" value="ALink,MENU">
<PARAM name="DefaultTopic" value="../../notopic_0pk4.htm">
<PARAM name="Item1" value="">
<PARAM name="Item2" value="_win32_vs_fixedfileinfo_str">
</object><a href=JavaScript:alink_3.Click()><b>VS_FIXEDFILEINFO</b></a> structure. Additional structures include the <object id=alink_4 type="application/x-oleobject"
	classid="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
<PARAM name="Command" value="ALink,MENU">
<PARAM name="DefaultTopic" value="../../notopic_0pk4.htm">
<PARAM name="Item1" value="">
<PARAM name="Item2" value="_win32_varfileinfo_str">
</object><a href=JavaScript:alink_4.Click()><b>VarFileInfo</b></a> structure to store language information data, and <object id=alink_5 type="application/x-oleobject"
	classid="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
<PARAM name="Command" value="ALink,MENU">
<PARAM name="DefaultTopic" value="../../notopic_0pk4.htm">
<PARAM name="Item1" value="">
<PARAM name="Item2" value="_win32_stringfileinfo_str">
</object><a href=JavaScript:alink_5.Click()><b>StringFileInfo</b></a> for user-defined string information. All strings in a version resource are in Unicode format for Win32-based applications. Each block of information is aligned on a <b>DWORD</b> boundary. </p>
<p>
For a group list of the structures that describe the format of resources, see <a href="resource_8xf7.htm">Resource Structures</a>. </p>
<p>&nbsp;</p></body>
</HTML>
