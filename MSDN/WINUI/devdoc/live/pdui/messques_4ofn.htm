<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Message Deadlocks</title>
<link disabled rel=stylesheet href=../../backsdk3.css>
<style type="text/css">
@import url(../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h2><a name="_win32_message_deadlocks"></a>Message Deadlocks</h2>
<p>
A thread that calls the <a href="messques_8ht1.htm"><b>SendMessage</b></a> function to send a message to another thread cannot continue executing until the window procedure that receives the message returns. If the receiving thread yields control while processing the message, the sending thread cannot continue executing, because it is waiting for <b>SendMessage</b> to return. If the receiving thread then sends a message to the calling thread while it is blocked, it can cause a deadlock to occur. </p>
<p>
Note that the receiving thread need not yield control explicitly; calling any of the following functions can cause a thread to yield control implicitly. </p>
<p>
<a href="dlgboxes_8urc.htm"><b>DialogBox</b></a><br>
<a href="dlgboxes_4ddg.htm"><b>DialogBoxIndirect</b></a><br>
<a href="dlgboxes_1fe5.htm"><b>DialogBoxIndirectParam</b></a><br>
<a href="dlgboxes_4ib1.htm"><b>DialogBoxParam</b></a><br>
<a href="messques_10kl.htm"><b>GetMessage</b></a><br>
<a href="dlgboxes_76bc.htm"><b>MessageBox</b></a><br>
<a href="messques_8085.htm"><b>PeekMessage</b></a></p>
<p>
To avoid potential deadlocks, consider using the <a href="messques_8of9.htm"><b>SendNotifyMessage</b></a> or <a href="messques_9l4k.htm"><b>SendMessageTimeout</b></a> functions. Otherwise, a window procedure can determine whether a message it has received was sent by another thread by calling the <a href="messques_50v9.htm"><b>InSendMessage</b></a> function. Before calling any of the functions in the preceding list while processing a message, the window procedure should first call <b>InSendMessage</b>. If this function returns TRUE, the window procedure must call the <a href="messques_39k5.htm"><b>ReplyMessage</b></a> function before any function that causes the thread to yield control. </p>
<p>&nbsp;</p></body>
</HTML>
