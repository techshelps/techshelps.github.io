<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>WM_SETTINGCHANGE</title>
<link disabled rel=stylesheet href=../../backsdk3.css>
<style type="text/css">
@import url(../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h1><a name="_win32_wm_settingchange"></a>WM_SETTINGCHANGE</h1>
<p>
The system sends the WM_SETTINGCHANGE message to all top-level windows when the <object id=alink_1 type="application/x-oleobject"
	classid="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
<PARAM name="Command" value="ALink,MENU">
<PARAM name="DefaultTopic" value="../../notopic_0pk4.htm">
<PARAM name="Item1" value="">
<PARAM name="Item2" value="_win32_systemparametersinfo">
</object><a href=JavaScript:alink_1.Click()><b>SystemParametersInfo</b></a> function changes a system-wide setting. The system sends this message only if the <b>SystemParametersInfo</b> caller specifies the SPIF_SENDCHANGE flag.</p>
<p>
An application can send WM_SETTINGCHANGE to all top-level windows when it makes changes to system parameters. For example, you can send this message after a call to the <object id=alink_2 type="application/x-oleobject"
	classid="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
<PARAM name="Command" value="ALink,MENU">
<PARAM name="DefaultTopic" value="../../notopic_0pk4.htm">
<PARAM name="Item1" value="">
<PARAM name="Item2" value="_win32_writeprofilestring">
</object><a href=JavaScript:alink_2.Click()><b>WriteProfileString</b></a>, <object id=alink_3 type="application/x-oleobject"
	classid="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
<PARAM name="Command" value="ALink,MENU">
<PARAM name="DefaultTopic" value="../../notopic_0pk4.htm">
<PARAM name="Item1" value="">
<PARAM name="Item2" value="_win32_writeprofilesection">
</object><a href=JavaScript:alink_3.Click()><b>WriteProfileSection</b></a>, or <object id=alink_4 type="application/x-oleobject"
	classid="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
<PARAM name="Command" value="ALink,MENU">
<PARAM name="DefaultTopic" value="../../notopic_0pk4.htm">
<PARAM name="Item1" value="">
<PARAM name="Item2" value="_win32_setlocaleinfo">
</object><a href=JavaScript:alink_4.Click()><b>SetLocaleInfo</b></a> functions, or after making changes to system parameters in the registry.</p>
<p>
The WM_SETTINGCHANGE message is the same as the older WM_WININICHANGE message.</p>
<pre><code>WM_SETTINGCHANGE 
wParam = wFlag;                         // system-wide parameter flag 
lParam = (LPARAM) (LPCTSTR) pszSection; // name of changed section or registry
 </code></pre>
<h4>Parameters</h4>
<dl>
<dt>
<i>wFlag</i></dt>
<dd>
Value of <i>wParam</i>. When the system sends the message as a result of a <object id=alink_5 type="application/x-oleobject"
	classid="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
<PARAM name="Command" value="ALink,MENU">
<PARAM name="DefaultTopic" value="../../notopic_0pk4.htm">
<PARAM name="Item1" value="">
<PARAM name="Item2" value="_win32_systemparametersinfo">
</object><a href=JavaScript:alink_5.Click()><b>SystemParametersInfo</b></a> call, this parameter is a flag that indicates the system parameter that was changed. For a list of values, see the <b>SystemParametersInfo</b> function.
<p>
When an application sends the message, this parameter must be NULL. 
</dd>
<dt>
<i>pszMetrics</i></dt>
<dd>
Value of <i>lParam</i>. Pointer to a string that indicates the area containing the system parameter that was changed. For example, this string can be the name of a registry key or the name of a section in the WIN.INI file. 
<p>
This parameter is not particularly useful in determining which system parameter changed. For example, when the string is a registry name, it typically indicates only the leaf node in the registry, not the whole path. In addition, some applications send this message with <i>lParam</i> set to NULL. In general, when you receive this message, you should check and reload any system parameter settings that are used by your application.

</dd>
</dl>
<h4>Return Values</h4>
<p>
If you process this message, return zero.</p>
<h4>Remarks</h4>
<p>
To send the WM_SETTINGCHANGE message to all top-level windows, use the <a href="messques_9l4k.htm"><b>SendMessageTimeout</b></a> function with the <i>hwnd</i> parameter set to HWND_BROADCAST. </p>
<p>
Calls to functions that change the WIN.INI file might be mapped to the registry instead. This mapping occurs when the WIN.INI file and the section being changed are specified in the registry under the following keys: </p>
<p>
<b>HKEY_LOCAL_MACHINE</b>\<b>Software</b>\<b>Microsoft</b>\<br>
        <b>Windows NT</b>\<b>CurrentVersion</b>\<b>IniFileMapping</b></p>
<p>
The change in the storage location has no effect on the behavior of this message. </p>
<h4>QuickInfo</h4>
<p>
<b>&nbsp;&nbsp;Windows NT: </b>Requires version 4.0 or later.<br>
<b>&nbsp;&nbsp;Windows: </b>Requires Windows 95 or later.<br>
<b>&nbsp;&nbsp;Windows CE: </b>Requires version 1.0 or later.<br>
<b>&nbsp;&nbsp;Header: </b>Declared in winuser.h.</p>
<h4>See Also</h4>
<p>
<a href="windows_6t2r.htm">Windows Overview</a>, <a href="windows_2v8z.htm">Window Messages</a>, <a href="messques_9l4k.htm"><b>SendMessageTimeout</b></a>, <object id=alink_6 type="application/x-oleobject"
	classid="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
<PARAM name="Command" value="ALink,MENU">
<PARAM name="DefaultTopic" value="../../notopic_0pk4.htm">
<PARAM name="Item1" value="">
<PARAM name="Item2" value="_win32_setlocaleinfo">
</object><a href=JavaScript:alink_6.Click()><b>SetLocaleInfo</b></a>, <object id=alink_7 type="application/x-oleobject"
	classid="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
<PARAM name="Command" value="ALink,MENU">
<PARAM name="DefaultTopic" value="../../notopic_0pk4.htm">
<PARAM name="Item1" value="">
<PARAM name="Item2" value="_win32_systemparametersinfo">
</object><a href=JavaScript:alink_7.Click()><b>SystemParametersInfo</b></a>, <a href="windows_6wit.htm">WM_WININICHANGE</a>, <object id=alink_8 type="application/x-oleobject"
	classid="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
<PARAM name="Command" value="ALink,MENU">
<PARAM name="DefaultTopic" value="../../notopic_0pk4.htm">
<PARAM name="Item1" value="">
<PARAM name="Item2" value="_win32_writeprofilesection">
</object><a href=JavaScript:alink_8.Click()><b>WriteProfileSection</b></a>, <object id=alink_9 type="application/x-oleobject"
	classid="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
<PARAM name="Command" value="ALink,MENU">
<PARAM name="DefaultTopic" value="../../notopic_0pk4.htm">
<PARAM name="Item1" value="">
<PARAM name="Item2" value="_win32_writeprofilestring">
</object><a href=JavaScript:alink_9.Click()><b>WriteProfileString</b></a> </p>
<p>&nbsp;</p></body>
</HTML>
