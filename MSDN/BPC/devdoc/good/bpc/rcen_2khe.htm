<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Data Trigger</title>
<link disabled rel=stylesheet href=../../backsdk3.css>
<style type="text/css">
@import url(../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h3><a name="_bpc_data_trigger"></a>Data Trigger</h3>
<p>
<span style=color:#FF0000>[This is preliminary documentation and subject to change.]</span> </p>
<p>
Data triggers indicate that data, such as an HTML enhancement file, is about to be transmitted. They are formatted as shown following</p>
<p>
<b>"1 </b>[<b>&lt;</b><i>protocol</i><b>&gt;</b>] <i>ConnectionInformation</i><b>"</b></p>
<p>
where 
<dl>
<dt>
<i>protocol</i> </dt>
<dd>
Optional parameter that specifies the data transfer protocol. The default is FTS. The following table lists the currently-defined protocols:
<table cellspacing=4 cols=2>
<tr valign=top>
<th align=left width=21%>Protocol</th>
<th align=left width=79%>Description</th>
</tr>
<tr valign=top>
<td width=21%>FTS</td>
<td width=79%>Downloads a file using Microsoft® File Transfer Service.</td>
</tr>
<tr valign=top>
<td width=21%>CAB</td>
<td width=79%>Unpacks the specified cabinet file. </td>
</tr>
</table><br>

</dd>
<dt>
<i>ConnectionInformation</i></dt>
<dd>
Connection information. The format of this string depends on which protocol is used. For more information, see the remarks section.
</dd>
</dl>
<h4>Remarks</h4>
<p>
If the protocol is FTS, <i>ConnectionInformation </i>has the following format:</p>
<p>
<i>xxx</i><b>.</b><i>xxx</i><b>.</b><i>xxx</i><b>.</b><i>xxx</i><b>:</b><i>yyyy</i><b>&amp;</b><i>dirname</i>[<b>&amp;</b><i>timeout</i>]</p>
<p>
where
<dl>
<dt>
<i>xxx.xxx.xxx.xxx</i></dt>
<dd>
IP address that the FTS data will be transmitted on. </dd>
<dt>
yyyy</dt>
<dd>
IP port.</dd>
<dt>
<i>dirname</i></dt>
<dd>
Directory name in which the transmitted files should be saved. Note that this value cannot contain subdirectories. For example, "msnbc" is a valid value for <i>dirname</i>, but "msnbc\MyShow" is not. 
<p>
To store a transmitted file in a subdirectory of <i>dirname</i>, specify the subdirectory when the file is transmitted. 
</dd>
<dt>
<i>timeout</i></dt>
<dd>
Optional parameter that specifies a time-out interval, in minutes. After <i>Timeout</i> minutes have elapsed, the subdirectory is deleted. The default value is 120 minutes. 
</dd>
</dl>
<p>
<b>CAB:</b></p>
<p>
If the protocol is CAB, <i>ConnectionInformation</i> is a <a href="rcen_9s37.htm">Broadcast Architecture URL</a> that specifies the cabinet file to unpack. For example: "bpc://msnbc/myshow/cabfile.cab"</p>
<h4>Examples</h4>
<p>
Both of the following triggers cause the enhancement control to receive a file at IP address 233.43.170.18, port 1718. </p>
<pre><code>"1 233.43.170.18:1718&amp;MyShow"
"1 &lt;FTS&gt; 233.43.170.18:1718&amp;MyShow"
 </code></pre>
<p>
The following trigger causes the enhancement control to unpack the cabinet file located at: "C:\Program Files\TV Viewer\Interactive Content\<i>&lt;random&gt;</i>\Msnbc\MyShow\MyFile.cab" </p>
<pre><code>"1 &lt;CAB&gt; bpc://msnbc/myshow/myfile.cab"
 </code></pre>
<p>
where <i>&lt;random&gt;</i> is a random string generated by the broadcast client. Adding a random string to the file path improves security on the client by ensuring that enhancement files can only be located using the Broadcast Architecture URL format and thus processed using the Internet Security Zone settings.</p>
<p>&nbsp;</p></body>
</HTML>
