<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Using the Generic File Receiver Application</title>
<link disabled rel=stylesheet href=../../backsdk3.css>
<style type="text/css">
@import url(../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h2><a name="_bpc_using_the_generic_file_receiver_application"></a>Using the Generic File Receiver Application</h2>
<p>
<span style=color:#FF0000>[This is preliminary documentation and subject to change.]</span> </p>
<p>
The Generic File Receiver is designed to capture a file or files that have been broadcast. The Generic File Receiver may also optionally spawn a second application, passing the file names of the received file or files to it, or attempt to launch the files themselves (using the file associations for the Microsoft® Windows® family of operating systems).</p>
<p>
The Generic File Receiver expects to find the <b>/J</b>, <b>/IPD</b>, and <b>/IPL </b>options in the command line passed to it by the Task Scheduler, as described in <a href="ann_7ilh.htm">Receiver Application Command Line</a>. </p>
<p>
In addition, the <b>/s </b>option may be used with the Generic File Receiver to spawn the received file. The <b>/s </b>string may be supplied in the <i>Parameters</i> string returned by <a href="ann_729a.htm"><b>IBroadcastFilter::GetDisposition</b></a>. Without the <b>/s </b>option, the Generic File Receiver simply receives the file and saves it in the specified working directory.</p>
<p>
For example, to launch the file received, the command line is:</p>
<pre><code>GenRecv /J "BFTP_JOB_234" /IPD 224.45.38.92:3256 /IPL 192.78.38.92 /s
 </code></pre>
<p>
(The preceding example assumes that the Generic File Receiver has been named Genrecv.exe; in fact it has not yet been named.)</p>
<p>
Any text on the command line of the Generic File Receiver beyond the <b>/J</b>, <b>/IPD</b>, <b>/IPL</b>, and <b>/s</b> options is treated as a new command line, with the name of the received file appended at the end of the command line arguments. For example, the command line:</p>
<pre><code>GenRecv /J "BFTP_JOB_234" /IPD 224.45.38.92:3256 /IPL 192.78.38.92 Excel.exe
 </code></pre>
<p>
causes the Generic File Receiver to launch Microsoft® Excel with the file received. Assuming that the transmitted file was Sample.xls, this results in the following command line being launched:</p>
<pre><code>Excel.exe Sample.xls
 </code></pre>
<p>
If a <b>/s </b>option appears with other arguments beyond the <b>/J</b>, <b>/IPD</b>, and <b>/IPL </b>on the command line, the <b>/s </b>are presented along with the other arguments as the new command line, rather than spawning the received file. For example:</p>
<pre><code>GenRecv /J "BFTP_JOB_234" /IPD 224.45.38.92:3256 /IPL 192.78.38.92  Excel.exe /s
 </code></pre>
<p>
launches the following (assuming that the transmitted file was Sample.xls)</p>
<pre><code>Excel.exe /s sample.xls
 </code></pre>
<p>
(In this case, <b>/s </b>is assumed to be a parameter intended for <b>Excel.exe</b>.)</p>
<p>
If the Generic File Receiver runs successfully, it deletes its job from the Task Scheduler, even if there are later scheduled broadcasts (if there are no later scheduled broadcasts, the JOB_FLAG_DELETE_WHEN_DONE value causes the job to be deleted automatically, whether it succeeded or failed). If the Generic File Receiver fails and <b>IJob::GetNextRunTime</b> returns the value S_OK, then the job is left in the scheduler to run again. </p>
<p>&nbsp;</p></body>
</HTML>
