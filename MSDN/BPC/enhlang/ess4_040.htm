<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">

<HTML>
<HEAD>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>User-Defined Triggers</TITLE>
<meta name=MS-HAID content="_CDK_User_Defined_Triggers">
<link disabled rel=stylesheet href=backsdk3.css>
<style>
@import url(backsdk4.css);
</style>
</HEAD>
<BODY  bgcolor="#ffffff">

<a name="_CDK_User_Defined_Triggers"></a>
<H4>User-Defined Triggers</H4>

<p>
<span style=color:#FF0000>[This is preliminary documentation and subject to
change.]</span>&nbsp;
</p>

<p>
To trigger an event that is not covered by the reserved triggers of the Enhancement Stream language, you create and broadcast a <b>User-Defined Trigger</b>.
</p>

<p>User-defined triggers open up essentially unlimited possibilities for control over your interactive show. Because user triggers can invoke subroutines that you create in Microsoft<!--DTV Web Site Content<font size="-2">&#174;</font>DTV Web Site Content--> Visual Basic<!--DTV Web Site Content<font size="-2">&#174;</font>DTV Web Site Content--> Scripting Edition (VBScript) or JScript<!--DTV Web Site Content&#0153;DTV Web Site Content-->, you can perform any type of action, including client-side decision branches and dynamic generation of HTML (Hypertext Markup Language), based on receipt of a particular trigger message.
</p>

<p>
User-defined triggers may be numbered from 1000 to 2,147,483,647. They can be used for any purpose desired by the enhancements producer. A user-defined trigger command requires the keyword <B>trigger</B> followed by the integer key and the string.
</p>


<p>
<b>trigger (</b><i>lKeyID</i> <b>"</b><i>Data</i><b>") ;</b>
</p>


<p>
Where 
<dl>
<dt>
<i>lKeyID </i></dt>
<dd>
specifies the trigger identifier, whose value is defined by the content provider. This must be a integer greater than or equal to 1,000 and less than or equal to 2,147,483,647.</dd>
<dt>
<i>Data</i></dt>
<dd>
specifies the trigger information. The trigger information data is parsed and used by the event handler that processes the user trigger. The format of the trigger information is defined by the broadcaster.
</dd>
</dl>



<p>
<b>Remarks</b>
</p>

<p>
When the broadcast client receives a User-Defined trigger, the Enhancement control fires a UserTrigger event, which can then be handled by scripts embedded in the enhancement page.
</p>


<p>
<b>Examples</b>
</p>

<p>
The following examples illustrate how you could use User-Defined triggers to transmit quiz show questions and answers. The user-defined trigger data can then be parsed and used by scripts on the enhancement page.
</p>

<pre>
<code>
trigger (3001 "Q:What is the capital of Florida?_A:Tallahassee") ;
trigger (3001 "Q:Tomatoes are which kind of plant?_A:Fruit") ;
</code>
</pre>

<p>
The following examples use a different User-Defined trigger syntax to pass the time of day to the enhancement page. This could be used, for example, to change the background image of an enhancement to reflect the current time.
</p>

<pre>
<code>
trigger (2049 "Twilight") ;
trigger (2049 "Morning") ;
trigger (2049 "Afternoon") ;
</code>
</pre>

<p>
&nbsp;
</p>


</BODY>
</HTML>


