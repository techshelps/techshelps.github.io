<html>
<style>@import url(stylesheets/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="stylesheets/msdn_ie3.css">
<head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>map::max_size, clear, erase, size (STL Sample)</title></head>
<body bgcolor=white>

<h2><a name="_sample_stl_max_sizeCCclear_erase_size">map::max_size, clear, erase, size (STL Sample)</a></h2>
<p>The sample code below illustrates how to use the <code>map::max_size, clear, erase,</code> and <code>size</code> STL functions in Visual C++.</p>
<p><b>Required Header: </b><br>
&lt;map&gt;</p>
<b>Prototype:</b><br>
<pre><code>
     size_type max_size() const;
     void clear() const;
     bool empty() const;
     iterator erase(iterator first, iterator last);
     size_type size() const;
     A::reference operator[](const Key&amp; key);    // A is the allocator
     iterator map::begin();
     iterator map::end();
     iterator map::find(const Key&amp; key);
</code></pre></p>
<p>Note: The class/parameter names in the prototype do not match the version in the header file. Some have been
modified to improve readability.</p>
<p><b>Description:</b><br>
 The following sample creates a map of strings to ints and fills it first with a map of month names to month numbers, then empties and refills it with a map of weekday names to corresponding ints.  </p>
<p><b>Sample Code: </b></p>
<pre><code>//////////////////////////////////////////////////////////////////////
//
// Compile options needed: None
//
// &lt;filename&gt; :  main.cpp
//
// Functions:    iterator map::max_size();
//               void clear() const;
//               bool empty() const;
//               iterator erase(iterator first, iterator last);
//               size_type size() const;
//               A::reference operator[](const Key&amp; key);
//               iterator map::begin();
//               iterator map::end();
//               iterator map::find(const Key&amp; key);
//////////////////////////////////////////////////////////////////////

#pragma warning(disable:4786)

#include &lt;iostream&gt;
#include &lt;string&gt;
#include &lt;map&gt;

using namespace std ;

typedef map&lt;string, int&gt; STRING2INT;

void main()
{
    STRING2INT MyMap;
    STRING2INT::iterator MyIterator;
    string MyBuffer;

    // print the maximum number of &lt;key,data&gt; pairs that MyMap can hold
    cout &lt;&lt; "MyMap is capable of holding " &lt;&lt; MyMap.max_size()
         &lt;&lt; " &lt;string,int&gt; pairs" &lt;&lt; endl;

    if(!MyMap.empty())
        cout &lt;&lt; "MyMap has " &lt;&lt; MyMap.size() &lt;&lt; " entries" &lt;&lt; endl;
    else
        cout &lt;&lt; "MyMap is empty" &lt;&lt; endl;
        cout &lt;&lt; "Entering new entries in MyMap" &lt;&lt; endl;
    // Fill in MyMap with the months of the year, mapped to their number
    // January - 1, February - 2, etc. using operator[].
    MyMap["January"] = 1;
    MyMap["February"] = 2;
    MyMap["March"] = 3;
    MyMap["April"] = 4;
    MyMap["May"] = 5;
    MyMap["June"] = 6;
    MyMap["July"] = 7;
    MyMap["August"] = 8;
    MyMap["September"] = 9;
    MyMap["October"] = 10;
    MyMap["November"] = 11;
    MyMap["December"] = 12;

    if(!MyMap.empty())
        cout &lt;&lt; "MyMap has " &lt;&lt; MyMap.size() &lt;&lt; " entries" &lt;&lt; endl;
    else
        cout &lt;&lt; "MyMap is empty" &lt;&lt; endl;

    // Ask the user for a month of the year and print the number
    // that corresponds to the month entered
    //MyIterator = MyMap.end();
    while(MyIterator == MyMap.end()){
        cout &lt;&lt; "Enter a Month :";
        cin &gt;&gt; MyBuffer;
        if((MyIterator = MyMap.find(MyBuffer)) != MyMap.end())
            cout &lt;&lt; (*MyIterator).first &lt;&lt; " is Month Number "
                 &lt;&lt; (*MyIterator).second &lt;&lt; endl;
        else
            cout &lt;&lt; "Enter a Valid Month (example: March)" &lt;&lt; endl;
    }

    // empty MyMap - note that clear simply calls erase(begin(),end());
    MyMap.clear();

    if(!MyMap.empty())
        cout &lt;&lt; "MyMap has " &lt;&lt; MyMap.size() &lt;&lt; " entries" &lt;&lt; endl;
    else
        cout &lt;&lt; "MyMap is empty" &lt;&lt; endl;
        cout &lt;&lt; "Entering new entries in MyMap" &lt;&lt; endl;
    // Fill MyMap with the days of the week, each mapped to an int
    MyMap["Monday"] = 1;
    MyMap["Tuesday"] = 2;
    MyMap["Wednesday"] = 3;
    MyMap["Thursday"] = 4;
    MyMap["Friday"] = 5;
    MyMap["Saturday"] = 6;
    MyMap["Sunday"] = 7;

    if(!MyMap.empty())
        cout &lt;&lt; "MyMap has " &lt;&lt; MyMap.size() &lt;&lt; " entries" &lt;&lt; endl;
    else
        cout &lt;&lt; "MyMap is empty" &lt;&lt; endl;

    // Ask the user for a day of the week and print the number
    // that corresponds to the day entered
    MyIterator = MyMap.end();
    while(MyIterator == MyMap.end()){
        cout &lt;&lt; "Enter a Day of the Week:";
        cin &gt;&gt; MyBuffer;
        if((MyIterator = MyMap.find(MyBuffer)) != MyMap.end())
            cout &lt;&lt; (*MyIterator).first &lt;&lt; " is Day Number "
                 &lt;&lt; (*MyIterator).second &lt;&lt; endl;
        else
            cout &lt;&lt;"Enter a Valid Day of the Week(example: Monday)"&lt;&lt; endl;
    }
// Now clear MyMap again - this time using erase instead of clear
    MyMap.erase(MyMap.begin(), MyMap.end());

    if(!MyMap.empty())
        cout &lt;&lt; "MyMap has " &lt;&lt; MyMap.size() &lt;&lt; " entries" &lt;&lt; endl;
    else
        cout &lt;&lt; "MyMap is empty" &lt;&lt; endl;

}

 </code></pre>

<p>Program Output is:</p>

<pre><code>MyMap is capable of holding 1073741823 &lt;string,int&gt; pairs
MyMap is empty
Entering new entries in MyMap
MyMap has 12 entries
Enter a Month :[April]
April is Month Number 4
MyMap is empty
Entering new entries in MyMap
MyMap has 7 entries
Enter a Day of the Week:[Friday]
Enter a Valid Day of the Week(example: Monday)
Enter a Day of the Week:[Friday]
Friday is Day Number 5
MyMap is empty
</code></pre>

</body>
</html>
