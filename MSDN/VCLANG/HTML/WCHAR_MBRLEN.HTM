<html>
<style>@import url(stylesheets/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="stylesheets/msdn_ie3.css">
<head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>mbrlen</title></head>
<body bgcolor=white>

<h2><a name="mbrlen">mbrlen</a></h2>
<META NAME="MS-HKWD" CONTENT="mbrlen">
<p><code>size_t </code><code><b>mbrlen</b></code><code>(const char *s, size_t n, mbstate_t *ps); </code></p>
<p>The function is equivalent to the call:</p>
<p><a href="wchar_mbrtowc.htm#mbrtowc"><code>mbrtowc</code></a><code>(0, s, n, ps != 0 ? ps : &amp;internal) </code></p>
<p>where <code>internal</code> is an object of type <a href="wchar_mbstate_t.htm#mbstate_t"><code>mbstate_t</code></a> internal to the <code>mbrlen</code> function. At program startup, <code>internal</code> is 
initialized to the initial conversion state. No other library function alters the value stored in <code>internal</code>.</p>
<p>The function returns:</p>
<ul>
<li><code>(</code><code>size_t</code><code>)-2</code> if, after converting all <code>n</code> characters, the resulting conversion state indicates an incomplete multibyte 
character. </li>
<li><code>(</code><code>size_t</code><code>)-1</code> if the function detects an encoding error before completing the next multibyte character, in which 
case the function stores the value <code>EILSEQ</code> in <code>errno</code> and leaves the resulting conversion state undefined. </li>
<li>Zero, if the next completed character is a null character, in which case the resulting conversion state is the initial 
conversion state. </li>
<li><code>x,</code> the number of bytes needed to complete the next muitibyte character, in which case the resulting conversion 
state indicates that <code>x</code> bytes have been converted. </li>
</ul>
<p>Thus, <code>mbrlen</code> effectively returns the number of bytes that would be consumed in successfully converting a multibyte 
character to a wide character (without storing the converted wide character), or an error code if the conversion cannot 
succeed.</p>
</body>
</html>
