<html>
<style>@import url(stylesheets/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="stylesheets/msdn_ie3.css">
<head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>fpos</title></head>
<body bgcolor=white>

<h2><a name="fpos">fpos</a></h2>
<META NAME="MS-HKWD" CONTENT="fpos">
<pre><code>template &lt;class St&gt;
    class <b>fpos</b> {
public:
    <a href="IOS_fposCCfpos.htm#fpos::fpos"><b>fpos</b></a>(St state, fpos_t fposn);
    <a href="IOS_fposCCfpos.htm#fpos::fpos"><b>fpos</b></a>(streamoff off);
    fpos_t <a href="IOS_fposCCget_fpos_t.htm#fpos::get_fpos_t"><b>get_fpos_t</b></a>() const;
    St <a href="IOS_fposCCstate.htm#fpos::state"><b>state</b></a>() const;
    void <a href="IOS_fposCCstate.htm#fpos::state"><b>state</b></a>(St state);
    <a href="IOS_fposCCoperator_streamoff.htm#fpos::operator streamoff"><b>operator streamoff</b></a>() const;
    streamoff <a href="IOS_fposCCoperatorM.htm#fpos::operator-"><b>operator-</b></a>(const fpos&lt;St&gt;&amp; rhs) const;
    fpos&lt;St&gt;&amp; <a href="IOS_fposCCoperatorPE.htm#fpos::operator+="><b>operator+=</b></a>(streamoff off);
    fpos&lt;St&gt;&amp; <a href="IOS_fposCCoperatorME.htm#fpos::operator-="><b>operator-=</b></a>(streamoff off);
    fpos&lt;St&gt; <a href="IOS_fposCCoperatorP.htm#fpos::operator+"><b>operator+</b></a>(streamoff off) const;
    fpos&lt;St&gt; <a href="IOS_fposCCoperatorM.htm#fpos::operator-"><b>operator-</b></a>(streamoff off) const;
    bool <a href="IOS_fposCCoperatorEE.htm#fpos::operator=="><b>operator==</b></a>(const fpos&lt;St&gt;&amp; rhs) const;
    bool <a href="IOS_fposCCoperatorNE.htm#fpos::operator!="><b>operator!=</b></a>(const fpos&lt;St&gt;&amp; rhs) const;
    };</code></pre>
<p>The template class describes an object that can store all the information needed to restore an arbitrary <a href="LIB_FILE_Controlling_Streams.htm#file-position indicator">file-position 
indicator</a> within any stream. An object of class <code>fpos&lt;St&gt;</code> effectively stores three member objects:</p>
<ul>
<li>A byte offset, of type <a href="IOS_streamoff.htm#streamoff"><code>streamoff</code></a></li>
<li>An arbitrary file position, for use by an object of class <a href="FSTREAM_basic_filebuf.htm#basic_filebuf"><code>basic_filebuf</code></a>, of type <code>fpos_t</code></li>
<li>A conversion state, for use by an object of class <code>basic_filebuf</code>, of type <code><b>St</b></code>, typically <a href="wchar_mbstate_t.htm#mbstate_t"><code>mbstate_t</code></a></li>
</ul>
<p>For an environment with limited file size, however, <code>streamoff</code> and <code>fpos_t</code> may sometimes be used interchangeably. 
And for an environment with no streams that have a state-dependent encoding, <code>mbstate_t</code> may actually be unused. So 
the number of member objects stored may well vary from one to three.</p>
</body>
</html>
