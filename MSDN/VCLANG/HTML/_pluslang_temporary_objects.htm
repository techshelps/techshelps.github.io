<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Temporary Objects</title>
<style>@import url(stylesheets/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="stylesheets/msdn_ie3.css"></HEAD>
<BODY>
<font face="verdana,arial,helvetica" size="2">
<h1><a name="_pluslang_temporary_objects"></a><sup></sup>Temporary Objects</h1>
<p>
In some cases, it is necessary for the compiler to create temporary objects. These temporary objects can be created for the following reasons:
<ul type=disc>
<li>
To initialize a <b>const</b> reference with an initializer of a type different from that of the underlying type of the reference being initialized.<br><br></li>
<li>
To store the return value of a function that returns a user-defined type. These temporaries are created only if your program does not copy the return value to an object. For example:<pre><code>UDT Func1();&nbsp;&nbsp;&nbsp; //&nbsp; Declare a function that returns a user-defined
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //&nbsp;&nbsp; type.

...

Func1();&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //&nbsp; Call Func1, but discard return value.
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //&nbsp; A temporary object is created to store the return
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //&nbsp;&nbsp; value.
</code></pre>
<p class=tl>
Because the return value is not copied to another object, a temporary object is created. A more common case where temporaries are created is during the evaluation of an expression where overloaded operator functions must be called. These overloaded operator functions return a user-defined type that often is not copied to another object. </P><p class=tl>
Consider the expression <code>ComplexResult = Complex1 + Complex2 + Complex3</code>. The expression <code>Complex1 + Complex2</code> is evaluated, and the result is stored in a temporary object. Next, the expression <i>temporary</i> <code>+ Complex3</code> is evaluated, and the result is copied to <code>ComplexResult</code> (assuming the assignment operator is not overloaded).</P></li>
<li>
To store the result of a cast to a user-defined type. When an object of a given type is explicitly converted to a user-defined type, that new object is constructed as a temporary object.</li>
</ul>
<p>
Temporary objects have a lifetime that is defined by their point of creation and the point at which they are destroyed. Any expression that creates more than one temporary object eventually destroys them in the reverse order in which they were created. The points at which destruction occurs are shown in Table 11.3.</p>
<p class=label>
<b><a name="_pluslang_table_11..3"></a>Table 11.3&nbsp;&nbsp;&nbsp;Destruction Points for Temporary Objects</b></p>
<table border=1 cellpadding=5 cols=2 frame=below rules=rows>
<tr valign=top>
<td class=label width=42%><b>Reason Temporary Created</b></td>
<td class=label width=58%><b>Destruction Point</b></td>
</tr>
<tr valign=top>
<td width=42%>Result of expression<br>
evaluation</td>
<td width=58%>All temporaries created as a result of expression evaluation are destroyed at the end of the expression statement (that is, at the semicolon), or at the end of the controlling expressions for <b>for</b>, <b>if</b>, <b>while</b>, <b>do</b>, and <b>switch</b> statements.</td>
</tr>
<tr valign=top>
<td width=42%>Result of expressions using<br>
the built-in (not overloaded)<br>
logical operators (<b>||</b> and <b>&amp;&amp;</b>)</td>
<td width=58%>Immediately after the right operand. At this destruction point, all temporary objects created by evaluation of the right operand are destroyed.</td>
</tr>
<tr valign=top>
<td width=42%>Initializing <b>const</b> references</td>
<td width=58%>If an initializer is not an l-value of the same type as the reference being initialized, a temporary of the underlying object type is created and initialized with the initialization expression. This temporary object is destroyed immediately after the reference object to which it is bound is destroyed.</td>
</tr>
</table><br>
</font></BODY>
</HTML>
