<html>
<style>@import url(stylesheets/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="stylesheets/msdn_ie3.css">
<head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>wcsrtombs</title></head>
<body bgcolor=white>

<h2><a name="wcsrtombs">wcsrtombs</a></h2>
<META NAME="MS-HKWD" CONTENT="wcsrtombs">
<p><code>size_t </code><code><b>wcsrtombs</b></code><code>(char *dst, const wchar_t **src, size_t len, mbstate_t *ps); </code></p>
<p>The function converts the wide-character string beginning at <code>*src</code> to a sequence of multibyte characters as if by 
repeated calls of the form:</p>
<p><code>x = wcrtomb(dst ? dst : buf, *src, ps != 0 ? ps : &amp;internal) </code></p>
<p>where <code>buf</code> is an array of type <i>char</i> and <code>internal</code> is an object of type <a href="wchar_mbstate_t.htm#mbstate_t"><code>mbstate_t</code></a>, both internal to the <code>wcsrtombs</code> 
function. At program startup, <code>internal</code> is initialized to the initial conversion state. No other library function alters the 
value stored in <code>internal</code>.</p>
<p>If <code>dst</code> is not a null pointer, the <code>wcsrtombs</code> function stores <code>len</code> bytes, at most, by calls to <a href="wchar_wcrtomb.htm#wcrtomb"><code>wcrtomb</code></a>. The function 
effectively increments <code>dst</code> by <code>x</code> and <code>*src</code> by one after each call to <a href="wchar_wcrtomb.htm#wcrtomb"><code>wcrtomb</code></a> that stores a <i>complete</i> converted 
multibyte character in the remaining space available. After a call that stores a complete null multibyte character at <code>dst</code> 
(including any shift sequence needed to restore the initial shift state), the function stores a null pointer at <code>*src</code>.</p>
<p>If <code>dst</code> is a null pointer, <code>len</code> is effectively assigned a large value.</p>
<p>The function returns:</p>
<ul>
<li><code>(</code><code>size_t</code><code>)-1</code>, if a call to <a href="wchar_wcrtomb.htm#wcrtomb"><code>wcrtomb</code></a> returns <code>(</code><code>size_t</code><code>)-1</code>, indicating that it has detected an invalid wide-character 
code. </li>
<li>The number of bytes successfully converted, not including the terminating null byte. </li>
</ul>

</body>
</html>
