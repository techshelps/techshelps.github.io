<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>CDF Tags for Mobile Channels</TITLE>
<link disabled rel=stylesheet href=../../backsdk3.css>
<style type="text/css">
@import url(../../backsdk4.css);
</style>
</HEAD>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">



<H3>

<A NAME="_cdf_tags_for_mobile_channels"></A>CDF Tags for Mobile Channels</H3>

<P>Additional tags recognized by Mobile Channels are described in the following table.</P>

<TABLE cols=2>

<TR VALIGN="top">
<TH align=left width=27%>Tag</TH>
<TH align=left width=73%>Description</TH>
</TR>

<TR VALIGN="top">
<TD width=27%><B>CHANSCRIPT</B></TD>
<TD width=73%>Identifies the <B>ID</B> of the script file to render the channel and subchannels. </TD>
</TR>

<TR VALIGN="top">
<TD width=27%><B>ITEMSCRIPT</B></TD>
<TD width=73%>Identifies the <B>ID</B> of the script file to render the item data file. </TD>
</TR>

<TR VALIGN="top">
<TD width=27%><B>ITEMFORMAT</B></TD>
<TD width=73%>Defines the file structure for data files.</TD>
</TR>
</TABLE><BR>

<P>The following list describes each tag in detail:

<UL>
	<LI><B>CHANSCRIPT</B>
<P>The <B>CHANSCRIPT</B> tag is used as follows:

<PRE><CODE>&lt;CHANSCRIPT VALUE = "ChannelID"/&gt;
</CODE></PRE>

<P>The <B>CHANSCRIPT</B> tag specifies a Mobile Channels script (MCS) to be used to render the display of a channel. The <B>CHANSCRIPT</B> tag value applies to all child channels of the current channel or subchannel. This tag supersedes the <B>CHANSCRIPT</B> value previously defined by a parent <B>CHANNEL</B> element, if any exist. The <B>VALUE</B> attribute specifies the <B>ID</B> of the <B>ITEM</B> element corresponding to the script to be run to render this level of the channel. For example,

<PRE><CODE>&lt;CHANSCRIPT VALUE="ChanScript1"/&gt;
</CODE></PRE>

<P>where the channel script identified by "<I>ChanScript1</I>" has been defined elsewhere in the CDF file, say, as follows:

<PRE><CODE>&lt;ITEM HREF="http://www.microsoft.com/channel.mcs" ID="ChanScript1"&gt;
    &lt;USAGE VALUE="None"/&gt;
&lt;/ITEM&gt;
</CODE></PRE>

<P>The top-level <B>CHANNEL</B> element can have at least one <B>CHANSCRIPT</B> tag as the child element. Each subchannel can have at most one such tag.
</LI>

	<LI><B>ITEMSCRIPT</B>
<P>The <B>ITEMSCRIPT</B> tag is used as follows:

<PRE><CODE>&lt;ITEMSCRIPT VALUE = "ItemID"/&gt;
</CODE></PRE>

<P>The <B>ITEMSCRIPT</B> tag specifies a script to be used to render the display of MCD items. The <B>ITEMSCRIPT</B> tag value applies to all child items of the current channel or subchannel. This tag supersedes the <B>ITEMSCRIPT</B> value previously defined by a parent <B>CHANNEL</B> element, if any exist. The <B>VALUE</B> attribute specifies the <B>ID</B> of the <B>ITEM</B> element corresponding to the script to run to render this level of the channel. For example,

<PRE><CODE>&lt;ITEMSCRIPT VALUE = "A_Script" /&gt;
</CODE></PRE>

<P>The item script file here refers to the following <B>ITEM</B> element defined elsewhere in the CDF file:

<PRE><CODE>&lt;ITEM HREF="http://www.microsoft.com/items.mcs" ID="A_Script"&gt;
    &lt;USAGE VALUE="None"/&gt;
&lt;/ITEM&gt;
</CODE></PRE>

<P>You can set the <B>VALUE </B>attribute to "None" or "" for the <B>USAGE</B> tag to prevent the script file from appearing in the Channel Explorer.

<P>The topmost <B>CHANNEL</B> element can have at least one <B>ITEMSCRIPT</B> tag. At all other channel levels there can be at most one such tag.
</LI>

	<LI><B>ITEMFORMAT</B>
<P>The <B>ITEMFORMAT</B> tag is used as follows:

<PRE><CODE>&lt;ITEMFORMAT VALUE="<I>header_block</I> ; <I>repeat_block</I>"/&gt;
</CODE></PRE>

<P>The tag specifies the format of a class of MCD items by identifying the associated file structure. MCD items are simple text files that can have a unique header and a repeating block structure for record-oriented data. Special helper functions are provided in the scripting environment to access the MCD content using information contained in the <B>ITEMFORMAT</B> tag. Both <I>header_block</I> and <I>repeat_block</I> are optional, but at least one of them must exist. If <I>repeat_block</I> exists, it must be preceded by the semi-colon (;). The header block typically contains the description about the items. And the repeatable data block contains description about items. The <I>header_block</I> and <I>repeat_block</I> are of the form

<PRE><CODE>v1[=t1], v2[=t2], … , vn[=tn]
</CODE></PRE>

<P>Here <I>vi </I>is the field name of the block value and <I>ti </I>is the optional type of the block value. If <I>ti </I>is omitted, the default value "HTML" is assumed. Valid types are listed in the following table.
</LI>
</UL>

<TABLE cols=2>

<TR VALIGN="top">
<TH align=left width=27%>Type</TH>
<TH align=left width=73%>Description</TH>
</TR>

<TR VALIGN="top">
<TD width=27%>HTML</TD>
<TD width=73%>HTML text including markup.</TD>
</TR>

<TR VALIGN="top">
<TD width=27%>TEXT</TD>
<TD width=73%>Same as HTML.</TD>
</TR>

<TR VALIGN="top">
<TD width=27%>IMG</TD>
<TD width=73%>ID of image item in CDF files.</TD>
</TR>

<TR VALIGN="top">
<TD width=27%>HREF</TD>
<TD width=73%>URL to a page, for example, data file and channel script.</TD>
</TR>
</TABLE><BR>

<P class=indent1>A data block is merely a group of values. There is one value per line. Any meaningful data file should have at least one data block. For example, three data blocks might be used to show a portfolio of three stocks. In the following example, the Market mobile channel displays stock values listed in the Stocks.mcd file. The header gives the title and displays the date of the shown stocks. The data to be listed includes the name, the low price, high price, and closing prices of each stock.</P>

<PRE><CODE>&lt;ITEM HREF="http://www.market.com/Stocks.mcs" ID="Stock_S"&gt;
   &lt;USAGE VALUE="None"&gt;
&lt;/ITEM&gt;
. . . 
&lt;CHANNEL ID= "Stock_C"&gt;
   &lt;TITLE&gt;Market&lt;/TITLE&gt;
   &lt;ITEM HREF="http://www.market.com/Stocks.mcd" ID="Stock_D"&gt;
       &lt;USAGE VALUE="MobileChannel"/&gt;
       &lt;ITEMSCRIPT VALUE="Stock_S"/&gt;
       &lt;ITEMFORMAT VALUE ="Title,Date,Picture=IMG;
                          Name,Low,High,Close"/&gt;
   &lt;/ITEM&gt;
&lt;/CHANNEL&gt;
</CODE></PRE>

<P>Here the header block has three values, <I>Title, Date,</I> and <I>Picture</I>, and the data block has four: <I>Name, Low, High,</I> and <I>Close.</I></P>

<P>IMG indicates the field that represents an image, such as a JPEG or GIF file. The field value is the identifier of the item defining the URL of the image. The built-in item script creates an IMG value to display this item.</P>

<P>The data block may be repeated to build a table of stock prices. If the Stocks.mcd file contains a single data block, the script displays a single stock per page. If it has multiple data blocks, the script could display a table of stocks. </P>

<P>The repeat block can be omitted, as shown in the following example, which is represents a news article with a title, an image, and the body of text:</P>

<PRE><CODE>&lt;ITEMFORMAT VALUE="TITLE, PICTURE=IMG, BODY"/&gt;</CODE></PRE>

<P>The header block can also be omitted, as shown in the following example that represents a page with stock listings. The semi-colon (;) is used to indicate the value list. It is the repeat block and not a header block.</P>

<PRE><CODE>&lt;ITEMFORMAT VALUE ="<B>;</B> Name, Low, High, Close"/&gt;
</CODE></PRE>

</BODY>
</HTML>
