<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Working with Windows CE Databases</TITLE>
<link disabled rel=stylesheet href=../../backsdk3.css>
<style type="text/css">
@import url(../../backsdk4.css);
</style>
</HEAD>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<TABLE ALIGN=right WIDTH=0 BORDER=0><TR><TD>
<OBJECT ID="hhobj_1" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink,MENU">
	<PARAM NAME="DefaultTopic" VALUE="../../notopic_0pk4.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="_CeOpenDatabase">
</OBJECT>
<OBJECT ID="hhobj_2" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink,MENU">
	<PARAM NAME="DefaultTopic" VALUE="../../notopic_0pk4.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="_DB_CEOID_CHANGED">
</OBJECT>
<OBJECT ID="hhobj_3" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink,MENU">
	<PARAM NAME="DefaultTopic" VALUE="../../notopic_0pk4.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="_DB_CEOID_CREATED">
</OBJECT>
<OBJECT ID="hhobj_4" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink,MENU">
	<PARAM NAME="DefaultTopic" VALUE="../../notopic_0pk4.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="_DB_CEOID_RECORD_DELETED">
</OBJECT>
</TD></TR></TABLE>



<H1>

<A NAME="_working_with_windows_ce_databases"></A>Working with Windows CE Databases</H1>

<P>A Windows CE database — not to be confused with a full-fledged relational database — is simply a general-purpose, flexible, structured collection of data. A Windows CE database consists of <I>records</I>, where each record consists of one or more <I>properties</I>. A <I>property</I> refers to a data item that consists of a property identifer, a data type identifier, and the data value. For example, an application could use a database of address records, where the properties of each record include a name, street address, city, state, zip code, and telephone number. Windows CE supports integer, string, time, and byte array, or BLOB, data types. </P>

<P>Devices that run the Windows CE operating system usually ship with several built-in databases and allow users and applications to create additional databases. For example, the Handheld PC (H/PC) comes with calendar and task list applications that have databases for user data.</P>

<P>Note that databases allow only one level of hierarchy. That is, records cannot contain other records. Nor can records be shared by databases—each record is unique, has a unique object identifier, and is present in only one database. The recommended maximum size of a record in bytes is given by the constant <B>CEDB_MAXRECORDSIZE</B>. The recommended maximum property size is given by <B>CEDB_MAXPROPDATASIZE</B>. Both of these constants are defined in Rapi.h and Windbase.h.</P>

<P>Unlike traditional databases, opening and closing a Windows CE database does not imply that any transactioning has occurred. The database is not committed at closing, but rather it is committed after each individual call.</P>

<P>It is not possible to lock a Windows CE database to restrict access. Thus, several applications can have open handles to the same database at the same time. However, Windows CE supports several notification messages that can tell an application when another application creates, modifies, or deletes database records. The messages are sent to the specified window when you call <A HREF="JavaScript:hhobj_1.Click()"><B>CeOpenDatabase</B></A> and supply a non-null window handle. </P>

<P>Windows CE supports the following messages:</P>

<TABLE cols=2>

<TR VALIGN="top">
<TH align=left width=45%>Message</TH>
<TH align=left width=55%>Description</TH>
</TR>

<TR VALIGN="top">
<TD width=45%><A HREF="JavaScript:hhobj_2.Click()">DB_CEOID_CHANGED</A></TD>
<TD width=55%>Another thread modified an object in the object store. The message supplies the object identifier.</TD>
</TR>

<TR VALIGN="top">
<TD width=45%><A HREF="JavaScript:hhobj_3.Click()">DB_CEOID_CREATED</A></TD>
<TD width=55%>Another thread created an object in the object store. The message supplies the object identifier.</TD>
</TR>

<TR VALIGN="top">
<TD width=45%><A HREF="JavaScript:hhobj_4.Click()">DB_CEOID_RECORD_DELETED</A></TD>
<TD width=55%>Another thread deleted a record. The message supplies the record's object identifier.</TD>
</TR>
</TABLE><BR>

<P>Each database includes information about the database as a whole, such as its name, an optional <I>database type identifier</I> that you can use to group similar databases, and up to four sort keys that describe how the records in the database will be sorted. </P>

</BODY>
</HTML>
