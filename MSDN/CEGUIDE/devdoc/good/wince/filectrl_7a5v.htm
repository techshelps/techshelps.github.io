<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Advanced Header Control Features</TITLE>
<link disabled rel=stylesheet href=../../backsdk3.css>
<style type="text/css">
@import url(../../backsdk4.css);
</style>
</HEAD>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<TABLE ALIGN=right WIDTH=0 BORDER=0><TR><TD>
<OBJECT ID="hhobj_1" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink,MENU">
	<PARAM NAME="DefaultTopic" VALUE="../../notopic_0pk4.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="_HDM_SETIMAGELIST">
</OBJECT>
<OBJECT ID="hhobj_2" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink,MENU">
	<PARAM NAME="DefaultTopic" VALUE="../../notopic_0pk4.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="_HDM_GETIMAGELIST">
</OBJECT>
<OBJECT ID="hhobj_3" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink,MENU">
	<PARAM NAME="DefaultTopic" VALUE="../../notopic_0pk4.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="_HDITEM">
</OBJECT>
<OBJECT ID="hhobj_4" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink,MENU">
	<PARAM NAME="DefaultTopic" VALUE="../../notopic_0pk4.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="_HDN_GETDISPINFO">
</OBJECT>
<OBJECT ID="hhobj_5" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink,MENU">
	<PARAM NAME="DefaultTopic" VALUE="../../notopic_0pk4.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="_NMHDDISPINFO">
</OBJECT>
<OBJECT ID="hhobj_6" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink,MENU">
	<PARAM NAME="DefaultTopic" VALUE="../../notopic_0pk4.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="_HDN_BEGINDRAG">
</OBJECT>
<OBJECT ID="hhobj_7" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink,MENU">
	<PARAM NAME="DefaultTopic" VALUE="../../notopic_0pk4.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="_HDN_ENDDRAG">
</OBJECT>
<OBJECT ID="hhobj_8" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink,MENU">
	<PARAM NAME="DefaultTopic" VALUE="../../notopic_0pk4.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="_HDM_CREATEDRAGIMAGE">
</OBJECT>
<OBJECT ID="hhobj_9" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink,MENU">
	<PARAM NAME="DefaultTopic" VALUE="../../notopic_0pk4.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="_HDM_SETHOTDIVIDER">
</OBJECT>
<OBJECT ID="hhobj_10" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink,MENU">
	<PARAM NAME="DefaultTopic" VALUE="../../notopic_0pk4.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="_HDITEM">
</OBJECT>
<OBJECT ID="hhobj_11" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink,MENU">
	<PARAM NAME="DefaultTopic" VALUE="../../notopic_0pk4.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="_HDM_GETORDERARRAY">
</OBJECT>
<OBJECT ID="hhobj_12" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink,MENU">
	<PARAM NAME="DefaultTopic" VALUE="../../notopic_0pk4.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="_HDM_SETORDERARRAY">
</OBJECT>
<OBJECT ID="hhobj_13" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink,MENU">
	<PARAM NAME="DefaultTopic" VALUE="../../notopic_0pk4.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="_HDM_ORDERTOINDEX">
</OBJECT>
<OBJECT ID="hhobj_14" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink,MENU">
	<PARAM NAME="DefaultTopic" VALUE="../../notopic_0pk4.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="_NM_CUSTOMDRAW">
</OBJECT>
<OBJECT ID="hhobj_15" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink,MENU">
	<PARAM NAME="DefaultTopic" VALUE="../../notopic_0pk4.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="_NMCUSTOMDRAW">
</OBJECT>
</TD></TR></TABLE>



<H2>

<A NAME="_advanced_header_control_features"></A>Advanced Header Control Features</H2>

<P>Windows CE enables you to use image lists in header controls, as well in as text and bitmaps. An <I>image</I> <I>list</I> is a collection of images that are all the same size, such as bitmaps or icons.  For more information, see <A HREF="filectrl_9otv.htm">Image Lists</A>. </P>

<P>You can use the <A HREF="JavaScript:hhobj_1.Click()">HDM_SETIMAGELIST</A> message to associate an image list with a header control. Use the <A HREF="JavaScript:hhobj_2.Click()">HDM_GETIMAGELIST</A> message to retrieve the handle of the image list that is associated with a header control. To display an image with a header control item, specify HDI_IMAGE as the <B>mask</B> member, HDF_IMAGE as the <B>fmt</B> member, and the zero-based index of an image in the list as the <B>iImage</B> member of the <B>HDITEM</B> member structure you use to add the item to the header control.</P>

<P>Header controls in Windows CE support callback requests for text and images in header control items. To create a callback item, set the <B>pszText </B>member to LPSTR_TEXTCALLBACK, or the <B>iImage</B> member to I_IMAGECALLBACK, in the <A HREF="JavaScript:hhobj_3.Click()"><B>HDITEM</B></A> structure you fill in when you add the item to the header control. This causes the header control to send the <A HREF="JavaScript:hhobj_4.Click()">HDN_GETDISPINFO</A> notification message when the item is about to be drawn. The <I>lParam</I> of the WM_NOTIFY message is a pointer to an <A HREF="JavaScript:hhobj_5.Click()"><B>NMHDDISPINFO</B></A> structure. When the header control sends the notification, it sets the <B>NMHDDISPINFO</B> structure's members to specify the type of information it needs in order to draw the item. The application returns the requested information to the header control by filling in the appropriate members of the structure. If the application sets the <B>mask</B> member to HDI_DI_SETITEM, the header control stores the information and does not request it again. Otherwise, the header control sends the NMHDDISPINFO notification each time the item is redrawn. </P>

<P>Header controls in Windows CE also support drag-and-drop functionality. To create a header control that supports drag-and-drop operations, specify the HDS_DRAGDROP style when you create the header control. You can also customize a header control's drag-and-drop behavior by handling the <A HREF="JavaScript:hhobj_6.Click()">HDN_BEGINDRAG</A> and <A HREF="JavaScript:hhobj_7.Click()">HDN_ENDDRAG</A> notification messages and by sending <A HREF="JavaScript:hhobj_8.Click()">HDM_CREATEDRAGIMAGE</A> and <A HREF="JavaScript:hhobj_9.Click()">HDM_SETHOTDIVIDER</A> messages.</P>

<P>In Windows CE, you can support custom ordering of items in a header control by setting the <B>iOrder</B> member in the <A HREF="JavaScript:hhobj_10.Click()"><B>HDITEM</B></A> structure when you add an item to a header control, and by using the <A HREF="JavaScript:hhobj_11.Click()">HDM_GETORDERARRAY</A>, <A HREF="JavaScript:hhobj_12.Click()">HDM_SETORDERARRAY</A>, and <A HREF="JavaScript:hhobj_13.Click()">HDM_ORDERTOINDEX</A> messages.</P>

<P>Header controls in Windows CE support the custom draw service, which gives you flexibility to customize a header control's appearance. If a header control provides this service, it sends the <A HREF="JavaScript:hhobj_14.Click()">NM_CUSTOMDRAW</A> notification at specific times during drawing operations. The <I>lParam </I>of the NM_CUSTOMDRAW notification is a pointer to an <A HREF="JavaScript:hhobj_15.Click()"><B>NMCUSTOMDRAW</B></A> structure, which contains the information necessary to draw the customized header control.  For information on the custom draw service, see <A HREF="ctrls_27sj.htm">Overview of Controls</A>. </P>

</BODY>
</HTML>
