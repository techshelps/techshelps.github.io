<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>List View Image Lists</TITLE>
<link disabled rel=stylesheet href=../../backsdk3.css>
<style type="text/css">
@import url(../../backsdk4.css);
</style>
</HEAD>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">



<H2>

<A NAME="_list_view_image_lists"></A>List View Image Lists</H2>

<P>By default, a list view control does not display item images. To display item images, you must create image lists and associate them with the control. A list view control can have three image lists: 

<UL>
	<LI>One that contains full-sized icons displayed when the control is in icon view.</LI>

	<LI>One that contains small icons displayed when the control is in small icon view, list view, or report view.</LI>

	<LI>One that contains state images, which are displayed to the left of the full-sized icon or small icon.</LI>
</UL>

<P>You can use state images, such as checked or cleared check boxes, to indicate application-defined item states. State images are displayed in icon view, small icon view, list view, or report view. </P>

<P>To assign an image list to a list view control, use the LVM_SETIMAGELIST message to specify whether the image list contains full-sized icons, small icons, or state images. To retrieve the handle to an image list currently assigned to a list view control, use the LVM_GETIMAGELIST message. You can use the <B>GetSystemMetrics</B> function to determine appropriate dimensions for the full-sized icons and small icons. Use the <B>ImageList_Create</B> function to create an image list, and use other image list functions to add bitmaps to the image list. </P>

<P>You need to create only the image list that the control will use. For example, if the list view control will never be in icon view, you do not need to create and assign a large image list because the large images will never be used. If you create large and small icon image lists, each image list must contain the same images in the same order. This is because a single value is used to identify a list view item's icon in both image lists. You can associate an icon index with an item when you call the <B>ListView_InsertItem</B> or<B> ListView_SetItem</B> macro. </P>

<P>The full-sized icon and small icon image lists can also contain overlay images, which are designed to be drawn transparently over the item icons. </P>

<H5><IMG SRC="../../images/wedge.gif" ALT="" BORDER=0>&nbsp;&nbsp;&nbsp;&nbsp;To use overlay images in a list view control</H5>

<OL>
	<LI>Call the <B>ImageList_SetOverlayImage</B> function to assign an overlay image index to an image in the full-sized icon and small icon image lists. 
<P>An overlay image is identified by a one-based index.
</LI>

	<LI>Call the<B> ListView_InsertItem</B> or <B>ListView_SetItem</B> macro to associate an overlay image index with an item.</LI>

	<LI>Use the <B>INDEXTOOVERLAYMASK</B> macro to specify an overlay image index in the <B>state</B> member of the item's <B>LVITEM</B> structure. 
<P>You must also set the<B> LVIS_OVERLAYMASK</B> bits in the <B>stateMask</B> member.
</LI>
</OL>

<P>To associate a state image with an item, use the <B>INDEXTOSTATEIMAGEMASK</B> macro to specify a state image index in the <B>state</B> member of the <B>LVITEM</B> structure. </P>

<P>By default, when a list view control is destroyed, it destroys the image lists assigned to it. However, if a list view control has the LVS_SHAREIMAGELISTS window style, the application is responsible for destroying the image lists when they are no longer in use. You should specify this style if you assign the same image lists to multiple list view controls; otherwise, more than one control might try to destroy the same image list. </P>

</BODY>
</HTML>
