<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Responding to the Prepaint Notification</TITLE>
<link disabled rel=stylesheet href=../../backsdk3.css>
<style type="text/css">
@import url(../../backsdk4.css);
</style>
</HEAD>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<TABLE ALIGN=right WIDTH=0 BORDER=0><TR><TD>
<OBJECT ID="hhobj_1" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink,MENU">
	<PARAM NAME="DefaultTopic" VALUE="../../notopic_0pk4.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="_NM_CUSTOMDRAW">
</OBJECT>
<OBJECT ID="hhobj_2" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink,MENU">
	<PARAM NAME="DefaultTopic" VALUE="../../notopic_0pk4.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="_NMCUSTOMDRAW">
</OBJECT>
</TD></TR></TABLE>



<H3>

<A NAME="_responding_to_the_prepaint_notification"></A>Responding to the Prepaint Notification</H3>

<P>At the beginning of each paint cycle, the control sends the <A HREF="JavaScript:hhobj_1.Click()">NM_CUSTOMDRAW</A> notification message, which specifies the CDDS_PREPAINT value in the <B>dwDrawStage</B> member of the accompanying <A HREF="JavaScript:hhobj_2.Click()"><B>NMCUSTOMDRAW</B></A> structure. The value that your application returns to this first notification dictates how and when the control sends subsequent custom draw notifications for the rest of that paint cycle. In response to the first notification, your application can return a combination of flags, as described in the following table.  </P>

<TABLE cols=2>

<TR VALIGN="top">
<TH align=left width=48%>Return value</TH>
<TH align=left width=52%>Effect</TH>
</TR>

<TR VALIGN="top">
<TD width=48%>CDRF_DODEFAULT</TD>
<TD width=52%>The control draws itself. It does not send additional NM_CUSTOMDRAW messages for this paint cycle. This flag cannot be used with any other flag.</TD>
</TR>

<TR VALIGN="top">
<TD width=48%>CDRF_NOTIFYITEDRAW</TD>
<TD width=52%>The control notifies the parent of any item-specific drawing operations. It sends NM_CUSTOMDRAW notification messages before and after it draws items.</TD>
</TR>
</TABLE><BR>

</BODY>
</HTML>
