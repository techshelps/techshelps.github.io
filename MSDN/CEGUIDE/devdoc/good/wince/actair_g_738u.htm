<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Item Script Selection</TITLE>
<link disabled rel=stylesheet href=../../backsdk3.css>
<style type="text/css">
@import url(../../backsdk4.css);
</style>
</HEAD>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">



<H3>

<A NAME="_item_script_selection"></A>Item Script Selection</H3>

<P>When it is necessary to render a particular data file in the browser, the appropriate script must be selected. Item scripts are responsible for rendering MCD data files and are invoked as a result of referencing the URL of the data file. The appropriate script is selected based upon the proximity of an <B>ITEMSCRIPT</B> tag to the particular MCD data file.</P>

<P>An item URL, as appears in scripts, is in the following form:</P>

<PRE><CODE>mctp://CDFid/ItemId
</CODE></PRE>

<P>Here "mctp://" specifies the use of the Mobile Channels Transport Protocol to resolve the URL and to invoke the scripting engine. <I>CDFid</I> is the <B>ID</B> tag of the top-level <B>CHANNEL</B> element and is used to scope the channel identifier to the correct CDF file. <I>ItemId</I> is the <B>ID</B> tag of the <B>ITEM</B> element for the MCD data file to be rendered.</P>

<P>The MCD data file appears in an <B>ITEM</B> element within the channel hierarchy. The location of the <B>ITEM</B> element relative to an <B>ITEMSCRIPT</B> element determines which script will be used to render the data. The script file is identified by matching the <B>ID</B> value in the <B>ITEMSCRIPT</B> element with the <B>ID</B> value of an <B>ITEM</B> element, which is the item for the script file, within the CDF. </P>

<P><B>ITEMSCRIPT</B> elements can be children of either <B>CHANNEL</B> elements or <B>ITEM</B> elements. An <B>ITEMSCRIPT</B> determines the script to be used for all items of the current channel and its subchannels. An item script, as identified by <B>ITEMSCRIPT</B>, for a <B>CHANNEL</B> or <B>ITEM</B> element supercedes any previously defined <B>ITEMSCRIPT</B> value.</P>

<P>Thus, an inheritance model is used. When it is necessary to render a particular MCD item, the nearest <B>ITEMSCRIPT</B> element in the hierarchy is used to determine what script should render the data. In the event that the appropriate script is not available on the device, a built-in script is used to render the data. The default item script simply enumerates through all the fields specified in the <B>ITEMFORMAT</B> tag and for each one displays the appropriate data from the specified MCD file. If the MCD file contains a repeating block, all the block values are enumerated on the page in a list until the end of the MCD file.</P>

<P>By convention, item scripts are specified at the top-level of a channel, usually at the top of the file. Each item script is assigned a unique <B>ID</B>. The script can then be referenced using an <B>ITEMSCRIPT</B> element from any location in the CDF hierarchy. In a script, data links are anchored using a regular HREF link to the MCTP transport, rather than the usual HTTP protocol.</P>

<P>Given the previous CDF example, the following statement in a script file shows the data in the <I>item-a.mcd</I> file:</P>

<PRE><CODE>&lt;A HREF="mctp://TEST/ITA"&gt;Click Here to See Item A&lt;/A&gt;
</CODE></PRE>

<P>Referencing by MCTP is based on the channel identifier "TEST" and the data file identifier "ITA," not the item script file. The appropriate <B>ITEMSCRIPT</B> tag is sought in the hierarchy to show the data. This conforms to the inheritance model. The <I>script1.mcs </I>script renders the <I>item-b.mcd </I>file whereas <I>script2.mcs </I>renders the <I>item-a.mcd</I> data file.</P>

<P><B>Note</B>  Iin order for an image to be rendered on IE4 desktop computer, you should reference images using standard HTTP references, rather than MCTP. If allowing the channel to be viewed on IE4 is not important, then the MCTP type URLs may be used. They will render correctly on the Windows CE-based device.</P>

</BODY>
</HTML>
