<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Processing Keyboard Messages</TITLE>
<link disabled rel=stylesheet href=../../backsdk3.css>
<style type="text/css">
@import url(../../backsdk4.css);
</style>
</HEAD>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<TABLE ALIGN=right WIDTH=0 BORDER=0><TR><TD>
<OBJECT ID="hhobj_1" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink,MENU">
	<PARAM NAME="DefaultTopic" VALUE="../../notopic_0pk4.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="_win32_WM_CHAR">
</OBJECT>
<OBJECT ID="hhobj_2" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink,MENU">
	<PARAM NAME="DefaultTopic" VALUE="../../notopic_0pk4.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="_win32_DefWindowProc">
</OBJECT>
</TD></TR></TABLE>



<H2>

<A NAME="_processing_keyboard_messages"></A>Processing Keyboard Messages</H2>

<P>The window procedure of the window that has the keyboard focus receives keystroke messages when the user types on the keyboard. An application that responds to keyboard input typically processes WM_KEYDOWN messages only.</P>

<P>In general, you should use the <B>TranslateMessage</B> function in your message loop to translate every message, not just keystroke messages. Although <B>TranslateMessage</B> has no effect on other types of messages, using it ensures that keyboard input is translated correctly.</P>

<P>When a window procedure receives the <A HREF="JavaScript:hhobj_1.Click()">WM_CHAR</A> message, it should examine the character code that accompanies the message to determine how to process the character.</P>

<P>If a window procedure processes system keyboard messages, it should pass the message to the <A HREF="JavaScript:hhobj_2.Click()"><B>DefWindowProc</B></A> function. Otherwise, all system operations involving the ALT key will be disabled whenever that window has the keyboard focus. Windows CE uses the WM_SYSCHAR message to implement menu mnemonics. </P>

<P>The <I>lParam</I> parameter of a keystroke message contains the following additional information about the keystroke that generated the message. </P>

<TABLE cols=2>

<TR VALIGN="top">
<TH align=left width=24%>Information type</TH>
<TH align=left width=76%>Explanation</TH>
</TR>

<TR VALIGN="top">
<TD width=24%>Repeat count</TD>
<TD width=76%>Specifies the number of times the keystroke was repeated as a result of the user holding down the key.</TD>
</TR>

<TR VALIGN="top">
<TD width=24%>Scan code</TD>
<TD width=76%>Gives the hardware-dependent scan code of the key.</TD>
</TR>

<TR VALIGN="top">
<TD width=24%>Context code</TD>
<TD width=76%>Has a value of one if the ALT key was pressed and of zero if it was released. </TD>
</TR>

<TR VALIGN="top">
<TD width=24%>Previous key state </TD>
<TD width=76%>Has a value of one if the pressed key was previously down and zero if it was previously up. It has a value of one for WM_KEYDOWN and WM_SYSKEYDOWN keystroke messages generated by the automatic repeat feature.</TD>
</TR>

<TR VALIGN="top">
<TD width=24%>Transition state</TD>
<TD width=76%>Has a value of one if the key was released or of zero if it was pressed.</TD>
</TR>
</TABLE><BR>

</BODY>
</HTML>
