<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Channel Script Selection</TITLE>
<link disabled rel=stylesheet href=../../backsdk3.css>
<style type="text/css">
@import url(../../backsdk4.css);
</style>
</HEAD>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">



<H3>

<A NAME="_channel_script_selection"></A>Channel Script Selection</H3>

<P>In addition to rendering data from data files, it is usually necessary to render the current location within the CDF so that the user can navigate to the desired data. When it is necessary to render a CDF navigation page in the browser, the appropriate script must be selected. Channel scripts are responsible for rendering the CDF navigation pages supplied by a content provider. As with an item script, referencing the URL of the subchannel results in the invocation of a channel script. The appropriate script is selected based upon the proximity of a <B>CHANSCRIPT</B> tag to the particular <B>CHANNEL</B> element in the URL.</P>

<P>A channel URL, as appears in scripts, is of the following form:</P>

<PRE><CODE>mctp://CDFid/ChanId
</CODE></PRE>

<P>Here, "mctp://" specifies the use of the Mobile Channels Transport Protocol to resolve the URL and to invoke the scripting engine. <I>CDFid</I> is the <B>ID</B> tag of the top-level <B>CHANNEL</B> element. It is used to scope <I>ChanId</I> to the correct CDF file. <I>ChanId </I>is the <B>ID</B> tag of the <B>CHANNEL</B> element for the subchannel within the CDF to be rendered. As a user navigates through the channel, he or she is effectively moving up and down through the CDF channel hierarchy accessing data files. At each level in the channel hierarchy, it is possible to associate a script to display the channel content, which is usually a list of subchannels or available items. </P>

<P>The <B>CHANSCRIPT</B> element identifies the script to be used to display the current channel location in a way similar to how the <B>ITEMSCRIPT</B> element identifies the script to display data. The location of a <B>CHANNEL</B> element relative to a <B>CHANSCRIPT</B> element determines which script will be used to render the subchannel. The script file is identified by matching the <B>ID</B> value in the <B>CHANSCRIPT</B> element with the <B>ID</B> value of an <B>ITEM</B> element — that is, the <B>ITEM</B> for the script file — within the CDF.</P>

<P><B>CHANSCRIPT</B> elements are children of <B>CHANNEL</B> elements. A <B>CHANSCRIPT</B> element determines the script to be used for the current channel and its subchannels. A <B>CHANSCRIPT</B> tag specified for a <B>CHANNEL</B> element supercedes any previously defined <B>CHANSCRIPT</B> value.</P>

<P>Thus, an inheritance model is used. When it is necessary to render a particular subchannel, the nearest <B>CHANSCRIPT</B> element upward in the hierarchy is used to determine what script should render the data. In the event that the appropriate script is not available on the device, a built-in script is used to render the channel as best it can.</P>

<P>In the previous CDF example, the following statement in a script file shows the Test Subchannel 2:</P>

<PRE><CODE>&lt;A HREF="mctp://TEST/C2"&gt;Click Here to See Subchannel 2&lt;/A&gt;
</CODE></PRE>

<P>Referencing by MCTP is based on the channel identifier "TEST" and the subchannel identifier "C2," not the channel script file. The appropriate <B>CHANSCRIPT</B> tag is located in the hierarchy, in conformance to the inheritance model, to show the channel. The <I>script4.mcs</I> script renders the "C2" subchannel whereas <I>script3.mcs</I> renders the "C1" subchannel.</P>

</BODY>
</HTML>
