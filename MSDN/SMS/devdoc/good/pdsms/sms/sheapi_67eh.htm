<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>NOTIFY</title>
<link disabled rel=stylesheet href=../../../backsdk3.css>
<style type="text/css">
@import url(../../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h1><a name="sms_struct_notify"></a>NOTIFY</h1>
<p>
The <b>NOTIFY</b> structure contains information about retrieval notification for asynchronous population by the <a href="sheapi_4u79.htm"><b>SmsPopulate</b></a> function.</p>
<pre><code>typedef struct _NOTIFY {
    DWORD dwFreq;
    HANDLE hEvent;
    HWND hwnd;
    UINT uiMsg;
} NOTIFY;
</code></pre>
<p>
<b>SmsPopulate</b> uses this structure only if POP_ASYNC is specified in <i>dwOptions</i>. Event notification is enabled when the POP_ASYNC and POP_EVENT flags are set for <i>dwOptions</i>. Window notification is enabled when the POP_ASYNC and POP_WINDOW flags are set for <i>dwOptions</i>.</p>
<h4>Members</h4>
<dl>
<dt>
<b>dwFreq</b></dt>
<dd>
Specifies frequency at which the SMS API engine should set an event handle or post a message to a window. Each time the SMS API engine has retrieved the number of objects specified by <b>dwFreq</b>, it notifies your application by setting an event or by posting a message to a window. In addition, the SMS API engine notifies your application when all objects have been retrieved. The type of notification depends on the flags set in the <i>dwOptions</i> parameter of <b>SmsPopulate</b>.
<p>
If <b>dwFreq</b> is set to zero, the default frequency of 500 is used.
</dd>
<dt>
<b>hEvent</b></dt>
<dd>
Specifies the handle to the event object to be set by the SMS API engine each time the number of objects specified by <b>dwFreq</b> is retrieved.
<p>
An event is a type of synchronization object provided by the Win32 API. It is the responsibility of your application to create a valid event object and reset the event object by using the synchronization functions of the Win32 API. Given a handle to a valid event object through the <b>NOTIFY</b> structure, the SMS API engine sets the event to the signaled state when the specified number of folders have been retrieved.

<p>
If the POP_EVENT flag is set for <i>dwOptions</i>, the SMS API engine sets the event specified by the <b>hEvent</b> member to the signaled state.
</dd>
<dt>
<b>hwnd</b></dt>
<dd>
Specifies the handle to the window to which the SMS API engine should post a message each time the number of objects specified by <b>dwFreq</b> is retrieved. The message is specified by the <b>uiMsg</b> member.
<p>
If the POP_WINDOW flag is set for <i>dwOptions</i>, the SMS API engine posts the message specified by the <b>uiMsg</b> member to the window specified by <b>hwnd</b>.
</dd>
<dt>
<b>uiMsg</b></dt>
<dd>
Specifies the message that the SMS API engine should post to a window each time the number of objects specified by <b>dwFreq</b> is retrieved. The window is specified by the <b>hwnd</b> member.
<p>
If the POP_WINDOW flag is set for <i>dwOptions</i>, the SMS API engine posts the message specified by <b>uiMsg</b> to the window specified by <b>hwnd</b>.

</dd>
</dl>
<h4>Remarks</h4>
<p>
Note that <b>SmsPopulate</b> performs asynchronous population and retrieval notification only for <a href="sheapio_1jar.htm">containers</a> that contain machine folders (<a href="sheapio_4zhu.htm">site container</a>, <a href="sheapio_3oky.htm">site group container</a>, <a href="sheapio_3mlu.htm">machine container</a>, and <a href="sheapio_8zoy.htm">machine group container</a>).</p>
<p>
In addition, <b>SmsPopulate</b> initiates the retrieval process, which is carried out by the SMS API engine. For asynchronous population, <b>SmsPopulate</b> returns immediately while the SMS API engine retrieves <a href="sheapio_5g1f.htm">folders</a> from the site database. The SMS API engine uses the information in the <b>NOTIFY</b> structure passed to it by <b>SmsPopulate</b> to post a window message or signal an event.</p>
<p>
<b>Important</b>  Asynchronous retrieval can only be used on machine, machine group, site, and site group containers. Although the <b>SmsPopulate</b> function applies to containers, the asynchronous behavior goes into effect only when retrieving machine folders from their parent folders or containers. For machine containers, the asynchronous behavior is in effect when <b>SmsPopulate</b> is called, because machine folders are the top-level folder in the container.</p>
<p>
However, the machine folders in a site container are lower-level folders that are contained within the domain folders within site folders. When your application uses asynchronous population on a site container, the asynchronous retrieval takes effect when it accesses the folder containing the machine folders—that is, the domain folder. The site folders and the domain folders are not retrieved asynchronously. This means your application should wait on an event only after machine retrieval in a domain folder or a machine container has been triggered—the event will never be set to the signaled state if no machines are retrieved and the wait function (such as <b>WaitForSingleObject</b>) will time out.</p>
<p>
In addition, when using asynchronous retrieval with events or window messages for site containers and site group containers, there are some special issues that need to be addressed (such as triggering machine retrieval in domain folders). For more detailed information, see <a href="sheapio_4g2t.htm">Populating Containers in Asynchronous Mode</a>.</p>
<p>&nbsp;</p></body>
</HTML>
