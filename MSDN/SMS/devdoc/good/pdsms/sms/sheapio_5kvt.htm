<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Processing Multiple Domain Folders Simultaneously</title>
<link disabled rel=stylesheet href=../../../backsdk3.css>
<style type="text/css">
@import url(../../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h3><a name="sms_processing_multiple_domain_folders_simultaneously"></a>Processing Multiple Domain Folders Simultaneously</h3>
<p>
When more than one domain folder has been initialized, the Win32® <b>WaitForSingleObject</b> function returns when an event is set for <i>any</i> of those domain folders. The sequential processing for the example function <b>EnumerateMachinesInSiteContainer</b> in <a href="sheapio_45tf.htm">Sequential Processing of Domain Folders</a> could not be used. While processing each domain folder, your application must be aware of all other domain folders that have been initialized.</p>
<p>
When your application processes each domain folder, it triggers the machine folder retrieval for a domain folder by calling <a href="sheapi_45pw.htm"><b>SmsGetFolderCount</b></a> (or another function from the list of <a href="sheapio_4g2t.htm">domain folder intialization functions</a>) and then calling <b>WaitForSingleObject</b>. However, when <b>WaitForSingleObject</b> returns, your application cannot detect which domain folder set the signaled state on the event. To confirm which domain folder set the signaled state, your application should use the following technique:</p>
<p>
For each domain folder, maintain a running count of the machine folders retrieved. When the <b>WaitForSingleObject</b> function returns, call the <b>SmsGetFolderCount</b> function and then compare the current count with the previous count. If there is a change, there are more machine folders in the domain folder that your application can process. If the count is unchanged for that domain folder, then the signal was for another domain folder. You must now call <b>SmsGetFolderCount</b> for each domain folder that has been initialized.</p>
<p>
Your application should use this technique to ensure that it does not lose a signal for any of the domain folders.</p>
<p>&nbsp;</p></body>
</HTML>
