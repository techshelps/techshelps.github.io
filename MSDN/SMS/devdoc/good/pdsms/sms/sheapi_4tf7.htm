<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>SmsGetAllFilters</title>
<link disabled rel=stylesheet href=../../../backsdk3.css>
<style type="text/css">
@import url(../../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h1><a name="sms_smsgetallfilters"></a>SmsGetAllFilters</h1>
<p>
The <b>SmsGetAllFilters</b> function retrieves a list of handles to all the <a href="sheapio_19f7.htm">filters</a> that have been applied to a specified <a href="sheapio_1jar.htm">container</a>.</p>
<pre><code><b>SMS_STATUS SmsGetAllFilters(
  HANDLE</b><i> hContainer</i><b>, </b>// Handle to the container.
<b>  HANDLE</b><i> *pahFilters</i><b>,</b>
<b>                     </b>// Pointer to an array of HANDLE values.
<b>  DWORD</b><i> *pctFilters  </i>// Number of filters applied to the container.
<b>);</b>
 </code></pre>
<h4>Parameters</h4>
<dl>
<dt>
<i>hContainer</i></dt>
<dd>
Specifies the handle to the container whose applied filters you want to retrieve.</dd>
<dt>
<i>pahFilters</i></dt>
<dd>
Points to an array of HANDLE values. This array will receive the handles to the filters that have been applied to the container. Your application must ensure that the array specified by <i>pahFilters</i> is large enough to contain the number of filters applied to the container specified by <i>hContainer</i>. See the following remarks.</dd>
<dt>
<i>pctFilters</i></dt>
<dd>
Specifies the number of filters applied to the container.
</dd>
</dl>
<h4>Return Values</h4>
<p>
The <b>SmsGetAllFilters</b> function returns a status code SMS_STATUS. If successful, the function returns a status of SMS_OK. Otherwise, it returns one of the following manifest constants:
<dl>
<dt>
SMS_INVALID_HANDLE</dt>
<dd>
The specified handle is not a valid filter handle.</dd>
<dt>
SMS_MORE_DATA</dt>
<dd>
This status code can be caused by one of the following conditions:
<ul>
<li>
The filter count pointer is NULL.</li>
<li>
The filter handle array pointer is NULL.</li>
<li>
The actual number of filters exceeds the specified number of entries in the filter handle array.</li>
</ul>
</dd>
</dl>
<h4>Remarks</h4>
<p>
The application must ensure that the array specified by <i>pahFilters</i> is large enough to contain the number of filters applied to the container specified by <i>hContainer</i>.</p>
<p>
To get the correct size for the <i>pahFilters</i> array, call the <b>SmsGetAllFilters</b> function with <i>pahFilters</i> set to NULL or with <i>pctFilters</i> set to zero. <b>SmsGetAllFilters</b> will assign the count of applied filters to <i>pctFilters</i> and return a status of SMS_MORE_DATA. After getting the correct value for <i>pctFilters</i>, call the <b>SmsGetAllFilters</b> function again using the correct value for <i>pctFilters</i>, and a <i>pahFilters</i> array with a size that matches the count specified by <i>pctFilters</i>.</p>
<p>
If the value for <i>pctFilters</i> is less than the number of applied filters, the function writes the number of filter handles specified by <i>pctFilters</i> to the <i>pahFilters</i> array and returns a status of SMS_MORE_DATA.</p>
<p>
If the value for <i>pctFilters</i> is greater than or equal to the number of applied filters, the function writes all filter handles for the specified container to the <i>pahFilters</i> array and returns a status of SMS_OK.</p>
<p>
<b>Important</b>  After <b>SmsGetAllFilters</b> is called for a container, the instance count for each filter applied to the container is incremented by 1. To decrement the count to the previous count value for each filter, your application must explicitly call <a href="sheapi_4zsi.htm"><b>SmsCloseFilter</b></a> for each filter applied to the container.</p>
<h4>See Also</h4>
<p>
<a href="sheapi_4zsi.htm"><b>SmsCloseFilter</b></a> </p>
<p>&nbsp;</p></body>
</HTML>
