<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>SmsGetFolderID</title>
<link disabled rel=stylesheet href=../../../backsdk3.css>
<style type="text/css">
@import url(../../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h1><a name="sms_smsgetfolderid"></a>SmsGetFolderID</h1>
<p>
The <b>SmsGetFolderID</b> function retrieves the identifier of the folder specified by the folder handle.</p>
<pre><code><b>SMS_STATUS SmsGetFolderID(
  HANDLE</b><i> hFolder</i><b>,    </b>// Handle to folder.
<b>  char</b><i> *pszFolderID  </i>// Pointer to buffer to receive the folder 
                     // identifier.
<b>);</b>
 </code></pre>
<h4>Parameters</h4>
<dl>
<dt>
<i>hFolder</i></dt>
<dd>
Specifies the handle to the folder whose identifier you want to retrieve.</dd>
<dt>
<i>pszFolderID</i></dt>
<dd>
Points to the buffer that will receive the folder's identifier. Your application is responsible for ensuring that this buffer is large enough. If you are unsure of the correct buffer size, use SMS_DATA_BUFF_SIZE, which is the largest string size that SMS can currently store.
</dd>
</dl>
<h4>Return Values</h4>
<p>
The <b>SmsGetFolderID</b> function returns a status code SMS_STATUS. If successful, the function returns a status of SMS_OK. Otherwise, it returns one of the following manifest constants:
<dl>
<dt>
SMS_INVALID_HANDLE</dt>
<dd>
The specified folder handle is not a valid folder handle.</dd>
<dt>
SMS_FOLDER_ALREADY_DELETED</dt>
<dd>
An action was attempted on a folder that has already been deleted.</dd>
<dt>
SMS_NEW_FOLDER</dt>
<dd>
The specified folder has only been created using the <a href="sheapi_9mlu.htm"><b>SmsCreateFolder</b></a> function. No identifier value has been assigned to the folder yet. A folder is assigned an identifier after it is committed to the site database, using <a href="sheapi_2s36.htm"><b>SmsCommitFolder</b></a>.
</dd>
</dl>
<h4>Remarks</h4>
<p>
For the folder specified by the <i>hFolder</i> parameter, the <b>SmsGetFolderID</b> function returns the identifier for the folder in the character string specified by the <i>pszFolderID</i> parameter. The nature of the identifier depends on the type of folder:
<dl>
<dt>
F_DOMAIN</dt>
<dd>
Domain name. For example, TIMDOMAIN.</dd>
<dt>
F_GROUP</dt>
<dd>
Group class name. The identifier has the form <i>organization</i>|<i>class name</i>|<i>version</i>.</dd>
<dt>
F_INSTALLJOB</dt>
<dd>
Job identifier. For example, AUS00001.</dd>
<dt>
F_INVENTORY</dt>
<dd>
An inventory rules folder always uses "Inventory rules" as the identifier.</dd>
<dt>
F_MACHINE</dt>
<dd>
For objects with the Personal Computer architecture, the identifier has the form <i>site</i>|<i>domain</i>|<i>name</i>. For objects with other architectures, the identifier is the string form of an integer.</dd>
<dt>
F_MACHINEGROUP</dt>
<dd>
Machine group name. For example, Leased Servers.</dd>
<dt>
F_PACKAGE</dt>
<dd>
Package identifier. For example, AUS00001.</dd>
<dt>
F_PROGITEM</dt>
<dd>
Program item identifier. For example, AUS00001.</dd>
<dt>
F_REMPKGJOB</dt>
<dd>
Job identifier. For example, AUS00001.</dd>
<dt>
F_SITE</dt>
<dd>
Site code. For example, AUS.</dd>
<dt>
F_SITEGROUP</dt>
<dd>
Site group name. For example, Europe Sites.</dd>
<dt>
F_SRVINSTALLJOB</dt>
<dd>
Job identifier. For example, AUS00001.</dd>
<dt>
F_SYSTEMJOB</dt>
<dd>
Job identifier. For example, AUS00001.</dd>
<dt>
F_WCL</dt>
<dd>
Command name.
</dd>
</dl>
<p>
Note that the identifiers for most new folders are available after they have been committed to the site database with <a href="sheapi_2s36.htm"><b>SmsCommitFolder</b></a>. If a new folder has been created using <a href="sheapi_9mlu.htm"><b>SmsCreateFolder</b></a> or linked using <a href="sheapi_88tu.htm"><b>SmsLinkFolder</b></a> but has not been committed, <b>SmsGetFolderID</b> returns a status of SMS_NEW_FOLDER.</p>
<p>
However, new workstation command line folders (F_WCL) and program item folders (F_PROGITEM) require some extra steps before their identifiers are available. For a new workstation command line folder, the identifier is available after the Name scalar is set for the folder (the Name scalar is used as the identifier) and after the folder has been linked and committed. For a new program item folder, the identifier is available after the folder itself and its parent folder have been linked and committed.</p>
<p>&nbsp;</p></body>
</HTML>
