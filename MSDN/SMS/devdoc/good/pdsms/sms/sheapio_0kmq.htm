<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Retrieve tokens for the persistent filters</title>
<link disabled rel=stylesheet href=../../../backsdk3.css>
<style type="text/css">
@import url(../../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h3><a name="sms_retrieve_tokens_for_the_persistent_filters_proc2"></a>Retrieve tokens for the persistent filters</h3>
<p>
After your application gets the handle to a filter, your application can retrieve the tokens for that filter.</p>
<p>
The tokens can be retrieved by token index.</p>
<p>
To get a token from a filter, use the <a href="sheapi_8jzi.htm"><b>SmsGetToken</b></a> function. <b>SmsGetToken</b> retrieves the token at the specified index in the filter and writes the token's information into a <a href="sheapi_0awe.htm"><b>TOKEN</b></a> structure.</p>
<p>
Example:</p>
<pre><code>// Print all tokens in the hFilter 
// and print the token on the screen.
TOKEN token;
DWORD ctTokens;
DWORD dwLoop;
// Get count of tokens in filter
SmsGetTokenCount (hFilter,  // Handle to filter.
                  &amp;ctTokens // Points to DWORD
                            // to receive count.
                 );
printf("Filter contains %d tokens", ctTokens);
printf("Tokens:\n");
// Loop to get all tokens and display them.
for (dwLoop = 0; dwLoop &lt; ctTokens; dwLoop++) {
  // Clear token.
  memset(&amp;token, 0, sizeof(TOKEN));
  // Get the token.
  stat = SmsGetToken(hFilter,  // Handle to filter.
                     dwLoop,   // Index of the token.
                     &amp;token    // structure for the token data.
                          );
  // Print the display string version of the token.
  printf("%s\n", token.szTokenString);
}
</code></pre>
<p>
Note that the <a href="sheapi_97g4.htm"><b>SmsGetTokenCount</b></a> function returns the count of tokens within a filter.</p>
<p>&nbsp;</p></body>
</HTML>
