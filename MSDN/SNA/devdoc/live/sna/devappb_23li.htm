<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>SNA Device Driver Interface to Modem Status</title>
<link disabled rel=stylesheet href=../../backsdk3.css>
<style type="text/css">
@import url(../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h1><a name="_sna_sna_device_driver_interface_to_modem_status_dev"></a>SNA Device Driver Interface to Modem Status</h1>
<p>
There are three interfaces from which modem status can be gathered:
<ul>
<li>
The SNADIS Dumb Card Interface <b>GetV24Status</b> IOCTL call that reports the status of the Ring Indicator (DRI), Carrier Detect (DCD), Clear To Send (CTS), and Data Set Ready (DSR) signal lines.</li>
<li>
The SNADIS Dumb Card Interface <b>SetV24Status</b> IOCTL call that sets the status of the Data Terminal Ready (DTR) and Request To Send (RTS) signal lines.</li>
<li>
The SNADIS Dumb Card Interface receive and transmit IOCTL calls, used to set the operating mode of the device driver.</li>
</ul>
<p>
Whenever one of the first two interfaces indicates a modem line is high, the corresponding light in the display is lit. However, the transmit and receive IOCTL calls cannot provide a definitive statement as to whether the card is receiving data, only that it is ready to receive data. To work around this limitation and to have the modem lights give a reasonable semblance of ordinary data throughput, the following mechanism is recommended.</p>
<p>
The receive and transmit lights are simulated by counters. Each link service tracks the number of frames received and transmitted. The display application interpolates the flashing of the receive and transmit lights from these counters.</p>
<p>
The remainder of this section describes the changes that must be made to the link service for supporting the modem status interface and the interface provided to the display application. Microsoft® SNA Server comes with an application that displays the modem status.</p>
<p>&nbsp;</p></body>
</HTML>
