<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>COM_TRC_IHV</title>
<link disabled rel=stylesheet href=../../backsdk3.css>
<style type="text/css">
@import url(../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h3><a name="_sna_com_trc_ihv_dev"></a>COM_TRC_IHV</h3>
<p>
The <b>COM_TRC_IHV</b> macro specifies the buffer to be output to the trace file. It is invoked using</p>
<p>
<b>COM_TRC_IHV(&amp;Buffer)</b>;</p>
<p>
The buffer must be formatted as multiple lines of ASCII text (a maximum of 18 lines), each exactly 60 characters in length. Carriage returns and line feeds should not be used. The end of the buffer should be signaled by an ASCII NULL in the data. The buffer will be output to the file in the standard SNA Server format, as shown in the following figure.</p>
<pre><code>| PP.TT IHV    ---------------------------------------------- Time
| PP.TT IHV    Buffer [0..59]    
| PP.TT IHV    Buffer [60.119]      
| PP.TT IHV    .                                                    
| PP.TT IHV    .           
| PP.TT IHV    ---------------------------------------------- Time
| PP.TT IHV    Buffer [0..59]
| PP.TT IHV    Buffer [60.119]      
| PP.TT IHV    .                                                    
| PP.TT IHV    .                  
| PP.TT IHV    ---------------------------------------------- Time
| PP.TT IHV    Buffer [0..59]
| PP.TT IHV    Buffer [60.119]      
 </code></pre>
<p>
<b>Format of connection tracing. PP is the process identifier and TT is the thread identifier.</b></p>
<p>
<b>Note</b>  The registry entries used to control tracing are inserted by the Setup program. The SNATRACE.EXE program can be used to enable or disable internal tracing dynamically at run time (assuming binaries have been compiled with internal tracing enabled).</p>
<p>
IHV connection tracing is enabled by including the following entries in the Microsoft® Windows NT® registry:</p>
<p>
<b>ConnectionTraceState=on&nbsp;&nbsp;&nbsp;&nbsp;<i>(or </i>off<i>)</i><br>
ConnectionTraceFile1=<i>file1</i><br>
ConnectionTraceFile2=<i>file2</i></b></p>
<p>
These entries should be stored under:</p>
<p>
<b>HKEY_LOCAL_MACHINE\System\CurrentControlSet\...\</b><br>
<b>Services\&lt;SNALink_Name&gt;\Parameters</b></p>
<p>
For further details of connection tracing, refer to the <i>Microsoft SNA Server Administration Guide.</i></p>
<p>
</p>
<p>&nbsp;</p></body>
</HTML>
