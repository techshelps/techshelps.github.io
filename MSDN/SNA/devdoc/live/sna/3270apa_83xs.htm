<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>GetFmiReturnCode</title>
<link disabled rel=stylesheet href=../../backsdk3.css>
<style type="text/css">
@import url(../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h1><a name="_sna_getfmireturncode_3270"></a>GetFmiReturnCode</h1>
<p>
The <b>GetFmiReturnCode</b> function converts link status and error codes to a printable string. This function provides a standard set of error strings for use by Function Management Interface (FMI) applications.</p>
<p>
<b>int WINAPI</b><i> </i><b>GetFmiReturnCode (<br>
UINT</b><i> errcode1</i><b>,</b><i><br>
</i><b>UINT</b><i> errcode2</i><b>,</b><i><br>
</i><b>UINT </b><i>buffer_length</i><b>,</b><i><br>
</i><b>unsigned char FAR</b><i> *buffer_addr<br>
</i><b>);</b></p>
<h4>Parameters</h4>
<dl>
<dt>
<i>errcode1</i></dt>
<dd>
Supplied parameter; see Remarks.</dd>
<dt>
<i>errcode2</i></dt>
<dd>
Supplied parameter; see Remarks.</dd>
<dt>
<i>buffer_length</i></dt>
<dd>
Supplied parameter; specifies the length of the buffer pointed to by <i>buffer_addr</i>. The recommended length is 256.</dd>
<dt>
<i>buffer_addr</i></dt>
<dd>
Supplied/returned parameter; specifies the address of the buffer that will hold the formatted, null-terminated string.
</dd>
</dl>
<h4>Return Values</h4>
<dl>
<dt>
0x20000001</dt>
<dd>
The parameters are invalid; the function could not read the specified error codes or could not write to the specified buffer.</dd>
<dt>
0x20000002</dt>
<dd>
The specified buffer is too small.
</dd>
</dl>
<h4>Remarks</h4>
<p>
The <i>errcode1</i> and <i>errcode2</i> parameters are set according to the way that <b>GetFmiReturnCode</b> is used:</p>
<table cellspacing=4 cols=3>
<tr valign=top>
<th align=left width=57%>Codes to be translated</th>
<th align=left width=21%>Value for <i>errcode1</i></th>
<th align=left width=22%>Value for <i>errcode2</i></th>
</tr>
<tr valign=top>
<td width=57%>The <i>errcode1</i> and <i>errcode2</i> values specified in <a href="3270c5_4a5s.htm">Error and Sense Codes</a> which includes messages for:<br>
<b>Open(SSCP) Response</b>, <b>Open(PLU) Confirm</b>, <b>Status-Acknowledge(Nack-2)</b>, <b>Status-Control(...) Nack2</b>, <b>Status-Error</b>, and Appl-Data messages with SDI set</td>
<td width=21%>Unchanged from message</td>
<td width=22%>Unchanged from message</td>
</tr>
<tr valign=top>
<td width=57%>The status and qualifier codes returned from a <br>
<a href="3270c4_7v8w.htm"><b>Status-Session</b></a> message</td>
<td width=21%><i>status</i>*256<br>
+ <i>qualifier</i></td>
<td width=22%>0xFFFF</td>
</tr>
<tr valign=top>
<td width=57%>The return code from <b>WinLUAGetLastInitStatus</b></td>
<td width=21%>The return code</td>
<td width=22%>0xFFFF</td>
</tr>
</table><br>
<p>
</p>
<p>&nbsp;</p></body>
</HTML>
