<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Bracket Termination</title>
<link disabled rel=stylesheet href=../../backsdk3.css>
<style type="text/css">
@import url(../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h3><a name="_sna_bracket_termination_3270"></a>Bracket Termination</h3>
<p>
The local node supports bracket termination rule one (conditional) and bracket termination rule two (unconditional), as specified in the BIND request. Some sessions only allow bracket termination by one session partner; this is a BIND option (supplied in the BICB on <a href="3270c4_6e40.htm"><b>Open(PLU) OK Confirm</b></a>), and it is the application's responsibility to determine if (and when) it should request bracket termination.</p>
<p>
If an application is allowed by its BIND to terminate brackets, it does so by setting the EBI application flag in an inbound <a href="3270c4_4eeo.htm"><b>Data</b></a> or <b>Status-Control(LUSTAT/CHASE/QC/CANCEL)</b> message. The bracket is only terminated when the application receives a <a href="3270c4_7v8w.htm"><b>Status-Session</b></a> (BETB) from the local node.</p>
<p>
If the host terminates a bracket successfully, the local node sends a <b>Status-Session(BETB)</b> to the application. Note that the EBI application flag on outbound messages does not indicate bracket termination, but indicates that the corresponding RU carried EB. The bracket is only terminated when the application receives <b>Status-Session(BETB)</b>.</p>
<p>
Note that if the application queues data, then it should also queue <b>Status-Session(BETB)</b> messages; they must not be processed as expedited.</p>
<p>
The following two figures illustrate bracket termination protocols between the local node and the application and how those protocols relate to the underlying SNA protocols.</p>
<p>
In the following illustration, the application successfully terminates a bracket by sending an EBI data chain when the application's state is in-bracket, which the host accepts. The local node sends a <b>Status-Session(BETB)</b> to indicate that the application's state is now between-bracket.</p>
<p>
<img src="images/32703l.gif" border=0></p>
<p>
In the following illustration, the host successfully terminates a bracket by sending an EBI data chain when the application's state is in-bracket, which the application accepts. The local node sends a <b>Status-Session(BETB)</b> to indicate that the application's state is now between-bracket.</p>
<p>
<img src="images/32703la.gif" border=0></p>
<p>&nbsp;</p></body>
</HTML>
