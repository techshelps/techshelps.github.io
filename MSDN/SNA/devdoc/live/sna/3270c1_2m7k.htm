<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>LPI Addresses</title>
<link disabled rel=stylesheet href=../../backsdk3.css>
<style type="text/css">
@import url(../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h2><a name="_sna_lpi_addresses_3270"></a>LPI Addresses</h2>
<p>
An LPI address is used to identify each end of a connection. It has three components: locality (L), partner (P), and index (I).
<ul>
<li>
<b>Locality</b> is a 1-byte identifier that uniquely identifies a locality within a system. This locality corresponds to an SNA Server component (local node, link service, 3270 emulator, and so on).</li>
<li>
<b>Partner</b> is a 1-byte identifier that uniquely identifies a partner within the locality. This is not always used, but can be used to distinguish between parts of a component (for example, the 3270 functions in the local node rather than the APPC functions).</li>
<li>
<b>Index</b> is a 2-byte identifier that uniquely identifies a logical entity within the partner. The meaning and use of this field is defined by the communicating partners; it is used to distinguish multiple connections between the same partners (for example, to identify one of many 3270 sessions between the local node and a particular 3270 emulator). The value of zero should not be used as an index value. Applications must assign unique index values for every active LPI connection with the node.</li>
</ul>
<p>
A message flowing over a connection carries a pair of LPIs that identify the source and destination of the message. These are the source LPI and destination LPI of the message; together they identify the connection on which the message is flowing.</p>
<p>
Note that more than one connection can exist between any pair of partners. The I values are then used to distinguish the connections. For example, in communications between the local node and a 3270 emulator, the L and P values identify the message as being 3270 data for that local node, and the I value indicates which session the data is intended for.</p>
<p>
The LPIs are assigned by a combination of the partners and the DMODs when the connection is opened, as described in <a href="3270c1_7vqo.htm">Making Connections</a>.</p>
<p>
Because they are assigned dynamically for each component, the L values are not the same across a whole system. For example, a local 2.1 node locality could be known as locality 4 to one 3270 locality, and locality 6 to a second 3270 locality. However, from the viewpoint of any locality, there exists a unique L value for each remote locality within which a path exists; this L value is used as an index into an internal table that identifies the path to that locality.</p>
<p>
The following figures show an example of the L values that could be used between the components shown in <a href="3270c1_08vk.htm">Paths and DMODS</a>, and examples of the LPI values that would be used by the local node on messages flowing between the components. (See <a href="3270c3_41gw.htm">Opening the PLU Connection</a> for more information on how the LPI values are assigned and used.)</p>
<p>
<img src="images/32701d.gif" border=0></p>
<p>
<b>Example L values</b></p>
<p>
<img src="images/32701e.gif" border=0></p>
<p>
<b>L values specified on messages between the local node and 3270 B</b></p>
<p>
<img src="images/32701f.gif" border=0></p>
<p>
<b>LPI values specified on messages flowing on two different connections between the local node and 3270 A</b></p>
<p>
The Base is called by any piece of code that wishes to send a message. It uses the destination L value on the message to determine where to send it. When the message gets to the remote locality, the Base in that locality routes it to the appropriate partner if the locality contains more than one partner.</p>
<p>&nbsp;</p></body>
</HTML>
