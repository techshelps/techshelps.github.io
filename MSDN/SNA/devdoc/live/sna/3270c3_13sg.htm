<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Sessions and Connections</title>
<link disabled rel=stylesheet href=../../backsdk3.css>
<style type="text/css">
@import url(../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h2><a name="_sna_sessions_and_connections_3270"></a>Sessions and Connections</h2>
<p>
An application using the FMI can communicate with the host on two SNA sessions:
<ul>
<li>
The SSCP session, between an SNA Server LU and the host system services control point (SSCP), provides information on the activation of the LU and supports communication with the SSCP for commands such as character-coded and field-formatted logon and logoff commands. There is one SSCP session for each SNA Server LU.</li>
<li>
The PLU session, between an SNA Server LU and the host primary logical unit (PLU), is the main session for data transfer between the local application and the host application. There is one PLU session for each SNA Server LU.</li>
</ul>
<p>
The local node communicates directly with the host on the PU-SSCP session.
<ul>
<li>
The PU-SSCP session, between the physical unit (local node) and the host SSCP, supports the reporting of alert information and link statistics to the host SSCP.</li>
</ul>
<p>
The three sessions are illustrated in the following figure:</p>
<p>
<img src="images/32703b.gif" border=0></p>
<p>
The application can communicate with the local node by means of two LPI connections. Rather than specifying the session on which a message is to flow, the application sends the message to the local node on one of these connections; the local node then routes it to the appropriate SNA session.</p>
<p>
The connections are used as follows:
<ul>
<li>
The SSCP connection is used for the initial start-up and logon information for a 3270 session. The SNA Server 3270 emulation programs also send network management information, such as user alerts and Response Time Monitor (RTM) statistics, to the local node on this session. See <a href="3270c3_0os0.htm">The SSCP Connection</a> for more information on this connection.</li>
<li>
The PLU connection is used for the transfer of application data, and for status and flow control messages between the application and the local node. See <a href="3270c3_6n74.htm">The PLU Connection</a> for more information on this connection.</li>
</ul>
<p>
The connections are illustrated in the following figure.</p>
<p>
<img src="images/32703ba.gif" border=0></p>
<p>
These connections are specific to the local node and the application. Data and status messages passed across a connection result in SNA data and SNA control requests being sent on the appropriate SNA session. Similarly, SNA data and SNA control responses received on an SNA session result in data and control messages being passed to the application on the appropriate connection.</p>
<p>
The relationship between the three SNA sessions and the two connections is as follows:
<ul>
<li>
SNA messages on the SSCP session from the host to the local node result in messages from the local node to the application on the SSCP connection. Messages from the application to the local node on the SSCP connection normally result in SNA messages on the SSCP session from the local node to the host (with the exception of network management information, which results in messages on the PU-SSCP session — see below).</li>
<li>
SNA messages on the PLU session from the host to the local node result in messages from the local node to the application on the PLU connection. Messages from the application to the local node on the PLU connection result in SNA messages on the PLU session from the local node to the host.</li>
<li>
SNA messages on the PU-SSCP session from the local node to the host are generated by messages from the application to the local node on the SSCP connection. When the application sends network management information such as 3270 user alerts on the SSCP connection, the local node distinguishes it from other data on this connection (which normally corresponds to the SSCP session) and sends the appropriate information on the PU-SSCP session to the host. See <a href="3270c3_752o.htm">3270 User Alerts</a> for more information.</li>
</ul>
<p>
Note the distinction between these SNA sessions and 3270 emulation sessions. A 3270 emulator can have more than one 3270 emulation session; for each emulation session, there are separate SSCP and PLU sessions.</p>
<p>
Each connection between the application and the local node is opened, managed, and closed separately. This means that an application must maintain a separate internal control block containing the LPI pair, message keys, and state of the connection for each of the SNA sessions associated with each 3270 emulation session; for example, an application using three 3270 emulation sessions, each with an SSCP session and a PLU session, will require six control blocks.</p>
<p>
An application identifies the connection (and hence the session) to which a particular message belongs using the LPI pair present in the message. On a received message, the destination index (I) value contains the application's identifier for the connection, and the source I value contains the local node's identifier for the connection. These are reversed for messages sent by the application.</p>
<p>
The application selects the LU within the local node that it can use for communications by the relationship in the configuration table between the LU and APPL records (see <a href="3270c3_425s.htm">Opening the SSCP Connection</a>). The application may be unaware of which LU it accesses if the LUs are arranged within LU groups.</p>
<p>&nbsp;</p></body>
</HTML>
