<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Invokable TPs</title>
<link disabled rel=stylesheet href=../../backsdk3.css>
<style type="text/css">
@import url(../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h3><a name="_sna_invokable_tps_appc"></a>Invokable TPs</h3>
<p>
An invokable TP is a TP that can be invoked by another TP. Invokable TPs are written or configured through registry or environment variables to supply their names to SNA Server as a notification that they are available for incoming requests. SNA Server invokable TPs can be run on any SNA server or client running Windows NT, Windows 95, Windows 3.<i>x</i>, or OS/2.</p>
<p>
<b>Note</b>&nbsp;&nbsp;SNA Server invokable TPs cannot be run on MS-DOS®-based clients.</p>
<p>
There are two types of invokable TPs:
<dl>
<dt>
<b>Operator-started invokable TPs</b></dt>
<dd>
An operator-started invokable TP must be started by an operator before the TP can be invoked. When the operator-started invokable TP is started, it notifies SNA Server of its availability by issuing a <a href="appc05b_0m77.htm"><b>RECEIVE_ALLOCATE</b></a> verb. The <b>RECEIVE_ALLOCATE</b> causes the name of the invokable TP to be communicated to all the SNA servers in the domain, along with the alias of an associated LU if one has been configured through a registry or environment variable.</dd>
<dt>
<b>Autostarted invokable TPs</b></dt>
<dd>
An autostarted invokable TP can be started by SNA Server when needed. The TP must be registered through registry entries or environment variables on its local system, so that it can be identified to the SnaBase component of the SNA Server client software. The registered information defines the TP as autostarted and must specify the TP name. The registered information can also specify the local LU alias that the invokable TP will use. 
<p>
The recommended method for setting registry or environment variables for autostarted invokable TPs is to use the sample TP configuration program, TPSETUP, or similar code written into your own installation program. For more information about registry or environment variables for invokable TPs, see <a href="appc02wr_1ahv.htm">Configuring Invokable TPs</a>. For information about TPSETUP, see <a href="appcapc_4u03.htm">Sample APPC TPs in the SDK</a>.

<p>
If no local LU alias is registered with autostarted TPs, the resulting SNA Server configuration can be more flexible in responding to invoking requests. For more information about such flexible configurations, see <a href="appc02wr_54rn.htm">TP Name Not Unique; Local LU Alias Unspecified</a>.

<p>
After an autostarted invokable TP is started by SNA Server, the TP issues <a href="appc05b_0m77.htm"><b>RECEIVE_ALLOCATE</b></a> just as an operator-started TP does. <b>RECEIVE_ALLOCATE</b> must provide the TP name that was registered for the TP.

</dd>
</dl>
<p>
Autostarted TPs must be configured through registry or environment variables to be either queued or nonqueued. All operator-started TPs act as queued TPs.
<dl>
<dt>
<b>Queued TPs</b></dt>
<dd>
If an autostarted TP is configured as queued, or if the TP is operator-started, incoming allocation requests are queued and then sent only when the invokable TP issues <b>RECEIVE_ALLOCATE</b>. For autostarted invokable TPs, if a copy of the TP is not yet running, one is started when an incoming allocation request specifies that TP.

<p>
<b>Note  </b>For the Windows NT system, only one copy of a service can be running at any given time; this means that all autostarted TPs that run as services under Windows NT must be queued. To write an autostarted TP so it will run under Windows NT as a service and also run in a nonqueued way, write a multithreaded program with a <b>RECEIVE_ALLOCATE</b> always outstanding.

</dd>
<dt>
<b>Nonqueued TPs</b></dt>
<dd>
If an autostarted TP is configured as nonqueued, a new copy will be started every time an <a href="appc05a_1ckj.htm"><b>ALLOCATE</b></a> or  <a href="appc05a_38f7.htm"><b>MC_ALLOCATE</b></a> is received for the TP. Nonqueued TPs should process the conversation they have been allocated and then exit, since they will not receive any additional <b>ALLOCATE</b> or <b>MC_ALLOCATE</b> requests.
</dd>
</dl>
<p>&nbsp;</p></body>
</HTML>
