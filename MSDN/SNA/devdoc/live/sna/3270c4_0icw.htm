<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>FMI Message Formats</title>
<link disabled rel=stylesheet href=../../backsdk3.css>
<style type="text/css">
@import url(../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h1><a name="_sna_fmi_message_formats_3270"></a>FMI Message Formats</h1>
<p>
This section describes the message formats for the Function Management Interface (FMI). The message formats are presented in a language-independent notation. Details of the message format notation and key assumptions about the contents of the message formats are as follows:
<ul>
<li>
"Reserved" indicates that the field is set to zero (for a numeric field) or all nulls (for names) by the sender of the message.</li>
<li>
"Undefined" indicates that the value of the field is indeterminate. The field is not set by the sender and should not be examined by the receiver of the message.</li>
<li>
Fields that occupy two bytes—such as <b>opresid</b> in the <a href="3270c4_0gvk.htm"><b>Open(PLU) Request</b></a>—are represented with the most arithmetically significant byte in the lowest byte address, irrespective of the normal orientation used by the processor on which the software executes. That is, the 2-byte value 0x1234 has the byte 0x12 in the lowest byte address. However, the following fields are exceptions:<p class=indent1>
The <b>srci</b> and <b>desti</b> fields in buffer headers are stored in the local format of the application that assigns them, since only the assigning application needs to interpret these values.</p>
<p class=indent1>
The <b>startd</b> and <b>endd</b> fields in elements are always stored in low-byte, high-byte orientation (the normal orientation of an Intel processor).</p>
</li>
<li>
Messages are composed of buffers consisting of a buffer header and zero or more buffer elements; see <a href="3270c1_1bzk.htm">Messages</a> for more information on buffer formats.</li>
<li>
Applications must assign unique index (I) values for every active LPI connection within the node. In particular, the <a href="3270c4_4jcg.htm"><b>Open(SSCP) Request</b></a> must be different from the source index it sends in response to the <a href="3270c4_0yy8.htm"><b>Open(PLU)</b></a>. Additionally, zero should not be used as an I value. An I value of zero means that the sender of the message is inviting the recipient of the message to assign an I value.</li>
<li>
The <b>startd</b> field in each element gives the offset of the first byte of data in the element after the <b>trpad</b> field.<p>
For non-LUA applications, <b>startd</b> will either be 1 (data starts in the byte after the <b>trpad</b> field), 10 (nine bytes of padding are included between the <b>trpad</b> field and the start of the data), or 13 (12 bytes of padding are included between the <b>trpad</b> field and the start of the data).
<p>
For LUA applications, <b>startd</b> is 4 (three bytes of padding between the <b>trpad</b> field and the start of the data) in the first element of a message and 13 (12 bytes of padding) in subsequent elements.
<p>
The extra bytes are used by the local node for additional header information; this avoids having to copy data into a new buffer when adding this information.
</li>
<li>
Because <b>startd</b> indicates the index into <b>dataru</b> starting from 1, not 0, the first byte of valid data will always be at <b>dataru[startd–</b><b>1]</b>.</li>
<li>
If <b>startd</b> is greater than <b>endd</b>, there is no valid data in the message.</li>
<li>
All fields within <b>dataru</b> are of type <b>CHAR</b>, except where the remarks indicate otherwise.</li>
<li>
Note that where a buffer element has a <b>startd</b> of 1, 10, or 13, this only applies to the initial element in the chain of elements, and subsequent elements in the chain have a <b>startd</b> of 1. Messages with two distinct linked element chains in the message formats (for example <a href="3270c4_0gvk.htm"><b>Open(PLU) Request</b></a> and <a href="3270c4_07lc.htm"><b>Open(PLU) OK Response</b></a>), have the <b>startd</b> field in the elements at the start of the chains as the value (1, 10, or 13) given in the message format, and the <b>startd</b> fields in all other elements as 1.</li>
</ul>
<p>&nbsp;</p></body>
</HTML>
