<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Status-RTM</title>
<link disabled rel=stylesheet href=../../backsdk3.css>
<style type="text/css">
@import url(../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h1><a name="_sna_status_rtm_3270"></a>Status-RTM</h1>
<p>
The <b>Status-RTM</b> message provides the application with information on the Response Time Monitor (RTM) measurement parameters used by the host. This allows the application to match its local display of RTM statistics, if it provides such a display, with the statistics used by the host. It flows from the node to the application and is used with an SSCP connection.</p>
<p>
See <a href="3270c3_5m5s.htm">Response Time Monitor Data</a> for further details.</p>
<pre><code>struct Status-RTM {
    PTRBFHDR  nxtqptr;
    PTRBFELT  hdreptr;
    CHAR      numelts;
    CHAR      msgtype;
    CHAR      srcl;
    CHAR      srcp;
    INTEGER   srci;
    CHAR      destl;
    CHAR      destp;
    INTEGER   desti;
    CHAR      sfhdr.strtmhdr.rtmstat;
    CHAR      sfhdr.strtmhdr.strbndry;
    CHAR      sfhdr.strtmhdr.strcount;
    CHAR      sthdr.strtmhdr.strtmdef;
    CHAR      strtmhdr.strtmact;
    CHAR      strtmhdr.strtmdsp;
}; 
 </code></pre>
<p>
<b>Element</b></p>
<pre><code>struct Status-RTM {
    PTRBFELT   hdreptr-&gt;elteptr;
    INTEGER    hdreptr-&gt;startd;
    INTEGER    hdreptr-&gt;endd;
    CHAR       hdreptr-&gt;trpad;
    CHAR[268]  hdreptr-&gt;dataru;
}; 
 </code></pre>
<h4>Members</h4>
<dl>
<dt>
<b>nxtqptr</b></dt>
<dd>
Pointer to next buffer header.</dd>
<dt>
<b>hdreptr</b></dt>
<dd>
Pointer to buffer element.</dd>
<dt>
<b>numelts</b></dt>
<dd>
Number of buffer elements.</dd>
<dt>
<b>msgtype</b></dt>
<dd>
Message type STATFMI (0x21).</dd>
<dt>
<b>srcl</b></dt>
<dd>
Source locality.</dd>
<dt>
<b>srcp</b></dt>
<dd>
Source partner.</dd>
<dt>
<b>srci</b></dt>
<dd>
Source index.</dd>
<dt>
<b>destl</b></dt>
<dd>
Destination locality.</dd>
<dt>
<b>destp</b></dt>
<dd>
Destination partner.</dd>
<dt>
<b>desti</b></dt>
<dd>
Destination index.</dd>
<dt>
<b>sfhdr.strtmhdr.rtmstat</b></dt>
<dd>
Status type STRTM (0x06).</dd>
<dt>
<b>sfhdr.strtmhdr.strbndry</b></dt>
<dd>
RTM boundaries
<p>
0x00 - No RTM boundaries follow in element.<br>
0x01 - RTM boundaries follow in element.
</dd>
<dt>
<b>sfhdr.strtmhdr.strcount</b></dt>
<dd>
RTM counters
<p>
0x00 - No RTM counters follow in element.<br>
0x01 - RTM counters follow in element.
</dd>
<dt>
<b>sfhdr.strtmhdr.strtmdef</b></dt>
<dd>
RTM definition
<p>
0x00 - No change: use last received definition.<br>
0x01 - Timers run until first data is written to screen.<br>
0x02 - Timers run until keyboard is unlocked.<br>
0x03 - Timers run until application can send (CD or EB received).
</dd>
<dt>
<b>sfhdr.strtmhdr.strtmact</b></dt>
<dd>
RTM measurement
<p>
0x00 - not active<br>
0x01 - active
</dd>
<dt>
<b>sfhdr.strtmhdr.strtmdsp</b></dt>
<dd>
Local RTM display
<p>
0x00 - disabled<br>
0x01 - enabled

</dd>
</dl>
<p>
<b>Element</b>
<dl>
<dt>
<b>hdreptr–&gt;elteptr</b></dt>
<dd>
Pointer to buffer element (NIL).</dd>
<dt>
<b>hdreptr–&gt;startd</b></dt>
<dd>
Start of data in this element.</dd>
<dt>
<b>hdreptr–&gt;endd</b></dt>
<dd>
End of data in this element.</dd>
<dt>
<b>hdreptr–&gt;trpad</b></dt>
<dd>
Reserved.</dd>
<dt>
<b>hdreptr–&gt;dataru</b></dt>
<dd>
Data RU, as follows:
<dl>
<dt>
<b>dataru[0–1]</b></dt>
<dd>
Number of boundaries in element
<p>
0x0000 - no boundaries included<br>
<i>m</i> - number of boundaries included
</dd>
<dt>
<b>dataru[2–3]</b></dt>
<dd>
Number of counters in element
<p>
0x0000 - no counters included<br>
<i>n</i> - number of counters included
</dd>
<dt>
<b>dataru[4–(2m+3)]</b></dt>
<dd>
<i>m</i> boundary values.</dd>
<dt>
<b>dataru[(2m+4)–(2m+2n+3)]</b></dt>
<dd>
<i>n</i><b> </b>counter values.</dd>
<dt>
<b>dataru[(2m+2n+4)</b></dt>
<dd>
RTM total time.
</dd>
</dl>
</dd>
</dl>
<h4>Remarks</h4>
<ul>
<li>
A <b>Status-RTM</b> message is sent after the <b>Open(SSCP) OK Response</b> to give the initial RTM parameters. It is sent again when the RTM counters are reset (either on request from the host or when the local node sends unsolicited RTM data to the host), or when the host changes any of the RTM parameters.</li>
<li>
The message is sent only for applications that use LUs with type video display unit (VDU) or LUs in a VDU pool, since the RTM feature applies only to 3270 display sessions.</li>
<li>
All the values in the data RU are integer values.</li>
<li>
The RTM counter values in this message can be nonzero at startup, since RTM statistics are maintained for a specific LU and not for a specific application's use of that LU. If zero counter values are included, this indicates that the counters are to be reset.</li>
<li>
The RTM total time field is present only if the number of counters in the element is nonzero.</li>
</ul>
<p>&nbsp;</p></body>
</HTML>
