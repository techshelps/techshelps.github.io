<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Resource Location for Open SSCP</title>
<link disabled rel=stylesheet href=../../backsdk3.css>
<style type="text/css">
@import url(../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h3><a name="_sna_resource_location_for_open_sscp_3270"></a>Resource Location for Open SSCP</h3>
<p>
When attempting to find a free LU across more than one local node, the application does not need to be aware of which local node owns the LU. The DL-BASE is responsible for finding a suitable local node, using the mechanism described below. This mechanism need not concern the application; the description is intended to assist in interpreting traces of the message flows involved.</p>
<p>
The open force type field in the <a href="3270c4_4jcg.htm"><b>Open(SSCP) Request</b></a> specifies either a forced or nonforced Open. If the LU for which the Open is intended does not have an active SSCP session because its link is inactive, a forced Open instructs the local node to attempt to activate the link and the SSCP session; a nonforced Open succeeds only if the SSCP session is already active, and otherwise returns with an error code indicating the state of the LU's connection.</p>
<p>
When the application issues the <b>Open(SSCP) Request</b>, it does not set the open force type field. The DL-BASE then issues a nonforced Open to each node in turn until it finds an LU that already has an active SSCP session. If none of these Opens succeeds, the DL-BASE issues a forced Open to the node that returned the "best" error code—that is, the one most likely to be able to activate the session.</p>
<p>
The sample message flows in the following figure illustrate this process for two local nodes. The DL-BASE tries each in turn, using nonforced Opens; the error code from node #2 indicates that it is more likely to be able to activate the SSCP session than node #1, so the DL-BASE sends a forced Open to node #2. The application is aware only of the first request and its response.</p>
<p>
<img src="images/32703d.gif" border=0></p>
<p>
To allow applications to restart after a disastrous failure (such as terminating the 3270 emulation program), the local node will also accept an <a href="3270c4_4jcg.htm"><b>Open(SSCP) Request</b></a> from an application that has failed and restarts (providing the same source LPI fields are used). In this case a TERM-SELF message is sent to the host if the LU is bound.</p>
<p>
The SNA Server LU through which the application communicates is selected by the relationship between the APPL record and the LU or LU group record in the configuration file. The application specifies its name using the source name field on the <b>Open(SSCP) Request</b>; the local node fills in the LU or LU group number, selects an unused LU within the LU group (if the association is to an LU group), and informs the application of this LU number on the <a href="3270c4_299s.htm"><b>Open(SSCP) OK Response</b></a>.</p>
<p>
The <b>Open(SSCP) Request</b> specifies:
<ul>
<li>
The source application name.</li>
<li>
A resource identifier that can be used by the application to correlate the <a href="3270c4_0gvk.htm"><b>Open(PLU) Request</b></a> that is sent to the application (see <a href="3270c3_41gw.htm">Opening the PLU Connection</a>).</li>
<li>
A connection information control block (CICB) that specifies the RH usage checks that the local node should perform for the LU. If the field for a code is set to 0x01, then that receive check will be carried out by the DFC layer of the local node on data arriving from the host. The corresponding send checks are unaffected and are always performed. The CICB is provided because these receive checks are optional in SNA; however, it is anticipated that most applications will require all these checks to be performed (all values set to 0x01).</li>
<li>
An indicator that specifies whether the application is to be treated as high or low priority. All SNA Server 3270 LUs are marked as high priority (printers do not send significant data inbound). The effect of high priority is to allow data to be progressed faster to the host when the link is busy.</li>
<li>
An indicator that specifies whether the application is an LUA application. This determines whether the local node and the application will communicate using the LUA variant of the FMI (see <a href="3270c3_886o.htm">FMI Concepts</a>).</li>
<li>
An indicator that specifies a nonforced or forced Open. This determines whether the local node will attempt to activate the SSCP session if it is not currently active.</li>
</ul>
<p>
The <a href="3270c4_4jcg.htm"><b>Open(SSCP) Request</b></a> can fail for one of several reasons, which can be determined from the error codes on the <a href="3270c4_299s.htm"><b>Open(SSCP) Error Response</b></a> sent to the application:
<ul>
<li>
The local node may still be initializing (retrieving information from the configuration file). In this case, the application can retry immediately.</li>
<li>
The configuration file may not have an entry for the application, or the application record in the configuration file may not point to an LU or LU group record.</li>
<li>
For a nonforced Open, the SSCP session may be inactive.</li>
</ul>
<p>&nbsp;</p></body>
</HTML>
