<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>SDLC Multipoint Connections</title>
<link disabled rel=stylesheet href=../../backsdk3.css>
<style type="text/css">
@import url(../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h1><a name="_sna_sdlc_multipoint_connections_dev"></a>SDLC Multipoint Connections</h1>
<p>
The node can support primary multipoint (also known as multidropped) links, at both the primary and secondary end. Multipoint is a special configuration for an SDLC leased link where a single SDLC line at the primary station can be used to communicate with up to 16 secondary stations. Special hardware is required to fan out the primary line so that there is a physical connection to each secondary station. The following figure shows an example with three secondary stations.</p>
<p>
<img src="images/dev3t.gif" border=0></p>
<p>
The SDLC address of the secondary station is used to route frames to and from the individual secondary stations. Hence, the SNALink at the secondary station needs to check the SDLC address as the primary sends all frames to all secondary stations. The SNALink at the secondary station should only accept frames with its SDLC address—the other frames should be ignored.</p>
<p>
From the viewpoint of the node at a secondary station, the message flow at the DLC interface is as for a point-to-point connection (described in <a href="devc03_4som.htm">Opening a Connection</a>). Indeed, the node need have no knowledge that this is a multipoint connection.</p>
<p>
The primary end has to handle the special processing required for multipoint connections. The remainder of this section concentrates on the primary station.</p>
<p>
At the primary end, there are the following LPI connections:
<ul>
<li>
One LINK LPI connection.</li>
<li>
A STATION LPI connection for each active secondary station.</li>
</ul>
<p>
Since the XID exchange is carried out using the single LINK LPI connection, the <a href="devc04_977a.htm"><b>Request-Open-Station</b></a> and <a href="devc04_5ovq.htm"><b>Send-XID</b></a> messages always specify the station address of the secondary station that the XID has arrived from or is going to. Note that no XID is supplied on the <a href="devc04_4qeu.htm"><b>Open(LINK) Request</b></a>.</p>
<p>
Each STATION LPI connection has different values of I, the index. After the station has been activated, data messages flow on the STATION LPI connection rather than the LINK LPI connection.</p>
<p>
The first figure below shows the activation of two stations on a multipoint link, from the viewpoint of the primary end. The full exchange of format 3 XIDs for each station is not shown but is the same as in <a href="devc03_4som.htm">Opening a Connection</a>. In addition, the figure shows the stations being activated one after the other. In fact, the stations can be activated simultaneously.</p>
<p>
If the XID exchange fails because the secondary is failing to reply to the XID, the SNALink generates a special variant of link <a href="devc04_4l6e.htm"><b>Outage</b></a> message. Ideally, the SNALink would give a station <b>Outage</b> message, but this is not possible because the STATION LPI connection is not yet open. Instead, the SNALink generates a link <b>Outage</b> message with code 0xA0 and a subqualifier that is the SDLC address of the station.</p>
<p>
When the stations are activated on a multipoint link, the majority of messages flow across the STATION LPI connections. If a connection to a particular secondary station is to be closed (because the operator deactivates it, for instance), the node issues a <a href="devc04_6x12.htm"><b>Close(STATION) Request</b></a>. The SNALink replies with a <a href="devc04_44ae.htm"><b>Close(STATION) Response</b></a> to the node and sends a DISC frame to the secondary station.</p>
<p>
The SNALink can generate both station and link <b>Outage</b> messages. If the problem only affects a particular station, such as not responding to polls, the link generates a station <b>Outage</b> message and the node closes the station with a <b>Close(STATION) Request</b>. The SNALink responds with a <b>Close(STATION) Response</b>.</p>
<p>
If the problem affects the link as a whole, such as the line being disconnected from the primary SDLC adapter, the SNALink generates a link <b>Outage</b> message and the node sends a <a href="devc04_7bcm.htm"><b>Close(LINK) Request</b></a>. The SNALink responds with a <a href="devc04_9kty.htm"><b>Close(LINK) Response</b></a>.</p>
<p>
<b>Whenever the node receives a </b>Close(STATION) Response<b>, it checks to see if any stations are still active on the multipoint link. If not, a </b>Close(LINK) Request<b> is sent. The SNALink responds with a </b>Close(LINK) Response. The following figure shows the message flows for outage processing. It shows a multipoint connection with two secondary stations (the full XID exchange is not shown).</p>
<p>
<img src="images/dev3u.gif" border=0></p>
<p>
The following illustration shows close processing for a multipoint configuration with two secondary stations. Outage conditions are detected on both stations.</p>
<p>
<img src="images/dev3y.gif" border=0></p>
<p>
Note that the station messages are labeled in the figure with station addresses. In fact, the node and SNALink use the LPI addresses to identify the two stations.</p>
<p>
</p>
<p>&nbsp;</p></body>
</HTML>
