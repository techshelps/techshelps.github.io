<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>MC_GET_ATTRIBUTES</title>
<link disabled rel=stylesheet href=../../backsdk3.css>
<style type="text/css">
@import url(../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h1><a name="_sna_mc_get_attributes_appc"></a>MC_GET_ATTRIBUTES</h1>
<p>
The <b>MC_GET_ATTRIBUTES</b> verb returns the attributes of the conversation.</p>
<p>
The following structure describes the verb control block used by the <b>MC_GET_ATTRIBUTES</b> verb.</p>
<pre><code>struct mc_get_attributes {
    unsigned short   opcode;
    unsigned char    opext;
    unsigned char    reserv2;
    unsigned short   primary_rc;
    unsigned long    secondary_rc;
    unsigned char    tp_id[8];
    unsigned long    conv_id;
    unsigned char    reserv3;
    unsigned char    sync_level;
    unsigned char    mode_name[8];
    unsigned char    net_name[8];
    unsigned char    lu_name[8];
    unsigned char    lu_alias[8];
    unsigned char    plu_alias[8];
    unsigned char    plu_un_name[8];
    unsigned char    reserv4[2];
    unsigned char    fqplu_name[17];
    unsigned char    reserv5;
    unsigned char    user_id[10];
    unsigned long    conv_group_id;
    unsigned char    conv_corr_len;
    unsigned char    conv_corr[8];
    unsigned char    reserv6[13];
NOTE: The following fields are present when the high bit of opext is set (opext &amp; AP_EXTD_VCB) != 0. 
    unsigned char    luw_id[26];
    unsigned char    sess_id[8];
}; 
 </code></pre>
<h4>Members</h4>
<dl>
<dt>
<b>opcode</b></dt>
<dd>
Supplied parameter. Specifies the verb operation code, AP_M_GET_ATTRIBUTES.</dd>
<dt>
<b>opext</b></dt>
<dd>
Supplied parameter. Specifies the verb operation extension, AP_MAPPED_CONVERSATION.</dd>
<dt>
<b>primary_rc</b></dt>
<dd>
Returned parameter. Specifies the primary return code set by APPC at the completion of the verb. The valid return codes vary depending on the APPC verb issued. See Return Codes for valid error codes for this verb.</dd>
<dt>
<b>secondary_rc</b></dt>
<dd>
Returned parameter. Specifies the secondary return code set by APPC at the completion of the verb. The valid return codes vary depending on the APPC verb issued. See Return Codes for valid error codes for this verb.</dd>
<dt>
<b>tp_id</b></dt>
<dd>
Supplied parameter. Identifies the local TP. The value of this parameter is returned by <a href="appc04_0fs3.htm"><b>TP_STARTED</b></a> in the invoking TP or by <a href="appc05b_0m77.htm"><b>RECEIVE_ALLOCATE</b></a> in the invoked TP.</dd>
<dt>
<b>conv_id</b></dt>
<dd>
Supplied parameter. Provides the conversation identifier. The value of this parameter is returned by <a href="appc05a_38f7.htm"><b>MC_ALLOCATE</b></a> in the invoking TP or by <b>RECEIVE_ALLOCATE</b> in the invoked TP.</dd>
<dt>
<b>sync_level</b></dt>
<dd>
Returned parameter. Specifies the level of synchronization processing for the conversation. This parameter determines whether the TPs can request confirmation of receipt of data and confirm receipt of data.
<ul>
<li>
ap_none indicates that confirmation processing will not be used in this conversation.</li>
<li>
ap_confirm_sync_level indicates that TPs can use confirmation processing in this conversation.</li>
<li>
ap_syncpt indicates that TPs can use Sync Point Level 2 confirmation processing in this conversation.</li>
</ul>
</dd>
<dt>
<b>mode_name</b></dt>
<dd>
Returned parameter. Specifies the name of a set of networking characteristics. It is a type A EBCDIC character string.</dd>
<dt>
<b>net_name</b></dt>
<dd>
Returned parameter. Specifies the name of the SNA network containing the local LU used by this TP. It is a type A EBCDIC character string.</dd>
<dt>
<b>lu_name</b></dt>
<dd>
Returned parameter. Provides the name of the local LU.</dd>
<dt>
<b>lu_alias</b></dt>
<dd>
Returned parameter. Provides the alias by which the local LU is known to the local TP. It is an ASCII character string.</dd>
<dt>
<b>plu_alias</b></dt>
<dd>
Returned parameter. Provides the alias by which the partner LU is known to the local TP. It is an ASCII character string.</dd>
<dt>
<b>plu_un_name</b></dt>
<dd>
Returned parameter. Specifies the uninterpreted name of the partner LU — the name of the partner LU as defined to the system services control point (SSCP). It is a type AE EBCDIC character string. This parameter is returned only if the local LU is dependent.</dd>
<dt>
<b>fqplu_name</b></dt>
<dd>
Returned parameter. Provides the fully qualified name of the partner LU. It is a type A EBCDIC character string. The field contains the network name, an EBCDIC period, and the partner-LU name.</dd>
<dt>
<b>user_id</b></dt>
<dd>
Returned parameter. Specifies the user identifier sent by the invoking TP through <a href="appc05a_38f7.htm"><b>MC_ALLOCATE</b></a> to access the invoked TP (if applicable). It is a type AE EBCDIC character string. The field contains the user identifier if the following conditions are true:
<ul>
<li>
The invoked TP requires conversation security.</li>
<li>
<b>MC_GET_ATTRIBUTES</b> was issued by the invoked TP.</li>
</ul>

<p>
Otherwise, the field contains spaces.
</dd>
<dt>
<b>conv_group_id</b></dt>
<dd>
Returned parameter. Specifies the conversation group identifier for the session to which the conversation has been allocated. This is also returned on <a href="appc05a_38f7.htm"><b>MC_ALLOCATE</b></a> and <a href="appc05b_0m77.htm"><b>RECEIVE_ALLOCATE</b></a>.</dd>
<dt>
<b>conv_corr_len</b></dt>
<dd>
Returned parameter. Specifies the length of the conversation correlator identifier that is returned.</dd>
<dt>
<b>conv_corr</b></dt>
<dd>
Returned parameter. Specifies the conversation correlator identifier (if any) that the source LU assigns to identify the conversation, which is unique for the source/partner LU pair. It is sent by the source LU on the allocation request.

<p>
<b>Note</b> The following fields are present when the high bit of <b>opext </b>is set<i> </i>(<b>opext</b> &amp; AP_EXTD_VCB) != 0.These fields are only present when when using Sync Point Level 2 support.

</dd>
<dt>
<b>luw_id</b></dt>
<dd>
Logical unit-of-work identifier.</dd>
<dt>
<b>sess_id</b></dt>
<dd>
Session identifier.
</dd>
</dl>
<h4>Return Codes</h4>
<dl>
<dt>
ap_ok</dt>
<dd>
Primary return code; the verb executed successfully.</dd>
<dt>
ap_parameter_check</dt>
<dd>
Primary return code; the verb did not execute because of a parameter error.
<dl>
<dt>
ap_bad_conv_id</dt>
<dd>
Secondary return code; the value of <b>conv_id</b> did not match a conversation identifier assigned by APPC.</dd>
<dt>
ap_bad_tp_id</dt>
<dd>
Secondary return code; the value of <b>tp_id</b> did not match a TP identifier assigned by APPC.
</dd>
</dl>
</dd>
<dt>
ap_comm_subsystem_abended</dt>
<dd>
Primary return code; indicates one of the following conditions:
<ul>
<li>
The node used by this conversation encountered an ABEND.</li>
<li>
The connection between the TP and the PU 2.1 node has been broken (a LAN error).</li>
<li>
The SnaBase at the TP's computer encountered an ABEND.</li>
</ul>

<p>
The system administrator should examine the error log to determine the reason for the ABEND.
</dd>
<dt>
ap_conversation_type_mixed</dt>
<dd>
Primary return code; the TP has issued both basic and mapped conversation verbs. Only one type can be issued in a single conversation.</dd>
<dt>
ap_invalid_verb_segment</dt>
<dd>
Primary return code; the VCB extended beyond the end of the data segment.</dd>
<dt>
ap_stack_too_small</dt>
<dd>
Primary return code; the stack size of the application is too small to execute the verb. Increase the stack size of your application.</dd>
<dt>
ap_conv_busy</dt>
<dd>
Primary return code; there can only be one outstanding conversation verb at a time on any conversation. This can occur if the local TP has multiple threads, and more than one thread is issuing APPC calls using the same <b>conv_id</b>.</dd>
<dt>
ap_unexpected_dos_error</dt>
<dd>
Primary return code; the operating system has returned an error to APPC while processing an APPC call from the local TP. The operating system return code is returned through the <b>secondary_rc</b>. It appears in Intel byte-swapped order. If the problem persists, consult the system administrator.
</dd>
</dl>
<h4>Remarks</h4>
<p>
The conversation can be in any state except RESET when the TP issues this verb.</p>
<p>
There is no state change.</p>
<p>&nbsp;</p></body>
</HTML>
