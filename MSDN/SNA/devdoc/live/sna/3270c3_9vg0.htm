<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Segment Delivery</title>
<link disabled rel=stylesheet href=../../backsdk3.css>
<style type="text/css">
@import url(../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h2><a name="_sna_segment_delivery_3270"></a>Segment Delivery</h2>
<p>
Where the maximum RU size for a session (supplied in the BIND parameters) allows RUs that are larger than the maximum size of a data link control transmission unit (for example, an SDLC frame), then the local node's path control is responsible for assembling outbound segments into RUs and segmenting inbound RUs where required.</p>
<p>
However, certain IBM products (for example, SNA models of the 3270 controllers) do not perform outbound segment assembly, to improve perceived response times at display terminals by displaying each segment as soon as it is received. This feature is referred to as "window shading."</p>
<p>
The local node allows an application to specify a segment delivery option in the CICB on the <a href="3270c4_07lc.htm"><b>Open(PLU) (OK) Response</b></a>. If an application specifies this option, the local node's path control does not assemble outbound segments into complete RUs, and the local node delivers the segments to the application in <a href="3270c4_4eeo.htm"><b>Data</b></a> messages. This allows an application emulating a 3270 device to reproduce the perceived response characteristics of the IBM device. In cases where throughput is high, such as 3270 file transfer, segment delivery can give improved performance compared to RU delivery.</p>
<p>
Note that there is no comparable feature for inbound data—the application must present <b>Data</b> messages containing complete RUs to the local node. Also, there is no support for segment delivery on the SSCP session and connection (where the maximum RU size is limited to 256 bytes).</p>
<p>
The local node supports the segment delivery option in such a way that the constraints placed on an application receiving data in either form are identical. If complete RUs are required, then the local node rebuilds the RUs from segments in path control. If segments are required, the local node handles all segmentation indicators and modifies processing within its SNA layers to cater for segmented RUs.</p>
<p>
All <b>Data</b> messages delivered to the application contain application flags, whereas only the first segment in an RU contains an RH. The local node delays the EC and CD indicators if they occur in the RH of the RU's first segment, and sets the corresponding ECI and CDI application flags in the <b>Data</b> message corresponding to the last segment of the RU. Therefore the <b>Data</b> messages corresponding to RU segments have application flags set as if they corresponded to whole RUs. This considerably simplifies the handling of chaining, bracket, and half-duplex protocols for an application using the segment delivery option.</p>
<p>
Note that EB is not delayed until EBIU, since the application should use the <a href="3270c4_7v8w.htm"><b>Status-Session</b></a> between-brackets message to determine when to enter the between-brackets state.</p>
<p>&nbsp;</p></body>
</HTML>
