<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Application-Initiated Termination</title>
<link disabled rel=stylesheet href=../../backsdk3.css>
<style type="text/css">
@import url(../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h2><a name="_sna_application_initiated_termination_3270"></a>Application-Initiated Termination</h2>
<p>
An application on a session with FM profile 3 or 4 can request termination of the PLU session. It should only do so if it has previously ensured that it is in a state where the PLU session can be terminated, that is, between-chain and between-bracket. Terminating the PLU session does not affect the state of the SSCP session.</p>
<p>
Note that an application can issue a character coded or field formatted LOGOFF command on the SSCP session or send a <a href="3270c4_31tc.htm"><b>Close(PLU) Request</b></a> to get the local node to send TERM-SELF on the application's behalf. All of these will elicit an UNBIND, either immediately or after session tidy-up in the host.</p>
<p>
The application requests termination of the PLU session by sending a <b>Status-Control(RSHUTD) Request</b> to the local node, which generates an SNA RSHUTD request to the host.</p>
<p>
After sending the <b>Status-Control(RSHUTD) Request</b>, the application must remain capable of accepting and responding to all outbound data it receives. The application can now expect one of two messages, depending on whether the state of the PLU session allows it to be terminated and whether the host wishes to terminate the PLU session:
<ul>
<li>
If the state of the PLU session allows it to be terminated, and the host wishes to terminate the PLU session, the host generates a positive response to the RSHUTD request, which can be followed by an UNBIND request. The local node closes the PLU connection; see <a href="3270c3_8qr4.htm">Closing the PLU Connection</a>.</li>
<li>
If the state of the PLU session does not allow it to be terminated (for example, if the session is in-bracket), or the host does not want to terminate the PLU session at this time, the host generates a negative response to the RSHUTD request, which the local node presents to the application as a <b>Status-Control(RSHUTD) Negative-Acknowledge-1</b> carrying the sense codes supplied on the negative response. This indicates that the request to terminate the PLU session has been rejected by the host, and communication on the PLU session continues unaffected.</li>
</ul>
<p>
The following two figures illustrate the application-initiated termination protocol between the local node and the application and how this protocol relates to the underlying SNA protocols.</p>
<p>
In the first illustration, the application requests termination of the PLU session, and the host sends UNBIND. The local node closes the PLU connection.</p>
<p>
<img src="images/32703u.gif" border=0></p>
<p>
In the following illustration, the application requests termination of the PLU session, but the session is not in an appropriate state. The host sends a negative response to the RSHUTD request, which the local node presents as <b>Status-Control(RSHUTD) Negative-Acknowledge-1</b>. Communication continues on the PLU session.</p>
<p>
<img src="images/32703ua.gif" border=0></p>
<p>&nbsp;</p></body>
</HTML>
