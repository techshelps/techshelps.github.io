<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Errors</title>
<link disabled rel=stylesheet href=../../backsdk3.css>
<style type="text/css">
@import url(../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h2><a name="_sna_errors_cpic"></a>Errors</h2>
<p>
The following table summarizes state changes that occur when a data transmission error is encountered.</p>
<table cellspacing=4 cols=3>
<tr valign=top>
<th align=left width=57%><i>return_code</i></th>
<th align=left width=25%>Old state</th>
<th align=left width=18%>New state</th>
</tr>
<tr valign=top>
<td width=57%>cm_program_error_purging</td>
<td width=25%>RECEIVE</td>
<td width=18%>No change</td>
</tr>
<tr valign=top>
<td width=57%>cm_program_error_no_trunc</td>
<td width=25%>RECEIVE</td>
<td width=18%>No change</td>
</tr>
<tr valign=top>
<td width=57%>cm_svc_error_purging</td>
<td width=25%>SEND</td>
<td width=18%>RECEIVE</td>
</tr>
<tr valign=top>
<td width=57%>cm_svc_error_no_trunc</td>
<td width=25%>SEND_PENDING</td>
<td width=18%>RECEIVE</td>
</tr>
</table><br>
<p>
If the partner program truncates a logical record, the local program receives notification of the truncation through <i>return_code</i> on the next <b>Receive</b> call.</p>
<p>
If a program issues <b>Receive</b> with <i>requested_length</i> set to zero, the call is executed as usual. However, <i>data_received</i> and <i>status_received</i> are not set on the same <b>Receive</b> call. (One exception to this situation is the null record sent over a mapped conversation, described in the next paragraph.)</p>
<p>
In a mapped conversation in which data is available from the partner program, <i>data_received</i> is set to CM_INCOMPLETE_DATA_RECEIVED. If a null record is available (<i>send_length</i> in the <a href="cpic03_94ir.htm"><b>Send_Data</b></a> call issued by the partner program is set to zero), <i>data_received</i> is set to CM_COMPLETE_RECORD_RECEIVED with <i>received_length</i> set to zero.</p>
<p>
In a basic conversation in which data is available and the fill characteristic is set to CM_FILL_LL, <i>data_received</i> is set to CM_INCOMPLETE_DATA_RECEIVED. If the fill characteristic is set to CM_FILL_BUFFER, <i>data_received</i> is set to CM_DATA_RECEIVED.</p>
<p>
The LU does not automatically perform any conversion between EBCDIC and ASCII on the received string of data before putting it in <i>buffer</i>. If necessary, the program can use the CSV <a href="appc08c_2vvn.htm"><b>CONVERT</b></a> to translate a string from one character set to the other. </p>
<p>&nbsp;</p></body>
</HTML>
