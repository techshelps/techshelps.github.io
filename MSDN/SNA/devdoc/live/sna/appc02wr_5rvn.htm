<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Extracting LUWIDs</title>
<link disabled rel=stylesheet href=../../backsdk3.css>
<style type="text/css">
@import url(../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h3><a name="_sna_extracting_luwids_appc"></a>Extracting LUWIDs</h3>
<p>
Both LUWIDs for a particular TP can be determined by issuing the <a href="appc04_30pv.htm"><b>GET_TP_PROPERTIES</b></a> verb. The <b>GET_TP_PROPERTIES</b> verb returns the TP's unprotected LUWID in the <b>luw_id</b> field.</p>
<p>
If the TP needs to access the protected LUWID, it must combine the <b>opext</b> member of the VCB with the value AP_EXTD_VCB using <b>OR</b> before issuing the verb. The protected LUWID will then be returned in the <b>prot_luw_id</b> field. If the <b>opext</b> field does not contain the AP_EXTD_VCB bit, the verb control block is presumed to end immediately before the <b>prot_luw_id</b> field.</p>
<p>
The LUWID for a particular conversation can be determined by issuing a   <a href="appc05a_5o0z.htm"><b>GET_ATTRIBUTES</b></a><b> </b>or <a href="appc05a_1zvn.htm"><b>MC_GET_ATTRIBUTES</b></a> verb on the conversation. These verbs are modified as follows:
<ul>
<li>
A new field, <b>luw_id</b>, is added in which the LUWID is returned. The LUWID returned is the protected one if the conversation was allocated with <b>synclevel</b> field of the <a href="appc05a_1ckj.htm"><b>ALLOCATE</b></a> or <a href="appc05a_38f7.htm"><b>MC_ALLOCATE</b></a> verb set to Sync Point (AP_SYNCPT); otherwise it is the unprotected one.</li>
<li>
Since the <b>luw_id</b> field cannot be incorporated within the existing verb control blocks, the TP must use a larger VCB structure. To indicate that the VCB is longer than usual, the <b>opext</b> field of the VCB must be combined with the value AP_EXTD_VCB using <b>OR</b> before calling APPC.</li>
<li>
The <b>sync_level</b> field of the <b>GET_ATTRIBUTES</b> or <b>MC_GET_ATTRIBUTES</b> verb can take an additional value, AP_SYNCPT, when the conversation was allocated with the <b>synclevel</b> field of the <b>ALLOCATE </b>or <b>MC_ALLOCATE</b> verb of Sync Point (AP_SYNCPT).</li>
</ul>
<p>&nbsp;</p></body>
</HTML>
