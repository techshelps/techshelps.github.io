<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>DLC Flow Control</title>
<link disabled rel=stylesheet href=../../backsdk3.css>
<style type="text/css">
@import url(../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h2><a name="_sna_dlc_flow_control_dev"></a>DLC Flow Control</h2>
<p>
The flow of data messages at the DLC interface for each link station is flow controlled. For each direction of flow there is an initial credit of messages that can be transmitted.</p>
<p>
Flow control is maintained by initial specification on the <a href="devc04_12ra.htm"><b>Open(STATION) Request</b></a> and <a href="devc04_0qt2.htm"><b>Open(STATION) OK Response</b></a> messages, and by the sending of DLC <a href="devc04_27cm.htm"><b>Status-Resource</b></a> messages to give more credit from time to time.</p>
<p>
The sender maintains a count of credit, starting at the initial value set on the <b>Open(STATION)</b>, which is decremented for each <a href="devc04_42ba.htm"><b>DLC-Data</b></a> message sent. When the credit count reaches zero, no more <b>DLC-Data</b> messages can be sent until more credit is received.</p>
<p>
For flow in a given direction, the amount of credit is specified by the recipient of the data, since the recipient has to do any queueing. The initial credit values are passed on the <a href="devc04_3ut2.htm"><b>Open(STATION)</b></a> message (on the request for flow from the SNALink to the local node and on the response for flow from the local node to the SNALink).</p>
<p>
The initial credit for the flow from the SNALink to the local node is determined by the node. The initial credit for the flow from the local node to the SNALink is set by the SNALink software—a suggested value is 16.</p>
<p>
If the SNALink runs out of credit to send to the local node, it should either queue the data or discard it and send no acknowledgment. It should also start sending RNR (receive not ready), for example, when polled by a primary station. An example message flow with an SDLC SNALink is shown in the following figure with an initial credit of 3. When the SNALink runs out of credit, it does not acknowledge any further frames and starts sending RNR.</p>
<p>
<img src="images/dev3g.gif" border=0></p>
<p>
For flow control from the local node to the SNALink, when the node runs out of credit it queues the data and applies back pressure on sessions using that station. There is thus end-to-end flow control in this direction, independent of any SNA pacing that may be in force.</p>
<p>
The SNALink gives credit to the local node for the messages that have been transmitted, not for the messages for which acknowledgments have been sent. The amount of data queueing in the SNALink is kept down most of the time since frames will usually be acknowledged.</p>
<p>
Flow control for the flow of data from the local node to the SNALink is shown in the following figure, where the initial credit is assumed to be 2.</p>
<p>
<img src="images/dev3ga.gif" border=0></p>
<p>&nbsp;</p></body>
</HTML>
