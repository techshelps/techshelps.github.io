<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>TRANSFER_MS_DATA</title>
<link disabled rel=stylesheet href=../../backsdk3.css>
<style type="text/css">
@import url(../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h1><a name="_sna_transfer_ms_data_appc"></a>TRANSFER_MS_DATA</h1>
<p>
The <b>TRANSFER_MS_DATA</b> verb builds an SNA request unit containing Network Management Vector Transport (NMVT) data. The verb can send the NMVT data to NetView for centralized problem diagnosis and resolution. The data is logged in the local audit file.</p>
<p>
The following structure describes the verb control block used by the <b>TRANSFER_MS_DATA </b>verb.</p>
<pre><code>struct transfer_ms_data {
    unsigned short       opcode;
    unsigned char        data_type;
    unsigned char        reserv2;
    unsigned short       primary_rc;
    unsigned long        secondary_rc;
    unsigned char        options;
    unsigned char        reserv3;
    unsigned char        origntr_id[8];
    unsigned short       dlen;
    unsigned char FAR * dptr;
};
 </code></pre>
<h4>Members</h4>
<dl>
<dt>
<b>opcode</b></dt>
<dd>
Supplied parameter. The verb identifying the operation code, sv_transfer_ms_data.</dd>
<dt>
<b>data_type</b></dt>
<dd>
Supplied parameter. Specifies the type of data provided by this verb:
<ul>
<li>
Use SV_NMVT to generate an NMVT (including the NS header, the major network management vector, and subvectors).</li>
<li>
Use SV_ALERT_SUBVECTORS to generate an RU containing data for an alert in the appropriate format, without the NS header or major NMVT vector.</li>
<li>
Use SV_PDSTATS_SUBVECTORS to generate an RU containing data for problem determination statistics in the appropriate format, without the NS header or major NMVT vector.</li>
<li>
Use SV_USER_DEFINED to generate user-defined data; this data is recorded in the error log but cannot be sent on the systems services control point-physical unit (SSCP-PU) session on the connection configured for diagnostics.</li>
</ul>
</dd>
<dt>
<b>reserv2</b></dt>
<dd>
A reserved field.</dd>
<dt>
<b>primary_rc</b></dt>
<dd>
Returned parameter. Specifies the primary return code set by APPC at the completion of the verb. The valid return codes vary depending on the APPC verb issued. See Return Codes for valid error codes for this verb.</dd>
<dt>
<b>secondary_rc</b></dt>
<dd>
Returned parameter. Specifies the secondary return code set by APPC at the completion of the verb. The valid return codes vary depending on the APPC verb issued. See Return Codes for valid error codes for this verb.</dd>
<dt>
<b>options</b></dt>
<dd>
Supplied parameter. Specifies the desired options by turning individual bits on or off. (Bits 1, 2, and 3 are ignored if <b>data_type</b> is set to SV_USER_DEFINED.) See the Remarks section.</dd>
<dt>
<b>origntr_id</b></dt>
<dd>
Supplied parameter. Specifies the name of the component issuing <b>TRANSFER_MS_DATA</b>. This parameter is optional. Set it to 0x00 if you want the system to ignore it.</dd>
<dt>
<b>dlen</b></dt>
<dd>
Supplied parameter. Specifies the length of data to be supplied to this verb. The total length of the data (user-supplied data and any added headers or subvectors) must fit into one RU. The maximum RU length is 512 bytes. </dd>
<dt>
<b>dptr</b></dt>
<dd>
Supplied parameter. Specifies the address of the data to be sent.
</dd>
</dl>
<h4>Return Codes</h4>
<dl>
<dt>
sv_ok</dt>
<dd>
Primary return code; the verb executed successfully.</dd>
<dt>
sv_parameter_check</dt>
<dd>
Primary return code; the verb did not execute because of a parameter error.
<dl>
<dt>
sv_data_exceeds_ru_size</dt>
<dd>
Secondary return code; the data to be sent was too long. The length of the user-supplied data plus headers and added subvectors must fit in a single RU that is not more than 512 bytes long.</dd>
<dt>
sv_invalid_data_segment</dt>
<dd>
Secondary return code; the buffer pointed to by <b>dptr</b> was not a readable segment or extended beyond the segment boundary.</dd>
<dt>
sv_invalid_data_type</dt>
<dd>
Secondary return code; the <b>data_type</b> parameter contained an invalid value.
</dd>
</dl>
</dd>
<dt>
sv_state_check</dt>
<dd>
Primary return code; the verb did not execute because it was issued in an invalid state.
<dl>
<dt>
sv_sscp_pu_session_not_active</dt>
<dd>
Secondary return code; the NMVT was not sent; either the SSCP-PU session was not active, the node configured to receive diagnostic information was not active, or no network management connection was configured.
</dd>
</dl>
</dd>
<dt>
sv_comm_subsystem_not_loaded</dt>
<dd>
Primary return code; a required component could not be loaded or terminated while processing the verb. Thus, communication could not take place. Contact the system administrator for corrective action.</dd>
<dt>
sv_invalid_verb</dt>
<dd>
Primary return code; the <b>opcode</b> parameter did not match the operation code of any verb. No verb executed.</dd>
<dt>
sv_invalid_verb_segment</dt>
<dd>
Primary return code; the VCB extended beyond the end of the data segment.</dd>
<dt>
sv_unexpected_dos_error</dt>
<dd>
Primary return code; one of the following conditions occurred:
<ul>
<li>
The Microsoft® Windows NT®, Microsoft® Windows® 95, Windows version 3.<i>x</i>, Microsoft® MS-DOS®, or OS/2 system encountered an error while processing the verb. The operating system return code was returned through the secondary return code. If the problem persists, contact the system administrator for corrective action.</li>
<li>
A CSV was issued from a message loop that was invoked by another application issuing a Windows <b>SendMessage</b> function call, rather than the more common Windows <b>PostMessage</b> function call. Verb processing cannot take place.</li>
<li>
A CSV was issued when <b>SendMessage</b> invoked your application. You can determine whether your application has been invoked with <b>SendMessage</b> by using the <b>InSendMessage</b> Windows API function call.</li>
</ul>
</dd>
<dt>
sv_cancelled</dt>
<dd>
Primary return code; this code is returned for an asynchronous verb when it has been shut down by a <a href="appc09c_1mn7.htm"><b>WinCSVCleanup</b></a> call.</dd>
<dt>
sv_server_resource_not_found</dt>
<dd>
Primary return code; no communication server was found that could provide the requested function.</dd>
<dt>
sv_server_resource_lost</dt>
<dd>
Primary return code; the communications server that was providing the function was lost due to a connection failure.
<dl>
<dt>
sv_server_comm_failure</dt>
<dd>
Secondary return code; the connection to the server was lost due to physical path problems; for example, the server may have been powered off.
</dd>
</dl>
</dd>
<dt>
sv_thread_blocking</dt>
<dd>
Primary return code; this verb exceeds the maximum number of simultaneous synchronous verbs allowed.
</dd>
</dl>
<h4>Remarks</h4>
<p>
To specify options, turn bits on or off as follows:</p>
<table cellspacing=4 cols=2>
<tr valign=top>
<th align=left width=23%>Bit</th>
<th align=left width=77%>Description</th>
</tr>
<tr valign=top>
<td width=23%>0</td>
<td width=77%>TIME_STAMP_SUBVECTOR. Adds date/time subvector to data. Allowed values include SV_ADD and SV_NO_ADD.<p>
</p>
</td>
</tr>
<tr valign=top>
<td width=23%>1</td>
<td width=77%>PRODUCT_SET_ID_SUBVECTOR. Adds Product_Set_ID subvector to data. This allows network management services to identify the sender of an alert. Allowed values include SV_ADD and SV_NO_ADD.<p>
</p>
</td>
</tr>
<tr valign=top>
<td width=23%>2</td>
<td width=77%>SSCP_PU_SESSION. Sends the data on the SSCP-PU session on the connection configured for diagnostics if the session is active. (The data is added to the error log regardless of whether it is sent on the session or whether sv_state_check or sv_comm_subsystem_not_loaded is returned.) Allowed values include SV_SEND and SV_NO_SEND.<p>
</p>
</td>
</tr>
<tr valign=top>
<td width=23%>3</td>
<td width=77%>LOCAL_LOGGING. Logs local alerts that are retrieved from the error log and forwarded to the host. This option is valid only when <b>data_type</b> SV_NMVT or <b>data_type</b> SV_ALERT_SUBVECTORS with option SV_SEND is specified. Allowed values include SV_LOG and SV_NO_LOG.<p>
</p>
</td>
</tr>
<tr valign=top>
<td width=23%>4 through 7</td>
<td width=77%>Reserved</td>
</tr>
</table><br>
<p>
</p>
<p>&nbsp;</p></body>
</HTML>
