<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>BIND Checking</title>
<link disabled rel=stylesheet href=../../backsdk3.css>
<style type="text/css">
@import url(../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h3><a name="_sna_bind_checking_3270"></a>BIND Checking</h3>
<p>
The <a href="3270c4_07lc.htm"><b>Open(PLU) (OK) Response</b></a> contains the connection information control block (CICB), which allows the application to tailor certain characteristics of the connection and contains information used in BIND verification. Note that the local node verifies the BIND parameters carried on the <b>Open(PLU) (OK) Response</b>; it does not maintain a copy of the original BIND RU from the host. If the BIND is negotiable, the application is permitted to modify the parameters in the BIND RU, but if it is nonnegotiable the application should return the BIND RU unmodified. A negotiable BIND flag is provided in the <a href="3270c4_0gvk.htm"><b>Open(PLU) Request</b></a>.</p>
<p>
While many characteristics of the PLU session are determined by the BIND parameters, the application can select certain characteristics by specifying fields in the CICB; see the following table. More detailed information on CICB usage and the effect on the PLU session of selecting various CICB options is given in context in the topics of this section that deal with PLU session characteristics such as chaining and pacing.</p>
<p>
The BIND is verified using a BIND check table entry (whose index is specified in the CICB); the entries in this correspond to the various fields in the BIND. The BIND check table entries are stored in the configuration file. For example, the BIND check table entry can specify that the BIND be accepted if the secondary chain response protocol is either "definite response" or "definite or exception response" (byte 5 bits 2 and 3 = B10 or B11); this would be appropriate if the application did not want to send RQE chains.</p>
<p>
<b>Connection Information Control Block Usage</b></p>
<table cellspacing=4 cols=2>
<tr valign=top>
<th align=left width=22%>Field</th>
<th align=left width=78%>Explanation</th>
</tr>
<tr valign=top>
<td width=22%>Segment<br>
delivery option</td>
<td width=78%>A value of 0x00 indicates that the local node should perform outbound segment assembly and only deliver complete RUs. A value of 0x01 indicates that the application wishes the local node to deliver RU segments. See <a href="3270c3_9vg0.htm">Segment Delivery</a>.<p>
</p>
</td>
</tr>
<tr valign=top>
<td width=22%>Application<br>
pacing option</td>
<td width=78%>A value of 0x00 indicates that the application requires the local node to handle pacing. A value of 0x01 indicates that the application wishes to be involved with outbound pacing via <a href="3270c4_16uo.htm"><b>Status-Resource</b></a> messages. See <a href="3270c3_30q8.htm">Pacing and Chunking</a>.<p>
</p>
</td>
</tr>
<tr valign=top>
<td width=22%>Application<br>
cancel option</td>
<td width=78%>A value of 0x00 indicates that the local node should automatically generate CANCEL. A value of 0x01 indicates that the application will generate CANCEL. See <a href="3270c3_86eo.htm">Inbound Chaining</a>.<p>
</p>
</td>
</tr>
<tr valign=top>
<td width=22%>Application<br>
transaction<br>
numbers option</td>
<td width=78%>A value of 0x00 indicates that the application does not support transaction numbers. A value of 0x01 indicates that the application does support transaction numbers. See <a href="3270c3_95kg.htm">Recovery</a>.<p>
</p>
</td>
</tr>
<tr valign=top>
<td width=22%>BIND<br>
check index</td>
<td width=78%>Gives the index of the BIND check table entry against which the BIND parameters should be verified. One of the following values should be used:<br>
0x01—3270 printer session<br>
0x02—3270 display session<br>
0x10—LUA (LU type 0) application</td>
</tr>
</table><br>
<p>
The <b>Open(PLU) Confirm</b> from the local node to the application indicates whether the BIND verification was successful, and if so, supplies the bind information control block (BICB). The BICB summarizes the session BIND parameters in a format suitable for high-level languages and effectively defines the characteristics of the PLU session. The application not negotiating the BIND should usually not require to examine the BIND on the <a href="3270c4_0gvk.htm"><b>Open(PLU) Request</b></a> and should use the BICB on the <a href="3270c4_6e40.htm"><b>Open(PLU) OK Confirm</b></a>.</p>
<p>
The following table summarizes the fields in the BICB and their correspondence to the parameters in the BIND RU. For more detailed information, see the IBM manual <i>Systems Network Architecture: Formats,</i> (GA27-3136). More detailed information is given in context in the topics dealing with PLU session characteristics such as pacing and brackets.</p>
<p>
<b>Bind Information Control Block Usage</b></p>
<table cellspacing=4 cols=3>
<tr valign=top>
<th align=left width=26%>Position on Open(PLU) OK Confirm</th>
<th align=left width=20%>Position in Bind RU [byte,bit]</th>
<th align=left width=54%><br>
<br>
Description</th>
</tr>
<tr valign=top>
<td width=26%><b>dataru[0]</b></td>
<td width=20%>[ 2,    ]</td>
<td width=54%>FM profile</td>
</tr>
<tr valign=top>
<td width=26%><b>dataru[1]</b></td>
<td width=20%>[ 3,    ]</td>
<td width=54%>TS profile</td>
</tr>
<tr valign=top>
<td width=26%><b>dataru[2]</b></td>
<td width=20%>[ 4,   0]</td>
<td width=54%>Primary chaining use</td>
</tr>
<tr valign=top>
<td width=26%><b>dataru[3]</b></td>
<td width=20%>[ 4,   1]</td>
<td width=54%>Primary request control mode</td>
</tr>
<tr valign=top>
<td width=26%><b>dataru[4]</b></td>
<td width=20%>[ 4,2-3]</td>
<td width=54%>Primary chain response protocol</td>
</tr>
<tr valign=top>
<td width=26%><b>dataru[5]</b></td>
<td width=20%>[ 4,   4]</td>
<td width=54%>Primary two-phase commit</td>
</tr>
<tr valign=top>
<td width=26%><b>dataru[6]</b></td>
<td width=20%>[ 4,   6]</td>
<td width=54%>Primary compression indicator</td>
</tr>
<tr valign=top>
<td width=26%><b>dataru[7]</b></td>
<td width=20%>[ 4,   7]</td>
<td width=54%>Primary send EB indicator</td>
</tr>
<tr valign=top>
<td width=26%><b>dataru[8]</b></td>
<td width=20%>[ 5,   0]</td>
<td width=54%>Secondary chaining use</td>
</tr>
<tr valign=top>
<td width=26%><b>dataru[9]</b></td>
<td width=20%>[ 5,   1]</td>
<td width=54%>Secondary request control mode</td>
</tr>
<tr valign=top>
<td width=26%><b>dataru[10]</b></td>
<td width=20%>[ 5,2-3]</td>
<td width=54%>Secondary chain response protocol</td>
</tr>
<tr valign=top>
<td width=26%><b>dataru[11]</b></td>
<td width=20%>[ 5,   4]</td>
<td width=54%>Secondary two-phase commit</td>
</tr>
<tr valign=top>
<td width=26%><b>dataru[12]</b></td>
<td width=20%>[ 5,   6]</td>
<td width=54%>Secondary compression indicator</td>
</tr>
<tr valign=top>
<td width=26%><b>dataru[13]</b></td>
<td width=20%>[ 5,   7]</td>
<td width=54%>Secondary send EB indicator</td>
</tr>
<tr valign=top>
<td width=26%><b>dataru[14]</b></td>
<td width=20%>[ 6,   1]</td>
<td width=54%>FM header usage</td>
</tr>
<tr valign=top>
<td width=26%><b>dataru[15]</b></td>
<td width=20%>[ 6,   2]</td>
<td width=54%>Bracket usage (1) </td>
</tr>
<tr valign=top>
<td width=26%><b>dataru[16]</b></td>
<td width=20%>[ 6,   2]</td>
<td width=54%>Bracket reset state (2) </td>
</tr>
<tr valign=top>
<td width=26%><b>dataru[17]</b></td>
<td width=20%>[ 6,   3]</td>
<td width=54%>Bracket termination rule</td>
</tr>
<tr valign=top>
<td width=26%><b>dataru[18]</b></td>
<td width=20%>[ 6,   4]</td>
<td width=54%>Alternate code set indicator</td>
</tr>
<tr valign=top>
<td width=26%><b>dataru[19]</b></td>
<td width=20%>[ 6,   5]</td>
<td width=54%>Sequence number availability</td>
</tr>
<tr valign=top>
<td width=26%><b>dataru[20]</b></td>
<td width=20%>[ 7,0-1]</td>
<td width=54%>Normal-flow send/receive mode</td>
</tr>
<tr valign=top>
<td width=26%><b>dataru[21]</b></td>
<td width=20%>[ 7,   7]</td>
<td width=54%>Half-duplex flip-flop reset</td>
</tr>
<tr valign=top>
<td width=26%><b>dataru[22]</b></td>
<td width=20%>[ 8,2-7]</td>
<td width=54%>Secondary pacing send window</td>
</tr>
<tr valign=top>
<td width=26%><b>dataru[23]</b></td>
<td width=20%>[ 9,2-7]</td>
<td width=54%>Secondary pacing receive window</td>
</tr>
<tr valign=top>
<td width=26%><b>dataru[24-25]*</b></td>
<td width=20%>[10,    ]</td>
<td width=54%>Secondary send maximum RU size</td>
</tr>
<tr valign=top>
<td width=26%><b>dataru[26-27]*</b></td>
<td width=20%>[11,    ]</td>
<td width=54%>Primary send maximum RU size</td>
</tr>
<tr valign=top>
<td width=26%><b>dataru[28]</b></td>
<td width=20%>[14,1-7]</td>
<td width=54%>LU-LU session type</td>
</tr>
<tr valign=top>
<td width=26%><b>dataru[29]</b></td>
<td width=20%>[27,    ]</td>
<td width=54%>PLU name size</td>
</tr>
<tr valign=top>
<td width=26%><b>dataru[30-37]</b></td>
<td width=20%>[28,    ]</td>
<td width=54%>PLU name (in EBCDIC)</td>
</tr>
<tr valign=top>
<td width=26%><b>dataru[38]</b></td>
<td width=20%>[15,0-3]</td>
<td width=54%>Session type 1: PS FMH type</td>
</tr>
<tr valign=top>
<td width=26%><b>dataru[39]</b></td>
<td width=20%>[15,4-7]</td>
<td width=54%>PS data stream profile </td>
</tr>
<tr valign=top>
<td width=26%><b>dataru[40]</b></td>
<td width=20%>[16,   0]</td>
<td width=54%>Number of outstanding destinations</td>
</tr>
<tr valign=top>
<td width=26%><b>dataru[41]</b></td>
<td width=20%>[16,   1]</td>
<td width=54%>Compacted data indicator</td>
</tr>
<tr valign=top>
<td width=26%><b>dataru[42]</b></td>
<td width=20%>[16,   2]</td>
<td width=54%>PDIR allowed indicator</td>
</tr>
<tr valign=top>
<td width=26%><b>dataru[43]</b></td>
<td width=20%>[15,   0]</td>
<td width=54%>Session type 2 or 3: query support</td>
</tr>
<tr valign=top>
<td width=26%><b>dataru[44]</b></td>
<td width=20%>[24,1-7]</td>
<td width=54%>Dynamic screen size</td>
</tr>
<tr valign=top>
<td width=26%><b>dataru[45]</b></td>
<td width=20%>[20,    ]</td>
<td width=54%>Basic row size</td>
</tr>
<tr valign=top>
<td width=26%><b>dataru[46]</b></td>
<td width=20%>[21,    ]</td>
<td width=54%>Basic column size</td>
</tr>
<tr valign=top>
<td width=26%><b>dataru[47]</b></td>
<td width=20%>[22,    ]</td>
<td width=54%>Alternate row size</td>
</tr>
<tr valign=top>
<td width=26%><b>dataru[48]</b></td>
<td width=20%>[23,    ]</td>
<td width=54%>Alternate column size</td>
</tr>
<tr valign=top>
<td colspan=3 width=100%>1&nbsp;&nbsp;&nbsp;&nbsp;0x00 = Brackets not used<br>
     0x01 = Brackets used<p>
2&nbsp;&nbsp;&nbsp;&nbsp;0x01 = Bracket reset state is BETB (between-brackets)<br>
     0x02 = Bracket reset state is INB (in-bracket)</p>
<p>
*&nbsp;&nbsp;&nbsp;&nbsp;These values are of type INTEGER (all others are of type CHAR)</p>
</td>
</tr>
</table><br>
<p>
The opening PLU sequence can fail if the application rejects the <a href="3270c4_0gvk.htm"><b>Open(PLU) Request</b></a> (for example, if the BIND parameters are unacceptable on a nonnegotiable BIND) by sending <a href="3270c4_1fqo.htm"><b>Open(PLU) Error Response</b></a> and appropriate sense codes. The local node sends to the host a negative response to the BIND request containing the supplied sense codes. The PLU connection is considered to be closed after an <b>Open(PLU) Error Response</b>, and the local node does not generate an <b>Open(PLU) Confirm</b>. The following illustration shows a failure to open the PLU connection (for a nonnegotiable BIND), due to the application rejecting the <b>Open(PLU) Request</b>. </p>
<p>
<img src="images/32703g.gif" border=0></p>
<p>
The opening PLU sequence can also fail if the BIND verification against the BIND check table entry specified by the application fails. In this case, the local node does the following:
<ul>
<li>
Sends to the host a negative response to the BIND request with appropriate sense codes.</li>
<li>
Sends to the application an <a href="3270c4_9oxc.htm"><b>Open(PLU) Error Confirm</b></a> with the first word of the sense codes as the first error code and the index of the BIND parameter in error as the second error code.</li>
</ul>
<p>
The PLU connection is considered to be closed after the <b>Open(PLU) Error Confirm</b>. The following illustration shows failure to open the PLU connection due to BIND verification failure. Note that error code 2 gives the index in the RU of the BIND parameter in error. </p>
<p>
<img src="images/32703ga.gif" border=0></p>
<p>&nbsp;</p></body>
</HTML>
