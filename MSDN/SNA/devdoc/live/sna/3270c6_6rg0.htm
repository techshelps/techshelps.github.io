<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Diagnostics Record Format</title>
<link disabled rel=stylesheet href=../../backsdk3.css>
<style type="text/css">
@import url(../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h1><a name="_sna_diagnostics_record_format_3270"></a>Diagnostics Record Format</h1>
<p>
The format of the Diagnostics record is shown below. The first structure definition is an Alert information record, which includes details of a 3270 NetView user alert; the second is the Diagnostics record, which includes a number of Alert information records.</p>
<pre><code>typedef struct tedalert {
    UCHAR    dalrtnam[53];
    UCHAR    daparam1[33];
    UCHAR    daparam2[33];
    UCHAR    daparam3[33];
} TEDALERT;
 </code></pre>
<h4>Members</h4>
<dl>
<dt>
<b>dalrtnam[53]</b></dt>
<dd>
Description of the alert number.</dd>
<dt>
<b>daparam1[33]</b></dt>
<dd>
Description of parameter 1.</dd>
<dt>
<b>daparam2[33]</b></dt>
<dd>
Description of parameter 2.</dd>
<dt>
<b>daparam3[33]</b></dt>
<dd>
Description of parameter 3.
</dd>
</dl>
<pre><code>typedef struct tediagns {
    USHORT   dilen;
    USHORT   ditype;
    UCHAR    dinetmgt[9];
    USHORT   disrtmco;
    USHORT   disrtmub;
    USHORT   diwruldr;
    USHORT   dirtmth1;
    USHORT   dirtmth2;
    USHORT   dirtmth3;
    USHORT   dirtmth4;
    TEDALERT dialerts[20];
    UCHAR    diaudit[128];
    UCHAR    dierror[128];
    USHORT   diaudlev;
    UCHAR    dipad[16];
} TEDIAGNS;
 </code></pre>
<h4>Members</h4>
<dl>
<dt>
<b>dilen</b></dt>
<dd>
Length of record.</dd>
<dt>
<b>ditype</b></dt>
<dd>
Type of record.</dd>
<dt>
<b>dinetmgt[9]</b></dt>
<dd>
Network management connection name.</dd>
<dt>
<b>disrtmco</b></dt>
<dd>
Send RTM data at counter overflow.</dd>
<dt>
<b>disrtmub</b></dt>
<dd>
Send RTM data at UNBIND.</dd>
<dt>
<b>diwruldr</b></dt>
<dd>
RTM timers run until:</dd>
<dt>
<b>dirtmth1</b></dt>
<dd>
RTM threshold #1.</dd>
<dt>
<b>dirtmth2</b></dt>
<dd>
RTM threshold #2.</dd>
<dt>
<b>dirtmth3</b></dt>
<dd>
RTM threshold #3.</dd>
<dt>
<b>dirtmth4</b></dt>
<dd>
RTM threshold #4.</dd>
<dt>
<b>dialerts[20]</b></dt>
<dd>
Alert description records.</dd>
<dt>
<b>diaudit[128]</b></dt>
<dd>
Audit log file name.</dd>
<dt>
<b>dierror[128]</b></dt>
<dd>
Error log file name.</dd>
<dt>
<b>diaudlev</b></dt>
<dd>
Default audit level.</dd>
<dt>
<b>dipad[16]</b></dt>
<dd>
Sixteen bytes of padding.
</dd>
</dl>
<p>
The following paragraphs explain the meaning of each field in the structures that is relevant to the application and indicate how the application should use it. Fields that are not included in the list below are used by other Microsoft® SNA Server components and need not concern the application; in particular, the network management connection name and the times at which RTM data is sent to the host are handled by the local node on behalf of the application.</p>
<p>
Note that the application should determine whether the user is permitted to send NetView user alerts and/or view RTM data (see <a href="3270c6_4zg0.htm">3270 User Record Format</a>); it should not display the appropriate information, as described below, if the user does not have permission to use it. The host can also override whether the application is permitted to send and/or to display RTM data (see <a href="3270c3_19m8.htm">RTM Parameters</a> for more information).</p>
<p>
For more information on how the application uses the RTM parameters, see <a href="3270c3_19m8.htm">RTM Parameters</a>, <a href="3270c3_5m5s.htm">Response Time Monitor Data</a>, and <a href="3270c4_24j4.htm"><b>Status-RTM</b></a>.</p>
<h4>Members</h4>
<dl>
<dt>
<b>dalrtnam</b></dt>
<dd>
The description (up to 52 characters) of the alert corresponding to a particular alert number. The application should display this information to help the user determine which alert to send.</dd>
<dt>
<b>daparam1</b></dt>
<dd>
The descriptions (each up to 32 characters) of up to three parameters.</dd>
<dt>
<b>daparam2</b></dt>
<dd>
Required for the alert; depending on the specific alert.</dd>
<dt>
<b>daparam3</b></dt>
<dd>
One or more of these descriptions can be blank, indicating that the parameter is not used. For each of these descriptions that is not blank, the application should display this string to prompt the user for the appropriate parameter.</dd>
<dt>
<b>diwruldr</b></dt>
<dd>
The definition by which response times are to be measured. The application should measure the response time from the time the user presses ENTER or an AID key to send data to the host, until one of the following events as defined by this field:
<dl>
<dt>
CERTWRIT (0)</dt>
<dd>
The first host data reaches the 3270 display.</dd>
<dt>
CERTUNLK (1)</dt>
<dd>
The host unlocks the user's keyboard.</dd>
<dt>
CERTDIRE (2)</dt>
<dd>
The host gives the application direction so that the user can send further data.
</dd>
</dl>

<p>
Note that the host can override these definitions; see <a href="3270c3_19m8.htm">RTM Parameters</a> for more information.
</dd>
<dt>
<b>dirtmth1</b>,<b> dirtmth2</b>,<b> dirtmth3</b>,<b> dirtmth4</b></dt>
<dd>
The thresholds that define the bands into which response times are to be classified. Note that the host can override these definitions; see <a href="3270c3_19m8.htm">RTM Parameters</a> for more information.</dd>
<dt>
<b>dialerts</b></dt>
<dd>
Up to 20 alert records that define the alerts SNA Server users can send to a host. There are always 20 records, but some of these can be blank, indicating that they are not used; the application should display the descriptions of any nonblank alerts together with the alert number (from 1 to 20) defined by the position of the alert record in this array.
</dd>
</dl>
<p>&nbsp;</p></body>
</HTML>
