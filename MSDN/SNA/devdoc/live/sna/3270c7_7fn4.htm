<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>FMI Tracing</title>
<link disabled rel=stylesheet href=../../backsdk3.css>
<style type="text/css">
@import url(../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h1><a name="_sna_fmi_tracing_3270"></a>FMI Tracing</h1>
<p>
Microsoft® SNA Server provides the facility for tracing message flows at the Function Management Interface (FMI), both at the local node and at the application's DL-BASE. This allows you to track the messages being sent and received by the local node and/or the application.</p>
<h4>For Win32</h4>
<p>
Message tracing at the application's DL-BASE is controlled by entries in the Microsoft® Windows NT® registry under:</p>
<p>
<b>HKEY_LOCAL_MACHINE\System\CurrentControlSet\Services\Nap<br>
\Parameters</b></p>
<p>
Message tracing at the local node is controlled by placing similar entries under:</p>
<p>
<b>HKEY_LOCAL_MACHINE\System\CurrentControlSet\Services\Node<br>
\Parameters</b></p>
<p>
The entries required in both cases are as follows:</p>
<p>
<b>MessageTraceFile1=<i>file1</i><br>
MessageTraceFile2=<i>file2</i><br>
DLCTraceState=<i>on</i> (or <i>off</i>)</b></p>
<p>
SNATRACE.EXE can be used to dynamically control HLLAPI and FMI tracing.</p>
<h4>For OS/2</h4>
<p>
Message tracing is controlled by the COMSNA environment variable. You set this variable before starting the local node using the COMM START command, or before starting the client application; the application must be started in the screen group in which COMSNA was set.</p>
<p>
The syntax of COMSNA is described in the <i>Microsoft SNA Server Administration Guide</i>. To activate FMI tracing, you need to use one of the options <b>/A</b> (all messages are traced) or <b>/F</b> (only FMI messages are traced).</p>
<p>
For the local node, you can leave tracing initially inactive by not specifying any of the final options on COMSNA, and then activate it when required using the Manage program; in this case you need to use the internal message tracing option in Manage, which is the equivalent of the <b>/A</b> option on COMSNA. For the application, you need to specify either <b>/A</b> or <b>/F</b> to activate tracing at start of day, because it cannot be activated from the Manage program.</p>
<p>
You can also use the Manage program to start the local node with tracing, instead of setting COMSNA and then starting the local node. Again, you need to use the internal message tracing option, which is the equivalent of COMSNA with the <b>/A</b> option.</p>
<p>
</p>
<p>&nbsp;</p></body>
</HTML>
