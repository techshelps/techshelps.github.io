<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Open(LINK) Response</title>
<link disabled rel=stylesheet href=../../backsdk3.css>
<style type="text/css">
@import url(../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h1><a name="_sna_open_link_response_dev"></a>Open(LINK) Response</h1>
<p>
Flow : DLC ------&gt; NODE</p>
<h4>Header</h4>
<table cellspacing=4 cols=3>
<tr valign=top>
<th align=left width=25%>Field</th>
<th align=left width=29%>Type</th>
<th align=left width=46%>Description</th>
</tr>
<tr valign=top>
<td width=25%><b>nxtqptr</b></td>
<td width=29%>PTRBFHDR</td>
<td width=46%>Pointer to next buffer header in a queue</td>
</tr>
<tr valign=top>
<td width=25%><b>hdreptr</b></td>
<td width=29%>PTRBFELT</td>
<td width=46%>Pointer to first buffer element</td>
</tr>
<tr valign=top>
<td width=25%><b>numelts</b></td>
<td width=29%>CHAR</td>
<td width=46%>Number of buffer elements: 1</td>
</tr>
<tr valign=top>
<td width=25%><b>msgtype</b></td>
<td width=29%>CHAR</td>
<td width=46%>Message type: OPENMSG (0x01)</td>
</tr>
<tr valign=top>
<td width=25%><b>srcl</b></td>
<td width=29%>CHAR</td>
<td width=46%>Source locality</td>
</tr>
<tr valign=top>
<td width=25%><b>srcp</b></td>
<td width=29%>CHAR</td>
<td width=46%>Source partner</td>
</tr>
<tr valign=top>
<td width=25%><b>srci</b></td>
<td width=29%>INTEGER</td>
<td width=46%>Source index</td>
</tr>
<tr valign=top>
<td width=25%><b>destl</b></td>
<td width=29%>CHAR</td>
<td width=46%>Destination locality</td>
</tr>
<tr valign=top>
<td width=25%><b>destp</b></td>
<td width=29%>CHAR</td>
<td width=46%>Destination partner</td>
</tr>
<tr valign=top>
<td width=25%><b>desti</b></td>
<td width=29%>INTEGER</td>
<td width=46%>Destination index</td>
</tr>
<tr valign=top>
<td width=25%><b>ophdr.openqual</b></td>
<td width=29%>CHAR</td>
<td width=46%>Open qualifier<br>
 - RSPOK (0x02)<br>
 - RSPERR (0x03)</td>
</tr>
<tr valign=top>
<td width=25%><b>ophdr.opentype</b></td>
<td width=29%>CHAR</td>
<td width=46%>Open type<br>
 - LINK (0x10)</td>
</tr>
<tr valign=top>
<td width=25%><b>ophdr.opresid</b></td>
<td width=29%>INTEGER</td>
<td width=46%>Resource identifier</td>
</tr>
<tr valign=top>
<td width=25%><b>ophdr.operr1</b></td>
<td width=29%>INTEGER</td>
<td width=46%>Error code (see below)</td>
</tr>
<tr valign=top>
<td width=25%><b>ophdr.operr2</b></td>
<td width=29%>INTEGER</td>
<td width=46%>Reserved</td>
</tr>
<tr valign=top>
<td width=25%><b>hdreptr–&gt;elteptr</b></td>
<td width=29%>PTRBFELT</td>
<td width=46%>Pointer to next buffer element: NULL</td>
</tr>
<tr valign=top>
<td width=25%><b>hdreptr–&gt;startd</b></td>
<td width=29%>INTEGER</td>
<td width=46%>Index to start of data in this buffer element's data array: 1</td>
</tr>
<tr valign=top>
<td width=25%><b>hdreptr–&gt;endd</b></td>
<td width=29%>INTEGER</td>
<td width=46%>Index to last byte of data in this buffer element's data array</td>
</tr>
<tr valign=top>
<td width=25%><b>hdreptr–&gt;dataru</b></td>
<td width=29%>CHAR[SNANBEDA]</td>
<td width=46%>Defined as follows, where s = startd–1</td>
</tr>
<tr valign=top>
<td class=indent1 width=25%><b>dataru[s..s+9]</b></td>
<td width=29%></td>
<td width=46%>Source name—same as destination name from <b>Open(LINK) Request</b></td>
</tr>
<tr valign=top>
<td class=indent1 width=25%><b>dataru[s+10..s+19]</b></td>
<td width=29%></td>
<td width=46%>Destination name—name of local node; same as source name from <b>Open(LINK) Request</b></td>
</tr>
<tr valign=top>
<td class=indent1 width=25%><b>dataru[s+22..s+23]</b></td>
<td width=29%></td>
<td width=46%>Maximum BTU size supported by SNALink</td>
</tr>
</table><br>
<p>
The error codes (for an ERROR-RESPONSE) are defined as follows in SNA_CNST.H:</p>
<table cellspacing=4 cols=3>
<tr valign=top>
<th align=left width=26%>Symbolic constant</th>
<th align=left width=28%>Value</th>
<th align=left width=46%>Description</th>
</tr>
<tr valign=top>
<td width=26%>ERINIFAIL</td>
<td width=28%>0x01</td>
<td width=46%>Hardware initialization failed</td>
</tr>
<tr valign=top>
<td width=26%>ERINVXID</td>
<td width=28%>0x08</td>
<td width=46%>Invalid XID length</td>
</tr>
<tr valign=top>
<td width=26%>ERLINKOPN</td>
<td width=28%>0x09</td>
<td width=46%>Link already open</td>
</tr>
<tr valign=top>
<td width=26%>ERLLCERR</td>
<td width=28%>0x0A</td>
<td width=46%>LCC error; fatal hardware failure</td>
</tr>
<tr valign=top>
<td width=26%>ERBADINDX</td>
<td width=28%>0x0B</td>
<td width=46%>Invalid link index</td>
</tr>
<tr valign=top>
<td width=26%>ERBADOPN</td>
<td width=28%>0x0C</td>
<td width=46%><b>Open(LINK)</b> has insufficient data</td>
</tr>
<tr valign=top>
<td width=26%>ERCONNTO</td>
<td width=28%>0x0D</td>
<td width=46%>Link connection time-out</td>
</tr>
<tr valign=top>
<td width=26%>ERNORES</td>
<td width=28%>0x0E</td>
<td width=46%>Maximum connection count reached<br>
–or–<br>
No more internal control blocks</td>
</tr>
<tr valign=top>
<td width=26%>EROPNPND</td>
<td width=28%>0x11</td>
<td width=46%><b>Close(LINK)</b> arrived while <b>Open(LINK)</b> pending</td>
</tr>
<tr valign=top>
<td width=26%>ERDUPREQ</td>
<td width=28%>0x12</td>
<td width=46%>Duplicate request</td>
</tr>
</table><br>
<p>&nbsp;</p></body>
</HTML>
