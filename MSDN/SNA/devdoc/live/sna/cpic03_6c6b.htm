<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Confirmed</title>
<link disabled rel=stylesheet href=../../backsdk3.css>
<style type="text/css">
@import url(../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h1><a name="_sna_confirmed_cpic"></a>Confirmed</h1>
<p>
The <b>Confirmed</b> call (function name <b>cmcfmd</b>) replies to a confirmation request from the partner program. It informs the partner program that the local program has not detected an error in the received data. Because the program issuing the confirmation request waits for a confirmation, <b>Confirmed</b> synchronizes the processing of the two programs.</p>
<pre><code><b>CM_ENTRY Confirmed(
  unsigned char FAR</b><i> *conversation_ID</i><b>,  </b>
<b>  CM_INT32 FAR</b><i> *return_code            </i>
<b>);</b>
 </code></pre>
<h4>Parameters</h4>
<dl>
<dt>
<i>conversation_ID</i></dt>
<dd>
Supplied parameter. Specifies the identifier for the conversation. The value of this parameter was returned by <a href="cpic03_0jhf.htm"><b>Initialize_Conversation</b></a> or <a href="cpic03_70df.htm"><b>Accept_Conversation</b></a>.</dd>
<dt>
<i>return_code</i></dt>
<dd>
The code returned from this call. The valid return codes are listed below.
</dd>
</dl>
<h4>Return Codes</h4>
<dl>
<dt>
cm_ok</dt>
<dd>
Primary return code; the call executed successfully.</dd>
<dt>
cm_operation_not_accepted</dt>
<dd>
Primary return code; a previous operation on this conversation is incomplete.</dd>
<dt>
cm_operation_incomplete</dt>
<dd>
Primary return code; the operation has not completed (processing mode is nonblocking only) and is still in progress. The program can issue <a href="cpic03_6un7.htm"><b>Wait_For_Conversation</b></a> to await the completion of the operation, or <a href="cpic03_017n.htm"><b>Cancel_Conversation</b></a> to cancel the operation and conversation. If <a href="cpic03_3kir.htm"><b>Specify_Windows_Handle</b></a> has been called, the application should wait for notification by a Windows message and not call <b>Wait_For_Conversation</b>.</dd>
<dt>
cm_program_parameter_check</dt>
<dd>
Primary return code; the value specified by <i>conversation_ID</i> is invalid.</dd>
<dt>
cm_program_state_check</dt>
<dd>
Primary return code; the conversation was not in CONFIRM, CONFIRM_SEND, or CONFIRM_DEALLOCATE state when the program issued this call.</dd>
<dt>
cm_product_specific_error</dt>
<dd>
Primary return code; a product-specific error occurred and has been logged in the product's error log.
</dd>
</dl>
<h4>State Changes</h4>
<p>
The conversation must be in one of the following states when the program issues <b>Confirmed</b>:</p>
<p class=indent1>
CONFIRM</p>
<p class=indent1>
CONFIRM_SEND</p>
<p class=indent1>
CONFIRM_DEALLOCATE</p>
<p>
The new state is determined by the old state—the state of the conversation when the local program issued <b>Confirmed</b>. The old state is indicated by the <i>status_received</i> value of the preceding <a href="cpic03_3vhf.htm"><b>Receive</b></a> call. The following table summarizes the possible state changes when <i>return_code</i> is set to cm_ok.</p>
<table cellspacing=4 cols=2>
<tr valign=top>
<th align=left width=50%>Old state</th>
<th align=left width=50%>New state</th>
</tr>
<tr valign=top>
<td width=50%>CONFIRM</td>
<td width=50%>RECEIVE</td>
</tr>
<tr valign=top>
<td width=50%>CONFIRM_SEND</td>
<td width=50%>SEND</td>
</tr>
<tr valign=top>
<td width=50%>CONFIRM_DEALLOCATE</td>
<td width=50%>RESET</td>
</tr>
</table><br>
<p>
Other return codes result in no state change.</p>
<h4>Remarks</h4>
<p>
A confirmation request is issued by one of the following calls in the partner program:
<ul>
<li>
<a href="cpic03_5q8z.htm"><b>Confirm</b></a>.</li>
<li>
<a href="cpic03_0ihv.htm"><b>Prepare_To_Receive</b></a> if the prepare-to-receive type is set to CM_PREP_TO_RECEIVE_CONFIRM or to CM_PREP_TO_RECEIVE_SYNC_LEVEL and the conversation's synchronization level is set to CM_CONFIRM.</li>
<li>
<a href="cpic03_5vkz.htm"><b>Deallocate</b></a> if the deallocate type is set to CM_DEALLOCATE_CONFIRM or to CM_DEALLOCATE_SYNC_LEVEL and the conversation's synchronization level is set to CM_CONFIRM.</li>
<li>
<a href="cpic03_94ir.htm"><b>Send_Data</b></a> under the following circumstances:<p class=indent1>
The send type is set to CM_SEND_AND_CONFIRM.</p>
<p class=indent1>
The send type is set to CM_SEND_AND_PREPARE_TO_RECEIVE and the prepare-to-receive type is set to CM_PREPARE_TO_RECEIVE_CONFIRM.</p>
<p class=indent1>
The send type is set to CM_SEND_AND_PREPARE_TO_RECEIVE, the prepare-to-receive type is set to CM_PREPARE_TO_RECEIVE_SYNC_LEVEL, and the synchronization level is set to CM_CONFIRM.</p>
<p class=indent1>
The send type is set to CM_SEND_AND_DEALLOCATE and the deallocate type is set to CM_DEALLOCATE_CONFIRM.</p>
<p class=indent1>
The send type is set to CM_SEND_AND_DEALLOCATE, the deallocate type is set to CM_DEALLOCATE_SYNC_LEVEL, and the synchronization level is set to CM_CONFIRM.</p>
</li>
</ul>
<p>
A confirmation request is received by the local program through the <i>status_received</i> parameter of <a href="cpic03_3vhf.htm"><b>Receive</b></a>. The local program can issue <b>Confirmed</b> only if the <i>status_received</i> parameter is set to one of the following values:</p>
<p class=indent1>
CM_CONFIRM_RECEIVED</p>
<p class=indent1>
CM_CONFIRM_SEND_RECEIVED</p>
<p class=indent1>
CM_CONFIRM_DEALLOC_RECEIVED</p>
<p>&nbsp;</p></body>
</HTML>
