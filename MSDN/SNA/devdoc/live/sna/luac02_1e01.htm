<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Synchronous and Asynchronous Verb Completion</title>
<link disabled rel=stylesheet href=../../backsdk3.css>
<style type="text/css">
@import url(../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h1><a name="_sna_synchronous_and_asynchronous_verb_completion_lua"></a>Synchronous and Asynchronous Verb Completion</h1>
<p>
LUA verbs can complete execution either synchronously or asynchronously.</p>
<h4>Synchronous Verb Completion</h4>
<p>
When LUA is able to complete all the processing for a verb as soon as it is issued, the verb has completed synchronously. When this happens, the primary return code is set to a value other than lua_in_progress, and the <b>lua_flag2.async</b> bit is set to zero. Note that the value of the <b>lua_flag2.async</b> bit should be tested, not the primary return code being not equal to lua_in_progress. (See individual verb descriptions for information on these returned parameters.)</p>
<h4>Asynchronous Verb Completion</h4>
<p>
Some LUA verbs (for example, <a href="luac03_4joh.htm"><b>RUI_PURGE</b></a>) complete quickly after local processing; however, most verbs take some time to complete because they require messages to be sent to and received from the local node or the host application.</p>
<p>
When LUA must wait for information from the remote LU or from the local node before it can complete a verb, the verb completes asynchronously.</p>
<p>
When this happens, the <b>lua_flag2.async</b> bit is set to 1. The primary return code is also normally set to lua_in_progress, but this value cannot be relied on. The value of the <b>lua_flag2.async</b> bit should be tested. The application can now perform other processing, or wait for notification from LUA that the verb has completed. LUA issues this notification by setting the primary return code to its final value and leaving <b>lua_flag2.async</b> set to 1.</p>
<p>
When the verb completes, LUA does the following depending on your environment:
<ul>
<li>
For a Microsoft® Windows NT® or Microsoft® Windows® 95 system, two types of notification are possible. The LUA application either:<p class=indent1>
Issues <b>WaitForSingleObject</b> or <b>WaitForMultipleObject</b>.</p>
<p class=indent1>
—or—</p>
<p class=indent1>
Posts the "WinRUI"/"WinSLI" notification message to the window handle of the <b>WinRUI</b>/<b>WinSLI</b> message.</p>
<p>
The event method using <b>WaitForSingleObject</b> or <b>WaitForMultipleObject </b>is the preferred way to receive asynchronous notification on Windows NT or Windows 95.
</li>
<li>
In the Windows environment, it notifies the completion of an asynchronous request by posting the "WinRUI"/"WinSLI" notification message to the window handle of the <b>WinRUI</b>/<b>WinSLI</b> message. A window handle has been added as the first parameter passed to the <a href="luac05_5i8x.htm"><b>WinRUI</b></a> and <a href="luac05_69ep.htm"><b>WinSLI</b></a> entry points.</li>
<li>
For OS/2, it notifies the completion of an asynchronous request by posting a message to the application's Window procedure or by clearing a semaphore/event. Additionally, the application can use system queues for asynchronous verbs.<p>
Note that if the verb completes synchronously, LUA does not clear the semaphore.
</li>
</ul>
<p>&nbsp;</p></body>
</HTML>
