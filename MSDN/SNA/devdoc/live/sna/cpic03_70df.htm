<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Accept_Conversation</title>
<link disabled rel=stylesheet href=../../backsdk3.css>
<style type="text/css">
@import url(../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h1><a name="_sna_accept_conversation_cpic"></a>Accept_Conversation</h1>
<p>
The <b>Accept_Conversation</b> call (function name <b>cmaccp</b>) is issued by the invoked program to accept the incoming conversation and set certain conversation characteristics. For a list of initial conversation characteristics, see <a href="cpic01_2kkj.htm">Initial Conversation Characteristics</a>.</p>
<pre><code><b>CM_ENTRY Accept_Conversation(
  unsigned char FAR</b><i> *conversation_ID</i><b>,  </b>
<b>  CM_INT32 FAR</b><i> *return_code            </i>
<b>);</b>
 </code></pre>
<h4>Parameters</h4>
<dl>
<dt>
<i>conversation_ID</i></dt>
<dd>
Returned parameter. Specifies the identifier for the conversation. It is used by subsequent CPI-C calls and is returned if the return code is either cm_ok or cm_operation_incomplete. If <i>return_code</i> is cm_operation_incomplete, the <i>conversation_ID</i> can be used by the application to wait for or cancel the conversation.</dd>
<dt>
<i>return_code</i></dt>
<dd>
The code returned from this call. The valid return codes are listed below.
</dd>
</dl>
<h4>Return Codes</h4>
<dl>
<dt>
cm_ok</dt>
<dd>
Primary return code; the call executed successfully.</dd>
<dt>
cm_program_state_check</dt>
<dd>
Primary return code; there is no incoming conversation (blocking mode only), or no local TP name has been set up.</dd>
<dt>
cm_operation_incomplete</dt>
<dd>
Primary return code; a nonblocking operation has been started on the conversation but is not complete. The program can issue <a href="cpic03_6un7.htm"><b>Wait_For_Conversation</b></a> to wait for the operation to complete or <a href="cpic03_017n.htm"><b>Cancel_Conversation</b></a> to cancel the operation and conversation.</dd>
<dt>
cm_product_specific_error</dt>
<dd>
Primary return code; a product-specific error occurred and has been logged in the product's error log.
</dd>
</dl>
<h4>State Changes</h4>
<p>
The conversation must be in RESET state when <b>Accept_Conversation</b> is issued.</p>
<p>
If the call is successful, the conversation changes to RECEIVE state. If the call fails, the state remains unchanged.</p>
<h4>Remarks</h4>
<p>
Upon successful execution of this call, CPI-C generates an 8-byte conversation identifier. This identifier is a required parameter for all other CPI-C calls issued by the invoked program on this conversation.</p>
<p>
Incoming conversations will be accepted according to the target TP name that they specify, which must match local TP names that have been set up. Local TP names can be set up by implementation-dependent methods, or by the program calling <a href="cpic03_68wz.htm"><b>Specify_Local_TP_Name</b></a>. In this way, a program can have more than one local TP name. The program can call <a href="cpic03_6xwj.htm"><b>Extract_TP_Name</b></a> to discover the name specified on the incoming conversation.</p>
<p>
The operation is performed in nonblocking mode if the program has called <b>Specify_Local_TP_Name</b> previously; otherwise it is performed in blocking mode.</p>
<p>&nbsp;</p></body>
</HTML>
