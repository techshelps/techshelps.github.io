<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Shutdown</title>
<link disabled rel=stylesheet href=../../backsdk3.css>
<style type="text/css">
@import url(../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h3><a name="_sna_shutdown_3270"></a>Shutdown</h3>
<p>
The shutdown protocol provides a means for the host application to stop the application from sending any further normal flow requests. This protocol is used when the host application wishes to end the session in an orderly manner and is only available for sessions using FM profile 3 or 4.</p>
<p>
If the local node receives a SHUTD request from the host, it issues a <b>Status-Control(SHUTD) Request</b> (without ACKRQD) to request the application to enter a quiesced state at a convenient time. The application determines what is convenient—for example, it could be after a <b>Status-Session(BETB)</b> has been received.</p>
<p>
When the application decides it is ready to quiesce, it should issue a <b>Status-Control(SHUTC) Request</b> (again without ACKRQD) to indicate this transition. The local node will notify the host of this change by sending a SHUTC request. The host can continue sending normal flow outbound requests and can subsequently take one of the following actions:
<ul>
<li>
The host terminates the PLU session by sending an UNBIND request. The local node closes the PLU connection by sending a <a href="3270c4_31tc.htm"><b>Close(PLU) Request</b></a> to the application. The SSCP session remains active.</li>
<li>
The host abandons the shutdown procedure by sending an RELQ request. The local node sends a <b>Status-Control(RELQ) Request</b> (with ACKRQD) to the application to indicate that it can now resume sending on the PLU session. RELQ is only supported on sessions using FM profile 4.</li>
<li>
The host resets the session by sending CLEAR (TS profile 3 or 4); one of the effects of this is to release the quiesced state (see <a href="3270c3_95kg.htm">Recovery</a>).</li>
</ul>
<p>
The following two figures illustrate the shutdown protocols between the local node and the application and how those protocols relate to the underlying SNA protocols.</p>
<p>
In the following illustration, the host sends SHUTD while the application is sending in the in-bracket state; the application completes the bracket, sends <b>Status-Control(SHUTC) Request</b>, and the host terminates the PLU session by sending UNBIND. The local node closes the PLU connection.</p>
<p>
<img src="images/32703r.gif" border=0></p>
<p>
In the following illustration, the host sends SHUTD while the application is sending in the in-bracket state; the application completes the bracket, sends <b>Status-Control(SHUTC) Request</b>, and then the host releases the application from the quiesced state by sending RELQ. The local node sends a <b>Status-Control(RELQ) Request</b> to the application, which initiates a new bracket.</p>
<p>
<img src="images/32703ra.gif" border=0></p>
<p>&nbsp;</p></body>
</HTML>
