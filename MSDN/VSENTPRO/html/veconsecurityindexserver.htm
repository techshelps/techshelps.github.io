<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Security and Index Server</title>
<style>@import url(msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="msdn_ie3.css">
</HEAD>
<BODY>

<h1><a name="veconsecurityindexserver"></a>Security and Index Server</h1>
<p>
<object id=alink_1 type="application/x-oleobject"
	classid="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
<PARAM name="Command" value="ALink">
<PARAM name="Font" value=",,,,underline">
<PARAM name="Text" value="Text:See Also">
<PARAM name="Flags" value=",,1">
<PARAM name="Item1" value="">
<PARAM name="Item2" value="veconSecurityIndexServer_C">
</object>&nbsp;&nbsp;&nbsp;<object id=alink_2 type="application/x-oleobject"
	classid="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
<PARAM name="Command" value="ALink">
<PARAM name="Font" value=",,,,underline">
<PARAM name="Text" value="Text:Tasks">
<PARAM name="Flags" value=",,1">
<PARAM name="Item1" value="">
<PARAM name="Item2" value="veconSecurityIndexServer_T">
</object></p>
<p>
Microsoft Index Server indexes the contents and properties of documents on a Web site served by Internet Information Server (IIS). Because Index Server lets clients search your Web site, your application must carefully restrict the files and folders that organize and create viewable Web pages.</p>
<p>
Configuring Index Server to secure your application's Index Server pages requires:</p>
<ul type=disc>
<li>
Protecting Index Server files with NTFS file security.</li>
<li>
Choosing IIS Client Authentication.</li>
<li>
Limiting content access with catalog files.</li>
<li>
Controlling remote shares.</li>
<li>
Limiting remote administration.</li>
</ul>
<h2>Protecting Index Server Files with NTFS File Security</h2>
<p>
Index Server is fully integrated with Windows NT security. This means that you can take full advantage of NTFS file protection for any information that is to be indexed and queried by Index Server.</p>
<p>
Specifically, you should use NTFS to protect the following Index Server files:</p>
<ul type=disc>
<li>
Internet Data Query (.idq) files</li>
<li>
Index Data Administration (.ida) scripts</li>
<li>
Hypertext Markup Language Extension (.htx) templates</li>
<li>
Query Form (.htm) files</li>
<li>
Catalog (.wci) files</li>
</ul>
<p>
Index Server will index subdirectories that do not have read permissions if they are located within a directory that has read permission. To prevent Index Server from indexing such a directory, you can mask unreadable roots by setting the CiRestriction in the .idq query file.</p>
<h2>Choosing IIS Client Authentication</h2>
<p>
Index Server authentication uses the configured IIS authentication methods: anonymous logon, basic authentication, and Windows NT Challenge/Response. For an enterprise application, Windows NT Challenge/Response authentication is preferred because the client password is protected and only a single logon is necessary.</p>
<p class=indent>
<B><b>Note</b></B>&nbsp;&nbsp;&nbsp;Windows NT Challenge/Response authentication only works when the browser is Microsoft Internet Explorer. For more information on client authentication methods, see <a href="veconinternetinformationserverauthenticationmethods.htm">Internet Information Server Authentication Methods</a> in this chapter.</p>
<h2>Limiting Content Access with Catalogs</h2>
<p>
An Index Server catalog is a folder of files with indexing information. Index Server populates the catalog with generated content and property information.</p>
<p>
User access permission for indexed documents is also maintained in the catalog. Every time a user submits a query, Index Server checks the file security information. Only permitted documents are included in the query's result set. This means that you must maintain the file security information in the Index Server catalog files.</p>
<h2>Controlling Remote Shares</h2>
<p>
One of the features of Index Server is indexing and providing access to documents in a virtual root that points to a remote share. This presents important security issues for your application.</p>
<p>
You need to understand that access to the remote share is controlled by the share's account access privileges. All documents in that share become available to that account. You should carefully check the access permissions on all remote shares.</p>
<h2>Limiting Remote Administration</h2>
<p>
Some Index Server management functions are, by default, available from a remote Web site. This means that someone else could make unauthorized changes. The best way to control unauthorized access is to be sure that only you have access privileges, as defined by the Access Control List (ACL) in the following registry key:</p>
<p>
HKEY_LOCAL_MACHINE\System\CurrentControlSet\Control\ContentIndex</p>
<p>
<B><b>For More Information</b></B>&nbsp;&nbsp;&nbsp;For more information on securing Index Server files and processes, search for "Microsoft Index Server" in <i>MSDN Library Visual Studio 6.0</i>.</p>
</BODY>
</HTML>
