<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Securing the Windows NT Registry</title>
<style>@import url(msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="msdn_ie3.css">
</HEAD>
<BODY>

<h1><a name="veconsecuringwindowsntregistry"></a>Securing the Windows NT Registry</h1>
<p>
<object id=alink_1 type="application/x-oleobject"
	classid="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
<PARAM name="Command" value="ALink">
<PARAM name="Font" value=",,,,underline">
<PARAM name="Text" value="Text:See Also">
<PARAM name="Flags" value=",,1">
<PARAM name="Item1" value="">
<PARAM name="Item2" value="veconSecuringWindowsNTRegistry_C">
</object>&nbsp;&nbsp;&nbsp;<object id=alink_2 type="application/x-oleobject"
	classid="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
<PARAM name="Command" value="ALink">
<PARAM name="Font" value=",,,,underline">
<PARAM name="Text" value="Text:Tasks">
<PARAM name="Flags" value=",,1">
<PARAM name="Item1" value="">
<PARAM name="Item2" value="veconSecuringWindowsNTRegistry_T">
</object></p>
<p>
The initialization and configuration information used by your enterprise application is typically stored in the registry. For example, the configuration information for your application’s distributed components is kept in the registry. Because the default Windows NT workstation setup for the Registry Editor lets administrators have remote access, external tampering could put your application’s registry data at risk.</p>
<p>
In order to protect your application’s registry information, you need to:</p>
<ul type=disc>
<li>
Protect the registry files.</li>
<li>
Restrict network access to the registry on every workstation that uses your application.</li>
</ul>
<h2>Protecting the Registry Files</h2>
<p>
You must ensure that only the administrator can access the WINNT\SystemRoot\System32 directory. You can do this by applying NTFS file permissions to the System32 folder.</p>
<p>
<B><b>For More Information</b></B>&nbsp;&nbsp;&nbsp;<a href="veconprotectingfiles.htm">Protecting Files</a>, in this chapter, offers an overview of security on the NTFS file system.</p>
<h2>Restricting Network Access to the Registry</h2>
<p>
The default operating system installation on Windows NT workstations lets any administrator have remote access to the registry from another computer. If the "winreg" key does not appear in the registry, any user who can connect to the computer can also connect to the registry and damage your configuration information.</p>
<p class=indent>
<B><b>Note</b></B>&nbsp;&nbsp;&nbsp;The default Windows NT Workstation installation does not define the winreg key and therefore remote registry access is allowed by default. Windows NT Server does define this key and allows only the administrator to remotely access the registry.</p>
<p>
To restrict network access to the registry, you must create the following key on every workstation that uses your application:</p>
<pre><code>HKEY_LOCAL_MACHINE\SYSTEM\CurrentcontrolSet\Control\SecurePipeServers\winreg
</code></pre>
<p>
Then you should edit the registry permissions of the winreg key to grant or revoke specific access privileges.</p>
<p>
<B><b>For More Information</b></B>&nbsp;&nbsp;&nbsp;For more information on how to grant or revoke registry permissions, search for "Changing the winreg ACL" in <i>MSDN Library Visual Studio 6.0</i>.</p>
</BODY>
</HTML>
