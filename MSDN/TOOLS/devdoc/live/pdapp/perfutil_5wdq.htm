<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>PfMon</title>
<link disabled rel=stylesheet href=../../backsdk3.css>
<style type="text/css">
@import url(../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h1><a name="_tools_pfmon"></a>PfMon</h1>
<p>
<b>Windows NT only</b></p>
<p>
PFMon displays the faults that occur while executing a process. PFMon can start the application for you or attach to a running process. </p>
<p>
The following is the PFMon command-line syntax: </p>
<p>
<b>pfmon</b> [<i>options</i>] [<i>AppCommandLine</i>]
<dl>
<dt>
<b>-?</b></dt>
<dd>
Display the command-line syntax.</dd>
<dt>
<b>-n</b></dt>
<dd>
Do not display running faults; log faults to PFMON.LOG.</dd>
<dt>
<b>-l</b></dt>
<dd>
Log faults to PFMON.LOG.</dd>
<dt>
<b>-c</b></dt>
<dd>
Only show code faults.</dd>
<dt>
<b>-h</b></dt>
<dd>
Only show hard faults.</dd>
<dt>
<b>-p</b> <i>pid</i></dt>
<dd>
Attach to the process with process identifier <i>pid</i>. Note that once PFMon is attached to the process, terminating PFMon will also terminate the process.</dd>
<dt>
<b>-d</b></dt>
<dd>
Use tab-delimited database format.</dd>
<dt>
<b>-k</b></dt>
<dd>
Show kernel mode page faults and user mode page faults.</dd>
<dt>
<b>-K</b></dt>
<dd>
Show kernel mode page faults.</dd>
<dt>
<i>AppCommandLine</i></dt>
<dd>
The command line of the application to monitor. Do not specify <i>AppCommandLine</i> if you are using <b>-p</b> <i>pid</i>.
</dd>
</dl>
<p>
When you terminate the application specified by AppCommandLine, PFMon prints a summary of the faults that occurred while executing the application. For example, execute the following command: </p>
<pre><code>pfmon wperf
</code></pre>
<p>
The summary printed when you terminate WPERF will look something like this: </p>
<pre><code>wperf.dbg Caused     44 faults had     5 Soft   24 Hard faulted VA's
ntdll.dbg Caused     99 faults had    63 Soft    4 Hard faulted VA's
kernel32.dbg Caused  46 faults had    29 Soft    4 Hard faulted VA's
gdi32.dbg Caused     17 faults had     9 Soft    3 Hard faulted VA's
user32.dbg Caused    29 faults had    21 Soft    6 Hard faulted VA's
advapi32.dbg Caused   7 faults had     2 Soft    8 Hard faulted VA's
rpcrt4.dbg Caused     4 faults had     1 Soft    3 Hard faulted VA's

Total Faults 246 (KM 135 UM 246 Soft 164, Hard 82, Code 123, Data 123)
</code></pre>
<p>&nbsp;</p></body>
</HTML>
