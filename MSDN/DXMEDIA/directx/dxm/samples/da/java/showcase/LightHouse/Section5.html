<HTML>
<HEAD>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>DirectX Media SDK DirectAnimation Tutorial</TITLE>
<LINK REL=STYLESHEET HREF="/directx/dxm/webcd/da/tutorial.css">
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; CHARSET=iso8859-1">
<META NAME="MS.LOCALE" CONTENT="EN-US">
<META NAME="ROBOTS" CONTENT="noindex">
</HEAD>
<BODY BGCOLOR="WHITE" LINK="#0033CC" TOPMARGIN=0 LEFTMARGIN=20>
<!--TOOLBAR_START-->
<!--TOOLBAR_EXEMPT-->
<!--TOOLBAR_END-->

<DIV CLASS="flush">
<TABLE WIDTH="100%" BORDER=0 BGCOLOR="#000000">
<TR ALIGN=RIGHT><TD VALIGN=TOP><FONT CLASS=desc1 SIZE=2>
<A HREF="Section4.html" TARGET="_top">
<IMG SRC="/directx/dxm/media/image/u_prev.gif"
 WIDTH=71 HEIGHT=16 BORDER=0 ALT="Previous Topic">
</A><A HREF="/directx/dxm/webcd/da/tutorial_main.htm" TARGET="_top">
<IMG SRC="/directx/dxm/media/image/d_home.gif" WIDTH=48 HEIGHT=16 BORDER=0 ALT="Tutorial Home Page"></A>
<A HREF="Section6.html" TARGET="_top">
<IMG SRC="/directx/dxm/media/image/u_next.gif" WIDTH=48 HEIGHT=16 BORDER=0 ALT="Next Topic">
</A></FONT></TD><TD WIDTH=30></TD></TR></TABLE></DIV>
<FONT CLASS=title><CENTER>Section5: Using Synthetic Audio</CENTER></FONT>
<BR>

<TABLE><TR><TD WIDTH=500><FONT CLASS=desc1> Here, compose the audio for this demo.  Both the ocean and seagull
 classes have static methods for defining the sound.  This tutorial
 discusses how the sound is generated for the ocean module.</FONT></TD></TR></TABLE>
<FONT CLASS=code><DIV STYLE="margin-left: 0.25in">setSound(mix(ocean.getSound(sndBase), seagull.getSound(sndBase)));<BR>
</DIV></FONT>
<BR>
<TABLE><TR><TD WIDTH=500><FONT CLASS=desc1> The ocean module makes use of periodic and cycling sounds played by
 parametrically controlling the rate, gain, and periodicity.  By describing
 how these parameters vary in time with methods, relatively small sound
 bites can form the basis for rich dynamic sounds. The first implementation
 of the algorithmic interface defines the characteristics of the pounding
 surf.  Define the roughness (based on the wind speed), gain and rate.</FONT></TD></TR></TABLE>
<FONT CLASS=code>class surf1 extends Statics implements algoFunc  {<BR>
<DIV STYLE="margin-left: 0.125in">private NumberBvr _roughness;<BR>
public surf1(NumberBvr roughness)  {<BR>
</DIV><DIV STYLE="margin-left: 0.25in">_roughness = roughness;<BR>
</DIV><DIV STYLE="margin-left: 0.125in">}<BR>
public Behavior periodFunc()  {<BR>
</DIV><DIV STYLE="margin-left: 0.25in">return toBvr(0);<BR>
</DIV><DIV STYLE="margin-left: 0.125in">}<BR>
public Behavior gainFunc()  {<BR>
</DIV><DIV STYLE="margin-left: 0.25in">return add(toBvr(0.45),mul(toBvr(.4),_roughness));<BR>
</DIV><DIV STYLE="margin-left: 0.125in">}<BR>
public Behavior rateFunc()  {<BR>
</DIV><DIV STYLE="margin-left: 0.25in">return add(toBvr(1), sub(toBvr(.5),_roughness));<BR>
</DIV><DIV STYLE="margin-left: 0.125in">}<BR>
</DIV>}<BR>
</FONT>
<BR>
<TABLE><TR><TD WIDTH=500><FONT CLASS=desc1> After implementing all the algorithmic descriptions for the sounds,
 define the oceanSynth class.  The constructor for this class creates
 periodicSounds and cyclingSounds based on those descriptors.  For more info
 on periodSound and cyclingSound examine their Java source code in the
 Lighthouse/utility directory.</FONT></TD></TR></TABLE>
<FONT CLASS=code>public class oceanSynth extends Statics  {<BR>
<DIV STYLE="margin-left: 0.25in"><BR>
</DIV><DIV STYLE="margin-left: 0.125in">public oceanSynth(NumberBvr roughness)  {<BR>
</DIV><DIV STYLE="margin-left: 0.25in">_wave1 = new periodicSound(new wave1(roughness));<BR>
</DIV><DIV STYLE="margin-left: 0.5in">_wave2 = new periodicSound(new wave2(roughness));<BR>
_surf1 = new cyclingSound(new surf1(roughness));<BR>
_surf2 = new cyclingSound(new surf2(roughness));<BR>
</DIV><DIV STYLE="margin-left: 0.25in">}<BR>
</DIV></FONT>
<BR>
<TABLE><TR><TD WIDTH=500><FONT CLASS=desc1> Now put the sound together.  First import the surf and wave components
 (30K and 60K) each.  Then query the sound method for each algoSound,
 passing it the actual wav files to use.  This will return sound behaviors
 that can be mixed together to give the final sounds.</FONT></TD></TR></TABLE>
<FONT CLASS=code><DIV STYLE="margin-left: 0.125in">public SoundBvr getSound(URL importBase)  {<BR>
</DIV><DIV STYLE="margin-left: 0.25in">SoundBvr wave = importSound(buildURL(importBase, "wave.mp2"),null);<BR>
</DIV><BR>
<DIV STYLE="margin-left: 0.25in">SoundBvr surf = importSound(buildURL(importBase, "surf.mp2"),null);<BR>
</DIV><BR>
<DIV STYLE="margin-left: 0.25in">return mix(_wave1.Sound(wave), mix(_wave2.Sound(wave),<BR>
</DIV><DIV STYLE="margin-left: 0.375in">mix(_surf1.Sound(surf), _surf2.Sound(surf))));<BR>
</DIV><DIV STYLE="margin-left: 0.125in">}<BR>
</DIV><BR>
<BR></FONT>
<FONT CLASS=link><A CLASS=cpslug HREF="http://www.microsoft.com/misc/cpyright.htm"  TARGET="_top">&#169; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A></FONT>

<BR>
<BR>
<DIV CLASS="flush">
<TABLE WIDTH="100%" BORDER=0 BGCOLOR="#000000">
<TR ALIGN=RIGHT><TD VALIGN=TOP><FONT CLASS=desc1 SIZE=2>
<A HREF="Section4.html" TARGET="_top">
<IMG SRC="/directx/dxm/media/image/u_prev.gif"
 WIDTH=71 HEIGHT=16 BORDER=0 ALT="Previous Topic">
</A><A HREF="/directx/dxm/webcd/da/tutorial_main.htm" TARGET="_top">
<IMG SRC="/directx/dxm/media/image/d_home.gif" WIDTH=48 HEIGHT=16 BORDER=0 ALT="Tutorial Home Page"></A>
<A HREF="Section6.html" TARGET="_top">
<IMG SRC="/directx/dxm/media/image/u_next.gif" WIDTH=48 HEIGHT=16 BORDER=0 ALT="Next Topic">
</A></FONT></TD></TR><TR><TD WIDTH=30></TD></TR></TABLE></DIV>

</BODY>
</HTML>
