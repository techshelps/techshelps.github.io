<HTML>
<HEAD>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>DirectX Media SDK DirectAnimation Tutorial</TITLE>
<LINK REL=STYLESHEET HREF="/directx/dxm/webcd/da/tutorial.css">
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; CHARSET=iso8859-1">
<META NAME="MS.LOCALE" CONTENT="EN-US">
<META NAME="ROBOTS" CONTENT="noindex">
</HEAD>
<BODY BGCOLOR="WHITE" LINK="#0033CC" TOPMARGIN=0 LEFTMARGIN=20>
<!--TOOLBAR_START-->
<!--TOOLBAR_EXEMPT-->
<!--TOOLBAR_END-->

<DIV CLASS="flush">
<TABLE WIDTH="100%" BORDER=0 BGCOLOR="#000000">
<TR ALIGN=RIGHT><TD VALIGN=TOP><FONT CLASS=desc1 SIZE=2>
<A HREF="Section3.html" TARGET="_top">
<IMG SRC="/directx/dxm/media/image/u_prev.gif"
 WIDTH=71 HEIGHT=16 BORDER=0 ALT="Previous Topic">
</A><A HREF="/directx/dxm/webcd/da/tutorial_main.htm" TARGET="_top">
<IMG SRC="/directx/dxm/media/image/d_home.gif" WIDTH=48 HEIGHT=16 BORDER=0 ALT="Tutorial Home Page"></A>
<A HREF="Section5.html" TARGET="_top">
<IMG SRC="/directx/dxm/media/image/u_next.gif" WIDTH=48 HEIGHT=16 BORDER=0 ALT="Next Topic">
</A></FONT></TD><TD WIDTH=30></TD></TR></TABLE></DIV>
<FONT CLASS=title><CENTER>Importing and Defining the Media Parts</CENTER></FONT>
<BR>
<FONT CLASS=code>
<DIV STYLE="margin-left: 0.25in"></DIV>
</FONT>
<BR>
<TABLE><TR><TD WIDTH=500><FONT CLASS=desc1> Build URL bases for importing images, geometries, and sounds.</FONT></TD></TR></TABLE>
<FONT CLASS=code><DIV STYLE="margin-left: 0.25in">URL mediaBase = getImportBase();<BR>
URL imgBase = buildURL(mediaBase,"image/");<BR>
URL geoBase = buildURL(mediaBase,"geometry/");<BR>
URL sndBase = buildURL(mediaBase,"sound/");<BR>
</DIV></FONT>
<BR>
<TABLE><TR><TD WIDTH=500><FONT CLASS=desc1> Load the sound files that will be used for sound effects</FONT></TD></TR></TABLE>
<FONT CLASS=code><DIV STYLE="margin-left: 0.25in">startSnd = importSound(buildURL(sndBase,"inflate.mp2"), startLen);<BR>
flipSnd = importSound(buildURL(sndBase,"clock1.mp2"), null);<BR>
endSnd = importSound(buildURL(sndBase,"deflate.mp2"), null);<BR>
</DIV></FONT>
<BR>
<TABLE><TR><TD WIDTH=500><FONT CLASS=desc1> This image will be tiled into the paper texture.</FONT></TD></TR></TABLE>
<FONT CLASS=code><DIV STYLE="margin-left: 0.25in">paperTex = importImage(buildURL(imgBase,"sandbg1.jpg"));<BR>
</DIV></FONT>
<BR>
<TABLE><TR><TD WIDTH=500><FONT CLASS=desc1> Synthetically construct the front and back cover pages of the Album.</FONT></TD></TR></TABLE>
<FONT CLASS=code><DIV STYLE="margin-left: 0.25in">ColorBvr labelColor = red;<BR>
ImageBvr front1 = renderStr(toBvr("Outdoors"), labelColor, toBvr(0), toBvr(0.003));<BR>
ImageBvr front2 = renderStr(toBvr("Album"), labelColor, toBvr(0), toBvr(-0.003));<BR>
ImageBvr front = overlay(front1, front2);<BR>
ImageBvr back = renderStr(toBvr("The End"), labelColor, toBvr(0), toBvr(0));<BR>
</DIV></FONT>
<BR>
<TABLE><TR><TD WIDTH=500><FONT CLASS=desc1> Import a list of images, some of these could have been .gif images.
 We add the front and back covers appropriately,
 and we add empty images to pair with them.</FONT></TD></TR></TABLE>
<FONT CLASS=code><DIV STYLE="margin-left: 0.25in">ImageBvr pics[] = {emptyImage, front,<BR>
</DIV><DIV STYLE="margin-left: 1.375in">importImage(buildURL(imgBase,"phantom.jpg")),<BR>
importImage(buildURL(imgBase,"hiddenBeachSS.jpg")),<BR>
importImage(buildURL(imgBase,"hiddenBeachSG.jpg")),<BR>
importImage(buildURL(imgBase,"jotunheimen1.jpg")),<BR>
importImage(buildURL(imgBase,"redWoodCar.jpg")),<BR>
importImage(buildURL(imgBase,"wenatcheeCascades.jpg")),<BR>
importImage(buildURL(imgBase,"tulipsHol1.jpg")),<BR>
importImage(buildURL(imgBase,"tulipsHol2.jpg")),<BR>
importImage(buildURL(imgBase,"yosemiteCreek.jpg")),<BR>
importImage(buildURL(imgBase,"kidsUtah.jpg")),<BR>
importImage(buildURL(imgBase,"foliageUtah.jpg")),<BR>
back, emptyImage};<BR>
</DIV></FONT>
<BR>
<TABLE><TR><TD WIDTH=500><FONT CLASS=desc1> Ditto for corresponding labels. No labels for cover pages nor for empty ones.</FONT></TD></TR></TABLE>
<FONT CLASS=code><DIV STYLE="margin-left: 0.25in">StringBvr lbls[] = {toBvr(""), toBvr(""),<BR>
</DIV><DIV STYLE="margin-left: 1.5in">toBvr("Crater Lk., Oregon"),<BR>
toBvr("Klamath, California"),<BR>
toBvr("Klamath, California"),<BR>
toBvr("Jotenheimen, Norway"),<BR>
toBvr("Redwoods N.P., California"),<BR>
toBvr("Cascades, Washington"),<BR>
toBvr("Tulip Garden, Holland"),<BR>
toBvr("Tulip Garden, Holland"),<BR>
toBvr("Yosemite, California"),<BR>
toBvr("Centerville, Utah"),<BR>
toBvr("Bountiful, Utah"),<BR>
toBvr(""), toBvr("")};<BR>
</DIV><DIV STYLE="margin-left: 0.25in">ArrayBvr labels = new ArrayBvr(lbls);<BR>
</DIV><BR>
<DIV STYLE="margin-left: 0.25in">numPics = lbls.length - 2;   </DIV></FONT><FONT CLASS=desc2> don't count the emptyImages</FONT><FONT CLASS=code><BR>
</FONT>
<BR>
<TABLE><TR><TD WIDTH=500><FONT CLASS=desc1> a [-1, 1] square in X and Y with [0, 1] texture coordinates for
 both faces.</FONT></TD></TR></TABLE>
<FONT CLASS=code><DIV STYLE="margin-left: 0.25in">GeometryBvr square = importGeometry(buildURL(geoBase,"square.x"));<BR>
</DIV></FONT>
<BR>
<TABLE><TR><TD WIDTH=500><FONT CLASS=desc1> frame is a [0, 2]x[-1, 1] square, on right hand side of Y axis</FONT></TD></TR></TABLE>
<FONT CLASS=code><DIV STYLE="margin-left: 0.25in">GeometryBvr frame = square.transform(translate(1,0,0));<BR>
</DIV><DIV STYLE="margin-left: 0.125in"></DIV>
</FONT>
<BR>
<TABLE><TR><TD WIDTH=500><FONT CLASS=desc1> creates an array for the pages that are counter part to the pictures.</FONT></TD></TR></TABLE>
<FONT CLASS=code><DIV STYLE="margin-left: 0.25in">GeometryBvr frames[] = new GeometryBvr[numPics + 2];<BR>
</DIV></FONT>
<BR>
<TABLE><TR><TD WIDTH=500><FONT CLASS=desc1> first and last correspond to the empty pictures</FONT></TD></TR></TABLE>
<FONT CLASS=code><DIV STYLE="margin-left: 0.25in">frames[0] = emptyGeometry;<BR>
frames[numPics + 1] = emptyGeometry;</DIV>
</FONT>
<BR>
<TABLE><TR><TD WIDTH=500><FONT CLASS=desc1> the rest correspond to the pictures</FONT></TD></TR></TABLE>
<FONT CLASS=code><DIV STYLE="margin-left: 0.25in">for (int i=1; i&lt;=numPics; i++)<BR>
</DIV><DIV STYLE="margin-left: 0.375in">frames[i] = frame.texture(normalPic(pics[i]));</DIV>
</FONT>
<BR>
<TABLE><TR><TD WIDTH=500><FONT CLASS=desc1> Construct a Behavior Array of the pages, so we can use NumberBvr indices</FONT></TD></TR></TABLE>
<FONT CLASS=code><DIV STYLE="margin-left: 0.25in">picFrames = new ArrayBvr(frames);<BR>
</DIV></FONT>
<BR>
<TABLE><TR><TD WIDTH=500><FONT CLASS=desc1> demarcates the line around which pages pivot</FONT></TD></TR></TABLE>
<FONT CLASS=code><DIV STYLE="margin-left: 0.25in">NumberBvr lineThickness = toBvr(6 * mm);      </DIV></FONT><FONT CLASS=desc2> 3% of page size</FONT><FONT CLASS=code>
</FONT>
<BR>
<TABLE><TR><TD WIDTH=500><FONT CLASS=desc1> Make the square very thin in the X direction.
 We use a square to represent the line in 3D space.</FONT></TD></TR></TABLE>
<FONT CLASS=code><DIV STYLE="margin-left: 0.25in">GeometryBvr pivotLine = square.diffuseColor(red).<BR>
</DIV><DIV STYLE="margin-left: 1.875in">transform(scale(lineThickness, toBvr(1), toBvr(1)));<BR>
</DIV><BR>
</FONT><FONT CLASS=link><A CLASS=cpslug HREF="http://www.microsoft.com/misc/cpyright.htm"  TARGET="_top">&#169; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A></FONT>
<BR>
<BR>
<DIV CLASS="flush">
<TABLE WIDTH="100%" BORDER=0 BGCOLOR="#000000">
<TR ALIGN=RIGHT><TD VALIGN=TOP><FONT CLASS=desc1 SIZE=2>
<A HREF="Section3.html" TARGET="_top">
<IMG SRC="/directx/dxm/media/image/u_prev.gif"
 WIDTH=71 HEIGHT=16 BORDER=0 ALT="Previous Topic">
</A><A HREF="/directx/dxm/webcd/da/tutorial_main.htm" TARGET="_top">
<IMG SRC="/directx/dxm/media/image/d_home.gif" WIDTH=48 HEIGHT=16 BORDER=0 ALT="Tutorial Home Page"></A>
<A HREF="Section5.html" TARGET="_top">
<IMG SRC="/directx/dxm/media/image/u_next.gif" WIDTH=48 HEIGHT=16 BORDER=0 ALT="Next Topic">
</A></FONT></TD></TR><TR><TD WIDTH=30></TD></TR></TABLE></DIV>
</BODY>
</HTML>
