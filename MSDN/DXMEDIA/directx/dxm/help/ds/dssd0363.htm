<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Source Filters</TITLE>
<STYLE>
<!--
.tctop {color: blue}
.cpslug {color: blue; text-decoration: none}
-->
</STYLE>
<META NAME="MS-HKWD" CONTENT="Source Filters">
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; CHARSET=iso8859-1">
<META NAME="MS.LOCALE" CONTENT="EN-US">
<META NAME="ROBOTS" CONTENT="all">
</HEAD>
<BODY TOPMARGIN=0 LEFTMARGIN=0 BGPROPERTIES="FIXED" BGCOLOR="#FFFFFF" LINK="#000000" VLINK="#808080" ALINK="#000000">
<A NAME="pagetop"></A><A NAME="SourceFilters"></A>

<OBJECT ID="DAControl" 
  STYLE="position:absolute; left:0; top:11;width:702;height:90"
  CLASSID="CLSID:B6FFC24C-7E13-11D0-9B47-00C04FC2F51D">
</OBJECT>
<!--STYLE="width:702;height:110"-->
<SCRIPT LANGUAGE="JScript">
<!--
  // The DirectAnimation library
  m = DAControl.PixelLibrary;

  /* -- Insert your code here --*/ 

  mediaBase = "art\\";
  glowBase = m.importImage(mediaBase + "glow.gif");
  xImage = m.importImage(mediaBase + "newtransx.gif");
  xImage = xImage.Transform(m.Translate2(-303,0));
  //header1 = m.importImage(mediaBase + "header1.gif");
  //header1 = header1.Transform(m.Translate2(-301,0));

  //header2 = m.importImage(mediaBase + "hdrd3drm.gif");
  //header2 = header2.Transform(m.Translate2(-143,0));

  //header3 = m.importImage(mediaBase + "header3.gif");
  //header3 = header3.Transform(m.Translate2(157,-18));

  //background = m.Overlay(header1, m.Overlay( header2, header3));

  glowPath1 = m.Polyline( new Array( 295,26, 305,26, 305,50, 310,57, 519,57, 
    536,40, 536,17, 675,17, 675,23 ) );

  glowPath2 = m.PolyLine( new Array( 44,41, 44,25, 52,16, 84,16, 106,16 ) );

  glowPath3 = m.PolyLine( new Array( 57,55, 69,55, 78,65, 92,65, 99,58,
    99,82, 95,85, 95,93, 132,93, 132,78,
    303,78, 315,66, 549,66, 549,17, 675,17,
    675,23 ) );

  glowPath4 = m.PolyLine( new Array( 29,55, 19,55, 19,31, 38,30, 38,21,
    46,16, 106,16 ) );

  glowPath5 = m.PolyLine( new Array( 45,62, 45,81, 37,81, 41,85, 46,85,   
  51,91, 68,91, 66,81, 90,81, 90,65, 94,65, 105,47 ) );

  glow1 = glowBase.Transform( moveGlow( glowPath1, 5 ) );
  glow2 = glowBase.Transform( moveGlow( glowPath2, 2 ) );
  glow3 = glowBase.Transform( moveGlow( glowPath3, 8 ) );
  glow4 = glowBase.Transform( moveGlow( glowPath4, 2.5 ) );
  glow5 = glowBase.Transform( moveGlow( glowPath5, 2 ) );

  finalImg = m.Overlay(xImage, m.Overlay( glow5, m.Overlay( glow4, 
    m.Overlay( glow3, m.Overlay( glow2, glow1)))));


  // set the model, an image, as the model to be displayed
  DAControl.Image = finalImg;//m.Overlay(finalImg, background);
  // set the background in case of a non-windowless browser (like IE3)
  DAControl.BackgroundImage = m.SolidColorImage(m.Blue);     
     
  // start the animation       
  DAControl.Start()


  function moveGlow(path, speed)  {
    imDimX = 702;
    imDimY = 120;

    coordsXf = m.Translate2(-imDimX/2, -imDimY/2);
    path = path.Transform(coordsXf);
    return xf = m.FollowPath(path, speed).Repeat(1);
  }

//-->
</SCRIPT>
<TABLE BORDER=0 CELLSPACING="0" CELLPADDING="0" WIDTH="*">
<TR>
<TD ROWSPAN="3" VALIGN="TOP" WIDTH="*">
<IMG SRC="/directx/dxm/help/ds/art/header1.gif" WIDTH="107" HEIGHT="110" BORDER=0 ALT="DirectShow Animated Header -- Source Filters"></TD>
<TD ROWSPAN="2" VALIGN="TOP" WIDTH="217"><IMG SRC="/directx/dxm/help/ds/art/hdrdshow.gif" WIDTH="210" HEIGHT="110" BORDER=0 ALT="DirectShow Animated Header -- Source Filters"></TD><TD VALIGN="TOP" WIDTH="383"><IMG SRC="/directx/dxm/help/ds/art/header3.gif" WIDTH="383" HEIGHT="95" BORDER=0 ALT="*">
</TD>
<TD VALIGN="TOP" WIDTH="100%">
<IMG SRC="/directx/dxm/help/d3drm/art/spacer1.gif" WIDTH="100%" HEIGHT="94" BORDER=0 ALT="Microsoft DirectShow SDK">
</TD>
</TR><TR><TD VALIGN="TOP"><PRE><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="1"><IMG SRC="/directx/dxm/help/ds/art/yelbtn.gif" WIDTH="11" HEIGHT="11" ALIGN="MIDDLE" BORDER=0 ALT="*"><A STYLE="color:black;font-weight:bold" HREF="/directx/dxm/help/ds/index.htm">Index</A>  <IMG SRC="/directx/dxm/help/ds/art/yelbtn.gif" WIDTH="11" HEIGHT="11" ALIGN="MIDDLE" BORDER=0 ALT="*"><A STYLE="color:black;font-weight:bold" HREF="/directx/dxm/help/ds/dssd0309.htm">Topic Contents</A>
</FONT></PRE></TD></TR>
<TR><TD COLSPAN="2" VALIGN="TOP"><PRE><FONT FACE="Verdana,Arial,Helvetica" SIZE="1"><IMG SRC="/directx/dxm/help/ds/art/yelbtn.gif" WIDTH="11" HEIGHT="11" ALIGN="MIDDLE" BORDER=0 ALT="*"><B>Previous Topic:</B> <A STYLE="color:black" HREF="/directx/dxm/help/ds/dssd0362.htm">Structure of Comments in Sample Source Code</A>
<IMG SRC="/directx/dxm/help/ds/art/yelbtn.gif" WIDTH="11" HEIGHT="11" ALIGN="MIDDLE" BORDER=0 ALT="*"><B>Next Topic:</B> <A  STYLE="color:black" HREF="/directx/dxm/help/ds/dssd0364.htm">Transform Filters</A>
</FONT></PRE></TD></TR></TABLE><BR CLEAR=ALL>
<FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2"><BLOCKQUOTE STYLE="margin:15pt">
<H2>Source Filters</H2>
<BR CLEAR=ALL>
<P>This article details sample source filters. By definition, each of these source filter samples provides at least one output pin. (That is part of what makes them source filters as opposed to other kinds of filters.)

<P><B>Contents of this article:</B>
<UL><LI><A CLASS=TCTOP HREF="/directx/dxm/help/ds/dssd0363.htm#AsyncSample">Async Sample (Asynchronous Reader Filter)</A>
<LI><A CLASS=TCTOP HREF="/directx/dxm/help/ds/dssd0363.htm#BouncingBall">Ball Sample (Bouncing Ball Filter)</A>
<LI><A CLASS=TCTOP HREF="/directx/dxm/help/ds/dssd0363.htm#SampleSynth">Synth Sample (Audio Synthesizer Filter)</A>
<LI><A CLASS=TCTOP HREF="/directx/dxm/help/ds/dssd0363.htm#VidCap">VidCap Sample (Video Capture Filter)</A>
</UL>
<A NAME="AsyncSample"></A><P><B>Async Sample (Asynchronous Reader Filter)</B>
<P>The asynchronous reader sample filter, Async, shows how to implement "progressive download" in the DirectShow environment. Async implements the <A HREF="/directx/dxm/help/ds/dssd0119.htm">IAsyncReader</A> interface, which is perhaps the most important aspect of asynchronous processing. It also implements the <A HREF="/directx/dxm/help/ds/dssd0144.htm">IFileSourceFilter</A> interface and defines some helper classes to create filters that conform to the <B>IAsyncReader</B> interface.

<P>The Memfile.exe application uses part of the Async sample code. This program reads a file into memory at a given rate (in kilobytes per second) and plays that file as it comes in.

<P>This filter is not installed in the DirectShow run time and is not included in the list of DirectShow filters in the Filter Graph Editor. To use this filter, you must build and register it.

<P><A CLASS=TCTOP HREF="/directx/dxm/help/ds/dssd0361.htm#sample_locations">Sample Locations</A>



<A NAME="BouncingBall"></A><P><B>Ball Sample (Bouncing Ball Filter)</B>
<P>The bouncing ball sample source filter, Ball, illustrates format negotiation. Ball also illustrates the use of the source filter base classes <A HREF="/directx/dxm/help/ds/dssd0252.htm">CSource</A> and <A HREF="/directx/dxm/help/ds/dssd0255.htm">CSourceStream</A>.

<P>The code in Fball.h and Fball.cpp manages the filter interfaces. Those two files contain approximately the minimum code required for a source filter. The Ball.h and Ball.cpp files contain the code that bounces the ball. 

<P>This filter has a single output pin, which provides a video stream that shows a ball bouncing around in the frame. The Ball filter also accepts quality-management requests from the downstream graph, which illustrates a simple quality-management strategy. This filter implements the <A HREF="/directx/dxm/help/ds/dssd0172.htm">IQualityControl</A> interface for that purpose.

<P>This filter is installed with the DirectShow run time and is available through the Filter Graph Editor when you choose <B>Insert Filters</B> from the <B>Graph</B> menu, and select the DirectShow Filters category.
 
<P><A CLASS=TCTOP HREF="/directx/dxm/help/ds/dssd0361.htm#sample_locations">Sample Locations</A>


<A NAME="SampleSynth"></A><P><B>Synth Sample (Audio Synthesizer Filter)</B>
<P>The audio synthesizer sample filter, Synth, demonstrates usage of the <A HREF="/directx/dxm/help/ds/dssd0252.htm">CSource</A> and <A HREF="/directx/dxm/help/ds/dssd0255.htm">CSourceStream</A> classes in an environment that derives its source from audio. You can use the Synth filter as a source filter to synthesize audio waveforms such as sine waveforms, square waveforms, sawtooth waveforms, and swept frequency waveforms.

<P>The Synth source filter enables the user to set the waveform, frequency, number of channels, and other properties. The user can set these properties through the property page.


 To set either the upper or lower endpoint of the swept frequency range, hold down <SMALL>SHIFT</SMALL> while adjusting the frequency slider. The property page enables only the controls that affect the audio format &#151; for example, channels, bits per sample, and sampling frequency &#151; while the filter is in a stopped state.

<P>This filter is installed with the DirectShow run time and is available through the Filter Graph Editor when you choose <B>Insert Filters</B> from the <B>Graph</B> menu, and select the DirectShow Filters category. 
 
<P><A CLASS=TCTOP HREF="/directx/dxm/help/ds/dssd0361.htm#sample_locations">Sample Locations</A>



<A NAME="VidCap"></A><P><B>VidCap Sample (Video Capture Filter)</B>
<P>The VidCap sample video capture filter shows you how to handle special category filters, how to implement the COM interfaces for video capture, and how to implement miscellaneous other requirements for video capture.

<P>The VidCap sample filter is not installed with the DirectShow run time. You must install it by calling Regsvr32.exe for VidCap.ax. The sample video capture filter is not part of the run time, but is part of the SDK.
 
<P>A <A CLASS=TCTOP HREF="/directx/dxm/help/ds/dssd0356.htm">video capture filter</A> with the same capability as VidCap is installed with the DirectShow run time and can be seen in the Filter Graph Editor when you choose <B>Insert Filters</B> from the <B>Graph</B> menu, under the Video Capture Sources category. The VidCap sample is included so that you can view the source code for a video capture filter and see how to write capture filters.

<P>Unlike ordinary DirectShow filters, special category filters, such as Video Capture Source filters, can work with more than one device. 



<P><A CLASS=TCTOP HREF="/directx/dxm/help/ds/dssd0361.htm#sample_locations">Sample Locations</A>



<P><P><FONT FACE="MS SANS SERIF" SIZE="1" COLOR="BLACK">
<A CLASS=cpslug HREF="../cpyright.htm" TARGET="_top">&#169; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A>
</FONT>
<BR CLEAR=ALL><P>
<FONT FACE="Verdana,Arial,Helvetica" SIZE="1"><A HREF="#pagetop"><IMG SRC="/directx/dxm/help/ds/art/yelbtn.gif" WIDTH="11" HEIGHT="11" ALIGN="MIDDLE" BORDER=0 ALT="*">Top of Page</A></FONT>
</BLOCKQUOTE><P>
</FONT><P>
</BODY></HTML>
