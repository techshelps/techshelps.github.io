<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>CMediaSample Class</TITLE>
<STYLE>
<!--
.tctop {color: blue}
.cpslug {color: blue; text-decoration: none}
-->
</STYLE>
<META NAME="MS-HKWD" CONTENT="CMediaSample Class">
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; CHARSET=iso8859-1">
<META NAME="MS.LOCALE" CONTENT="EN-US">
<META NAME="ROBOTS" CONTENT="all">
</HEAD>
<BODY TOPMARGIN=0 LEFTMARGIN=0 BGPROPERTIES="FIXED" BGCOLOR="#FFFFFF" LINK="#000000" VLINK="#808080" ALINK="#000000">
<A NAME="pagetop"></A><A NAME="CMediaSample"></A>

<OBJECT ID="DAControl" 
  STYLE="position:absolute; left:0; top:11;width:702;height:90"
  CLASSID="CLSID:B6FFC24C-7E13-11D0-9B47-00C04FC2F51D">
</OBJECT>
<!--STYLE="width:702;height:110"-->
<SCRIPT LANGUAGE="JScript">
<!--
  // The DirectAnimation library
  m = DAControl.PixelLibrary;

  /* -- Insert your code here --*/ 

  mediaBase = "art\\";
  glowBase = m.importImage(mediaBase + "glow.gif");
  xImage = m.importImage(mediaBase + "newtransx.gif");
  xImage = xImage.Transform(m.Translate2(-303,0));
  //header1 = m.importImage(mediaBase + "header1.gif");
  //header1 = header1.Transform(m.Translate2(-301,0));

  //header2 = m.importImage(mediaBase + "hdrd3drm.gif");
  //header2 = header2.Transform(m.Translate2(-143,0));

  //header3 = m.importImage(mediaBase + "header3.gif");
  //header3 = header3.Transform(m.Translate2(157,-18));

  //background = m.Overlay(header1, m.Overlay( header2, header3));

  glowPath1 = m.Polyline( new Array( 295,26, 305,26, 305,50, 310,57, 519,57, 
    536,40, 536,17, 675,17, 675,23 ) );

  glowPath2 = m.PolyLine( new Array( 44,41, 44,25, 52,16, 84,16, 106,16 ) );

  glowPath3 = m.PolyLine( new Array( 57,55, 69,55, 78,65, 92,65, 99,58,
    99,82, 95,85, 95,93, 132,93, 132,78,
    303,78, 315,66, 549,66, 549,17, 675,17,
    675,23 ) );

  glowPath4 = m.PolyLine( new Array( 29,55, 19,55, 19,31, 38,30, 38,21,
    46,16, 106,16 ) );

  glowPath5 = m.PolyLine( new Array( 45,62, 45,81, 37,81, 41,85, 46,85,   
  51,91, 68,91, 66,81, 90,81, 90,65, 94,65, 105,47 ) );

  glow1 = glowBase.Transform( moveGlow( glowPath1, 5 ) );
  glow2 = glowBase.Transform( moveGlow( glowPath2, 2 ) );
  glow3 = glowBase.Transform( moveGlow( glowPath3, 8 ) );
  glow4 = glowBase.Transform( moveGlow( glowPath4, 2.5 ) );
  glow5 = glowBase.Transform( moveGlow( glowPath5, 2 ) );

  finalImg = m.Overlay(xImage, m.Overlay( glow5, m.Overlay( glow4, 
    m.Overlay( glow3, m.Overlay( glow2, glow1)))));


  // set the model, an image, as the model to be displayed
  DAControl.Image = finalImg;//m.Overlay(finalImg, background);
  // set the background in case of a non-windowless browser (like IE3)
  DAControl.BackgroundImage = m.SolidColorImage(m.Blue);     
     
  // start the animation       
  DAControl.Start()


  function moveGlow(path, speed)  {
    imDimX = 702;
    imDimY = 120;

    coordsXf = m.Translate2(-imDimX/2, -imDimY/2);
    path = path.Transform(coordsXf);
    return xf = m.FollowPath(path, speed).Repeat(1);
  }

//-->
</SCRIPT>
<TABLE BORDER=0 CELLSPACING="0" CELLPADDING="0" WIDTH="*">
<TR>
<TD ROWSPAN="3" VALIGN="TOP" WIDTH="*">
<IMG SRC="/directx/dxm/help/ds/art/header1.gif" WIDTH="107" HEIGHT="110" BORDER=0 ALT="DirectShow Animated Header -- CMediaSample Class"></TD>
<TD ROWSPAN="2" VALIGN="TOP" WIDTH="217"><IMG SRC="/directx/dxm/help/ds/art/hdrdshow.gif" WIDTH="210" HEIGHT="110" BORDER=0 ALT="DirectShow Animated Header -- CMediaSample Class"></TD><TD VALIGN="TOP" WIDTH="383"><IMG SRC="/directx/dxm/help/ds/art/header3.gif" WIDTH="383" HEIGHT="95" BORDER=0 ALT="*">
</TD>
<TD VALIGN="TOP" WIDTH="100%">
<IMG SRC="/directx/dxm/help/d3drm/art/spacer1.gif" WIDTH="100%" HEIGHT="94" BORDER=0 ALT="Microsoft DirectShow SDK">
</TD>
</TR><TR><TD VALIGN="TOP"><PRE><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="1"><IMG SRC="/directx/dxm/help/ds/art/yelbtn.gif" WIDTH="11" HEIGHT="11" ALIGN="MIDDLE" BORDER=0 ALT="*"><A STYLE="color:black;font-weight:bold" HREF="/directx/dxm/help/ds/index.htm">Index</A>  <IMG SRC="/directx/dxm/help/ds/art/yelbtn.gif" WIDTH="11" HEIGHT="11" ALIGN="MIDDLE" BORDER=0 ALT="*"><A STYLE="color:black;font-weight:bold" HREF="/directx/dxm/help/ds/dssd0188.htm">Topic Contents</A>
</FONT></PRE></TD></TR>
<TR><TD COLSPAN="2" VALIGN="TOP"><PRE><FONT FACE="Verdana,Arial,Helvetica" SIZE="1"><IMG SRC="/directx/dxm/help/ds/art/yelbtn.gif" WIDTH="11" HEIGHT="11" ALIGN="MIDDLE" BORDER=0 ALT="*"><B>Previous Topic:</B> <A STYLE="color:black" HREF="/directx/dxm/help/ds/dssd0236.htm">CMediaPosition Class</A>
<IMG SRC="/directx/dxm/help/ds/art/yelbtn.gif" WIDTH="11" HEIGHT="11" ALIGN="MIDDLE" BORDER=0 ALT="*"><B>Next Topic:</B> <A  STYLE="color:black" HREF="/directx/dxm/help/ds/dssd0238.htm">CMediaType Class</A>
</FONT></PRE></TD></TR></TABLE><BR CLEAR=ALL>
<FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2"><BLOCKQUOTE STYLE="margin:15pt">
<H2>CMediaSample Class</H2>
<BR CLEAR=ALL>
<P><IMG SRC="/directx/dxm/help/ds/art/filter08.gif" WIDTH="195" HEIGHT="52" ALT="CMediaSample class hierarchy">

<P>This class represents a buffer object that supports the <A HREF="/directx/dxm/help/ds/dssd0161.htm">IMediaSample</A> interface. It represents a buffer in memory, together with some associated properties stored as protected data members.

<P>The constructor is passed as a pointer to the buffer with its length in bytes; other properties are
normally set and accessed through implemented <A HREF="/directx/dxm/help/ds/dssd0161.htm">IMediaSample</A> interface methods. These
properties describe various attributes of the media sample, such as the sample's media type, 
start and end time, and options. The options can include whether the media sample is a sync point, 
a preroll sample, or discontinuous with other samples.

<P>All member functions in this class that return <A HREF="/directx/dxm/help/ds/dssd0308.htm#HRESULT">HRESULT</A> and accept a pointer as a 
parameter return E_POINTER when passed a null pointer. 


<A NAME="Protected_Data_Membe"></A><P><B>Protected Data Members</B>
<TABLE BORDER=0>
<TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2"><B>Name </B></FONT></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2"><B>Description
</B></FONT></TD></TR><TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2"><B><A NAME="CMediaSample::m_cbBuffer">m_cbBuffer</A></B> </FONT></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">Size of the buffer.
</FONT></TD></TR><TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2"><B><A NAME="CMediaSample::m_dwFlags">m_dwFlags</A></B>
 </FONT></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">Sample property flags as follows:
 </FONT></TD></TR><TR><TD></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">Sample_Discontinuity: Set if start of a new segment. 
 </FONT></TD></TR><TR><TD></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">Sample_MediaTimeValid: Set if the media time is valid.
 </FONT></TD></TR><TR><TD></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">Sample_Preroll: Set if sample is a preroll sample.
 </FONT></TD></TR><TR><TD></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">Sample_StopValid: Set if the stop time is valid.
 </FONT></TD></TR><TR><TD></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">Sample_SyncPoint: Set if sample is a synchronization point.
 </FONT></TD></TR><TR><TD></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">Sample_TimeValid: Set if the time is valid.
 </FONT></TD></TR><TR><TD></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">Sample_TypeChanged: Set if the type has changed.
</FONT></TD></TR><TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2"><B><A NAME="CMediaSample::m_End">m_End</A></B> </FONT></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">Sample end time.
</FONT></TD></TR><TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2"><B><A NAME="CMediaSample::m_lActual">m_lActual</A></B>
 </FONT></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">Actual length of data in this sample.
</FONT></TD></TR><TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2"><B><A NAME="CMediaSample::m_MediaEnd">m_MediaEnd</A></B> </FONT></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">Media end (offset from <A HREF="/directx/dxm/help/ds/dssd0237.htm#CMediaSample::m_MediaStart">m_MediaStart</A>).
</FONT></TD></TR><TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2"><B><A NAME="CMediaSample::m_MediaStart">m_MediaStart</A></B> </FONT></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">Media start position.
</FONT></TD></TR><TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2"><B><A NAME="CMediaSample::m_pAllocator">m_pAllocator</A></B>
 </FONT></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">Pointer to the <A HREF="/directx/dxm/help/ds/dssd0165.htm">IMemAllocator</A> object associated with this object.
</FONT></TD></TR><TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2"><B><A NAME="CMediaSample::m_pBuffer">m_pBuffer</A></B> </FONT></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">Pointer to the complete buffer.
</FONT></TD></TR><TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2"><B><A NAME="CMediaSample::m_pMediaType">m_pMediaType</A></B>
 </FONT></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">Pointer to a structure containing the media type of the sample.
</FONT></TD></TR><TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2"><B><A NAME="CMediaSample::m_pNext">m_pNext</A></B>
 </FONT></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">Pointer to the next <A HREF="/directx/dxm/help/ds/dssd0237.htm">CMediaSample</A> object in the free list.
</FONT></TD></TR><TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2"><B><A NAME="CMediaSample::m_Start">m_Start</A></B> </FONT></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">Sample start time.
</FONT></TD></TR></TABLE>
<A NAME="Member_Functions"></A><P><B>Member Functions</B>
<TABLE BORDER=0>
<TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2"><B>Name </B></FONT></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2"><B>Description
</B></FONT></TD></TR><TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2"><A HREF="/directx/dxm/help/ds/dssd0237.htm#+">CMediaSample</A>
 </FONT></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">Constructs a <A HREF="/directx/dxm/help/ds/dssd0237.htm">CMediaSample</A> object.
</FONT></TD></TR><TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2"><A HREF="/directx/dxm/help/ds/dssd0237.htm#SetPointer">SetPointer</A>
 </FONT></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">Sets the buffer pointer and length.
</FONT></TD></TR></TABLE>
<A NAME="Implemented_IUnknown"></A><P><B>Implemented IUnknown Methods</B>
<TABLE BORDER=0>
<TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2"><B>Name </B></FONT></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2"><B>Description
</B></FONT></TD></TR><TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2"><A HREF="/directx/dxm/help/ds/dssd0237.htm#CMediaSample__QueryI">QueryInterface</A> 
 </FONT></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">Returns pointers to supported interfaces.
</FONT></TD></TR><TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2"><A HREF="/directx/dxm/help/ds/dssd0237.htm#CMediaSample__AddRef">AddRef</A> 
 </FONT></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">Increments the reference count.
</FONT></TD></TR><TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2"><A HREF="/directx/dxm/help/ds/dssd0237.htm#CMediaSample__Releas">Release</A> 
 </FONT></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">Decrements the reference count.
</FONT></TD></TR></TABLE>
<A NAME="Implemented_IMediaSa"></A><P><B>Implemented IMediaSample Methods</B>
<TABLE BORDER=0>
<TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2"><B>Name </B></FONT></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2"><B>Description
</B></FONT></TD></TR><TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2"><A HREF="/directx/dxm/help/ds/dssd0237.htm#GetActualDataLength">GetActualDataLength</A>
 </FONT></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">Retrieves the data length of the sample.

</FONT></TD></TR><TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2"><A HREF="/directx/dxm/help/ds/dssd0237.htm#GetMediaTime">GetMediaTime</A>
 </FONT></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">Retrieves the media time extents of the sample.

</FONT></TD></TR><TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2"><A HREF="/directx/dxm/help/ds/dssd0237.htm#GetMediaType">GetMediaType</A>
 </FONT></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">Retrieves the media type of the <A HREF="/directx/dxm/help/ds/dssd0237.htm">CMediaSample</A> object.

</FONT></TD></TR><TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2"><A HREF="/directx/dxm/help/ds/dssd0237.htm#GetPointer">GetPointer</A>
 </FONT></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">Retrieves a read/write pointer to the memory of this buffer.

</FONT></TD></TR><TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2"><A HREF="/directx/dxm/help/ds/dssd0237.htm#GetSize">GetSize</A>
 </FONT></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">Returns the size, in bytes, of the buffer data area.

</FONT></TD></TR><TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2"><A HREF="/directx/dxm/help/ds/dssd0237.htm#GetTime">GetTime</A>
 </FONT></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">Sets the media time extents for this sample.

</FONT></TD></TR><TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2"><A HREF="/directx/dxm/help/ds/dssd0237.htm#IsDiscontinuity">IsDiscontinuity</A>
 </FONT></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">Determines if there is discontinuity in the data stream.

</FONT></TD></TR><TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2"><A HREF="/directx/dxm/help/ds/dssd0237.htm#IsPreroll">IsPreroll</A>
 </FONT></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">Indicates a preroll property. If TRUE, this sample is for preroll only and should not be displayed.

</FONT></TD></TR><TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2"><A HREF="/directx/dxm/help/ds/dssd0237.htm#IsSyncPoint">IsSyncPoint</A>
 </FONT></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">Determines if the beginning of a sample is a synchronization point.

</FONT></TD></TR><TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2"><A HREF="/directx/dxm/help/ds/dssd0237.htm#SetActualDataLength">SetActualDataLength</A>
 </FONT></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">Sets the data length of the sample.

</FONT></TD></TR><TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2"><A HREF="/directx/dxm/help/ds/dssd0237.htm#SetDiscontinuity">SetDiscontinuity</A>
 </FONT></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">Sets the discontinuity property.

</FONT></TD></TR><TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2"><A HREF="/directx/dxm/help/ds/dssd0237.htm#SetMediaTime">SetMediaTime</A>
 </FONT></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">Sets the media time of the <A HREF="/directx/dxm/help/ds/dssd0237.htm">CMediaSample</A> object.

</FONT></TD></TR><TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2"><A HREF="/directx/dxm/help/ds/dssd0237.htm#SetMediaType">SetMediaType</A>
 </FONT></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">Sets the media type of the <A HREF="/directx/dxm/help/ds/dssd0237.htm">CMediaSample</A> object.

</FONT></TD></TR><TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2"><A HREF="/directx/dxm/help/ds/dssd0237.htm#SetPreroll">SetPreroll</A>
 </FONT></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">Sets preroll property. If TRUE, this sample is for preroll only and should not be displayed.

</FONT></TD></TR><TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2"><A HREF="/directx/dxm/help/ds/dssd0237.htm#SetSyncPoint">SetSyncPoint</A>
 </FONT></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">Sets sync-point property.

</FONT></TD></TR><TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2"><A HREF="/directx/dxm/help/ds/dssd0237.htm#SetTime">SetTime</A>
 </FONT></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">Sets the stream time at which this sample should start and finish.
</FONT></TD></TR></TABLE>
<A NAME="Implemented_INonDele"></A><P><B>Implemented INonDelegatingUnknown Methods</B>
<TABLE BORDER=0>
<TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2"><B>Name </B></FONT></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2"><B>Description
</B></FONT></TD></TR><TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2"><A HREF="/directx/dxm/help/ds/dssd0237.htm#NonDelegatingQueryInterface">NonDelegatingQueryInterface</A>
</FONT></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">Passes out pointers to any interfaces added to the derived filter class.
</FONT></TD></TR></TABLE>
<H3><HR COLOR="#0000FF"><A NAME="CMediaSample__AddRef">CMediaSample::AddRef</A></H3>
<A HREF="/directx/dxm/help/ds/dssd0237.htm">CMediaSample Class</A>
<P>Increments the reference count for the calling interface on an object.

<P><B>ULONG</B> <B>AddRef</B><B>(</B><B>void</B><B>)</B><B>;</B><BR><H5>Return Values</H5>
<P>Returns an integer from 1 to <I>n</I>, the value of the new reference count.


<H5>Remarks</H5>
<P>This member function implements the <A HREF="/directx/dxm/help/ds/dssd0181.htm#AddRef">IUnknown::AddRef</A> method.
<H3><HR COLOR="#0000FF"><A NAME="+">CMediaSample::CMediaSample</A></H3>
<A HREF="/directx/dxm/help/ds/dssd0237.htm">CMediaSample Class</A>
<P>Constructs a <A HREF="/directx/dxm/help/ds/dssd0237.htm">CMediaSample</A> object.

<P><B>CMediaSample</B><B>(</B><BR>&nbsp;&nbsp;<B>TCHAR</B> <I>*pName</I><B>,</B><BR>&nbsp;&nbsp;<B>CBaseAllocator</B> <I>*pAllocator</I><B>,</B><BR>&nbsp;&nbsp;<B>HRESULT</B> <I>*phr</I><B>,</B><BR>&nbsp;&nbsp;<B>LPBYTE</B> <I>pBuffer</I> <B>=</B> <B>NULL</B><B>,</B><BR>&nbsp;&nbsp;<B>LONG</B> <I>length</I> <B>=</B> <B>0</B><BR>&nbsp;&nbsp;<B>)</B><B>;</B> <BR><H5>Parameters</H5>
<DL><DT><I>pName</I>
</DT><DD>Name of the media sample.
</DD><DT><I>pAllocator</I>
</DT><DD>Pointer to the <A HREF="/directx/dxm/help/ds/dssd0197.htm">CBaseAllocator</A> object used for memory allocation.
</DD><DT><I>phr</I>
</DT><DD>Pointer to the general COM return value. Note that this value is changed only if this function fails.
</DD><DT><I>pBuffer</I>
</DT><DD>Pointer to a memory buffer (to be allocated by the <I>pAllocator</I> parameter).
</DD><DT><I>length</I>
</DT><DD>Length of the allocated memory buffer.
</DD></DL>
<H5>Return Values</H5>
<P>No return value.
<H5>Remarks</H5>
<P>The constructor creates an object with the buffer and buffer length set to that of the <A HREF="/directx/dxm/help/ds/dssd0197.htm">CBaseAllocator</A> object to which it points.
<H3><HR COLOR="#0000FF"><A NAME="GetActualDataLength">CMediaSample::GetActualDataLength</A></H3>
<A HREF="/directx/dxm/help/ds/dssd0237.htm">CMediaSample Class</A>
<P>Retrieves the data length of the sample.

<P><B>HRESULT</B> <B>GetActualDataLength</B><B>(</B><B>void</B><B>)</B><B>;</B><BR><H5>Return Values</H5>
<P>Returns the value of <A HREF="/directx/dxm/help/ds/dssd0237.htm#CMediaSample::m_lActual">m_lActual</A> by default.

<H5>Remarks</H5>
<P>This member function implements the <A HREF="/directx/dxm/help/ds/dssd0161.htm#GetActualDataLength">IMediaSample::GetActualDataLength</A> method. 
<H3><HR COLOR="#0000FF"><A NAME="GetMediaTime">CMediaSample::GetMediaTime</A></H3>
<A HREF="/directx/dxm/help/ds/dssd0237.htm">CMediaSample Class</A>
<P>Retrieves the starting and ending media time.

<P><B>HRESULT</B> <B>GetMediaTime</B><B>(</B><BR>&nbsp;&nbsp;<B>LONGLONG</B> <B>*</B> <I>pStart</I><B>,</B><BR>&nbsp;&nbsp;<B>LONGLONG</B> <B>*</B> <I>pEnd</I><BR>&nbsp;&nbsp;<B>)</B><B>;</B><BR><H5>Parameters</H5>
<DL><DT><I>pStart</I>
</DT><DD>Retrieved beginning media time.
</DD><DT><I>pEnd</I>
</DT><DD>Retrieved ending media time.
</DD></DL>
<H5>Return Values</H5>
<P>Returns an <A HREF="/directx/dxm/help/ds/dssd0308.htm#HRESULT">HRESULT</A> value.

<H5>Remarks</H5>
<P>This member function implements the <A HREF="/directx/dxm/help/ds/dssd0161.htm#GetMediaTime">IMediaSample::GetMediaTime</A> method.
It sets <I>pStart</I> to the current value of <A HREF="/directx/dxm/help/ds/dssd0237.htm#CMediaSample::m_MediaStart">m_MediaStart</A>
and <I>pEnd</I> to the sum of <B>m_MediaStart</B> and <A HREF="/directx/dxm/help/ds/dssd0237.htm#CMediaSample::m_MediaEnd">m_MediaEnd</A>. 
If the sample has not been set, this member function returns <A HREF="/directx/dxm/help/ds/dssd0308.htm#VFW_E_MEDIA_TIME_NOT">VFW_E_MEDIA_TIME_NOT_SET</A>.
<H3><HR COLOR="#0000FF"><A NAME="GetMediaType">CMediaSample::GetMediaType</A></H3>
<A HREF="/directx/dxm/help/ds/dssd0237.htm">CMediaSample Class</A>
<P>Retrieves the media type of the <A HREF="/directx/dxm/help/ds/dssd0237.htm">CMediaSample</A> object.

<P><B>HRESULT</B> <B>GetMediaType</B><B>(</B><BR>&nbsp;&nbsp;<B>AM_MEDIA_TYPE</B> <B>**</B> <I>ppMediaType</I><BR>&nbsp;&nbsp;<B>)</B><B>;</B><BR><H5>Parameters</H5>
<DL><DT><I>ppMediaType</I>
</DT><DD>Pointer to a pointer to the retrieved media type.
</DD></DL>
<H5>Return Values</H5>
<P>Returns an <A HREF="/directx/dxm/help/ds/dssd0308.htm#HRESULT">HRESULT</A> value. When a sample is received and there is no format 
change, this method returns S_FALSE.

<H5>Remarks</H5>
<P>This member function implements the <A HREF="/directx/dxm/help/ds/dssd0161.htm#GetMediaType">IMediaSample::GetMediaType</A> method.
The member function makes a copy of the <A HREF="/directx/dxm/help/ds/dssd0298.htm#AM_MEDIA_TYPE">AM_MEDIA_TYPE</A> structure and creates a task 
memory block to maintain the reference. When you are done with the media type, free the memory block 
with the <A HREF="/directx/dxm/help/ds/dssd0278.htm#+">FreeMediaType</A> utility function, and then free the 
entire media type with the Microsoft&#174; Win32&#174; <A HREF="/directx/dxm/help/ds/dssd0404.htm#CoTaskMemFree">CoTaskMemFree</A> function.
<H3><HR COLOR="#0000FF"><A NAME="GetPointer">CMediaSample::GetPointer</A></H3>
<A HREF="/directx/dxm/help/ds/dssd0237.htm">CMediaSample Class</A>
<P>Retrieves a read/write pointer to the buffer's memory.

<P><B>HRESULT</B> <B>GetPointer</B><B>(</B><BR>&nbsp;&nbsp;<B>BYTE</B> <B>**</B> <I>ppBuffer</I><BR>&nbsp;&nbsp;<B>)</B><B>;</B><BR><H5>Parameters</H5>
<DL><DT><I>ppBuffer</I>
</DT><DD>Retrieved pointer to the buffer.
</DD></DL>
<H5>Return Values</H5>
<P>Returns <A HREF="/directx/dxm/help/ds/dssd0308.htm#VFW_E_BUFFER_NOTSET">VFW_E_BUFFER_NOTSET</A> if <A HREF="/directx/dxm/help/ds/dssd0237.htm#SetPointer">CMediaSample::SetPointer</A> was not
called before calling this function, or NOERROR otherwise.

<H5>Remarks</H5>
<P>This member function implements the <A HREF="/directx/dxm/help/ds/dssd0161.htm#GetPointer">IMediaSample::GetPointer</A> method.
<B>GetPointer</B> returns the value of <A HREF="/directx/dxm/help/ds/dssd0237.htm#CMediaSample::m_pBuffer">m_pBuffer</A>, set using <A HREF="/directx/dxm/help/ds/dssd0237.htm#SetPointer">CMediaSample::SetPointer</A>. 
<H3><HR COLOR="#0000FF"><A NAME="GetSize">CMediaSample::GetSize</A></H3>
<A HREF="/directx/dxm/help/ds/dssd0237.htm">CMediaSample Class</A>
<P>Retrieves the size, in bytes, of the buffer data area.

<P><B>HRESULT</B> <B>GetSize</B><B>(</B><B>void</B><B>)</B><B>;</B><BR><H5>Return Values</H5>
<P>Returns the value of <A HREF="/directx/dxm/help/ds/dssd0237.htm#CMediaSample::m_cbBuffer">m_cbBuffer</A> by default.

<H5>Remarks</H5>
<P>This member function implements the <A HREF="/directx/dxm/help/ds/dssd0161.htm#GetSize">IMediaSample::GetSize</A> method.
<H3><HR COLOR="#0000FF"><A NAME="GetTime">CMediaSample::GetTime</A></H3>
<A HREF="/directx/dxm/help/ds/dssd0237.htm">CMediaSample Class</A>
<P>Retrieves the stream time at which this sample should begin and finish.

<P><B>HRESULT</B> <B>GetTime</B><B>(</B><BR>&nbsp;&nbsp;<B>REFERENCE_TIME</B> <B>*</B> <I>pTimeStart</I><B>,</B><BR>&nbsp;&nbsp;<B>REFERENCE_TIME</B> <B>*</B> <I>pTimeEnd</I><BR>&nbsp;&nbsp;<B>)</B><B>;</B><BR><H5>Parameters</H5>
<DL><DT><I>pTimeStart</I>
</DT><DD>Retrieved beginning stream time.
</DD><DT><I>pTimeEnd</I>
</DT><DD>Retrieved ending stream time.
</DD></DL>
<H5>Return Values</H5>
<P>Returns <A HREF="/directx/dxm/help/ds/dssd0308.htm#VFW_E_SAMPLE_TIME_NO">VFW_E_SAMPLE_TIME_NOT_SET</A> if this sample doesn't have valid timestamps, or NOERROR otherwise.

<H5>Remarks</H5>
<P>This member function implements the <A HREF="/directx/dxm/help/ds/dssd0161.htm#GetTime">IMediaSample::GetTime</A> method. It sets <I>pTimeStart</I> to the current value of <A HREF="/directx/dxm/help/ds/dssd0237.htm#CMediaSample::m_Start">m_Start</A> and <I>pTimeEnd</I> to the current value of <A HREF="/directx/dxm/help/ds/dssd0237.htm#CMediaSample::m_End">m_End</A>.
<H3><HR COLOR="#0000FF"><A NAME="IsDiscontinuity">CMediaSample::IsDiscontinuity</A></H3>
<A HREF="/directx/dxm/help/ds/dssd0237.htm">CMediaSample Class</A>
<P>Determines if there is discontinuity in the data stream.

<P><B>HRESULT</B> <B>IsDiscontinuity</B><B>(</B><B>void</B><B>)</B><B>;</B><BR><H5>Return Values</H5>
<P>Returns S_OK if the sample is a discontinuous sample and S_FALSE if not;
otherwise, returns an <A HREF="/directx/dxm/help/ds/dssd0308.htm#HRESULT">HRESULT</A> error value.

<H5>Remarks</H5>
<P>This member function implements the <A HREF="/directx/dxm/help/ds/dssd0161.htm#IsDiscontinuity">IMediaSample::IsDiscontinuity</A> method.
It returns the value of the <A HREF="/directx/dxm/help/ds/dssd0237.htm#CMediaSample::m_dwFlags">m_dwFlags</A> Sample_Discontinuity property flag.
Discontinuity occurs when a source filter seeks 
to a different place in the stream or when a filter drops samples for quality control. 
<H3><HR COLOR="#0000FF"><A NAME="IsPreroll">CMediaSample::IsPreroll</A></H3>
<A HREF="/directx/dxm/help/ds/dssd0237.htm">CMediaSample Class</A>
<P>Preroll property. If TRUE, this sample is for preroll only and should not be displayed.

<P><B>HRESULT</B> <B>IsPreroll</B><B>(</B><B>void</B><B>)</B><B>;</B><BR><H5>Return Values</H5>
<P>Returns S_OK if the sample is a preroll sample and S_FALSE if not;
otherwise, returns an <A HREF="/directx/dxm/help/ds/dssd0308.htm#HRESULT">HRESULT</A> error value.

<H5>Remarks</H5>
<P>This member function implements the <A HREF="/directx/dxm/help/ds/dssd0161.htm#IsPreroll">IMediaSample::IsPreroll</A> method.
It returns the value of the <A HREF="/directx/dxm/help/ds/dssd0237.htm#CMediaSample::m_dwFlags">m_dwFlags</A> Sample_Preroll property flag.
Preroll samples are not meant to be rendered.
<H3><HR COLOR="#0000FF"><A NAME="IsSyncPoint">CMediaSample::IsSyncPoint</A></H3>
<A HREF="/directx/dxm/help/ds/dssd0237.htm">CMediaSample Class</A>
<P>Determines if the beginning of a sample is a synchronization point.

<P><B>HRESULT</B> <B>IsSyncPoint</B><B>(</B><B>void</B><B>)</B><B>;</B><BR><H5>Return Values</H5>
<P>Returns S_OK if the sample is a synchronization point and S_FALSE if not;
otherwise, returns an <A HREF="/directx/dxm/help/ds/dssd0308.htm#HRESULT">HRESULT</A> error value.

<H5>Remarks</H5>
<P>This member function implements the <A HREF="/directx/dxm/help/ds/dssd0161.htm#IsSyncPoint">IMediaSample::IsSyncPoint</A> method.
It returns the value of the <A HREF="/directx/dxm/help/ds/dssd0237.htm#CMediaSample::m_dwFlags">m_dwFlags</A> Sample_SyncPoint property flag.
If the <A HREF="/directx/dxm/help/ds/dssd0298.htm#bTemporalCompression">bTemporalCompression</A> member 
of the <A HREF="/directx/dxm/help/ds/dssd0298.htm#AM_MEDIA_TYPE">AM_MEDIA_TYPE</A> structure is FALSE, all samples are synchronization points. 
A filter can begin a stream at any synchronization point.
<H3><HR COLOR="#0000FF"><A NAME="NonDelegatingQueryInterface">CMediaSample::NonDelegatingQueryInterface</A></H3>
<A HREF="/directx/dxm/help/ds/dssd0237.htm">CMediaSample Class</A>
<P>Retrieves an interface and increments the reference count.

<P><B>HRESULT</B> <B>NonDelegatingQueryInterface</B><B>(</B><BR>&nbsp;&nbsp;<B>REFIID</B> <I>riid</I><B>,</B><BR>&nbsp;&nbsp;<B>void</B> <B>**</B> <I>ppv</I><BR>&nbsp;&nbsp;<B>)</B><B>;</B><BR><H5>Parameters</H5>
<DL><DT><I>riid</I>
 </DT><DD>Reference identifier.
</DD><DT><I>ppv</I>
 </DT><DD>Pointer to the interface.
</DD></DL>
<H5>Return Values</H5>
<P>Returns E_POINTER if <I>ppv</I> is invalid. Returns NOERROR if the query is successful or E_NOINTERFACE if it is not. 

<H5>Remarks</H5>
<P>This member function implements the <A HREF="/directx/dxm/help/ds/dssd0276.htm#INonDelegatingUnknow">INonDelegatingUnknown::NonDelegatingQueryInterface</A> method and passes out 
references to the <A HREF="/directx/dxm/help/ds/dssd0161.htm">IMediaSample</A> and <A HREF="/directx/dxm/help/ds/dssd0181.htm">IUnknown</A> interfaces. Override this class to return other interfaces on the object in the derived class.
<H3><HR COLOR="#0000FF"><A NAME="CMediaSample__QueryI">CMediaSample::QueryInterface</A></H3>
<A HREF="/directx/dxm/help/ds/dssd0237.htm">CMediaSample Class</A>
<P>Retrieves a pointer to a specified interface on a component to which a
client currently holds an interface pointer. This method must call
<A HREF="/directx/dxm/help/ds/dssd0181.htm#AddRef">IUnknown::AddRef</A> on the pointer it returns.

<P><B>HRESULT</B> <B>QueryInterface</B><B>(</B><BR>&nbsp;&nbsp;<B>REFIID</B> <I>iid</I><B>,</B><BR>&nbsp;&nbsp;<B>void</B> <B>**</B> <I>ppvObject</I><BR>&nbsp;&nbsp;<B>)</B><B>;</B><BR><H5>Parameters</H5>
<DL><DT><I>iid</I>
 </DT><DD>Specifies the IID of the interface being requested.
</DD><DT><I>ppvObject</I>
 </DT><DD>Receives a pointer to an interface pointer to the object on return.
 If the interface specified in <I>iid</I> is not supported
 by the object, <I>ppvObject</I> is set to NULL.
</DD></DL>
<H5>Return Values</H5>
<P>Returns S_OK if the interface is supported, S_FALSE if not.


<H5>Remarks</H5>
<P>This member function implements the <A HREF="/directx/dxm/help/ds/dssd0181.htm#QueryInterface">IUnknown::QueryInterface</A> method.
<H3><HR COLOR="#0000FF"><A NAME="CMediaSample__Releas">CMediaSample::Release</A></H3>
<A HREF="/directx/dxm/help/ds/dssd0237.htm">CMediaSample Class</A>
<P>Decrements the reference count for the calling interface on an object.
If the reference count on the object falls to zero, the object is freed from memory.

<P><B>ULONG</B> <B>Release</B><B>(</B><B>void</B><B>)</B><B>;</B><BR><H5>Return Values</H5>
<P>Returns the resulting value of the reference count, which is used for
diagnostic/testing purposes only. If you need to know that resources have been freed,
use an interface with higher-level semantics.


<H5>Remarks</H5>
<P>This member function implements the <A HREF="/directx/dxm/help/ds/dssd0181.htm#Release">IUnknown::Release</A> method.<H3><HR COLOR="#0000FF"><A NAME="SetActualDataLength">CMediaSample::SetActualDataLength</A></H3>
<A HREF="/directx/dxm/help/ds/dssd0237.htm">CMediaSample Class</A>
<P>Sets the data length of the sample.

<P><B>HRESULT</B> <B>SetActualDataLength</B><B>(</B><BR>&nbsp;&nbsp;<B>long</B> <I>lLen</I><BR>&nbsp;&nbsp;<B>)</B><B>;</B><BR><H5>Parameters</H5>
<DL><DT><I>lLen</I>
 </DT><DD>Length of the data in the media sample, in bytes.
</DD></DL>
<H5>Return Values</H5>
<P>Returns an <A HREF="/directx/dxm/help/ds/dssd0308.htm#HRESULT">HRESULT</A> value.

<H5>Remarks</H5>
<P>This member function implements the <A HREF="/directx/dxm/help/ds/dssd0161.htm#SetActualDataLength">IMediaSample::SetActualDataLength</A> method. 
It sets the value of <A HREF="/directx/dxm/help/ds/dssd0237.htm#CMediaSample::m_lActual">m_lActual</A> to the value of <I>lLen</I>.
<H3><HR COLOR="#0000FF"><A NAME="SetDiscontinuity">CMediaSample::SetDiscontinuity</A></H3>
<A HREF="/directx/dxm/help/ds/dssd0237.htm">CMediaSample Class</A>
<P>Sets the discontinuity property.

<P><B>HRESULT</B> <B>SetDiscontinuity</B><B>(</B><BR>&nbsp;&nbsp;<B>BOOL</B> <I>bDiscont</I><BR>&nbsp;&nbsp;<B>)</B><B>;</B><BR><H5>Parameters</H5>
<DL><DT><I>bDiscont</I>
 </DT><DD>Set to TRUE to specify the media sample as discontinuous with the previous sample.
</DD></DL>
<H5>Return Values</H5>
<P>Returns an <A HREF="/directx/dxm/help/ds/dssd0308.htm#HRESULT">HRESULT</A> value.


<H5>Remarks</H5>
<P>This member function implements the <A HREF="/directx/dxm/help/ds/dssd0161.htm#SetDiscontinuity">IMediaSample::SetDiscontinuity</A> method.
It sets the value of the <A HREF="/directx/dxm/help/ds/dssd0237.htm#CMediaSample::m_dwFlags">m_dwFlags</A> Sample_Discontinuity flag 
to the value of <I>bDiscont</I>.
Discontinuous samples occur when a source filter seeks to a different place
in the media stream or when a filter drops samples for quality control. 
<H3><HR COLOR="#0000FF"><A NAME="SetMediaTime">CMediaSample::SetMediaTime</A></H3>
<A HREF="/directx/dxm/help/ds/dssd0237.htm">CMediaSample Class</A>
<P>Sets the starting and ending media times.

<P><B>HRESULT</B> <B>SetMediaTime</B><B>(</B><BR>&nbsp;&nbsp;<B>LONGLONG</B> <B>*</B> <I>pStart</I><B>,</B><BR>&nbsp;&nbsp;<B>LONGLONG</B> <B>*</B> <I>pEnd</I><BR>&nbsp;&nbsp;<B>)</B><B>;</B><BR><H5>Parameters</H5>
<DL><DT><I>pStart</I>
</DT><DD>Beginning media time.
</DD><DT><I>pEnd</I>
</DT><DD>Ending media time.
</DD></DL>
<H5>Return Values</H5>
<P>Returns an <A HREF="/directx/dxm/help/ds/dssd0308.htm#HRESULT">HRESULT</A> value.

<H5>Remarks</H5>
<P>This member function implements the <A HREF="/directx/dxm/help/ds/dssd0161.htm#SetMediaTime">IMediaSample::SetMediaTime</A> method.
It sets the <A HREF="/directx/dxm/help/ds/dssd0237.htm#CMediaSample::m_MediaStart">m_MediaStart</A> data member to the value of <I>pStart</I> 
and the <A HREF="/directx/dxm/help/ds/dssd0237.htm#CMediaSample::m_MediaEnd">m_MediaEnd</A> data member to the value of <I>pEnd</I> minus <I>pStart</I>. 
<H3><HR COLOR="#0000FF"><A NAME="SetMediaType">CMediaSample::SetMediaType</A></H3>
<A HREF="/directx/dxm/help/ds/dssd0237.htm">CMediaSample Class</A>
<P>Sets the media type for the <A HREF="/directx/dxm/help/ds/dssd0237.htm">CMediaSample</A> object.

<P><B>HRESULT</B> <B>SetMediaType</B><B>(</B><BR>&nbsp;&nbsp;<B>AM_MEDIA_TYPE</B> <B>*</B> <I>pMediaType</I><BR>&nbsp;&nbsp;<B>)</B><B>;</B><BR><H5>Parameters</H5>
<DL><DT><I>pMediaType</I>
</DT><DD>Pointer to a pointer to a media type structure to be set.
</DD></DL>
<H5>Return Values</H5>
<P>Returns an <A HREF="/directx/dxm/help/ds/dssd0308.htm#HRESULT">HRESULT</A> value.

<H5>Remarks</H5>
<P>This member function implements the <A HREF="/directx/dxm/help/ds/dssd0161.htm#SetMediaType">IMediaSample::SetMediaType</A> method. 
It deletes the previous media type if one exists, makes a copy of the media type passed 
in, sets <A HREF="/directx/dxm/help/ds/dssd0237.htm#CMediaSample::m_pMediaType">m_pMediaType</A> to the copy of the media type, 
and sets the value of the <A HREF="/directx/dxm/help/ds/dssd0237.htm#CMediaSample::m_dwFlags">m_dwFlags</A> Sample_TypeChanged flag to TRUE.
<H3><HR COLOR="#0000FF"><A NAME="SetPointer">CMediaSample::SetPointer</A></H3>
<A HREF="/directx/dxm/help/ds/dssd0237.htm">CMediaSample Class</A>
<P>Sets the buffer pointer and length.

<P><B>SetPointer</B><B>(</B><BR>&nbsp;&nbsp;<B>BYTE</B> <B>*</B> <I>ptr</I><B>,</B><BR>&nbsp;&nbsp;<B>LONG</B> <I>cBytes</I><BR>&nbsp;&nbsp;<B>)</B><B>;</B> <BR><H5>Parameters</H5>
<DL><DT><I>ptr</I>
</DT><DD>Pointer to a buffer.
</DD><DT><I>cBytes</I>
</DT><DD>Length of the buffer, in bytes.
</DD></DL>
<H5>Return Values</H5>
<P>No return value.
<H5>Remarks</H5>
<P>Allocators that require variable-sized pointers or pointers into data that has already been read use this member function. This is available only through a <A HREF="/directx/dxm/help/ds/dssd0237.htm">CMediaSample</A> class, not an <A HREF="/directx/dxm/help/ds/dssd0161.htm">IMediaSample</A> interface, so only the filter that owns the allocator knows how to access this member function (not any filter or pin that is passed the object's <B>IMediaSample</B> interface pointer).
<H3><HR COLOR="#0000FF"><A NAME="SetPreroll">CMediaSample::SetPreroll</A></H3>
<A HREF="/directx/dxm/help/ds/dssd0237.htm">CMediaSample Class</A>
<P>Sets the preroll property. If TRUE, this sample is for preroll only
and should not be displayed.

<P><B>HRESULT</B> <B>SetPreroll</B><B>(</B><BR>&nbsp;&nbsp;<B>BOOL</B> <I>bIsPreroll</I><BR>&nbsp;&nbsp;<B>)</B><B>;</B><BR><H5>Parameters</H5>
<DL><DT><I>bIsPreroll</I>
 </DT><DD>Set to TRUE to specify the media sample as a preroll sample, or FALSE otherwise.
</DD></DL>
<H5>Return Values</H5>
<P>Returns an <A HREF="/directx/dxm/help/ds/dssd0308.htm#HRESULT">HRESULT</A> value.


<H5>Remarks</H5>
<P>This member function implements the <A HREF="/directx/dxm/help/ds/dssd0161.htm#SetPreroll">IMediaSample::SetPreroll</A> method.
It sets the value of the <A HREF="/directx/dxm/help/ds/dssd0237.htm#CMediaSample::m_dwFlags">m_dwFlags</A> Sample_Preroll flag 
to the value of <I>bIsPreroll</I>.
Preroll samples are samples that are processed but not displayed, and are
located in the media stream before the displayable samples.
<H3><HR COLOR="#0000FF"><A NAME="SetSyncPoint">CMediaSample::SetSyncPoint</A></H3>
<A HREF="/directx/dxm/help/ds/dssd0237.htm">CMediaSample Class</A>
<P>Property of a synchronization point.

<P><B>HRESULT</B> <B>SetSyncPoint</B><B>(</B><BR>&nbsp;&nbsp;<B>BOOL</B> <I>bIsSyncPoint</I><BR>&nbsp;&nbsp;<B>)</B><B>;</B><BR><H5>Parameters</H5>
<DL><DT><I>bIsSyncPoint</I>
 </DT><DD>Value specifying whether the synchronization point was set.
</DD></DL>
<H5>Return Values</H5>
<P>Returns S_OK.

<H5>Remarks</H5>
<P>This member function implements the <A HREF="/directx/dxm/help/ds/dssd0161.htm#SetSyncPoint">IMediaSample::SetSyncPoint</A> method.
It sets the value of the <A HREF="/directx/dxm/help/ds/dssd0237.htm#CMediaSample::m_dwFlags">m_dwFlags</A> Sample_SyncPoint flag 
to the value of <I>bIsSyncPoint</I>.
A filter can begin a stream at any synchronization point.
<H3><HR COLOR="#0000FF"><A NAME="SetTime">CMediaSample::SetTime</A></H3>
<A HREF="/directx/dxm/help/ds/dssd0237.htm">CMediaSample Class</A>
<P>Sets the media time extents for this sample.

<P><B>HRESULT</B> <B>SetTime</B><B>(</B><BR>&nbsp;&nbsp;<B>REFERENCE_TIME</B> <B>*</B> <I>pTimeStart</I><B>,</B><BR>&nbsp;&nbsp;<B>REFERENCE_TIME</B> <B>*</B> <I>pTimeEnd</I><BR>&nbsp;&nbsp;<B>)</B><B>;</B><BR><H5>Parameters</H5>
<DL><DT><I>pTimeStart</I>
</DT><DD>Stream time at which the sample begins.
</DD><DT><I>pTimeEnd</I>
</DT><DD>Stream time at which the sample ends.
</DD></DL>
<H5>Return Values</H5>
<P>Returns NOERROR or an <A HREF="/directx/dxm/help/ds/dssd0308.htm#HRESULT">HRESULT</A> value.

<H5>Remarks</H5>
<P>This member function implements the <A HREF="/directx/dxm/help/ds/dssd0161.htm#SetTime">IMediaSample::SetTime</A> method. It sets the <A HREF="/directx/dxm/help/ds/dssd0237.htm#CMediaSample::m_Start">m_Start</A> data member to the value of <I>pTimeStart</I> and the <A HREF="/directx/dxm/help/ds/dssd0237.htm#CMediaSample::m_End">m_End</A> data member to the value of <I>pTimeEnd</I>.
<P>If <I>pTimeStart</I> and <I>pTimeEnd</I> are null, DirectShow turns off the <A HREF="/directx/dxm/help/ds/dssd0237.htm#CMediaSample::m_dwFlags">m_dwFlags</A> data member's Sample_TimeValid and Sample_StopValid bits.
<P><P><FONT FACE="MS SANS SERIF" SIZE="1" COLOR="BLACK">
<A CLASS=cpslug HREF="../cpyright.htm" TARGET="_top">&#169; 1998 Microsoft Corporation. All rights reserved. Terms of Use.</A>
</FONT>
<BR CLEAR=ALL><P>
<FONT FACE="Verdana,Arial,Helvetica" SIZE="1"><A HREF="#pagetop"><IMG SRC="/directx/dxm/help/ds/art/yelbtn.gif" WIDTH="11" HEIGHT="11" ALIGN="MIDDLE" BORDER=0 ALT="*">Top of Page</A></FONT>
</BLOCKQUOTE><P>
</FONT><P>
</BODY></HTML>
