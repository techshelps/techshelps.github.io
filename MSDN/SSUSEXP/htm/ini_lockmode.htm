<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Lock_Mode Initialization Variable</title>
<style>@import url(/stylesheets/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="/stylesheets/msdn_ie3.css"></HEAD>
<BODY>

<h1><a name="ini_lockmode"></a>Lock_Mode Initialization Variable</h1>
<p>
Sets the type of database <a href="ssugglossary.htm#gloss_locking">locking</a> used by VSS. Available in the SRCSAFE.INI file only.</p>
<h4>Syntax</h4>
<p>
<b>Lock_Mode</b> = <i>{Native|Lockfile}</i></p>
<h4>Example</h4>
<p>
Indicates that native locking is used by VSS to avoid database record collisions:</p>
<pre><code>Lock_Mode = Native
</code></pre>
<h4>Remarks</h4>
<p>
Native locking uses the operating system's inherent file and record locking capabilities (through the <i>fcntl</i> system call). This system is very fast, but may not be supported if you are running VSS across multiple UNIX machines.</p>
<p>
Lockfiles are a VSS-specific mechanism, involving creation of special files in the VSS Data\Locks folder, which achieve the same database record locking as the Native setting. This method is slower than native locking, but works in networked and cross-platform situations.</p>
<p>
It is important to choose the right locking mechanism for your system. If you are running VSS exclusively on Microsoft Windows NT machines, use native locking (the default). If you are running VSS in an environment where byte locks to the database are not supported, use Lockfile. This prevents collisions that might cause unpredictable results in the VSS database. If you are not sure if your network supports native locking, use the <a href="ss_testlock.htm">Testlock.exe</a> program.</p>
<p class=indent>
<B><b>Note&nbsp;&nbsp;&nbsp;</b></B>If VSS does not exit normally, in some circumstances the UM.LCK file may be left in the Data\Locks directory. Delete this file manually to avoid Testlock errors or unpredictable behavior with the <b>Lock_Mode</b> variable.</p>
</BODY>
</HTML>
