<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Costing Standard Actions</title>
<link disabled rel=stylesheet href=../../backsdk3.css>
<style type="text/css">
@import url(../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h2><a name="_msi_costing_standard_actions"></a>Costing Standard Actions</h2>
<p>
<span style=color:#FF0000>[This is preliminary documentation and subject to change.]</span> </p>
<p>
Costing is the process of determining the total disk space requirements for the current installation, including costs for files to be installed and/or removed, registry entries, shortcuts, and so forth. Costing takes into account the size of existing files to be overwritten (which reduces the overall costs). </p>
<p>
Total costs are accumulated on a per-component basis and consist of three separate parts: local costs, source costs, and removal cost—corresponding to the disk cost that is incurred if the component is installed locally, installed to run from the source media, or removed.</p>
<p>
All calculations involving the cost of installing files depend in part on the volume to which the file is to be installed or removed. Each time the directory associated with a component changes, the costs of the installation files controlled by that component must be recalculated. For example, because a change in directory might also imply a volume change, the clustered file sizes must be recalculated. In addition, the new directory must be checked to determine whether any existing files that may be overwritten must be taken into account.</p>
<p>
After the <a href="aref_4bam.htm">CostInitialize action</a> is called, the <a href="aref_2f8u.htm">FileCost</a> action must be called. This action initializes all internal routines that dynamically calculate the disk costs involved with all standard installation actions. No other dynamic cost calculations are done at this point.</p>
<p>
Next, the <a href="aref_22we.htm">CostFinalize</a> action must be called. This action finalizes all the cost calculations and makes them available through the <a href="tref_09np.htm">Component table</a>.</p>
<p>
After the <a href="aref_22we.htm">CostFinalize</a> action finishes, the Component table is fully initialized, and a user interface dialog box sequence containing a <a href="href_3w30.htm">SelectionTree control</a> (if needed) can be initiated. The user interface dialog boxes typically give the user the option to change the selection state and/or destination directory of any feature in the <a href="tref_0a91.htm">Feature table</a> (which in turn is linked to one or more components). The process is similar when the selection state of a component changes, but, in this case, the dynamic cost of only the changed component is recalculated. </p>
<p>
After the Selection user interface wizard sequence, the <a href="aref_9fzi.htm">InstallValidate</a> action should be called before any other installation action. This action verifies that all volumes to which cost has been attributed have sufficient space for the installation.</p>
<p>&nbsp;</p></body>
</HTML>
