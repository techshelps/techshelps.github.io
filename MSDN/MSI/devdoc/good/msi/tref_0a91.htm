<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Feature Table</title>
<link disabled rel=stylesheet href=../../backsdk3.css>
<style type="text/css">
@import url(../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h1><a name="_msi_feature_table"></a>Feature Table</h1>
<p>
<span style=color:#FF0000>[This is preliminary documentation and subject to change.]</span> </p>
<p>
The Feature table defines the logical tree structure of features. </p>
<p>
The Feature table has the following columns.</p>
<table cellspacing=4 cols=4>
<tr valign=top>
<th align=left width=36%>Column</th>
<th align=left width=33%>Type</th>
<th align=left width=13%>Key</th>
<th align=left width=18%>Nullable</th>
</tr>
<tr valign=top>
<td width=36%>Feature</td>
<td width=33%><a href="tref_6b77.htm#_msi_identifier">Identifier</a></td>
<td width=13%>Y</td>
<td width=18%>N</td>
</tr>
<tr valign=top>
<td width=36%>Feature_Parent</td>
<td width=33%><a href="tref_6b77.htm#_msi_identifier">Identifier</a></td>
<td width=13%></td>
<td width=18%>Y</td>
</tr>
<tr valign=top>
<td width=36%>Title</td>
<td width=33%><a href="tref_6b77.htm#_msi_text">Text</a></td>
<td width=13%></td>
<td width=18%>Y</td>
</tr>
<tr valign=top>
<td width=36%>Description</td>
<td width=33%><a href="tref_6b77.htm#_msi_text">Text</a></td>
<td width=13%></td>
<td width=18%>Y</td>
</tr>
<tr valign=top>
<td width=36%>Display</td>
<td width=33%><a href="tref_6b77.htm#_msi_integer">Integer</a></td>
<td width=13%></td>
<td width=18%>Y</td>
</tr>
<tr valign=top>
<td width=36%>Level</td>
<td width=33%><a href="tref_6b77.htm#_msi_integer">Integer</a></td>
<td width=13%></td>
<td width=18%>N</td>
</tr>
<tr valign=top>
<td width=36%>Directory_</td>
<td width=33%><a href="tref_6b77.htm#_msi_identifier">Identifier</a></td>
<td width=13%></td>
<td width=18%>Y</td>
</tr>
<tr valign=top>
<td width=36%>Attributes</td>
<td width=33%><a href="tref_6b77.htm#_msi_integer">Integer</a></td>
<td width=13%></td>
<td width=18%>N</td>
</tr>
</table><br>
<h4>Columns</h4>
<dl>
<dt>
Feature</dt>
<dd>
Primary key used to identify a particular feature record.
<p>
Primary table key.
</dd>
<dt>
Feature_Parent</dt>
<dd>
Optional key of a parent record in the same table. If the parent feature is not selected, this feature is not installed. 
<p>
Key pointing to the Feature column of this table. Null indicates that this feature has no parent (root item). The Feature_Parent column must not equal the Feature column of the same record (that is, an item cannot be its own parent).
</dd>
<dt>
Title</dt>
<dd>
Short text identifying a visible feature item.</dd>
<dt>
Description</dt>
<dd>
Longer descriptive text describing a visible feature item.</dd>
<dt>
Display</dt>
<dd>
Numeric sort order, used to specify the order in which the feature is to be displayed in the user interface. The value also determines if the feature is initially displayed expanded or collapsed. 
<p>
If the value is Null or zero, the record is not displayed. If the value is odd, the feature node is expanded initially. If the value is even, the feature node is collapsed initially.
</dd>
<dt>
Level</dt>
<dd>
The install level at which the entry is initially selected. Processing the <a href="tref_83qd.htm">Condition table</a> can modify the Level value. For more details, see Install Level in the Remarks section that follows.
<p>
An install level of zero disables the item and prevents it from being displayed.
</dd>
<dt>
Directory_</dt>
<dd>
The Directory column contains the name of a directory that can be configured by a <a href="hand_9llz.htm">Selection Dialog</a>. The Browse button becomes  when the column is non-null, and when the particular feature is selected in the user interface. The <a href="prop_1xyr.htm">properties</a> used in this column must be public and have an identifier consisting entirely of uppercase letters. This column is a key into the <a href="tref_6an9.htm">Directory table</a> and any of the directories indicated to be configurable here will also belong to that table. </dd>
<dt>
Attributes</dt>
<dd>
Remote execution option.
<p>
The lowest two bits indicate the favored state of the feature. The following table lists valid values for these two bits.

<table cellspacing=4 cols=2>
<tr valign=top>
<th align=left width=30%>This value</th>
<th align=left width=70%>Means this feature will be installed</th>
</tr>
<tr valign=top>
<td width=30%>0 (ifrsFavorLocal)</td>
<td width=70%>Locally, if possible.</td>
</tr>
<tr valign=top>
<td width=30%>1 (ifrsFavorSource)</td>
<td width=70%>To run from the source, if possible.</td>
</tr>
<tr valign=top>
<td width=30%>2 (ifrsFavorParent)</td>
<td width=70%>Using the remote execution option of the parent feature. This is not allowed for parent features.</td>
</tr>
</table><br>

</dd>
</dl>
<p>
The rest of the significant bits are bit flags.
<ul>
<li>
The 3rd bit is the ifrsFavorAdvertise bit.</li>
<li>
The 4th bit is the ifrsDisallowAdvertise bit. The ifrsFavorAdvertise and the ifrsDisallowAdvertise bits cannot both be set for a particular feature.</li>
<li>
The 5th bit is the ifrsUIDisallowAbsent bit.</li>
</ul>
<p>
These bits work together in the following manner.
<ol>
<li>
If the application has not already been installed by the installer and if no feature state request has been made via any of the following properties: <a href="pref_3dvd.htm">ADDLOCAL</a>, <a href="pref_7g1l.htm">ADDSOURCE</a>, <a href="pref_7yex.htm">ADDDEFAULT</a>, <a href="pref_3htl.htm">COMPADDLOCAL</a>, <a href="pref_4gvt.htm">COMPADDSOURCE</a>, <a href="pref_89yx.htm">FILEADDLOCAL</a>, <a href="pref_0id5.htm">FILEADDSOURCE</a>, <a href="pref_8ho9.htm">REMOVE</a>, <a href="pref_19x5.htm">REINSTALL</a>, or <a href="pref_6k8p.htm">ADVERTISE</a>, then:<ul>
<li>
If the feature install level is greater than or equal to the current install level, or is 0, then the default state is NULL (i.e. no change).</li>
<li>
Otherwise, if the ifrsFavorAdvertise bit is set, its default state is set to Advertise.</li>
<li>
The lower 2 bits determine the default state.</li>
</ul>
</li>
<li>
If a feature is to be installed to the authored default (the ADDDEFAULT property has the feature as part of its value list), the ifrsFavorAdvertise bit is always ignored. The state is determined by the lower 2 bits.</li>
<li>
If a feature is to be installed to the Advertise state via the ADVERTISE property, and if the ifrsDisallowAdvertise bit is not set, the state is set to Advertise. Otherwise, the state is determined by the lower 2 bits.</li>
<li>
If a feature is to be installed to the Advertise state and its parent must be installed, the Advertise state is preferred for the parent unless ifrsDisallowAdvertise bit is set for the parent — in which case the state (of the parent) is determined by the lower 2 bits.</li>
<li>
If a feature is to be installed to the Advertise state, the Advertise state for the children is preferred unless ifrsDisallowAdvertise bit is set for the child — in which case the state (of the child) is set to Absent.</li>
<li>
The Advertise state is relevant only to features and not to the components of the features. Hence feature state transitions to and from the Advertise state are to be treated as transitions to and from the Absent state for the constituent components.</li>
<li>
The user interface does not display the option to change to the Absent or the Advertise state if the corresponding ifrsUIDisallowAbsent bit or ifrsDisallowAdvertise bit is set for that feature.</li>
</ol>
<p>
If this column is left blank, the value defaults to zero (ifrsFavorLocal). For more information about Attributes options, see Attributes Column in the Remarks section that follows. For more information on how features are selected for installation, see <a href="vref_84xl.htm">FeatureRequestState property</a>.</p>
<h4>Remarks</h4>
<p>
Several additional temporary columns are added to this table when it is loaded into memory for computations used by costing and user interface selection.</p>
<p>
<b>Features and Components</b></p>
<p>
A feature is a distinct subset of a product consisting of one or more components. Each component is defined in the <a href="tref_09np.htm">Component table</a>, and the link between a feature and its components is defined in the <a href="tref_52hx.htm">FeatureComponents table</a>.</p>
<p>
Any component can be shared between two or more features. If two or more features refer to the same component, that component is selected for installation if any of the associated features are selected. For more information about shared components, see the Attributes Column that follows.</p>
<p>
<b>Install Level</b></p>
<p>
For any installation, there is a defined Install Level, which is an integral value from 1 to 32,767. The initial value is determined by the <a href="pref_9bzt.htm">InstallLevel property</a>, which is set in the <a href="tref_21d1.htm">Property table</a>.</p>
<p>
A feature is installed only if the feature Level value is less than or equal to the current Install Level. Once the installation is initialized, the installer user interface could be authored to give the user the opportunity to modify the Install Level of any feature in the <a href="#_msi_feature_table">Feature table</a>. For example, the author could define Install Level values that represent specific installation options, such as Complete, Typical, or Minimum, and then create a dialog that allows the user to select one of these states. Depending on the state the user selects, the dialog would set the InstallLevel property to the corresponding value. If the author assigns Typical a level of 100 and the user selects Typical, only those features with a Level of 100 or less are installed. In addition, the Custom option could lead to another dialog containing a Selection Tree control. The Selection Tree would then allow the user to individually change whether each feature is installed.</p>
<p>
<b>Attributes Column</b></p>
<p>
If a feature is marked as ifrsFavorLocal and this feature is to be installed, all components that are related to this feature (and are not marked for source install) are installed locally. Those components marked as irsSourceOnly in the <a href="tref_09np.htm">Component table</a> are still installed to run from the source CD/server. Similarly, the components of features marked ifrsFavorSource are installed to run from the source CD/server (unless marked to be installed locally). A component (not marked irsSourceOnly) that is shared among two or more features is installed locally if at least one of those features is marked ifrsFavorLocal, even if the other features are marked ifrsFavorSource.</p>
<p>&nbsp;</p></body>
</HTML>
