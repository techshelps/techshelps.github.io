<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Directory Table</title>
<link disabled rel=stylesheet href=../../backsdk3.css>
<style type="text/css">
@import url(../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h1><a name="_msi_directory_table"></a>Directory Table</h1>
<p>
<span style=color:#FF0000>[This is preliminary documentation and subject to change.]</span> </p>
<p>
The Directory table represents the directory layout for the product. Each row of the table indicates a directory both at the source and the target.</p>
<p>
The Directory table has the following columns.</p>
<table cellspacing=4 cols=4>
<tr valign=top>
<th align=left width=31%>Column</th>
<th align=left width=37%>Type</th>
<th align=left width=13%>Key</th>
<th align=left width=19%>Nullable</th>
</tr>
<tr valign=top>
<td width=31%></td>
<td width=37%></td>
<td width=13%></td>
<td width=19%></td>
</tr>
<tr valign=top>
<td width=31%>Directory</td>
<td width=37%><a href="tref_6b77.htm#_msi_identifier">Identifier</a></td>
<td width=13%>Y</td>
<td width=19%>N</td>
</tr>
<tr valign=top>
<td width=31%>Directory_Parent</td>
<td width=37%><a href="tref_6b77.htm#_msi_identifier">Identifier</a></td>
<td width=13%></td>
<td width=19%>Y</td>
</tr>
<tr valign=top>
<td width=31%>DefaultDir</td>
<td width=37%><a href="tref_6b77.htm#_msi_defaultdir">DefaultDir</a></td>
<td width=13%></td>
<td width=19%>N</td>
</tr>
</table><br>
<h4>Columns</h4>
<dl>
<dt>
Directory</dt>
<dd>
The Directory column contains an unique identifier for a directory or directory path. This column can contain the full path to a target directory or a property set to the full path of a target directory. If this column contains a property which is not set, then the target directory takes the name listed in the DefaultDir column and has the parent directory given in the Directory_Parent column. 
<p>
If the Directory_Parent column is Null or equal to the value of the Directory column, then the Directory column represents a root target directory of the installation.
</dd>
<dt>
Directory_Parent</dt>
<dd>
This column is a reference to the directory's parent directory. A record that has a Directory_Parent column equal to Null or equal to the Directory column represents a root directory. To resolve the full path of the parent directory, use the reference in the Directory_Parent column as an external key into the Directory column. For example, if a folder has a parent directory named PDIR, the parent directory of PDIR is given in the Directory_Parent column of the row with PDIR in the Directory column.</dd>
<dt>
DefaultDir</dt>
<dd>
The DefaultDir column contains the directory's name under the parent directory. By default, this is the name of both the target and source directories. To specify different source and target directory names, separate the target and source names with a colon as follows: [targetname]:[sourcename].
<p>
If the value of the Directory_Parent column is Null or equal to the Directory column, then the DefaultDir column is the name of a root source directory. 

<p>
For a non-root source directory, a period (.) entered in the DefaultDir column indicates that the directory should be located in its parent directory without a subdirectory.

<p>
The directory names in this column may be formatted as short filename | long filename pairs.

</dd>
</dl>
<h4>Remarks</h4>
<p>
Each record in the table represents a directory in both the source and the destination images. Every Directory table must have a root entry with a Directory column value equal to the <a href="pref_73ax.htm">TARGETDIR property</a>.</p>
<p>
During an ADMIN install the resulting admin image should resemble the source. To copy the admin image into the root directory named TARGETDIR, use the source directory names when resolving the target directories.</p>
<p>
Directory resolution is performed during the <a href="aref_22we.htm">CostFinalize action</a> and is done as follows:</p>
<p>
<b>Root Destination Directories</b></p>
<p>
Root directories entries are those with a Null Directory_Parent value or a Directory_Parent value identical to the Directory value. The value in the Directory column is interpreted as the name of a property defining the location of the destination directory. If the property is defined, the destination directory is resolved to the property's value. If the property is undefined, the ROOTDRIVE property is used instead to resolve the path.</p>
<p>
<b>Root Source Directories</b></p>
<p>
The value of the DefaultDir column for root entries is interpreted as the name of a property defining the source location of this directory This property must be defined or an error occurs. This is typically the <a href="pref_6uwp.htm">SOURCEDIR property</a>.</p>
<p>
<b>Non-root Destination Directories</b></p>
<p>
The Directory value for a non-root directory is also interpreted as the name of a property defining the location of the destination. If the property is defined, the destination directory is resolved to the property's value. If the property is not defined, the destination directory is resolved to a subdirectory beneath the resolved destination directory for the Directory_Parent entry. The DefaultDir value defines the name of the subdirectory.</p>
<p>
<b>Non-root Source Directories</b></p>
<p>
The source directory for a non-root directory is resolved to a subdirectory of the resolved source directory for the Directory_Parent entry. Again, the DefaultDir value defines the name of the subdirectory.</p>
<p>
<b>Short or Long File Names</b></p>
<p>
When resolving destination directories, the short file names specified in the DefaultDir column are used if either the SHORTFILENAMES property is set or the volume the directory is located on does not support long file names. Otherwise, the long file name is used.</p>
<p>
For more information about the Directory table, including samples, see <a href="novr_3wth.htm">Using the Directory Table</a>.</p>
<p>&nbsp;</p></body>
</HTML>
