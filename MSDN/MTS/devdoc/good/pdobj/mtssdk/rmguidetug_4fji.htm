<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Updating a Database and a File from a Single Application</title>
<link disabled rel=stylesheet href=../../../backsdk3.css>
<style type="text/css">
@import url(../../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR=#FFFFFF TEXT=#000000>

<h1><a name="asupdatingadatabaseandafilefromasingleapplication"></a>Updating a Database and a File from a Single Application</h1>
<p>
MS DTC is useful when an application must update different types of transaction-protected resources. Consider an order entry application that registers an order in an Order Item database and records a freight bill in a Freight Bill image file. The application developer can use MS DTC to ensure that the database and image file remain consistent by:
<ol>
<li>
Starting an MS DTC transaction.</li>
<li>
Enlisting the Order Item database on the transaction.</li>
<li>
Enlisting the Freight Bill image file on the transaction.</li>
<li>
Updating the order item databases by invoking the appropriate SQL statements or database-stored procedures.</li>
<li>
Inserting the freight bill image in the image file.</li>
<li>
Committing the MS DTC transaction.</li>
</ol>
<p>
<b>Updating a Database and a File from a Single Application</b></p>
<p>
<img src="images/virm02.gif" border=0></p>
<p>
When the transaction commits, MS DTC ensures that the updates to both the database and the image file are committed. In the event of a client application failure, a network connection failure, an Order Item database server failure, a Freight Bill image file server failure, or any combination of these failures, MS DTC aborts the transaction and instructs the resource managers to undo the effects of the transaction from both the database and the image file.</p>
<p>&nbsp; </p></body>
</HTML>
