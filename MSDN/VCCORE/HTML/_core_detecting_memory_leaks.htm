<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Detecting Memory Leaks</TITLE>
<style>@import url(stylesheets/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="stylesheets/msdn_ie3.css"></HEAD>
<BODY>


<font face="verdana,arial,helvetica" size="2">
<H1><A NAME="_core_detecting_memory_leaks"></A>Detecting Memory Leaks </H1>

<P>A memory leak occurs when you allocate memory on the heap and never deallocate that memory to make it available for reuse, or if you mistakenly use memory that has already been allocated. This is a particular problem for programs that are intended to run for extended periods. In a long-lived program, even a small incremental memory leak can compound itself; eventually all available memory resources are exhausted and the program crashes. Traditionally, memory leaks have been very hard to detect.</P>

<P>The Microsoft Foundation Class Library (MFC) provides classes and functions you can use to detect memory leaks during development. Basically, these functions take a snapshot of all memory blocks before and after a particular set of operations. You can use these results to determine if all memory blocks allocated during the operation have been deallocated.</P>

<P>The size or length of the operation you choose to bracket with these diagnostic functions is arbitrary. It can be as small as a single program statement, or it can span the entry and exit from the entire program. Either way, these functions allow you to detect memory leaks and identify which memory blocks have not been deallocated properly.</P>

<P class=indent><B><B>Note</B></B>&nbsp;&nbsp;&nbsp;MFC automatically dumps all leaked objects when your program exits. As of MFC version 4.0, MFC uses the same debug heap and memory allocator as the C run-time library. For more information, see <A HREF="_core_memory_management_and_the_debug_heap.htm">Memory Management and the Debug Heap</A>.</P>

<P>This section covers the following topics:

<UL type=disc>
	<LI><A HREF="_core_memory_diagnostics.htm">Memory Diagnostics</A><BR><BR></LI>

	<LI><A HREF="_core_detecting_a_memory_leak.htm">Detecting A Memory Leak</A><BR><BR></LI>

	<LI><A HREF="_core_dumping_memory_statistics.htm">Dumping Memory Statistics</A></LI>
</UL>
</font>
</BODY>
</HTML>
