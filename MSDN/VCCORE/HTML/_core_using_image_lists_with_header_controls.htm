<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Using Image Lists with Header Controls</TITLE>
<style>@import url(stylesheets/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="stylesheets/msdn_ie3.css"></HEAD>
<BODY>

<TABLE ALIGN=right WIDTH=0 BORDER=0><TR><TD>
<OBJECT ID="hhobj_1" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink">
	<PARAM NAME="DefaultTopic" VALUE="_topic_not_found.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="_vc_addui_home">
</OBJECT>
<OBJECT ID="hhobj_2" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink">
	<PARAM NAME="DefaultTopic" VALUE="_topic_not_found.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="_mfc_CImageList">
</OBJECT>
<OBJECT ID="hhobj_3" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink">
	<PARAM NAME="DefaultTopic" VALUE="_topic_not_found.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="_mfc_CImageList.3a3a.Create">
</OBJECT>
<OBJECT ID="hhobj_4" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink">
	<PARAM NAME="DefaultTopic" VALUE="_topic_not_found.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="_mfc_CHeaderCtrl.3a3a.SetImageList">
</OBJECT>
<OBJECT ID="hhobj_5" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink">
	<PARAM NAME="DefaultTopic" VALUE="_topic_not_found.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="_mfc_CHeaderCtrl">
</OBJECT>
</TD></TR></TABLE>


<font face="verdana,arial,helvetica" size="2">
<H1><A NAME="_core_using_image_lists_with_header_controls"></A>Using Image Lists with Header Controls</H1>

<P><A HREF="JavaScript:hhobj_1.Click()">Home</A>  |&nbsp; <A HREF="_core_using_cheaderctrl.htm">Overview</A>  |&nbsp; <A HREF="_core_common_control_sample_list.htm">Sample</A></P>

<P>Header items have the ability to display an image within a header item. This image, stored in an associated image list, is 16 x 16 pixels and has the same characteristics as the icon images used in a list view control. In order to implement this behavior successfully, you must first create and initialize the image list, associate the list with the header control, and then modify the attributes of the header item that will display the image.</P>

<P>The following procedure illustrates the details, using a pointer to a header control (<CODE>m_pHdrCtrl</CODE>) and a pointer to an image list (<CODE>m_pHdrImages</CODE>).</P>

<P class=label><B>To display an image in a header item</B>

<OL>
	<LI>Construct a new image list (or use an existing image list object) using the <A HREF="JavaScript:hhobj_2.Click()">CImageList</A> constructor, storing the resultant pointer.<BR><BR></LI>

	<LI>Initialize the new image list object by calling <A HREF="JavaScript:hhobj_3.Click()">CImageList::Create</A>. The following code is one example of this call.
<PRE><CODE>m_pHdrImages-&gt;Create(16, 16, ILC_MASK, 2, 2);
</CODE></PRE>
</LI>

	<LI>Add the images for each header item. The following code adds two predefined images.
<PRE><CODE>m_pHdrImages-&gt;Add(pApp-&gt;LoadIcon(IDI_ICONHDR1));
m_pHdrImages-&gt;Add(pApp-&gt;LoadIcon(IDI_ICONHDR2));
</CODE></PRE>
</LI>

	<LI>Associate the image list with the header control with a call to <A HREF="JavaScript:hhobj_4.Click()">CHeaderCtrl::SetImageList</A>.<BR><BR></LI>

	<LI>Modify the header item to display an image from the associated image list. The following example assigns the first image, from <CODE>m_phdrImages</CODE>, to the first header item, <CODE>m_pHdrCtrl</CODE>.
<PRE><CODE>HDITEM    curItem;

m_pHdrCtrl-&gt;SetImageList(m_pHdrImages);
m_pHdrCtrl-&gt;GetItem(0, &amp;curItem);
curItem.mask= HDI_IMAGE | HDI_FORMAT;
curItem.iImage= 0;
curItem.fmt= HDF_LEFT | HDF_IMAGE | HDF_STRING;
m_pHdrCtrl-&gt;SetItem(0, &amp;curItem);
</CODE></PRE>
</LI>
</OL>

<P>For detailed information on the parameter values used, consult the pertinent <A HREF="JavaScript:hhobj_5.Click()">CHeaderCtrl</A>.</P>

<P class=indent><B><B>Note</B></B>&nbsp;&nbsp;&nbsp;It is possible to have multiple controls using the same image list. For instance, in a standard list view control, there could be an image list (of 16 x 16 pixel images) used by both the small icon view of a list view control and the header items of the list view control.</P>
</font>
</BODY>
</HTML>
