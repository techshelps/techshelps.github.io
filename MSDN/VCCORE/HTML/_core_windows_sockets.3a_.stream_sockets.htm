<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Windows Sockets: Stream Sockets</TITLE>
<style>@import url(stylesheets/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="stylesheets/msdn_ie3.css"></HEAD>
<BODY>

<TABLE ALIGN=right WIDTH=0 BORDER=0><TR><TD>
<OBJECT ID="hhobj_1" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink">
	<PARAM NAME="DefaultTopic" VALUE="_topic_not_found.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="_vc_addpf_home">
</OBJECT>
<OBJECT ID="hhobj_2" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink">
	<PARAM NAME="DefaultTopic" VALUE="_topic_not_found.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="_sample_mfc_CHATTER">
</OBJECT>
<OBJECT ID="hhobj_3" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink">
	<PARAM NAME="DefaultTopic" VALUE="_topic_not_found.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="_sample_mfc_CHATSRVR">
</OBJECT>
</TD></TR></TABLE>


<font face="verdana,arial,helvetica" size="2">
<H1><A NAME="_core_windows_sockets.3a_.stream_sockets"></A>Windows Sockets: Stream Sockets</H1>

<P><A HREF="JavaScript:hhobj_1.Click()">Home</A>  |&nbsp; <A HREF="_core_windows_sockets_for_network_programming.3a_.overview.htm">Overview</A>  |&nbsp; <A HREF="_core_windows_sockets_tasks.htm">How Do I</A>  |&nbsp; <A HREF="_core_windows_sockets_sample_list.htm">Sample</A></P>

<P>This article describes stream sockets, one of the two Windows Socket types available. (The other type is the <A HREF="_core_windows_sockets.3a_.datagram_sockets.htm">datagram socket</A>.)</P>

<P>Stream sockets provide for a data flow without record boundaries — a stream of bytes that can be bi-directional (the application is full-duplex: it can both transmit and receive through the socket). Streams can be relied upon to deliver sequenced, unduplicated data. (“Sequenced” means that packets are delivered in the order sent. “Unduplicated” means that you get a particular packet only once.) Receipt of stream messages is guaranteed, and streams are well-suited to handling large amounts of data. </P>

<P>The network transport layer may break up or group data into packets of reasonable size. The <B>CSocket</B> class will handle the packing and unpacking for you.</P>

<P>Streams are based on explicit connections: socket A requests a connection to socket B; socket B accepts or rejects the connection request.</P>

<P>A telephone call provides a good analogy for a stream: under normal circumstances, the receiving party hears what you say in the order that you say it, without duplication or loss. Stream sockets are appropriate, for example, for implementations such as the File Transfer Protocol (FTP), which facilitates transferring ASCII or binary files of arbitrary size.</P>

<P>Stream sockets are preferable to datagram sockets when the data must be guaranteed to arrive and when data size is large. For more information about stream sockets, see the Windows Sockets specification. The specification is available in the Win32 SDK.</P>

<P>The MFC Advanced Concepts samples <A HREF="JavaScript:hhobj_2.Click()">CHATTER</A> and <A HREF="JavaScript:hhobj_3.Click()">CHATSRVR</A> use stream sockets. These samples might have been designed to use a datagram socket for broadcasting to all receiving sockets on the network. The present design is superior because (a) the broadcast model is subject to network flood (or “storm”) problems, (b) the client-server model adopted subsequently is more efficient, (c) the stream model supplies reliable data transfer, where the datagram model does not, and (d) the final model takes advantage of the ability to communicate between Unicode and ANSI socket applications that class <B>CArchive</B> lends to class <B>CSocket</B>. </P>

<P class=indent><B><B>Important</B></B>&nbsp;&nbsp;&nbsp;If you use class <B>CSocket</B>, you must use a stream. An MFC assertion fails if you specify the socket type as <B>SOCK_DGRAM</B>.</P>

<P><B>See Also</B>&nbsp;&nbsp;&nbsp;<A HREF="_core_windows_sockets.3a_.background.htm">Windows Sockets: Background</A> </P>
</font>
</BODY>
</HTML>
