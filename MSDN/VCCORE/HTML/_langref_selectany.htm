<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>selectany</TITLE>
<style>@import url(stylesheets/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="stylesheets/msdn_ie3.css"></HEAD>
<BODY>

<TABLE ALIGN=right WIDTH=0 BORDER=0><TR><TD>
<OBJECT ID="hhobj_1" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink">
	<PARAM NAME="DefaultTopic" VALUE="_topic_not_found.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="_gloss_COMDAT_record">
</OBJECT>
</TD></TR></TABLE>


<font face="verdana,arial,helvetica" size="2">
<H1><A NAME="_langref_selectany"></A>selectany</H1>

<P><B>Microsoft Specific —&gt;</B></P>

<P><B>__declspec( selectany )</B> <I>declarator</I></P>

<P>This attribute tells the compiler that the declared global data item is a pick-any <A HREF="JavaScript:hhobj_1.Click()">COMDAT</A>. At link time, if multiple definitions of a COMDAT are seen, the linker picks one and discards the rest. If the linker option <A HREF="_core_.2f.opt.htm">/OPT:REF</A> (Optimizations) is selected, then COMDAT elimination will occur to remove all the unreferenced data items in the linker output.</P>

<P>A global data item can normally be initialized only once in an EXE or DLL project. This attribute can be used in initializing global data defined by headers, when the same header appears in more than one source file. This attribute is available in both the C and C++ compilers.</P>

<P class=indent><B><B>Note</B></B>&nbsp;&nbsp;&nbsp;This attribute can only be applied to the actual initialization of global data items that are externally visible.</P>

<P><B>END Microsoft Specific</B></P>

<P class=label><B>Example</B></P>

<P>This code shows how to use the <B>selectany</B> attribute:</P>

<PRE><CODE>//Correct - x1 is initialized and externally visible 
__declspec(selectany) int x1=1;

//Incorrect - const is by default static in C++, so 
//x2 is not visible externally (This is OK in C, since
//const is not by default static in C)
const __declspec(selectany) int x2 =2;

//Correct - x3 is extern const, so externally visible
extern const __declspec(selectany) int x3=3;

//Correct - x4 is extern const, so it is externally visible
extern const int x4;
const __declspec(selectany) int x4=4;

//Incorrect - __declspec(selectany) is applied to the uninitialized
//declaration of x5
extern __declspec(selectany) int x5;</CODE></PRE>

<P><B>See Also</B>&nbsp;&nbsp;&nbsp;<A HREF="_langref___declspec.htm">__declspec</A></P>
</font>
</BODY>
</HTML>
