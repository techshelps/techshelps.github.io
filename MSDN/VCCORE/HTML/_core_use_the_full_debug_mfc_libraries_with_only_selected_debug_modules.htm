<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Use the Full Debug MFC Libraries with Only Selected Debug Modules</TITLE>
<style>@import url(stylesheets/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="stylesheets/msdn_ie3.css"></HEAD>
<BODY>

<TABLE ALIGN=right WIDTH=0 BORDER=0><TR><TD>
<OBJECT ID="hhobj_1" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink">
	<PARAM NAME="DefaultTopic" VALUE="_topic_not_found.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="_vc_compiling_home">
</OBJECT>
</TD></TR></TABLE>
<font face="verdana,arial,helvetica" size="2">
<H1><A NAME="_core_use_the_full_debug_mfc_libraries_with_only_selected_debug_modules"></A>Use the Full Debug MFC Libraries with Only Selected Debug Modules</H1>

<P><A HREF="JavaScript:hhobj_1.Click()">Home</A>  |&nbsp; <A HREF="_core_creating_a_release_build.3a_.overview.htm">Overview</A></P>

<P>This method allows you to step into the MFC source code as well as providing the other debug facilities. This makes use of both the Debug and Release modes of the Visual C++ makefile, thus making necessary the changes described below (and also making a "rebuild all" necessary when a full release build is required):

<OL>
	<LI>On the <B>Build</B> menu, click <B>Set Active Configuration,</B> and then click the release version of the project in the <B>Set Active Project Configuration</B> dialog box.<BR><BR></LI>

	<LI>On the <B>Project</B> menu, click <B>Settings</B> to open the <B>Project Settings</B> dialog box.<BR><BR></LI>

	<LI>In the <B>Microsoft Foundation Classes</B> list box in the <B>General</B> tab, click <B>Use MFC in a Static Library</B>.<BR><BR></LI>

	<LI>In the <B>Category</B> list box in the <B>C/C++</B> tab, click <B>Preprocessor</B>. Change "NDEBUG" to "_DEBUG" in the <B>Preprocessor definitions</B> text box.<BR><BR></LI>

	<LI>In the <B>Category</B> list box in the <B>Link</B> tab, click <B>Input</B>. Type <B>NAFXCWD.LIB</B> in the <B>Object/library modules</B> text box.<BR><BR></LI>

	<LI>Click <B>OK</B> to save the new build options and close the <B>Project Settings</B> dialog box.<BR><BR></LI>

	<LI>On the <B>Build</B> menu, click <B>Rebuild All</B>. This removes all debug information from your modules, but does not affect the MFC library.<BR><BR></LI>

	<LI>For each project file in which you want to include debug information, follow the steps of <A HREF="_core_use_per.2d.file_build_options.htm">Use Per-File Build Options</A>, specifying the desired degree of debug information. 
<P class=atl><B><B>Note</B></B>&nbsp;&nbsp;&nbsp;If you are using an AppWizard-generated application or have precompiled headers, you either have to recompile them before compiling the other modules or turn off the precompiled headers. Warning C4650 and error message C2855 are returned if this is not done correctly.</p></LI>

	<LI>On the <B>Build</B> menu, click <B>Build &lt;EXE name&gt;</B> to rebuild project files that are out of date.</LI>
</OL>

<P>This includes debug symbols for the selected modules. You are able to set breakpoints only within modules you have compiled using debug information. If you need to reduce the executable size even further, you can use the MFC debug libraries as described in <A HREF="_core_build_the_debug_mfc_libraries_without_codeview_information.htm">Build the Debug MFC Libraries Without CodeView Information</A>.</P>
</font>
</BODY>
</HTML>
