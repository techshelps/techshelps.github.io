<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Alternatives to the Document/View Architecture</TITLE>
<style>@import url(stylesheets/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="stylesheets/msdn_ie3.css"></HEAD>
<BODY>

<TABLE ALIGN=right WIDTH=0 BORDER=0><TR><TD>
<OBJECT ID="hhobj_1" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink">
	<PARAM NAME="DefaultTopic" VALUE="_topic_not_found.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="_vc_addui_home">
</OBJECT>
<OBJECT ID="hhobj_2" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink">
	<PARAM NAME="DefaultTopic" VALUE="_topic_not_found.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="_sample_mfc_scribble">
</OBJECT>
<OBJECT ID="hhobj_3" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink">
	<PARAM NAME="DefaultTopic" VALUE="_topic_not_found.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="_gs_Creating_the_Document">
</OBJECT>
<OBJECT ID="hhobj_4" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink">
	<PARAM NAME="DefaultTopic" VALUE="_topic_not_found.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="_mfc_CDocument">
</OBJECT>
<OBJECT ID="hhobj_5" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink">
	<PARAM NAME="DefaultTopic" VALUE="_topic_not_found.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="_mfc_CCmdTarget">
</OBJECT>
<OBJECT ID="hhobj_6" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink">
	<PARAM NAME="DefaultTopic" VALUE="_topic_not_found.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="_mfc_CObject">
</OBJECT>
</TD></TR></TABLE>


<font face="verdana,arial,helvetica" size="2">
<H1><A NAME="_core_alternatives_to_the_document.2f.view_architecture"></A>Alternatives to the Document/View Architecture</H1>

<P><A HREF="JavaScript:hhobj_1.Click()">Home</A>  |&nbsp; <A HREF="_core_document.2f.view.3a_.overview.htm">Overview</A>  |&nbsp; <A HREF="_core_document.2f.view_tasks.htm">How Do I</A>  |&nbsp; <A HREF="JavaScript:hhobj_2.Click()">Sample</A>  |&nbsp; <A HREF="JavaScript:hhobj_3.Click()">Tutorial</A></P>

<P>MFC applications normally use the document/view architecture to manage information, file formats, and the visual representation of data to users. For the majority of desktop applications, the document/view architecture is an appropriate and efficient application architecture. This architecture separates data from viewing and, in most cases, simplifies your application and reduces redundant code.</P>

<P>However, the document/view architecture is not appropriate for some situations. Consider these examples:

<UL type=disc>
	<LI>If you are porting an application written in C for Windows, you might want to complete your port before adding document/view support to your application.<BR><BR></LI>

	<LI>If you are writing a lightweight utility, you might find that you can do without the document/view architecture.<BR><BR></LI>

	<LI>If your original code already mixes data management with data viewing, moving the code to the document/view model is not worth the effort because you must separate the two. You might prefer to leave the code as is.</LI>
</UL>

<P>To create an application that does not use the document/view architecture, clear the <B>Document/View architecture support</B> check box in step 1 of the MFC AppWizard. See <A HREF="_core_the_mfc_appwizard_.28.exe_version.293a_.step.2d.by.2d.step.htm">The MFC AppWizard (EXE version): Step-by-Step</A> for details on the MFC AppWizard.</P>

<P class=indent><B>Note</B>&nbsp;&nbsp;&nbsp;Dialog-based applications produced by AppWizard do not use the document/view architecture, so the <B>Document/View architecture support</B> check box is disabled if you select the dialog application type.</P>

<P>The Visual C++ wizards, as well as the source and dialog editors, work with the generated application just as they would with any other Wizard-generated application. The application can support toolbars, scrollbars, and a status bar, and has an <B>About</B> box. Your application will not register any document templates, and it will not contain a document class.</P>

<P>Note that your generated application has a view class, <B>CChildView</B>, derived from <B>CWnd</B>. MFC creates and positions one instance of the view class within the frame windows created by your application. MFC still enforces using a view window, because it simplifies positioning and managing the application's content. You can add painting code to the <B>OnPaint</B> member of this class. Your code should add scrollbars to the view rather than to the frame.</P>

<P>Because the document/view architecture provided by MFC is responsible for implementing many of an application's basic features, its absence in your project means that you are responsible for implementing many important features of your application:

<UL type=disc>
	<LI>As provided by AppWizard, the menu for your application contains only <B>New</B> and <B>Exit</B> commands on the <B>File</B> menu. The generated menu resource doesn't have an <B>Edit</B> menu and will not support an MRU list.<BR><BR></LI>

	<LI>You must add handler functions and implementations for any commands that your application will support, including <B>Open</B> and <B>Save</B> on the <B>File</B> menu. MFC normally provides code to support these features, but that support is tightly bound to the document/view architecture.<BR><BR></LI>

	<LI>The toolbar for your application, if you requested one, will be minimal.</LI>
</UL>

<P>It is strongly recommended that you use the MFC AppWizard to create applications without the document/view architecture, because the AppWizard guarantees a correct MFC architecture. However, if you must avoid using the AppWizard, here are several approaches for bypassing the document/view architecture in your code:

<UL type=disc>
	<LI>Treat the document as an unused appendage and implement your data management code in the view class, as suggested above. Overhead for the document is relatively low. A single <A HREF="JavaScript:hhobj_4.Click()">CDocument</A> object incurs a small amount of overhead by itself, plus the small overhead of <B>CDocument</B>'s base classes, <A HREF="JavaScript:hhobj_5.Click()">CCmdTarget</A> and <A HREF="JavaScript:hhobj_6.Click()">CObject</A>. Both of the latter classes are small.
<P class=tl>Declared in <B>CDocument</B>:</P>
<UL type=disc>
	<LI>Two <B>CString</B> objects.<BR><BR></LI>

	<LI>Three <B>BOOL</B>s.<BR><BR></LI>

	<LI>One <B>CDocTemplate</B> pointer.<BR><BR></LI>

	<LI>One <B>CPtrList</B> object, which contains a list of the document's views.</LI>
</UL>

<P class=tl>Additionally, the document requires the amount of time to create the document object, its view objects, a frame window, and a document template object.</P></LI>

	<LI>Treat both the document and view as unused appendages. Put your data management and drawing code in the frame window rather than the view. This approach is closer to the C-language programming model.<BR><BR></LI>

	<LI>Override the parts of the MFC framework that create the document and view to eliminate creating them at all. The document creation process begins with a call to <B>CWinApp::AddDocTemplate</B>. Eliminate that call from your application class's <B>InitInstance</B> member function and, instead, create a frame window in <B>InitInstance</B> yourself. Put your data management code in your frame window class. The document/view creation process is illustrated in <A HREF="_core_document.2f.view_creation.htm">Document/View Creation</A>. This is more work and requires a deeper understanding of the framework, but it frees you entirely of the document/view overhead.</LI>
</UL>

<P>The article <A HREF="_core_mfc.3a_.using_database_classes_without_documents_and_views.htm">MFC: Using Database Classes Without Documents and Views</A> gives more concrete examples of document/view alternatives in the context of database applications.</P>
</font>
</BODY>
</HTML>
