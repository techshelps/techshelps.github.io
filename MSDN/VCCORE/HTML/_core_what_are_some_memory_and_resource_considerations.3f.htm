<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>What Are Some Memory and Resource Considerations?</TITLE>
<style>@import url(stylesheets/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="stylesheets/msdn_ie3.css"></HEAD>
<BODY>

<TABLE ALIGN=right WIDTH=0 BORDER=0><TR><TD>
<OBJECT ID="hhobj_1" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink">
	<PARAM NAME="DefaultTopic" VALUE="_topic_not_found.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="_vc_addpf_home">
</OBJECT>
</TD></TR></TABLE>
<font face="verdana,arial,helvetica" size="2">
<H1><A NAME="_core_what_are_some_memory_and_resource_considerations.3f"></A>What Are Some Memory and Resource Considerations?</H1>

<P><A HREF="JavaScript:hhobj_1.Click()">Home</A>  |&nbsp; <A HREF="_core_internet_support.3a_.overview.htm">Overview</A>  |&nbsp; <A HREF="_core_internet_tasks.htm">How Do I</A>  |&nbsp; <A HREF="_core_internet_programming.3a_.frequently_asked_questions.htm">FAQ</A>  |&nbsp; <A HREF="_core_internet_topics.htm">Details</A>  |&nbsp; <A HREF="_core_internet_sample_list.htm">Sample</A></P>

<H2><A NAME="_core_must_my_application_be_thread.2d.safe.3f"></A>Must My Application Be Thread-Safe?</H2>

<P>Yes. ISAPI runs as part of the Web server. On a multithreaded server such as Microsoft Internet Information Server, your application runs in the context of an NT service. Your application may be concurrently called multiple times from different threads. Data must be protected by critical sections.</P>

<H2><A NAME="_core_how_can_i_plan_for_handling_simultaneous_requests.3f"></A>How Can I Plan For Handling Simultaneous Requests?</H2>

<P>ISAPI DLLs should support multiple simultaneous requests, and it is the responsibility of the ISAPI DLL developer to ensure that critical data is protected. </P>

<P>Web servers are built to concurrently handle multiple requests. Your application plus many others will be using the server. Client traffic of millions of users is seen daily at busy sites such as <CODE>www.microsoft.com</CODE> and popular search engines. Users want fast response, and they will cancel the request if it takes too long. </P>

<P>As mentioned earlier, be thread-safe. Do not hold on to resources or connections unless you need to. Don’t use global variables.</P>

<P>When you get a filter notification:

<OL>
	<LI>Process the message quickly.<BR><BR></LI>

	<LI>Pass it along to the next filter.<BR><BR></LI>

	<LI>Don’t request high-priority notification unless you need to: for example, if you have an authentication filter that must run first, or if you are providing or preprocessing data used by other filters.</LI>
</OL>
</font>
</BODY>
</HTML>
