<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Compiler Warning (level 2) C4096</TITLE>
<style>@import url(stylesheets/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="stylesheets/msdn_ie3.css"></HEAD>
<BODY>


<font face="verdana,arial,helvetica" size="2">
<H1><A NAME="c4096"></A><SUP></SUP>Compiler Warning (level 2) C4096</H1>

<P class=dt><B>'attribute1' must be used with 'attribute2'</B></P>

<P><I>Attribute2</I> requires the use of <I>attribute1</I>.</P>

<P>For example, using a variable number of arguments (...) requires that <B>__cdecl</B> be used. Also, <B>__interrupt</B> functions must be <B>__far</B> and <B>__cdecl</B>.</P>

<P>The compiler assumed the <I>attribute1</I> attribute for the function.</P>

<P>Here is an example of the type of code that can cause this problem.</P>

<P>When compiling the project files that contain the following preprocessor directive:</P>

<PRE><CODE>#include &lt;oledlg.h&gt;
</CODE></PRE>

<P>with the /Gr switch, the compiler generates the following warning statement:</P>

<PRE><CODE>d:\msdev4\include\oledlg.h(1689): warning C4096 ‘__cdecl’ must be used with ‘...’
</CODE></PRE>

<P>The /Gr switch sets __<B>fastcall</B> to be the default calling convention.&nbsp; Because CDECL in the prototype is defined to nothing, the warning points to the location of the prototype:</P>

<PRE><CODE>int EXPORT FAR CDECL OleUIPromptUserA(int nTemplate, HWND hwndParent, ...)
</CODE></PRE>

<P>The above example can be fixed by adding the following preprocessor directive to the project:</P>

<PRE><CODE>#define DOSWIN32
</CODE></PRE>

<P>which defines CDECL properly.</P>
</font>
</BODY>
</HTML>
