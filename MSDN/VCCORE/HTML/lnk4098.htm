<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Linker Tools Warning LNK4098</TITLE>
<style>@import url(stylesheets/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="stylesheets/msdn_ie3.css"></HEAD>
<BODY>


<font face="verdana,arial,helvetica" size="2">
<H1><A NAME="lnk4098"></A><SUP></SUP>Linker Tools Warning LNK4098</H1>

<P class=dt><B>defaultlib "library" conflicts with use of other libs; use /NODEFAULTLIB:library</B></P>

<P>You are trying to link with incompatible libraries.</P>

<P class=indent><B><B>Important</B></B>&nbsp;&nbsp;&nbsp;The run-time libraries now contain directives to prevent mixing different types. You’ll receive this warning if you try to use different types or debug and non-debug versions of the run-time library in the same program. For example, if you compiled one file to use one kind of run-time library and another file to use another kind (for example, single-threaded versus multithreaded) and tried to link them, you’ll get this warning. You should compile all source files to use the same run-time library. See the <A HREF="_core_.2f.md.2c_2f.ml.2c_2f.mt.2c_2f.ld.htm">Use Run-Time Library</A> (MD, /ML, /MT, /LD) compiler options for more information. </P>

<P>You can use the linker’s <A HREF="_core_.2f.verbose.htm">/VERBOSE:LIB</A> switch to determine which libraries the linker is searching. If you receive LNK4098 and want to create an executable file that uses, for example, the single-threaded, non-debug run-time libraries, use the /VERBOSE:LIB option to find out which libraries the linker is searching. The linker should print LIBC.LIB and not LIBCMT.LIB, MSVCRT.LIB, LIBCD.LIB, LIBCMTD.LIB, or MSVCRTD.LIB as the libraries searched. You can tell the linker to ignore the the incorrect run-time libraries by typing the incorrect libraries in the Ignore Libraries text box on the Link tab of the Settings dialog box in Developer’s Studio or by using the /NODEFAULTLIB:<I>library</I> option with LINK for each library you want to ignore. See the <A HREF="_core_.2f.nodefaultlib.htm">Ignore Libraries</A> (/NODEFAULTLIB) linker option for more information.</P>

<P>The table below shows which libraries should be ignored depending on which run-time library you want to use.</P>

<TABLE border=1 cellpadding=5 cols=2 frame=below rules=rows>

<TR VALIGN="top">
<TD class=label width=50%><B>To use this run-time library</B></TD>
<TD class=label width=50%><B>Ignore these libraries</B></TD>
</TR>

<TR VALIGN="top">
<TD width=50%>Single-threaded (libc.lib)</TD>
<TD width=50%>libcmt.lib, msvcrt.lib, libcd.lib, libcmtd.lib, msvcrtd.lib</TD>
</TR>

<TR VALIGN="top">
<TD width=50%>Multithreaded (libcmt.lib)</TD>
<TD width=50%>libc.lib, msvcrt.lib, libcd.lib, libcmtd.lib, msvcrtd.lib</TD>
</TR>

<TR VALIGN="top">
<TD width=50%>Multithreaded using DLL (msvcrt.lib)</TD>
<TD width=50%>libc.lib, libcmt.lib, libcd.lib, libcmtd.lib, msvcrtd.lib</TD>
</TR>

<TR VALIGN="top">
<TD width=50%>Debug Single-threaded (libcd.lib)</TD>
<TD width=50%>libc.lib, libcmt.lib, msvcrt.lib, libcmtd.lib, msvcrtd.lib</TD>
</TR>

<TR VALIGN="top">
<TD width=50%>Debug Multithreaded (libcmtd.lib)</TD>
<TD width=50%>libc.lib, libcmt.lib, msvcrt.lib, libcd.lib, msvcrtd.lib</TD>
</TR>

<TR VALIGN="top">
<TD width=50%>Debug Multithreaded using DLL (msvcrtd.lib)</TD>
<TD width=50%>libc.lib, libcmt.lib, msvcrt.lib, libcd.lib, libcmtd.lib</TD>
</TR>
</TABLE><BR>

<P>For example, if you received this warning and you want to create an executable file that uses the non-debug, single-threaded version of the run-time libraries, you could use the following options with the linker:</P>

<PRE><CODE>/NODEFAULTLIB:libcmt.lib /NODEFAULTLIB:msvcrt.lib /NODEFAULTLIB:libcd.lib /NODEFAULTLIB:libcmtd.lib /NODEFAULTLIB:msvcrtd.lib
</CODE></PRE>
</font>
</BODY>
</HTML>
