<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Profiler Fatal Errors PRF1012 and PRF1306</TITLE>
<style>@import url(stylesheets/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="stylesheets/msdn_ie3.css"></HEAD>
<BODY>

<TABLE ALIGN=right WIDTH=0 BORDER=0><TR><TD>
<OBJECT ID="hhobj_1" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink">
	<PARAM NAME="DefaultTopic" VALUE="_topic_not_found.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="_vc_perf_home">
</OBJECT>
<OBJECT ID="hhobj_2" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink">
	<PARAM NAME="DefaultTopic" VALUE="_topic_not_found.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="vceditions">
</OBJECT>
</TD></TR></TABLE>


<font face="verdana,arial,helvetica" size="2">
<H1><A NAME="_core_profiler_fatal_errors_prf1012_and_prf1306"></A>Profiler Fatal Errors PRF1012 and PRF1306</H1>

<P><A HREF="JavaScript:hhobj_1.Click()">Home</A>  |&nbsp; <A HREF="_core_profiling.3a_.overview.htm">Overview</A>  |&nbsp; <A HREF="_core_procedures_for_performance_tuning.htm">How Do I</A></P>

<P class=indent><B><B>Feature Only in Professional and Enterprise Editions</B></B>&nbsp;&nbsp;&nbsp;Profiling is supported only in Visual C++ Professional and Enterprise Editions. For more information, see <A HREF="JavaScript:hhobj_2.Click()">Visual C++ Editions</A>.</P>

<P>When trying to profile a program using the Visual C++ development environment, you may get the following fatal error messages:</P>

<PRE><CODE>PROFILE.DLL : fatal error PRF1012 : cannot read expected number of bytes from file &lt;path&gt;\xxxx.pbi
PREP : fatal error PRF1306: PBT or PBO file &lt;path&gt;\xxxx.pbo is not derived from same PBI file
</CODE></PRE>

<P>It is also possible to get the following error if you are using the incorrect PROFILE.DLL:</P>

<PRE><CODE>PROFILE.DLL: fatal error PRF1005: operating system ran out of memory.
</CODE></PRE>

<P>All these error messages are caused by the wrong version of PROFILE.DLL being loaded in memory and used by the profiler. Most likely a copy of PROFILE.DLL from Visual C++, 32-bit Edition, version 1.0 has been loaded by Windows NT.</P>

<P>To correct the situation, make sure the PROFILE.DLL from Visual C++ version 2.0, 2.1 or later is used by the profiler. Do a file search on your system to determine where the older PROFILE.DLL is located, and rename or delete the file. Make sure that the only PROFILE.DLL on your system is located in the Program Files\Microsoft Visual Studio\VC98\bin directory for Visual C++.</P>

<P>If for some reason there is no PROFILE.DLL in the Program Files\Microsoft Visual Studio\VC98\bin directory, you can restore the file by running Visual C++'s setup program and doing a custom installation. To do this, clear all options in the 'Tools Options' dialog box except for 'Profiler'. You also need to make sure the installation directory you specify is the same as your current Visual C++ installation.</P>

<P>The incorrect PROFILE.DLL will probably be found in the <I>winnt</I>\SYSTEM32 directory where <I>winnt</I> refers to the directory that Windows NT is installed. Or the DLL may be in another directory found on the PATH. The correct file should be located in the Visual C++ Program Files\Microsoft Visual Studio\VC98\bin directory.</P>

<P>The date and size of the PROFILE.DLL files from the most recent Visual C++ 32-bit Edition versions prior to 6.0 are listed here:

<UL type=disc>
	<LI>Visual C++ 5.0 :&nbsp; 10/01/97&nbsp; 10:47p&nbsp; 107,520&nbsp; PROFILE.DLL&nbsp; <BR><BR></LI>

	<LI>Visual C++ 4.2 :&nbsp; 02/08/96&nbsp; 07:48p&nbsp; 93,184&nbsp; PROFILE.DLL&nbsp; <BR><BR></LI>

	<LI>Visual C++ 4.1 :&nbsp; 02/08/96&nbsp; 07:48p&nbsp; 93,184&nbsp; PROFILE.DLL<BR><BR></LI>

	<LI>Visual C++ 4.0 :&nbsp; 09/29/95&nbsp; 09:49p&nbsp; 78,848&nbsp; PROFILE.DLL</LI>
</UL>
</font>
</BODY>
</HTML>
