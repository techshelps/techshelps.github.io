<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>CWinApp: The Application Class</TITLE>
<style>@import url(stylesheets/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="stylesheets/msdn_ie3.css"></HEAD>
<BODY>

<TABLE ALIGN=right WIDTH=0 BORDER=0><TR><TD>
<OBJECT ID="hhobj_1" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink">
	<PARAM NAME="DefaultTopic" VALUE="_topic_not_found.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="_vc_addpf_home">
</OBJECT>
<OBJECT ID="hhobj_2" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink">
	<PARAM NAME="DefaultTopic" VALUE="_topic_not_found.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="MFC samples">
</OBJECT>
<OBJECT ID="hhobj_3" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink">
	<PARAM NAME="DefaultTopic" VALUE="_topic_not_found.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="_mfc_CWinApp">
</OBJECT>
</TD></TR></TABLE>


<font face="verdana,arial,helvetica" size="2">
<H1><A NAME="_core_cwinapp.3a_.the_application_class"></A>CWinApp: The Application Class</H1>

<P><A HREF="JavaScript:hhobj_1.Click()">Home</A>  |&nbsp; <A HREF="_core_mfc.3a_.overview.htm">Overview</A>  |&nbsp; <A HREF="_core_mfc_tasks.htm">How Do I</A>  |&nbsp; <A HREF="JavaScript:hhobj_2.Click()">Sample</A>  |&nbsp; <A HREF="_core_mfc_tutorials_available.htm">Tutorial</A></P>

<P>The main application class in MFC encapsulates the initialization, running, and termination of an application for Windows. An application built on the framework must have one (and only one) object of a class derived from <A HREF="JavaScript:hhobj_3.Click()">CWinApp</A>. This object is constructed before windows are created. (<B>CWinApp</B> is derived from <B>CWinThread</B>, which represents the main thread of execution for your application, which might have one or more threads. In recent versions of MFC, the <B>InitInstance</B>, <B>Run</B>, <B>ExitInstance</B>, and <B>OnIdle</B> member functions are actually in class <B>CWinThread</B>. These functions are discussed here as if they were <B>CWinApp</B> members instead, since the discussion concerns the object's role as application object rather than as primary thread.)</P>

<P class=indent><B><B>Note</B></B>&nbsp;&nbsp;&nbsp;Your application class constitutes your application's primary thread of execution. Using Win32 API functions, you can also create secondary threads of execution. These threads can use the MFC library. For more information, see <A HREF="_core_multithreading_topics.htm">Multithreading Topics</A>.</P>

<P>Like any program for Windows, your framework application has a <B>WinMain</B> function. In a framework application, however, you don't write <B>WinMain</B>. It is supplied by the class library and is called when the application starts up. <B>WinMain</B> performs standard services such as registering window classes. Then it calls member functions of the application object to initialize and run the application. (You can customize <B>WinMain</B> by overriding the <B>CWinApp</B> member functions that <B>WinMain</B> calls.)</P>

<P>To initialize the application, <B>WinMain</B> calls your application object's <CODE>InitApplication</CODE> and <CODE>InitInstance</CODE> member functions. To run the application's message loop, <B>WinMain</B> calls the <B>Run</B> member function. On termination, <B>WinMain</B> calls the application object's <CODE>ExitInstance</CODE> member function. The figure Sequence of Execution below shows the sequence of execution in a framework application.</P>

<P class=label><B>Sequence of Execution</B></P>

<P><IMG SRC="m01sqex.gif" ALT="" BORDER=0></P>

<P class=indent><B><B>Note</B></B>&nbsp;&nbsp;&nbsp;Names shown in <B>bold</B> type in this documentation indicate elements supplied by the Microsoft Foundation Class Library and Visual C++. Names shown in <CODE>monospaced</CODE> type indicate elements that you create or override.</P>

<H3>What do you want to know more about?</H3>

<UL type=disc>
	<LI><A HREF="_core_cwinapp_and_appwizard.htm">CWinApp and AppWizard</A><BR><BR></LI>

	<LI><A HREF="_core_overridable_cwinapp_member_functions.htm">Overridable CWinApp member functions</A><BR><BR></LI>

	<LI><A HREF="_core_special_cwinapp_services.htm">Special CWinApp services</A></LI>
</UL>
</font>
</BODY>
</HTML>
