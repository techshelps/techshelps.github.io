<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>International Enabling</TITLE>
<style>@import url(stylesheets/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="stylesheets/msdn_ie3.css"></HEAD>
<BODY>

<TABLE ALIGN=right WIDTH=0 BORDER=0><TR><TD>
<OBJECT ID="hhobj_1" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink">
	<PARAM NAME="DefaultTopic" VALUE="_topic_not_found.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="_vc_addpf_home">
</OBJECT>
<OBJECT ID="hhobj_2" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink">
	<PARAM NAME="DefaultTopic" VALUE="_topic_not_found.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="string editor">
</OBJECT>
</TD></TR></TABLE>


<font face="verdana,arial,helvetica" size="2">
<H1><A NAME="_core_international_enabling"></A><SUP></SUP>International Enabling</H1>

<P><A HREF="JavaScript:hhobj_1.Click()">Home</A>  |&nbsp; <A HREF="_core_unicode_programming_tasks.htm">Unicode Tasks</A>  |&nbsp; <A HREF="_core_multibyte_character_set_.28.mbcs.29_.tasks.htm">Multibyte Character Set (MBCS) Tasks</A></P>

<P>Most traditional C and C++ code makes assumptions about character and string manipulation that do not work well for international applications. While both MFC and the run-time library support Unicode or MBCS, there is still work for you to do. To guide you, this section explains the meaning of “international enabling” in Visual C++:

<UL type=disc>
	<LI>Both Unicode and MBCS are enabled by means of portable data types in MFC function parameter lists and return types. These types are conditionally defined in the appropriate ways, depending on whether your build defines the symbol <B>_UNICODE</B> or the symbol <B>_MBCS</B> (which means DBCS). Different variants of the MFC libraries are automatically linked with your application, depending on which of these two symbols your build defines.<BR><BR></LI>

	<LI>Class library code uses portable run-time functions and other means to ensure correct Unicode or MBCS behavior.<BR><BR></LI>

	<LI>You still must handle certain kinds of internationalization tasks in your code:
<UL type=disc>
	<LI>Use the same portable run-time functions that make MFC portable under either environment.<BR><BR></LI>

	<LI>Make literal strings and characters portable under either environment, using the <B>_T</B> macro. For more information, see <A HREF="_core_generic.2d.text_mappings_in_tchar..h.htm">Generic-Text Mappings in TCHAR.H</A>. <BR><BR></LI>

	<LI>Take precautions when parsing strings under MBCS. These precautions are not needed under Unicode. For more information, see <A HREF="_core_mbcs_programming_tips.htm">MBCS Programming Tips</A>.<BR><BR></LI>

	<LI>Take care if you mix ANSI (8-bit) and Unicode (16-bit) characters in your application. It’s possible to use ANSI characters in some parts of your program and Unicode characters in others, but you cannot mix them in the same string.<BR><BR></LI>

	<LI>Don’t “hard-code” strings in your application. Instead, make them STRINGTABLE resources by adding them to the application’s .rc file. Your application can then be localized without requiring source code changes or recompilation. For more information on STRINGTABLE resources, see the <A HREF="JavaScript:hhobj_2.Click()">String Editor</A> documentation in <I>Visual C++ User’s Guide</I>.</LI>
</UL>
</LI>
</UL>

<P class=indent><B><B>Note</B></B>&nbsp;&nbsp;&nbsp;European and MBCS character sets have some characters, such as accented letters, with character codes greater than 0x80. Since most code uses signed characters, these characters greater than 0x80 are sign-extended when converted to <B>int</B>. This is a problem for array indexing because the sign-extended characters, being negative, will index outside the array.</P>

<P class=indent>Languages that use MBCS, such as Japanese, are also unique. Since a character may consist of one or two bytes, you should always manipulate both bytes at the same time.</P>

<P><B>See Also</B>&nbsp;&nbsp;&nbsp;<A HREF="_core_internationalization_strategies.htm">Internationalization Strategies</A></P>
</font>
</BODY>
</HTML>
