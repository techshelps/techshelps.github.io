<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Help: F1 and SHIFT+F1 Help</TITLE>
<style>@import url(stylesheets/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="stylesheets/msdn_ie3.css"></HEAD>
<BODY>

<TABLE ALIGN=right WIDTH=0 BORDER=0><TR><TD>
<OBJECT ID="hhobj_1" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink">
	<PARAM NAME="DefaultTopic" VALUE="_topic_not_found.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="_vc_addui_home">
</OBJECT>
<OBJECT ID="hhobj_2" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink">
	<PARAM NAME="DefaultTopic" VALUE="_topic_not_found.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="_Sample_mfc_scribble">
</OBJECT>
<OBJECT ID="hhobj_3" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink">
	<PARAM NAME="DefaultTopic" VALUE="_topic_not_found.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="Scribble help">
</OBJECT>
<OBJECT ID="hhobj_4" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink">
	<PARAM NAME="DefaultTopic" VALUE="_topic_not_found.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="_MFCNOTES_TN028">
</OBJECT>
</TD></TR></TABLE>


<font face="verdana,arial,helvetica" size="2">
<H1><A NAME="_core_help.3a_.f1_and_shift.2b.f1_help"></A>Help: F1 and SHIFT+F1 Help</H1>

<P><A HREF="JavaScript:hhobj_1.Click()">Home</A>  |&nbsp; <A HREF="_core_help.3a_.context.2d.sensitive_help_overview.htm">Overview</A>  |&nbsp; <A HREF="_core_help_tasks.3a_.context.2d.sensitive_help_for_your_programs.htm">How Do I</A>  |&nbsp; <A HREF="JavaScript:hhobj_2.Click()">Sample</A>  |&nbsp; <A HREF="JavaScript:hhobj_3.Click()">Tutorial</A></P>

<P>This article describes the two forms of context-sensitive Windows Help supported by MFC.</P>

<P><A HREF="#_core_f1_help_support">F1 Help</A> opens help on a topic associated with the currently selected item in your application. MFC supplies F1 help for windows, dialog boxes, message boxes, menus, and toolbar buttons.</P>

<P><A HREF="#_core_shift.2b.f1_help_support">SHIFT+F1 Help</A> invokes a special “Help mode” in which the cursor turns into a Help cursor. The user can then select a visible object in the user interface, such as a menu item, toolbar button, or window. This opens help on a topic that describes the selected item.</P>



<H2><A NAME="_core_f1_help_support"></A>F1 Help Support</H2>

<P>The framework implements F1 help for windows, dialog boxes, message boxes, menus, and toolbar buttons. If the cursor is over a window, dialog box, or message box when the user presses the F1 key, the framework opens Windows Help for that window. If a menu item is highlighted, the framework opens Windows Help for that menu item. And if a toolbar button has been pressed (but the mouse not released yet), the framework opens Windows Help for that toolbar button when the user presses F1. (With extra work, you can implement F1 help for other things.)</P>

<P>When the user presses the F1 key, the framework processes the keystroke as a help request as follows, using a variation on the normal command routing. Pressing F1 causes a <B>WM_COMMAND</B> message to be sent for the <B>ID_HELP</B> command. If the application supports help, this command is mapped to the <B>OnHelp</B> message handler of class <B>CWinApp</B> and is routed directly there. <B>OnHelp</B> uses the ID of the current frame window or dialog box to determine the appropriate Help topic to display. If no specific Help topic is found, <B>OnHelp</B> displays the default Help topic.</P>



<H2><A NAME="_core_shift.2b.f1_help_support"></A>SHIFT+F1 Help Support</H2>

<P>If the user presses SHIFT+F1 or clicks on the Help toolbar button at any time that the application is active, the framework puts the application into Help mode and changes the cursor to a Help cursor (arrow + question mark). The next thing the user clicks determines what help context the framework opens in Windows Help.</P>

<P>When the user presses SHIFT+F1 or clicks on the Help toolbar button, the framework routes the command <B>ID_CONTEXT_HELP</B> through the normal command routing. The command is mapped to the <B>CWinApp</B> member function <B>OnContextHelp</B>, which captures the mouse, changes the cursor to a Help cursor, and puts the application into Help mode. The Help cursor is maintained as long as the application is in Help mode but reverts to a normal arrow cursor if it is not over the application that is in Help mode. Activating a different application cancels Help mode in the original application. While in Help mode, the application determines what object the user clicks and calls the <B>CWinApp</B> member function <B>WinHelp</B> with the appropriate context, determined from the object clicked upon. Once an object has been selected, Help mode ends and the cursor is restored to the normal arrow.</P>

<P class=indent><B><B>Note</B></B>&nbsp;&nbsp;&nbsp;For information about how context-sensitive Help is managed in OLE applications, see the article <A HREF="_core_help.3a_.ole_support_for_help.htm">Help: OLE Support for Help</A>. </P>

<P>For more information, see <A HREF="JavaScript:hhobj_4.Click()">Technical Note 28</A>.</P>

<P><B>See Also</B>&nbsp;&nbsp;&nbsp;<A HREF="_core_help.3a_.message.2d.map_support.htm">Help: Message-Map Support</A> </P>
</font>
</BODY>
</HTML>
