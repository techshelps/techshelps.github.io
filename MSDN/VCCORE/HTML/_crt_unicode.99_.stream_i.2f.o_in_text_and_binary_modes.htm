<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Unicode™ Stream I/O in Text and Binary Modes</TITLE>
<style>@import url(stylesheets/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="stylesheets/msdn_ie3.css"></HEAD>
<BODY>


<font face="verdana,arial,helvetica" size="2">
<H1><A NAME="_crt_unicode.99_.stream_i.2f.o_in_text_and_binary_modes"></A><SUP></SUP>Unicode™ Stream I/O in Text and Binary Modes</H1>

<P>When a Unicode stream I/O routine (such as <B>fwprintf</B>, <B>fwscanf</B>, <B>fgetwc</B>, <B>fputwc</B>, <B>fgetws</B>, or <B>fputws</B>) operates on a file that is open in text mode (the default), two kinds of character conversions take place:

<UL type=disc>
	<LI>Unicode-to-MBCS or MBCS-to-Unicode conversion. When a Unicode stream-I/O function operates in text mode, the source or destination stream is assumed to be a sequence of multibyte characters. Therefore, the Unicode stream-input functions convert multibyte characters to wide characters (as if by a call to the <B>mbtowc</B> function). For the same reason, the Unicode stream-output functions convert wide characters to multibyte characters (as if by a call to the <B>wctomb</B> function).<BR><BR></LI>

	<LI>Carriage return – linefeed (CR-LF) translation. This translation occurs before the MBCS – Unicode conversion (for Unicode stream input functions) and after the Unicode – MBCS conversion (for Unicode stream output functions). During input, each carriage return – linefeed combination is translated into a single linefeed character. During output, each linefeed character is translated into a carriage return – linefeed combination.</LI>
</UL>

<P>However, when a Unicode stream-I/O function operates in binary mode, the file is assumed to be Unicode, and no CR-LF translation or character conversion occurs during input or output.</P>
</font>
</BODY>
</HTML>
