<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>_amblksiz</TITLE>
<style>@import url(stylesheets/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="stylesheets/msdn_ie3.css"></HEAD>
<BODY>


<font face="verdana,arial,helvetica" size="2">
<H1><A NAME="_crt__amblksiz"></A><SUP></SUP>_amblksiz</H1>

<P><B>_amblksiz</B> controls memory heap granularity. It is declared in MALLOC.H as </P>

<P><B>extern unsigned int _amblksiz;</B></P>

<P>The value of <B>_amblksiz</B> specifies the size of blocks allocated by the operating system for the heap. The initial requested size for a segment of heap memory is just enough to satisfy the current allocation request (for example, a call to <B>malloc</B>) plus memory required for heap manager overhead. The value of <B>_amblksiz</B> should represent a trade-off between the number of times the operating system is to be called to increase the heap to required size and the amount of memory potentially wasted (available but not used) at the end of the heap.</P>

<P>The default value of <B>_amblksiz</B> is 8K. You can change this value by direct assignment in your program. For example:</P>

<PRE><CODE>_amblksiz = 2045;
</CODE></PRE>

<P>If you assign a value to <B>_amblksiz,</B> the actual value used internally by the heap manager is the assigned value rounded up to the nearest whole power of 2. Thus, in the previous example, the heap manager would reset the value of <B>_amblksize</B> to 2048.</P>
</font>
</BODY>
</HTML>
