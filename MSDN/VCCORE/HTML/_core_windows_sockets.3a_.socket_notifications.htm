<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Windows Sockets: Socket Notifications</TITLE>
<style>@import url(stylesheets/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="stylesheets/msdn_ie3.css"></HEAD>
<BODY>

<TABLE ALIGN=right WIDTH=0 BORDER=0><TR><TD>
<OBJECT ID="hhobj_1" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink">
	<PARAM NAME="DefaultTopic" VALUE="_topic_not_found.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="_vc_addpf_home">
</OBJECT>
<OBJECT ID="hhobj_2" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink">
	<PARAM NAME="DefaultTopic" VALUE="_topic_not_found.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="_mfc_CAsyncSocket.3a3a.OnReceive">
</OBJECT>
<OBJECT ID="hhobj_3" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink">
	<PARAM NAME="DefaultTopic" VALUE="_topic_not_found.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="_mfc_CAsyncSocket.3a3a.Receive">
</OBJECT>
<OBJECT ID="hhobj_4" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink">
	<PARAM NAME="DefaultTopic" VALUE="_topic_not_found.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="_mfc_CAsyncSocket.3a3a.OnSend">
</OBJECT>
<OBJECT ID="hhobj_5" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink">
	<PARAM NAME="DefaultTopic" VALUE="_topic_not_found.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="_mfc_CAsyncSocket.3a3a.Send">
</OBJECT>
<OBJECT ID="hhobj_6" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink">
	<PARAM NAME="DefaultTopic" VALUE="_topic_not_found.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="_mfc_CAsyncSocket.3a3a.OnAccept">
</OBJECT>
<OBJECT ID="hhobj_7" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink">
	<PARAM NAME="DefaultTopic" VALUE="_topic_not_found.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="_mfc_CAsyncSocket.3a3a.Accept">
</OBJECT>
<OBJECT ID="hhobj_8" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink">
	<PARAM NAME="DefaultTopic" VALUE="_topic_not_found.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="_mfc_CAsyncSocket.3a3a.OnConnect">
</OBJECT>
<OBJECT ID="hhobj_9" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink">
	<PARAM NAME="DefaultTopic" VALUE="_topic_not_found.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="_mfc_CAsyncSocket.3a3a.OnClose">
</OBJECT>
<OBJECT ID="hhobj_10" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink">
	<PARAM NAME="DefaultTopic" VALUE="_topic_not_found.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="_mfc_CAsyncSocket.3a3a.OnOutOfBandData">
</OBJECT>
<OBJECT ID="hhobj_11" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink">
	<PARAM NAME="DefaultTopic" VALUE="_topic_not_found.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="_MFC_CAsyncSocket">
</OBJECT>
<OBJECT ID="hhobj_12" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink">
	<PARAM NAME="DefaultTopic" VALUE="_topic_not_found.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="_MFC_CSocket">
</OBJECT>
<OBJECT ID="hhobj_13" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink">
	<PARAM NAME="DefaultTopic" VALUE="_topic_not_found.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="_sample_mfc_CHATTER">
</OBJECT>
<OBJECT ID="hhobj_14" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink">
	<PARAM NAME="DefaultTopic" VALUE="_topic_not_found.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="_sample_mfc_CHATSRVR">
</OBJECT>
<OBJECT ID="hhobj_15" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink">
	<PARAM NAME="DefaultTopic" VALUE="_topic_not_found.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="MFC Samples">
</OBJECT>
</TD></TR></TABLE>


<font face="verdana,arial,helvetica" size="2">
<H1><A NAME="_core_windows_sockets.3a_.socket_notifications"></A>Windows Sockets: Socket Notifications</H1>

<P><A HREF="JavaScript:hhobj_1.Click()">Home</A>  |&nbsp; <A HREF="_core_windows_sockets_for_network_programming.3a_.overview.htm">Overview</A>  |&nbsp; <A HREF="_core_windows_sockets_tasks.htm">How Do I</A>  |&nbsp; <A HREF="_core_windows_sockets_sample_list.htm">Sample</A></P>

<P>This article describes the notification functions in the socket classes. These member functions are callback functions that the framework calls to notify your socket object of important events. The notification functions are:

<UL type=disc>
	<LI><A HREF="JavaScript:hhobj_2.Click()">OnReceive</A>: Notifies this socket that there is data in the buffer for it to retrieve by calling <A HREF="JavaScript:hhobj_3.Click()">Receive</A>.<BR><BR></LI>

	<LI><A HREF="JavaScript:hhobj_4.Click()">OnSend</A>: Notifies this socket that it can now send data by calling <A HREF="JavaScript:hhobj_5.Click()">Send</A>.<BR><BR></LI>

	<LI><A HREF="JavaScript:hhobj_6.Click()">OnAccept</A>: Notifies this listening socket that it can accept pending connection requests by calling <A HREF="JavaScript:hhobj_7.Click()">Accept</A>.<BR><BR></LI>

	<LI><A HREF="JavaScript:hhobj_8.Click()">OnConnect</A>: Notifies this connecting socket that its connection attempt completed: perhaps successfully or perhaps in error.<BR><BR></LI>

	<LI><A HREF="JavaScript:hhobj_9.Click()">OnClose</A>: Notifies this socket that the socket it is connected to has closed.</LI>
</UL>

<P class=indent><B><B>Note</B></B>&nbsp;&nbsp;&nbsp;An additional notification function is <A HREF="JavaScript:hhobj_10.Click()">OnOutOfBandData</A>. This notification tells the receiving socket that the sending socket has “out-of-band” data to send. Out-of-band data is a logically independent channel associated with each pair of connected stream sockets. The out-of-band channel is typically used to send “urgent” data. MFC supports out-of-band data. Advanced users working with class <A HREF="JavaScript:hhobj_11.Click()">CAsyncSocket</A> might need to use the out-of-band channel, but users of class <A HREF="JavaScript:hhobj_12.Click()">CSocket</A> are discouraged from using it. The easier way is to create a second socket for passing such data. For more information about out-of-band data, see the Windows Sockets specification, available in the Win32 SDK.</P>

<P>If you derive from class <B>CAsyncSocket</B>, you must override the notification functions for those network events of interest to your application. If you derive a class from class <B>CSocket</B>, it’s your choice whether to override the notification functions of interest. You can also use <B>CSocket</B> itself, in which case the notification functions default to doing nothing. </P>

<P>These functions are overridable callback functions. <B>CAsyncSocket</B> and <B>CSocket</B> convert messages to notifications, but you must implement how the notification functions respond if you wish to use them. The notification functions are called at the time your socket is notified of an event of interest, such as the presence of data to be read. </P>

<P>MFC calls the notification functions to let you customize your socket’s behavior at the time it is notified. For example, you might call <B>Receive</B> from your <B>OnReceive</B> notification function. That is, on being notified that there is data to read, you call <B>Receive</B> to read it. This approach isn’t necessary, but it is a valid scenario. As an alternative, you might use your notification function to track progress, print <B>TRACE</B> messages, and so on.</P>

<P>You can take advantage of these notifications by overriding the notification functions in a derived socket class and providing an implementation. For an example implementation, see the notification function overrides in the MFC Advanced Concepts samples <A HREF="JavaScript:hhobj_13.Click()">CHATTER</A> and <A HREF="JavaScript:hhobj_14.Click()">CHATSRVR</A>. </P>

<P>During an operation such as receiving or sending data, a <B>CSocket</B> object becomes synchronous. During the synchronous state, any notifications meant for other sockets are queued while the current socket waits for the notification it wants. (For example, during a <B>Receive</B> call, the socket wants a notification to read.) Once the socket completes its synchronous operation and becomes asynchronous again, other sockets can begin receiving the queued notifications. </P>

<P class=indent><B><B>Important</B></B>&nbsp;&nbsp;&nbsp;In <B>CSocket</B>, the <B>OnConnect</B> notification function is never called. For connections, you simply call <B>Connect</B>, which will return when the connection is completed (either successfully or in error). How connection notifications are handled is an MFC implementation detail.</P>

<P>For details about each notification function see the function under class <B>CAsyncSocket</B> in the <I>Class Library Reference</I>. For source code and information about MFC samples, see <A HREF="JavaScript:hhobj_15.Click()">MFC Samples</A>. </P>

<H3>What do you want to know more about?</H3>

<UL type=disc>
	<LI><A HREF="_core_windows_sockets.3a_.using_class_casyncsocket.htm">Windows Sockets: Using Class CAsyncSocket</A><BR><BR></LI>

	<LI><A HREF="_core_windows_sockets.3a_.deriving_from_socket_classes.htm">Windows Sockets: Deriving from Socket Classes</A><BR><BR></LI>

	<LI><A HREF="_core_windows_sockets.3a_.how_sockets_with_archives_work.htm">Windows Sockets: How Sockets with Archives Work</A><BR><BR></LI>

	<LI><A HREF="_core_windows_sockets.3a_.blocking.htm">Windows Sockets: Blocking</A><BR><BR></LI>

	<LI><A HREF="_core_windows_sockets.3a_.byte_ordering.htm">Windows Sockets: Byte Ordering</A><BR><BR></LI>

	<LI><A HREF="_core_windows_sockets.3a_.converting_strings.htm">Windows Sockets: Converting Strings</A> </LI>
</UL>
</font>
</BODY>
</HTML>
