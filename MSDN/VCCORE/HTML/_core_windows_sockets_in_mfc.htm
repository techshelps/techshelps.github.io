<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Windows Sockets in MFC</TITLE>
<style>@import url(stylesheets/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="stylesheets/msdn_ie3.css"></HEAD>
<BODY>

<TABLE ALIGN=right WIDTH=0 BORDER=0><TR><TD>
<OBJECT ID="hhobj_1" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink">
	<PARAM NAME="DefaultTopic" VALUE="_topic_not_found.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="_vc_addpf_home">
</OBJECT>
<OBJECT ID="hhobj_2" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink">
	<PARAM NAME="DefaultTopic" VALUE="_topic_not_found.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="_MFC_CAsyncSocket">
</OBJECT>
<OBJECT ID="hhobj_3" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink">
	<PARAM NAME="DefaultTopic" VALUE="_topic_not_found.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="_MFC_CArchive">
</OBJECT>
<OBJECT ID="hhobj_4" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink">
	<PARAM NAME="DefaultTopic" VALUE="_topic_not_found.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="_MFC_CSocket">
</OBJECT>
<OBJECT ID="hhobj_5" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink">
	<PARAM NAME="DefaultTopic" VALUE="_topic_not_found.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="_sample_mfc_CHATTER">
</OBJECT>
<OBJECT ID="hhobj_6" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink">
	<PARAM NAME="DefaultTopic" VALUE="_topic_not_found.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="_sample_mfc_CHATSRVR">
</OBJECT>
</TD></TR></TABLE>


<font face="verdana,arial,helvetica" size="2">
<H1><A NAME="_core_windows_sockets_in_mfc"></A>Windows Sockets in MFC</H1>

<P><A HREF="JavaScript:hhobj_1.Click()">Home</A>  |&nbsp; <A HREF="_core_windows_sockets_for_network_programming.3a_.overview.htm">Overview</A>  |&nbsp; <A HREF="_core_windows_sockets_tasks.htm">How Do I</A>  |&nbsp; <A HREF="_core_windows_sockets_sample_list.htm">Sample</A></P>

<P>MFC supplies two models for writing network communications programs with Windows Sockets, embodied in two MFC classes. This article describes these models and further details MFC sockets support. A “socket” is an endpoint of communication — an object through which your application communicates with other Windows Sockets applications across a network.</P>

<P>This article describes:

<UL type=disc>
	<LI>Sockets programming models.<BR><BR></LI>

	<LI><A HREF="#_core_mfc_socket_samples_and_windows_sockets_dlls">MFC socket samples and Windows Sockets DLLs</A>. <BR><BR></LI>

	<LI><A HREF="#_core_windows_sockets_articles">Windows sockets articles</A>.</LI>
</UL>

<P>For background information on Windows Sockets, including a detailed explanation of the socket concept, see the article <A HREF="_core_windows_sockets.3a_.background.htm">Windows Sockets: Background</A>. </P>



<H2><A NAME="_core_sockets_programming_models"></A>Sockets Programming Models</H2>

<P>The two MFC Windows Sockets programming models are supported by the following classes:

<UL type=disc>
	<LI><B>CAsyncSocket</B>
<P class=tl>This class encapsulates the Windows Sockets API. <A HREF="JavaScript:hhobj_2.Click()">CAsyncSocket</A> is for programmers who know network programming and want the flexibility of programming directly to the sockets API but also want the convenience of callback functions for notification of network events. Other than packaging sockets in object-oriented form for use in C++, the only additional abstraction this class supplies is converting certain socket-related Windows messages into callbacks. (See the article <A HREF="_core_windows_sockets.3a_.socket_notifications.htm">Windows Sockets: Socket Notifications</A>.)</P></LI>

	<LI><B>CSocket</B>
<P class=tl>This class, derived from <B>CAsyncSocket</B>, supplies a higher-level abstraction for working with sockets via an MFC <A HREF="JavaScript:hhobj_3.Click()">CArchive</A> object. Using a socket with an archive greatly resembles using MFC’s file serialization protocol. This makes it easier to use than the <B>CAsyncSocket</B> model. <A HREF="JavaScript:hhobj_4.Click()">CSocket</A> inherits many member functions from <B>CAsyncSocket</B> that encapsulate Windows Sockets APIs; you will have to use some of these functions and understand sockets programming generally. But <B>CSocket</B> manages many aspects of the communication that you would have to do yourself using either the raw API or class <B>CAsyncSocket</B>. Most important, <B>CSocket</B> provides blocking (with background processing of Windows messages), which is essential to the synchronous operation of <B>CArchive</B>. </P></LI>
</UL>

<P>Creating and using <B>CSocket</B> and <B>CAsyncSocket</B> objects is described in the articles <A HREF="_core_windows_sockets.3a_.using_sockets_with_archives.htm">Windows Sockets: Using Sockets with Archives</A> and <A HREF="_core_windows_sockets.3a_.using_class_casyncsocket.htm">Windows Sockets: Using Class CAsyncSocket</A>. </P>



<H2><A NAME="_core_mfc_socket_samples_and_windows_sockets_dlls"></A>MFC Socket Samples and Windows Sockets DLLs</H2>

<P>Visual C++ supplies the CHATTER and CHATSRVR sample applications to illustrate the client/server model, which is the most common model. CHATTER is the client; CHATSRVR is the server. These samples make good templates for writing your own clients and servers. You can access the source code for the MFC Advanced Concepts samples <A HREF="JavaScript:hhobj_5.Click()">CHATTER</A> and <A HREF="JavaScript:hhobj_6.Click()">CHATSRVR</A>. </P>

<P>The Microsoft Windows NT operating system supplies the Windows Sockets dynamic link libraries (DLLs). Visual C++ supplies the appropriate header files and libraries and the Windows Sockets specification. The specification is available in the Win32 SDK.</P>

<P class=indent><B><B>Note</B></B>&nbsp;&nbsp;&nbsp;Under Windows NT, Windows Sockets support for 16-bit applications is based on WINSOCK.DLL. For 32-bit applications, the support is in WSOCK32.DLL. The APIs provided are identical except that the 32-bit versions have parameters widened to 32 bits. Under Win32, thread safety is supplied.</P>

<P>ClassWizard does not support creating classes derived from the MFC Windows Sockets classes.</P>

<H2><A NAME="_core_windows_sockets_articles"></A>Windows Sockets Articles</H2>

<P>For detailed information about Windows Sockets and their implementation in MFC, see the following articles:

<UL type=disc>
	<LI><A HREF="_core_windows_sockets.3a_.background.htm">Windows Sockets: Background</A> <BR><BR></LI>

	<LI><A HREF="_core_windows_sockets.3a_.stream_sockets.htm">Windows Sockets: Stream Sockets</A> <BR><BR></LI>

	<LI><A HREF="_core_windows_sockets.3a_.datagram_sockets.htm">Windows Sockets: Datagram Sockets</A> <BR><BR></LI>

	<LI><A HREF="_core_windows_sockets.3a_.using_sockets_with_archives.htm">Windows Sockets: Using Sockets with Archives</A> <BR><BR></LI>

	<LI><A HREF="_core_windows_sockets.3a_.sequence_of_operations.htm">Windows Sockets: Sequence of Operations</A> <BR><BR></LI>

	<LI><A HREF="_core_windows_sockets.3a_.example_of_sockets_using_archives.htm">Windows Sockets: Example of Sockets Using Archives</A> <BR><BR></LI>

	<LI><A HREF="_core_windows_sockets.3a_.how_sockets_with_archives_work.htm">Windows Sockets: How Sockets with Archives Work</A> <BR><BR></LI>

	<LI><A HREF="_core_windows_sockets.3a_.using_class_casyncsocket.htm">Windows Sockets: Using Class CAsyncSocket</A> <BR><BR></LI>

	<LI><A HREF="_core_windows_sockets.3a_.deriving_from_socket_classes.htm">Windows Sockets: Deriving from Socket Classes</A> <BR><BR></LI>

	<LI><A HREF="_core_windows_sockets.3a_.socket_notifications.htm">Windows Sockets: Socket Notifications</A> <BR><BR></LI>

	<LI><A HREF="_core_windows_sockets.3a_.blocking.htm">Windows Sockets: Blocking</A> <BR><BR></LI>

	<LI><A HREF="_core_windows_sockets.3a_.byte_ordering.htm">Windows Sockets: Byte Ordering</A> <BR><BR></LI>

	<LI><A HREF="_core_windows_sockets.3a_.converting_strings.htm">Windows Sockets: Converting Strings</A> <BR><BR></LI>

	<LI><A HREF="_core_windows_sockets.3a_.ports_and_socket_addresses.htm">Windows Sockets: Ports and Socket Addresses</A> </LI>
</UL>
</font>
</BODY>
</HTML>
