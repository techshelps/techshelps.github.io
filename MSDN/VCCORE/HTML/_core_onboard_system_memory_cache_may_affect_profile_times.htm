<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Onboard System Memory Cache and Disk Caches May Affect Profile Times</TITLE>
<style>@import url(stylesheets/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="stylesheets/msdn_ie3.css"></HEAD>
<BODY>

<TABLE ALIGN=right WIDTH=0 BORDER=0><TR><TD>
<OBJECT ID="hhobj_1" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink">
	<PARAM NAME="DefaultTopic" VALUE="_topic_not_found.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="_vc_perf_home">
</OBJECT>
<OBJECT ID="hhobj_2" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink">
	<PARAM NAME="DefaultTopic" VALUE="_topic_not_found.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="vceditions">
</OBJECT>
</TD></TR></TABLE>


<font face="verdana,arial,helvetica" size="2">
<H1><A NAME="_core_onboard_system_memory_cache_may_affect_profile_times"></A>Onboard System Memory Cache and Disk Caches May Affect Profile Times</H1>

<P><A HREF="JavaScript:hhobj_1.Click()">Home</A>  |&nbsp; <A HREF="_core_profiling.3a_.overview.htm">Overview</A>  |&nbsp; <A HREF="_core_procedures_for_performance_tuning.htm">How Do I</A></P>

<P class=indent><B><B>Feature Only in Professional and Enterprise Editions</B></B>&nbsp;&nbsp;&nbsp;Profiling is supported only in Visual C++ Professional and Enterprise Editions. For more information, see <A HREF="JavaScript:hhobj_2.Click()">Visual C++ Editions</A>.</P>

<P>The Microsoft Source Profiler may display erratic execution times on any system with an Intel 80386 or 80486 processor that has a built-in memory cache. The only effective way to work around this is to disable the cache, because there is no way to control what is cached and what is not cached.</P>

<P>The erratic profile results are caused by the way a memory cache of this type operates. If code from the program being profiled is in the cache, the execution times will be less than normal. On the other hand, it's likely that the cache will be dominated by the Profiler itself, since the instructions from the Profiler's own code will usually be in the cache. This may then result in increased times for the program being profiled. Caching will also affect small programs more than large ones because of the successful hit rate in the cache.</P>

<P>Because memory caching hinders accurate profiling, a system without a cache should be used while profiling to ensure the most reliable times. In any case, the overall effect of a cached system should be that it runs faster, so it should not be necessary to consider this net gain when profiling.</P>
</font>
</BODY>
</HTML>
