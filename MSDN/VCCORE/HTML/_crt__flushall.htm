<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>_flushall</TITLE>
<style>@import url(stylesheets/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="stylesheets/msdn_ie3.css"></HEAD>
<BODY>


<font face="verdana,arial,helvetica" size="2">
<H1><A NAME="_crt__flushall"></A><SUP></SUP>_flushall</H1>

<P>Flushes all streams; clears all buffers.</P>

<P><B>int</B> <B>_flushall(</B> <B>void</B> <B>);</B></P>

<TABLE border=1 cellpadding=5 cols=3 frame=below rules=rows>

<TR VALIGN="top">
<TD class=label width=16%><B>Function</B></TD>
<TD class=label width=28%><B>Required Header</B></TD>
<TD class=label width=56%><B>Compatibility</B></TD>
</TR>

<TR VALIGN="top">
<TD width=16%><B>_flushall</B></TD>
<TD width=28%>&lt;stdio.h&gt;</TD>
<TD width=56%>Win 95, Win NT</TD>
</TR>
</TABLE><BR>

<P>For additional compatibility information, see <A HREF="_crt_compatibility.htm">Compatibility</A> in the Introduction.</P>

<P class=label><B>Libraries</B></P>

<TABLE border=1 cellpadding=5 cols=2 frame=below rules=rows>

<TR VALIGN="top">
<TD width=24%>LIBC.LIB</TD>
<TD width=76%>Single thread static library, retail version</TD>
</TR>

<TR VALIGN="top">
<TD width=24%>LIBCMT.LIB</TD>
<TD width=76%>Multithread static library, retail version</TD>
</TR>

<TR VALIGN="top">
<TD width=24%>MSVCRT.LIB</TD>
<TD width=76%>Import library for MSVCRT.DLL, retail version</TD>
</TR>
</TABLE><BR>

<P class=label><B>Return Value</B></P>

<P><B>_flushall</B> returns the number of open streams (input and output). There is no error return.</P>

<P class=label><B>Remarks</B></P>

<P>By default, the <B>_flushall</B> function writes to appropriate files the contents of all buffers associated with open output streams. All buffers associated with open input streams are cleared of their current contents. (These buffers are normally maintained by the operating system, which determines the optimal time to write the data automatically to disk: when a buffer is full, when a stream is closed, or when a program terminates normally without closing streams.)</P>

<P>If a read follows a call to <B>_flushall</B>, new data is read from the input files into the buffers. All streams remain open after the call to <B>_flushall</B>.</P>

<P>The commit-to-disk feature of the run-time library lets you ensure that critical data is written directly to disk rather than to the operating system buffers. Without rewriting an existing program, you can enable this feature by linking the program’s object files with COMMODE.OBJ. In the resulting executable file, calls to <B>_flushall</B> write the contents of all buffers to disk. Only <B>_flushall</B> and <B>fflush</B> are affected by COMMODE.OBJ.</P>

<P>For information about controlling the commit-to-disk feature, see <A HREF="_crt_stream_i.2f.o.htm">Stream I/O</A>, <A HREF="_crt_fopen.2c_._wfopen.htm">fopen</A>, and <A HREF="_crt__fdopen.2c_._wfdopen.htm">_fdopen</A>.</P>

<P class=label><B>Example</B></P>

<PRE><CODE>/* FLUSHALL.C: This program uses _flushall
 * to flush all open buffers.
 */

#include &lt;stdio.h&gt;

void main( void )
{
   int numflushed;

   numflushed = _flushall();
   printf( "There were %d streams flushed\n", numflushed );
}

</CODE></PRE>

<P class=label><B>Output</B></P>

<PRE><CODE>There were 3 streams flushed

</CODE></PRE>

<P><A HREF="_crt_stream_i.2f.o.htm">Stream I/O Routines</A></P>

<P><B>See Also</B>&nbsp;&nbsp;&nbsp;<A HREF="_crt__commit.htm">_commit</A>, <A HREF="_crt_fclose.2c_._fcloseall.htm">fclose</A>, <A HREF="_crt_fflush.htm">fflush</A>, <A HREF="#_crt__flushall">_flushall</A>, <A HREF="_crt_setvbuf.htm">setvbuf</A></P>
</font>
</BODY>
</HTML>
