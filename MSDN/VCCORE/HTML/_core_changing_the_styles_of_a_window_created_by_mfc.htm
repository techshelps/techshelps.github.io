<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Changing the Styles of a Window Created by MFC</TITLE>
<style>@import url(stylesheets/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="stylesheets/msdn_ie3.css"></HEAD>
<BODY>

<TABLE ALIGN=right WIDTH=0 BORDER=0><TR><TD>
<OBJECT ID="hhobj_1" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink">
	<PARAM NAME="DefaultTopic" VALUE="_topic_not_found.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="_vc_addui_home">
</OBJECT>
<OBJECT ID="hhobj_2" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink">
	<PARAM NAME="DefaultTopic" VALUE="_topic_not_found.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="_mfc_CWnd.3a3a.PreCreateWindow">
</OBJECT>
<OBJECT ID="hhobj_3" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink">
	<PARAM NAME="DefaultTopic" VALUE="_topic_not_found.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="_mfc_CDocTemplate">
</OBJECT>
<OBJECT ID="hhobj_4" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink">
	<PARAM NAME="DefaultTopic" VALUE="_topic_not_found.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="_mfc_CREATESTRUCT_structure">
</OBJECT>
<OBJECT ID="hhobj_5" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink">
	<PARAM NAME="DefaultTopic" VALUE="_topic_not_found.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="_sample_mfc_CTRLBARS">
</OBJECT>
<OBJECT ID="hhobj_6" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink">
	<PARAM NAME="DefaultTopic" VALUE="_topic_not_found.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="_mfc_CMDIChildWnd">
</OBJECT>
<OBJECT ID="hhobj_7" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink">
	<PARAM NAME="DefaultTopic" VALUE="_topic_not_found.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="_mfc_CWnd.3a3a.PreCreateWindow">
</OBJECT>
<OBJECT ID="hhobj_8" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink">
	<PARAM NAME="DefaultTopic" VALUE="_topic_not_found.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="_mfc_window_styles">
</OBJECT>
<OBJECT ID="hhobj_9" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink">
	<PARAM NAME="DefaultTopic" VALUE="_topic_not_found.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="_win32_General_window_styles">
</OBJECT>
</TD></TR></TABLE>


<font face="verdana,arial,helvetica" size="2">
<H1><A NAME="_core_changing_the_styles_of_a_window_created_by_mfc"></A>Changing the Styles of a Window Created by MFC</H1>

<P><A HREF="JavaScript:hhobj_1.Click()">Home</A>  |&nbsp; <A HREF="_core_window_objects.3a_.overview.htm">Overview</A>  |&nbsp; <A HREF="_core_window_tasks.htm">How Do I</A>  |&nbsp; <A HREF="_core_mfc_tutorials_available.htm">Tutorial</A></P>

<P>In its version of the <B>WinMain</B> function, MFC registers several standard window classes for you. Because you don’t normally edit MFC’s <B>WinMain</B>, that function gives you no opportunity to change the MFC default window styles. This article explains how you can change the styles of such a preregistered window class in an existing application.</P>

<H2><A NAME="_core_changing_styles_in_a_new_mfc_application"></A>Changing Styles in a New MFC Application</H2>

<P>If you’re using Visual C++ 2.0 or later, you can change the default window styles in AppWizard when you create your application. In AppWizard’s Advanced Options dialog box, choose the Main Frame tab (to change styles for your main frame window) or the MDI Child Frame tab (to change styles for MDI child windows). For either window type, you can specify its frame thickness (thick or thin) and any of the following:

<UL type=disc>
	<LI>Whether the window has Minimize or Maximize controls.<BR><BR></LI>

	<LI>Whether the window appears initially minimized, maximized, or neither.</LI>
</UL>

<P>For main frame windows, you can also specify whether the window has a System Menu. For MDI child windows, you can specify whether the window supports splitter panes.</P>



<H2><A NAME="_core_changing_styles_in_an_existing_application"></A>Changing Styles in an Existing Application</H2>

<P>If you’re using a version of Visual C++ prior to version 2.0 or changing window attributes in an existing application, follow the instructions in the rest of this article instead.</P>

<P>To change the default window attributes used by a framework application created with AppWizard, override the window’s <A HREF="JavaScript:hhobj_2.Click()">PreCreateWindow</A> virtual member function. <B>PreCreateWindow</B> allows an application to access the creation process normally managed internally by the <A HREF="JavaScript:hhobj_3.Click()">CDocTemplate</A> class. The framework calls <B>PreCreateWindow</B> just prior to creating the window. By modifying the <A HREF="JavaScript:hhobj_4.Click()">CREATESTRUCT</A> parameter to <B>PreCreateWindow</B>, your application can change the attributes used to create the window.</P>

<P>The <A HREF="JavaScript:hhobj_5.Click()">CTRLBARS</A> sample application demonstrates this technique for changing window attributes. Depending on what your application changes in <B>PreCreateWindow</B>, it may be necessary to call the base class implementation of the function. </P>

<P>The following discussion covers the SDI case and the <A HREF="#_core_the_mdi_case">MDI case</A>.</P>



<H2><A NAME="_core_the_sdi_case"></A>The SDI Case</H2>

<P>In a single document interface (SDI) application, the default window style in the framework is a combination of the <B>WS_OVERLAPPEDWINDOW</B> and <B>FWS_ADDTOTITLE</B> styles. <B>FWS_ADDTOTITLE</B> is an MFC-specific style that instructs the framework to add the document title to the window’s caption. To change the window attributes in an SDI application, override the <B>PreCreateWindow</B> function in your class derived from <B>CFrameWnd</B> (which AppWizard names <CODE>CMainFrame</CODE>). For example:</P>

<PRE><CODE>BOOL CMainFrame::PreCreateWindow(CREATESTRUCT&amp; cs) 
{ 
    // Create a window without min/max buttons or sizable border 
    cs.style = WS_OVERLAPPED | WS_SYSMENU | WS_BORDER;

    // Size the window to 1/3 screen size and center it 
    cs.cy = ::GetSystemMetrics(SM_CYSCREEN) / 3; 
    cs.cx = ::GetSystemMetrics(SM_CXSCREEN) / 3; 
    cs.y = ((cs.cy * 3) - cs.cy) / 2; 
    cs.x = ((cs.cx * 3) - cs.cx) / 2;

    // Call the base-class version
    return CFrameWnd::PreCreateWindow(cs); 
}
</CODE></PRE>

<P>This code creates a main frame window without Minimize and Maximize buttons and without a sizable border. The window is initially centered on the screen.</P>



<H2><A NAME="_core_the_mdi_case"></A>The MDI Case</H2>

<P>A little more work is required to change the window style of a child window in a multiple document interface (MDI) application. By default, an MDI application created with AppWizard uses the default <A HREF="JavaScript:hhobj_6.Click()">CMDIChildWnd</A> class defined in MFC. To change the window style of an MDI child window, you must derive a new class from <B>CMDIChildWnd</B> and replace all references to <B>CMDIChildWnd</B> in your project with references to the new class. Most likely, the only reference to <B>CMDIChildWnd</B> in the application is located in your application's <CODE>InitInstance</CODE> member function.</P>

<P>The default window style used in an MDI application is a combination of the <B>WS_CHILD</B>, <B>WS_OVERLAPPEDWINDOW</B>, and <B>FWS_ADDTOTITLE</B> styles. To change the window attributes of an MDI application’s child windows, override the <A HREF="JavaScript:hhobj_7.Click()">PreCreateWindow</A> function in your class derived from <B>CMDIChildWnd</B>. For example:</P>

<PRE><CODE>BOOL CMyChildWnd::PreCreateWindow(CREATESTRUCT&amp; cs) 
{ 
    // Create a child window without the maximize button 
    cs.style &amp;= ~WS_MAXIMIZEBOX; 

    // Call the base-class version
    return CMDIChildWnd::PreCreateWindow(cs); 
}
</CODE></PRE>

<P>This code creates MDI child windows without a Maximize button. </P>

<H3>What do you want to know more about?</H3>

<UL type=disc>
	<LI><A HREF="JavaScript:hhobj_8.Click()">Available styles</A><BR><BR></LI>

	<LI><A HREF="_core_frame.2d.window_styles.htm">Frame-window styles</A><BR><BR></LI>

	<LI><A HREF="JavaScript:hhobj_9.Click()">General window styles</A></LI>
</UL>
</font>
</BODY>
</HTML>
