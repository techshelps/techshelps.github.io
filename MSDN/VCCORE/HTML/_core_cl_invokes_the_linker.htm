<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>CL Invokes the Linker</TITLE>
<style>@import url(stylesheets/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="stylesheets/msdn_ie3.css"></HEAD>
<BODY>

<TABLE ALIGN=right WIDTH=0 BORDER=0><TR><TD>
<OBJECT ID="hhobj_1" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink">
	<PARAM NAME="DefaultTopic" VALUE="_topic_not_found.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="_vc_compiling_home">
</OBJECT>
</TD></TR></TABLE>


<font face="verdana,arial,helvetica" size="2">
<H1><A NAME="_core_cl_invokes_the_linker"></A>CL Invokes the Linker</H1>

<P><A HREF="JavaScript:hhobj_1.Click()">Home</A>  |&nbsp; <A HREF="_core_overviews.3a_.compiling_and_linking.htm">Overview</A>  |&nbsp; <A HREF="_core_set_compiler_options.htm">How Do I</A>  |&nbsp; <A HREF="_core_compiler_reference.htm">Compiler Options</A></P>

<P>CL automatically invokes the linker after compiling unless the /c option is used. CL passes to the linker the names of .OBJ files created during compiling and the names of any other files specified on the command line. The linker uses the options listed in the LINK environment variable. You can use the /link option to specify linker options on the CL command line. Options that follow the /link option override those in the LINK environment variable. The options in the following table suppress linking.</P>

<TABLE border=1 cellpadding=5 cols=2 frame=below rules=rows>

<TR VALIGN="top">
<TD class=label width=19%><B>Option</B></TD>
<TD class=label width=81%><B>Description</B></TD>
</TR>

<TR VALIGN="top">
<TD width=19%>/c</TD>
<TD width=81%>Compile without linking</TD>
</TR>

<TR VALIGN="top">
<TD width=19%>/E, /EP, /P</TD>
<TD width=81%>Preprocess without compiling or linking</TD>
</TR>

<TR VALIGN="top">
<TD width=19%>/Zg</TD>
<TD width=81%>Generate function prototypes</TD>
</TR>

<TR VALIGN="top">
<TD width=19%>/Zs</TD>
<TD width=81%>Check syntax</TD>
</TR>
</TABLE><BR>

<P>For further details about linking, see <A HREF="_core_linker_reference.htm">Linker Option Reference</A>. </P>

<H3>Example</H3>

<P>Assume that you are compiling three C source files: MAIN.C, MOD1.C, and MOD2.C. Each file includes a call to a function defined in a different file:

<UL type=disc>
	<LI>MAIN.C calls the function <CODE>func1</CODE> in MOD1.C and the function <CODE>func2</CODE> in MOD2.C.<BR><BR></LI>

	<LI>MOD1.C calls the standard library functions <B>printf</B> and <B>scanf</B>.<BR><BR></LI>

	<LI>MOD2.C calls graphics functions named <CODE>myline</CODE> and <CODE>mycircle</CODE>, which are defined in a library named <CODE>MYGRAPH.LIB</CODE>.</LI>
</UL>

<P>To build this program, compile with the following command line:</P>

<PRE><CODE>CL MAIN.C MOD1.C MOD2.C MYGRAPH.LIB</CODE></PRE>

<P>CL first compiles the C source files and creates the object files MAIN.OBJ, MOD1.OBJ, and MOD2.OBJ. The compiler places the name of the standard library in each .OBJ file. For more details, see <A HREF="_core_.2f.md.2c_2f.ml.2c_2f.mt.2c_2f.ld.htm">Use Run-Time Library</A>.</P>

<P>CL passes the names of the .OBJ files, along with the name <CODE>MYGRAPH.LIB</CODE>, to the linker. The linker resolves the external references as follows:

<OL>
	<LI>In MAIN.OBJ, the reference to <CODE>func1</CODE> is resolved using the definition in MOD1.OBJ; the reference to <CODE>func2</CODE> is resolved using the definition in MOD2.OBJ.<BR><BR></LI>

	<LI>In MOD1.OBJ, the references to <B>printf</B> and <B>scanf</B> are resolved using the definitions in the library that the linker finds named within MOD1.OBJ.<BR><BR></LI>

	<LI>In MOD2.OBJ, the references to <CODE>myline</CODE> and <CODE>mycircle</CODE> are resolved using the definitions in <CODE>MYGRAPH.LIB</CODE>.</LI>
</OL>
</font>
</BODY>
</HTML>
