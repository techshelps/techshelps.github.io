<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>/OPT   (Optimizations)</TITLE>
<style>@import url(stylesheets/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="stylesheets/msdn_ie3.css"></HEAD>
<BODY>

<TABLE ALIGN=right WIDTH=0 BORDER=0><TR><TD>
<OBJECT ID="hhobj_1" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink">
	<PARAM NAME="DefaultTopic" VALUE="_topic_not_found.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="_vc_compiling_home">
</OBJECT>
</TD></TR></TABLE>


<font face="verdana,arial,helvetica" size="2">
<H1><A NAME="_core_.2f.opt"></A><SUP></SUP>/OPT&nbsp;&nbsp;&nbsp;(Optimizations)</H1>

<P><A HREF="JavaScript:hhobj_1.Click()">Home</A>  |&nbsp; <A HREF="_core_overviews.3a_.compiling_and_linking.htm">Overview</A>  |&nbsp; <A HREF="_core_set_linker_options.htm">How Do I</A>  |&nbsp; <A HREF="_core_linker_reference.htm">Linker Options</A></P>

<H3>Syntax</H3>

<P>/OPT:{REF|NOREF|ICF[,<I>iterations</I>]|NOICF}</P>

<P>This option controls the optimizations that LINK performs during a build. Optimizations generally decrease the image size and increase the program speed, at a cost of increased link time.

<UL type=disc>
	<LI>Use /OPT:REF to eliminate functions and/or data that is never referenced.<BR><BR></LI>

	<LI>Use /OPT:NOREF to keep functions and/or data that is never referenced.<BR><BR></LI>

	<LI>Use /OPT:ICF[,<I>iterations</I>] to perform identical COMDAT folding. Redundant COMDATs can be removed from the linker output. <I>Iterations </I>specifies the number of times to traverse the symbols for duplicates. The default number of iterations is two. Additional iterations may locate more duplicates uncovered through folding in the previous iteration.</LI>
</UL>

<P>By default, LINK removes unreferenced packaged functions. An object contains packaged functions (COMDATs) if it has been compiled with the <A HREF="_core_.2f.gy.htm">/Gy</A> option. This optimization is called transitive COMDAT elimination. To override this default and keep unreferenced COMDATs in the program, specify /OPT:NOREF. You can use the <A HREF="_core_.2f.include.htm">/INCLUDE</A> option to override the removal of a specific symbol.</P>

<P>If /OPT:REF is specified, /OPT:ICF is on by default. If you want /OPT:REF but not /OPT:ICF, you must specify the following:</P>

<PRE><CODE>link /opt:ref /opt:noicf</CODE></PRE>

<P>Specifying /OPT:ICF does not turn on the /OPT:REF option.</P>

<P>If the /DEBUG option is specified, the default for /OPT changes from REF<B> </B>to NOREF, and all functions are preserved in the image. To override this default and optimize a debugging build, specify /OPT:REF. The /OPT:REF option disables incremental linking.</P>
</font>
</BODY>
</HTML>
