<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Common Problems Switching from Debug to Release Build</TITLE>
<style>@import url(stylesheets/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="stylesheets/msdn_ie3.css"></HEAD>
<BODY>

<TABLE ALIGN=right WIDTH=0 BORDER=0><TR><TD>
<OBJECT ID="hhobj_1" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink">
	<PARAM NAME="DefaultTopic" VALUE="_topic_not_found.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="_vc_compiling_home">
</OBJECT>
</TD></TR></TABLE>


<font face="verdana,arial,helvetica" size="2">
<H1><A NAME="_core_common_problems_switching_from_debug_to_release_build"></A>Common Problems Switching from Debug to Release Build</H1>

<P><A HREF="JavaScript:hhobj_1.Click()">Home</A>  |&nbsp; <A HREF="_core_create_a_release_build.htm">How Do I</A></P>

<P>During development, you will usually build and test with a debug build of your project. If you then build your application for a release build, you may get an access violation.</P>

<P>The list below shows the primary differences between a debug and a release (non-debug) build. There are other differences, but the following are the primary differences that would cause an application to fail in a release build when it works in a debug build.

<UL type=disc>
	<LI><A HREF="#_core_heap_layout">Heap Layout</A><BR><BR></LI>

	<LI><A HREF="#_core_compilation">Compilation</A><BR><BR></LI>

	<LI><A HREF="#_core_pointer_support">Pointer Support</A><BR><BR></LI>

	<LI><A HREF="#_core_optimizations">Optimizations</A></LI>
</UL>

<P>See the <A HREF="vcrefgz(catchrelease-builderrorsindebugbuild).htm">/GZ (Catch Release-Build Errors in Debug Build)</A> compiler option for information on how to catch release build errors in debug builds.</P>



<H2><A NAME="_core_heap_layout"></A>Heap Layout</H2>

<P>Heap layout will be the cause of about ninety percent of the apparent problems when an application works in debug, but not release. </P>

<P>When you build your project for debug, you are using the debug memory allocator. This means that all memory allocations have guard bytes placed around them. These guard bytes are placed there to detect a memory overwrite. Because heap layout is different between release and debug versions, a memory overwrite might not create any problems in a debug build, but may have catastrophic effects in a release build.</P>

<P>See <A HREF="_core_check_for_memory_overwrite.htm">Check for Memory Overwrite</A> and <A HREF="_core_use_the_debug_build_to_check_for_memory_overwrite.htm">Use the Debug Build To Check for Memory Overwrite</A> for more information. </P>



<H2><A NAME="_core_compilation"></A>Compilation</H2>

<P>Many of the MFC macros and much of the MFC implementation changes when you build for release. In particular, the ASSERT macro evaluates to nothing in release build, so none of the code found in ASSERTs will be executed. See <A HREF="_core_examine_assert_statements.htm">Examine ASSERT Statements</A> for more information. </P>

<P>Some functions are inlined for increased speed in the release build. Optimizations are generally turned on in a release build. A different memory allocator is also being used.</P>



<H2><A NAME="_core_pointer_support"></A>Pointer Support</H2>

<P>The lack of debugging information removes the padding from your application. In a release build, stray pointers have a greater chance of pointing to uninitialized memory instead of pointing to debug information.</P>



<H2><A NAME="_core_optimizations"></A>Optimizations</H2>

<P>Depending on the nature of certain segments of code, the optimizing compiler might generate unexpected code. This is the least likely cause of release build problems, but it does arise on occasion. See <A HREF="_core_optimization_problem.htm">Optimization Problem</A> for a solution. </P>
</font>
</BODY>
</HTML>
