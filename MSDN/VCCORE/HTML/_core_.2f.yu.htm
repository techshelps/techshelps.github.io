<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>/Yu   (Use Precompiled Header File)</TITLE>
<style>@import url(stylesheets/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="stylesheets/msdn_ie3.css"></HEAD>
<BODY>

<TABLE ALIGN=right WIDTH=0 BORDER=0><TR><TD>
<OBJECT ID="hhobj_1" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink">
	<PARAM NAME="DefaultTopic" VALUE="_topic_not_found.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="_vc_compiling_home">
</OBJECT>
</TD></TR></TABLE>


<font face="verdana,arial,helvetica" size="2">
<H1><A NAME="_core_.2f.yu"></A>/Yu&nbsp;&nbsp;&nbsp;(Use Precompiled Header File)</H1>

<P><A HREF="JavaScript:hhobj_1.Click()">Home</A>  |&nbsp; <A HREF="_core_overviews.3a_.compiling_and_linking.htm">Overview</A>  |&nbsp; <A HREF="_core_set_compiler_options.htm">How Do I</A>  |&nbsp; <A HREF="_core_compiler_reference.htm">Compiler Options</A></P>

<P>This option instructs the compiler to use an existing precompiled header in the current compilation. </P>

<TABLE border=1 cellpadding=5 cols=3 frame=below rules=rows>

<TR VALIGN="top">
<TD class=label width=21%><B>Command Line</B></TD>
<TD class=label width=23%><B>Project Settings</B></TD>
<TD class=label width=56%><B>Description</B></TD>
</TR>

<TR VALIGN="top">
<TD width=21%>/Yu</TD>
<TD width=23%>Use Precompiled Header File</TD>
<TD width=56%>This option specifies using a precompiled header (.PCH) file during builds. The PCH must have been created using Create Precompiled Header File (<A HREF="_core_.2f.yc.htm">/Yc</A>). </TD>
</TR>

<TR VALIGN="top">
<TD width=21%>/Yu<I>filename</I></TD>
<TD width=23%>Through Header</TD>
<TD width=56%>Type the name of a header (.H) file in the Through Header text box. The compiler treats all code occurring before the .H file as precompiled. It skips to just beyond the #include directive associated with the .H file, uses the code contained in the .PCH file, and then compiles all code after <I>filename</I>. </TD>
</TR>
</TABLE><BR>

<P>On the command line, no space is allowed between /Yu and <I>filename</I>.</P>

<P>To find this option in the development environment, click <B>Settings</B> on the <B>Project</B> menu. Then click the <B>C/C++</B> tab, and click <B>Precompiled Headers </B>in the <B>Category </B>box. </P>

<P>When you specify the /Yu option without a file name, your source program must contain <A HREF="_predir_hdrstop.htm">#pragma hdrstop</A> pragma that specifies the file name. The compiler skips to the location of that pragma, restores the compiled state from the precompiled header file specified by the pragma, and then compiles only code that follows the pragma. If #pragma hdrstop does not specify a file name, the compiler looks for a file with a name derived from the base name of the source file with a .PCH extension.</P>

<P>If you specify the /Yu option without a file name and fail to specify a hdrstop pragma, an error message is generated and the compilation is unsuccessful.</P>

<P class=indent><B><B>Note</B></B>&nbsp;&nbsp;&nbsp;If the options /Yc<I>filename</I> and /Yu<I>filename</I> occur on the same command line and both reference, or imply, the same file name, /Yc<I>filename</I>, takes precedence. This feature simplifies the writing of makefiles.</P>

<H3>Examples</H3>

<P>If the following code:</P>

<PRE><CODE>#include &lt;afxwin.h&gt;   // Include header for class library
#include "resource.h" // Include resource definitions
#include "myapp.h"    // Include information specific to this app
...</CODE></PRE>

<P>is compiled with the command line:</P>

<PRE><CODE>CL /YuMYAPP.H PROG.CPP</CODE></PRE>

<P>the compiler does not process the three include statements but uses precompiled code from MYAPP.PCH, thereby saving the time involved in preprocessing all three of the files (and any files they might include).</P>

<P>You can use the <A HREF="_core_.2f.fp.htm">/Fp</A> option with the /Yu option to specify the name of the .PCH file if the name is different from either the file name argument to /Yc or the base name of the source file, as in the following:</P>

<PRE><CODE>CL /YuMYAPP.H /FpMYPCH.PCH PROG.CPP</CODE></PRE>

<P>This command specifies a precompiled header file named MYPCH.PCH. The compiler uses its contents to restore the precompiled state of all header files up to and including MYAPP.H. The compiler then compiles the code that occurs after the MYAPP.H include statement.</P>
</font>
</BODY>
</HTML>
