<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Relationships Among MFC Objects</TITLE>
<style>@import url(stylesheets/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="stylesheets/msdn_ie3.css"></HEAD>
<BODY>

<TABLE ALIGN=right WIDTH=0 BORDER=0><TR><TD>
<OBJECT ID="hhobj_1" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink">
	<PARAM NAME="DefaultTopic" VALUE="_topic_not_found.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="_vc_addpf_home">
</OBJECT>
<OBJECT ID="hhobj_2" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink">
	<PARAM NAME="DefaultTopic" VALUE="_topic_not_found.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="MFC samples">
</OBJECT>
<OBJECT ID="hhobj_3" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink">
	<PARAM NAME="DefaultTopic" VALUE="_topic_not_found.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="_mfc_AfxGetApp">
</OBJECT>
<OBJECT ID="hhobj_4" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink">
	<PARAM NAME="DefaultTopic" VALUE="_topic_not_found.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="_mfc_CWinThread.3a3a.m_pMainWnd">
</OBJECT>
</TD></TR></TABLE>


<font face="verdana,arial,helvetica" size="2">
<H1><A NAME="_core_relationships_among_mfc_objects"></A>Relationships Among MFC Objects</H1>

<P><A HREF="JavaScript:hhobj_1.Click()">Home</A>  |&nbsp; <A HREF="_core_mfc.3a_.overview.htm">Overview</A>  |&nbsp; <A HREF="_core_mfc_tasks.htm">How Do I</A>  |&nbsp; <A HREF="JavaScript:hhobj_2.Click()">Sample</A>  |&nbsp; <A HREF="_core_mfc_tutorials_available.htm">Tutorial</A></P>

<P>To help put the document/view creation process in perspective, first consider a running program: a document, the frame window used to contain the view, and the view associated with the document.

<UL type=disc>
	<LI>A document keeps a list of the views of that document and a pointer to the document template that created the document.<BR><BR></LI>

	<LI>A view keeps a pointer to its document and is a child of its parent frame window.<BR><BR></LI>

	<LI>A document frame window keeps a pointer to its current active view. <BR><BR></LI>

	<LI>A document template keeps a list of its open documents.<BR><BR></LI>

	<LI>The application keeps a list of its document templates.<BR><BR></LI>

	<LI>Windows keeps track of all open windows so it can send messages to them.</LI>
</UL>

<P>These relationships are established during document/view creation. The table "Gaining Access to Other Objects in Your Application" below shows how objects in a running program can access other objects. Any object can obtain a pointer to the application object by calling the global function <A HREF="JavaScript:hhobj_3.Click()">AfxGetApp</A>.</P>

<P class=label><B>Gaining Access to Other Objects in Your Application</B></P>

<TABLE border=1 cellpadding=5 cols=2 frame=below rules=rows>

<TR VALIGN="top">
<TD class=label width=28%><B>From object</B></TD>
<TD class=label width=72%><B>How to access other objects</B></TD>
</TR>

<TR VALIGN="top">
<TD width=28%>Document</TD>
<TD width=72%>Use <B>GetFirstViewPosition</B> and <B>GetNextView</B> to access the document's view list. 
<P>Call <B>GetDocTemplate</B> to get the document template.</P>
</TD>
</TR>

<TR VALIGN="top">
<TD width=28%>View</TD>
<TD width=72%>Call <B>GetDocument</B> to get the document. 
<P>Call <B>GetParentFrame</B> to get the frame window. </P>
</TD>
</TR>

<TR VALIGN="top">
<TD width=28%>Document frame window</TD>
<TD width=72%>Call <B>GetActiveView</B> to get the current view. 
<P>Call <B>GetActiveDocument</B> to get the document attached to the current view.</P>
</TD>
</TR>

<TR VALIGN="top">
<TD width=28%>MDI frame window</TD>
<TD width=72%>Call <B>MDIGetActive</B> to get the currently active <B>CMDIChildWnd</B>.</TD>
</TR>
</TABLE><BR>

<P>Typically, a frame window has one view, but sometimes, as in splitter windows, the same frame window contains multiple views. The frame window keeps a pointer to the currently active view; the pointer is updated any time another view is activated.</P>

<P class=indent><B><B>Note</B></B>&nbsp;&nbsp;&nbsp;A pointer to the main frame window is stored in the <A HREF="JavaScript:hhobj_4.Click()">m_pMainWnd</A> member variable of the application object. A call to <B>OnFileNew</B> in your override of the <B>InitInstance</B> member function of <B>CWinApp</B> sets <B>m_pMainWnd</B> for you. If you don't call <B>OnFileNew</B>, you must set the variable's value in <B>InitInstance</B> yourself. (SDI COM component (server) applications may not set the variable if /Embedding is on the command line.) Note that <B>m_pMainWnd</B> is now a member of class <B>CWinThread</B> rather than <B>CWinApp</B>.</P>

<H3>What do you want to know more about?</H3>

<UL type=disc>
	<LI><A HREF="_core_document_template_creation.htm">Document template creation</A><BR><BR></LI>

	<LI><A HREF="_core_document.2f.view_creation.htm">Document/view creation</A><BR><BR></LI>

	<LI><A HREF="_core_creating_new_documents.2c_.windows.2c_.and_views.htm">Creating new documents, windows, and views</A></LI>
</UL>
</font>
</BODY>
</HTML>
