<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>/YX   (Automatic Use of Precompiled Headers)</TITLE>
<style>@import url(stylesheets/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="stylesheets/msdn_ie3.css"></HEAD>
<BODY>

<TABLE ALIGN=right WIDTH=0 BORDER=0><TR><TD>
<OBJECT ID="hhobj_1" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink">
	<PARAM NAME="DefaultTopic" VALUE="_topic_not_found.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="_vc_compiling_home">
</OBJECT>
</TD></TR></TABLE>


<font face="verdana,arial,helvetica" size="2">
<H1><A NAME="_core_.2f.yx"></A>/YX&nbsp;&nbsp;&nbsp;(Automatic Use of Precompiled Headers)</H1>

<P><A HREF="JavaScript:hhobj_1.Click()">Home</A>  |&nbsp; <A HREF="_core_overviews.3a_.compiling_and_linking.htm">Overview</A>  |&nbsp; <A HREF="_core_set_compiler_options.htm">How Do I</A>  |&nbsp; <A HREF="_core_compiler_reference.htm">Compiler Options</A></P>

<P>This option instructs the compiler to use a precompiled header file (PCH) if one exists or to create one if none exists. The file is created in the current directory. You can use the <A HREF="_core_.2f.fp.htm">/Fp</A> option to change the default name and location of the precompiled header. (To find this option in the development environment, click <B>Settings</B> on the <B>Project</B> menu. Then click the <B>C/C++</B> tab, and click <B>Precompiled Headers </B>in the Category box.)</P>

<TABLE border=1 cellpadding=5 cols=3 frame=below rules=rows>

<TR VALIGN="top">
<TD class=label width=21%><B>Command Line</B></TD>
<TD class=label width=31%><B>Project Settings</B></TD>
<TD class=label width=48%><B>Description</B></TD>
</TR>

<TR VALIGN="top">
<TD width=21%>/YX</TD>
<TD width=31%>Automatic Use of Precompiled Headers</TD>
<TD width=48%>
<UL type=disc>
	<LI>Creates a file named <I>project</I>.PCH if it doesn’t already exist, and compiles only header (.H) files into this .PCH file. <BR><BR></LI>

	<LI>If you have no project open, it creates a file named VC50.PCH. <BR><BR></LI>

	<LI>The inclusion of .H files stops when the compiler encounters the first declaration, definition, hdrstop pragma, or #line directive in the source file being compiled with the option, or after the .H file specified in the Through Header text box. <BR><BR></LI>

	<LI>In subsequent compilations, the PCH is used after the compiler makes its final consistency check. <BR><BR></LI>

	<LI>See <A HREF="_core_consistency_rules_for_.2f.yx_compiler.htm">Consistency Rules for /YX</A>.</LI>
</UL>
</TD>
</TR>

<TR VALIGN="top">
<TD width=21%>/YX<I>filename</I></TD>
<TD width=31%>Through Header</TD>
<TD width=48%>
<UL type=disc>
	<LI>When creating a PCH, the compiler compiles all code up to and including the .H file specified in the Through Header text box (<I>filename</I>). <BR><BR></LI>

	<LI>When using a PCH, the compiler treats all code occurring before the specified .H file as precompiled. It skips to just beyond the #include directive associated with the .H file, uses the code contained in the .PCH file, and then compiles all code after <I>filename</I>. </LI>
</UL>
</TD>
</TR>
</TABLE><BR>

<P>The header files precompiled by /YX are determined by the compiler, which may elect to use a subset of header files available to improve the number of cases where the resulting precompiled header can be used.</P>

<P>Although it is usually best to let the compiler determine which header files to use, you can selectively precompile header files by placing a hdrstop pragma in the source file between two #include directives. All header files before the hdrstop pragma are precompiled; those after are not. When used with /YX, any filename specified with the hdrstop pragma is ignored. If any subsequent compilation using the precompiled header does not contain an identical hdrstop pragma at the same point in the source file, the compiler builds a new precompiled header. </P>

<P>Use of the /YX option implies use of the <A HREF="_core_.2f.yd.htm">/Yd</A> option (duplicate debugging information in all object files).</P>

<H3>Example</H3>

<P>The following command line uses /YX to create or use a precompiled header named VC50.PCH:</P>

<PRE><CODE>CL /YX MYPROG.CPP</CODE></PRE>

<P>The following command line creates a precompiled header named MYPROG.PCH and places it in the \PROJPCH directory:</P>

<PRE><CODE>CL /YX /Fp\PROJPCH\MYPROG.PCH MYPROG.CPP</CODE></PRE>
</font>
</BODY>
</HTML>
