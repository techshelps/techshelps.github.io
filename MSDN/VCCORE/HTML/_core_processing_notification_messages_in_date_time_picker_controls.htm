<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Processing Notification Messages in Date and Time Picker Controls</TITLE>
<style>@import url(stylesheets/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="stylesheets/msdn_ie3.css"></HEAD>
<BODY>

<TABLE ALIGN=right WIDTH=0 BORDER=0><TR><TD>
<OBJECT ID="hhobj_1" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink">
	<PARAM NAME="DefaultTopic" VALUE="_topic_not_found.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="_vc_addui_home">
</OBJECT>
<OBJECT ID="hhobj_2" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink">
	<PARAM NAME="DefaultTopic" VALUE="_topic_not_found.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="_win32_date_and_time_picker_controls">
</OBJECT>
</TD></TR></TABLE>


<font face="verdana,arial,helvetica" size="2">
<H1><A NAME="_core_processing_notification_messages_in_date_time_picker_controls"></A>Processing Notification Messages in Date and Time Picker Controls</H1>

<P><A HREF="JavaScript:hhobj_1.Click()">Home</A>  |&nbsp; <A HREF="_core_using_cdatetimectrl.htm">Overview</A>  |&nbsp; <A HREF="_core_common_control_sample_list.htm">Sample</A></P>

<P>As users interact with the date and time picker control, the control (<B>CDateTimeCtrl</B>) sends notification messages to its parent window, usually a view or dialog object. Handle these messages if you want to do something in response. For example, when the user opens the date and time picker to display the embedded month calendar control, the <B>DTN_DROPDOWN</B> notification is sent.</P>

<P>Use WizardBar or ClassWizard to add notification handlers to the parent class for those messages you want to implement.</P>

<P>The following list describes the various notifications sent by the date and time picker control.

<UL type=disc>
	<LI><B>DTN_DROPDOWN</B>&nbsp;&nbsp;&nbsp;Notifies the parent that the embedded month calendar control is about to be displayed. This notification is only sent when the <B>DTS_UPDOWN</B> style has not been set. For more information on this notification, see <A HREF="_core_accessing_the_embedded_month_calendar_control.htm">Accessing the Embedded Month Calendar Control</A>.<BR><BR></LI>

	<LI><B>DTN_CLOSEUP</B>&nbsp;&nbsp;&nbsp;Notifies the parent that the embedded month calendar control is about to be closed. This notification is only sent when the <B>DTS_UPDOWN</B> style has not been set.<BR><BR></LI>

	<LI><B>DTN_DATETIMECHANGE</B>&nbsp;&nbsp;&nbsp;Notifies the parent that a change has occurred in the control.<BR><BR></LI>

	<LI><B>DTN_FORMAT</B>&nbsp;&nbsp;&nbsp;Notifies the parent that text is needed to be displayed in a callback field. For more information on this notification and callback fields, see <A HREF="_core_using_callback_fields_in_a_date_time_picker_control.htm">Using Callback Fields in a Date and Time Picker Control</A>.<BR><BR></LI>

	<LI><B>DTN_FORMATQUERY</B>&nbsp;&nbsp;&nbsp;Requests the parent to supply the maximum allowable size of the string that will be displayed in a callback field. Handling this notification allows the control to properly display output at all times, reducing flicker within the control's display. For more information on this notification, see <A HREF="_core_using_callback_fields_in_a_date_time_picker_control.htm">Using Callback Fields in a Date and Time Picker Control</A>.<BR><BR></LI>

	<LI><B>DTN_USERSTRING</B>&nbsp;&nbsp;&nbsp;Notifies the parent that the user has finished editing the contents of the date and time picker control. This notification is only sent when the <B>DTS_APPCANPARSE</B> style has been set.<BR><BR></LI>

	<LI><B>DTN_WMKEYDOWN</B>&nbsp;&nbsp;&nbsp;Notifies the parent when the user types in a callback field. Handle this notification to emulate the same keyboard response supported for non-callback fields in a date and time picker control. For more information on this notification, see <A HREF="JavaScript:hhobj_2.Click()">Supporting Callback Fields in a DTP Control</A> in the <I>Platform SDK</I>.</LI>
</UL>

<P><B>See Also</B>&nbsp;&nbsp;&nbsp;<A HREF="_core_control_topics.htm#_core_windows_common_controls_and_mfc_classes">Windows Common Controls and MFC Classes</A></P>
</font>
</BODY>
</HTML>
