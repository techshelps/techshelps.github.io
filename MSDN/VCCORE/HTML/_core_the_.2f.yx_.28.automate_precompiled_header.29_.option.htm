<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>The /YX (Automate Precompiled Header) Option</TITLE>
<style>@import url(stylesheets/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="stylesheets/msdn_ie3.css"></HEAD>
<BODY>

<TABLE ALIGN=right WIDTH=0 BORDER=0><TR><TD>
<OBJECT ID="hhobj_1" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink">
	<PARAM NAME="DefaultTopic" VALUE="_topic_not_found.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="_vc_compiling_home">
</OBJECT>
</TD></TR></TABLE>


<font face="verdana,arial,helvetica" size="2">
<H1><A NAME="_core_the_.2f.yx_.28.automate_precompiled_header.29_.option"></A>The /YX (Automate Precompiled Header) Option</H1>

<P><A HREF="JavaScript:hhobj_1.Click()">Home</A></P>

<P>The /YX (Automate Precompiled Header) option instructs the compiler to use a precompiled header file with a default name of MSVC.PCH if it exists or to create one if it does not. The file is created in the current directory. You can use the /Fp<I>filename</I> option to change the default name (and placement) of the precompiled header. The following command line uses /YX to create a precompiled header named MSVC.PCH:</P>

<PRE><CODE>CL /YX MYPROG.CPP</CODE></PRE>

<P>The following command line creates a precompiled header named MYPROG.PCH and places it in the \PROJPCH directory:</P>

<PRE><CODE>CL /YX /Fp\PROJPCH\MYPROG.PCH MYPROG.CPP</CODE></PRE>

<P>Using the /YX option limits precompilation to header files only. The precompiled header is created when the compiler encounters the first declaration, definition, <B>hdrstop </B>pragma, or <B>#line</B> directive that occurs in the source file. In a subsequent compilation, the precompiled header is used at the point in a source file where the compiler makes its final consistency check. For more information, see <A HREF="_core_consistency_rules_for_.2f.yx_pch.htm">Consistency Rules for /YX</A>.</P>

<P>The actual set of header files precompiled with /YX is determined by the compiler, which may use a subset of the header files available to make the resulting precompiled header useful in more cases.</P>

<P>Although it is usually best to let the compiler determine which header files to use, you can selectively precompile header files by placing a <B>hdrstop</B> pragma in the source file between two <B>#include</B> directives. All header files before the <B>hdrstop</B> pragma are precompiled; those after are not. When used with /YX, any filename specified with the <B>hdrstop</B> pragma is ignored. If any subsequent compilation using the precompiled header does not find an identical <B>hdrstop</B> pragma at the same point in the source file, the compiler builds a new precompiled header. For more information, see <A HREF="_core_using_the_hdrstop_pragma.htm">Using the hdrstop Pragma</A>. </P>

<P class=indent><B><B>Note</B></B>&nbsp;&nbsp;&nbsp;If either /Yc or /Yu is specified with /YX, a warning is issued. In such cases, /YX is ignored, and /Yc or /Yu takes precedence. </P>

<P>Use of the /YX option implies the /Yd (“duplicate debugging information in all object files”) option.</P>
</font>
</BODY>
</HTML>
