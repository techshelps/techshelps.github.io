<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>README.TXT</title>
<link disabled rel=stylesheet href=../../../../../../../backsdk3.css>
<style type="text/css">
@import url(../../../../../../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>
<h2><a name="_code_context4201"></a>README.TXT</h2>
<pre><code>CkyMunge: ISAPI filter for ASP session state for cookieless browsers <br>  ==================================================================== <br> <br> <br>Table of Contents <br>================= <br> <br>    Overview <br>    Installation <br>    Build Notes <br>    Support <br>    Change Notes <br> <br> <br>Overview <br>======== <br> <br>This filter is a workaround that helps Active Server Pages deal with <br>browsers that don't understand cookies or that refuse to accept <br>cookies.  ASP uses the ASPSESSIONID cookie to maintain its session <br>state.  ASP expects the browser to send this cookie to the server with <br>every request that it makes.  The ASPSESSIONID cookie is unique to a <br>session.  Without it, ASP does not know which session the user owns and <br>it cannot keep the Session object up to date as the user moves from page <br>to page. <br> <br>The CkyMunge filter works like this: <br> <br>1. The filter receives a request for a particular URL.  If the <br>   headers of the request contain either "Cookie: ASPSESSIONID=xxx" <br>   (IIS 3.0) or "Cookie: ASPSESSIONIDxxxxxxxx=xxx" (IIS 4.0) <br>   header that ASPSESSIONID is recorded.  If the URL contains an <br>   encoded ASPSESSIONID (see step 2), the ASPSESSIONID is <br>   removed from the URL and a Cookie header is generated <br>   instead.  The ASPSESSIONID, if present, is recorded for this <br>   transaction. <br> <br>2. CkyMunge filters all outgoing data.  When ASP sends out a page in <br>   response to the above request, CkyMunge removes the ASPSESSIONID <br>   Set-Cookie headers, if present (so that browsers with cookie <br>   warnings will have nothing to complain about), and munges any <br>   local, relative URLs embedded in the page (e.g., http:foo/bar.asp will <br>   become something like http:foo/bar.asp-ASP=PVZQGHUMEAYAHMFV). <br> <br>3. If the user clicks on one of those modified URLs, the request <br>   comes back to the server (and filter) and step 1 starts all <br>   over again. <br> <br>Notes: <br> <br>* Filtering outgoing raw data is an expensive process.  Every <br>  single byte of data sent out by IIS must be streamed through <br>  the filter.  The filter goes to some pains to be smart about <br>  not unneccesarily processing data it's not interested in (such <br>  as GIFs), but there are unavoidable performance costs <br>  associated with IIS needing to copy all data from kernel to <br>  user memory. <br> <br>  It is impossible to give an accurate prediction of how much <br>  performance will degrade on your server if the CkyMunge filter <br>  is installed.  On a lightly loaded server, the difference <br>  should not matter.  On a heavily loaded server, the <br>  performance might become unacceptable. <br> <br>  It is up to you to measure the performance of your server both <br>  with and without the filter installed and see if the <br>  convenience of supporting paranoid users or users with old <br>  browsers outweighs the cost of poorer performance. <br> <br>  User education may be a better solution in the long run. <br>The ASPSESSIONID cookie is not used to track longterm <br>information about you.  The cookie is destroyed as soon <br>as your browser shuts down and it is not stored on your <br>machine.  It simply allows our webserver to keep track <br>of what's in your shopping basket as you move from page <br>to page in our application. <br> <br>If your browser doesn't support cookies, we'd like to <br>suggest that you upgrade to a newer one that does.  When <br>you do, you'll enjoy our site much more because your <br>browser will also support frames and tables and other <br>newer features of HTML that we've made use of. <br> <br>* If you elect not to install this filter, you can minimize the <br>  number of cookies sent by Active Server Pages in one of two ways: <br>    * Put something into the Session object: <br>      &lt;% Session("something") = whatever %&gt; <br>    * Put a global.asa into the virtual root for your <br>      application, with a do-nothing Session_OnStart subroutine. <br> <br>* The filter has 3 modes: off, on, and smart.  In the off mode <br>  the filter does no work (a better way of turning it off would <br>  be to remove it from the list of filters).  In On mode, all <br>  URLs will be munged as normal, and no cookies will be sent <br>  out.  In smart mode, the filter will munge and let cookies <br>  go out to the browser.  If the cookie comes back it will <br>  stop munging URLs and use the cookies.  If the cookie doesn't <br>  come back it will begin eating outgoing cookies and continue <br>  to munge URLs.  This will result in slightly better performance. <br>  The mode is controlled by a registry setting: <br>  /HKEY_LOCAL_MACHINE/software/microsoft/ckymunge/mungemode.  A <br>  mode of 0 is off, 1 is on, and 2 is smart. <br> <br>* URLs will look ugly (http:foo/bar.asp-ASP=PVZQGHUMEAYAHMFV). <br>  Users can still bookmark them, however.  If the ASPSESSIONID <br>  is stale, the server will assign them a new session ID and <br>  start a new session.  If CkyMunge has been disabled in the <br>  meantime, then the URL will be unreachable. <br> <br>* Only local, relative URLs are modified.  Absolute URLs are not <br>  modified (e.g., http://www.mycompany.com/foo/bar.asp).  Nor are <br>  local absolute URLS (e.g., http:/foo/bar.asp).  It is always good <br>  HTML style to use relative URLs wherever possible, to ensure <br>  location independence, so that moving a set of pages to a different <br>  server or a different directory will not require modification of <br>  the text. <br> <br>* The filter does not work well with pure HTML pages (pages with <br>  an .HTM or .HTML extension) as the Set-Cookie header does not <br>  get sent out and hence the filter has no way of knowing how to <br>  modify any embedded URLs.  Rename your .HTM and .HTML pages to <br>  have a .ASP extension, even if they contain no server-side <br>  scripting. <br> <br>* If you have some client-side scripting that dynamically <br>  constructs URLs in the user's browser (windows.navigate), <br>  these URLs will not be modified to contain the ASPSESSIONID. <br> <br>* This filter is transparent to Active Server Pages.  It neither <br>  knows nor cares that the filter is present. <br> <br> <br>Installation <br>============ <br> <br>To install this on IIS 4.0, you must: <br> <br>    * Copy ckymunge.dll to somewhere suitable, such as \InetPub\Scripts <br>      or \Winnt\System32\InetSrv <br> <br>    * Use the Internet Service Manager to add ckymunge.dll to the list of <br>  ISAPI filters to be used for your web site.  The Internet Service Manager <br>  is found in the Start Menu. <br> <br>        Start\ <br>            Programs\ <br>                Windows NT 4.0 Option Pack\ <br>                    Microsoft Internet Information Server\ <br>                        Internet Service Manager <br> <br>  Right mouse click on the web site you wish to install this filter on. <br>  Choose Properties.  Click on the ISAPI Filters tab and add the filter. <br> <br>      If you have other filters installed, the order in which they are executed <br>  may become important.  Ckymunge is a medium-priority filter. <br> <br> <br>Build Notes <br>=========== <br> <br>You can build this component with nmake at the command line.  Read the <br>Makefile for more details. <br> </code></pre>
<p>&nbsp;</p></body>
</HTML>
