<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Monitor Sampling Functions</title>
<link disabled rel=stylesheet href=../../backsdk3.css>
<style type="text/css">
@import url(../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h3><a name="_gdk_monitor_sampling_functions"></a>Monitor Sampling Functions</h3>
<p>
The monitor sampling functions are high-level functions called by the gateway. These functions internally record simple snapshot statistics and call the <a href="admnfunc_59bn.htm">Folder Snapshot Functions</a> and the <a href="admnfunc_0iyb.htm">Jump Window Functions</a> to calculate the additional statistics. The monitor maintains a separate thread function, <b>SharedMemoryUpdate</b>, to periodically update the memory-mapped file with the calculated statistics. </p>
<p>
The sample gateway uses monitor sample functions to make calls to MONITOR.LIB, which in turn uses the folder snapshot functions and the jump window functions in STATS.LIB. At regular intervals the <b>SharedMemoryUpdate</b> function copies the calculated statistics to the memory-mapped file.</p>
<p>
The monitor sampling functions are listed in the following table.</p>
<table cellspacing=4 cols=3>
<tr valign=top>
<th align=left width=31%>Function</th>
<th align=left width=34%>Action</th>
<th align=left width=35%>When called</th>
</tr>
<tr valign=top>
<td width=31%><a href="function_9m7o.htm"><b>HrMonInit</b></a></td>
<td width=34%>Initializes the data collection for all statistics of a folder.</td>
<td width=35%>As gateway starts.</td>
</tr>
<tr valign=top>
<td width=31%><a href="function_2sj7.htm"><b>HrMonCollectNDRStats</b></a></td>
<td width=34%>Builds statistics on the number of nondelivery reports produced in a folder.</td>
<td width=35%>For each nondelivery report sent or received.</td>
</tr>
<tr valign=top>
<td width=31%><a href="function_4ghf.htm"><b>HrMonCollectMessage<br>
XferStats</b></a></td>
<td width=34%>Builds statistics on the number of messages traveling in each direction through the gateway.</td>
<td width=35%>For each message transferred through the gateway.</td>
</tr>
<tr valign=top>
<td width=31%><a href="function_4cmr.htm"><b>HrMonCollect<br>
AssociationStats</b></a></td>
<td width=34%>Updates the statistic on the current number of gateway associations.</td>
<td width=35%>Each time the number of associations changes.</td>
</tr>
<tr valign=top>
<td width=31%><a href="function_073n.htm"><b>HrMonLockCounters</b></a></td>
<td width=34%>Locks the counters against access by other threads or processes.</td>
<td width=35%>Before accessing a user-defined counter.</td>
</tr>
<tr valign=top>
<td width=31%><a href="function_9377.htm"><b>HrMonUnlock<br>
Counters</b></a></td>
<td width=34%>Unlocks the counters to allow access by other threads or processes.</td>
<td width=35%>After accessing a user-defined counter.</td>
</tr>
<tr valign=top>
<td width=31%><a href="function_94j8.htm"><b>HrMonUninit</b></a></td>
<td width=34%>Closes down the data collection for all statistics.</td>
<td width=35%>As gateway stops.</td>
</tr>
</table><br>
<p>&nbsp;</p></body>
</HTML>
