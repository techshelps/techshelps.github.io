<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Deciding to Backbone a Message</title>
<link disabled rel=stylesheet href=../../backsdk3.css>
<style type="text/css">
@import url(../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h2><a name="_gdk_deciding_to_backbone_a_message"></a>Deciding to Backbone a Message</h2>
<p>
When a backboning gateway receives an outbound <a href="gwgloss_0vfx.htm#_gdk_message">message</a>, it has to determine the final recipient of that message. If the message is being backboned across the <a href="gwgloss_0vfq.htm#_gdk_foreign_system">foreign system</a> to another Microsoft Exchange Server or other MAPI-based system, the gateway must encapsulate the message before handing it on to the foreign system, so that all Microsoft Exchange Server special properties are preserved. If the message <a href="gwgloss_0vg2.htm#_gdk_recipient">recipient</a> is a native user of the foreign system, the message is sent directly to that recipient. This decision can be made for each individual message or for groups of messages. The gateway developer can implement this decision using one of the following options:
<ul>
<li>
<b>For individual messages</b>  Use the MAPI-Recipient property (PR_SEND_RICH_INFO) that is set on the recipient in the message recipient table. This property is derived from the MAPI recipient attribute on the recipient object in the directory or, for a one-off address, from a per-recipient option defined by the address type. The per-recipient flag will be supported by the personal address book (PAB) if a one-off address is stored in the PAB.</li>
<li>
<b>For groups of messages</b>  Compare the <a href="gwgloss_0vg2.htm#_gdk_recipient">recipient</a> address with an <a href="gwgloss_0vfl.htm#_gdk_address_space">address space</a> table defined in the gateway’s configuration. To implement this option, you must provide a <a href="gwgloss_0vg0.htm#_gdk_property_page">property page</a> with your gateway that allows an administrator to enter an address space in the foreign domain and specify that everyone in that address space needs to be backboned. Then the gateway can compare recipient addresses with the specified address spaces.</li>
</ul>
<p>
For best performance, design the gateway to determine as soon as possible which recipients should be backboned. For example, if all recipients need to be backboned, no other conversions are necessary and message delivery will be faster.</p>
<p>&nbsp;</p></body>
</HTML>
