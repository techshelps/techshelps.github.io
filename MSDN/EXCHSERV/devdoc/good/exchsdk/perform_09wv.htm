<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Checking Network I/O</title>
<link disabled rel=stylesheet href=../../backsdk3.css>
<style type="text/css">
@import url(../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h1><a name="_edk_checking_network_i_o"></a>Checking Network I/O</h1>
<p>
The Network Monitor tool helps determine where network bottlenecks are occurring. Network Monitor runs on Windows NT Server and is available from Microsoft. Other network monitoring tools can be obtained from independent software vendors. </p>
<p>
For Microsoft Exchange Server or any client-server application, an important measurement is the number of bytes flowing between the server and the client and how many RPCs are required per action. Network Monitor can count both, and you can run it on both the server and the client. Network Monitor can analyze each frame, then compute the overhead.</p>
<p>
The Network Monitor can also report the actual number of bytes transmitted. It includes low-level connections for Windows NT Server actions, and the redirector to establish and maintain that network connection. The number of connections should be kept low, especially when a large number of users are connected remotely. The number of bytes is particularly important for scalability and for slow-link clients. Less network I/O means a network/server can support more clients, and also means faster operation for remote clients over slow links such as a modem.</p>
<h4>Example: Checking your Network I/O</h4>
<p>
Using a network monitor during a test of a Microsoft Exchange Client shows that each RPC has a 304-byte overhead. So many RPCs are being requested that RPC overhead consumes 50 percent of network I/O. Also, more than 40,000 bytes of network I/O are required to reply to a message. This again demonstrates the importance of reducing RPCs and monitoring their use.</p>
<h5><img src="../../images/wedge.gif" border=0>&nbsp;&nbsp;&nbsp;&nbsp;To use the Network Monitor</h5>
<ol>
<li>
Enter <b>Network Address</b> for the computers you want to monitor.</li>
<li>
Run <b>NET CONFIG RDR</b>.</li>
<li>
Look for the 12 character Ethernet network address for each network card. Example: 00AA0038ADC1 </li>
<li>
Start Network Monitor<b>.</b></li>
<li>
From the <b>Capture</b> menu, choose <b>Addresses</b>.</li>
<li>
Click <b>Add</b>.</li>
</ol>
<p>
</p>
<h5><img src="../../images/wedge.gif" border=0>&nbsp;&nbsp;&nbsp;&nbsp;To select type: ETHERNET</h5>
<ol>
<li>
Type in a 12-character address for <b>Address</b>. Example: 00AA0038ADC1</li>
<li>
Type in server name for <b>Name</b>. Example: SERVER</li>
<li>
Type in comment. Example: Microsoft Exchange Server</li>
<li>
Click <b>OK</b>.</li>
<li>
Click <b>Save</b> and save to DEFAULT.ADR.</li>
</ol>
<p>
</p>
<p>
Repeat these steps for any other computers to be monitored.</p>
<h5><img src="../../images/wedge.gif" border=0>&nbsp;&nbsp;&nbsp;&nbsp;To monitor traffic between the server and client</h5>
<ol>
<li>
From the <b>Choose Capture</b> menu, choose <b>Filter</b>.</li>
<li>
Edit the line that reads <b>INCLUDE ANY &lt;--&gt; ANY</b>.</li>
<li>
Select the server on the left and the client on the right.</li>
<li>
Click <b>OK</b>.</li>
</ol>
<p>
</p>
<p>
For future use, save and load the filters.</p>
<h5><img src="../../images/wedge.gif" border=0>&nbsp;&nbsp;&nbsp;&nbsp;To begin capture</h5>
<ol>
<li>
Get test ready to run.</li>
<li>
From the <b>Capture</b> menu, choose <b>Start</b>.</li>
<li>
Choose <b>Run</b> <b>Test</b>.</li>
<li>
From the <b>Capture</b> menu, choose <b>Stop</b>.</li>
</ol>
<p>
</p>
<h5><img src="../../images/wedge.gif" border=0>&nbsp;&nbsp;&nbsp;&nbsp;To analyze the data</h5>
<p class=indent1>
The Station Stats window allows you to view how many bytes are being sent and received between the client and the server.</p>
<p>
</p>
<h5><img src="../../images/wedge.gif" border=0>&nbsp;&nbsp;&nbsp;&nbsp;To produce a view that allows you to see all RPCs to and from the server</h5>
<ol>
<li>
From the <b>Capture</b> menu, choose <b>Display Captured Data</b>.</li>
<li>
Choose <b>Filter</b> from the <b>Display</b> menu.</li>
<li>
Edit the line that reads <b>Protocol == Any</b>.</li>
<li>
Disable <b>All protocols</b>.</li>
<li>
Enable the <b>MSRPC protocol</b>.</li>
</ol>
<p>
</p>
<h5><img src="../../images/wedge.gif" border=0>&nbsp;&nbsp;&nbsp;&nbsp;To produce a view that allows you to see and count the number of RPCs to the server</h5>
<ol>
<li>
From the <b>Capture</b> menu, choose <b>Display Captured Data</b>.</li>
<li>
From the <b>Display</b> menu, choose <b>Filter</b>.</li>
<li>
Edit the line that reads <b>Protocol == Any</b>.</li>
<li>
Disable <b>All protocols</b>.</li>
<li>
Enable the <b>MSRPC protocol</b>.</li>
<li>
Add an <b>Expression</b>.</li>
<li>
Choose the <b>Property</b> tab.</li>
<li>
Select and expand <b>MSRPC</b>.</li>
<li>
Select <b>P-Type </b>in<b> Protocol:Property</b> listbox.</li>
<li>
Select <b>== </b>in<b> Relation</b> listbox.</li>
<li>
Select <b>Request </b>in<b> Value</b> listbox.</li>
<li>
Click <b>OK</b>.</li>
</ol>
<p>
</p>
<p>
For future use, load and save the views.</p>
<p>&nbsp;</p></body>
</HTML>
