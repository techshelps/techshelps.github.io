<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>HrRestoreRegister</title>
<link disabled rel=stylesheet href=../../backsdk3.css>
<style type="text/css">
@import url(../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h1><a name="_edk_hrrestoreregister"></a>HrRestoreRegister</h1>
<p>
The <b>HrRestoreRegister</b> function registers a restore operation, interlocking all subsequent restore operations and preventing the restore target from starting until <a href="function_2sx1.htm"><b>HrRestoreRegisterComplete</b></a> is called.</p>
<h4>Quick Info </h4>
<table cellspacing=4 cols=2>
<tr valign=top>
<td width=23%>Header file: </td>
<td width=77%>EDBBCLI.H</td>
</tr>
<tr valign=top>
<td width=23%>Library: </td>
<td width=77%>EDBBCLI.LIB</td>
</tr>
<tr valign=top>
<td width=23%>Unicode: </td>
<td width=77%>Yes</td>
</tr>
</table><br>
<pre><code><b>HRESULT HrRestoreRegister(
  HBC</b><i> hbcRestoreContext</i><b>,        </b>
<b>  LPTSTR</b><i>&nbsp;szCheckpointFilePath</i><b>,  </b>
<b>  LPTSTR</b><i>&nbsp;szLogPath</i><b>,             </b>
<b>  EDB_RSTMAP</b><i>&nbsp;rgrstmap[]</i><b>,        </b>
<b>  C</b><i>&nbsp;crstmap</i><b>,                    </b>
<b>  LPTSTR</b><i>&nbsp;szBackupLogPath</i><b>,       </b>
<b>  ULONG</b><i>&nbsp;genLow</i><b>,                 </b>
<b>  ULONG</b><i>&nbsp;genHigh                 </i>
<b>);</b>
 </code></pre>
<h4>Parameters</h4>
<dl>
<dt>
<i>hbcRestoreContext</i></dt>
<dd>
Input parameter. The client-side context handle of the restore.</dd>
<dt>
<i>szCheckpointFilePath</i></dt>
<dd>
Input parameter. The path to the checkpoint file. Typically the same as the system database path. If this parameter is NULL, <b>HrRestoreRegister</b> uses the checkpoint file derived from the backup logs.</dd>
<dt>
<i>szLogPath</i></dt>
<dd>
Input parameter. The path to the log files on the disk. If the path leads to an empty directory, new log files are generated there. This parameter cannot be NULL.  </dd>
<dt>
<i>rgrstmap</i>[]</dt>
<dd>
Input parameter. This is an <a href="structs_9uwg.htm"><b>EDB_RSTMAP</b></a> structure containing the old and new paths for each database. There should be one row (of two elements) for each database. For the directory there is a row for the system database and a row for the directory database. For the information store, if you are restoring both the private and public databases, there is a row for each of the system, private, and public databases. If you are restoring just the private or just the public databases, there is a row for the system and a row for the (private or public) database. The order of the rows does not matter. The <i>crstmap</i> parameter specifies the number of rows.</dd>
<dt>
<i>crstmap</i></dt>
<dd>
Input parameter. A LONG specifying the number of rows in <i>rgrstmap</i>.</dd>
<dt>
<i>szBackupLogPath</i></dt>
<dd>
Input parameter. The path to the directory where the log files are restored. This parameter can be the same as the <i>szLogPath</i> parameter. <b>HrRestoreRegister</b> also puts the patch file is put into this directory. This parameter cannot be NULL.</dd>
<dt>
<i>genLow</i></dt>
<dd>
Input parameter. The lowest log file number that is restored. This is a hexadecimal number in the range from 0x00000 to 0xFFFFF.  </dd>
<dt>
<i>genHigh</i></dt>
<dd>
Input parameter. The highest log file number that is restored. This is a hex number in the range from 0x00000 to 0xFFFFF. <b> </b>
</dd>
</dl>
<h4>Return Values</h4>
<p>
See <a href="function_3odv.htm">Return Values</a>.</p>
<h4>Remarks</h4>
<p>
For more information on this function, see <a href="infostor_6gdd.htm">Backing Up and Restoring Data</a>.</p>
<h4>See Also</h4>
<p>
<a href="function_2sx1.htm"><b>HrRestoreRegisterComplete</b></a></p>
<p>&nbsp;</p></body>
</HTML>
