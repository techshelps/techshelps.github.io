<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Designing a Gateway</title>
<link disabled rel=stylesheet href=../../backsdk3.css>
<style type="text/css">
@import url(../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h2><a name="_edk_designing_a_gateway"></a>Designing a Gateway</h2>
<p>
This quick start procedure examines the issues involved when designing a gateway. For complete gateway information, see the <i>Gateway Programmer's Reference</i>.</p>
<h4>Design Tasks</h4>
<ol>
<li>
Determine the type of address mapping the gateway will need to perform. In other words, for incoming messages, what kind of foreign-system addresses will be mapped to (and for outgoing messages, from) the native EX address type of Microsoft Exchange Server. At this stage, the gateway may also need to generate <a href="gwgloss_0vfy.htm#_gdk_nondelivery_report">nondelivery reports (NDR)</a> if the destination address on an incoming message matches no valid recipient in the directory, or if the destination address on an outgoing messages contains no valid proxy address for an external recipient.</li>
<li>
Determine what <a href="xlation_5cq6.htm">message translation</a> tasks are needed. First, this means knowing what types of messages (<a href="gwgloss_0vft.htm#_gdk_interpersonal_message_ipm_">IPM</a>, <a href="gwgloss_0vft.htm#_gdk_interpersonal_note_ipn_">IPN</a>, <a href="gwgloss_0vfy.htm#_gdk_nondelivery_report">NDR</a>, <a href="gwgloss_0vfo.htm#_gdk_delivery_report">DR</a>) will need to be translated. Second, how are the attributes on incoming messages mapped to MAPI properites? For example, incoming messages in SMTP format contain certain header fields; you would need to determine what MAPI properties to store them in. The gateway may need to generate an NDR if message translation cannot be performed, or performed incompletely.</li>
<li>
Decide whether this gateway will used for <a href="glossary_1oo2.htm#_edk_backboning_backbone_">backboning</a> Microsoft Exchange Server messages. If so, will the gateway need to preserve rich text? Will it use <a href="glossary_1ook.htm#_edk_transport_neutral_encapsulation_format_tnef_">TNEF</a> encapsulation? For more information on TNEF, see the <i>MAPI Programmer's Reference</i>.  </li>
<li>
Design a strategy to have the gateway preserve trace information. Trace information is necessary so that message looping can be stopped. For more information, see <a href="msgxfer_2qb2.htm">Gateway Trace Information</a>. </li>
<li>
As with all server applications, design the gateway to perform efficiently. For more information, see <a href="perform_4g11.htm">Application Performance</a>.</li>
<li>
Decide on a threading model for the gateway. For more information, see <a href="dsignapp_6xv7.htm">Using MAPI in Multithreaded Applications</a>.</li>
</ol>
<h4>About Sample Source Code</h4>
<p>
See <a href="develpmt_3zas.htm">Building the Sample Gateway and Sample Mailbox Agent</a> and <a href="samplgw_0rxv.htm">Sample Gateway and Applications</a>. Also see the sample code in the section called GWSAMPLE.</p>
<p>&nbsp;</p></body>
</HTML>
