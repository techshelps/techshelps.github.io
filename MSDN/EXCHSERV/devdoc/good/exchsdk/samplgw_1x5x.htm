<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>PERFTEST: Monitoring Performance</title>
<link disabled rel=stylesheet href=../../backsdk3.css>
<style type="text/css">
@import url(../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h2><a name="_gdk_perftest_monitoring_performance"></a>PERFTEST: Monitoring Performance</h2>
<p>
The PERFTEST sample application demonstrates how to monitor the performance of gateways using the Windows NT Performance Monitor. The PERFTEST application also demonstrates MONITOR.LIB functions. For more information about the performance monitor, see <a href="perform_360i.htm">Using the Performance Monitor</a> and <a href="gwsetup_16xz.htm">Installing Performance Monitoring</a>.  </p>
<p>
The PERFTEST sample application performs some gateway functions in that it receives and sends messages. But as a testing application, PERFTEST cannot receive messages from foreign systems. When a user sends a message, PERFTEST adds its own header to the subject line of the message and then returns it to the sender. This behavior lets you control the test closely by sending messages to PERFTEST. The performance monitor process is described in <a href="admnfunc_50mf.htm">Performance Monitoring</a>.</p>
<p>
<b>Note</b>  When GWSETUP installs the sample gateway, it automatically creates a class key for the gateway in the Windows NT Registry. PERFTEST looks for a specific class key named <b>PerfTestType</b> in the registry, so it won't run on the sample gateway as installed by GWSETUP. If you create a new <b>PerfTestType</b> key for the sample gateway, you will have two keys pointing at the same object, and you will see two identical objects when you view the performance data in the Windows NT Performance Monitor.</p>
<p>
If the sample gateway was installed using GWSETUP, you must completely remove it and reinstall it using the installation programs GWINST.EXE, SERVINST.EXE, and PERFINST.EXE. This procedure installs a new service, gateway object, and performance monitoring information (using the <b>PerfTestType</b> class key) for PERFTEST to use.</p>
<h5><img src="../../images/wedge.gif" border=0>&nbsp;&nbsp;&nbsp;&nbsp;To build PERFTEST</h5>
<ol>
<li>
Change to the directory containing the PERFTEST source files:<p>
<b>\BKOFFICE\SAMPLES\EXCHANGE\PERFTEST</b>
</li>
<li>
Type <b>NMAKE</b>. </li>
</ol>
<p>
</p>
<p>
PERFTEST is usually run as a nonservice application, but it can also be run as a <a href="glossary_1ooj.htm#_edk_service">service</a>.</p>
<p>&nbsp;</p></body>
</HTML>
