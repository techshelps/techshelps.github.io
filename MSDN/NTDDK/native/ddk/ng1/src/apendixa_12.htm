<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>A.2.1  Full NIC Driver Upper-Edge Functions</TITLE>
<style>@import url(/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="/msdn_ie3.css"></HEAD>
<BODY BGPROPERTIES="FIXED" TEXT="#000000" BGCOLOR="#FFFFFF">

<FONT FACE="ARIAL,HELVETICA" SIZE="2">
<H2><A NAME="DDK_A.2.1_Full_NIC_Driver_Upper_Edge_Functions_NG"></A>A.2.1  Full NIC Driver Upper-Edge Functions</H2>
<P>
The full NIC driver must provide the minimum upper-edge functions defined in
Table A.2.1. A bound transport driver makes all calls to these functions
indirectly, through the NDIS interface library. 
<P>
The full NIC driver can optionally make use of the NDIS interface filter
libraries (Ethernet, Token Ring, and FDDI) to manage multiple transport driver
bindings to a network interface card. If the full NIC driver uses a filter
library, it must supply the action functions listed in Table A.2.2. 
<P>
Some of the full NIC driver functions use synchronous processing, while others
use asynchronous processing. NDIS 3.0 implements synchronous functions without
a wait for an external event. Asynchronous function completion occurs when the
NIC driver calls an NDIS interface library completion function, which in turn
calls a transport driver completion function for postprocessing. 
<P>
Names of the full NIC driver functions mentioned in these discussions use <B>Mac</B>
as a generic prefix. For all functions written for an actual NIC driver, you
may provide your own names, or you can simply substitute the name of the
specific driver for <B>Mac</B>. For details of the functions and types
mentioned in these sections, see Chapter 1 in the <I>Network Driver Reference</I>.
<P>
<B>Table A.2.1    Full NIC Driver Upper-Edge Functions </B>
<TABLE>
<TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
<B>Function </B>
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
<B>Definition</B>
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
<B>Async Option</B>
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
<B>DriverEntry</B>
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
Called by the operating system to activate and initialize the NIC driver.
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
Not Appli-cable
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
<B><A HREF="../../nr/src/appdxa_4.htm">MacAddAdapter</A></B>
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
Called by the NDIS interface library to add support for a network card. 
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
No
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
<B><A HREF="../../nr/src/appdxa_11.htm">MacCloseAdapter</A></B>
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
Called by a transport driver to close an open binding. 
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
Yes
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
<B><A HREF="../../nr/src/appdxa_12.htm">MacDeferredProcessingRoutine</A></B>
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
Called by the operating system to complete interrupt processing that <B>MacInterruptServiceRoutine</B>
does not perform. This function is the DPR for the NIC driver.
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
No
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
<B><A HREF="../../nr/src/appdxa_13.htm">MacInterruptServiceRoutine</A></B>
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
Called by the operating system as an ISR that invokes processing associated
with a network card interrupt.
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
No
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
<B><A HREF="../../nr/src/appdxa_14.htm">MacOpenAdapter</A></B>
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
Called by a transport driver to open a binding between itself and a network
card. 
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
Yes
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
<B><A HREF="../../nr/src/appdxa_15.htm">MacQueryGlobalStatistics</A></B>
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
Called by the operating system to query current NIC driver statistics about a
logical adapter. 
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
Yes
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
<B><A HREF="../../nr/src/appdxa_16.htm">MacRemoveAdapter</A></B>
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
Called by the operating system to remove a registered network card. 
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
No
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
<B><A HREF="../../nr/src/appdxa_17.htm">MacRequest</A></B>
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
Called by a transport driver to query or set NIC driver information. 
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
Yes
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
<B><A HREF="../../nr/src/appdxa_18.htm">MacReset</A></B>
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
Called by a transport driver to issue a hardware reset to a network card. 
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
Yes
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
<B><A HREF="../../nr/src/appdxa_19.htm">MacSend</A></B>
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
Called by a transport driver to instruct the NIC driver to transmit a packet
through a network interface card onto the network. 
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
Yes
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
<B><A HREF="../../nr/src/appdxa_21.htm">MacSynchronizeFunction</A></B>
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
Called by a NIC driver function to synchronize access to shared data by the
ISR and non-ISR network card functions.
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
No
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
<B><A HREF="../../nr/src/appdxa_22.htm">MacTimerFunction</A></B>
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
Called by the operating system for time-delayed processing after the timer
expires.
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
No
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
<B><A HREF="../../nr/src/appdxa_23.htm">MacTransferData</A></B>
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
Called by a transport driver<B>&nbsp;</B>to copy the data from a received packet. 
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
Yes
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
<B><A HREF="../../nr/src/appdxa_24.htm">MacUnload</A></B>
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
Called by the operating system to instruct the NIC driver to unload itself.
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
No
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
<B><A HREF="../../nr/src/appdxa_5.htm">MacChangeEthAddresses</A></B>
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
Called by the Ethernet filter library to initiate processing if the multicast
address list for a network card changes.
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
Yes
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
<B><A HREF="../../nr/src/appdxa_6.htm">MacChangeFddiAddresses</A></B>
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
Called by the FDDI filter library to initiate processing if the multicast
address list for a network card changes.
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
Yes
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
<B><A HREF="../../nr/src/appdxa_7.htm">MacChangeFilter</A></B>
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
Called by the Ethernet, Token Ring, or FDDI filter library to initiate
processing when a binding sets or clears a filter class.
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
Yes
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
<B><A HREF="../../nr/src/appdxa_8.htm">MacChangeGroup</A></B>
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
Called by the Token Ring filter library to initiate processing if the group
address for all bindings changes.
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
Yes
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
<B><A HREF="../../nr/src/appdxa_9.htm">MacChangeTrAddress</A></B>
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
Called by the Token Ring filter library to initiate processing if the
functional address for a network card changes.
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
Yes
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
<B><A HREF="../../nr/src/appdxa_10.htm">MacCloseAction</A></B>
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
Called by the Ethernet, Token Ring, or FDDI filter library to complete
processing when a binding closes while the NIC driver is indicating a received
packet to a bound transport driver.
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
No
</FONT></TABLE>
<P></FONT>
</BODY>
</HTML>
