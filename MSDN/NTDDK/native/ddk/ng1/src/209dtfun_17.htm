<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>9.3  Functions Exported by NETDETECT.DLL</TITLE>
<style>@import url(/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="/msdn_ie3.css"></HEAD>
<BODY BGPROPERTIES="FIXED" TEXT="#000000" BGCOLOR="#FFFFFF">

<FONT FACE="ARIAL,HELVETICA" SIZE="2">
<H2><A NAME="DDK_Functions_Exported_by_NETDETECT.DLL_NG"></A>9.3  Functions Exported by NETDETECT.DLL</H2>
<P>
Detection of network interface cards is comprised of several layered
components. At the upper level is the <I>setup.inf</I>&nbsp;installation script.
Underlying <I>setup.inf</I>&nbsp;are Microsoft&#39;s and other vendor’s
hardware-specific NIC detection DLLs. These DLLs are used to call <I>netdtect.dll</I>.
<P>
The exported functions in <I>netdtect.dll</I>&nbsp;should be used for all
NIC-detection operations in detection DLLs.
<P>
Information about driver interface specifications in this section are
primarily directed at ISA-bus devices, because the ISA bus does not have any
configuration information associated with it. Information from other buses
such as EISA, MCA, and PCI are stored directly into the Windows NT registry.
<P>
The system-supplied <I>netdtect.sys</I>&nbsp;provides the following functions:
<UL>
<LI>
Resource checking
<P>
<LI>
Port access
<P>
<LI>
Memory Access
<P>
<LI>
Interrupt trapping
</UL>
<P>
A vendor’s NIC detection DLL typically uses the port and space access
functions in <I>netdtect.dll</I>&nbsp;to attempt to locate specific NICs. It scans
possible I/O port locations for a known signature or some other characteristic
to detect a particular NIC. If NIC detection hangs the Windows NT operating
system, the user is instructed to bypass automatic detection and explicitly
specify the card instead.
<P>
Usually, NIC detection proceeds one new NIC at a time, with previous NICs
having registered their resources with the I/O subsystem. Registry information
is used to prevent access to ports or mapped memory in use by another driver.
<P>
Special routines are provided for NICs that cannot determine their interrupt
without generating a physical interrupt. The detection DLL informs the driver
to trap all interrupts for such a NIC that are not reserved in the current
configuration. The detection DLL causes the NIC to generate an interrupt. A
routine is provided for the detection DLL to determine which interrupts have
occurred.
<P>
The following describe the exported functions of netdtect.dll.
<P></FONT>
</BODY>
</HTML>
