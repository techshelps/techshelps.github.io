<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>2.4.1  Initializing the NDIS Library and Registering Drivers</TITLE>
<style>@import url(/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="/msdn_ie3.css"></HEAD>
<BODY BGPROPERTIES="FIXED" TEXT="#000000" BGCOLOR="#FFFFFF">

<FONT FACE="ARIAL,HELVETICA" SIZE="2">
<H3><A NAME="DDK_Initializing_the_NDIS_Library_and_Registering_Drivers_NG"></A>2.4.1  Initializing the NDIS Library and Registering Drivers </H3>
<P>
<IMG SRC="../art/207-01.gif" BORDER=0>
<P>
<B>Initializing NDIS library and registering a miniport</B>
<P>
To initialize the NDIS library, the operating system must ensure that the
configuration registry has appropriate information for each miniport. When a
driver is loaded, the operating system uses the binding information in the
registry, creates a driver object for each miniport driver, and calls the <B>DriverEntry</B>
function of that driver. The miniport in turn calls <B><A HREF="../../nr/src/103ndisx_111.htm">NdisMInitializeWrapper</A></B>,
passing the address of the driver object and the associated registry path to
the driver-specific information. <B>NdisMInitializeWrapper</B>&nbsp;can then
perform its initialization chores. 
<P>
After <B>NdisMInitializeWrapper</B>&nbsp;returns, the miniport calls <B><A HREF="../../nr/src/103ndisx_125.htm">NdisMRegisterMiniport</A></B>
to register itself as a driver on the network, passing in the addresses of its
entry points. The NDIS library stores the addresses of the Miniport<I>Xxx</I>
functions that are supplied by the miniport in the driver object. 
<P>
Before receiving and sending packets on the network, the NDIS library must
register all network interface cards. 
<P></FONT>
</BODY>
</HTML>
