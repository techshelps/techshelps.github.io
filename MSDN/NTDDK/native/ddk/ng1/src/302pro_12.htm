<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>2.8  Status Indications in a Protocol Driver</TITLE>
<style>@import url(/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="/msdn_ie3.css"></HEAD>
<BODY BGPROPERTIES="FIXED" TEXT="#000000" BGCOLOR="#FFFFFF">

<FONT FACE="ARIAL,HELVETICA" SIZE="2">
<H2><A NAME="DDK_Status_Indications_in_a_Protocol_Driver_NG"></A>2.8  Status Indications in a Protocol Driver </H2>
<P>
A protocol driver is required to supply both ProtocolStatus and
ProtocolStatusComplete functions. NDIS calls ProtocolStatus when an underlying
NDIS driver calls <B>NdisMIndicateStatus</B>&nbsp;to report a change in its NIC.
ProtocolStatus is called when the status change begins. If the action
indicated by the status message is not complete when ProtocolStatus is called,
<B>NdisMIndicateStatusComplete</B>&nbsp;is subsequently called by the underlying
NIC driver. When this occurs, ProtocolStatusComplete is called to carry out
any postprocessing indicated by the status change. Examples of <I>GeneralStatus</I>
reported to ProtocolStatus include:
<UL>
<LI>
NDIS_STATUS_CLOSING <FONT FACE="Symbol">&#190;</FONT> This status and the
actions of ProtocolStatus were already discussed in <A HREF="302pro_11.htm">Section
2.7</A>. 
<P>
<LI>
NDIS_STATUS_RESET_START and NDIS_STATUS_RESET_END <FONT
FACE="Symbol">&#190;</FONT> In this case, both of these statuses are reported
to both ProtocolStatus and ProtocolStatusComplete as explained already in <A HREF="302pro_10.htm">Section
2.6</A>. 
<P>
<LI>
NDIS_STATUS_LINE_UP <FONT FACE="Symbol">&#190;</FONT> This status is indicated
if the protocol driver is layered over NDISWAN while an underlying WAN-capable
NIC driver has an established connection with a remote node. The protocol
driver exchanges handles for an active connection on which it can send and
receive as well as query the connection for call-specific information. See
Part 2, <A HREF="205mwan.htm">Chapter 5</A>&nbsp;and <A HREF="206tapi.htm">Chapter
6</A>, for more information on WAN drivers.
<P>
<LI>
NDIS_STATUS_RING_STATUS or any other medium-specific status value, for which <I>StatusBuffer</I>
provides more detailed information about the status, for instance, problems
specific to a Token Ring medium.
</UL>
<P>
&nbsp;
<P></FONT>
</BODY>
</HTML>
