<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>4.3  TDI IOCTL Requests</TITLE>
<style>@import url(/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="/msdn_ie3.css"></HEAD>
<BODY BGPROPERTIES="FIXED" TEXT="#000000" BGCOLOR="#FFFFFF">

<FONT FACE="ARIAL,HELVETICA" SIZE="2">
<H2><A NAME="DDK_TDI_IOCTL_Requests_NG"></A>4.3  TDI IOCTL Requests</H2>
<P>
As already mentioned in the preceding section, kernel-mode clients pass TDI
IOCTLs in IRPs to the underlying transport driver with calls to <B>IoCallDriver</B>.
These requests are passed with a <B>MajorFunctionCode</B>&nbsp;of
IRP_MJ_INTERNAL_DEVICE_CONTROL and <B>MinorFunctionCode</B>&nbsp;that specifies one
of the following TDI-defined operations:
<DL>
<DT>
<B><A HREF="../../nr/src/22ioctl_1.htm">TDI_ACCEPT</A></B>&nbsp;
<DD>
Allows the local-node client to accept an incoming connection offer from a
remote-node peer so that it can send and receive connection-oriented data on
the network.
<BR>
<DT>
<B><A HREF="../../nr/src/22ioctl_2.htm">TDI_ACTION</A></B>&nbsp;
<DD>
Initiates transport-specific extension operations for an address, a connection
endpoint, or a control channel. 
<BR>
<DT>
<B><A HREF="../../nr/src/22ioctl_3.htm">TDI_ASSOCIATE_ADDRESS</A></B>&nbsp;
<DD>
Associates an open connection endpoint with an open local transport address,
which is a prerequisite to establishing an endpoint-to-endpoint connection
with a remote-node peer process. 
<BR>
<DT>
<B><A HREF="../../nr/src/22ioctl_4.htm">TDI_CONNECT</A></B>&nbsp;
<DD>
Initiates a connection offer from one endpoint to another on a remote node.
<BR>
<DT>
<B><A HREF="../../nr/src/22ioctl_5.htm">TDI_DISASSOCIATE_ADDRESS</A></B>&nbsp;
<DD>
Disassociates a connection endpoint for an inactive connection from its
associated address object.
<BR>
<DT>
<B><A HREF="../../nr/src/22ioctl_6.htm">TDI_DISCONNECT</A></B>&nbsp;
<DD>
Terminates an established endpoint-to-endpoint connection for the local-node
client or acknowledges connection termination initiated by a remote-node peer.
<BR>
<DT>
<B><A HREF="../../nr/src/22ioctl_7.htm">TDI_LISTEN</A></B>&nbsp;
<DD>
Passively listens for an incoming connection offer from a remote-node peer
process.
<BR>
<DT>
<B><A HREF="../../nr/src/22ioctl_8.htm">TDI_QUERY_INFORMATION</A></B>&nbsp;
<DD>
Queries the underlying TDI transport for a specific type of information.
<BR>
<DT>
<B><A HREF="../../nr/src/22ioctl_9.htm">TDI_RECEIVE</A></B>&nbsp;
<DD>
Returns all or part of a TSDU received on an endpoint-to-endpoint connection. 
<BR>
<DT>
<B><A HREF="../../nr/src/22ioctl_10.htm">TDI_RECEIVE_DATAGRAM</A></B>&nbsp;
<DD>
Returns a datagram TSDU on an open transport address.
<BR>
<DT>
<B><A HREF="../../nr/src/22ioctl_11.htm">TDI_SEND</A></B>&nbsp;
<DD>
Sends a normal or expedited TSDU to the remote-node peer on an
endpoint-to-endpoint connection. 
<BR>
<DT>
<B><A HREF="../../nr/src/22ioctl_12.htm">TDI_SEND_DATAGRAM</A></B>&nbsp;
<DD>
Sends a datagram to a specified remote-node address.
<BR>
<DT>
<B><A HREF="../../nr/src/22ioctl_13.htm">TDI_SET_EVENT_HANDLER</A></B>&nbsp;
<DD>
Registers a client-supplied event handler that the transport will call
whenever the corresponding network event occurs.
<BR>
<DT>
<B><A HREF="../../nr/src/22ioctl_14.htm">TDI_SET_INFORMATION</A></B>&nbsp;
<DD>
Sets a specific type of information in the underlying transport.
</DL>
<P></FONT>
</BODY>
</HTML>
