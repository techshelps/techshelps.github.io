<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>4.5  Full-Duplex Operation</TITLE>
<style>@import url(/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="/msdn_ie3.css"></HEAD>
<BODY BGPROPERTIES="FIXED" TEXT="#000000" BGCOLOR="#FFFFFF">

<FONT FACE="ARIAL,HELVETICA" SIZE="2">
<H2><A NAME="DDK_Full_Duplex_Operation_NG"></A>4.5  Full-Duplex Operation</H2>
<P>
A miniport that runs in full-duplex mode and can simultaneously send and
receive on an SMP machine runs faster than a miniport that is serialized on
SMP platforms. A miniport that does not support full-duplex is not designed to
handle simultaneous sends and receives. For such a miniport, NDIS serializes
execution of all its Miniport<I>Xxx</I>&nbsp;functions that run at IRQL &lt;=
DISPATCH_LEVEL. That is, all the Miniport<I>Xxx</I>&nbsp;functions but MiniportISR
and MiniportDisableInterrupts are serialized. 
<P>
In a miniport that operates in full-duplex mode, all entry points but
MiniportSend, or MiniportSendPackets if it supports multipacket sends, are
serialized. That is, the miniport’s send function can execute concurrently
with any of the other Miniport<I>Xxx</I>&nbsp;functions in an SMP machine. The only
exception is MiniportReset. If a miniport is resetting, it will not get any
send requests. Otherwise, possible concurrent execution of the
MinportSend(Packets) and other Miniport<I>Xxx</I>&nbsp;functions implies the
following:
<UL>
<LI>
If there are any resources that are shared between a miniport’s send function
and any other Miniport<I>Xxx</I>&nbsp;function, that resource must be protected by
a spin lock. The only exception to this is the MiniportReset path which is
serialized by NDIS with respect to the MiniportSend or MiniportSendPackets
function and all other Miniport<I>Xxx</I>&nbsp;functions.
</UL>
<P></FONT>
</BODY>
</HTML>
