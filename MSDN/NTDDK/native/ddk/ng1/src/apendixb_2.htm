<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>B.1.1  Fully Parallel Stacks</TITLE>
<style>@import url(/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="/msdn_ie3.css"></HEAD>
<BODY BGPROPERTIES="FIXED" TEXT="#000000" BGCOLOR="#FFFFFF">

<FONT FACE="ARIAL,HELVETICA" SIZE="2">
<H3><A NAME="DDK_B.1.1_Fully_Parallel_Stacks_NG"></A>B.1.1  Fully Parallel Stacks</H3>
<P>
A fully parallel stack runs in a preemptive multiprocessor environment. It
uses locks to protect its integrity, and is prepared for:
<OL>
<LI>
The service procedures of two or more of its queues running concurrently
<P>
<LI>
Its service and put procedures running concurrently with and/or preempting
each other
<P>
<LI>
Multiple instances of an open or close procedure running concurrently on
different queues.
<P>
<LI>
All put procedures to be called at DISPATCH_LEVEL processor priority. At this
priority level, no page faults may be taken and procedures may not block. All
dynamic memory should be allocated from non-paged pool.
</OL>
<P>
STREAMS limits service procedures to one instantiation per queue at any given
moment. For optimal throughput, a stack should do as much work as possible in
its put procedures.
<P>
Service, open, and close procedures are guaranteed.
<P>
Additionally, open and close procedures are serialized along a stream. Thus,
at any particular time, only one module or driver along that stream is
executing an open or close procedure.
<P></FONT>
</BODY>
</HTML>
