<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>2.1  Portability</TITLE>
<style>@import url(/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="/msdn_ie3.css"></HEAD>
<BODY BGPROPERTIES="FIXED" TEXT="#000000" BGCOLOR="#FFFFFF">

<FONT FACE="ARIAL,HELVETICA" SIZE="2">
<H2><A NAME="DDK_Portability_NG"></A>2.1  Portability</H2>
<P>
NDIS drivers should be written so that they are easily portable across all
platforms that support Microsoft Windows NT and other Microsoft operating
systems that support the Win32 interface. In general, porting from one
hardware platform to another should only require recompilation with a
system-compatible compiler.
<P>
Driver developers should avoid calling operating system-specific functions
since this will make their driver unportable. Instead, the NDIS equivalents of
such calls should be used. Restricting support calls to NDIS functions allows
the code to be ported between Microsoft operating systems that support NDIS.
NDIS exports a rich set of support functions for writing drivers, and it
should not be necessary to call the operating system directly. 
<P>
Drivers should be written in C. Further, driver code should be restricted to
the ANSI C standard and should avoid using any language features that are not
supported by other system-compatible compilers. Driver code should not be
written using any features that the ANSI C standard designates as
“implementation defined”. 
<P>
Drivers should avoid any dependencies on data types whose size and layout vary
across platforms. Driver code should not call any C runtime library functions
instead of NDIS-provided functions.
<P>
No floating point operations are allowed in kernel-mode. It is a fatal error
to attempt such operations.
<P>
If a driver contains code to support platform-specific features, such code
should be encapsulated between <B>#ifdef</B>&nbsp;and <B>#endif</B>&nbsp;statements.
<P></FONT>
</BODY>
</HTML>
