<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>SetupDiGetClassInstallParams</TITLE>
<style>@import url(/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="/msdn_ie3.css"></HEAD>
<BODY BGPROPERTIES="FIXED" TEXT="#000000" BGCOLOR="#FFFFFF">

<FONT FACE="ARIAL,HELVETICA" SIZE="2">
<H4><A NAME="DDK_SetupDiGetClassInstallParams_PG"></A>SetupDiGetClassInstallParams</H4>
<P>
<B>BOOLEAN</B><BR>
&nbsp; &nbsp; <B>SetupDiGetClassInstallParams(</B><BR>
&nbsp; &nbsp; &nbsp; &nbsp; <B>IN HDEVINFO</B>&nbsp; <I>DeviceInfoSet</I><B>,</B><BR>
&nbsp; &nbsp; &nbsp; &nbsp; <B>IN PSP_DEVINFO_DATA</B>&nbsp; <I>DeviceInfoData</I><B>,</B>&nbsp; &nbsp; /* optional */<BR>
&nbsp; &nbsp; &nbsp; &nbsp; <B>OUT PSP_CLASSINSTALL_HEADER</B>&nbsp; <I>ClassInstallParams</I><B>,</B>
&nbsp; <I>&nbsp;</I>/* optional */<BR>
<B>&nbsp; &nbsp; &nbsp; &nbsp; IN DWORD</B>&nbsp; <I>ClassInstallParamsSize</I><B>,<BR>
&nbsp; &nbsp; &nbsp; &nbsp; OUT PDWORD</B>&nbsp; <I>RequiredSize</I>&nbsp; &nbsp; /* optional */<B><BR>
</B>&nbsp; &nbsp; &nbsp; &nbsp; <B>);</B>
<P>
<B>SetupDiGetClassInstallParams</B>&nbsp;retrieves class install parameters for a
device information set or a particular device information element. 
<H5>Parameters</H5>
<DL>
<DT>
<I>DeviceInfoSet</I>
<DD>
Supplies a handle to the device information set that contains the class
install parameters to retrieve.
<BR>
<DT>
<I>DeviceInfoData</I>
<DD>
Supplies a pointer to an SP_DEVINFO_DATA structure that contains the class
install parameters to retrieve. If this parameter is not specified, the class
install parameters retrieved are associated with the device information set
for the global class driver list.
<BR>
<DT>
<I>ClassInstallParams</I>
<DD>
Supplies a pointer to a buffer that contains a class install header structure.
This structure must have its <B>cbSize</B>&nbsp;field set to <B>sizeof(</B>SP_CLASSINSTALL_HEADER<B>)</B>
on input or the buffer is considered to be invalid. On output, the <B>InstallFunction</B>
field is filled with the DI_FUNCTION code for the class install parameters
being retrieved. If the buffer is large enough, it receives the class install
parameters structure specific to the function code. If <I>ClassInstallParams</I>
is not specified, <I>ClassInstallParamsSize</I>&nbsp;must be 0. 
<BR>
<DT>
<I>ClassInstallParamsSize</I>
<DD>
Supplies the size, in bytes, of the <I>ClassInstallParams</I>&nbsp;buffer. If the
buffer is supplied, it must be at least as large as <B>sizeof(</B>SP_CLASSINSTALL_HEADER<B>)</B>.
If the buffer is not supplied, <I>ClassInstallParamsSize</I>&nbsp;must be 0<I>.</I>
<BR>
<DT>
<I>RequiredSize</I>
<DD>
Supplies a pointer to a variable to receive the number of bytes required to
store the class install parameters.
</DL>
<H5>Return Value</H5>
<P>
The function returns TRUE if it is successful. Otherwise it returns FALSE and
the logged error can be retrieved with a call to <B>GetLastError</B>.
<H5>Comments</H5>
<P>
The class install parameters are specific to a particular device installation
request (DI_FUNCTION) that is stored in the <B>ClassInstallHeader</B>&nbsp;field
located at the beginning of the <I>ClassInstallParams</I>&nbsp;buffer.
<H5>See Also</H5>
<P>
<B><A HREF="102instl_105.htm">SetupDiSetClassInstallParams</A></B>
<P></FONT>
</BODY>
</HTML>
