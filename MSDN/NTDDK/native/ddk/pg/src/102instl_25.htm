<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Service Install Section</TITLE>
<style>@import url(/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="/msdn_ie3.css"></HEAD>
<BODY BGPROPERTIES="FIXED" TEXT="#000000" BGCOLOR="#FFFFFF">

<FONT FACE="ARIAL,HELVETICA" SIZE="2">
<H4><A NAME="DDK_Service_Install_Section_PG"></A>Service Install Section</H4>
<P>
The <B>Service Install</B>&nbsp;section installs the service listed in the <B>AddService</B>
entry of the <B><A HREF="102instl_26.htm">Services</A></B>&nbsp;section:
<PRE><FONT FACE="Courier" SIZE="2">[<I>install-section-name</I>_ServiceInstallSection]
DisplayName=[<I>name</I>]
ServiceType=<I>type-code</I>
StartType=<I>start-code</I>
ErrorControl=<I>error-control-level</I>
ServiceBinary=<I>path-to-service</I>
LoadOrderGroup=[<I>load-order-group-name</I>]
Dependencies=+<I>depend-on-group-name</I>[[,<I>depend-on-service-name</I>]...]
StartName=[<I>driver-object-name</I>]
&nbsp;</FONT></PRE>
<DL>
<DT>
<I>name</I>
<DD>
Optional. A friendly name for the service.
<BR>
<DT>
<I>type-code</I>
<DD>
Specifies the type of driver. This can be any type allowed by the <B>CreateService</B>
function. See the Win32 SDK online documentation for more information.
<BR>
<DT>
<I>start-code</I>
<DD>
Specifies when to start the driver. One of the following:
<DL>
<DT>
SERVICE_BOOT_START (0x0)
<DD>
Indicates a driver started by the operating system loader. This code should
only be used for drivers that are essential to loading the OS.
<BR>
<DT>
SERVICE_SYSTEM_START (0x1)
<DD>
Indicates a driver started during OS initialization.
<BR>
<DT>
SERVICE_AUTO_START (0x2)
<DD>
Indicates a driver started by the Service Control Manager during system
startup.
<BR>
<DT>
SERVICE_DEMAND_START (0x3)
<DD>
Indicates a driver started on demand by the Service Control Manager.
<BR>
<DT>
SERVICE_DISABLED (0x4)
<DD>
Indicates a driver that cannot be started.
</DL>
<DT>
<I>error-control-level</I>
<DD>
Specifies the level of error control as follows:
<DL>
<DT>
CRITICAL (0x3)
<DD>
If the driver fails to load, fail the attempted startup. If the startup is not
using the LastKnownGood control set, switch to LastKnownGood. If the startup
attempt is using LastKnownGood, run a bug-check routine.
<BR>
<DT>
SEVERE (0x2)
<DD>
If the startup is not using the LastKnownGood control set, switch to
LastKnownGood. If the startup attempt is using LastKnownGood, continue on in
case of error.
<BR>
<DT>
NORMAL (0x1)
<DD>
If the driver fails to load or initialize, startup should proceed, but display
a warning.
<BR>
<DT>
IGNORE (0x0)
<DD>
If the driver fails to load or initialize, startup proceeds. No warning is
displayed.
</DL>
<DT>
<I>path-to-service</I>
<DD>
The path to the binary for the service.
<BR>
<DT>
<I>load-order-group-name</I>
<DD>
Optional. Identifies the load order group of which this driver is a member.
Examples of groups are: pointer, port, primary disk, and so forth. For
detailed discussion of load order groups and controlling load order, see
Chapter 1.
<BR>
<DT>
+<I>depend-on-group-name</I>
<DD>
Optional. Specifies a load order group on which the driver depends. The driver
is started only if at least one member of the specified group has been
started. For detailed discussion of load order groups and controlling load
order, see Chapter 1.
<BR>
<DT>
<I>depend-on-service-name</I>
<DD>
Optional. Specifies a service that must be running before this driver is
started.
<BR>
<DT>
<I>driver-object-name</I>
<DD>
Optional. If <I>type-code</I>&nbsp;specifies a Kernel driver or a file system
driver, this name is the Windows NT driver object name that the I/O Manager
uses to load the device driver.
</DL>
<P>
The following example shows a typical <B>Service Install</B>&nbsp;section:
<PRE><FONT FACE="Courier" SIZE="2">[mouclass_Service_Inst]
DisplayName    = %mouclass.SvcDesc%
ServiceType    = 1                  ; SERVICE_KERNEL_DRIVER
StartType      = 1                  ; SERVICE_SYSTEM_START
ErrorControl   = 1                  ; SERVICE_ERROR_NORMAL
ServiceBinary  = %12%\mouclass.sys
LoadOrderGroup = Pointer Class
&nbsp;</FONT></PRE>
<P></FONT>
</BODY>
</HTML>
