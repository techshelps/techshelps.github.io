<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Log Config Section</TITLE>
<style>@import url(/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="/msdn_ie3.css"></HEAD>
<BODY BGPROPERTIES="FIXED" TEXT="#000000" BGCOLOR="#FFFFFF">

<FONT FACE="ARIAL,HELVETICA" SIZE="2">
<H4><A NAME="DDK_Log_Config_Section_PG"></A>Log Config Section</H4>
<P>
A <B>Log Config</B>&nbsp;section defines device configuration details, such as
interrupt request lines, memory ranges, I/O ports, and DMA channels. The name
of the section, <I>log-config-section-name</I>, must be used in the <B>LogConfig</B>
item in an <B><A HREF="102instl_21.htm">Install</A></B>&nbsp;section of the INF
file.
<PRE><FONT FACE="Courier" SIZE="2">[<I>log-config-section-name</I>]
ConfigPriority=<I>Priority_Value</I>[<I>,Config_Type</I>]
[DMAConfig=[<I>DMAattrs</I>:]<I>DMANum</I>[<I>,DMANum</I>]]
[IOConfig=<I>io-range</I>[,<I>io-range</I>]...]
[IRQConfig=[<I>IRQattrs</I>:]<I>IRQNum</I>[<I>,IRQNum</I>]]
[MemConfig=<I>mem-range</I>[,<I>mem-range</I>]...
&nbsp;</FONT></PRE>
<DL>
<DT>
<I>Priority_Value</I>
<DD>
Sets the priority value for the logical configuration. Only one <B>ConfigPriority</B>
item can be used in a <B>Log Config</B>&nbsp;section. Can be one of the following
string values:
<TABLE>
<TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
<B>Value</B>
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
<B>Meaning</B>
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
HARDWIRED
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
Cannot be reset.
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
DESIRED
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
Soft configured, most optimal.
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
NORMAL
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
Soft configured, medium optimal.
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
SUBOPTIMAL
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
Soft configured, least optimal.
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
DISABLED
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
Hardware disabled.
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
RESTART
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
Requires Windows NT restart to take effect.
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
REBOOT
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
For Windows NT this is the same as RESTART.
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
POWEROFF
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
Requires power cycle to take effect.
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
HARDRECONFIG
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
Requires a jumper change.
</FONT></TABLE>
<DT>
<I>Config_Type</I>
<DD>
Optional. Can be one of the following string values:
<TABLE>
<TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
<B>Value</B>
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
<B>Meaning</B>
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
FORCED
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
The Configuration Manager must use the settings in this section. If set, <I>Priority_Value</I>
must be NORMAL.
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
BASIC
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
The settings in this section indicate a range of possibilities.
</FONT></TABLE>
<DT>
<I>DMAattrs</I>
<DD>
Optional. Can be either the letter D for 32-bit DMA channels or the letter W
for 16-bit channels. These values are specific to the bus being used. If no
value is specified, the default is 8-bit channels.
<BR>
<DT>
<I>DMANum</I>
<DD>
The DMA channel number in decimal notation.
<BR>
<DT>
<I>io-range</I>
<DD>
Sets the I/O range for the logical configuration. This value has two forms:
Type 1 I/O Range and Type 2 I/O Range.
<DL>
<DT>
<B>Type 1 I/O Range Value</B>
<DD>
<PRE><FONT FACE="Courier" SIZE="2"><I>start</I>-<I>end</I>[([<I>decode-mask</I>]:[<I>alias-offset</I>]:[<I>attr</I>])]
&nbsp;</FONT></PRE>
<TABLE>
<TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
<I>start</I>
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
Starting address of the I/O port region. This is a 64-bit value in hexadecimal
notation.
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
<I>end</I>
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
Ending address of the I/O port region. This is a 64-bit value in hexadecimal
notation. The <I>start</I>&nbsp;and <I>end</I>&nbsp;values must be separated by a
hyphen.
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
<I>decode-mask</I>
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
Optional. Currently ignored.
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
<I>alias-offset</I>
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
Optional. A 32-bit value to indicate additional ports decoded by the adapter.
The additional ports are calculated by adding multiples of this offset to the
base I/O port region. Leaving this field blank indicates that driver software
will only access the ports in the base I/O region and never access any of the
aliases.
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
<I>attr</I>
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
Optional. The letter M specifies that the I/O port is a memory address. The
default (no attr) indicates that the port is an I/O address.
</FONT></TABLE>
<DT>
<B>Type 2 I/O Range Value</B>
<DD>
<PRE><FONT FACE="Courier" SIZE="2"><I>size</I>@<I>min</I>-<I>max</I>[%<I>align-mask</I>][([<I>decode-mask</I>]:[<I>alias-offset</I>]:[<I>attr</I>])]
&nbsp;</FONT></PRE>
<TABLE>
<TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
<I>size</I>
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
Size of the required I/O port region in bytes. This is a 32-bit value in
hexadecimal notation.
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
<I>min</I>
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
The smallest possible starting I/O port. This is a 64-bit value in hexadecimal
notation.
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
<I>max</I>
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
The largest possible ending I/O port. This a 64-bit value in hexadecimal
notation. The <I>min</I>&nbsp;and <I>max</I>&nbsp;values must be separated by a hyphen.
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
<I>align-mask</I>
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
Optional. This 64-bit hexadecimal mask is applied to the range specified by
min and max to determine legal starting addresses for the I/O region. To
construct the mask, all bits that must be 0 in the starting address must be 0
in the mask. All other bits should be 1.
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
<I>decode-mask</I>
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
Optional. Currently ignored.
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
<I>alias-offset</I>
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
Optional. A 32-bit value to indicate additional ports decoded by the adapter.
The additional ports are calculated by adding multiples of this offset to the
base I/O port region. Leaving this field blank indicates that driver software
will only access the ports in the base I/O region and never access any of the
aliases.
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
<I>attr</I>
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
Optional. The letter M specifies that the I/O port is a memory address. The
default (no <I>attr</I>) indicates that the port is an I/O address.
</FONT></TABLE>
<P>
The following example illustrates the use of a list of three Type 1 I/O range
values in an <B>IOConfig</B>&nbsp;item. The example specifies an I/O port region of
8 bytes which can start at 1F8, 2F8, or 3F8 and does not use any of its
aliases.
<PRE><FONT FACE="Courier" SIZE="2">IOConfig=1F8-1FF, 2F8-2FF, 3F8-3FF
&nbsp;</FONT></PRE>
<P>
The following example shows the use of a Type 2 I/O range value in an <B>IOConfig</B>
item. The example specifies an I/O port region of 8 bytes which can start at
300, 308, 310, 318, 320, or 328. The device does not use any of its aliases.
<PRE><FONT FACE="Courier" SIZE="2">IOConfig=8@300-32F%FF8
&nbsp;</FONT></PRE>
</DL>
<DT>
<I>IRQattrs</I>
<DD>
Optional. Can be any combination of the following letters:
<TABLE>
<TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
S
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
Indicates a shareable interrupt. If used, this flag should appear only once in
an <B>IRQConfig</B>&nbsp;item. It affects all IRQs listed in that item. If this
flag is not specified, the default is a non-shareable interrupt.
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
L
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
Indicates a level-triggered interrupt. If this flag is not specified, the
default is an edge-triggered interrupt.
</FONT></TABLE>
<DT>
<I>IRQNum</I>
<DD>
Sets the IRQ number for the logical configuration. This is the IRQ number in
decimal notation. 
<BR>
<DT>
<I>mem-range</I>
<DD>
Sets the memory range(s) for the logical configuration.
<DL>
<DT>
This value has two forms:
<DD>
<PRE><FONT FACE="Courier" SIZE="2"><I>start</I>-<I>end</I>[(<I>attr</I>)]
&nbsp;
<I>size</I>@<I>min</I>-<I>max</I>[%<I>align-mask</I>][(<I>attr</I>)]
&nbsp;</FONT></PRE>
<TABLE>
<TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
<I>start</I>
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
Starting address of the physical memory region. This is a 64-bit value in
hexadecimal notation. 
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
<I>end</I>
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
Ending address of the physical memory region. This is 64-bit value in
hexadecimal notation. The <I>start</I>&nbsp;and <I>end</I>&nbsp;values must be separated
by a hyphen.
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
<I>size</I>
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
Size of the required region in bytes. This is a 32-bit value in hexadecimal
notation.
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
<I>min</I>
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
Smallest possible starting address of the memory region. This is 64-bit value
in hexadecimal notation. 
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
<I>max</I>&nbsp;
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
Largest possible ending address of the memory region. This is 64-bit value in
hexadecimal notation. The <I>min</I>&nbsp;and <I>max</I>&nbsp;values must be separated
by a hyphen.
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
<I>align-mask</I>
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
Optional. A 32-bit hexadecimal mask applied to the range specified by <I>min</I>
and <I>max</I>&nbsp;to determine legal starting addresses for the memory region. To
construct the mask, all bits that must be 0 in the starting address must be 0
in the mask. All other bits should be 1.
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
<I>attr</I>
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
Optional. Can be any combination of the following letters:
<P>
C indicates that combined-write is allowed, otherwise combined write is not
allowed.
<P>
D Indicates a 32-bit address; otherwise a 24-bit address is assumed.
<P>
F indicates that the memory is prefetchable; otherwise it is not.
<P>
R indicates read-only memory.
<P>
W indicates write-only memory.
<P>
RW indicates read/write memory. 
</FONT></TABLE>
</DL>
<P>
The following examples illustrate the use of the <B>MemConfig</B>&nbsp;item.
<P>
This example specifies a memory region of 32K bytes that can start at either
C0000 or D0000.
<PRE><FONT FACE="Courier" SIZE="2">MemConfig=C0000-C7FFF, D0000-D7FFF
&nbsp;</FONT></PRE>
<P>
This example specifies a memory region of 32k bytes starting on 64K
boundaries.
<PRE><FONT FACE="Courier" SIZE="2">MemConfig=8000@C0000-D7FFF%F0000
&nbsp;</FONT></PRE>
</DL>
<P>
Each item in a <B>Log Config</B>&nbsp;section can specify more than one resource.
However, during installation one and only one resource from an item is used.
If a device needs multiple resources of the same type, multiple items of that
type must be used in the <B>Log Config</B>&nbsp;section. For example, to ensure two
IRQs for a device, two <B>IRQConfig</B>&nbsp;items must be used in the <B>Log
Config</B>&nbsp;section. If a device does not require an IRQ, an <B>IRQConfig</B>
item should not be used.
<P>
An INF file can contain any number of <B>Log Config</B>&nbsp;sections. However,
each section must contain complete details for installing one device. More
than one <B>Log Config</B>&nbsp;section can be specified for a device. If this is
done, only one of the <B>Log Config</B>&nbsp;sections will be used during
installation.
<P>
For each <B>Log Config</B>&nbsp;section item, the installer builds binary logical
configuration records and stores them in the registry.
<P></FONT>
</BODY>
</HTML>
