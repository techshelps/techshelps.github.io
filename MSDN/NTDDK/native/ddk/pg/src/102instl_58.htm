<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>SetupDiCallClassInstaller</TITLE>
<style>@import url(/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="/msdn_ie3.css"></HEAD>
<BODY BGPROPERTIES="FIXED" TEXT="#000000" BGCOLOR="#FFFFFF">

<FONT FACE="ARIAL,HELVETICA" SIZE="2">
<H4><A NAME="DDK_SetupDiCallClassInstaller_PG"></A>SetupDiCallClassInstaller</H4>
<P>
<B>BOOLEAN</B><BR>
&nbsp; &nbsp; <B>SetupDiCallClassInstaller(</B><BR>
&nbsp; &nbsp; &nbsp; &nbsp; <B>IN DI_FUNCTION</B>&nbsp; <I>InstallFunction</I><B>,</B><BR>
&nbsp; &nbsp; &nbsp; &nbsp; <B>IN HDEVINFO</B>&nbsp; <I>DeviceInfoSet</I><B>,</B><BR>
&nbsp; &nbsp; &nbsp; &nbsp; <B>IN PSP_DEVINFO_DATA</B>&nbsp; <I>DeviceInfoData</I>&nbsp; &nbsp; /* optional */<BR>
&nbsp; &nbsp; &nbsp; &nbsp; <B>);</B>
<P>
<B>SetupDiCallClassInstaller</B>&nbsp;calls the appropriate class installer with
the specified installation request (DI_FUNCTION).
<H5>Parameters</H5>
<DL>
<DT>
<I>InstallFunction</I>
<DD>
Specifies the class installation request to call. Can be one of the following
values:
<DL>
<DT>
DIF_SELECTDEVICE
<DD>
Select a driver to be installed for the device. This request uses the
SP_SELECTDEVICE_PARAMS structure. 
<BR>
<DT>
DIF_INSTALLDEVICE 
<DD>
Install the driver for the device.
<BR>
<DT>
DIF_PROPERTIES
<DD>
Display a properties dialog for the device (must specify a particular device
in <I>DeviceInfoData</I>).
<BR>
<DT>
DIF_REMOVE
<DD>
Remove the device. This request uses the SP_REMOVEDEVICE_PARAMS structure.
<BR>
<DT>
DIF_FIRSTTIMESETUP
<DD>
Perform first-time class initialization. This request is only used for the
global class information associated with the device information set.
<BR>
<DT>
DIF_SELECTCLASSDRIVERS
<DD>
Select drivers for all devices of the class associated with the device
information set or element.
<BR>
<DT>
DIF_VALIDATECLASSDRIVERS
<DD>
Ensure that all devices of the class associated with the device information
set or element are ready to be installed.
<BR>
<DT>
DIF_INSTALLCLASSDRIVERS
<DD>
Install drivers for all devices of the class associated with the device
information set or element.
<BR>
<DT>
DIF_CALCDISKSPACE
<DD>
Compute the amount of disk space required by drivers for the device.
<BR>
<DT>
DIF_DESTROYPRIVATEDATA
<DD>
Destroy any allocated private data stored in the <B>ClassInstallReserved</B>
field of the SP_DEVINSTALL_PARAMS structure for the specified device
information set or element.
<BR>
<DT>
DIF_MOVEDEVICE
<DD>
Move the device to a new location in the <B>Enum</B>&nbsp;registry branch. This
request uses the SP_MOVEDEV_PARAMS structure.
<BR>
<DT>
DIF_DETECT
<DD>
Detect any devices of the class associated with the device information set or
element.
<BR>
<DT>
DIF_INSTALLWIZARD
<DD>
Add any pages necessary to the New Device Wizard for the class associated with
the device information set or element. This request uses the
SP_INSTALLWIZARD_DATA structure.
<BR>
<DT>
DIF_DESTROYWIZARDDATA
<DD>
Destroy any private data allocated by a DIF_INSTALLWIZARD request. This
request uses the SP_INSTALLWIZARD_DATA structure.
<BR>
<DT>
DIF_PROPERTYCHANGE
<DD>
The device’s properties are changing. The device is being enabled, disabled,
started, stopped, or has had a resource change. This request uses the
SP_PROPCHANGE_PARAMS structure.
<BR>
<DT>
DIF_INSTALLDEVICEFILES
<DD>
Install only the driver files for the selected device.
</DL>
<DT>
<I>DeviceInfoSet</I>
<DD>
Supplies a handle to the device information set of the class to install.
<BR>
<DT>
<I>DeviceInfoData</I>
<DD>
Supplies a pointer to an SP_DEVINFO_DATA structure indicating a particular
member whose class installer should be called. If this parameter is not
specified, the class installer associated with the device information set is
called.
</DL>
<H5>Return Value</H5>
<P>
The function returns TRUE if it is successful. Otherwise it returns FALSE and
the logged error can be retrieved with a call to <B>GetLastError</B>.
<H5>Comments</H5>
<P>
This function attempts to load and call the class installer for the class
associated with the device information element or set specified. If a class
installer does not exist for this class or the class installer returns
ERROR_DI_DO_DEFAULT, <B>SetupDiCallClassInstaller</B>&nbsp;calls a default
procedure for the specified class installation request.
<H5>See Also</H5>
<P>
<B><A HREF="102instl_60.htm">SetupDiChangeState</A></B>, <B><A HREF="102instl_93.htm">SetupDiInstallClass</A></B>,
<B><A HREF="102instl_94.htm">SetupDiInstallDevice</A></B>, <B><A HREF="102instl_95.htm">SetupDiInstallDriverFiles</A></B>,
<B><A HREF="102instl_103.htm">SetupDiSelectDevice</A></B>&nbsp;
<P></FONT>
</BODY>
</HTML>
