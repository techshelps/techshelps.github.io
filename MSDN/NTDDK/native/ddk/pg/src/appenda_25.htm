<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>A.3.6.3  Shell Section Commands</TITLE>
<style>@import url(/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="/msdn_ie3.css"></HEAD>
<BODY BGPROPERTIES="FIXED" TEXT="#000000" BGCOLOR="#FFFFFF">

<FONT FACE="ARIAL,HELVETICA" SIZE="2">
<H4><A NAME="DDK_Shell_Section_Commands_PG"></A>A.3.6.3  Shell Section Commands</H4>
<P>
The following commands can only be called from a shell section.
<H5>Detect Command</H5>
<P>
The <B>Detect</B>&nbsp;command interprets the lines of the specified detect
section, which must be in the same INF file as the calling shell section. For
lines containing the <B>?</B>&nbsp;operator, <B>Detect</B>&nbsp;assigns to the specified
<I>key</I>&nbsp;the string returned by the specified DLL function. Lines that do
not contain the <B>?</B>&nbsp;operator are ignored. 
<P>
The syntax of the command is:
<P>
<B>Detect</B>&nbsp;<I>SectionName</I>
<DL>
<DT>
<I>SectionName</I>
<DD>
Identifies the detect section.
</DL>
<H5>Exit Command</H5>
<P>
The <B>Exit</B>&nbsp;command causes the Setup program to exit, when called from a
shell section. The <B>Exit</B>&nbsp;command can also be used in an install section,
where it functions as a return to the shell section that called it, and does
not terminate Setup. The syntax of the command is:
<PRE><FONT FACE="Courier" SIZE="2"><B>Exit</B>
&nbsp;</FONT></PRE>
<H5>Install Command</H5>
<P>
The <B>Install</B>&nbsp;command calls the specified install section, which must be
in the same INF file as the calling shell section. The Setup program executes
the lines of the install section, with control returning to the shell section
when the install section exits. .
<P>
The syntax of the command is:
<P>
<B>Install</B>&nbsp;<I>SectionName</I>
<DL>
<DT>
<I>SectionName</I>
<DD>
Identifies the install section.
</DL>
<H5>Read-Syms Command</H5>
<P>
The <B>Read-Syms</B>&nbsp;command interprets the lines of the specified detect
section, which must be in the same INF file as the calling shell section. For
lines of the form: <I>key</I>&nbsp;= <I>value</I>, the Setup program creates a
variable named <I>key</I>&nbsp;in the symbol table of the calling shell section.
The <I>value</I>&nbsp;string is stored as the value of this variable. The <B>?</B>
operator, if present on any of the lines, is ignored. 
<P>
The syntax of the command is:
<P>
<B>Read-Syms</B>&nbsp;<I>SectionName</I>
<DL>
<DT>
<I>SectionName</I>
<DD>
Identifies the detect section.
</DL>
<H5>Return Command</H5>
<P>
The <B>Return</B>&nbsp;command causes the flow of execution to return from the
called shell section back to the calling shell section. The syntax of the
command is:
<P>
<B>Return</B>&nbsp;[<I>ReturnValue</I>[,]]*
<DL>
<DT>
<I>ReturnValue</I>
<DD>
Zero or more comma-separated or space-separated string values to return to the
shell section that called this shell section.
</DL>
<H5>Shell Command</H5>
<P>
The <B>Shell</B>&nbsp;command calls the specified shell section, which can be in
the same or in a different INF file. The calling shell section can pass
multiple arguments to the shell section, and it can receive multiple return
values from the shell section. 
<P>
The syntax of the command is:
<P>
<B>Shell</B>&nbsp;<I>inf_file_path section_name</I>&nbsp;[<I>Args</I>]*
<DL>
<DT>
<I>inf_file_path</I>
<DD>
Specifies the full or partial path of the INF file in which the section is
located. An empty string (““) indicates the current file.
<BR>
<DT>
<I>section_name</I>
<DD>
Identifies the shell section (name in square brackets).
<BR>
<DT>
<I>Args</I>
<DD>
Zero or more comma- or whitespace-separated arguments.
</DL>
<P></FONT>
</BODY>
</HTML>
