<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>4.1.8  Debugging a Crash Dump</TITLE>
<style>@import url(/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="/msdn_ie3.css"></HEAD>
<BODY BGPROPERTIES="FIXED" TEXT="#000000" BGCOLOR="#FFFFFF">

<FONT FACE="ARIAL,HELVETICA" SIZE="2">
<H3><A NAME="DDK_Debugging_a_Crash_Dump_PG"></A>4.1.8  Debugging a Crash Dump</H3>
<P>
To configure the target to generate a crash dump, use the System applet in the
Control Panel. Click on the Recovery button and then select the option that
enables writing debugging information to a file when a STOP occurs. That file
is the crash dump file. Its default name is <I>memory.dmp</I>.
<P>
Specify the name of the crash dump file in the Kernel Debugger Options dialog
box or use the -z command-line option to specify the name of the crash dump
file.
<P>
Two utilities, <I>DUMPCHK</I>&nbsp;and <I>DUMPREF</I>&nbsp;shipped with the DDK are
useful in debugging crash dumps:
<P>
<A NAME="DDK_DUMPCHK_PG"></A><B>DUMPCHK </B>[<B>options</B>]<B>&nbsp;CrashDumpFile</B>
<P>
DUMPCHK is used to check the validity of a crash dump file.
<H5>Parameters</H5>
<DL>
<DT>
<I>Options</I>
<DD>
The following are valid program options:
<DL>
<DT>
-?
<DD>
Displays a help message. This overrides any other option specified.
<BR>
<DT>
-v
<DD>
Verbose mode.
<BR>
<DT>
-p
<DD>
Print header of crash dump file only, do not validate the file.
<BR>
<DT>
-q
<DD>
Perform a quick test only.
</DL>
<DT>
<I>CrashDumpFile</I>
<DD>
The name of the crash dump file.
</DL>
<P>
<A NAME="DDK_DUMPREF_PG"></A><B>DUMPREF </B>[<B>options</B>]<B>&nbsp;SourceDumpFile
ShareName SymbolPath</B>
<P>
DUMPREF is used to create a reference file to point to a dump check file in
another location.
<H5>Parameters</H5>
<DL>
<DT>
<I>Options</I>
<DD>
The following are valid program options:
<DL>
<DT>
-?
<DD>
Displays a help message. This overrides any other option specified.
<BR>
<DT>
-d <I>FileName</I>
<DD>
Specifies a file name for the destination.
</DL>
<DT>
<I>SourceDumpFile </I>
<DD>
The name of the crash dump file.
<BR>
<DT>
<I>ShareName </I>
<DD>
The name of the network share where the crash dump file is located.
<BR>
<DT>
<I>SymbolPath</I>
<DD>
The path to the symbols for the crash dump file.
</DL>
<H5>Comments</H5>
<P>
This utility creates a small reference file that points to the actual crash
dump file. You can use the reference file as though it were the crash dump
file; WinDbg KD will find the actual crash dump file out on the network. This
lets you send the reference file, which is only a few bytes long, to someone
for debugging, rather than sending the actual crash dump file, which may be
many megabytes long.
<P></FONT>
</BODY>
</HTML>
