<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>SetupDiGetSelectedDriver</TITLE>
<style>@import url(/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="/msdn_ie3.css"></HEAD>
<BODY BGPROPERTIES="FIXED" TEXT="#000000" BGCOLOR="#FFFFFF">

<FONT FACE="ARIAL,HELVETICA" SIZE="2">
<H4><A NAME="DDK_SetupDiGetSelectedDriver_PG"></A>SetupDiGetSelectedDriver</H4>
<P>
<B>BOOLEAN</B><BR>
&nbsp; &nbsp; <B>SetupDiGetSelectedDriver(</B><BR>
&nbsp; &nbsp; &nbsp; &nbsp; <B>IN HDEVINFO</B>&nbsp; <I>DeviceInfoSet</I><B>,</B><BR>
&nbsp; &nbsp; &nbsp; &nbsp; <B>IN PSP_DEVINFO_DATA</B>&nbsp; <I>DeviceInfoData</I><B>,</B>&nbsp; &nbsp; /* optional */<BR>
&nbsp; &nbsp; &nbsp; &nbsp; <B>OUT PSP_DRVINFO_DATA</B>&nbsp; <I>DriverInfoData</I><BR>
&nbsp; &nbsp; &nbsp; &nbsp; <B>);</B>
<P>
<B>SetupDiGetSelectedDriver</B>&nbsp;retrieves the member of a driver list that has
been selected as the controlling driver.
<H5>Parameters</H5>
<DL>
<DT>
<I>DeviceInfoSet</I>
<DD>
Supplies a handle to the device information set to query.
<BR>
<DT>
<I>DeviceInfoData</I>
<DD>
Supplies a pointer to an SP_DEVINFO_DATA structure that indicates the device
instance for which to retrieve the selected driver. If this parameter is NULL,
the selected class driver for the global class driver list is retrieved.
<BR>
<DT>
<I>DriverInfoData</I>
<DD>
Supplies a pointer to an SP_DRVINFO_DATA structure that receives information
about the selected driver.
</DL>
<H5>Return Value</H5>
<P>
The function returns TRUE if it is successful. Otherwise it returns FALSE and
the logged error can be retrieved with a call to <B>GetLastError</B>. If a
driver has not been selected for the specified device instance, the logged
error is ERROR_NO_DRIVER_SELECTED.
<H5>See Also</H5>
<P>
<B><A HREF="102instl_110.htm">SetupDiSetSelectedDriver</A></B>&nbsp;
<P></FONT>
</BODY>
</HTML>
