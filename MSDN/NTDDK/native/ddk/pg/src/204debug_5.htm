<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>4.1.4  Enabling Kernel Debugging on the Target</TITLE>
<style>@import url(/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="/msdn_ie3.css"></HEAD>
<BODY BGPROPERTIES="FIXED" TEXT="#000000" BGCOLOR="#FFFFFF">

<FONT FACE="ARIAL,HELVETICA" SIZE="2">
<H3><A NAME="DDK_Enabling_Kernel_Debugging_on_the_Target_PG"></A>4.1.4  Enabling Kernel Debugging on the Target</H3>
<P>
The following information is for enabling the debugging component on the
target machine so that the host debugger can communicate with the target. For
information on starting the host debugger, see <A HREF="204debug_7.htm">Section
4.1.6</A>.
<P>
You must enable kernel debugging on the target machine before you can connect
to it with <B>WinDbg</B>. 
<P>
The method of enabling kernel debugging on the target machine is different for
the different platforms supported by Windows NT. For an ARC machine
(RISC-based platforms), you modify the OSLOADOPTIONS environment variable in
the ARC firmware; for an x86-based machine, you modify a line in the
[operating systems] section of boot.ini.
<P>
In the appropriate section for the target platform as outlined in the
preceeding section, you can specify the following options:
<DL>
<DT>
DEBUG
<DD>
Enables kernel debugging.
<BR>
<DT>
NODEBUG
<DD>
Disables kernel debugging. If no options are specified, NODEBUG is implied.
NODEBUG disables DEBUGPORT, BAUDRATE, and CRASHDEBUG.
<BR>
<DT>
DEBUGPORT=<I>Port</I>
<DD>
Specifies the serial port (<I>Port</I>&nbsp;is COM1, COM2, and so forth.) used on
the target machine. This parameter is the functional equivalent of DEBUG with
the additional ability to override the default debug COM port. The default
port without using DEBUGPORT is COM2, if it exists, on an x86 machine; in all
other cases the default is COM1.
<BR>
<DT>
BAUDRATE=<I>BaudRate</I>
<DD>
Specifies the baud rate (<I>BaudRate</I>&nbsp;is 9600, 19200, etc.) used by the
target machine. Use the highest rate that works for your machines.
<P>
Specifing BAUDRATE enables kernel debugging and renders DEBUG redundant.
<BR>
<DT>
CRASHDEBUG
<DD>
Causes the debugger to activate only when the system bugchecks.
<BR>
<DT>
MAXMEM=<I>SizeInMB</I>
<DD>
Specifies the amount of RAM to be made available to the system in megabytes.
This option can be used to simulate a system with a low amount of physical
memory to test the performance and operation of a driver under those
conditions. For example, you can restrict a 16 MB machine to 10 MB.
<BR>
<DT>
SOS
<DD>
Causes the OS loader to display the names of the drivers as they load when
Windows NT is booting.
</DL>
<P>
For an RISC based machine, the following OSLOADOPTIONS would boot Windows NT
in a simulated 10 MB environment, with kernel debugging enabled on COM1, and
communicating at 115200 baud.
<PRE><FONT FACE="Courier" SIZE="2">OSLOADOPTIONS= MAXMEM=10 DEBUGPORT=COM1 BAUDRATE=115200
&nbsp;</FONT></PRE>
<P>
The following is an equivalent entry, for an Intel x86 platform, in <I>boot.ini</I>.
<PRE><FONT FACE="Courier" SIZE="2">multi(0)disk(0)rdisk(0)partition(1)\NT=&quot;Windows NT&quot; /MAXMEM=10 /DEBUGPORT=COM1 /BAUDRATE=115200
&nbsp;</FONT></PRE>
<P></FONT>
</BODY>
</HTML>
