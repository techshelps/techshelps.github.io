<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>SP_CLASSINSTALL_HEADER</TITLE>
<style>@import url(/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="/msdn_ie3.css"></HEAD>
<BODY BGPROPERTIES="FIXED" TEXT="#000000" BGCOLOR="#FFFFFF">

<FONT FACE="ARIAL,HELVETICA" SIZE="2">
<H4><A NAME="DDK_SP_CLASSINSTALL_HEADER_PG"></A>SP_CLASSINSTALL_HEADER</H4>
<PRE><FONT FACE="Courier" SIZE="2">typedef struct _SP_CLASSINSTALL_HEADER {
&nbsp; &nbsp; DWORD cbSize;
&nbsp; &nbsp; DI_FUNCTION InstallFunction;
} SP_CLASSINSTALL_HEADER, *PSP_CLASSINSTALL_HEADER;
&nbsp;</FONT></PRE>
<P>
SP_CLASSINSTALL_HEADER must be the first member of any class install parameter
structure. It defines the class installation request of the install parameter
structure.
<H5>Members</H5>
<DL>
<DT>
<B>cbSize</B>
<DD>
Contains the size, in bytes, of the SP_CLASSINSTALL_HEADER structure.
<BR>
<DT>
<B>InstallFunction</B>
<DD>
Specifies the class installation request for a class install parameter
structure. Can be one of the following:
<DL>
<DT>
DIF_SELECTDEVICE
<DD>
Select a driver to be installed for the device. This request uses the
SP_SELECTDEVICE_PARAMS structure. 
<BR>
<DT>
DIF_INSTALLDEVICE 
<DD>
Install the driver for the device.
<BR>
<DT>
DIF_PROPERTIES
<DD>
Display a properties dialog for the device (must specify a particular device
in <I>DeviceInfoData</I>).
<BR>
<DT>
DIF_REMOVE
<DD>
Remove the device. This request uses the SP_REMOVEDEVICE_PARAMS structure.
<BR>
<DT>
DIF_FIRSTTIMESETUP
<DD>
Perform first-time class initialization. This request is only used for the
global class information associated with the device information set.
<BR>
<DT>
DIF_SELECTCLASSDRIVERS
<DD>
Select drivers for all devices of the class associated with the device
information set or element.
<BR>
<DT>
DIF_VALIDATECLASSDRIVERS
<DD>
Ensure that all devices of the class associated with the device information
set or element are ready to be installed.
<BR>
<DT>
DIF_INSTALLCLASSDRIVERS
<DD>
Install drivers for all devices of the class associated with the device
information set or element.
<BR>
<DT>
DIF_CALCDISKSPACE
<DD>
Compute the amount of disk space required by drivers for the device.
<BR>
<DT>
DIF_DESTROYPRIVATEDATA
<DD>
Destroy any allocated private data stored in the <B>ClassInstallReserved</B>
field of the SP_DEVINSTALL_PARAMS structure for the specified device
information set or element.
<BR>
<DT>
DIF_MOVEDEVICE
<DD>
Move the device to a new location in the <B>Enum</B>&nbsp;registry branch. This
request uses the SP_MOVEDEV_PARAMS structure.
<BR>
<DT>
DIF_DETECT
<DD>
Detect any devices of the class associated with the device information set or
element.
<BR>
<DT>
DIF_INSTALLWIZARD
<DD>
Add any pages necessary to the New Device Wizard for the class associated with
the device information set or element. This request uses the
SP_INSTALLWIZARD_DATA structure.
<BR>
<DT>
DIF_DESTROYWIZARDDATA
<DD>
Destroy any private data allocated by a DIF_INSTALLWIZARD request. This
request uses the SP_INSTALLWIZARD_DATA structure.
<BR>
<DT>
DIF_PROPERTYCHANGE
<DD>
The device’s properties are changing. The device is being enabled, disabled,
started, stopped, or has had a resource change. This request uses the
SP_PROPCHANGE_PARAMS structure.
<BR>
<DT>
DIF_INSTALLDEVICEFILES
<DD>
Install only the driver files for the selected device.
</DL>
<DT>
<I>DeviceInfoSet</I>
<DD>
Supplies a handle to the device information set of the class to install.
<BR>
<DT>
<I>DeviceInfoData</I>
<DD>
Supplies a pointer to an SP_DEVINFO_DATA structure indicating a particular
member whose class installer should be called. If this parameter is not
specified, the class installer associated with the device information set is
called.
</DL>
<H5>Comments</H5>
<P>
The <B>InstallFunction</B>&nbsp;member must be set to the function code
corresponding to the type of structure and <B>cbSize</B>&nbsp;must be set to the
size of the SP_CLASSINSTALL_HEADER structure. For example:
<PRE><FONT FACE="Courier" SIZE="2">SP_REMOVEDEVICE_PARAMS RemoveDeviceParams;
RemoveDeviceParams.ClassInstallHeader.cbSize = sizeof(SP_CLASSINSTALL_HEADER);
RemoveDeviceParams.ClassInstallHeader.InstallFunction = DIF_REMOVE;
&nbsp;</FONT></PRE>
<H5>See Also</H5>
<P>
<B><A HREF="102instl_58.htm">SetupDiCallClassInstaller</A></B>, <B><A HREF="102instl_80.htm">SetupDiGetClassInstallParams</A></B>,
<B><A HREF="102instl_105.htm">SetupDiSetClassInstallParams</A></B>,
<A HREF="102instl_119.htm">SP_INSTALLWIZARD_DATA</A>, <A HREF="102instl_120.htm">SP_MOVEDEV_PARAMS</A>,
<A HREF="102instl_121.htm">SP_PROPCHANGE_PARAMS</A>, <A HREF="102instl_123.htm">SP_REMOVEDEVICE_PARAMS</A>,
<A HREF="102instl_124.htm">SP_SELECTDEVICE_PARAMS</A>&nbsp;
<P></FONT>
</BODY>
</HTML>
