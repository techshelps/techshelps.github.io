<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>4.2.3  The Free Build and the CSR-disable Bit</TITLE>
<style>@import url(/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="/msdn_ie3.css"></HEAD>
<BODY BGPROPERTIES="FIXED" TEXT="#000000" BGCOLOR="#FFFFFF">

<FONT FACE="ARIAL,HELVETICA" SIZE="2">
<H3><A NAME="DDK_The_Free_Build_and_the_CSR_disable_Bit_PG"></A>4.2.3  Free Build and the CSR-Disable Bit</H3>
<P>
When a free build of Windows NT is installed, there is a bit in the registry
that if set, prevents debugging the Windows subsystem (<I>csrss.exe</I>).
Before you can debug user-mode drivers that are a part of this subsystem, you
must clear this bit and then reboot the machine. This bit only needs to be
disabled on the target machine. To clear the bit, use the registry editor to
edit the following registry key:
<PRE><FONT FACE="Courier" SIZE="2">HKEY_LOCAL_MACHINE
&nbsp; &nbsp; \SYSTEM
&nbsp; &nbsp; &nbsp; &nbsp; \CurrentControlSet
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; \Control
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; \Session Manager
&nbsp;</FONT></PRE>
<P>
Edit the GlobalFlag value entry (REG_DWORD) to clear the bit
FLG_ENABLE_CSRDEBUG (0x20000).
<P>
When a checked build of Windows NT is installed, the CSR-disable bit is
cleared, which lets you debug the Windows subsystem.
<P></FONT>
</BODY>
</HTML>
