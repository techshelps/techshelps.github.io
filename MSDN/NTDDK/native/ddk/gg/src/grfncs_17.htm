<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>DrvDitherColor</TITLE>
<style>@import url(/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="/msdn_ie3.css"></HEAD>
<BODY BGPROPERTIES="FIXED" TEXT="#000000" BGCOLOR="#FFFFFF">

<FONT FACE="ARIAL,HELVETICA" SIZE="2">
<H2><A NAME="DDK_DrvDitherColor_GG"></A>DrvDitherColor</H2>
<P>
<B>ULONG DrvDitherColor(</B>
<TABLE>
<TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
<B>&nbsp; &nbsp; IN DHPDEV  </B><I>dhpdev</I><B>,</B>
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
<B>&nbsp; &nbsp; IN ULONG  </B><I>iMode</I><B>,</B>
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
<B>&nbsp; &nbsp; IN ULONG  </B><I>rgb</I><B>,</B>
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
<B>&nbsp; &nbsp; OUT ULONG  </B><I>*pul</I>
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
<B>&nbsp; &nbsp;);</B>
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
</FONT></TABLE>
<P>
<B>DrvDitherColor</B>&nbsp;requests the device to create a brush dithered against a
device palette.
<H3>Parameters</H3>
<DL>
<DT>
<I>dhpdev</I>
<DD>
Pointer to the PDEV that describes the physical device against whose palettes
the specified color should be dithered.
<BR>
<DT>
<I>iMode</I>
<DD>
Determines the palette to dither against. The currently defined values are
DM_DEFAULT and DM_MONOCHROME.
<BR>
<DT>
<I>rgb</I>
<DD>
Specifies the RGB color that is to be dithered.
<BR>
<DT>
<I>pul</I>
<DD>
Points to the memory location in which the dithering information is to be
recorded. Memory must have been allocated for a standard-format bitmap with
dithered brush dimensions <B>cxDither</B>&nbsp;by <B>cyDither</B>. These dimensions
are members of the <A HREF="grstrcts_6.htm">DEVINFO</A>&nbsp;structure. The bitmap
format is determined by the <B>iDitherFormat</B>&nbsp;member of the DEVINFO
structure.
</DL>
<H3>Return Value</H3>
<P>
The return value is DCR_DRIVER if the dither values have been calculated by
the driver, DCR_SOLID if the engine should use the best solid color
approximation of the color, or DCR_HALFTONE if the engine should create a
halftone approximation for the driver.
<H3>Comments</H3>
<P>
The result of the dither is a set of device color indices stored in <I>pul</I>.
A brush created using these colors for its pattern should be a good
approximation of the given color <I>rgb</I>.
<P>
<B>DrvDitherColor</B>&nbsp;is an optional function that is called only if <B>cxDither</B>
and <B>cyDither</B>&nbsp;are nonzero. Monochrome device drivers, including most
raster printers, should use the <I>iMode</I>&nbsp;parameter to tell GDI how to get
good gray-scale patterns.
<H3>See Also</H3>
<P>
<A HREF="grstrcts_6.htm">DEVINFO</A>, <B><A HREF="grfncs_20.htm">DrvEnablePDEV</A></B>
<P></FONT>
</BODY>
</HTML>
