<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Frame Buffer and Hardware Register Access</TITLE>
<style>@import url(/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="/msdn_ie3.css"></HEAD>
<BODY BGPROPERTIES="FIXED" TEXT="#000000" BGCOLOR="#FFFFFF">

<FONT FACE="ARIAL,HELVETICA" SIZE="2">
<H3><A NAME="DDK_Frame_Buffer_and_Hardware_Register_Access_GG"></A>Frame Buffer and Hardware Register Access</H3>
<P>
To reduce display driver size, it is desirable to implement only those
functions that the display driver can do faster than GDI and have GDI perform
all other operations. It is common to have GDI do much of the drawing to
linear frame buffers to reduce the size of the driver. However, GDI cannot
directly access banked memory. Therefore, when the frame buffer is not
linearly addressable, the display driver must divide the frame buffer into a
series of banks and provide a means for GDI to perform its draw operations to
the appropriate bank. See <A HREF="dpyddi_18.htm">Supporting
Banked Frame Buffers</A>&nbsp;for details.
<P>
The display driver has direct access to I/O- and memory-mapped video
registers. This access allows a display driver to achieve high performance.
For example, the driver might need to access video hardware registers to send
line-drawing commands at high throughput.
<P>
Similarly, for video cards, such as the S3, many of the innermost loops in the
graphics engine code require reads and writes of several video controller
ports (for example, text output in graphics mode, bit block transfers, and
line drawing). The performance in these cases would be unacceptable if the
display driver were required to send an IOCTL to the miniport driver for each
request, so the display driver is granted direct access to the video hardware.
This access is granted by the miniport and video port drivers.
<P>
&nbsp;
<P></FONT>
</BODY>
</HTML>
