<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>FD_DEVICEMETRICS</TITLE>
<style>@import url(/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="/msdn_ie3.css"></HEAD>
<BODY BGPROPERTIES="FIXED" TEXT="#000000" BGCOLOR="#FFFFFF">

<FONT FACE="ARIAL,HELVETICA" SIZE="2">
<H2><A NAME="DDK_FD_DEVICEMETRICS_GG"></A>FD_DEVICEMETRICS</H2>
<PRE><FONT FACE="Courier" SIZE="2">typedef struct _FD_DEVICEMETRICS {
&nbsp; &nbsp; FLONG flRealizedType;
&nbsp; &nbsp; POINTE pteBase;
&nbsp; &nbsp; POINTE pteSide;
&nbsp; &nbsp; LONG lD;
&nbsp; &nbsp; FIX fxMaxAscender;
&nbsp; &nbsp; FIX fxMaxDescender;
&nbsp; &nbsp; POINTL ptlUnderline1;
&nbsp; &nbsp; POINTL ptlStrikeout;
&nbsp; &nbsp; POINTL ptlULThickness;
&nbsp; &nbsp; POINTL ptlSOThickness;
&nbsp; &nbsp; ULONG cxMax;
&nbsp; &nbsp; ULONG cyMax;
&nbsp; &nbsp; ULONG cjGlyphMax;
&nbsp; &nbsp; FD_XFORM fdxQuantized;
&nbsp; &nbsp; LONG lNonLinearExtLeading;
&nbsp; &nbsp; LONG lNonLinearIntLeading;
&nbsp; &nbsp; LONG lNonLinearMaxCharWidth;
&nbsp; &nbsp; LONG lNonLinearAvgCharWidth;
&nbsp; &nbsp; LONG alReserved[4];
} FD_DEVICEMETRICS, *PFD_DEVICEMETRICS;
</FONT></PRE>
<P>
The FD_DEVICEMETRICS structure is used to provide device-specific font
information to GDI if the <I>iMode</I>&nbsp;parameter of the driver-supplied <B><A HREF="grfncs_38.htm">DrvQueryFontData</A></B>
function is QFD_MAXEXTENTS.
<H3>Members</H3>
<DL>
<DT>
<B>flRealizedType</B>
<DD>
A combination of accelerator flags. This value can be a combination of the
following values:
<TABLE>
<TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
<B>Flag</B>
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
<B>Meaning</B>
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
FDM_TYPE_BM_SIDE_CONST
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
An accelerator for horizontal and vertical writing. If this flag is set, the
font has constant height for all bitmaps. In the horizontal case, this means
that the <I>cy</I>&nbsp;dimension is constant; in the vertical case, this means
that the <I>cx</I>&nbsp;dimension is constant. This accelerator is not used for
outlines.
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
FDM_TYPE_MAXEXT_EQUAL_BM_SIDE
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
This flag can be set only if FDM_TYPE_BM_SIDE_CONST is also set. If set, the
font height (as defined above for horizontal and vertical writing) is equal to
the sum of max ascender and max descender. This accelerator is not used for
outlines.
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
FDM_TYPE_CHAR_INC_EQUAL_BM_BASE
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
An accelerator for horizontal and vertical writing. In the horizontal case, if
this flag is set, each glyph’s advance width is equal to the <I>cx</I>
dimension of the glyph bitmap; in the vertical case, if this flag is set, each
glyph’s advance width is equal to the <I>cy</I>&nbsp;dimension of the glyph bitmap.
This accelerator is not used for outlines.
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
FDM_TYPE_ZERO_BEARINGS
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
If set, the a and c spacing is zero for all glyphs.
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
FDM_TYPE_CONST_BEARINGS
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
If set, the a and c spacing is constant for all glyphs.
</FONT></TABLE>
<DT>
<B>pteBase</B>
<DD>
Specifies the notional space unit vector along the font’s baseline,
transformed to device space and then normalized.
<BR>
<DT>
<B>pteSide</B>
<DD>
Specifies a notional space unit vector perpendicular to the font’s baseline in
the direction of the ascender, transformed to device space and then
normalized. In notional space, baseline and ascender directions must be
orthogonal, but in device space, <B>pteBase</B>&nbsp;and <B>pteSide</B>&nbsp;might or
might not be orthogonal, depending on the Notional to Device space transform.
<BR>
<DT>
<B>lD</B>
<DD>
Specifies the advance width if the font is a fixed pitch (monospaced) font. If
the font is a variable pitch font, this member should be set to zero.
<BR>
<DT>
<B>fxMaxAscender</B>
<DD>
Specifies the hinted maximum ascender height for this font instance, measured
along <B>pteSide</B>.
<BR>
<DT>
<B>fxMaxDescender</B>
<DD>
Specifies the hinted maximum descender height for this font instance, measured
along <B>pteSide</B>.
<BR>
<DT>
<B>ptlUnderline</B>
<DD>
Specifies the hinted underline position for this font instance, relative to
the glyph’s character origin.
<BR>
<DT>
<B>ptlStrikeout</B>
<DD>
Specifies the hinted strikeout position for this font instance, relative to
the glyph’s character origin.
<BR>
<DT>
<B>ptlULThickness</B>
<DD>
Specifies the hinted underline thickness for this font instance. This vector
defines the side of the rectangle used to draw the underline. The base is
implicitly defined by the baseline.
<BR>
<DT>
<B>ptlSOThickness</B>
<DD>
Specifies the hinted strikeout thickness for this font instance. This vector
defines the side of the rectangle used to draw the strikeout. The base is
implicitly defined by the baseline.
<BR>
<DT>
<B>cxMax</B>
<DD>
Specifies the hinted maximum glyph bitmap width, in pixels, for this font
instance. Not used for outlines.
<BR>
<DT>
<B>cyMax</B>
<DD>
Specifies the hinted maximum glyph bitmap height, in pixels, for this font
instance. Not used for outlines.
<BR>
<DT>
<B>cyGlyphMax</B>
<DD>
Specifies the hinted maximum size of a glyph, in pixels, for this font
instance.
<BR>
<DT>
<B>fdxQuantized</B>
<DD>
The font driver fills in the font transfomation that is actually used in the
realization of the font. This may differ from the transformation requested by
GDI as defined by the FONTOBJ__pxoGetXform().
<BR>
<DT>
<B>lNonLinearExtLeading</B>
<DD>
Nonlinear external leading in 28.4 device units.
<BR>
<DT>
<B>lNonLinearIntLeading</B>
<DD>
Nonlinear internal leading in 28.4 device units.
<BR>
<DT>
<B>lNonLinearMaxCharWidth</B>
<DD>
Nonlinear maximum character increment in 28.4 device units.
<BR>
<DT>
<B>lNonLinearAvgCharWidth</B>
<DD>
Nonlinear average character width in 28.4 device units.
<BR>
<DT>
<B>alReserved[4]</B>
<DD>
Not used.
</DL>
<H3>Comments</H3>
<P>
On input to the font provider, GDI sets all DWORD fields to 0xffffffff. The
font provider is expected to overwrite a field if the corresponding quantity
does not scale linearly under realization.
<H3>See Also</H3>
<P>
<B><A HREF="grfncs_38.htm">DrvQueryFontData</A></B>&nbsp;
<P></FONT>
</BODY>
</HTML>
