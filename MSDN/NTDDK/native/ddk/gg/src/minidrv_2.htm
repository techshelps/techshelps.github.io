<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Developing a Raster Printer Device Driver</TITLE>
<style>@import url(/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="/msdn_ie3.css"></HEAD>
<BODY BGPROPERTIES="FIXED" TEXT="#000000" BGCOLOR="#FFFFFF">

<FONT FACE="ARIAL,HELVETICA" SIZE="2">
<H2><A NAME="DDK_Developing_a_Raster_Printer_Device_Driver_GG"></A>Developing a Raster Printer Device Driver</H2>
<P>
The system-supplied RasDD supports most raster printers. The raster printing
model designed for Windows NT uses the following general assumptions:
<UL>
<LI>
The number of pins for the printer must either be one or a multiple of eight.
<P>
<LI>
Windows NT currently supports only Hewlett-Packard PCL-scalable fonts.
</UL>
<P>
Other printers with scalable fonts, such as an Epson printer, can be supported
by creating a minidriver with a range of font sizes rather than designing an
entirely new driver.
<P>
If a printing device is not supported in Windows NT, vendors should first
determine whether their device can be provided with minumum support through
development of a minidriver to use with RasDD.
<P>
If vendors determine that they need to write a new raster printer driver, they
can use a combination of the DDK-supplied PostScript driver and the
framebuffer display driver source as a model for such a driver. There is no
source code for RasDD in the DDK.
<P>
The PostScript interface driver can provide a basis for a raster printer
interface driver, with modification for the hardware. A major difference
between PostScript and raster drivers is that a PostScript graphics driver
writes to a device-managed surface, and so must implement certain rendering
entry points. A raster driver, on the other hand, enables a GDI standard
bitmap, allowing GDI to handle most of the rendering. The framebuffer display
driver handles rendering the latter way.
<P>
Areas that require close attention when designing a raster printer device
driver include:
<UL>
<LI>
If the device has hardware fonts, the driver should support the <B><A HREF="grfncs_59.htm">DrvTextOut</A></B>
and the font query calls, such as <B><A HREF="grfncs_36.htm">DrvQueryFont</A></B>,
<B><A HREF="grfncs_40.htm">DrvQueryFontTree</A></B>, and <B><A HREF="grfncs_38.htm">DrvQueryFontData</A></B>.
For more information, see Part 1 of this manual and the function descriptions
in the <I>Graphics Driver Reference</I>.
<P>
<LI>
If the device supports scalable fonts, this must be indicated in the <A HREF="grstrcts_24.htm">IFIMETRICS</A>
structure. GDI uses <A HREF="grstrcts_34.htm">XFORMOBJ</A>&nbsp;to determine the size
of the fonts, which, in turn, determines the commands that must be provided to
the printer. The PostScript driver uses scalable (transformable) fonts, so its
source code can be used as an example of implementing scalable fonts.
</UL>
<P>
<A HREF="ddioview.htm">Supporting the DDI</A>&nbsp;contains information on
printer-specific driver entry points for the printer graphics and printer
interface portions of a printer driver.
<P></FONT>
</BODY>
</HTML>
