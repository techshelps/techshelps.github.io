<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>DrvLoadFontFile</TITLE>
<style>@import url(/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="/msdn_ie3.css"></HEAD>
<BODY BGPROPERTIES="FIXED" TEXT="#000000" BGCOLOR="#FFFFFF">

<FONT FACE="ARIAL,HELVETICA" SIZE="2">
<H2><A NAME="DDK_DrvLoadFontFile_GG"></A>DrvLoadFontFile</H2>
<P>
<B>ULONG DrvLoadFontFile(</B>
<TABLE>
<TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
<B>&nbsp; &nbsp; ULONG  </B><I>iFile</I><B>,</B>
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
<B>&nbsp; &nbsp; PVOID  </B><I>pvView</I><B>,</B>
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
<B>&nbsp; &nbsp; ULONG  </B><I>cjView</I><B>,</B>
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
<B>&nbsp; &nbsp; ULONG  </B><I>ulLangID</I>
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
<B>&nbsp; &nbsp;);</B>
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
</FONT></TABLE>
<P>
<B>DrvLoadFontFile</B>&nbsp;identifies the file used to create fonts.
<H3>Parameters</H3>
<DL>
<DT>
<I>iFile</I>
<DD>
Handle to the file that contains font data. The driver should retain this
handle for subsequent calls to <B><A HREF="grfncs_111.htm">EngMapFontFile</A></B>,
as the font file may be unmapped until it is actually used.
<BR>
<DT>
<I>pvView</I>
<DD>
Pointer to the memory-mapped font file.
<BR>
<DT>
<I>cjView</I>
<DD>
Size, in bytes, of the view pointed to by <I>pvView.</I>
<BR>
<DT>
<I>ulLangID</I>
<DD>
Specifies the language ID used when returning a locale-dependent string or
name information.
</DL>
<H3>Return Value</H3>
<P>
The return value is a unique identifier for a font file if the function is
successful. Otherwise, it is FD_ERROR.
<H3>Comments</H3>
<P>
When <B>DrvLoadFontFile </B>is called, the driver should do any conversions
necessary to prepare the file for use. If a font driver uses other DLLs, then
it is responsible for ensuring that the DLL addresses to be accessed are
valid.
<P>
Each font driver could obtain the parameters <I>pvView</I>&nbsp;and <I>cjView</I>
by passing <I>iFile</I>&nbsp;to <B>EngMapFontFile</B>. However, for performance
reasons, GDI calls <B>EngMapFontFile</B>&nbsp;once when loading fonts to obtain <I>pvView</I>
and <I>cjView</I>, determines which font driver supports the font data in the
file, and then calls that driver’s <B>DrvLoadFontFile</B>&nbsp;implementation with <I>pvView</I>
and <I>cjView</I>. Font files can be unmapped until they are actually going to
be used, so drivers should record <I>iFile</I>&nbsp;to do the remapping later.
<P>
<B>DrvLoadFontFile</B>&nbsp;returns a unique identifier that allows the graphics
engine to request the correct font. The graphics engine maintains a font usage
table. After a font is loaded, the graphics engine will not try to load the
same font again.
<P>
<B>DrvLoadFontFile</B>&nbsp;is required for font drivers.
<H3>See Also</H3>
<P>
<B><A HREF="grfncs_60.htm">DrvUnloadFontFile</A></B>, <B><A HREF="grfncs_111.htm">EngMapFontFile</A></B>
<P></FONT>
</BODY>
</HTML>
