<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>DrvQueryFont</TITLE>
<style>@import url(/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="/msdn_ie3.css"></HEAD>
<BODY BGPROPERTIES="FIXED" TEXT="#000000" BGCOLOR="#FFFFFF">

<FONT FACE="ARIAL,HELVETICA" SIZE="2">
<H2><A NAME="DDK_DrvQueryFont_GG"></A>DrvQueryFont</H2>
<P>
<B>PIFIMETRICS DrvQueryFont(</B>
<TABLE>
<TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
<B>&nbsp; &nbsp; IN DHPDEV  </B><I>dhpdev</I><B>,</B>
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
<B>&nbsp; &nbsp; IN ULONG  </B><I>iFile</I><B>,</B>
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
<B>&nbsp; &nbsp; IN ULONG  </B><I>iFace</I><B>,</B>
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
<B>&nbsp; &nbsp; IN ULONG  </B><I>*pid</I>
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
<B>&nbsp; &nbsp;);</B>
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
</FONT></TABLE>
<P>
<B>DrvQueryFont</B>&nbsp;is used by GDI to get the <A HREF="grstrcts_24.htm">IFIMETRICS</A>
structure for a given font. The driver fills the IFIMETRICS structure.
<H3>Parameters</H3>
<DL>
<DT>
<I>dhpdev</I>
<DD>
Pointer to a <A HREF="glossary.htm#DDK_PDEV_GG">PDEV</A>&nbsp;handle that identifies a physical
device. The PDEV was returned from a previous call to <B><A HREF="grfncs_20.htm">DrvEnablePDEV</A></B>.
<BR>
<DT>
<I>iFile</I>
<DD>
Identifies a driver font file. This identifier is returned by <B><A HREF="grfncs_31.htm">DrvLoadFontFile</A></B>.
This parameter is zero for device-resident fonts.
<BR>
<DT>
<I>iFace</I>
<DD>
Specifies the one-based index of the driver font. GDI can query the number of
fonts from the <A HREF="grstrcts_6.htm">DEVINFO</A>&nbsp;structure.
<BR>
<DT>
<I>pid</I>
<DD>
Points to an identifier that GDI will pass to <B><A HREF="grfncs_26.htm">DrvFree</A></B>
when the <A HREF="grstrcts_24.htm">IFIMETRICS</A>&nbsp;structure is no longer needed.
Depending on how the driver manages memory, this identifier can identify the
structure, identify the way it was allocated, or do nothing at all.
</DL>
<H3>Return Value</H3>
<P>
The return value is a pointer to the IFIMETRICS structure that describes the
given font if the function is successful. Otherwise, it is null, and an error
code is logged.
<H3>Comments</H3>
<P>
The IFIMETRICS structure must remain unchanged during the scope of the
associated PDEV.
<P>
If the number of fonts in DEVINFO is -1 and <I>iFace</I>&nbsp;is zero, the driver
should return the number of fonts it supports.
<P>
<B>DrvQueryFont</B>&nbsp;is required for font drivers and drivers that use
driver-specific or device-specific fonts.
<H3>See Also</H3>
<P>
<A HREF="grstrcts_6.htm">DEVINFO</A>, <B><A HREF="grfncs_20.htm">DrvEnablePDEV</A></B>,
<B><A HREF="grfncs_31.htm">DrvLoadFontFile</A></B>, <A HREF="grstrcts_24.htm">IFIMETRICS</A>
<P></FONT>
</BODY>
</HTML>
