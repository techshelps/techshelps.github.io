<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Required and Optional Miniport Routines</TITLE>
<style>@import url(/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="/msdn_ie3.css"></HEAD>
<BODY BGPROPERTIES="FIXED" TEXT="#000000" BGCOLOR="#FFFFFF">

<FONT FACE="ARIAL,HELVETICA" SIZE="2">
<H2><A NAME="DDK_Required_and_Optional_Miniport_Routines_GG"></A>Required and Optional Miniport Routines</H2>
<P>
Every video miniport driver must have at least the following system-defined
functions:
<UL>
<LI>
<B><A HREF="vmport_8.htm">DriverEntry</A></B>&nbsp;to initialize
the miniport driver
<P>
<LI>
<B><A HREF="vmport_12.htm">HwVidFindAdapter</A></B>&nbsp;to
detect whether driver-supported video adapter(s) are in the machine, to claim
hardware resources for supported video adapter(s) in the registry, and to set
up communication with those adapter(s)
<P>
<LI>
<B><A HREF="vmport_23.htm">HwVidInitialize</A></B>, which
is called in response to a request to open the adapter, to perform one-time
initialization of the adapter for the corresponding display driver
<P>
<LI>
<B><A HREF="vmport_24.htm">HwVidStartIO</A></B>&nbsp;to begin
processing for each incoming VRP
</UL>
<P>
Depending on a given adapter’s features and on the driver designer, video
miniport drivers also can or must have the following system-defined functions:
<UL>
<LI>
<B><A HREF="vmport_21.htm">HwVidQueryDeviceCallback</A></B>
and/or <B><A HREF="vmport_22.htm">HwVidQueryNamedValueCallback</A></B>
to process configuration information stored in the registry, which are
optional if the miniport’s <B>HwVidFindAdapter</B>&nbsp;function uses I/O
bus-type-specific configuration information or driver-supplied defaults
<P>
<LI>
<B><A HREF="vmport_28.htm">HwVidInterrupt</A></B>&nbsp;to handle
adapter-generated interrupts, which is required if the miniport’s adapter
generates interrupts
<P>
<LI>
<B><A HREF="vmport_29.htm">HwVidSynchronizeExecutionCallback</A></B>
for critical sections of code to be run at a higher than normal software or
hardware priority (IRQL, with some device and system interrupts masked off),
which is required if other miniport functions share state with a <B>HwVidInterrupt</B>
function
<P>
<LI>
<B><A HREF="vmport_31.htm">HwVidResetHw</A></B>&nbsp;to reset the
adapter to character mode so the HAL can display system shutdown information
in case of a controlled shutdown (crash) of the machine and initialization
information on a soft reboot of the machine, which is required unless the
adapter’s registers can be automatically reset by an Int10
<P>
<LI>
<B><A HREF="vmport_30.htm">HwVidTimer</A></B>&nbsp;to be called
periodically at approximately one-second intervals by the port driver, which
is optional
<P>
<LI>
<B>SvgaHwIoPort<I>Xxx</I></B>&nbsp;functions in VGA-compatible SVGA miniport
drivers to validate accesses to I/O ports by full-screen MS-DOS applications
in x86-based machines. See <A HREF="vmport_32.htm">VGA-Compatible
Miniport’s SvgaHwIoPortXxx</A>&nbsp;for more information.
</UL>
<P>
Except for <B>DriverEntry</B>, this documentation uses pseudonames for
standard miniport functions that suggest the required functionality of each.
In other words, the name given to each standard miniport function, except <B>DriverEntry</B>,
can be anything the miniport driver writer chooses.
<P>
The following sections describe the requirements for and functionality of each
of these standard miniport driver functions.
<P></FONT>
</BODY>
</HTML>
