<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>CBFilterGraphics</TITLE>
<style>@import url(/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="/msdn_ie3.css"></HEAD>
<BODY BGPROPERTIES="FIXED" TEXT="#000000" BGCOLOR="#FFFFFF">

<FONT FACE="ARIAL,HELVETICA" SIZE="2">
<H3><A NAME="DDK_CBFilterGraphics_GG"></A>CBFilterGraphics</H3>
<PRE><FONT FACE="Courier" SIZE="2">WORD FAR PASCAL  CBFilterGraphics(LPBYTE lpdv, LPSTR lpBuf, WORD wLen)
&nbsp;</FONT></PRE>
<P>
Alters the format of raster graphic data before sending the data to the output
device. This is useful if a specific device addresses pins on the print head
in an unusual way (such as older Okidata dot matrix printers), or if the
device requires raster graphics data in an unusual format (such as the
&quot;24 raster bits in 4 bytes&quot; format common among Toshiba dot matrix
printers).
<UL>
<LI>
Returns the number of bytes of processed raster data.The number of bytes may
be the same as <I>wLen</I>, but not necessarily.
</UL>
<DL>
<DT>
<I>lpdv</I>
<DD>
Address of private data used by RasDD. The <B>CBFilterGraphics</B>&nbsp;function
should not change this data.
<BR>
<DT>
<I>lpBuf</I>
<DD>
Address of a buffer that holds raster graphic data.
<BR>
<DT>
<I>wLen</I>
<DD>
Size, in bytes, of the buffer specified by <I>lpBuf</I>.
</DL>
<P>
After <B>CBFilterGraphics</B>&nbsp;has finished changing the raster graphic data,
it should call the <B>WriteSpoolBuf</B>&nbsp;function to pass the data to RasDD.
<P>
To implement this function, you must:
<OL>
<LI>
Set the RES_BO_OEMGRXFILTER bit flag in fBlockOut dialog box that is
accessible through the RESOLUTION dialog box.
<P>
<LI>
Export the <B>CBFilterGraphics</B>&nbsp;function as ordinal 300 in the EXPORTS
section of the module definition (.DEF) file for your minidriver.
<P>
<LI>
Import the <B>WriteSpoolBuf</B>&nbsp;function as ordinal 300 in the IMPORTS section
of the module definition (.DEF) file for your minidriver.
<P>
<LI>
In the <I>drvname</I>.C file for your minidriver, add the function to perform
the changes upon the raster data needed by the device. Define this function as
described under “<A HREF="minidrv_53.htm">WriteSpoolBuf</A>.”
</OL>
<P></FONT>
</BODY>
</HTML>
