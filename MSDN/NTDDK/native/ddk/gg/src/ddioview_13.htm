<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Geometric Wide Lines</TITLE>
<style>@import url(/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="/msdn_ie3.css"></HEAD>
<BODY BGPROPERTIES="FIXED" TEXT="#000000" BGCOLOR="#FFFFFF">

<FONT FACE="ARIAL,HELVETICA" SIZE="2">
<H4><A NAME="DDK_Geometric_Wide_Lines_GG"></A>Geometric Wide Lines</H4>
<P>
The shape of a <I>geometric </I>line is determined by the width, join style,
and end-cap style of the brush and the current world-to-device transform in
the <A HREF="grstrcts_34.htm">XFORMOBJ</A>. The line can be drawn using either a
solid or a nonsolid brush.
<P>
Drivers for more advanced hardware may support geometric wide lines in <B><A HREF="grfncs_56.htm">DrvStrokePath</A></B>.
GDI determines whether a driver can draw a path containing a geometric line by
testing the GCAPS_GEOMETRICWIDE capability flag in the <A HREF="grstrcts_6.htm">DEVINFO</A>
structure returned in <B><A HREF="grfncs_20.htm">DrvEnablePDEV</A></B>. If
the driver does not have the capability, or if the function refuses to handle
an operation because the path or clipping is too complex for the device, GDI
automatically transforms the call to the simpler <B><A HREF="grfncs_24.htm">DrvFillPath</A></B>
or <B><A HREF="grfncs_34.htm">DrvPaint</A></B>&nbsp;functions.
<P>
A geometric wide line has a specific meaning to a display driver graphics
function. A path containing device coordinates is transformed to world
coordinates using the inverse of the current transform. A geometric
construction with the specified width then obtains a widened version of the
path, taking into account joins and end caps. This path is transformed to
device coordinates again and filled with the specified brush.
<P>
Styling of a geometric wide line is specified by an array of floating-point
values. The array has a finite length, but is used as though it repeats
indefinitely. The first array entry specifies the length, in world
coordinates, of the first dash; and the next entry specifies the length of the
first gap. After this, lengths of dashes and gaps alternate. For example, the
style array {3.0,1.0,1.0,1.0} causes a line to be drawn with alternating long
and short dashes.
<P>
Styling can be thought of as the driver moving along a path before widening,
“erasing” the parts of the path corresponding to the gaps. This breaks the
path into many subpaths. The broken path is then widened as if it has no line
style, applying end caps and joins as usual. Style arrays can be of odd
length. For example, the style array {1.0} causes a line to drawn with
alternating dashes. The style state (defined as the current distance into the
styling array) is provided for the beginning of the first subpath in a path.
It is assumed to be reset to 0.0 at the beginning of each subsequent subpath,
which occurs after any Win32 <B>MoveToEx</B>&nbsp;operation.
<P></FONT>
</BODY>
</HTML>
