<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>DrvResetPDEV</TITLE>
<style>@import url(/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="/msdn_ie3.css"></HEAD>
<BODY BGPROPERTIES="FIXED" TEXT="#000000" BGCOLOR="#FFFFFF">

<FONT FACE="ARIAL,HELVETICA" SIZE="2">
<H2><A NAME="DDK_DrvResetPDEV_GG"></A>DrvResetPDEV</H2>
<P>
<B>BOOL DrvResetPDEV (</B>
<TABLE>
<TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
<B>&nbsp; &nbsp; DHPDEV  </B><I>dhpdevOld</I><B>,</B>
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
<B>&nbsp; &nbsp; DHPDEV  </B><I>dhpdevNew</I>
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
<B>&nbsp; &nbsp;);</B>
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
</FONT></TABLE>
<P>
<B>DrvResetPDEV</B>&nbsp;transfers the state of the driver from the old <A HREF="glossary.htm#DDK_PDEV_GG">PDEV</A>
to the new PDEV when a Win32 application calls <B>ResetDC</B>.
<H3>Parameters</H3>
<DL>
<DT>
<I>dhpdevOld</I>
<DD>
Identifies the original device PDEV.
<BR>
<DT>
<I>dhpdevNew</I>
<DD>
Identifies the new device PDEV.
</DL>
<H3>Return Value</H3>
<P>
This return value is TRUE if the function is successful. Otherwise it is
FALSE, and an error code is logged.
<H3>Comments</H3>
<P>
This function can set a flag so that when <B><A HREF="grfncs_15.htm">DrvDisablePDEV</A></B>
is called, the page is not ejected in the case of double-sided printing. The
new PDEV should also be marked so that <B><A HREF="grfncs_52.htm">DrvStartDoc</A></B>
on the new PDEV does not cause a new header to be downloaded, as in PostScript
printing.
<P>
If the driver caches fonts that are transferable between the two modes, they
should be transferred during this function.
<P>
If <B>DrvStartDoc</B>&nbsp;was called before <B>ResetDC</B>, the driver receives
the following sequence of calls:
<PRE><FONT FACE="Courier" SIZE="2">&nbsp; &nbsp; dhpdevNew = DrvEnablePDEV();<BR>    DrvResetPDEV(dhpdevOld, dhpdevNew);<BR>    DrvDisableSurface(dhpdevOld);<BR>    DrvDisablePDEV(dhpdevOld);<BR>    DrvEnableSurface(dhpdevNew);<BR>    DrvStartDoc(dhpdevNew);
&nbsp;</FONT></PRE>
<P>
If <B>ResetDC</B>&nbsp;is called between documents there is no surface associated
with the PDEV, so only the following sequence of calls is made:
<PRE><FONT FACE="Courier" SIZE="2">&nbsp; &nbsp; dhpdevNew = DrvEnablePDEV();<BR>    DrvResetPDEV(dhpdevOld,dhpdevNew);<BR>    DrvDisablePDEV(dhpdevOld);
&nbsp;</FONT></PRE>
<P>
If the same fonts can be used by both the old and new PDEVs, then the cached
font data should be moved into the new PDEV at the time of this call. The font
data associated with the original PDEV will disappear when the original PDEV
is deleted.
<P>
Note that no surface has been created for the new PDEV when <B>DrvResetPDEV</B>
is called.
<P>
<B>DrvResetPDEV</B>&nbsp;is required for output devices to allow mode changes in
documents.
<H3>See Also</H3>
<P>
<B><A HREF="grfncs_15.htm">DrvDisablePDEV</A></B>, <B><A HREF="grfncs_16.htm">DrvDisableSurface</A></B>,
<B><A HREF="grfncs_20.htm">DrvEnablePDEV</A></B>, <B><A HREF="grfncs_21.htm">DrvEnableSurface</A></B>,
<B><A HREF="grfncs_52.htm">DrvStartDoc</A></B>&nbsp;
<P></FONT>
</BODY>
</HTML>
