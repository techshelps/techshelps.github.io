<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>EngCreateBitmap</TITLE>
<style>@import url(/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="/msdn_ie3.css"></HEAD>
<BODY BGPROPERTIES="FIXED" TEXT="#000000" BGCOLOR="#FFFFFF">

<FONT FACE="ARIAL,HELVETICA" SIZE="2">
<H2><A NAME="DDK_EngCreateBitmap_GG"></A>EngCreateBitmap</H2>
<P>
<B>HBITMAP EngCreateBitmap(</B>
<TABLE>
<TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
<B>&nbsp; &nbsp; IN SIZEL  </B><I>sizl</I><B>,</B>
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
<B>&nbsp; &nbsp; IN LONG  </B><I>lWidth</I><B>,</B>
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
<B>&nbsp; &nbsp; IN ULONG  </B><I>iFormat</I><B>,</B>
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
<B>&nbsp; &nbsp; IN FLONG  </B><I>fl</I><B>,</B>
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
<B>&nbsp; &nbsp; IN PVOID  </B><I>pvBits</I>
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
<B>&nbsp; &nbsp;);</B>
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
</FONT></TABLE>
<P>
<B>EngCreateBitmap</B>&nbsp;requests that GDI create and manage a bitmap. Storage
for the bitmap can optionally be provided by the driver.
<H3>Parameters</H3>
<DL>
<DT>
<I>sizl</I>
<DD>
Specifies the size, in pixels, of the bitmap to be created. If <I>pvBits</I>
is nonnull, this value should represent all pixels visible on the device,
allowing the device to keep off-screen memory.
<BR>
<DT>
<I>lWidth</I>
<DD>
Specifies the allocation width of the bitmap, which is the number of bytes
that must be added to a pointer to move down one scan line.
<BR>
<DT>
<I>iFormat</I>
<DD>
Specifies the format of the bitmap in terms of the number of bits of color
information per pixel that are required. This parameter can be one of the
following values:
<TABLE>
<TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
<B>Value</B>
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
<B>Meaning</B>
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
BMF_1BPP
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
Monochrome.
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
BMF_4BPP
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
4 bits per pixel.
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
BMF_8BPP
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
8 bits per pixel.
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
BMF_16BPP
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
16 bits per pixel.
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
BMF_24BPP
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
24 bits per pixel.
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
BMF_32BPP
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
32 bits per pixel.
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
BMF_4RLE
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
4 bits per pixel; run length encoded.
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
BMF_8RLE
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
8 bits per pixel; run length encoded.
</FONT></TABLE>
<DT>
<I>fl</I>
<DD>
Bitmask that specifies properties about the bitmap to be created. This
parameter can be zero, or any combination of the following values:
<TABLE>
<TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
<B>Value</B>
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
<B>Meaning</B>
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
BMF_TOPDOWN
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
The first scan line represents the top of the bitmap. Note that
standard-format bitmaps have the first scan line at the bottom by default.
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
BMF_NOZEROINIT
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
GDI will not zero-initialize the bitmap when allocating it. This flag is
checked only when <I>pvBits</I>&nbsp;is null.
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
BMF_USERMEM
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
GDI will allocate the memory for the bitmap from user memory. By default, the
memory is allocated from the kernel’s address space. This flag should be
specified only when the bitmap being created will not be used by other
processes. User memory cannot be passed to <B><A HREF="grfncs_139.htm">EngWritePrinter</A></B>
by the printer driver.
</FONT></TABLE>
<DT>
<I>pvBits</I>
<DD>
Points to the first scan line of the bitmap that is to be created. If this
parameter is null, GDI allocates the storage space for the pixels of the
bitmap. If <I>pvBits</I>&nbsp;is nonnull, it is a pointer to the buffer for the
bitmap.
</DL>
<H3>Return Value</H3>
<P>
If the function completes successfully, the return value is a handle that
identifies the created bitmap. Otherwise, it is zero, and an error code is
logged.
<H3>Comments</H3>
<P>
The driver should associate the created bitmap as a surface by calling <B><A HREF="grfncs_64.htm">EngAssociateSurface</A></B>
before returning from <B><A HREF="grfncs_21.htm">DrvEnableSurface</A></B>.
<P>
The bitmap should be deleted by using <B><A HREF="grfncs_85.htm">EngDeleteSurface</A></B>
when it is no longer needed.
<P>
Frame buffer display drivers should use the <I>pvBits</I>&nbsp;parameter, allowing
GDI to do most drawing directly to the display.
<H3>See Also</H3>
<P>
<B><A HREF="grfncs_10.htm">DrvCreateDeviceBitmap</A></B>, <B><A HREF="grfncs_63.htm">EngAllocUserMem</A></B>
<P></FONT>
</BODY>
</HTML>
