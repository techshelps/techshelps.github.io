<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>EngAllocMem</TITLE>
<style>@import url(/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="/msdn_ie3.css"></HEAD>
<BODY BGPROPERTIES="FIXED" TEXT="#000000" BGCOLOR="#FFFFFF">

<FONT FACE="ARIAL,HELVETICA" SIZE="2">
<H2><A NAME="DDK_EngAllocMem_GG"></A>EngAllocMem</H2>
<P>
<B>PVOID EngAllocMem(</B>
<TABLE>
<TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
<B>&nbsp; &nbsp; ULONG </B><I>fl</I><B>,</B>
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
<B>&nbsp; &nbsp; ULONG </B><I>cj</I><B>,</B>
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
<B>&nbsp; &nbsp; ULONG </B><I>tag</I>
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
<B>&nbsp; &nbsp;);</B>
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
</FONT></TABLE>
<P>
<B>EngAllocMem</B>&nbsp;allocates a block of memory from the system’s paged pool,
and inserts a caller-supplied tag before the allocation.
<H3>Parameters</H3>
<DL>
<DT>
<I>fl</I>
<DD>
Specifies how to allocate memory. The <B>FL_ZERO_MEMORY</B>&nbsp;flag requests that
the allocated memory’s contents be zero-initialized; if this flag is not set,
the memory is returned uninitialized.
<BR>
<DT>
<I>cj</I>
<DD>
Specifies the number of bytes to allocate.
<BR>
<DT>
<I>tag</I>
<DD>
Is a four-byte allocation tag that uniquely identifies the driver doing the
memory allocation.
</DL>
<H3>Return Value</H3>
<P>
<B>EngAllocMem </B>returns a pointer to the allocated memory if the system has
enough memory to satisfy the request; otherwise, it returns a null pointer.
<H3>Comments</H3>
<P>
The <I>tag</I>&nbsp;string should be specified in byte reversed order. The first
letter must be ‘D’; the other three should be indicative of the driver name.
For example, the <I>tag</I>&nbsp;string ‘ 3sD’ appears as ‘Ds3 ‘ if pool is dumped.
The tag appears in any crash dump of the system that occurs.
<H3>See Also</H3>
<P>
<B><A HREF="grfncs_92.htm">EngFreeMem</A></B>&nbsp;
<P></FONT>
</BODY>
</HTML>
