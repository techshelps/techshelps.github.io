<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Configuring a Supported Video Adapter</TITLE>
<style>@import url(/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="/msdn_ie3.css"></HEAD>
<BODY BGPROPERTIES="FIXED" TEXT="#000000" BGCOLOR="#FFFFFF">

<FONT FACE="ARIAL,HELVETICA" SIZE="2">
<H3><A NAME="DDK_Configuring_a_Supported_Video_Adapter_GG"></A>Configuring a Supported Video Adapter</H3>
<P>
In addition to setting up bus-relative access ranges, claiming these hardware
resources (and any others necessary) for its adapter, and mapping access
ranges to logical addresses, HwFindAdapter must fill in any missing
configuration information in the VIDEO_PORT_CONFIG_INFO structure for an
adapter it supports.
<P>
After filling in the VIDEO_PORT_CONFIG_INFO structure for a supported adapter,
<B>HwVidFindAdapter</B>&nbsp;returns control with the status code NO_ERROR.
<P>
<B>VideoPortInitialize</B>&nbsp;sets up necessary system objects, such as a device
object for the adapter and an interrupt object if the adapter generates
interrupts, on behalf of the miniport driver.
<P>
The miniport’s <B>HwVidInitialize</B>&nbsp;function, is called in response to the
opening of a video miniport driver by the kernel-mode graphics engine.
<P>
Note that the mapped logical addresses passed to the <B>VideoPortRead</B><I>Xxx</I>
and <B>VideoPortWrite</B><I>Xxx</I>&nbsp;functions are kernel-mode addresses. After
a miniport driver is loaded and its <B>HwVidInitialize</B>&nbsp;function is run,
the miniport’s <B>HwVidStartIO</B>&nbsp;function, is called to map any access range
of video memory that the miniport driver makes visible to its corresponding
display driver. For more information on <B>HwVidStartIO</B>, see <A HREF="vmport_24.htm">HwVidStartIO
Functionality</A>&nbsp;.
<P></FONT>
</BODY>
</HTML>
