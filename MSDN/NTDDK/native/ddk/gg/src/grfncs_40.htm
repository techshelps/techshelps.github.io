<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>DrvQueryFontTree</TITLE>
<style>@import url(/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="/msdn_ie3.css"></HEAD>
<BODY BGPROPERTIES="FIXED" TEXT="#000000" BGCOLOR="#FFFFFF">

<FONT FACE="ARIAL,HELVETICA" SIZE="2">
<H2><A NAME="DDK_DrvQueryFontTree_GG"></A>DrvQueryFontTree</H2>
<P>
<B>PVOID DrvQueryFontTree(</B>
<TABLE>
<TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
<B>&nbsp; &nbsp; IN DHPDEV  </B><I>dhpdev</I><B>,</B>
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
<B>&nbsp; &nbsp; IN ULONG  </B><I>iFile</I><B>,</B>
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
<B>&nbsp; &nbsp; IN ULONG  </B><I>iFace</I><B>,</B>
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
<B>&nbsp; &nbsp; IN ULONG  </B><I>iMode</I><B>,</B>
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
<B>&nbsp; &nbsp; IN ULONG  </B><I>*pid</I>
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
<B>&nbsp; &nbsp;);</B>
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
</FONT></TABLE>
<P>
When GDI calls <B>DrvQueryFontTree</B>, the driver supplies pointers to
structures that define one of the following:
<UL>
<LI>
Mapping from Unicode to glyph handles, including glyph variants
<P>
<LI>
Mapping of kerning pairs to kerning handles 
</UL>
<H3>Parameters</H3>
<DL>
<DT>
<I>dhpdev</I>
<DD>
Identifies a device by a handle to its <A HREF="glossary.htm#DDK_PDEV_GG">PDEV</A>, returned
from a prior call to <B><A HREF="grfncs_20.htm">DrvEnablePDEV</A></B>.
<BR>
<DT>
<I>iFile</I>
<DD>
Identifies the driver font file. This value is returned by <B><A HREF="grfncs_31.htm">DrvLoadFontFile</A></B>.
<BR>
<DT>
<I>iFace</I>
<DD>
Specifies the one-based index of the driver font.
<BR>
<DT>
<I>iMode</I>
<DD>
Specifies the type of information to be provided. This can be one of the
following values:
<TABLE>
<TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
<B>Value</B>
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
<B>Meaning</B>
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
QFT_KERNPAIRS
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
GDI requests a pointer to a sorted, null-terminated array of <A HREF="grstrcts_15.htm">FD_KERNINGPAIR</A>
structures.
<P>
The kerning pairs should be stored in increasing order. The primary key is the
second Unicode character; the secondary key is the first Unicode character in
the kerning pair.
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
QFT_GLYPHSET
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
GDI requests a pointer to an <A HREF="grstrcts_14.htm">FD_GLYPHSET</A>
structure that defines the mappings from single Unicode characters to glyph
handles.
</FONT></TABLE>
<DT>
<I>pid</I>
<DD>
The driver writes an identifier at this address that GDI will pass to <B><A HREF="grfncs_26.htm">DrvFree</A></B>,
along with the returned pointer, when the FD_GLYPHSET structure or array of
FD_KERNINGPAIR structures are no longer needed. Depending on how memory is
managed in the driver, this identifier can identify the structure, identify
the way it was allocated, or do nothing at all.
</DL>
<H3>Return Value</H3>
<P>
The return value is a pointer to the requested structure if the function is
successful. Otherwise, it is null, and an error code is logged.
<H3>Comments</H3>
<P>
The returned structure must remain unmodified until GDI calls <B>DrvFree</B>
with the address of the structure.
<P>
<B>DrvQueryFontTree</B>&nbsp;is required for font drivers and drivers that use
device-specific fonts.
<H3>See Also</H3>
<P>
<A HREF="grstrcts_6.htm">DEVINFO</A>, <B><A HREF="grfncs_20.htm">DrvEnablePDEV</A></B>,
<B><A HREF="grfncs_26.htm">DrvFree</A></B>, <B><A HREF="grfncs_31.htm">DrvLoadFontFile</A></B>,
<B><A HREF="grfncs_38.htm">DrvQueryFontData</A></B>, <B><A HREF="#DDK_DrvQueryFontTree_GG">DrvQueryFontTree</A></B>,
<A HREF="grstrcts_14.htm">FD_GLYPHSET</A>, <A HREF="grstrcts_15.htm">FD_KERNINGPAIR</A>,
<A HREF="grstrcts_24.htm">IFIMETRICS</A>&nbsp;
<P></FONT>
</BODY>
</HTML>
