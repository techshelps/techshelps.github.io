<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>EngCreateWnd</TITLE>
<style>@import url(/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="/msdn_ie3.css"></HEAD>
<BODY BGPROPERTIES="FIXED" TEXT="#000000" BGCOLOR="#FFFFFF">

<FONT FACE="ARIAL,HELVETICA" SIZE="2">
<H2><A NAME="DDK_EngCreateWnd_GG"></A>EngCreateWnd</H2>
<P>
<B>WNDOBJ  *EngCreateWnd(</B>
<TABLE>
<TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
<B>&nbsp; &nbsp; SURFOBJ  </B><I>*pso</I><B>,</B>
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
<B>&nbsp; &nbsp; HWND  </B><I>hwnd</I><B>,</B>
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
<B>&nbsp; &nbsp; WNDOBJCHANGEPROC  </B><I>pfn</I><B>,</B>
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
<B>&nbsp; &nbsp; FLONG  </B><I>fl</I><B>,</B>
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
<B>&nbsp; &nbsp; int  </B><I>iPixelFormat</I>
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
<B>&nbsp; &nbsp;);</B>
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
</FONT></TABLE>
<P>
<B>EngCreateWnd</B>&nbsp;creates a <A HREF="grstrcts_33.htm">WNDOBJ</A>&nbsp;for the window
referenced by <I>hwnd</I>.
<H3>Parameters</H3>
<DL>
<DT>
<I>pso</I>
<DD>
Identifies the device surface.
<BR>
<DT>
<I>hwnd</I>
<DD>
Handle that identifies a window created by an application’s call to <B>CreateWindow</B>
or an equivalent function.
<BR>
<DT>
<I>pfn</I>
<DD>
Points to a driver-defined callback function that GDI calls for changes to the
window identified by <I>hwnd</I>. In the context of this function, the WNDOBJ
values will be unchanged. The prototype for this callback function is defined
in the header file as follows:
<PRE><FONT FACE="Courier" SIZE="2">VOID (CALLBACK * WNDOBJCHANGEPROC)(WNDOBJ *pwo, FLONG<I>&nbsp;</I>fl);
&nbsp;</FONT></PRE>
<P>
The callback’s <I>pwo</I>&nbsp;parameter points to the window object that is
currently changing and that contains the new size and position of the window.
This parameter is null if <I>fl</I>&nbsp;is WOC_CHANGED.
<P>
The callback’s <I>fl</I>&nbsp;parameter can be one of the values listed in the
following table:
<TABLE>
<TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
<B>Flag</B>
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
<B>Meaning</B>
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
WOC_RGN_CLIENT_DELTA
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
The window object contains a delta client region. The delta region is valid
for this call only.
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
WOC_RGN_CLIENT
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
The window object contains a new visible client region.
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
WOC_RGN_SURFACE_DELTA
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
The window object contains a delta surface region. The pvConsumer field of the
WINOBJ contains 0. The delta region is valid for this call only.
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
WOC_RGN_SURFACE
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
The window object refers to a surface region created by GDI. The pvConsumer
field of the WINOBJ contains 0.
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
WOC_CHANGED
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
Indicates that all WNDOBJ callbacks have been made for the current desktop
update. GDI always notifies the driver at the end of a desktop update. Note
that <I>pwo</I>&nbsp;is null here.
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
WOC_DELETE
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
The window object is deleted as a result of the deletion of the window.
</FONT></TABLE>
<DT>
<I>fl</I>
<DD>
Bitmask that specifies the type of changes to track. This value must be
consistent through all WNDOBJ requests made by the driver. This parameter can
be one or more of the following bit field values:
<TABLE>
<TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
<B>Bit field</B>
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
<B>Meaning</B>
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
WO_RGN_CLIENT_DELTA
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
GDI should track changes in the delta client region of the window object, and
notify the driver when the window’s visible region changes. The region
enumerated in the callback function is a non-empty delta area that is in the
new region but not in the old region. The delta region is valid during the
callback only.
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
WO_RGN_CLIENT
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
GDI should track changes in the client region of the window object, and notify
the driver when the window’s visible client region changes. The region
enumerated in the callback function is the new visible client area of the
window.
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
WO_RGN_SURFACE_DELTA
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
GDI should track changes in the delta surface region of the window object, and
notify the driver when the surface region changes. The region enumerated in
the callback function is a non-empty delta area that is in the new surface
region but not in the old surface region. The delta surface region is valid
during the callback only.
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
WO_RGN_SURFACE
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
GDI should track changes in the surface region of the window object, and
notify the driver when the surface region changes. The surface region is the
display surface area excluding all visible client regions of the windows being
tracked by the driver.
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
WO_RGN_UPDATE_ALL
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
GDI should notify the driver for all windows it tracks when any of its
windows’ visible regions change. This flag must be used in conjunction with
the WO_RGN_CLIENT flag.
</FONT></TABLE>
<DT>
<I>iPixelFormat</I>
<DD>
Specifies the pixel format associated with the window object. The pixel format
of a window object is fixed. This parameter can be zero if there is no
associated pixel format.
</DL>
<H3>Return Value</H3>
<P>
The return value is a pointer to a <A HREF="grstrcts_33.htm">WNDOBJ</A>&nbsp;if the
function is successful. Otherwise, the return value is <FONT
FACE="Symbol">&#45;</FONT>1 if the same window is being tracked by the driver,
or zero if the driver is not tracking the same window.
<H3>Comments</H3>
<P>
Because creating a window object involves locking window resources, <B>EngCreateWnd</B>
should be called only in the context of the WNDOBJ_SETUP escape in <B><A HREF="grfncs_23.htm">DrvEscape</A></B>.
<P>
<B>EngCreateWnd</B>&nbsp;supports window tracking by multiple drivers. Each driver
is identified by a unique <I>pfn</I>&nbsp;function pointer. For example, a live
video driver can track changes to live video windows while an OpenGL driver is
tracking changes to OpenGL windows.
<P>
GDI will call the function pointed to by <I>pfn</I>&nbsp;with the most recent
window state if a new WNDOBJ is created by <B>DrvEscape</B>. GDI will also
notify the <I>pfn</I>&nbsp;function when a window described by a WNDOBJ is
destroyed.
<H3>See Also</H3>
<P>
<B><A HREF="grfncs_23.htm">DrvEscape</A></B>, <A HREF="grstrcts_33.htm">WNDOBJ</A>&nbsp;
<P></FONT>
</BODY>
</HTML>
