<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>GDI Support for Surfaces</TITLE>
<style>@import url(/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="/msdn_ie3.css"></HEAD>
<BODY BGPROPERTIES="FIXED" TEXT="#000000" BGCOLOR="#FFFFFF">

<FONT FACE="ARIAL,HELVETICA" SIZE="2">
<H3><A NAME="DDK_GDI_Support_for_Surfaces_GG"></A>GDI Support for Surfaces</H3>
<P>
For each <A HREF="glossary.htm#DDK_PDEV_GG">PDEV</A>, a driver must support the <B><A HREF="grfncs_21.htm">DrvEnableSurface</A></B>
function. <B>DrvEnableSurface </B>sets up the surface to be drawn on and
associates it with the PDEV. The driver must also support <B><A HREF="grfncs_16.htm">DrvDisableSurface</A></B>
to disable created surfaces. Because GDI creates and maintains the surface,
the driver relies on several GDI service functions, listed in the following
table, to implement the enabling and disabling of surfaces.
<TABLE>
<TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
<B>Function Name</B>
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
<B>Purpose</B>
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
<B><A HREF="grfncs_64.htm">EngAssociateSurface</A></B>
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
Associates a surface with a PDEV and defines the drawing operations the driver
wants to hook out for that surface. It assumes the PDEV’s default palette and
style steps. The driver must make this call for the primary surface, during <B><A HREF="grfncs_21.htm">DrvEnableSurface</A></B>
and when enabling a secondary surface before locking the surface to write on
it.
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
<B><A HREF="grfncs_66.htm">EngCheckAbort</A></B>
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
(Printers only) Enables a printer driver to determine whether its printer job
has been terminated.
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
<B><A HREF="grfncs_69.htm">EngCreateBitmap</A></B>
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
Creates a standard format DIB bitmap. GDI can perform all drawing operations
to this type of surface.
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
<B><A HREF="grfncs_71.htm">EngCreateDeviceBitmap</A></B>
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
Creates a device-dependent bitmap which the driver is responsible for drawing
on (although it can be created as a DIB, in which case the driver can call
back to have GDI draw on it).
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
<B><A HREF="grfncs_72.htm">EngCreateDeviceSurface</A></B>
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
Creates a device-managed surface. The driver is responsible for managing
certain drawing operations for this surface. The function returns a handle
that the driver manages.
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
<B><A HREF="grfncs_85.htm">EngDeleteSurface</A></B>
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
Deletes a surface (DIB, device-dependent bitmap, or device-managed surface).
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
<B><A HREF="grfncs_88.htm">EngEraseSurface</A></B>
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
Fills a specified rectangle on a surface with a given color, effectively
erasing it. This should be called only to erase the surface of a GDI bitmap.
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
<B><A HREF="grfncs_110.htm">EngLockSurface</A></B>
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
Gives the driver access to a created surface by creating a user object
(SURFOBJ) for that surface. (The <A HREF="gdioview_13.htm#DDK_primary_surface_GG">primary
surface</A>&nbsp;is not locked.)
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
<B><A HREF="grfncs_113.htm">EngMarkBandingSurface</A></B>
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
(Printers only) Marks a surface as a banding surface.
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
<B><A HREF="grfncs_135.htm">EngUnlockSurface</A></B>
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
Unlocks a surface when the driver has finished a drawing operation (to be
called when disabling a <A HREF="gdioview_13.htm#DDK_secondary_surface_GG">secondary surface</A>).
</FONT></TABLE>
<P>
For more information on these functions, refer to the <I>Graphics Driver
Reference</I>.
<P></FONT>
</BODY>
</HTML>
