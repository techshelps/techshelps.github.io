<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>HT_ComputeRGBGammaTable</TITLE>
<style>@import url(/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="/msdn_ie3.css"></HEAD>
<BODY BGPROPERTIES="FIXED" TEXT="#000000" BGCOLOR="#FFFFFF">

<FONT FACE="ARIAL,HELVETICA" SIZE="2">
<H2><A NAME="DDK_HT_ComputeRGBGammaTable_GG"></A>HT_ComputeRGBGammaTable</H2>
<P>
<B>LONG HT_ComputeRGBGammaTable(</B>
<TABLE>
<TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
<B>&nbsp; &nbsp; WORD  </B><I>GammaTableEntries</I><B>,</B>
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
<B>&nbsp; &nbsp; WORD  </B><I>GammaTableType</I><B>,</B>
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
<B>&nbsp; &nbsp; USHORT  </B><I>RedGamma</I><B>,</B>
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
<B>&nbsp; &nbsp; USHORT  </B><I>GreenGamma</I><B>,</B>
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
<B>&nbsp; &nbsp; USHORT  </B><I>BlueGamma</I><B>,</B>
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
<B>&nbsp; &nbsp; LPBYTE  </B><I>pGammaTable</I>
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
<B>&nbsp; &nbsp;);</B>
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
</FONT></TABLE>
<P>
<B>HT_ComputeRGBGammaTable</B>&nbsp;is a halftone-related GDI service that causes
GDI to compute device red, green, and blue intensities based on gamma numbers.
<H3>Parameters</H3>
<DL>
<DT>
<I>GammaTableEntries</I>
<DD>
Specifies the total number of steps in the table for each of red, green, and
blue intensities. This value must greater than 1 and less than or equal to
256. (for example, 2 &lt;= <I>GammaTableEntries</I>&nbsp;&lt;= 256). For example, a
value of 256 means there are 256 red entries, 256 green entries, and 256 blue
entries in the gamma table.
<BR>
<DT>
<I>GammaTableType</I>
<DD>
Specifies <I>pGammaTable</I>’s organization. Valid table types are:
<TABLE>
<TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
<B><I>GammaTableType</I></B>
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
<B>Meaning</B>
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
0
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
The gamma table’s red, green, and blue values are interleaved together. Each
gamma step is 3 bytes; 1 byte each for red, green, and blue. 
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
1
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
The red, green, and blue tables are packed separately; that is, the entire red
table is followed by the entire green table, which is followed by the entire
blue table. Individual entries are 1 byte each, making each sub-table a total
of <I>GammaTableEntries </I>bytes in length.
</FONT></TABLE>
<DT>
<I>RedGamma, GreenGamma, BlueGamma</I>
<DD>
Specify the red, green, and blue gamma values. These USHORT values are
interpreted as real numbers whose four least-significant digits are decimal
points. For example, a gamma value of 10000 represents the real number 1.0000,
and 12345 represents 1.2345. The minimum gamma value allowed is 0.0000, and
the maximum allowable value is 6.5535. 
<BR>
<DT>
<I>pGammaTable</I>
<DD>
Points to the array of bytes in which the gamma table’s red, green, and blue
intensities will be written. The returned table is organized as specified by
the <I>GammaTableType</I>&nbsp;parameter.
</DL>
<H3>Return Value</H3>
<P>
The return value is the number of gamma entries written to <I>pGammaTable</I>;
upon success, this value is equal to <I>GammaTableEntries</I>. If <I>GammaTableEntries</I>
is less than 2 or greater than 256, the return value is 0.
<P>
The red, green, and blue intensities returned in <I>pGammaTable</I>&nbsp;range from
0 to 255.
<H3>Comments</H3>
<P>
GDI halftone service routines use a special palette to do halftoning. If the
device selects an 8-bit per pixel palette from a pool of 24-bit device colors
for a 16-bit or 24-bit type surface, GDI assumes red, green, and blue color
steps; each has equal brightness.
<P>
GDI provides this service so that the driver can query the 8-bit per pixel
halftone palette used by GDI or compute gamma corrected and equalized RGB
color intensities for the device.
<P></FONT>
</BODY>
</HTML>
