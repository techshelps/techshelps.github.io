<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Color Models Dialog Box</TITLE>
<style>@import url(/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="/msdn_ie3.css"></HEAD>
<BODY BGPROPERTIES="FIXED" TEXT="#000000" BGCOLOR="#FFFFFF">

<FONT FACE="ARIAL,HELVETICA" SIZE="2">
<H3><A NAME="DDK_Color_Models_Dialog_Box_GG"></A>Color Models Dialog Box</H3>
<P>
A number of sets of color commands can be set up for the minidriver. To
specify color commands, select Graphics Info from the Printer Data menu on the
minidriver’s Printer Data window. Then select Color to display the initial
Color Models dialog box.
<P>
To select an existing set of color commands, highlight the desired set of
Color Models commands to edit on the minidriver’s Printer Data window. Then,
double click on the selection to display the Color Models dialog box.
<P>
Most printers support one of two color methods: planar or pixel. Devices that
use the pixel method send all of the RGB data for a single pixel at once,
typically using at least two bytes per single pixel. RasDD does not support
color on printers that require color-raster graphic data using the pixel
method.
<P>
Printers that use the planar method send the color data for a single pixel in
several passes (planes). The value that results from combining the data for
one pixel in each plane determines the color that pixel assumes. Devices that
use the planar method typically use three or four color planes. A three-plane
model represents cyan data in one plane, yellow data in a second plane, and
magenta data in a third plane. By combining inks from these three basic colors
(cyan, yellow, and magenta), the device can render images of up to eight
colors. A four-plane model is identical to the three-plane model except for
the addition of a fourth plane that represents black data. (In the three-plane
model, cyan, yellow, and magenta ink is combined in equal parts to create
black output.)
<P>
Until recently, most color printers used planar models to represent color
images. For this reason, the current version of the <B>DMCOLOR</B>&nbsp;library and
the UniTool application support this model (rather than the pixel model). You
can provide a callback function to convert planar color data into pixel color
data. In some instances, the converted data does not take advantage of a
printer’s color-output capabilities. For example, <B>DMCOLOR</B>&nbsp;allows a
maximum of eight colors (cyan, blue, magenta, red, yellow, green, white, and
black). This means that <B>DMCOLOR</B>&nbsp;converts any 256-color pixel image into
an 8-color planar image. If a printer supports 256 colors, it can not display
the original image, even if the minidriver provides the callback function.
Obviously, some printers are better supported by the original Windows driver
interface.
<P>
The Color Models dialog box controls specify the color capabilities of
printers that render color output. For example, these controls specify values
such as the number of color planes supported by printers that use a
color-plane format, the number of bits per pixel supported by printers that
use a bit-per-pixel format, the device commands that select colors, and so on.
<P>
<B>Note</B>&nbsp; Because neither the Diconix 150 Plus nor the HP LaserJet IIP
printers provide color support, this section contains information for an
additional printer, the Hewlett-Packard PaintJet.
<P>
When you finish entering data in the Color Models dialog box:
<UL>
<LI>
Click the OK button to accept the additions or changes.
<P>
<LI>
Click the Add button to add an additional set of commands.
<P>
<LI>
Use the Previous or Next buttons to page to the preceding or next set of
commands.
<P>
<LI>
Click the Delete button to delete a set of commands.
</UL>
<H4>Number of Color Planes</H4>
<P>
The sPlanes box specifies the number of color planes supported by the printer.
<P>
HP PaintJet: Use 3 for the sPlanes box.
<H4>Number of Bits per Pixel</H4>
<P>
The sBitsPixel box specifies the number of bits of data required for each
color pixel.
<P>
HP PaintJet: Use 1 for the sBitsPixel box. One bit in each plane corresponds
to a single pixel.
<H4>General Color Data Dialog Box</H4>
<P>
Click the fGeneral button to display the fGeneral dialog box. This dialog box
contains boxes that specify general color capabilities for a printer as
follows:
<TABLE>
<TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
<B>Control</B>
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
<B>Description</B>
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
DC_PRIMARY_RGB
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
If this bit is set, sPlanes must equal three with RasDD. RasDD first sends
data for the red plane, followed by the blue and green planes. The printer 
then converts this data into an index into its color palette to obtain the
eight basic colors. If this bit is not set, RasDD sends black data first (only
if the DC_EXTRACT_BLACK bit is set, followed by data for the cyan, magenta and
yellow planes.)
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
DC_EXTRACT_BLK
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
If this bit is set, sPlanes must equal four. This control specifies that the
printer renders black using a separate ink or ribbon. If this control is not
set, RasDD assumes that the printer renders black by mixing the other colors.
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
DC_SEND_CR
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
RasDD sends a carriage return to clear the output buffer before processing the
next plane of color-raster data.
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
DC_SEND_ALL_PLANES
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
RasDD sends all color plane data to the printer; otherwise, the driver may
send only non-null data. This flag applies only to color-plane devices.
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
DC_SEND_PAGE_FRAME
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
RasDD sends color plane data one page at a time. This flag applies only to
color-plane devices. 
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
DC_EXPLICIT_COLOR
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
RasDD sends a command to select a given color; the selection is not implied by
the RES_OCD_SENDBLOCK command. This flag applies only to color-plane devices.
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
DC_SEND_PALETTE
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
RasDD downloads the color palette. This flag applies only to color plane
devices.
</FONT></TABLE>
<P>
HP PaintJet: Check the DC_PRIMARY_RGB box because the printer uses the RGB
color model.
<H4>Color-Planes Selection</H4>
<P>
The Color Planes control specifies the commands that render the color graphics
output. Select a plane from the Plane # box, enter the command for rendering
that plane in the Command box, and select an identifier for the plane from the
Plane ID box.
<P>
HP PaintJet: The Command box for planes 1 and 2 contain the Transfer Raster
Data by Plane command (ESC*b<I>n</I>V) where <I>n</I>&nbsp;specifies the number of
bytes of raster data.
<P>
To specify the command, type the following in the Command box for planes 1 and
2:
<PRE><FONT FACE="Courier" SIZE="2">\x1B*b%dV
&nbsp;</FONT></PRE>
<P>
The Command box for the plane 3 contains the Transfer Raster Data by Row
command (ESC*b<I>n</I>W). This command differs from the previous command in
that it moves the current active position (CAP) to the next row of data.
<P>
To specify the command, type the following in the Command box for plane 3:
<PRE><FONT FACE="Courier" SIZE="2">\x1B*b%dW
&nbsp;</FONT></PRE>
<P>
Because the PaintJet printer uses three-plane technology, the Command box for
plane 4 is empty.
<H4>Color Plane Identifier</H4>
<P>
The Plane ID box indicates the order in which the color plane data is sent to
the printer.
<P>
HP PaintJet: Contains DC_PLANE_RED for plane 1, DC_PLANE_BLUE for plane 2
blue, and DC_PLANE_GREEN for plane 3.
<P>
<B>Note</B>&nbsp; If the DC_PRIMARY_RGB bit is set in the fGeneral dialog box,
RasDD uses the device commands to send a color plane of graphics data instead
of sending block commands from the resolution section when color is enabled.
<H4>DC_OCD_TC_XXX Text-Color Commands</H4>
<P>
The Commands controls specify commands that render the color text output. The
Commands controls includes the following:
<TABLE>
<TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
<B>Command</B>
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
<B>Description</B>
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
DC_OCD_TC_BLACK
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
Sets the text color to black.
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
DC_OCD_TC_RED
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
Sets the text color to red.
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
DC_OCD_TC_GREEN
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
Sets the text color to green.
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
DC_OCD_TC_YELLOW
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
Sets the text color to yellow.
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
DC_OCD_TC_BLUE
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
Sets the text color to blue.
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
DC_OCD_TC_MAGENTA
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
Sets the text color to magenta.
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
DC_OCD_TC_CYAN
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
Sets the text color to cyan.
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
DC_OCD_TC_WHITE
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
Sets the text color to white.
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
DC_OCD_SETCOLORMODE
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
Selects the printer model. This command is required only for pixel color
models.
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
DC_OCD_PC_SELECTINDEX
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
Selects the palette index to be used as the foreground color for text.
</FONT></TABLE>
<P>
HP PaintJet: The DC_OCD_TC_BLACK, DC_OCD_TC_RED, DC_OCD_TC_GREEN, and
DC_OCD_TC_YELLOW boxes contain the corresponding Text Color command (ESC&amp;v<I>n</I>S)
that renders text using the specified color. If <I>n</I>&nbsp;is 0, the text color
is black; if <I>n</I>&nbsp;is 1, the text color is red; if <I>n</I>&nbsp;is 2, the text
color is green; if <I>n</I>&nbsp;is 3, the text color is yellow, and so on.
<P>
To select black text, type the following command in the DC_OCD_TC_BLACK box:
<PRE><FONT FACE="Courier" SIZE="2">\x1B&amp;v0S
&nbsp;</FONT></PRE>
<P>
To select red text, type the following command in the DC_OCD_TC_RED box:
<PRE><FONT FACE="Courier" SIZE="2">\x1B&amp;v1S
&nbsp;</FONT></PRE>
<P>
To select green text, type the following command in the DC_OCD_TC_GREEEN box:
<PRE><FONT FACE="Courier" SIZE="2">\x1B&amp;v2S
&nbsp;</FONT></PRE>
<P>
To select yellow text, type the following command in the DC_OCD_TC_YELLOW box:
<PRE><FONT FACE="Courier" SIZE="2">\x1B&amp;v3S
&nbsp;</FONT></PRE>
<P>
To select blue text, type the following command in the DC_OCD_TC_BLUE box:
<PRE><FONT FACE="Courier" SIZE="2">\x1B&amp;v4S
&nbsp;</FONT></PRE>
<P>
To select magenta text, type the following command in the DC_OCD_TC_MAGENTA
box:
<PRE><FONT FACE="Courier" SIZE="2">\x1B&amp;v5S
&nbsp;</FONT></PRE>
<P>
To select cyan text, type the following command in the DC_OCD_TC_CYAN box:
<PRE><FONT FACE="Courier" SIZE="2">\x1B&amp;v6S
&nbsp;</FONT></PRE>
<P>
To select white text, type the following command in the DC_OCD_TC_WHITE box:
<PRE><FONT FACE="Courier" SIZE="2">\x1B&amp;v7S
&nbsp;</FONT></PRE>
<H4>DC_OCD_SETCOLORMODE</H4>
<P>
The DC_OCD_SETCOLORMODE command initializes a printer to process color data.
<P>
HP PaintJet: Use the Set Number of Planes Per Row command (ESC*r<I>n</I>U) to
initialize the printer for color data processing. The argument <I>n</I>
specifies the number of planes of color data.
<P>
To specify the command, type the following in the DC_OCD_SETCOLORMODE box:
<PRE><FONT FACE="Courier" SIZE="2">\x1B*r3U
&nbsp;</FONT></PRE>
<P></FONT>
</BODY>
</HTML>
