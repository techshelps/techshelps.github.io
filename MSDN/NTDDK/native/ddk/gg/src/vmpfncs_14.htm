<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>SvgaHwIoPortUlong</TITLE>
<style>@import url(/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="/msdn_ie3.css"></HEAD>
<BODY BGPROPERTIES="FIXED" TEXT="#000000" BGCOLOR="#FFFFFF">

<FONT FACE="ARIAL,HELVETICA" SIZE="2">
<H2><A NAME="DDK_SvgaHwIoPortUlong_GG"></A>SvgaHwIoPortUlong</H2>
<P>
<B>VP_STATUS SvgaHwIoPortUlong(</B>
<TABLE>
<TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
&nbsp; &nbsp; <B>ULONG</B>&nbsp; <I>Context</I><B>,</B>
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
&nbsp; &nbsp; <B>ULONG</B>&nbsp; <I>Port</I><B>,</B>
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
&nbsp; &nbsp; <B>UCHAR</B>&nbsp; <I>AccessMode</I><B>,</B>
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
&nbsp; &nbsp; <B>PULONG</B>&nbsp; <I>Data</I>
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
&nbsp; &nbsp;);
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
</FONT></TABLE>
<P>
<B>SvgaHwIoPortUlong</B>&nbsp;traps an I/O port range to which a full-screen MS-DOS
application in an x86-based machine is sending a sequence of ULONG-sized data.
Only miniport drivers of VGA-compatible SVGA adapters have <B>SvgaHwIoPort</B><I>Xxx</I>
functions.
<H3>Parameters</H3>
<DL>
<DT>
<I>Context</I>
<DD>
Specifies the miniport-determined context value that was set in the <B>EmulatorAccessEntriesContext</B>
member of VIDEO_PORT_CONFIG_INFO.
<BR>
<DT>
<I>Port</I>
<DD>
Specifies the mapped I/O port to be trapped.
<BR>
<DT>
<I>AccessMode</I>
<DD>
Specifies the type of access allowed, which can be one or a combination (ORed)
of the following values:
<P>
EMULATOR_READ_ACCESS<BR>
EMULATOR_WRITE_ACCESS
<BR>
<DT>
<I>Data</I>
<DD>
Points to the ULONG data to be transferred.
</DL>
<H3>Return Value</H3>
<P>
<B>SvgaHwIoPortUlong</B>&nbsp;returns the final status of the operation.
<H3>Comments</H3>
<P>
<B>SvgaHwIoPortUlong</B>&nbsp;will intercept any range access attempted by a
full-screen MS-DOS application issuing either or both of the instructions <B>OUT
DX, EAX</B>&nbsp;and <B>IN EAX, DX</B>.
<P>
If the miniport driver enables the <I>Port</I>&nbsp;range for direct access by
calling <B>VideoSetTrappedEmulatorPorts</B>, its <B>SvgaHwIoPortUlong</B>
function will not be called. Such an application then will have direct access
to the I/O port range, unless the miniport driver disables the range with
another call to <B>VideoSetTrappedEmulatorPorts</B>.
<P>
If an application-issued x86 <B>IN</B>&nbsp;or <B>OUT</B>&nbsp;instruction(s) might
affect the state of the VGA-compatible adapter sequencer register,
miscellaneous output register, or any adapter-specific register and, thereby,
cause the machine to hang, the miniport driver must <I>not</I>&nbsp;enable the port
for direct access by calling <B>VideoPortSetTrappedEmulatorPorts</B>.
<P>
<B>SvgaHwIoPortUlong</B>&nbsp;must buffer subsequent instructions from the
application and check that none can hang the machine. If the application
issues any sequence of instructions that might hang the machine, <B>SvgaHwIoPortUlong</B>
must discard the buffered instructions. Otherwise, it should output them, a
ULONG at a time, to the specified, mapped I/O port.
<H3>See Also</H3>
<P>
<A HREF="vstrcts_1.htm">EMULATOR_ACCESS_ENTRY</A>, <B><A HREF="vmpfncs_15.htm">SvgaHwIoPortUlongString</A></B>,
<A HREF="vstrcts_3.htm">VIDEO_ACCESS_RANGE</A>, <A HREF="vstrcts_6.htm">VIDEO_PORT_CONFIG_INFO</A>,
<B><A HREF="vpfncs_9.htm">VideoPortGetDeviceBase</A></B>, <B><A HREF="vpfncs_33.htm">VideoPortSetTrappedEmulatorPorts</A></B>
<P></FONT>
</BODY>
</HTML>
