<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>DRIVEROBJ</TITLE>
<style>@import url(/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="/msdn_ie3.css"></HEAD>
<BODY BGPROPERTIES="FIXED" TEXT="#000000" BGCOLOR="#FFFFFF">

<FONT FACE="ARIAL,HELVETICA" SIZE="2">
<H2><A NAME="DDK_DRIVEROBJ_GG"></A>DRIVEROBJ</H2>
<PRE><FONT FACE="Courier" SIZE="2">typedef struct _DRIVEROBJ {
&nbsp; &nbsp; PVOID pvObj;
&nbsp; &nbsp; FREEOBJPROC pFreeProc;
&nbsp; &nbsp; HDEV hdev;
} DRIVEROBJ;
</FONT></PRE>
<P>
The DRIVEROBJ structure is used to track a resource allocated by a driver that
wants to use GDI services. A DRIVEROBJ allows a display driver to request the
GDI service in managing per-process resources. By creating a DRIVEROBJ, a
display driver can insure that resources will be released when an application
terminates.
<H3>Members</H3>
<DL>
<DT>
<B>pvObj</B>
<DD>
Points to the driver resource that will be tracked by the DRIVEROBJ. The
resource is associated with the current client process.
<BR>
<DT>
<B>pFreeProc</B>
<DD>
Points to a driver-supplied callback function that frees the resource pointed
to by <B>pvObj</B>.
<BR>
<DT>
<B>hdev</B>
<DD>
The GDI handle of the physical device associated with the object.
</DL>
<H3>Comments</H3>
<P>
Some drivers, in their Escape support, allocate resources on behalf of
applications. In such cases, the DRIVEROBJ structure provides a means for the
application to notify the driver when it terminates. GDI will call the
driver’s cleanup function for each DRIVEROBJ allocated in an application’s
context that is not deleted before the application terminates.
<P>
This structure provides a locking mechanism for exclusive access to the
associated resource.
<H3>See Also</H3>
<P>
<B><A HREF="grfncs_73.htm">EngCreateDriverObj</A></B>, <B><A HREF="grfncs_81.htm">EngDeleteDriverObj</A></B>,
<B><A HREF="grfncs_109.htm">EngLockDriverObj</A></B>, <B><A HREF="grfncs_134.htm">EngUnlockDriverObj</A></B>
<P></FONT>
</BODY>
</HTML>
