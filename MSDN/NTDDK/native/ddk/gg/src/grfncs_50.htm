<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>DrvSetPointerShape</TITLE>
<style>@import url(/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="/msdn_ie3.css"></HEAD>
<BODY BGPROPERTIES="FIXED" TEXT="#000000" BGCOLOR="#FFFFFF">

<FONT FACE="ARIAL,HELVETICA" SIZE="2">
<H2><A NAME="DDK_DrvSetPointerShape_GG"></A>DrvSetPointerShape</H2>
<P>
<B>ULONG DrvSetPointerShape(</B>
<TABLE>
<TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
<B>&nbsp; &nbsp; IN SURFOBJ  </B><I>*pso</I><B>,</B>
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
<B>&nbsp; &nbsp; IN SURFOBJ  </B><I>*psoMask</I><B>,</B>
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
<B>&nbsp; &nbsp; IN SURFOBJ  </B><I>*psoColor</I><B>,</B>
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
<B>&nbsp; &nbsp; IN XLATEOBJ  </B><I>*pxlo</I><B>,</B>
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
<B>&nbsp; &nbsp; IN LONG  </B><I>xHot</I><B>,</B>
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
<B>&nbsp; &nbsp; IN LONG  </B><I>yHot</I><B>,</B>
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
<B>&nbsp; &nbsp; IN LONG  </B><I>x</I><B>,</B>
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
<B>&nbsp; &nbsp; IN LONG  </B><I>y</I><B>,</B>
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
<B>&nbsp; &nbsp; OUT RECTL  </B><I>*prcl</I><B>,</B>
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
<B>&nbsp; &nbsp; IN FLONG  </B><I>fl</I>
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
<B>&nbsp; &nbsp;);</B>
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
</FONT></TABLE>
<P>
<B>DrvSetPointerShape</B>&nbsp;is used to request the driver to: 
<OL>
<LI>
Take the pointer off the display, if the driver has drawn it there. 
<P>
<LI>
Attempt to set a new pointer shape. 
<P>
<LI>
Put the new pointer on the display at a specified position.
</OL>
<H3>Parameters</H3>
<DL>
<DT>
<I>pso</I>
<DD>
Points to a <A HREF="grstrcts_30.htm">SURFOBJ</A>&nbsp;structure that describes the
surface on which to draw.
<BR>
<DT>
<I>psoMask</I>
<DD>
Points to a SURFOBJ structure that defines the AND-XOR mask. (The AND-XOR mask
is described in <A HREF="dpyddi_12.htm">Drawing
Monochrome Pointers</A>.) The dimensions of this bitmap determine the size of the
pointer. There are no implicit constraints on pointer sizes, but optimal
pointer sizes are 32 x 32, 48 x 48, and 64 x 64 pixels. If this parameter is
null, the pointer is transparent.
<BR>
<DT>
<I>psoColor</I>
<DD>
Points to a SURFOBJ structure that defines the colors for a color pointer. If
this parameter is null, the pointer is monochrome. The pointer bitmap has the
same width as <I>psoMask</I>&nbsp;and half the height.
<BR>
<DT>
<I>pxlo</I>
<DD>
Points to a <A HREF="grstrcts_35.htm">XLATEOBJ</A>&nbsp;structure that defines the
colors in <I>psoColor</I>.
<BR>
<DT>
<I>xHot</I>, <I>yHot</I>
<DD>
Specify the <I>x</I>&nbsp;and <I>y</I>&nbsp;positions of the pointer’s hot spot relative
to its upper-left pixel. The pixel indicated by the hot spot should be
positioned at the new pointer position.
<BR>
<DT>
<I>x, y</I>
<DD>
Specify the new pointer position.
<BR>
<DT>
<I>prcl</I>
<DD>
If nonnull, the driver should write a rectangle that bounds all pixels
affected by the pointer on the display. GDI avoids drawing on this rectangle
without first moving the pointer out of the way.
<BR>
<DT>
<I>fl</I>
<DD>
Specifies an extensible set of flags. The driver should decline the call if
any flags are set that it does not understand. This parameter can be one or
more of the following predefined values, and one or more driver-defined
values:
<TABLE>
<TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
<B>Flag</B>
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
<B>Meaning</B>
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
SPS_CHANGE
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
The driver is requested to change the pointer shape.
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
SPS_ASYNCCHANGE
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
The driver should accept the change only if it is capable of changing the
pointer shape in the hardware while other drawing is underway on the device.
GDI uses this option only if the GCAPS_ASYNCCHANGE flag is set in the <B>flGraphicsCaps</B>
member of the DEVINFO structure.
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
SPS_ANIMATESTART
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
The driver should be prepared to receive a series of similarly-sized pointer
shapes that will comprise an animated pointer effect.
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
SPS_ANIMATEUPDATE
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
The driver should draw the next pointer shape in the animated series.
</FONT></TABLE>
</DL>
<H3>Return Value</H3>
<P>
The return value can be one of the following values:
<TABLE>
<TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
<B>Value</B>
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
<B>Meaning</B>
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
SPS_ERROR
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
The driver normally supports this shape, but failed for unusual reasons.
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
SPS_DECLINE
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
The driver does not support the shape, so GDI must simulate it.
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
SPS_ACCEPT_NOEXCLUDE
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
The driver accepts the shape. The shape is supported in hardware and GDI is
not concerned about other drawings overwriting the pointer.
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
SPS_ACCEPT_EXCLUDE
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
The driver accepts the shape. GDI does not read from or write to the rectangle
written at <I>prcl</I>&nbsp;without first moving the pointer out of the way.
</FONT></TABLE>
<H3>Comments</H3>
<P>
<B>DrvSetPointerShape</B>&nbsp;is optional for display drivers.
<H3>See Also</H3>
<P>
<A HREF="grstrcts_30.htm">SURFOBJ</A>, <A HREF="grstrcts_35.htm">XLATEOBJ</A>&nbsp;
<P></FONT>
</BODY>
</HTML>
