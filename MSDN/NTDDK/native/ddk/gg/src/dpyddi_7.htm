<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Switching Desktops: Responding to DrvAssertMode</TITLE>
<style>@import url(/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="/msdn_ie3.css"></HEAD>
<BODY BGPROPERTIES="FIXED" TEXT="#000000" BGCOLOR="#FFFFFF">

<FONT FACE="ARIAL,HELVETICA" SIZE="2">
<H3><A NAME="DDK_Switching_Desktops_Responding_to_DrvAssertMode_GG"></A>Switching Desktops: Responding to DrvAssertMode</H3>
<P>
When switching between desktops on a single display, the Window Manager makes
sure that the desktops are properly redrawn and that a mouse pointer is
enabled and put in the right location. The display device driver receives a
call to <B><A HREF="grfncs_6.htm">DrvAssertMode</A></B>&nbsp;only when there is
a desktop switch.
<P>
This function causes the driver to make sure the indicated PDEV is in the mode
specified when the PDEV was created, or is in text mode. The Window Manager
then selects the correct pointer shape and moves it to the current position.
Thus, GDI relieves the driver of the responsibility of maintaining the mouse
pointer state.
<P>
GDI calls the <B>DrvAssertMode</B>&nbsp;function in the display driver to set the
mode of a specified hardware device. This function selects either the mode
specified when the display driver-defined PDEV structure was created or the
default mode of the hardware. The driver should keep a record of the current
mode of the PDEV.
<P>
GDI also calls <B>DrvAssertMode</B>, with the enable parameter set to FALSE,
when the user switches from a windowed application to a full-screen
application in <I>x</I>86 applications, or when switching desktops (on all
platforms). The display driver must restore the video hardware to a default
mode by sending an IOCTL_VIDEO_RESET_DEVICE in an <B>EngDeviceIoControl</B>
call to the video port-miniport drivers.
<P></FONT>
</BODY>
</HTML>
