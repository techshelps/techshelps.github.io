<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Printer Font Metrics (PFM)</TITLE>
<style>@import url(/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="/msdn_ie3.css"></HEAD>
<BODY BGPROPERTIES="FIXED" TEXT="#000000" BGCOLOR="#FFFFFF">

<FONT FACE="ARIAL,HELVETICA" SIZE="2">
<H2><A NAME="DDK_Printer_Font_Metrics_PFM_GG"></A>Printer Font Metrics (PFM)</H2>
<P>
To access the PFM dialog box and specify the PFM commands, scroll through the
FONTS window and select the desired font. Then, double click the selection to
display the PFM dialog box for the selected font file.
<P>
To render text with device fonts and to retrieve font data for application
queries, RasDD requires special font data or printer font metrics. The PFM
dialog box specifies a printer’s font metrics and font selection commands.
Printers that render text using device fonts store the character data in the
printer or in a font cartridge. (The character data for a Windows font is
stored on disk.) Printers render text faster with device fonts because the
bitmap or vector data is device resident and does not require downloading from
the disk to the printer.
<P>
<B>Note</B>&nbsp; The sample in this section displays a Roman 12-point device font
file for the Diconix 150 Plus printer. No sample is provided for the HP
LaserJet IIP.
<P>
When you finish entering data in the PFM dialog box:
<UL>
<LI>
Click the Save button to accept changes or additions to the PFM dialog box.
<P>
<LI>
Click the SaveAs button to save using another name or storage location.
</UL>
<H4>Font Type</H4>
<P>
The Type control contains the decimal representation of a 16-bit flag. The
following list describes the significance of the bits in this flag. Bit 15 is
the high-order bit of the high byte; bit 0 is the low-order bit of the
low-order byte.
<TABLE>
<TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
<B>Bit</B>
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
<B>Description</B>
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
0
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
Specifies a scalable font, if set. Otherwise, the font is a bitmap font.
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
1
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
Reserved; must be zero.
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
2
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
Specifies that character data is stored at the location specified <B>BitsOffset</B>
if set. Otherwise, the character data appears immediately after the header
information. (This bit is only valid for font files that contain bitmap data.)
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
3<FONT FACE="Symbol">&#45;</FONT>6
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
Reserved; must be zero.
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
7
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
Specifies a device font, if set. Otherwise, the font is a GDI font.
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
8<FONT FACE="Symbol">&#45;</FONT>15
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
Reserved; must be zero.
</FONT></TABLE>
<P>
<B>Note</B>&nbsp; RasDD does not support scalable device fonts, so the Type value
must be set to 128 for all device fonts.
<P>
Diconix 150 Plus: Set the Type value to 128 for all device fonts. The only bit
set for any of the Diconix device fonts is bit 7, whose value is 128. The
device fonts are bitmapped fonts; bit 0 is not set. Bit 1 is reserved and is
set to 0. Because the PFM file describes a device font and bitmap character
data is not in the PFM file, bit 2 is not set. Bits 3 through 6 are reserved
and are set to 0.
<H4>Point Size</H4>
<P>
The Points control contains the point size for the font. The point size is
determined by measuring the vertical distance from the bottom edge to the top
edge of a character cell for a font. Specify the value in printer points; each
printer point is equivalent to approximately 1/72 of an inch.
<P>
<B>Note</B>&nbsp; Most applications do not use this box to display point sizes to
the user because fractional point sizes cannot be expressed. Most applications
calculate point size as the sum of the value of the PixHeight and Internal
Leading controls in the PFM dialog box.
<P>
Diconix 150 Plus: Use 10 for the point size.
<H4>Vertical Resolution</H4>
<P>
Most printer manufacturers digitize their fonts at the highest resolution
supported by the printer. The VertRes control contains the vertical resolution
that the printer manufacturer used to digitize a font. Specified this value in
dpi.
<P>
Diconix 150 Plus: The fonts are digitized at a vertical resolution of 96 dpi.
Use 576 to prevent confusion with calculations between master units for the
minidriver, and the units for values in the PFM files.
<H4>Horizontal Resolution</H4>
<P>
The HorzRes control contains a horizontal resolution value that the printer
manufacture used to digitize a font.
<P>
Diconix 150 Plus: The fonts are digitized at a horizontal resolution of 320
dpi.
<H4>Ascent</H4>
<P>
The Ascent control specifies the distance from the baseline to the top of a
character cell. Specified the value in vertical-resolution units.
<P>
Diconix 150 Plus: This distance is 7.25 printers points or 58 dpi.
<H4>Internal Leading</H4>
<P>
The Internal Leading control specifies an amount of space reserved in each
character cell for accent characters and so on. For most 9- and 24-pin
printers, this value is 0. (The point size specified by most applications is
the sum of the PixHeight control value and the Internal Leading value.)
<P>
<B>Note</B>&nbsp; Some of the PFM files supplied by Microsoft reflect values
compatible with earlier versions of Windows-based printer drivers. For
example, Epson and IBM printers have values that are not listed here. However,
for recently created drivers, font metric values should reflect how the
printer produces device fonts.
<P>
Diconix 150 Plus: Use 0 for this value. The device fonts for the Diconix do
not support internal leading.
<H4>External Leading</H4>
<P>
The External Leading control specifies the amount of space placed between two
rows of text printed using a particular font. Most dot-matrix printer
manufacturers suggest printing device fonts at 6 lines to the inch. The
External Leading value is increased or decreased to the sum of PixHeight
control value added to the External Leading meet value.
<P>
Diconix 150 Plus: Use 2 printer points or 16 master units.
<H4>Italic Fonts</H4>
<P>
The Italic control indicates whether the PFM file contains data for an italic
font. Use 1 if the font is italic or 0 if it is not.
<P>
Diconix 150 Plus: Use 0 (the example font is not italicized).
<H4>Underline Fonts</H4>
<P>
The Underline control indicates whether the PFM file contains data for an
underlined font. Use 1 if the font is underlined or 0 if it is not..
<P>
Diconix 150 Plus: Use 0 (the example font is not underlined).
<H4>Strikeout Fonts</H4>
<P>
The Strikeout control indicates whether the PFM file contains data for a
strikeout font. Use 1 if the font is a strikeout font or 0 if it is not.
<P>
Diconix 150 Plus: Use 0 (the example font is not a strikeout font).
<H4>Font Weight</H4>
<P>
The Weight control specifies the relative density or weight of characters
rendered using the font. Valid weights can range from 100 to 1000 using
increments of the value 100. Specify 400 for normal weight, 700 for bold, and
so on. Weights must be a multiple of 100 to be valid.
<P>
Diconix 150 Plus: Use 400. The bitmaps for the example font render normal
characters.
<H4>Character Set</H4>
<P>
The Char Set control identifies the character set associated with a font. This
value is:
<UL>
<LI>
0 if the font uses the Windows ANSI character set
<P>
<LI>
1 if the font is an IBM PC hardware font (code page 437)
<P>
<LI>
2 if the font uses a special symbol set
</UL>
<P>
Whenever possible, a minidriver is recommended to support the Windows ANSI
character set.
<P>
Diconix 150 Plus: Use 0 because the Diconix device fonts use the Windows ANSI
character set.
<H4>Pixel Width</H4>
<P>
The PixWidth control specifies the character width for fixed-pitch raster
fonts. Specify this value using the horizontal-resolution units (for a
variable-width device font, this value is 0).
<P>
Diconix 150 Plus: Use 57.
<H4>Pixel Height</H4>
<P>
The PixHeight control specifies the character height of fixed-pitch device
fonts. Specify this value using vertical-resolution units.
<P>
Diconix 150 Plus: Use 80.
<H4>Pitch and Family</H4>
<P>
The Pitch and Family control contains an integer value that corresponds to a
16-bit binary value. To set this value, click the ? button to display the Font
Pitch and Family dialog box. Indicate whether the font is fixed pitch or
variable (proportional) spaced. Then, click the Family value to indicate which
screen font Windows displays for this device font and click OK.
<P>
Diconix 150 Plus: 16 is displayed if the Pitch is Fixed and the Family is
Roman.
<H4>Average Width</H4>
<P>
The Average Width control specifies the average character width for
proportionally spaced and fixed-pitch fonts. If the font is proportionally
spaced, Unitool calculates this value based on the information entered in the
font-width table. For a fixed-pitch font, enter this value (equivalent to the
width of each character).
<P>
Diconix 150 Plus: Use 57.
<H4>Maximum Width</H4>
<P>
The Max. Width control specifies the width of the widest character in a font.
For fixed-pitch fonts, this is equivalent to the value specified in the
Average Width control. For proportionally spaced fonts, Unitool calculates and
inserts this value using values from the character-width table.
<P>
Diconix 150 Plus: Use 57.
<H4>First Character</H4>
<P>
The First Char control identifies the ASCII decimal value for the first
character in a font’s character set.
<P>
Diconix 150 Plus:<B>&nbsp;</B>Use 32, which corresponds to the space character.
<H4>Last Character</H4>
<P>
The Last Char control identifies the ASCII decimal value for the last
character in a font’s character set.
<P>
Diconix 150 Plus: Use 126, which corresponds to the tilde (~).
<H4>Default Character</H4>
<P>
The Default Char control identifies the character that Windows renders when a
character outside the range defined for First Char through Last Char is
requested. This value is a zero-based offset from the first character
identified in the Default Char control.
<P>
Diconix 150 Plus: Use 14, which corresponds to the period (.).
<H4>Break Character</H4>
<P>
The Break Char control identifies the character used to define word breaks.
This value is a zero-based offset from the first character identified in the
First Char control.
<P>
Diconix 150 Plus: Use 0, which corresponds to the space character.
<H4>Bitmap Width</H4>
<P>
The Width Bytes control specifies the width in bytes of each row of pixels for
characters in a raster font. This value is only required for PFM files that
contain bitmapped font data.
<P>
Diconix 150 Plus: Use 0.
<H4>Device Name</H4>
<P>
The Device Name control specifies the name of the printer.
<P>
Diconix 150 Plus: Use the string, Diconix 150 Plus.
<H4>Face Name</H4>
<P>
The Face Name control specifies the font name. If a printer supports multiple
fonts with the same font name and point size, but with different pitches, the
string also contains the pitch value. Pitch values should be expressed in
terms of characters-per-inch (cpi). The font name in a minidriver must be
unique.
<P>
Diconix 150 Plus: Use the string, Roman(12cpi).
<H4>Device Font Character Widths Dialog Box</H4>
<P>
If the Pitch and Family value indicates that the PFM file for a variable-pitch
device font is to be edited, click the FontWidth button to display the Device
Font Character Widths dialog box. (If fixed-pitch fonts are used, this box is
not active.) Then, enter the values for the widths of each character that
falls between the First Char and Last Char ASCII character values. The widths
are expressed in horizontal resolution units. If the font uses a CTT, the
widths entered reflect the widths of the characters the printer actually
produces. Click OK when complete to return to the PFM dialog box.
<H4>Extended Text Metrics Dialog Box</H4>
<P>
This information is used only by applications that specifically request it
from the minidriver. To edit values for extended text metrics:
<UL>
<LI>
Click the ExtTextMetrics button to display the Extended Text Metrics dialog
box and to enter or change these values.
<P>
<LI>
Click OK to accept these values.
<P>
<LI>
Click the Delete button to delete information.
</UL>
<H4>Extent Table Dialog Box</H4>
<P>
The Extent Table dialog box specifies the width of each character in a
scalable font. To edit the extent table values:
<UL>
<LI>
Click the ExtentTable button to display the Extent Table dialog box and to
enter or change these values.
<P>
<LI>
Click OK to accept these values.
</UL>
<H4>Kern Pairs Dialog Box</H4>
<P>
This information is used only by applications that specifically request it
from the minidriver. To edit kerning-pair values:
<UL>
<LI>
Click the KernPair button to display the Kern Pairs dialog box.
<P>
<LI>
Click Add to add values for the kern pairs and enter these values.
<P>
<LI>
Click Change to change a kern pair and edit the current values.
<P>
<LI>
Click Del to delete a kern pair.
</UL>
<H4>Kern Tracks Dialog Box</H4>
<P>
This information is used only by applications that specifically request it
from the minidriver as follows:
<UL>
<LI>
Click the KernTrack button to display the Kern Tracks dialog box.
<P>
<LI>
Click Add to add values for the kern pairs and enter these values.
<P>
<LI>
Click Change to change a kern pair and edit the current values.
<P>
<LI>
Click Del to delete a kern pair.
</UL>
<H4>Driver Information</H4>
<P>
The DriverInfo group box at the bottom of the PFM dialog box contains the
printer commands that select and cancel the selection of the font as well as
additional data that some printers require to render text with a specific
font.
<H4>Font Selection</H4>
<P>
The Font Select command selects a particular font.
<P>
Diconix 150 Plus: Use the Elite Mode On command (ESCM) to select 10-point and
12-pitch Roman font.
<P>
To specify the command, type the following in the Font Select box:
<PRE><FONT FACE="Courier" SIZE="2">\x1BM
&nbsp;</FONT></PRE>
<P>
<B>Note</B>&nbsp; Depending on the printer model, font selection commands can
require a combination of printer commands to select the desired font.
<H4>Canceling Font Selection</H4>
<P>
The Font UnSelect command cancels a font selection. For printers that have no
x-cursor movement command and rely on the width of the space character to
perform horizontal movement, this command selects the font or pitch that
causes the printer to move the desired amount for a space character. This
command is also required if a printer’s font selection command enables
attributes that cannot be disabled by a subsequent font select command or
inhibit the use of other commands used in the driver.
<P>
Diconix 150 Plus: There is no command that cancels the selection of the
default font when the printer’s switches are set to the factory default. The
Font UnSelect box is empty.
<P>
<B>Note</B>&nbsp; Depending on the printer model, font selection commands can
require a combination of printer commands to select the desired font.
<H4>Vertical Adjustments</H4>
<P>
The Y Moved and the Y Adjust controls contain vertical offsets required to
align a font baseline with the GDI baseline. If these baselines differ,
Windows shifts the font baseline by the Y Adjust value prior to rendering
text. After the text is rendered, Windows shifts the font baseline back to the
proper position using the Y Moved value. Typically, it is not necessary to
adjust the Y position for device fonts.
<P>
Diconix 150 Plus: Use 0.
<H4>Private Font Data</H4>
<P>
The Private Data control provides a means of storing 16-bits of private data.
If a minidriver provides a private function (or private functions) for
processing device fonts, it can store data used by these functions using this
control.
<P>
Diconix 150 Plus:<B>&nbsp;</B>Use 0.
<H4>Font Type</H4>
<P>
The Font Type control specifies the type of scalable font technology the
printer uses. It can be one of these values:
<TABLE>
<TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
<B>Value</B>
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
<B>Meaning</B>
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
DF_TYPE_HPINTELLIFONT
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
HP Intellifont fonts. This is the default value.
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
DF_TYPE_TRUETYPE
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
TrueType fonts
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
DF_TYPE_PST1
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
<I>not currently supported</I>
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
DF_TYPE_CAPSL
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
<I>not currently supported</I>
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
DF_TYPE_OEM1
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
<I>not currently supported</I>
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
DF_TYPE_OEM2
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
<I>not currently supported</I>
</FONT></TABLE>
<H4>Character Shift Amount</H4>
<P>
The Shift control specifies a horizontal distance in horizontal-resolution
units. This distance is an offset that RasDD uses to shift individual
characters from a particular font. This distance is required for fonts with
characters that are not centered in the bounding box. RasDD uses a negative
shift value to shift characters to the right, and a positive shift value to
shift characters to the left. Shift amounts are used when characters do not
fall in the center of the bounding box defined by font metrics.
<P>
Diconix 150 Plus: Use 0.
<H4>Character-Translation Table</H4>
<P>
The Trans Tab control identifies the CTT associated with a font. A CTT
provides a method of remapping the extended characters used for device fonts
to the Windows ANSI set. In the Trans Tab control, negative values identify
predefined translation-tables, and positive values identify minidriver-defined
translation tables. A value of zero indicates that the CTT is identified in
the minidriver’s model data. For more information about character-translation
tables (CTTs), see <A HREF="minidrv_50.htm">Character-Translation
Table</A>.
<P>
Diconix 150 Plus: Use 0 because the font uses the CTT specified in the
ModelData dialog box.
<H4>Font Simulation Capabilities (fCaps) Dialog Box</H4>
<P>
This dialog box is not currently used since the Windows NT GDI performs font
simulation.
<P>
Diconix 150 Plus:
<P>
For the Diconix 150 Plus printer, all font simulations are supported;
therefore, none of the checkboxes were selected.
<P></FONT>
</BODY>
</HTML>
