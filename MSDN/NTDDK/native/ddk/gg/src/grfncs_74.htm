<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>EngCreatePalette</TITLE>
<style>@import url(/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="/msdn_ie3.css"></HEAD>
<BODY BGPROPERTIES="FIXED" TEXT="#000000" BGCOLOR="#FFFFFF">

<FONT FACE="ARIAL,HELVETICA" SIZE="2">
<H2><A NAME="DDK_EngCreatePalette_GG"></A>EngCreatePalette</H2>
<P>
<B>HPALETTE EngCreatePalette(</B>
<TABLE>
<TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
<B>&nbsp; &nbsp; IN ULONG  </B><I>iMode</I><B>,</B>
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
<B>&nbsp; &nbsp; IN ULONG  </B><I>cColors</I><B>,</B>
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
<B>&nbsp; &nbsp; IN PULONG  </B><I>*pulColors</I><B>,</B>
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
<B>&nbsp; &nbsp; IN FLONG  </B><I>flRed</I><B>,</B>
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
<B>&nbsp; &nbsp; IN FLONG  </B><I>flGreen</I><B>,</B>
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
<B>&nbsp; &nbsp; IN FLONG  </B><I>flBlue</I>
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
<B>&nbsp; &nbsp;);</B>
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
</FONT></TABLE>
<P>
<B>EngCreatePalette</B>&nbsp;sends a request to GDI to create a palette. The driver
associates the new palette with a device by returning a pointer to the palette
in the <A HREF="grstrcts_6.htm">DEVINFO</A>&nbsp;structure.
<H3>Parameters</H3>
<DL>
<DT>
<I>iMode</I>
<DD>
Specifies how the palette will be defined. This parameter can be one of the
following values:
<TABLE>
<TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
<B>Value</B>
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
<B>Meaning</B>
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
PAL_INDEXED
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
An array of RGB colors is provided with <I>cColors</I>&nbsp;and <I>pulColors</I>.
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
PAL_BITFIELDS
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
The palette is defined by the <I>flRed</I>, <I>flGreen</I>, and <I>flBlue</I>
parameters.
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
PAL_RGB
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
The device accepts RGB colors directly, with R as the least significant byte.
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
PAL_BGR
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
The device accepts RGB colors directly, with B as the least significant byte.
</FONT></TABLE>
<DT>
<I>cColors</I>
<DD>
If the <I>iMode</I>&nbsp;parameter is PAL_INDEXED, <I>cColors</I>&nbsp;specifies the
number of colors provided in the array pointed to by <I>pulColors</I>.
Otherwise, this parameter should be zero.
<BR>
<DT>
<I>pulColors</I>
<DD>
Points to an array of ULONG values if <I>iMode</I>&nbsp;is PAL_INDEXED. The
low-order 3 bytes of each ULONG define the RGB colors in the palette.
<BR>
<DT>
<I>flRed</I>, <I>flGreen</I>, and <I>flBlue</I>
<DD>
If the <I>iMode</I>&nbsp;parameter is PAL_BITFIELDS, these parameters are masks
that show which bits correspond to red, green, and blue. Each mask must
consist of contiguous bits and should not overlap other masks. All
combinations of bitfields are supported by GDI.
</DL>
<H3>Return Value</H3>
<P>
The return value is a handle to the new palette if the function is successful.
Otherwise, it is zero, and an error code is logged.
<H3>See Also</H3>
<P>
<A HREF="grstrcts_6.htm">DEVINFO</A>, <B><A HREF="grfncs_48.htm">DrvSetPalette</A></B>,
<B><A HREF="grfncs_82.htm">EngDeletePalette</A></B>&nbsp;
<P></FONT>
</BODY>
</HTML>
