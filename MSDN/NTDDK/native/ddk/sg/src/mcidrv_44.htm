<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Referencing Command Structures</TITLE>
<style>@import url(/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="/msdn_ie3.css"></HEAD>
<BODY BGPROPERTIES="FIXED" TEXT="#000000" BGCOLOR="#FFFFFF">

<FONT FACE="ARIAL,HELVETICA" SIZE="2">
<H4><A NAME="DDK_Referencing_Command_Structures"></A>Referencing Command Structures</H4>
<P>
Drivers should obey the following rules when referencing command data
structures:
<UL>
<LI>
Test for null structure pointers. For some commands, it is acceptable for an
application to send the command without the structure. For example, if an
application sends the “play” command without modifiers, it does not need the
structure.
<P>
<LI>
Before referencing a structure’s input members, check the <I>lParam1</I>
argument to <B><A HREF="intro_44.htm">DriverProc</A></B>&nbsp;to see if the member’s
flag is set. Data in the structure member is only valid if the approriate flag
has been set. Following is an example:
</UL>
<PRE><FONT FACE="Courier" SIZE="2">&nbsp; &nbsp; &nbsp;if (lparam1 &amp; MCI_FROM)
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; dwFrom = lparam2-&gt;dwFrom;
&nbsp;</FONT></PRE>
<P></FONT>
</BODY>
</HTML>
