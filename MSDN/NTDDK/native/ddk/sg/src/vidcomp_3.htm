<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Handling DRV_OPEN and DRV_CLOSE, Installable Compression Drivers</TITLE>
<style>@import url(/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="/msdn_ie3.css"></HEAD>
<BODY BGPROPERTIES="FIXED" TEXT="#000000" BGCOLOR="#FFFFFF">

<FONT FACE="ARIAL,HELVETICA" SIZE="2">
<H3><A NAME="DDK_Handling_DRV_OPEN_and_DRV_CLOSE.2c_.Installable_Compression_Drivers"></A>Handling DRV_OPEN and DRV_CLOSE, Compression Drivers</H3>
<P>
Like other installable drivers, client applications must open a video
compression and decompression driver before using it, and close it when
finished so the driver will be available to other applications. When a driver
receives an open request, it returns a value that the system will use for <I>dwDriverID</I>
sent with subsequent messages. When your driver receives other messages, it
can use this value to identify instance data needed for operation. Your
drivers can use this data to maintain information related to the client that
opened the driver.
<P>
Compression and decompression drivers should support more than one client
simultaneously. If you support more than one client simultaneously, though,
remember to check the <I>dwDriverID</I>&nbsp;parameter to determine which client is
being accessed.
<P>
If the driver is opened for configuration by the Drivers option of the Control
Panel, <I>lParam2</I>&nbsp;contains zero. When opened this way, your driver should
respond to the <A HREF="intro_28.htm">DRV_CONFIGURE</A>&nbsp;and <A HREF="intro_36.htm">DRV_QUERYCONFIGURE</A>
messages.
<P>
If opened for compression or decompression services, <I>lParam2</I>&nbsp;contains a
pointer to an <A HREF="vidcomp_94.htm">ICOPEN</A>&nbsp;data structure.
<P></FONT>
</BODY>
</HTML>
