<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Rendering the Data</TITLE>
<style>@import url(/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="/msdn_ie3.css"></HEAD>
<BODY BGPROPERTIES="FIXED" TEXT="#000000" BGCOLOR="#FFFFFF">

<FONT FACE="ARIAL,HELVETICA" SIZE="2">
<H4><A NAME="DDK_Rendering_the_Data"></A>Rendering the Data</H4>
<P>
The client application sends the following messages to control the driver’s
internal clock for rendering the decompressed data.
<TABLE>
<TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
<B>Message</B>
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
<B>Description</B>
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
ICM_DRAW_GETTIME
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
Obtains the value of the driver’s internal clock if it is handling the timing
of drawing frames.
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
ICM_DRAW_SETTIME
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
Sets the driver’s internal clock if it is handling the timing of drawing
frames.
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
ICM_DRAW_START
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
Starts the internal clock of a driver if it handles the timing of drawing
frames.
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
ICM_DRAW_STOP
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
Stops the internal clock of a driver if it handles the timing of drawing
frames.
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
ICM_DRAW_WINDOW
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
Informs the driver the display window has been moved, hidden, or displayed.
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
ICM_DRAW_FLUSH
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
Flushes any frames that are waiting to be drawn.
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
ICM_DRAW_RENDERBUFFER
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
Draws a frame waiting to be drawn.
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
ICM_DRAW_CHANGEPALETTE
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
Changes the palette.
</FONT></TABLE>
<P>
The client application sends<A HREF="vidcomp_67.htm">&nbsp;ICM_DRAW_START</A>&nbsp;to
have your driver start (or continue) rendering data at the rate specified by
the <A HREF="vidcomp_57.htm">ICM_DRAW_BEGIN</A>&nbsp;message. The <A HREF="vidcomp_69.htm">ICM_DRAW_STOP</A>
message pauses the internal clock. Neither of these messages use <I>dwParam1</I>,
<I>dwParam2</I>, or a return value. 
<P>
The client application uses <A HREF="vidcomp_62.htm">ICM_DRAW_GETTIME</A>&nbsp;to
obtain the value of the internal clock. Your driver returns the current-time
value (this is usually frame numbers for video) in the DWORD pointed to by <I>dwParam1</I>.
The current time is relative to the start of drawing.
<P>
The client application uses <A HREF="vidcomp_66.htm">ICM_DRAW_SETTIME</A>&nbsp;to
set the value of the internal clock. Typically, the client application uses
this message to synchronize the driver’s clock to an external clock. Your
driver should set its clock to the value (this is usually frame numbers for
video) specified in the DWORD pointed to by <I>dwParam1</I>.
<P>
The client application sends <A HREF="vidcomp_60.htm">ICM_DRAW_FLUSH</A>&nbsp;to
have your driver discard any frames that have not been drawn.
<P>
The client application sends <A HREF="vidcomp_65.htm">ICM_DRAW_RENDERBUFFER</A>
to have your driver draw the image currently buffered.
<P>
The client application sends <A HREF="vidcomp_58.htm">ICM_DRAW_CHANGEPALETTE</A>
when the palette changes in the movie.
<P></FONT>
</BODY>
</HTML>
