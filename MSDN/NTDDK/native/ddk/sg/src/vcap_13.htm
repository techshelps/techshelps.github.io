<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Setting Palettes</TITLE>
<style>@import url(/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="/msdn_ie3.css"></HEAD>
<BODY BGPROPERTIES="FIXED" TEXT="#000000" BGCOLOR="#FFFFFF">

<FONT FACE="ARIAL,HELVETICA" SIZE="2">
<H3><A NAME="DDK_Setting_Palettes"></A>Setting Palettes</H3>
<P>
Video capture drivers can allow clients to specify a logical color palette
and, optionally, an RGB555-format translation table. Two messages, <A HREF="vcap_50.htm">DVM_PALETTE</A>
and <A HREF="vcap_51.htm">DVM_PALETTERGB555</A>, are defined.
<P>
The <A HREF="vcap_50.htm">DVM_PALETTE</A>&nbsp;message allows a client to specify a
logical palette or to obtain the current palette from the driver. When a
client specifies a logical palette, the driver typically creates a translation
table by using the <B>CreatePalette</B>&nbsp;and <B>GetNearestPaletteIndex</B>
functions described in the Win32 SDK, as illustrated in the <A HREF="vcap_4.htm">sample
video capture drivers</A>. By sending a <A HREF="vcap_51.htm">DVM_PALETTERGB555</A>
message, a client can specify both a palette and an RGB555 translation table.
<P>
Drivers use the translation tables when converting frame buffer data into
DIBs. (The palette location corresponding to an RGB color is found by using an
RRRRRGGGGGBBBBB binary value as an index into the translation table, where the
five most significant bits of each color component are used to create the
index).
<P>
Drivers typically create a default palette when processing the <A HREF="intro_34.htm">DRV_OPEN</A>
message.
<P>
For more information about color palettes, see the Win32 SDK.
<P></FONT>
</BODY>
</HTML>
