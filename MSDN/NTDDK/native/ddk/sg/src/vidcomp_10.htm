<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Decompressing Video Data</TITLE>
<style>@import url(/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="/msdn_ie3.css"></HEAD>
<BODY BGPROPERTIES="FIXED" TEXT="#000000" BGCOLOR="#FFFFFF">

<FONT FACE="ARIAL,HELVETICA" SIZE="2">
<H3><A NAME="DDK_Decompressing_Video_Data"></A>Decompressing Video Data</H3>
<P>
The client application sends a series of messages to your driver to coordinate
decompressing video data. The coordination involves the following activities:
<UL>
<LI>
Setting the driver state
<P>
<LI>
Specifying the input format and determining the decompression format
<P>
<LI>
Preparing to decompress video
<P>
<LI>
Decompressing the video 
<P>
<LI>
Ending decompression
</UL>
<P>
The following messages are used by video compression and decompression drivers
for these decompression activities.
<TABLE>
<TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
<B>Message</B>
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
<B>Description</B>
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
ICM_DECOMPRESSEX
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
Decompresses a frame of data into a buffer provided by the client application.
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
ICM_DECOMPRESSEX_BEGIN
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
Prepares a driver for decompressing data.
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
ICM_DECOMPRESSEX_END
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
Cleans up after decompressing.
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
ICM_DECOMPRESS_GET_FORMAT
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
Obtains a suggestion for a good format for the decompressed data.
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
ICM_DECOMPRESSEX_QUERY
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
Determines if a driver can decompress a specific input format.
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
ICM_DECOMPRESS_GET_PALETTE
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
Returns the color table of the output data structure.
</FONT></TABLE>
<P>
The video decompressed with these messages is returned to the client
application, which handles the display of data. If you want your driver to
control the video timing or directly update the display, use the <A HREF="vidcomp_56.htm">ICM_DRAW</A>
messages. If you return the decompressed video to the client application, your
driver can decompress data using either software or hardware with the <A HREF="vidcomp_45.htm">ICM_DECOMPRESS</A>
messages.
<P></FONT>
</BODY>
</HTML>
