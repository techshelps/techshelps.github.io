<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Kernel-Mode Driver Entry Points</TITLE>
<style>@import url(/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="/msdn_ie3.css"></HEAD>
<BODY BGPROPERTIES="FIXED" TEXT="#000000" BGCOLOR="#FFFFFF">

<FONT FACE="ARIAL,HELVETICA" SIZE="2">
<H4><A NAME="DDK_Kernel_Mode_Driver_Entry_Points"></A>Kernel-Mode Driver Entry Points</H4>
<P>
All kernel-mode multimedia drivers must export a <B>DriverEntry</B>&nbsp;function.
They must also fill in the Windows NT device object’s dispatch table.
<H5><A NAME="DDK_DriverEntry_in_Kernel_Mode_Multimedia_Drivers"></A>DriverEntry in Kernel-Mode Multimedia Drivers</H5>
<P>
All kernel-mode multimedia drivers must export a <B>DriverEntry</B>&nbsp;function,
which is the first function executed after the driver is loaded. (The driver
is loaded as a result of being installed by a user-mode driver. See <A HREF="intro_21.htm">Installing
a Kernel-Mode Multimedia Driver</A>.)
<P>
<B><A HREF="intro_43.htm">DriverEntry</B>&nbsp;for
multimedia drivers</A>&nbsp;should perform such installation-time operations as
obtaining hardware configuration parameter values from the registry, reserving
system resources, and verifying that device hardware is accessible.
<P>
For more information about the <B>DriverEntry</B>&nbsp;function, see the chapters
discussing the various driver types. The chapters are listed in <A HREF="intro_1.htm">Types
of Multimedia Devices</A>.
<H5><A NAME="DDK_The_Driver_Objects_Dispatch_Table"></A>The Driver Object’s Dispatch Table</H5>
<P>
Before Windows NT calls a kernel-mode driver’s <B>DriverEntry</B>&nbsp;function, it
creates a driver object. It then passes the driver object’s address as an
input argument to <B><A HREF="intro_43.htm">DriverEntry</B>
for multimedia drivers</A>. The kernel-mode driver is responsible for filling in
the driver object’s <B>MajorFunction</B>&nbsp;member, which is a dispatch table
representing the various I/O control codes that a user-mode driver can send to
a kernel-mode driver. For more information about driver objects, which are
defined by the <A HREF="../../kr/src/k112_16.htm">DRIVER_OBJECT</A>&nbsp;structure, see the
<I>Kernel-Mode Drivers Reference</I>.
<P>
Kernel-mode multimedia drivers do not always fill in the dispatch table
directly. Sometimes, multimedia driver support libraries take care of this
operation. The support libraries are described in the chapters discussing the
various driver types. The chapters are listed in <A HREF="intro_1.htm">Types
of Multimedia Devices</A>.
<P></FONT>
</BODY>
</HTML>
