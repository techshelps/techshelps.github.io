<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>DriverEntry for Multimedia Drivers</TITLE>
<style>@import url(/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="/msdn_ie3.css"></HEAD>
<BODY BGPROPERTIES="FIXED" TEXT="#000000" BGCOLOR="#FFFFFF">

<FONT FACE="ARIAL,HELVETICA" SIZE="2">
<H2><A NAME="DDK_DriverEntry_for_Multimedia_Drivers"></A>DriverEntry for Multimedia Drivers</H2>
<P>
<B>NTSTATUS<BR>
DriverEntry(<BR>
&nbsp; &nbsp; PDRIVER_OBJECT </B><I>pDriverObject</I><B>,<BR>
&nbsp; &nbsp; PUNICODE_STRING </B><I>RegistryPathName</I><B><BR>
);</B>
<P>
The <B>DriverEntry</B>&nbsp;function is a kernel-mode driver’s entry point. For
kernel-mode multimedia drivers, the <B>DriverEntry</B>&nbsp;function’s two
parameters are defined as shown. (Other types of kernel-mode drivers might
define the function’s parameters differently.)
<H5>Parameters</H5>
<DL>
<DT>
<I>pDriverObject</I>
<DD>
Pointer to a <A HREF="../../kr/src/k112_16.htm">DRIVER_OBJECT</A>&nbsp;structure.
<BR>
<DT>
<I>RegistryPathName</I>
<DD>
Pointer to the registry path that leads to the kernel-mode driver’s subkey.
See the following <B>Comments</B>&nbsp;section.
</DL>
<H5>Return Value</H5>
<P>
Returns STATUS_SUCCESS if initialization operations succeed. Otherwise the
function returns one of the error codes defined in <I>ntstatus.h</I>&nbsp;that fail
the NT_SUCCESS macro.
<H5>Comments</H5>
<P>
Windows NT calls a kernel-mode driver’s <B>DriverEntry</B>&nbsp;function
immediately after it has loaded the driver.
<P>
The registry path pointed to by <I>RegistryPathName</I>&nbsp;is <B>HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services\</B><I>drivername</I>,
where <I>drivername</I>&nbsp;is the name that the user-mode driver specified when
it installed the kernel-mode driver. Drivers use this path for <A HREF="intro_23.htm">storing
hardware configuration parameters</A>.
<P>
For more information about <B>DriverEntry</B>, see <B><A HREF="intro_14.htm#DDK_DriverEntry_in_Kernel_Mode_Multimedia_Drivers">DriverEntry</B>
in Kernel-Mode Multimedia Drivers</A>.
<P></FONT>
</BODY>
</HTML>
