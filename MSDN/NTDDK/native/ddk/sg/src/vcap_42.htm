<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>DVM_CONFIGURESTORAGE</TITLE>
<style>@import url(/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="/msdn_ie3.css"></HEAD>
<BODY BGPROPERTIES="FIXED" TEXT="#000000" BGCOLOR="#FFFFFF">

<FONT FACE="ARIAL,HELVETICA" SIZE="2">
<H2><A NAME="DDK_DVM_CONFIGURESTORAGE"></A>DVM_CONFIGURESTORAGE</H2>
<P>
The DVM_CONFIGURESTORAGE message requests a user-mode video capture driver to
save or restore a video channel’s configuration parameters.
<H5>Parameters</H5>
<DL>
<DT>
<I>dwDriverID</I>
<DD>
Video channel identifier. One of VIDEO_EXTERNALIN, VIDEO_IN, VIDEO_OUT,
VIDEO_EXTERNALOUT. (For details, see <A HREF="vcap_9.htm">Opening
Video Channels</A>.)
<BR>
<DT>
<I>hDriver</I>
<DD>
Driver handle.
<BR>
<DT>
<I>uMsg</I>
<DD>
DVM_CONFIGURESTORAGE
<BR>
<DT>
<I>lParam1</I>
<DD>
Pointer to a client-specified unique string.
<BR>
<DT>
<I>lParam2</I>
<DD>
Contains flags. The following flags are defined:
</DL>
<TABLE>
<TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
<B>Flag</B>
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
<B>Definition</B>
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
VIDEO_CONFIGURE_GET
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
The channel’s configuration parameters should be restored from a file.
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
VIDEO_CONFIGURE_SET
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
The channel’s configuration parameters should be saved in a file.
</FONT></TABLE>
<H5>Return Value</H5>
<P>
The driver should return DV_ERR_OK if the operation succeeds. Otherwise, it
should return one of the DV_ERR error codes defined in <I>msvideo.h</I>.
Custom error codes are also allowed (see <A HREF="vcap_48.htm">DVM_GETERRORTEXT</A>).
<H5>Comments</H5>
<P>
A client sends the DVM_CONFIGURESTORAGE message by calling the driver’s <B><A HREF="intro_44.htm">DriverProc</A></B>
entry point, passing the specified parameter values. Applications can send
this message by calling the <B>videoConfigureStorage</B>&nbsp;function, which is
described in the Video for Windows Development Kit.
<P>
If the value contained in <I>lParam2 </I>is VIDEO_CONFIGURE_SET, the driver
should store the specified channel’s current configuration parameters in a
file. The file name should consist of, or be based on, the string pointed to
by <I>lParam1</I>.
<P>
If the value contained in <I>lParam2 </I>is VIDEO_CONFIGURE_GET, the driver
should read the specified channel’s saved configuration parameters from the
saved file, and use them as the channel’s current settings. You can assume the
client will specify the same <I>lParam1</I>&nbsp;value for saving and restoring the
parameters.
<P></FONT>
</BODY>
</HTML>
