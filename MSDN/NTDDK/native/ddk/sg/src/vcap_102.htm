<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>VC_SetOverlayRect</TITLE>
<style>@import url(/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="/msdn_ie3.css"></HEAD>
<BODY BGPROPERTIES="FIXED" TEXT="#000000" BGCOLOR="#FFFFFF">

<FONT FACE="ARIAL,HELVETICA" SIZE="2">
<H2><A NAME="DDK_VC_SetOverlayRect"></A>VC_SetOverlayRect</H2>
<P>
<B>BOOL<BR>
VC_SetOverlayRect(<BR>
&nbsp; &nbsp; VCUSER_HANDLE </B><I>vh</I><B>,<BR>
&nbsp; &nbsp; POVERLAY_RECTS </B><I>pOR<B><BR>
&nbsp; &nbsp; </I>);</B>
<P>
The <B>VC_SetOverlayRect</B>&nbsp;function requests a kernel-mode video capture
driver to set the overlay region of an output display.
<H5>Parameters</H5>
<DL>
<DT>
<I>vh</I>
<DD>
Handle to the kernel-mode driver, obtained from <B><A HREF="vcap_92.htm">VC_OpenDevice</A></B>.
<BR>
<DT>
<I>pOR</I>
<DD>
Pointer to an <A HREF="vcap_114.htm">OVERLAY_RECTS</A>&nbsp;structure describing
one or more overlay rectangles, using screen coordinates.
</DL>
<H5>Return Value</H5>
<P>
Returns TRUE if the operation succeeds. Otherwise, returns FALSE.
<H5>Comments</H5>
<P>
User-mode drivers <A HREF="vcap_18.htm">using <I>VCUser.lib</A></I>
typically call the <B>VC_SetOverlayRect</B>&nbsp;function when a client sends the <A HREF="vcap_44.htm">DVM_DST_RECT</A>
message for the VIDEO_EXTERNALOUT channel. The function specifies the portion
of the display device to use as an overlay area.
<P>
If the <A HREF="vcap_114.htm">OVERLAY_RECTS</A>&nbsp;structure contains a single
rectangle, the rectangle defines the overlay region. If the structure contains
more than one rectangle, the first rectangle defines the bounding rectangle
for the overlay region, and additional rectangles represent parts of the
overlay region. All rectangles are specified using screen coordinates.
<P>
The driver should specify complex (multiple) rectangles only if the
kernel-mode driver returns the VCO_COMPLEX_RECT flag when the <B><A HREF="vcap_88.htm">VC_GetOverlayMode</A></B>
function is called. The <A HREF="vcap_4.htm">sample
video capture drivers</A>&nbsp;do not accept complex rectangle specifications.
<P>
The <B>VC_SetOverlayRect </B>function calls <B>DeviceIoControl</B>&nbsp;(described
in the Win32 SDK) to send an IOCTL_VIDC_OVERLAY_RECTS control code to the
specified kernel-mode driver. When a kernel-mode driver <A HREF="vcap_29.htm">using
<I>VCKernel.lib</A></I>&nbsp;receives this control code, its <B><A HREF="vcap_155.htm">SetOverlayRectsFunc</A></B>
function is called.
<P></FONT>
</BODY>
</HTML>
