<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>ACMDM_FILTER_DETAILS</TITLE>
<style>@import url(/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="/msdn_ie3.css"></HEAD>
<BODY BGPROPERTIES="FIXED" TEXT="#000000" BGCOLOR="#FFFFFF">

<FONT FACE="ARIAL,HELVETICA" SIZE="2">
<H2><A NAME="DDK_ACMDM_FILTER_DETAILS"></A>ACMDM_FILTER_DETAILS</H2>
<P>
The ACMDM_FILTER_DETAILS message requests an ACM driver to return information
about a filter associated with a specified filter tag.
<H4>Parameters</H4>
<DL>
<DT>
<I>dwDriverID</I>
<DD>
Driver instance identifier. This is the value returned by the driver in
response to the <A HREF="intro_34.htm">DRV_OPEN</A>&nbsp;message.
<BR>
<DT>
<I>hDriver</I>
<DD>
Driver handle.
<BR>
<DT>
<I>uMsg</I>
<DD>
ACMDM_FILTER_DETAILS
<BR>
<DT>
<I>lParam1</I>
<DD>
Pointer to an ACMFILTERDETAILS structure. (ACMFILTERDETAILS is defined in <I>msacm.h</I>
and described in the Win32 SDK.)
<BR>
<DT>
<I>lParam2</I>
<DD>
Contains one of the following flags, specified by the <I>fdwDetails</I>
parameter of the <B>acmFilterDetails</B>&nbsp;function (described in the Win32
SDK):
<TABLE>
<TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
<B>Flag</B>
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
<B>Meaning</B>
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
ACM_FILTERDETAILSF_INDEX
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
Indicates the <B>dwFilterIndex</B>&nbsp;member of the ACMFILTERDETAILS structure
contains a filter index. The valid index range is from zero to one less than
the <B>cStandardFilters</B>&nbsp;member returned in the ACMFILTERTAGDETAILS
structure for the filter tag. (See <A HREF="acm_drv_26.htm">ACMDM_FILTERTAG_DETAILS</A>.)
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
ACM_FILTERDETAILSF_FILTER
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
Indicates the client has filled in the WAVEFILTER structure associated with
the ACMFILTERDETAILS structure.
</FONT></TABLE>
</DL>
<H4>Return Value</H4>
<P>
The driver should return MMSYSERR_NOERROR if the operation succeeds. Otherwise
it should return one of the MMSYSERR error codes defined in <I>mmsystem.h</I>,
or one of the ACMERR error codes defined in <I>msacm.h</I>. Possible error
codes include:
<TABLE>
<TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
<B>Error Code</B>
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
<B>Meaning</B>
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
MMSYSERR_NOTSUPPORTED
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
The driver does not support filter operations or the specified query
operation.
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
ACMERR_NOTPOSSIBLE
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
The input parameter values do not represent a valid filter or filter tag.
</FONT></TABLE>
<H4>Comments</H4>
<P>
A client sends the ACMDM_FILTER_DETAILS message by calling the driver’s <B><A HREF="intro_44.htm">DriverProc</A></B>
entry point, passing the specified parameters. The ACM sends this message when
an application calls <B>acmFilterDetails</B>, which is described in the Win32
SDK.
<P>
An ACM driver that provides filters must support this message.
<P>
The client can do either of the following:
<UL>
<LI>
Specify a filter index, in order to obtain a description of the filter
associated with the index.
<P>
<LI>
Specify a filter description, in order to validate the filter and obtain the
filter’s string description.
</UL>
<P>
The client specifies the filter tag in the ACMFILTERDETAILS structure’s <B>dwFilterTag</B>
member. The driver returns information for a particular filter belonging to
the filter tag, as follows:
<UL>
<LI>
If the ACM_FILTERDETAILSF_INDEX flag is set, the client has specified an index
value in the ACMFILTERDETAILS structure’s <B>dwFilterIndex</B>&nbsp;member. The
driver fills in the WAVEFILTER structure for the filter associated with the
specified index value. It also fills in the ACMFILTERDETAILS structure’s <B>szFilter</B>,
<B>fdwSupport</B>, and <B>cbStruct</B>&nbsp;members.
<P>
<LI>
If the ACM_FILTERDETAILSF_FILTER flag is set, the client has filled in the
WAVEFILTER structure. The driver validates the structure contents and, if the
contents are valid, fills in the ACMFILTERDETAILS structure’s <B>szFilter</B>,
<B>fdwSupport</B>, and <B>cbStruct</B>&nbsp;members.
</UL>
<P>
Before calling the driver’s <B>DriverProc</B>&nbsp;function, the ACM verifies that:
<UL>
<LI>
The ACMFILTERDETAILS structure and its associated WAVEFILTER structure are
readable and writeable.
<P>
<LI>
The size of the ACMFILTERDETAILS structure, contained in its <B>cbStruct</B>
member, is at least the structure’s defined size. (The structure’s size can be
larger than its defined size, to allow for a longer <B>szFilter</B>&nbsp;member or
to allow newer, larger structure definitions to be used within drivers under
development.)
<P>
<LI>
The size of the WAVEFILTER structure pointed to by the ACMFILTERDETAILS
structure’s <B>pwfltr</B>&nbsp;member is at least as large as the generic
WAVEFILTER structure’s defined size. (See <B>The WAVEFILTER Structure</B>
below.)
<P>
<LI>
The ACMFILTERDETAILS structure’s <B>fdwSupport</B>&nbsp;member contains zero.
<P>
<LI>
The <I>lParam2</I>&nbsp;parameter contains a valid flag value.
</UL>
<P>
Before returning, the driver must set the ACMFILTERDETAILS structure’s <B>cbStruct</B>
member to the actual number of bytes returned. The value returned in <B>cbStruct</B>
must not be greater than the value received from the client.
<P>
For more information about filter tags and filter structures, see <A HREF="acm_drv_4.htm">Format
Tags and Filter Tags</A>&nbsp;and <A HREF="acm_drv_14.htm">Defining
Format Structures and Filter Structures</A>.
<H5><A NAME="DDK_The_WAVEFILTER_Structure"></A>The WAVEFILTER Structure</H5>
<P>
The WAVEFILTER structure is a generic structure for describing a filter.
Generally, you will extend this structure for your specific filter type, as
has been done in the <A HREF="acm_drv_5.htm#DDK_Microsoft_Audio_Filter">Microsoft Audio
Filter</A>. (For examples, see VOLUMEWAVEFILTER and ECHOWAVEFILTER in <I>mmreg.h</I>.)
When a client sends an ACMDM_FILTER_DETAILS message, it specifies the address
of a structure that you have defined for the specified filter type. This
structure is typically larger than the generic WAVEFILTER structure.
<P></FONT>
</BODY>
</HTML>
