<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>SoundReportResourceUsage</TITLE>
<style>@import url(/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="/msdn_ie3.css"></HEAD>
<BODY BGPROPERTIES="FIXED" TEXT="#000000" BGCOLOR="#FFFFFF">

<FONT FACE="ARIAL,HELVETICA" SIZE="2">
<H2><A NAME="DDK_SoundReportResourceUsage"></A>SoundReportResourceUsage</H2>
<P>
<B>NTSTATUS<BR>
&nbsp; &nbsp; SoundReportResourceUsage(<BR>
&nbsp; &nbsp; &nbsp; &nbsp; IN PDEVICE_OBJECT </B><I>DeviceObject</I><B>,<BR>
&nbsp; &nbsp; &nbsp; &nbsp; IN INTERFACE_TYPE </B><I>BusType</I><B>,<BR>
&nbsp; &nbsp; &nbsp; &nbsp; IN ULONG </B><I>BusNumber</I><B>,<BR>
&nbsp; &nbsp; &nbsp; &nbsp; IN PULONG </B><I>InterruptNumber</I><B>&nbsp;OPTIONAL,<BR>
&nbsp; &nbsp; &nbsp; &nbsp; IN KINTERRUPT_MODE </B><I>InterruptMode</I><B>,<BR>
&nbsp; &nbsp; &nbsp; &nbsp; IN BOOLEAN </B><I>InterruptShareDisposition</I><B>,<BR>
&nbsp; &nbsp; &nbsp; &nbsp; IN PULONG </B><I>DmaChannel</I><B>&nbsp;OPTIONAL,<BR>
&nbsp; &nbsp; &nbsp; &nbsp; IN PULONG </B><I>FirstIoPort </I><B>OPTIONAL,<BR>
&nbsp; &nbsp; &nbsp; &nbsp; IN ULONG </B><I>IoPortLength</I><B><BR>
&nbsp; &nbsp; &nbsp; &nbsp; );</B>
<P>
The <B>SoundReportResourceUsage</B>&nbsp;function reserves hardware resources for
use by the specified device or driver. This function does not allow
reservation of resources already reserved for another device or driver.
<H5>Parameters</H5>
<DL>
<DT>
<I>DeviceObject</I>
<DD>
Pointer to either a <A HREF="../../kr/src/k112_15.htm">DEVICE_OBJECT</A>&nbsp;or <A HREF="../../kr/src/k112_16.htm">DRIVER_OBJECT</A>
structure. Represents the device or driver for which resources will be
reserved.
<BR>
<DT>
<I>BusType</I>
<DD>
Type of bus the device is on. INTERFACE_TYPE is defined in <I>ntddk.h</I>.
<BR>
<DT>
<I>BusNumber</I>
<DD>
Number of the bus the device is on.
<BR>
<DT>
<I>InterruptNumber</I>
<DD>
Pointer to the interrupt number, or NULL if no interrupt.
<BR>
<DT>
<I>InterruptMode</I>
<DD>
Interrupt mode (<B>Latched</B>&nbsp;or <B>LevelSensitive</B>). Ignored if <I>InterruptNumber</I>
is NULL. KINTERRUPT_MODE is defined in <I>ntddk.h</I>.
<BR>
<DT>
<I>InterruptShareDisposition</I>
<DD>
TRUE if interrupt can be shared, FALSE otherwise. Ignored if <I>InterruptNumber</I>
is NULL.
<BR>
<DT>
<I>DmaChannel</I>
<DD>
Pointer to the device’s DMA channel, or NULL if there is no DMA channel.
<BR>
<DT>
<I>FirstIoPort</I>
<DD>
Pointer to the device’s first I/O port address, or NULL if there are no I/O
ports.
<BR>
<DT>
<I>IoPortLength</I>
<DD>
Number of bytes of I/O space the device uses, starting at <I>FirstIoPort</I>.
Ignored if <I>FirstIoPort</I>&nbsp;is NULL.
</DL>
<H5>Return Value</H5>
<P>
Returns one of the following values.
<TABLE>
<TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
<B>Value</B>
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
<B>Definition</B>
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
STATUS_SUCCESS
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
Success.
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
STATUS_DEVICE_CONFIGURATION_ERROR
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
Resources already assigned.
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
STATUS_INSUFFICIENT_RESOURCES
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
Resources unavailable.
</FONT></TABLE>
<H5>Comments</H5>
<P>
Before attempting to access device hardware, call <B>SoundReportResourceUsage</B>
to ensure the resources you intend to use are not already assigned to another
device.
<P>
You can associate resources with either the driver object or with one of the
device objects created by <B><A HREF="audiodrv_166.htm">SoundCreateDevice</A></B>.
If the driver supports multiple cards, you must associate resources with
device objects.
<P>
Each time you call <B>SoundReportResourceUsage</B>&nbsp;for a particular device
object or driver object, you override the resource reservation made with any
previous call for the same object.
<P>
Typically, a driver acquires resources for each device in turn, and then calls
<B>SoundReportResourceUsage</B>&nbsp;a final time to declare (to the rest of the
system) all the resources used by the card instance.
<P>
To free reserved resources, call <B><A HREF="audiodrv_173.htm">SoundFreeDevice</A></B>.
<P></FONT>
</BODY>
</HTML>
