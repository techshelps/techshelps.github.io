<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>VC_SetOverlayOffset</TITLE>
<style>@import url(/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="/msdn_ie3.css"></HEAD>
<BODY BGPROPERTIES="FIXED" TEXT="#000000" BGCOLOR="#FFFFFF">

<FONT FACE="ARIAL,HELVETICA" SIZE="2">
<H2><A NAME="DDK_VC_SetOverlayOffset"></A>VC_SetOverlayOffset</H2>
<P>
<B>BOOL<BR>
VC_SetOverlayOffset(<BR>
&nbsp; &nbsp; VCUSER_HANDLE </B><I>vh</I><B>,<BR>
&nbsp; &nbsp; PRECT </B><I>prc<B><BR>
&nbsp; &nbsp; </I>);</B>
<P>
The <B>VC_SetOverlayOffset</B>&nbsp;function requests a kernel-mode video capture
driver to set the overlay offset rectangle. This rectangle defines which
portion of the frame buffer appears in the overlay window.
<H5>Parameters</H5>
<DL>
<DT>
<I>vh</I>
<DD>
Handle to the kernel-mode driver, obtained from <B><A HREF="vcap_92.htm">VC_OpenDevice</A></B>.
<BR>
<DT>
<I>prc</I>
<DD>
Pointer to a RECT structure containing screen coordinates that describe the
offset rectangle. (The RECT structure is described in the Win32 SDK.)
</DL>
<H5>Return Value</H5>
<P>
Returns TRUE if the operation succeeds. Otherwise, returns FALSE.
<H5>Comments</H5>
<P>
User-mode drivers <A HREF="vcap_18.htm">using <I>VCUser.lib</A></I>
typically call <B>VC_SetOverlayOffset</B>&nbsp;when a client sends the <A HREF="vcap_52.htm">DVM_SRC_RECT</A>
message for the VIDEO_EXTERNALOUT channel. If the source image is larger than
the overlay window, the client typically provides scroll bars to allow the
user to pan across the source image, and sends DVM_SRC_RECT messages when the
user scrolls the view.
<P>
The <I>prc</I>&nbsp;parameter specifies the portion of the frame buffer to send to
the overlay window. The kernel-mode driver should display the top left corner
of the specified offset rectangle in the top left corner of the overlay
window.
<P>
The <B>VC_SetOverlayOffset </B>function calls <B>DeviceIoControl</B>
(described in the Win32 SDK) to send an IOCTL_VIDC_OVERLAY_OFFSET control code
to the specified kernel-mode driver. When a kernel-mode driver <A HREF="vcap_29.htm">using
<I>VCKernel.lib</A></I>&nbsp;receives this control code, its <B><A HREF="vcap_154.htm">SetOverlayOffsetFunc</A></B>
function is called.
<P></FONT>
</BODY>
</HTML>
