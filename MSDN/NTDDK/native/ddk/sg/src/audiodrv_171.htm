<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>SoundEnumSubkeys</TITLE>
<style>@import url(/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="/msdn_ie3.css"></HEAD>
<BODY BGPROPERTIES="FIXED" TEXT="#000000" BGCOLOR="#FFFFFF">

<FONT FACE="ARIAL,HELVETICA" SIZE="2">
<H2><A NAME="DDK_SoundEnumSubkeys"></A>SoundEnumSubkeys</H2>
<P>
<B>NTSTATUS<BR>
&nbsp; &nbsp; SoundEnumSubkeys(<BR>
&nbsp; &nbsp; &nbsp; &nbsp; IN PUNICODE_STRING </B><I>RegistryPathName</I><B>,<BR>
&nbsp; &nbsp; &nbsp; &nbsp; IN PWSTR </B><I>Subkey</I><B>,<BR>
&nbsp; &nbsp; &nbsp; &nbsp; IN PSOUND_REGISTRY_CALLBACK_ROUTINE </B><I>Callback</I><B>,<BR>
&nbsp; &nbsp; &nbsp; &nbsp; IN PVOID </B><I>Context</I><B><BR>
&nbsp; &nbsp; &nbsp; &nbsp; );</B>
<P>
The <B>SoundEnumSubkeys</B>&nbsp;function enumerates the subkeys under the
specified subkey, which is in the specified registry path. For each subkey
found under the specified subkey, <B>SoundEnumSubkeys</B>&nbsp;calls the specified
callback function.
<H5>Parameters</H5>
<DL>
<DT>
<I>RegistryPathName</I>
<DD>
Pointer to a string representing the registry path to the driver subkey. Use
the path name received as the <I>RegistryPathName</I>&nbsp;argument to <B>DriverEntry</B>.
<BR>
<DT>
<I>SubKey</I>
<DD>
Pointer to a string representing the subkey at end of the path specified by <I>RegistryPathName</I>.
<B>SoundEnumSubkeys</B>&nbsp;enumerates subkeys under this subkey.
<BR>
<DT>
<I>Callback</I>
<DD>
Pointer to a function to call for each subkey found under <I>Subkey</I>. The
function type is <A HREF="audiodrv_226.htm">SOUND_REGISTRY_CALLBACK_ROUTINE</A>.
<BR>
<DT>
<I>Context</I>
<DD>
Pointer to a driver-specified context parameter. This parameter is passed to
the function pointed to by <I>Callback</I>.
</DL>
<H5>Return Value</H5>
<P>
If the function detects a failure, it returns an NTSTATUS error code.
Otherwise it returns the value returned by the callback function. If the
callback function succeeds, it should return STATUS_SUCCESS. Otherwise it
should return an NTSTATUS error code.
<H5>Comments</H5>
<P>
Use the <B>SoundEnumSubkeys</B>&nbsp;function when performing device initialization
operations, if your driver supports multiple hardware devices. If you specify
“Parameters” for the <I>Subkey</I>&nbsp;parameter, the function calls the callback
function for each “device” subkey under <B>\Parameters</B>. For an example,
see <A HREF="audiodrv_27.htm">Examining <B>DriverEntry</B>
in <I>sndblst.sys</A></I>. (The device entries under the <B>\Parameters </B>subkey
are created by user-mode drivers, typically by calling <B><A HREF="audiodrv_144.htm">DrvCreateDeviceKey</A></B>.)
<P>
<B>SoundEnumSubkeys</B>&nbsp;passes a registry path name to the callback function
(see <A HREF="audiodrv_226.htm">SOUND_REGISTRY_CALLBACK_ROUTINE</A>).This
path name is the path name received as the <I>RegistryPathName</I>&nbsp;argument,
with <B>\Parameters\Device</B><I>Number</I>&nbsp;appended.
<P>
The callback function returns an NTSTATUS value. If, for any call to the
callback function, the return value is not STATUS_SUCCESS, then <B>SoundEnumSubkeys</B>
immediately returns to its caller, passing back the return value received from
the callback function.
<P>
Drivers which do not support multiple hardware devices do not call <B>SoundEnumSubkeys</B>.
Instead, they should call <B><A HREF="audiodrv_197.htm">SoundSaveRegistryPath</A></B>
as part of their initialization operation, in order to create a registry path
name that can be used as input to other <I>soundlib.lib</I>&nbsp;functions.
<P></FONT>
</BODY>
</HTML>
