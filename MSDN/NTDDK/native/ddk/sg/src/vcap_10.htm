<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Configuring Video Channels</TITLE>
<style>@import url(/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="/msdn_ie3.css"></HEAD>
<BODY BGPROPERTIES="FIXED" TEXT="#000000" BGCOLOR="#FFFFFF">

<FONT FACE="ARIAL,HELVETICA" SIZE="2">
<H3><A NAME="DDK_Configuring_Video_Channels"></A>Configuring Video Channels</H3>
<P>
User-mode video capture drivers can allow users to specify configuration
parameters for each video channel. After a client opens a channel, it can send
a <A HREF="vcap_43.htm">DVM_DIALOG</A>&nbsp;message for the opened channel. In
response to the message, the driver displays a dialog box that allows the user
to specify parameters for the channel type. Typically, the driver provides a
different dialog box for each channel type. If the driver does not support a
channel type, or the driver does not allow user modification to the channel’s
parameters, it can return the DV_ERR_NOTSUPPORTED error code.
<P>
The sample video capture driver, <I>bravado.dll</I>, uses dialog boxes to
obtain the following channel configuration information.
<TABLE>
<TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
<B>Channel</B>
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
<B>Information Obtained</B>
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
VIDEO_EXTERNALIN
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
Hue, video source standard, connector number, cable format.
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
VIDEO_IN
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
Data format, destination image size. (Also see <A HREF="vcap_11.htm">Setting
the Video Data Format</A>.)
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
VIDEO_OUT
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
Not supported.
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
VIDEO_EXTERNALOUT
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
Saturation, brightness, contrast, red, green, blue.
</FONT></TABLE>
<P>
User-mode drivers should store channel configuration parameters for each user
by writing them into the registry, under the path <B>HKEY_CURRENT_USER
\Software \Microsoft \Multimedia \Video Capture \</B><I>DriverName, </I>where <I>DriverName</I>
represents the name of your driver. For more information about obtaining and
storing channel configuration parameters, see <A HREF="vcap_22.htm">Configuring
Video Channels, Using <I>VCUser.lib</A></I>.
<P>
The driver should provide default values for all channel configuration
parameters, and it should use the default values if it has not stored values
for the current user in the previously listed registry path.
<P>
Changing the format can alter the dimensions of the active portion of the
frame buffer, and can also affect bit depth and color space representation.
Additionally, changing between NTSC and PAL video standards can affect image
dimensions. Therefore, clients typically send a <A HREF="vcap_45.htm">DVM_FORMAT</A>
message to request the current format after they have sent a <A HREF="vcap_43.htm">DVM_DIALOG</A>
message for the VIDEO_EXTERNALIN channel.
<P>
Clients can also request a driver to store a channel’s configuration
parameters in a file, or to restore the parameters from a previously created
file, by sending a <A HREF="vcap_42.htm">DVM_CONFIGURESTORAGE</A>
message.
<P></FONT>
</BODY>
</HTML>
