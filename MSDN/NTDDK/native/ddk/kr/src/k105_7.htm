<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>KeDelayExecutionThread</TITLE>
<style>@import url(/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="/msdn_ie3.css"></HEAD>
<BODY BGPROPERTIES="FIXED" TEXT="#000000" BGCOLOR="#FFFFFF">

<FONT FACE="ARIAL,HELVETICA" SIZE="2">
<H2><A NAME="DDK_KeDelayExecutionThread_KR"></A>KeDelayExecutionThread</H2>
<P>
<B>NTSTATUS <BR>
&nbsp; &nbsp; KeDelayExecutionThread(</B><BR>
&nbsp; &nbsp; &nbsp; &nbsp; <B>IN KPROCESSOR_MODE</B>&nbsp; <I>WaitMode</I><B>,<BR>
</B>&nbsp; &nbsp; &nbsp; &nbsp; <B>IN BOOLEAN</B>&nbsp; <I>Alertable</I><B>,<BR>
</B>&nbsp; &nbsp; &nbsp; &nbsp; <B>IN PLARGE_INTEGER</B>&nbsp; <I>Interval</I><BR>
&nbsp; &nbsp; &nbsp; &nbsp; <B>);</B>
<P>
<B>KeDelayExecutionThread</B>&nbsp;puts the current thread into an alertable or
nonalertable wait state for a given interval.
<H3>Parameters</H3>
<DL>
<DT>
<I>WaitMode</I>
<DD>
Specifies the processor mode in which the caller is waiting, which can be
either <B>KernelMode</B>&nbsp;or <B>UserMode</B>. Lower-level drivers should
specify <B>KernelMode</B>.
<BR>
<DT>
<I>Alertable</I>
<DD>
Specifies TRUE if the wait is alertable. Lower-level drivers should specify
FALSE.
<BR>
<DT>
<I>Interval</I>
<DD>
Specifies the absolute or relative time, in units of 100 nanoseconds, for
which the wait is to occur. A negative value indicates relative time. Absolute
expiration times track any changes in system time; relative expiration times
are not affected by system time changes.
</DL>
<H3>Return Value</H3>
<P>
The return value of <B>KeDelayExecutionThread</B>&nbsp;identifies how the delay was
completed, and can be one of the following:
<TABLE>
<TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
<B>Value</B>
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
<B>Meaning</B>
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
STATUS_SUCCESS
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
The delay was completed because the specified interval elapsed.
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
STATUS_ALERTED
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
The delay was completed because the thread was alerted.
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
STATUS_USER_APC
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
A user-mode APC was delivered before the given <I>Interval </I>expired.
</FONT></TABLE>
<H3>Comments</H3>
<P>
The expiration time is computed and the current thread is put in a wait state.
When the specified interval has passed, the thread exits the wait state and is
put in the ready state, becoming eligible for execution.
<P>
The <I>Alertable</I>&nbsp;parameter specifies whether the thread can be alerted in
the wait state. If the value of this parameter is TRUE and the thread is
alerted for a mode that is equal to or more privileged than the given <I>WaitMode</I>,
the thread’s wait will be satisfied with a completion status of
STATUS_ALERTED.
<P>
If the <I>WaitMode</I>&nbsp;parameter is <B>UserMode</B>&nbsp;and the <I>Alertable</I>
parameter is TRUE, the thread can also be awakened to deliver a user-mode APC.
Kernel-mode APCs always cause the subject thread to be awakened if the wait
IRQL is PASSIVE_LEVEL and no kernel APC is in progress.
<P>
The expiration time of the delay is expressed as either an absolute time at
which the delay is to expire, or a time relative to the current system time.
If the <I>Interval</I>&nbsp;parameter is a negative value, the expiration time is
relative.
<P>
Callers of <B>KeDelayExecutionThread</B>&nbsp;must be running at IRQL &lt;
DISPATCH_LEVEL.
<H3>See Also</H3>
<P>
<B><A HREF="k105_29.htm">KeQuerySystemTime</A></B>&nbsp;
<P></FONT>
</BODY>
</HTML>
