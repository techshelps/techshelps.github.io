<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>TapeClassPhysicalBlockToLogicalBlock</TITLE>
<style>@import url(/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="/msdn_ie3.css"></HEAD>
<BODY BGPROPERTIES="FIXED" TEXT="#000000" BGCOLOR="#FFFFFF">

<FONT FACE="ARIAL,HELVETICA" SIZE="2">
<H2><A NAME="DDK_TapeClassPhysicalBlockToLogicalBlock_KR"></A>TapeClassPhysicalBlockToLogicalBlock</H2>
<P>
<B>ULONG<BR>
&nbsp; &nbsp; TapeClassPhysicalBlockToLogicalBlock(<BR>
&nbsp; &nbsp; &nbsp; &nbsp; IN UCHAR  </B><I>DensityCode</I><B>,<BR>
&nbsp; &nbsp; &nbsp; &nbsp; IN ULONG  </B><I>PhysicalBlockAddress</I><B>,<BR>
&nbsp; &nbsp; &nbsp; &nbsp; IN ULONG  </B><I>BlockLength</I><B>,<BR>
&nbsp; &nbsp; &nbsp; &nbsp; IN BOOLEAN  </B><I>FromBOT</I><B><BR>
&nbsp; &nbsp; &nbsp; &nbsp; );</B>
<P>
<B>TapeClassPhysicalBlockToLogicalBlock</B>&nbsp;translates a physical block
address to a pseudological block address. This routine is for SCSI-I devices.
<H3>Parameters</H3>
<DL>
<DT>
<I>DensityCode</I>
<DD>
Specifies the tape media density code. This routine supports tapes with the
following density codes: QIC_24, QIC_120, QIC_150, QIC_525, QIC_1000, QIC_2GB,
QIC_1350, and QIC_2100.
<BR>
<DT>
<I>PhysicalBlockAddress</I>
<DD>
Specifies the physical block address obtained by a SCSI READ POSITION command.
<BR>
<DT>
<I>BlockLength</I>
<DD>
Specifies the logical block size, in bytes.
<BR>
<DT>
<I>FromBOT</I>
<DD>
TRUE indicates that the logical block calculation should start at the
beginning of the tape and account for the physical device header. FALSE
indicates that the tape has two partitions, that the block address is on the
directory partition, and therefore no physical device header needs to be
factored into the calculation.
</DL>
<H3>Return Value</H3>
<P>
<B>TapeClassPhysicalBlockToLogicalBlock</B>&nbsp;returns the logical block address.
<H3>Comments</H3>
<P>
A tape miniclass driver calls <B>TapeClassPhysicalBlockToLogicalBlock</B>&nbsp;to
translate a physical block address from a tape device to a logical block
address for an application. <B>TapeClassPhysicalBlockToLogicalBlock</B>&nbsp;is not
necessary for SCSI-II drivers because SCSI-II devices support logical block
addressing.
<P>
If a tape miniclass driver calls this routine with an unsupported tape density
code, <B>TapeClassPhysicalBlockToLogicalBlock </B>returns the physical block
address in the return value, without performing any translation.
<H3>See Also</H3>
<P>
<B><A HREF="k303_4.htm">TapeClassLogicalBlockToPhysicalBlock</A></B>
<P></FONT>
</BODY>
</HTML>
