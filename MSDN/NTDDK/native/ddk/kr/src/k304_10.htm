<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>TapeMiniPreProcessReadWrite</TITLE>
<style>@import url(/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="/msdn_ie3.css"></HEAD>
<BODY BGPROPERTIES="FIXED" TEXT="#000000" BGCOLOR="#FFFFFF">

<FONT FACE="ARIAL,HELVETICA" SIZE="2">
<H2><A NAME="DDK_TapeMiniPreProcessReadWrite_KR"></A>TapeMiniPreProcessReadWrite</H2>
<P>
<B>TAPE_STATUS <BR>
&nbsp; &nbsp; TapeMiniPreProcessReadWrite(</B><BR>
&nbsp; &nbsp; &nbsp; &nbsp; <B>IN OUT PVOID</B>&nbsp; <I>MinitapeExtension</I><B>,</B>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; /* optional */<BR>
&nbsp; &nbsp; &nbsp; &nbsp; <B>IN OUT PVOID</B>&nbsp; <I>CommandExtension</I><B>,</B>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; /*
not used */<I><BR>
&nbsp; &nbsp; &nbsp; &nbsp; </I><B>IN OUT PVOID</B>&nbsp; <I>CommandParameters</I><B>,</B>&nbsp; &nbsp; &nbsp; &nbsp; /*
not used */<I><BR>
</I>&nbsp; &nbsp; &nbsp; &nbsp; <B>IN OUT PSCSI_REQUEST_BLOCK  </B><I>Srb</I><B>,</B><I><BR>
</I>&nbsp; &nbsp; &nbsp; &nbsp; <B>IN ULONG</B>&nbsp; <I>CallNumber</I><B>,</B>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; /*
not used */<I><BR>
</I>&nbsp; &nbsp; &nbsp; &nbsp; <B>IN TAPE_STATUS</B>&nbsp; <I>StatusOfLastCommand</I><B>,</B>&nbsp; &nbsp; &nbsp; &nbsp; /* not used */<BR>
&nbsp; &nbsp; &nbsp; &nbsp; <B>IN OUT PULONG</B>&nbsp; <I>RetryFlags</I>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; /* not used */<BR>
&nbsp; &nbsp; &nbsp; &nbsp; <B>);</B>
<P>
TapeMiniPreProcessReadWrite is an optional, special-purpose routine that
executes device-specific operations required before read and write operations.
Most tape miniclass drivers do not need this routine.
<H3>Parameters</H3>
<DL>
<DT>
<I>MinitapeExtension</I>
<DD>
Points to the driver-specific minitape extension. The pointer is NULL if the
miniclass driver did not specify a minitape extension.
<BR>
<DT>
<I>CommandExtension</I>
<DD>
Not used
<BR>
<DT>
<I>CommandParameters</I>
<DD>
Not used.
<BR>
<DT>
<I>Srb</I>
<DD>
Points to the SRB for the read or write operation. This routine should not
modify the SRB.
<BR>
<DT>
<I>CallNumber</I>
<DD>
Not used.
<BR>
<DT>
<I>StatusOfLastCommand</I>
<DD>
Not used.
<BR>
<DT>
<I>RetryFlags</I>
<DD>
Not used.
</DL>
<H3>Return Value</H3>
<P>
TapeMiniPreProcessReadWrite can return any TAPE_STATUS_<I>XXX</I>&nbsp;value. The
tape class driver ignores the return value.
<H3>Comments</H3>
<P>
The activities of the TapeMiniPreProcessReadWrite routine are device specific.
The routine can use the information passed to it by the class driver to
implement special preprocessing for reads and writes. If a drive has limited
capabilities, the driver may need this routine to maintain coherent state, for
example.
<P>
If this routine is nonNULL in TAPE_INIT_DATA, the tape class driver calls it
before each read and write operation on the tape device. The class driver does
not expect any information back from this routine.
<P></FONT>
</BODY>
</HTML>
