<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>ExAllocateFromNPagedLookasideList</TITLE>
<style>@import url(/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="/msdn_ie3.css"></HEAD>
<BODY BGPROPERTIES="FIXED" TEXT="#000000" BGCOLOR="#FFFFFF">

<FONT FACE="ARIAL,HELVETICA" SIZE="2">
<H2><A NAME="DDK_ExAllocateFromNPagedLookasideList_KR"></A>ExAllocateFromNPagedLookasideList</H2>
<P>
<B>PVOID <BR>
&nbsp; &nbsp; ExAllocateFromNPagedLookasideList(</B><BR>
&nbsp; &nbsp; &nbsp; &nbsp; <B>IN PNPAGED_LOOKASIDE_LIST</B>&nbsp; <I>Lookaside</I><BR>
&nbsp; &nbsp; &nbsp; &nbsp; <B>);</B>
<P>
<B>ExAllocateFromNPagedLookasideList</B>&nbsp;removes the first entry from the
specified lookaside list in nonpaged memory. If the lookaside list is empty,
an entry is allocated from nonpaged pool.
<H3>Parameters</H3>
<DL>
<DT>
<I>Lookaside</I>
<DD>
Points to the header of the lookaside list from which the entry will be
allocated.
</DL>
<H3>Return Value</H3>
<P>
<B>ExAllocateFromNPagedLookasideList</B>&nbsp;returns a pointer to an entry if one
can be allocated; otherwise it returns NULL.
<H3>Comments</H3>
<P>
If the lookaside list is not empty, <B>ExAllocateFromNPagedLookasideList</B>
removes the first entry from the list and returns its address to the caller.
If the lookaside list is empty, <B>ExAllocateFromNPagedLookasideList</B>&nbsp;calls
the allocate routine specified at list initialization to allocate another
entry from nonpaged pool and returns its address to the caller. If no custom
allocate routine was specified, this routine calls <B>ExAllocatePoolWithTag</B>.
If the allocate routine cannot allocate an entry, <B>ExAllocateFromNPagedLookasideList</B>
returns NULL.
<P>
Callers of <B>ExAllocateFromNPagedLookasideList</B>&nbsp;must be running at IRQL
&lt;= DISPATCH_LEVEL.
<H3>See Also</H3>
<P>
<B><A HREF="k102_29.htm">ExInitializeNPagedLookasideList</A></B>,
<B><A HREF="k102_22.htm">ExFreeToNPagedLookasideList</A></B>
<P></FONT>
</BODY>
</HTML>
