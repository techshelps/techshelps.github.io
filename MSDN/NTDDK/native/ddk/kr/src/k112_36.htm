<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>PCI_COMMON_CONFIG</TITLE>
<style>@import url(/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="/msdn_ie3.css"></HEAD>
<BODY BGPROPERTIES="FIXED" TEXT="#000000" BGCOLOR="#FFFFFF">

<FONT FACE="ARIAL,HELVETICA" SIZE="2">
<H2><A NAME="DDK_PCI_COMMON_CONFIG_KR"></A>PCI_COMMON_CONFIG</H2>
<PRE><FONT FACE="Courier" SIZE="2">typedef struct _PCI_COMMON_CONFIG {
&nbsp; &nbsp; USHORT VendorID;&#09;
&nbsp; &nbsp; USHORT DeviceID;
&nbsp; &nbsp; USHORT Command;
&nbsp; &nbsp; USHORT Status;
&nbsp; &nbsp; UCHAR RevisionID;
&nbsp; &nbsp; UCHAR ProgIf;
&nbsp; &nbsp; UCHAR SubClass;
&nbsp; &nbsp; UCHAR BaseClass;&#09;
&nbsp; &nbsp; UCHAR CacheLineSize;&#09;
&nbsp; &nbsp; UCHAR LatencyTimer;&#09;
&nbsp; &nbsp; UCHAR HeaderType;
&nbsp; &nbsp; UCHAR BIST;&#09;

&nbsp; &nbsp; union {
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;struct _PCI_HEADER_TYPE_0 {
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;ULONG BaseAddresses[PCI_TYPE0_ADDRESSES];
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;ULONG Reserved1[2];
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;ULONG ROMBaseAddress;
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;ULONG Reserved2[2];
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;UCHAR InterruptLine;
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;UCHAR InterruptPin;
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;UCHAR MinimumGrant;
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;UCHAR MaximumLatency;
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;} type0;
&nbsp; &nbsp; &nbsp;} u;
&nbsp; &nbsp; &nbsp;UCHAR DeviceSpecific[192];
} PCI_COMMON_CONFIG, *PPCI_COMMON_CONFIG;
</FONT></PRE>
<P>
PCI_COMMON_CONFIG defines standard PCI configuration information returned by <B>HalGetBusData</B>
or<B>&nbsp;HalGetBusDataByOffset</B>&nbsp;for the input <I>BusDataType</I>&nbsp;<B>PCIConfiguration</B>,
assuming the caller-allocated <I>Buffer</I>&nbsp;is of sufficient <I>Length</I>.
<H3>Members</H3>
<DL>
<DT>
<B>VendorID</B>
<DD>
Identifies the manufacturer of the device. This must be a value allocated by
the PCI SIG.
<BR>
<DT>
<B>DeviceID</B>
<DD>
Identifies the particular device. This value is assigned by the manufacturer.
<BR>
<DT>
<B>Command</B>
<DD>
Accesses the PCI device’s control register. Writing a zero to this register
renders the device logically disconnected from the PCI bus except for
configuration access. Otherwise, the functionality of the register is
device-dependent. Possible system-defined bit encodings for this member
include:
<P>
PCI_ENABLE_IO_SPACE<BR>
PCI_ENABLE_MEMORY_SPACE<BR>
PCI_ENABLE_BUS_MASTER<BR>
PCI_ENABLE_SPECIAL_CYCLES<BR>
PCI_ENABLE_WRITE_AND_VALIDATE<BR>
PCI_ENABLE_VGA_COMPATIBLE_PALETTE<BR>
PCI_ENABLE_PARITY<BR>
PCI_ENABLE_WAIT_CYCLE<BR>
PCI_ENABLE_SERR<BR>
PCI_ENABLE_FAST_BACK_TO_BACK
<BR>
<DT>
<B>Status</B>
<DD>
Accesses the PCI device’s status register. The functionality of this register
is device-dependent. Possible system-defined bit encodings for this member
include:
<P>
PCI_STATUS_FAST_BACK_TO_BACK &#09;&#09;// read-only<BR>
PCI_STATUS_DATA_PARITY_DETECTED<BR>
PCI_STATUS_DEVSEL&#09;&#09;&#09;&#09;&#09;&#09;&#09;&#09;// 2 bits wide<BR>
PCI_STATUS_SIGNALED_TARGET_ABORT<BR>
PCI_STATUS_RECEIVED_TARGET_ABORT<BR>
PCI_STATUS_RECEIVED_MASTER_ABORT<BR>
PCI_STATUS_SIGNALED_SYSTEM_ERROR<BR>
PCI_STATUS_DETECTED_PARITY_ERROR
<BR>
<DT>
<B>RevisionID</B>
<DD>
Specifies the revision level of the device described by the <B>DeviceID</B>
member. This value is assigned by the manufacturer.
<BR>
<DT>
<B>ProgIf</B>
<DD>
Identifies the register-level programming interface, if any, for the device,
according to the PCI classification scheme.
<BR>
<DT>
<B>SubClass</B>
<DD>
Identifies the subtype, if any, of the device, according to the PCI
classification scheme.
<BR>
<DT>
<B>BaseClass</B>
<DD>
Identifies type of the device, according to the PCI classification scheme.
<BR>
<DT>
<B>CacheLineSize</B>
<DD>
Contains the system cache line size in 32-bit units. This member is relevant
only for PCI busmaster devices. The system determines this value during the
boot process.
<BR>
<DT>
<B>LatencyTimer</B>
<DD>
Contains the value of the latency timer in units of PCI bus clocks. This
member is relevant only for PCI busmaster devices. The system determines this
value during the boot process.
<BR>
<DT>
<B>HeaderType</B>
<DD>
The system ORs the value of this member with PCI_MULTIFUNCTION, if appropriate
to the device. The value of this member indicates the PCI_HEADER_TYPE_0 layout
that follows.
<BR>
<DT>
<B>BIST</B>
<DD>
Zero indicates that the device does not support built-in self test. Otherwise,
the device supports built-in self test according to the PCI standard.
<BR>
<DT>
<B>u.type0</B>
<DD>
Drivers call <B>HalAssignSlotResources</B>&nbsp;to configure these values and to
get back the bus-relative values passed to other configuration routines.
<BR>
<DT>
<B>DeviceSpecific</B>
<DD>
Contains any device-specific initialization information that is available.
</DL>
<H3>Comments</H3>
<P>
Certain members of this structure have read-only values, so attempts to reset
them are ignored. These members include the following: <B>VendorID</B>, <B>DeviceID</B>,
<B>RevisionID</B>, <B>ProgIf</B>, <B>SubClass</B>, <B>BaseClass</B>, <B>HeaderType</B>,
<B>InterruptPin</B>, <B>MinimumGrant</B>, and <B>MaximumLatency</B>.
<P>
Other members are provisionally read-only: that is, the system initializes
them to their correct values, so drivers can safely treat them as read-only.
However, they can be reset if a busmaster driver finds it necessary. These
members include the following: <B>CacheLineSize</B>&nbsp;and <B>LatencyTimer</B>.
<H3>See Also</H3>
<P>
<B><A HREF="k103_2.htm">HalAssignSlotResources</A></B>, <B><A HREF="k103_6.htm">HalGetBusData</A></B>,
<B><A HREF="k103_7.htm">HalGetBusDataByOffset</A></B>, <B><A HREF="k103_12.htm">HalSetBusData</A></B>,
<B><A HREF="k103_13.htm">HalSetBusDataByOffset</A></B>&nbsp;
<P></FONT>
</BODY>
</HTML>
