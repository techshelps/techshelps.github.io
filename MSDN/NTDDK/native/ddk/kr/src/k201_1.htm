<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>1.1  Determining Required I/O Support by Device Object Type</TITLE>
<style>@import url(/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="/msdn_ie3.css"></HEAD>
<BODY BGPROPERTIES="FIXED" TEXT="#000000" BGCOLOR="#FFFFFF">

<FONT FACE="ARIAL,HELVETICA" SIZE="2">
<H2><A NAME="DDK_Determining_Required_I_O_Support_by_Device_Object_Type"></A>1.1  Determining Required I/O Support by Device Object Type</H2>
<P>
Every kernel-mode driver must set an appropriate value in the <B>Type</B>
field of its device objects when they are created. This value determines which
IRP_MJ_<I>XXX</I>&nbsp;a device or intermediate driver must handle.
<P>
The system device and intermediate drivers set one of the following
system-defined constants in the <B>Type</B>&nbsp;fields of their respective device
objects:
<PRE><FONT FACE="Courier" SIZE="2">FILE_DEVICE_BEEP
FILE_DEVICE_CD_ROM
FILE_DEVICE_CONTROLLER
FILE_DEVICE_DISK
FILE_DEVICE_INPORT_PORT
FILE_DEVICE_KEYBOARD
FILE_DEVICE_MIDI_IN
FILE_DEVICE_MIDI_OUT
FILE_DEVICE_MOUSE
FILE_DEVICE_NULL
FILE_DEVICE_PARALLEL_PORT
FILE_DEVICE_PRINTER
FILE_DEVICE_SCANNER
FILE_DEVICE_SERIAL_MOUSE_PORT
FILE_DEVICE_SERIAL_PORT
FILE_DEVICE_SCREEN
FILE_DEVICE_SOUND
FILE_DEVICE_TAPE
FILE_DEVICE_UNKNOWN
FILE_DEVICE_VIDEO
FILE_DEVICE_VIRTUAL_DISK
FILE_DEVICE_WAVE_IN
FILE_DEVICE_WAVE_OUT
FILE_DEVICE_8042_PORT
</FONT></PRE>
<P>
The FILE_DEVICE_<I>Xxx</I>&nbsp;constants are defined in <I>ntddk.h</I>.
<P>
The FILE_DEVICE_DISK specification covers both floppy and fixed-disk devices,
as well as disk partitions.
<P>
Intermediate drivers usually set the <B>Type</B>&nbsp;fields of their respective
device objects to that of the underlying device. For example, the system
supplied fault-tolerant disk driver, <I>ftdisk</I>, has device objects of type
FILE_DEVICE_DISK; it does not define new FILE_DEVICE_<I>XXX</I>&nbsp;values for the
mirror sets, stripe sets, and volume sets it manages.
<P>
File system and network drivers set other system-defined FILE_DEVICE_<I>XXX</I>
in the <B>Type</B>&nbsp;fields of their respective device objects.
<P>
FILE_DEVICE_<I>XXX </I>values in the range 0<FONT
FACE="Symbol">&#45;</FONT>32767 are reserved to Microsoft. All driver writers
must use one of these system-defined constants for new drivers when the
underlying device corresponds to a type in the preceding list.
<P>
However, a driver designer can define another FILE_DEVICE_<I>XXX</I>&nbsp;for a new
kind of device. Values in the range 32768<FONT FACE="Symbol">&#45;</FONT>65535
are available for Microsoft customers who develop new kinds of kernel-mode
drivers for Windows NT.
<P></FONT>
</BODY>
</HTML>
