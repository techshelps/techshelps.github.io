<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>ScsiPortInitialize</TITLE>
<style>@import url(/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="/msdn_ie3.css"></HEAD>
<BODY BGPROPERTIES="FIXED" TEXT="#000000" BGCOLOR="#FFFFFF">

<FONT FACE="ARIAL,HELVETICA" SIZE="2">
<H2><A NAME="DDK_ScsiPortInitialize_KR"></A>ScsiPortInitialize</H2>
<P>
<B>ULONG <BR>
&nbsp; &nbsp; ScsiPortInitialize(</B><BR>
&nbsp; &nbsp; &nbsp; &nbsp; <B>IN PVOID</B>&nbsp; <I>Argument1</I><B>,</B><BR>
&nbsp; &nbsp; &nbsp; &nbsp; <B>IN PVOID</B>&nbsp; <I>Argument2</I><B>,</B><BR>
&nbsp; &nbsp; &nbsp; &nbsp; <B>IN struct _HW_INITIALIZATION_DATA *</B><I>HwInitializationData</I><B>,</B><BR>
&nbsp; &nbsp; &nbsp; &nbsp; <B>IN PVOID</B>&nbsp; <I>HwContext</I>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; /* optional */<BR>
&nbsp; &nbsp; &nbsp; &nbsp; <B>);</B>
<P>
<B>ScsiPortInitialize</B>&nbsp;sets up the PORT_CONFIGURATION_INFORMATION structure
and calls a miniport driver’s HwScsiFindAdapter routine. <B>ScsiPortInitialize</B>
also sets up system objects and resources on behalf of miniport drivers.
<H3>Parameters</H3>
<DL>
<DT>
<I>Argument1</I>
<DD>
Is the first pointer with which the operating system called the miniport’s <B>DriverEntry</B>
routine.
<BR>
<DT>
<I>Argument2</I>
<DD>
Is the second pointer with which the operating system called <B>DriverEntry</B>.
<BR>
<DT>
<I>HwInitializationData</I>
<DD>
Points to the initialization and configuration information supplied by <B>DriverEntry</B>.
<BR>
<DT>
<I>HwContext</I>
<DD>
Is the address of a context value to be passed to the miniport’s
HwScsiFindAdapter routine. Miniport drivers that scan the bus for HBAs rather
than receiving configuration information from the port driver can use this
parameter to store state between calls to HwScsiFindAdapter.
</DL>
<H3>Return Value</H3>
<P>
<B>ScsiPortInitialize</B>&nbsp;returns a status value that is used as the return
value from the miniport’s <B>DriverEntry</B>&nbsp;routine.
<H3>Comments</H3>
<P>
Every miniport driver’s <B>DriverEntry</B>&nbsp;routine must call <B>ScsiPortInitialize</B>
after the miniport has first zeroed and then set up the
HW_INITIALIZATION_DATA.
<P>
If a miniport driver can support HBAs on different types of I/O buses, such as
both <B>Isa</B>&nbsp;and <B>MicroChannel</B>&nbsp;type I/O buses, the miniport should
call <B>ScsiPortInitialize</B>&nbsp;for each supported interface type.
<P>
A miniport driver that calls <B>ScsiPortInitialize</B>&nbsp;more than once should
check the value returned by <B>ScsiPortInitialize</B>&nbsp;at each call and save
the lowest value for all its calls. The <B>DriverEntry</B>&nbsp;routine must return
the lowest value when it returns control to the system. Miniport driver
writers can make no assumptions about the values returned by <B>ScsiPortInitialize</B>.
<H3>See Also</H3>
<P>
<B><A HREF="k302_1.htm">DriverEntry</A></B>, <A HREF="k305_2.htm">HW_INITIALIZATION_DATA</A>,
<A HREF="k302_6.htm">HwScsiFindAdapter</A>
<P></FONT>
</BODY>
</HTML>
