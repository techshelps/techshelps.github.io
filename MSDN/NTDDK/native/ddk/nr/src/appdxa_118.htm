<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>TR_QUERY_PACKET_FILTER</TITLE>
<style>@import url(/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="/msdn_ie3.css"></HEAD>
<BODY BGPROPERTIES="FIXED" TEXT="#000000" BGCOLOR="#FFFFFF">

<FONT FACE="ARIAL,HELVETICA" SIZE="2">
<H2><A NAME="DDK_TR_QUERY_PACKET_FILTER_NR"></A>TR_QUERY_PACKET_FILTER</H2>
<P>
<B>UINT<BR>
</B>&nbsp; &nbsp; <B>TR_QUERY_PACKET_FILTER(</B><BR>
&nbsp; &nbsp; &nbsp; &nbsp; <B>IN PTR_FILTER</B>&nbsp;<I>Filter</I><B>,<BR>
</B>&nbsp; &nbsp; &nbsp; &nbsp; <B>IN NDIS_HANDLE</B>&nbsp;<I>NdisFilterHandle</I><BR>
&nbsp; &nbsp; &nbsp; &nbsp; <B>);</B>
<P>
<B>TR_QUERY_PACKET_FILTER</B>&nbsp;is called by the NIC driver to query the Token
Ring filter classes for a binding. 
<H3>Parameters</H3>
<DL>
<DT>
<I>Filter</I>
<DD>
Points to a previously created and initialized filter library database.
<BR>
<DT>
<I>NdisFilterHandle</I>
<DD>
Specifies the handle that the filter library associates with the binding
filter.
</DL>
<H3>Return Value</H3>
<P>
<B>TR_QUERY_PACKET_FILTER</B>&nbsp;returns a value representing the currently
enabled filter classes for the binding.
<H3>Comments</H3>
<P>
The NIC driver calls this macro before it alters network interface card
registers to effect filtering. The timing of the call is important if another
binding has altered the filter classes.
<P>
The NIC driver must be holding the filter library spinlock when it uses this
macro. 
<P>
Callers of <B>TR_QUERY_PACKET_FILTER</B>&nbsp;run at IRQL DISPATCH_LEVEL. 
<P></FONT>
</BODY>
</HTML>
