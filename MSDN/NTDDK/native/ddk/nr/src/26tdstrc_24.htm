<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>TDI_PROVIDER_INFO</TITLE>
<style>@import url(/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="/msdn_ie3.css"></HEAD>
<BODY BGPROPERTIES="FIXED" TEXT="#000000" BGCOLOR="#FFFFFF">

<FONT FACE="ARIAL,HELVETICA" SIZE="2">
<H2><A NAME="DDK_TDI_PROVIDER_INFO_NR"></A>TDI_PROVIDER_INFO</H2>
<PRE><FONT FACE="Courier" SIZE="2">struct _TDI_PROVIDER_INFO {<B>&nbsp;</B>
&nbsp; &nbsp; ULONG          Version;<B>&nbsp;</B>
&nbsp; &nbsp; ULONG          MaxSendSize;<B>&nbsp;</B>
&nbsp; &nbsp; ULONG          MaxConnectionUserData;<B>&nbsp;</B>
&nbsp; &nbsp; ULONG          MaxDatagramSize;<B>&nbsp;</B>
&nbsp; &nbsp; ULONG          ServiceFlags;<B>&nbsp;</B>
&nbsp; &nbsp; ULONG          MinimumLookaheadData;<B>&nbsp;</B>
&nbsp; &nbsp; ULONG          MaximumLookaheadData;<B>&nbsp;</B>
&nbsp; &nbsp; ULONG          NumberOfResources;<B>&nbsp;</B>
&nbsp; &nbsp; LARGE_INTEGER  StartTime;<B>&nbsp;</B>
} TDI_PROVIDER_INFO, *PTDI_PROVIDER_INFO;<B>&nbsp;</B>
<B>&nbsp;</B></FONT></PRE>
<P>
TDI_PROVIDER_INFO defines the structure of the information returned for a
TDI_QUERY_INFORMATION request in which the <B>IrpSp-&gt;Parameters.QueryType</B>
is set to TDI_QUERY_PROVIDER_INFO or TDI_QUERY_PROVIDER_INFORMATION.
<H3>Members</H3>
<DL>
<DT>
<B>Version</B>
<DD>
Specifies the TDI version number. The low-order bytes specify the minor
version number, and the high-order bytes the major version number. 
<BR>
<DT>
<B>MaxSendSize</B>
<DD>
Specifies the maximum number of bytes a client can provide per TDI_SEND
request. 
<BR>
<DT>
<B>MaxConnectionUserData</B>
<DD>
Specifies the maximum number of bytes a client can provide as user data in a
TDI_CONNECT, TDI_LISTEN, or TDI_ACCEPT request. 
<BR>
<DT>
<B>MaxDatagramSize</B>
<DD>
Specifies the maximum size, in bytes, of a datagram a client can send (or
receive).
<BR>
<DT>
<B>ServiceFlags</B>
<DD>
Specifies features that the transport offers as a combination (Ored) of the
following flags:
<DL>
<DT>
TDI_SERVICE_CONNECTION_MODE
<DD>
This transport supports connection-oriented traffic (endpoint-to-endpoint
transfers).
<BR>
<DT>
TDI_SERVICE_CONNECTIONLESS_MODE
<DD>
This transport supports connectionless traffic (datagram sends and receives). 
<BR>
<DT>
TDI_SERVICE_BROADCAST_SUPPORTED
<DD>
This transport supports broadcast datagrams.
<BR>
<DT>
TDI_SERVICE_MULTICAST_SUPPORTED
<DD>
This transport supports multicast datagrams. 
<BR>
<DT>
TDI_SERVICE_ROUTE_DIRECTED
<DD>
This transport supports directed packets, which can reach remote nodes that
datagrams cannot reach.
<BR>
<DT>
TDI_SERVICE_ORDERLY_RELEASE
<DD>
This transport supports controlled disconnects.  
<BR>
<DT>
TDI_SERVICE_DELAYED_ACCEPTANCE
<DD>
This transport supports delayed-connection acceptances of incoming connection
offers from remote nodes. 
<BR>
<DT>
TDI_SERVICE_EXPEDITED_DATA
<DD>
This transport supports expedited sends and receives.
<BR>
<DT>
TDI_SERVICE_INTERNAL_BUFFERING
<DD>
This transport buffers TSDUs internally. 
<BR>
<DT>
TDI_SERVICE_MESSAGE_MODE
<DD>
This transport supports message-mode sends and receives.  
<BR>
<DT>
TDI_SERVICE_NO_ZERO_LENGTH
<DD>
This transport does not support zero-length sends. 
<BR>
<DT>
TDI_SERVICE_ERROR_FREE_DELIVERY
<DD>
This transport supports error-free delivery.
<BR>
<DT>
TDI_SERVICE_POINT_TO_POINT
<DD>
This transport is bound to an underlying point-to-point WAN NIC driver of type
<B>NdisMediumWan</B>.
<BR>
<DT>
TDI_SERVICE_SECURITY_LEVEL
<DD>
This transport supports a security validator. 
<BR>
<DT>
TDI_SERVICE_HALF_DUPLEX
<DD>
The transport supports controlled disconnect operations such that after
receiving a disconnect request from the remote node, it continues to indicate
receives to the local-node client until its client also acknowledges the
disconnection. 
</DL>
<DT>
<B>MinimumLookaheadData</B>
<DD>
Specifies the lower limit on the number of bytes this transport guarantees to
indicate as lookahead data for receive and receive-datagram events.
<BR>
<DT>
<B>MaximumLookaheadData</B>
<DD>
Specifies the upper limit on the number of bytes this transport guarantees to
indicate as lookhead data for receive and receive-datagram events. If the
underlying NIC driver supports multipacket receive indications, this value can
be the maximum packet size supported by the network. 
<BR>
<DT>
<B>NumberOfResources</B>
<DD>
Specifies the number of TDI_PROVIDER_RESOURCE_STATS structures (resources)
this transport returns if a client submits a query-information request of the
type TDI_QUERY_PROVIDER_STATISTICS.
<BR>
<DT>
<B>StartTime</B>
<DD>
Specifies the current system time at which the TDI driver became active.  
</DL>
<H3>Comments</H3>
<P>
Any kernel-mode client that has opened a control channel can make a query to
determine the supported features and limits of its underlying transport. Such
a client sets up an IRP with <B>TdiBuildQueryInformation</B>, passing in the <I>QType</I>
TDI_QUERY_PROVIDER_INFO, and submits the IRP to the underlying transport to
get this information. 
<P>
TDI_PROVIDER_INFO defines the format in which the transport returns the
requested information for such a query. 
<P>
For example, a client might use the values returned in the <I>Xxx</I><B>LookaheadData</B>
and <B>NumberOfResources</B>&nbsp;members to size client-allocated buffers for
subsequent client requests to the transport or to allocate buffers of an
appropriate size before it registers ClientEvent(Chained)Receive and/or
ClientEvent(Chained)ReceiveDatagram handlers. 
<H3>See Also</H3>
<P>
<B><A HREF="25tdicli_2.htm">ClientEventChainedReceive</A></B>, <B><A HREF="25tdicli_3.htm">ClientEventChainedReceiveDatagram</A></B>,
<B><A HREF="25tdicli_4.htm">ClientEventChainedReceiveExpedited</A></B>,
<B><A HREF="25tdicli_7.htm">ClientEventReceive</A></B>, <B><A HREF="25tdicli_8.htm">ClientEventReceiveDatagram</A></B>,
<B><A HREF="25tdicli_9.htm">ClientEventReceiveExpedited</A></B>,
<B><A HREF="24bldmac_11.htm">TdiBuildQueryInformation</A></B>, <B><A HREF="24bldmac_16.htm">TdiBuildSetEventHandler</A></B>,<A HREF="22ioctl_1.htm">
<B>TDI_ACCEPT</A></B>, <B><A HREF="22ioctl_4.htm">TDI_CONNECT</A></B>, <B><A HREF="22ioctl_7.htm">TDI_LISTEN</A></B>,
<B><A HREF="22ioctl_8.htm">TDI_QUERY_INFORMATION</A></B>, <B><A HREF="26tdstrc_25.htm">TDI_PROVIDER_STATISTICS</A></B>
<P></FONT>
</BODY>
</HTML>
