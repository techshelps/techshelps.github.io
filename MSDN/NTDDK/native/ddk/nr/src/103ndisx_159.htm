<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>NdisQueryMapRegisterCount</TITLE>
<style>@import url(/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="/msdn_ie3.css"></HEAD>
<BODY BGPROPERTIES="FIXED" TEXT="#000000" BGCOLOR="#FFFFFF">

<FONT FACE="ARIAL,HELVETICA" SIZE="2">
<H2><A NAME="DDK_NdisQueryMapRegisterCount_NR"></A>NdisQueryMapRegisterCount</H2>
<P>
<B>NDIS_STATUS</B><BR>
&nbsp; &nbsp; <B>NdisQueryMapRegisterCount(</B><BR>
&nbsp; &nbsp; &nbsp; &nbsp; <B>IN NDIS_INTERFACE_TYPE</B>&nbsp; <I>BusType</I><B>,</B><BR>
&nbsp; &nbsp; &nbsp; &nbsp; <B>OUT PUINT</B>&nbsp; <I>MapRegisterCount</I><BR>
&nbsp; &nbsp; &nbsp; &nbsp; <B>);</B>
<P>
<B>NdisQueryMapRegisterCount</B>&nbsp;returns the maximum number of available map
registers in the current platform. 
<H3>Parameters</H3>
<DL>
<DT>
<I>BusType</I>
<DD>
Specifies the I/O bus interface type of the caller’s busmaster DMA NIC, which
usually is the type of I/O bus on which the NIC is connected, as one of the
following:
<DL>
<DT>
<B>NdisInterfaceInternal</B>
<DD>
Specifies a host-specific internal interface.
<BR>
<DT>
<B>NdisInterfaceIsa</B>
<DD>
Specifies the ISA interface.
<BR>
<DT>
<B>NdisInterfaceEisa</B>
<DD>
Specifies the extended ISA (EISA) interface.
<BR>
<DT>
<B>NdisInterfaceMca</B>
<DD>
Specifies the MicroChannel architecture interface.
<BR>
<DT>
<B>NdisInterfaceTurboChannel</B>
<DD>
Specifies the Turbo Channel interface.
<BR>
<DT>
<B>NdisInterfacePci</B>
<DD>
Specifies the Peripheral Component Interconnect (PCI) interface.
<BR>
<DT>
<B>NdisInterfacePcMcia</B>
<DD>
Specifies the Personal Computer Memory Card International Association (PCMCIA)
interface.
</DL>
<DT>
<I>MapRegisterCount</I>
<DD>
Points to a caller-supplied variable in which this function returns the
maximum number of map registers available to the caller. 
</DL>
<H3>Return Value</H3>
<P>
<B>NdisQueryMapRegisterCount</B>&nbsp;returns NDIS_STATUS_SUCCESS if the value at <I>MapRegisterCount</I>
is valid; otherwise, it returns NDIS_STATUS_NOT_SUPPORTED. 
<H3>Comments</H3>
<P>
<B>NdisQueryMapRegisterCount</B>&nbsp;returns information useful only to drivers of
busmaster DMA devices. 
<P>
Busmaster NIC miniports can call <B>NdisQueryMapRegisterCount</B>&nbsp;only during
initialization. Such a driver’s MiniportInitialize function should call <B>NdisQueryMapRegisterCount</B>
before it calls <B>NdisMAllocateMapRegisters</B>. 
<P>
Callers of <B>NdisQueryMapRegisterCount</B>&nbsp;run at IRQL PASSIVE_LEVEL. 
<H3>See Also</H3>
<P>
<B><A HREF="101mini_8.htm">MiniportInitialize</A></B>, <B><A HREF="103ndisx_85.htm">NdisMAllocateMapRegisters</A></B>
<P></FONT>
</BODY>
</HTML>
