<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>NDIS_GET_PACKET_STATUS</TITLE>
<style>@import url(/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="/msdn_ie3.css"></HEAD>
<BODY BGPROPERTIES="FIXED" TEXT="#000000" BGCOLOR="#FFFFFF">

<FONT FACE="ARIAL,HELVETICA" SIZE="2">
<H2><A NAME="DDK_NDIS_GET_PACKET_STATUS_NR"></A>NDIS_GET_PACKET_STATUS</H2>
<P>
<B>NDIS_STATUS</B><BR>
&nbsp; &nbsp; <B>NDIS_GET_PACKET_STATUS(</B><BR>
&nbsp; &nbsp; &nbsp; &nbsp; <B>IN PNDIS_PACKET</B>&nbsp; <I>Packet</I><BR>
&nbsp; &nbsp; &nbsp; &nbsp; <B>);</B>
<P>
NDIS_GET_PACKET_STATUS returns the <B>Status</B>&nbsp;value from the out-of-band
data block associated with a given packet descriptor. 
<H3>Parameters</H3>
<DL>
<DT>
<I>Packet</I>
<DD>
Points to a packet descriptor.
</DL>
<H3>Return Value</H3>
<P>
NDIS_GET_PACKET_STATUS returns the <B>Status</B>&nbsp;value currently set in the
NDIS_PACKET_OOB_DATA block associated with the given packet descriptor,
usually one of the following:
<DL>
<DT>
NDIS_STATUS_SUCCESS
<DD>
If this is set on return from a miniport’s call to <B>NdisMIndicateReceivePacket</B>,
the miniport regains ownership of the following:
<UL>
<LI>
The packet descriptor
<P>
<LI>
The associated out-of-band data block and of any media-specific information
buffer specified in this block
<P>
<LI>
All buffers mapped by buffer descriptors chained to the packet the miniport
just indicated 
</UL>
<P>
The driver can prepare these descriptors, the out-of-band block, and
media-specific information buffer, if any, for reuse in subsequent receive
indications, and, if it is a NIC driver, can receive new data in the NIC’s
receive buffers mapped by the returned buffer descriptors. 
<BR>
<DT>
NDIS_STATUS_PENDING
<DD>
If this is set on return from <B>NdisMIndicateReceivePacket</B>, protocols
retain ownership of the following:
<UL>
<LI>
The packet descriptor
<P>
<LI>
The associated out-of-band data block and of any media-specific information
buffer specified in this block
<P>
<LI>
All buffers mapped by buffer descriptors chained to the packet the miniport
just indicated 
</UL>
<P>
Until the packet descriptor is returned to the MiniportReturnPacket function
of the indicating driver, it should not access any of the buffers specified
with the packet descriptor. 
</DL>
<H3>Comments</H3>
<P>
Only drivers that indicate receives up to higher-level drivers use this macro.
<P>
Protocol drivers should <I>never</I>&nbsp;test the <B>Status</B>&nbsp;value in an
associated out-of-band data block on return from <B>NdisSendPackets</B>&nbsp;or <B>NdisSend</B>.
NDIS or the underlying driver retains ownership of the packet descriptor, of
the associated out-of-band block and any buffers specified in this block, and
of all buffers mapped by buffer descriptors chained to the packet descriptor
until the ProtocolSendComplete function is called with the packet descriptor. 
<P>
Callers of NDIS_GET_PACKET_STATUS run at IRQL &lt;= DISPATCH_LEVEL. 
<H3>See Also</H3>
<P>
<B><A HREF="101mini_7.htm">MiniportHandleInterrupt</A></B>, <B><A HREF="101mini_13.htm">MiniportReturnPacket</A></B>,
<B><A HREF="101mini_19.htm">MiniportTimer</A></B>, <B><A HREF="103ndisx_11.htm">NdisAllocatePacket</A></B>,
<B><A HREF="103ndisx_107.htm">NdisMIndicateReceivePacket</A></B>,
<B><A HREF="103ndisx_147.htm">NDIS_OOB_DATA_FROM_PACKET</A></B>, <B><A HREF="106nstru_5.htm">NDIS_PACKET_OOB_DATA</A></B>,
<B><A HREF="103ndisx_193.htm">NdisSend</A></B>, <B><A HREF="103ndisx_194.htm">NdisSendPackets</A></B>,
<B><A HREF="103ndisx_199.htm">NDIS_SET_PACKET_STATUS</A></B>, <B><A HREF="104tdlow_10.htm">ProtocolSendComplete</A></B>
&nbsp;
<P></FONT>
</BODY>
</HTML>
