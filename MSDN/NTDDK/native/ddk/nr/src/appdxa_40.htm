<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>EthQueryOpenFilterAddresses</TITLE>
<style>@import url(/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="/msdn_ie3.css"></HEAD>
<BODY BGPROPERTIES="FIXED" TEXT="#000000" BGCOLOR="#FFFFFF">

<FONT FACE="ARIAL,HELVETICA" SIZE="2">
<H2><A NAME="DDK_EthQueryOpenFilterAddresses_NR"></A>EthQueryOpenFilterAddresses</H2>
<P>
<B>VOID<BR>
</B>&nbsp; &nbsp; <B>EthQueryOpenFilterAddresses(</B><BR>
&nbsp; &nbsp; &nbsp; &nbsp; <B>OUT PNDIS_STATUS</B>&nbsp; <I>Status</I><B>,<BR>
</B>&nbsp; &nbsp; &nbsp; &nbsp; <B>IN PETH_FILTER</B>&nbsp; <I>Filter</I><B>,<BR>
</B>&nbsp; &nbsp; &nbsp; &nbsp; <B>IN NDIS_HANDLE</B>&nbsp; <I>NdisFilterHandle</I><B>,<BR>
</B>&nbsp; &nbsp; &nbsp; &nbsp; <B>IN UINT</B>&nbsp; <I>SizeOfArray</I><B>,<BR>
</B>&nbsp; &nbsp; &nbsp; &nbsp; <B>OUT PUINT</B>&nbsp; <I>NumberOfAddresses</I><B>,<BR>
</B>&nbsp; &nbsp; &nbsp; &nbsp; <B>OUT CHAR</B>&nbsp; <I>AddressArray[][ETH_LENGTH_OF_ADDRESS]</I><BR>
&nbsp; &nbsp; &nbsp; &nbsp; <B>);</B>
<P>
<B>EthQueryOpenFilterAddresses</B>&nbsp;is called by the NIC driver to query the
Ethernet filter library database for a list of multicast addresses associated
with a binding. 
<H3>Parameters</H3>
<DL>
<DT>
<I>Status</I>
<DD>
Points to a caller-supplied variable in which this function returns the status
of the query operation. Possible values are:
<P>
NDIS_STATUS_FAILURE<BR>
NDIS_STATUS_SUCCESS
<BR>
<DT>
<I>Filter</I>
<DD>
Points to a previously created and initialized filter library database.
<BR>
<DT>
<I>NdisFilterHandle</I>
<DD>
Specifies the handle that the filter library associates with the binding
filter.
<BR>
<DT>
<I>SizeOfArray</I>
<DD>
Specifies the byte count for the two-dimensional array to contain the
addresses.
<BR>
<DT>
<I>NumberOfAddresses</I>
<DD>
Points to the caller-supplied variable in which this function returns the
number of addresses that it writes to the array.
<BR>
<DT>
<I>AddressArray[][ETH_LENGTH_OF_ADDRESS]</I>
<DD>
Specifies the two-dimensional, caller-supplied array to which this function
writes addresses currently associated with the binding.
</DL>
<H3>Comments</H3>
<P>
The NIC driver calls this function before it alters registers on the network
interface card to effect filtering. The timing of the call is important if
another binding has altered the multicast address list. Before calling this
function, the NIC driver calls <B>EthNumberOfOpenFilterAddresses</B>&nbsp;to obtain
the number of multicast addresses to be retrieved.
<P>
A caller must be holding the database spin lock to call <B>EthQueryOpenFilterAddresses</B>,
so the driver is running at IRQL DISPATCH_LEVEL. 
<H3>See Also</H3>
<P>
<B><A HREF="appdxa_38.htm">EthNumberOfOpenFilterAddresses</A></B>
<P></FONT>
</BODY>
</HTML>
