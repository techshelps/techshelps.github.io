<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>WSHGetSockaddrType</TITLE>
<style>@import url(/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="/msdn_ie3.css"></HEAD>
<BODY BGPROPERTIES="FIXED" TEXT="#000000" BGCOLOR="#FFFFFF">

<FONT FACE="ARIAL,HELVETICA" SIZE="2">
<H2><A NAME="DDK_WSHGetSockaddrType_NR"></A>WSHGetSockaddrType</H2>
<P>
<B>INT</B><BR>
<B>&nbsp; &nbsp; WSHGetSockaddrType(</B><BR>
<B>&nbsp; &nbsp; &nbsp; &nbsp; IN PSOCKADDR</B>&nbsp; <I>Sockaddr</I><B>,</B><BR>
<B>&nbsp; &nbsp; &nbsp; &nbsp; IN DWORD</B>&nbsp; <I>SockaddrLength</I><B>,</B><BR>
<B>&nbsp; &nbsp; &nbsp; &nbsp; OUT PSOCKADDR_INFO</B>&nbsp; <I>SockaddrInfo</I><BR>
<B>&nbsp; &nbsp; &nbsp; &nbsp; );</B>
<P>
<B>WSHGetSockaddrType</B>&nbsp;parses a socket address and returns information
about it to Windows Sockets.
<H3>Parameters</H3>
<DL>
<DT>
<I>Sockaddr</I>
<DD>
Points to the SOCKADDR structure to be evaluated.
<BR>
<DT>
<I>SockaddrLength</I>
<DD>
Specifies the length, in bytes, of the SOCKADDR structure at <I>Sockaddr</I>.
<BR>
<DT>
<I>SockaddrInfo</I>
<DD>
Points to a buffer in which the helper DLL returns information about the
socket address, formatted as a SOCKADDR_INFO structure.
</DL>
<H3>Return Value</H3>
<P>
<B>WSHGetSockaddrType</B>&nbsp;returns zero if the given socket address is valid
for the address family supported by this helper DLL. Otherwise, it returns a
Windows Sockets error code.
<H3>Comments</H3>
<P>
Windows Sockets calls <B>WSHGetSockaddrType</B>&nbsp;when it needs information
about a SOCKADDR. The helper DLL evaluates both the machine address and
endpoint portions of the SOCKADDR. The machine-address portion specifies a
particular machine, for example, the IP address in an internet address. The
endpoint specifies a particular service on a machine, corresponding to the
port number in an internet address. 
<P>
The SOCKADDR_INFO<B>&nbsp;</B>structure is defined as follows:
<PRE><FONT FACE="Courier" SIZE="2">typedef struct _SOCKADDR_INFO {
&nbsp; &nbsp; SOCKADDR_ADDRESS_INFO AddressInfo;
&nbsp; &nbsp; SOCKADDR_ENDPOINT_INFO EndpointInfo;
} SOCKADDR_INFO, *PSOCKADDR_INFO;
&nbsp;</FONT></PRE>
<P>
SOCKADDR_ADDRESS_INFO<B>&nbsp;</B>is an enumerated type, with the following
possible values:
<DL>
<DT>
<B>SockaddrAddressInfoNormal</B>
<DD>
The address portion of the SOCKADDR has no unusual characteristics.
<BR>
<DT>
<B>SockaddrAddressInfoWildcard</B>
<DD>
The address portion of the SOCKADDR is a “wildcard,” meaning that it does not
specify a particular address. For example, this corresponds to INADDR_ANY<B>&nbsp;</B>(0.0.0.0)
for IP addresses, which an application passes to <B>bind</B>&nbsp;when it has no
particular requirements for the IP address used for a socket.
<BR>
<DT>
<B>SockaddrAddressInfoBroadcast </B>
<DD>
The address portion of the SOCKADDR refers to the address family’s broadcast
address. For example, in IP addresses, this is INADDR_BROADCAST
(255.255.255.255).
<BR>
<DT>
<B>SockaddrAddressInfoLoopback</B>
<DD>
The address portion of the SOCKADDR refers to the address family’s loopback
address. For example, in internet addresses, this is INADDR_LOOPBACK
(127.0.0.1).
</DL>
<P>
SOCKADDR_ENDPOINT_INFO also is an enumerated type, with the following possible
values: 
<DL>
<DT>
<B>SockaddrEndpointInfoNormal</B>&nbsp;
<DD>
The endpoint portion of the SOCKADDR has no unusual characteristics.
<BR>
<DT>
<B>SockaddrEndpointInfoWildcard</B>&nbsp;
<DD>
The endpoint portion of the SOCKADDR is a wildcard, meaning that it could
refer to any endpoint. An application, typically a client, can pass a wildcard
endpoint to <B>bind </B>when it has no particular requirements for the
endpoint assigned. For example, in IP addresses, a port set to zero is a
wildcard endpoint.
<BR>
<DT>
<B>SockaddrEndpointInfoReserved</B>
<DD>
The endpoint of the SOCKADDR is reserved, meaning that special privilege is
required to bind to it. For example, in internet addresses, a port with a
value less than IPPORT_RESERVED (1024) is a reserved endpoint.
</DL>
<P></FONT>
</BODY>
</HTML>
