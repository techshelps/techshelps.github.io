<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>MacChangeEthAddresses</TITLE>
<style>@import url(/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="/msdn_ie3.css"></HEAD>
<BODY BGPROPERTIES="FIXED" TEXT="#000000" BGCOLOR="#FFFFFF">

<FONT FACE="ARIAL,HELVETICA" SIZE="2">
<H2><A NAME="DDK_MacChangeEthAddresses_NR"></A>MacChangeEthAddresses</H2>
<P>
<B>NDIS_STATUS<BR>
</B>&nbsp; &nbsp; <B>MacChangeEthAddresses(<BR>
</B>&nbsp; &nbsp; &nbsp; &nbsp; <B>IN UINT</B>&nbsp; <I>OldAddressCount</I><B>,</B><BR>
&nbsp; &nbsp; &nbsp; &nbsp; <B>IN CHAR</B>&nbsp; <I>OldAddresses[][ETH_LENGTH_OF_ADDRESS]</I><B>,</B><BR>
&nbsp; &nbsp; &nbsp; &nbsp; <B>IN UINT</B>&nbsp; <I>NewAddressCount</I><B>,</B><BR>
&nbsp; &nbsp; &nbsp; &nbsp; <B>IN CHAR</B>&nbsp; <I>NewAddresses[][ETH_LENGTH_OF_ADDRESS]</I><B>,</B><BR>
&nbsp; &nbsp; &nbsp; &nbsp; <B>IN NDIS_HANDLE</B>&nbsp; <I>MacBindingHandle</I><B>,</B><BR>
&nbsp; &nbsp; &nbsp; &nbsp; <B>IN PNDIS_REQUEST</B>&nbsp; <I>NdisRequest</I><B>,</B><BR>
&nbsp; &nbsp; &nbsp; &nbsp; <B>IN BOOLEAN</B>&nbsp; <I>Set</I><BR>
&nbsp; &nbsp; &nbsp; &nbsp; <B>);</B>
<P>
MacChangeEthAddresses is a NIC driver action function the Ethernet filter
library calls when the multicast address list changes. 
<H3>Parameters</H3>
<DL>
<DT>
<I>OldAddressCount</I>
<DD>
Specifies the number of addresses in the array of old multicast addresses(<I>OldAddresses</I>).
<BR>
<DT>
<I>OldAddresses[][ETH_LENGTH_OF_ADDRESS]</I>
<DD>
Specifies a two-dimensional array listing the old multicast addresses. 
<BR>
<DT>
<I>NewAddressCount</I>
<DD>
Specifies the number of addresses in the array of new multicast addresses (<I>NewAddresses</I>).
<BR>
<DT>
<I>NewAddresses[][ETH_LENGTH_OF_ADDRESS]</I>
<DD>
Specifies a two-dimensional array listing the new multicast addresses. 
<BR>
<DT>
<I>MacBindingHandle</I>
<DD>
Specifies the handle that the NIC driver associates with the binding. 
<BR>
<DT>
<I>NdisRequest</I>
<DD>
Points to a request structure. 
<BR>
<DT>
<I>Set</I>
<DD>
Specifies TRUE if changes are being caused by a set request rather than the
closing of a binding. 
</DL>
<H3>Return Value</H3>
<P>
MacChangeEthAddresses can return the following status codes: 
<P>
NDIS_STATUS_PENDING<BR>
NDIS_STATUS_RESET_IN_PROGRESS<BR>
NDIS_STATUS_SUCCESS
<H3>Comments</H3>
<P>
The NIC driver supplied the entry point for MacChangeEthAddresses when it
called <B>EthCreateFilter</B>&nbsp;to set up the Ethernet filter database. 
<P>
<B>EthChangeFilterAddresses</B>, which the NIC driver calls after it acquires
the filter database spin lock, actually calls MacChangeEthAddresses only after
checking the current multicast address list for all bound protocols and
determining that it requires changes. 
<P>
If MacChangeEthAddresses returns anything other than NDIS_STATUS_SUCCESS or
NDIS_STATUS_PENDING, <B>EthChangeFilterAddresses</B>&nbsp;discards any changes this
function made to the multicast address list. 
<P>
MacChangeEthAddresses runs at IRQL DISPATCH_LEVEL. 
<H3>See Also</H3>
<P>
<B><A HREF="appdxa_30.htm">EthChangeFilterAddresses</A></B>, <B><A HREF="appdxa_31.htm">EthCreateFilter</A></B>,
<B><A HREF="appdxa_4.htm">MacAddAdapter</A></B>, <B><A HREF="103ndisx_6.htm">NdisAcquireSpinLock</A></B>
<P></FONT>
</BODY>
</HTML>
