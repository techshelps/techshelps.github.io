<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>NdisRecalculatePacketCounts</TITLE>
<style>@import url(/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="/msdn_ie3.css"></HEAD>
<BODY BGPROPERTIES="FIXED" TEXT="#000000" BGCOLOR="#FFFFFF">

<FONT FACE="ARIAL,HELVETICA" SIZE="2">
<H2><A NAME="DDK_NdisRecalculatePacketCounts_NR"></A>NdisRecalculatePacketCounts</H2>
<P>
<B>VOID<BR>
&nbsp; &nbsp; NdisRecalculatePacketCounts(</B><BR>
&nbsp; &nbsp; &nbsp; &nbsp; <B>IN OUT PNDIS_PACKET</B>&nbsp;<I>Packet</I><BR>
&nbsp; &nbsp; &nbsp; &nbsp; <B>);</B>
<P>
<B>NdisRecalculatePacketCounts</B>&nbsp;resets the valid counts for a given packet.
<H3>Parameters</H3>
<DL>
<DT>
<I>Packet</I>
<DD>
Points to the packet descriptor.
</DL>
<H3>Comments</H3>
<P>
If a driver explicitly modifies a buffer descriptor chain for a packet
descriptor, that driver should call <B>NdisRecalculatePacketCounts</B>&nbsp;with
the modified packet. In general, any NDIS driver should avoid modifying buffer
descriptor chains that it sets up, and any driver must not modify chains set
up by other drivers. 
<P>
This call resets the valid counts for the packet to FALSE, thereby forcing <B>NdisQueryPacket</B>
to recalculate the buffer count for the modified packet if it is called
subsequently with that packet. 
<P>
Callers of <B>NdisRecalculatePacketCounts</B>&nbsp;can run at any IRQL. 
<H3>See Also</H3>
<P>
<B><A HREF="106nstru_4.htm">NDIS_PACKET</A></B>, <B><A HREF="103ndisx_160.htm">NdisQueryPacket</A></B>,
<B><A HREF="103ndisx_186.htm">NdisReinitializePacket</A></B>&nbsp;
<P></FONT>
</BODY>
</HTML>
