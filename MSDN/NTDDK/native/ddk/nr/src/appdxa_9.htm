<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>MacChangeTrAddress</TITLE>
<style>@import url(/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="/msdn_ie3.css"></HEAD>
<BODY BGPROPERTIES="FIXED" TEXT="#000000" BGCOLOR="#FFFFFF">

<FONT FACE="ARIAL,HELVETICA" SIZE="2">
<H2><A NAME="DDK_MacChangeTrAddress_NR"></A>MacChangeTrAddress</H2>
<P>
<B>NDIS_STATUS<BR>
</B>&nbsp; &nbsp; <B>MacChangeTrAddress(<BR>
</B>&nbsp; &nbsp; &nbsp; &nbsp; <B>IN TR_FUNCTIONAL_ADDRESS</B>&nbsp; <I>OldFunctionalAddress</I><B>,</B><BR>
&nbsp; &nbsp; &nbsp; &nbsp; <B>IN TR_FUNCTIONAL_ADDRESS</B>&nbsp; <I>NewFunctionalAddress</I><B>,</B><BR>
&nbsp; &nbsp; &nbsp; &nbsp; <B>IN NDIS_HANDLE</B>&nbsp; <I>MacBindingHandle</I><B>,</B><BR>
&nbsp; &nbsp; &nbsp; &nbsp; <B>IN PNDIS_REQUEST</B>&nbsp; <I>NdisRequest</I><B>,</B><BR>
&nbsp; &nbsp; &nbsp; &nbsp; <B>IN BOOLEAN</B>&nbsp; <I>Set</I><BR>
&nbsp; &nbsp; &nbsp; &nbsp; <B>);</B>
<P>
MacChangeTrAddress is a NIC driver action function the Token Ring filter
library calls when the bitmap for the functional address changes for the NIC. 
<H3>Parameters</H3>
<DL>
<DT>
<I>OldFunctionalAddress</I>
<DD>
Specifies the old functional address. 
<BR>
<DT>
<I>NewFunctionalAddress</I>
<DD>
Specifies the new functional address. 
<BR>
<DT>
<I>MacBindingHandle</I>
<DD>
Specifies the handle that the NIC driver associates with the binding. 
<BR>
<DT>
<I>NdisRequest</I>
<DD>
Points to a request structure. 
<BR>
<DT>
<I>Set</I>
<DD>
Specifies TRUE if changes are being caused by a set request rather than the
closing of a binding. 
</DL>
<H3>Return Value</H3>
<P>
MacChangeTrAddress can return the following status codes: 
<P>
NDIS_STATUS_PENDING<BR>
NDIS_STATUS_RESET_IN_PROGRESS<BR>
NDIS_STATUS_SUCCESS
<H3>Comments</H3>
<P>
The NIC driver supplied the entry point for MacChangeTrAddress when it called <B>TrCreateFilter</B>
to set up the Token Ring filter database. 
<P>
<B>TrChangeFunctionalAddress</B>, which the NIC driver calls after it acquires
the filter database spin lock, actually calls MacChangeTrAddress only after
checking the current functional address list for all bound protocols and
determining that it requires changes. 
<P>
If MacChangeTrAddress returns anything other than NDIS_STATUS_SUCCESS or
NDIS_STATUS_PENDING, <B>TrChangeFunctionalAddress</B>&nbsp;discards any changes
this function made to the address list. 
<P>
MacChangeTrAddress runs at IRQL DISPATCH_LEVEL. 
<H3>See Also</H3>
<P>
<B><A HREF="appdxa_4.htm">MacAddAdapter</A></B>, <B><A HREF="103ndisx_6.htm">NdisAcquireSpinLock</A></B>,
<B><A HREF="appdxa_119.htm">TrChangeFunctionalAddress</A></B>, <B><A HREF="appdxa_121.htm">TrCreateFilter</A>
</B>
<P></FONT>
</BODY>
</HTML>
