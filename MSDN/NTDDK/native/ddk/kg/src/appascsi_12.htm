<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>A.1.4.3  Queueing SCSI Requests</TITLE>
<style>@import url(/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="/msdn_ie3.css"></HEAD>
<BODY BGPROPERTIES="FIXED" TEXT="#000000" BGCOLOR="#FFFFFF">

<FONT FACE="ARIAL,HELVETICA" SIZE="2">
<H4><A NAME="DDK_Queueing_SCSI_Requests_KG"></A>A.1.4.3  Queueing SCSI Requests</H4>
<P>
While it is possible for a SCSI class driver to set up internal queues for
IRPs, it is seldom necessary to do so and likely to degrade the driver’s
performance as well because the SCSI port driver already maintains
driver-created, LU-specific device queues for IRPs. Whether a particular HBA
supports SCSI-II tagged queueing or not, SCSI class drivers can send every
request to their devices as each IRP comes in and rely on the system-supplied
port driver or the HBA to handle queued requests expeditiously. 
<P>
When certain SCSI errors occur, the system port driver freezes the appropriate
LU-specific queue and notifies the class driver. For more information about
handling errors and releasing frozen request queues, see Sections <A HREF="appascsi_16.htm">A.1.5.1</A>,
<A HREF="appascsi_17.htm">A.1.5.2</A>, and
<A HREF="appascsi_18.htm">A.1.5.3</A>. 
<P>
If an HBA supports tagged queueing, as indicated in the returned
IO_SCSI_CAPABILITIES data, the class driver uses the <B>QueueAction</B>&nbsp;member
of the SRBs it creates to control how its requests are queued. 
<P></FONT>
</BODY>
</HTML>
