<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>10.1.2  Running a SynchCritSection Routine</TITLE>
<style>@import url(/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="/msdn_ie3.css"></HEAD>
<BODY BGPROPERTIES="FIXED" TEXT="#000000" BGCOLOR="#FFFFFF">

<FONT FACE="ARIAL,HELVETICA" SIZE="2">
<H3><A NAME="DDK_Running_a_SynchCritSection_Routine_KG"></A>10.1.2  Running a SynchCritSection Routine</H3>
<P>
Every nonISR routine in an NT device driver must synchronize its access to
areas shared with its ISR by calling <B>KeSynchronizeExecution</B>&nbsp;with a
pointer to the interrupt object(s) associated with the ISR and with a
driver-supplied SynchCritSection routine.
<P>
Making this call protects the shared data or device ports/registers with the
spin lock that is associated with the driver’s interrupt object(s). Holding
the spin lock masks device interrupts of lower or equivalent IRQL on the
SynchCritSection routine’s processor, and prevents the shared area from being
simultaneously accessed from the ISR in Windows NT&reg; SMP machines.
<P></FONT>
</BODY>
</HTML>
