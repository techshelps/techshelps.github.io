<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>3.7  Timer Objects with Associated DPCs</TITLE>
<style>@import url(/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="/msdn_ie3.css"></HEAD>
<BODY BGPROPERTIES="FIXED" TEXT="#000000" BGCOLOR="#FFFFFF">

<FONT FACE="ARIAL,HELVETICA" SIZE="2">
<H2><A NAME="DDK_Timer_Objects_with_Associated_DPCs_KG"></A>3.7  Timer Objects with Associated DPCs</H2>
<P>
Any NT driver can have one or more IoTimer or CustomTimerDpc routines to be
called periodically for whatever purpose the driver writer decides. Each of
these types of standard driver routines is actually a DPC (see <A HREF="03ntobj_26.htm">Section
3.6</A>), queued for execution after some number of clock interrupts have been
handled by the system.
<P>
The NT Kernel defines the timer object type, and the I/O Manager sets up a
timer object that can be associated with each driver-created device object to
provide support for drivers’ IoTimer routines. At the driver writer’s
discretion, an NT driver can have a separate IoTimer routine for each device
object that the driver creates. For more information about creating device
objects, see <A HREF="03ntobj_2.htm">Section 3.2</A>.
<P>
An IoTimer routine is called once per second after the driver enables the
timer until the driver disables the timer. The I/O Manager provides support
routines for registering an IoTimer routine with a given device object and for
enabling and disabling such a timer.
<P>
As an alternative, an NT driver can have one or more CustomTimerDpc routines
that can be called at finer-grained, driver-determined intervals. The Kernel
provides support routines for registering a CustomTimerDpc routine and for
queueing the CustomTimerDpc to be called after a given timer interval has
expired.
<P>
The following subsection explains how to set up an IoTimer routine and enable
the timer. <A HREF="03ntobj_31.htm">Section
3.7.2</A>&nbsp;explains how to register a CustomTimerDpc routine and how to queue this
routine to be called after setting a timer interval.
<P></FONT>
</BODY>
</HTML>
