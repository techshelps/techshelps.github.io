<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>8.1  ISR Requirements</TITLE>
<style>@import url(/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="/msdn_ie3.css"></HEAD>
<BODY BGPROPERTIES="FIXED" TEXT="#000000" BGCOLOR="#FFFFFF">

<FONT FACE="ARIAL,HELVETICA" SIZE="2">
<H2><A NAME="DDK_ISR_Requirements_KG"></A>8.1  ISR Requirements</H2>
<P>
Every NT driver of a physical device that generates interrupts must have an
ISR. 
<P>
An ISR is run at DIRQL, in particular at the <I>SynchronizeIrql</I>&nbsp;level that
was specified when the device driver registered its ISR with <B>IoConnectInterrupt</B>.
When an NT device driver’s ISR runs, every interrupt with an equivalent or
lower IRQL value is masked off on the current processor. 
<P>
However, another device with a higher system-assigned DIRQL can interrupt or a
high-IRQL system interrupt can occur at any time in a Windows NT&reg; machine.
<P>
<B><IMG SRC="../../../wedge.gif" BORDER=0>&nbsp; &nbsp; </B>NT device driver writers
should keep in mind the following fact:<B>&nbsp;</B>
<P>
An NT device driver’s ISR is interruptible.
<P>
Because an NT driver’s ISR runs at a relatively high, system-assigned DIRQL,
thereby masking off interrupts with an equivalent or lower IRQL on the current
processor, an ISR should return control as quickly as possible. 
<P>
Running an ISR at DIRQL restricts the set of support routines the ISR can
call. For more information about managing IRQLs, see Chapter 16. For specific
information about the IRQL(s) at which any particular support routine can be
called, see the <I>Kernel-mode Driver Reference</I>. 
<P></FONT>
</BODY>
</HTML>
