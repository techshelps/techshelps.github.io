<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Chapter 2  Layered I/O, IRPs, and I/O Objects</TITLE>
<style>@import url(/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="/msdn_ie3.css"></HEAD>
<BODY BGPROPERTIES="FIXED" TEXT="#000000" BGCOLOR="#FFFFFF">

<FONT FACE="ARIAL,HELVETICA" SIZE="2">
<H1><A NAME="DDK_Layered_I_O_IRPs_and_I_O_Objects_KG"></A>Chapter 2  Layered I/O, IRPs, and I/O Objects</H1>
<DL>
<DT>
This chapter contains the following information:
<DD>
<A HREF="02irps_1.htm">2.1  End-user I/O
Requests and NT File Objects</A>
<P>
<A HREF="02irps_2.htm">2.1.1  Points to
Consider about User I/O Requests</A>
<DL>
<DT>
<A HREF="02irps_3.htm">2.2  IRPs and
Driver-specific I/O Stack Locations</A>
<DD>
<A HREF="02irps_4.htm">2.2.1  Points to
Consider about Processing IRPs</A>
<BR>
<DT>
<A HREF="02irps_5.htm">2.3  NT Driver
Objects and Standard Driver Routines</A>
<DD>
<A HREF="02irps_6.htm">2.3.1  NT Object Opacity</A>
<P>
<A HREF="02irps_7.htm">2.3.2  Driver Object Entry Points</A>
<P>
<A HREF="02irps_8.htm">2.3.3  Other Standard NT
Driver Routines</A>
<P>
<A HREF="02irps_9.htm">2.3.4 
Points to Consider about NT Standard Driver Routines</A>
<BR>
<DT>
<A HREF="02irps_10.htm">2.4  Device
Configurations and Layered NT Drivers</A>
<DD>
<A HREF="02irps_11.htm">2.4.1  Interactive Devices</A>
<P>
&nbsp; &nbsp; <A HREF="02irps_12.htm">2.4.1.1 
Video Adapter Configurations and Driver Layers</A>
<P>
&nbsp; &nbsp; <A HREF="02irps_13.htm">2.4.1.2
&nbsp;Keyboard and Mouse Configurations and Driver Layers</A>
<P>
<A HREF="02irps_14.htm">2.4.2  Parallel
and Serial Devices and Driver Layers</A>
<P>
<A HREF="02irps_15.htm">2.4.3  Sound Device and Driver
Layers</A>
<P>
<A HREF="02irps_16.htm">2.4.4  Mass-storage
Devices and Driver Layers</A>
<P>
&nbsp; &nbsp; <A HREF="02irps_17.htm">2.4.4.1  AT Disk Devices</A>
<P>
&nbsp; &nbsp; <A HREF="02irps_18.htm">2.4.4.2  Floppy Devices</A>
<P>
&nbsp; &nbsp; <A HREF="02irps_19.htm">2.4.4.3  SCSI Devices</A>
<P>
<A HREF="02irps_20.htm">2.4.5  Points to
Consider about Adding NT Drivers</A>
<BR>
<DT>
<A HREF="02irps_21.htm">2.5
&nbsp;NT Objects with Device, Configuration, or Layer Dependencies</A>
<DD>
<A HREF="02irps_22.htm">2.5.1  Video Driver’s Device
Objects</A>
<P>
<A HREF="02irps_23.htm">2.5.2  Keyboard and
Mouse Drivers’ Device Objects</A>
<P>
<A HREF="02irps_24.htm">2.5.3  Parallel
and Serial Drivers’ Device Objects</A>
<P>
<A HREF="02irps_25.htm">2.5.4  Sound Driver’s Device
Objects</A>
<P>
<A HREF="02irps_26.htm">2.5.5  AT Disk
Driver’s Device and Controller Objects</A>
<P>
<A HREF="02irps_27.htm">2.5.6  Floppy Driver’s Device
Objects</A>
<P>
<A HREF="02irps_28.htm">2.5.7  SCSI Drivers’ Device
Objects</A>
<P>
<A HREF="02irps_29.htm">2.5.8  Points to Consider
about NT Objects</A>
</DL>
</DL>
<P>
Every operating system has an implicit or explicit I/O model for handling the
flow of data to and from peripheral devices. The Windows NT&reg; executive I/O
model has the following general features:
<UL>
<LI>
The NT I/O Manager presents a consistent interface to all kernel-mode drivers,
including device, intermediate, and file system drivers. All I/O requests to
NT drivers are sent as I/O request packets (IRPs).
<P>
<LI>
I/O operations are layered. That is, the I/O Manager exports system services,
which user-mode protected subsystems call to carry out I/O operations on
behalf of their applications and/or end users. The I/O Manager intercepts
these calls, sets up one or more IRPs, and routes them through possibly
layered NT drivers to physical devices.
<P>
<LI>
The I/O Manager defines a set of standard routines, some optional, for NT
driver writers to implement. All NT drivers follow a relatively consistent
implementation model, given the differences among peripheral devices and the
differing functionality required of physical, virtual, logical, and file
system drivers.
<P>
<LI>
Like NT itself, NT drivers are object-based. Drivers, their devices, and
system hardware are represented as NT objects. The I/O Manager and other NT
components export kernel-mode support routines that NT drivers can call to get
work done by manipulating the appropriate objects.
</UL>
<P>
This chapter introduces the NT I/O model, supplying an overview of how
kernel-mode drivers fit into the system, of how NT drivers process IRPs, of
the system-defined standard driver routines, of common device configurations
and corresponding layered drivers, and of the NT objects that represent
devices, drivers, and system I/O hardware.
<P></FONT>
</BODY>
</HTML>
