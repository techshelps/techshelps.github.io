<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Class SecurityClassLoader</TITLE>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; CHARSET=iso8859-1">
<META NAME="MS.LOCALE" CONTENT="EN-US">
<META NAME="ROBOTS" CONTENT="all">
</HEAD>
<BODY BGCOLOR="White" TOPMARGIN=0 LEFTMARGIN=0 VLINK="#006699" ALINK="#006699">
<A NAME="top"></A>
<!--TOOLBAR_START-->
<!--TOOLBAR_END-->

<TABLE BORDER=0 CELLPADDING=0 CELLSPACING=0 WIDTH="98%">
<TR>
<TD ROWSPAN=2 WIDTH=114 ALIGN="LEFT" VALIGN="TOP">
<IMG SRC="art/title_x3.gif" WIDTH="112" HEIGHT="108"  BORDER=0 ALT="Packages"><TABLE CELLPADDING=0 CELLSPACING=0 BORDER=0 WIDTH="100%">
<TR><TD WIDTH=10>&nbsp;</TD><TD VALIGN="top"><FONT FACE="Verdana,Arial,Helvetica" SIZE=1><B STYLE="color:#006699">In this topic</B><P><IMG SRC="art/linkbull.gif" WIDTH="10" HEIGHT="8"  BORDER=0 ALT="*"><A STYLE="color: #333366;text-decoration:none" HREF="SecurityClassLoader.htm#com_0003000d0a010000">Constructors</A>
<P><IMG SRC="art/linkbull.gif" WIDTH="10" HEIGHT="8"  BORDER=0 ALT="*"><A STYLE="color: #333366;text-decoration:none" HREF="SecurityClassLoader.htm#com_0003000d0a020000">Methods</A>
<P><IMG SRC="art/linkbull.gif" WIDTH="10" HEIGHT="8"  BORDER=0 ALT="*"><A STYLE="color: #333366;text-decoration:none" HREF="SecurityClassLoader.htm#com_0003000d0a030000">Fields</A>
</FONT></TD></TR></TABLE>
</TD>
<TD WIDTH=20>&nbsp;</TD>
<TD ALIGN="LEFT" VALIGN="TOP">
<P>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0">
<TR>
<TD WIDTH="355" VALIGN="bottom"><IMG SRC="art/package2.gif" WIDTH="355" HEIGHT="27"  BORDER=0 ALT="Packages"></TD>
<TD WIDTH=20>&nbsp;</TD>
<TD ALIGN="center" VALIGN="bottom"><A HREF="PolicyEngine.htm"><IMG SRC="art/prevnrm.gif" WIDTH="51" HEIGHT="38"  BORDER=0 ALT="Previous"></A></TD><TD ALIGN="center" VALIGN="bottom"><A HREF="def_psec.htm"><IMG SRC="art/pkgnrm.gif" WIDTH="51" HEIGHT="38"  BORDER=0 ALT="This Package"></A></TD><TD ALIGN="center" VALIGN="bottom"><A HREF="SecurityExceptionEx.htm"><IMG SRC="art/nextnrm.gif" WIDTH="51" HEIGHT="38"  BORDER=0 ALT="Next"></A></TD></TR>
<TR>
<TD WIDTH="355" ALIGN="right" VALIGN="top"><FONT COLOR="#006699" SIZE="4" FACE="VERDANA,ARIAL,HELVETICA"><B>Package com.ms.security</B></FONT></TD>
<TD WIDTH=20>&nbsp;</TD>
<TD ALIGN="center" VALIGN="top"><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="1">Previous</FONT></TD>
<TD ALIGN="center" VALIGN="top"><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="1">This<BR>Package</FONT></TD>
<TD ALIGN="center" VALIGN="top"><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="1">Next</FONT></TD>
</TR>
</TABLE>
</TD>
</TR>
<TR>
<TD WIDTH=20>&nbsp;</TD>
<TD>
<BR>
<FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">
<BR><BR><H2 STYLE="color:#333366">Class SecurityClassLoader</H2>
<PRE><FONT FACE="Courier" SIZE="2">public abstract class SecurityClassLoader extends <B>ClassLoader</B>
{
  // Fields
  protected URL <A HREF="SecurityClassLoader.htm#com_0003000d0a030001">codeBase</A>;
  protected ThreadGroup <A HREF="SecurityClassLoader.htm#com_0003000d0a030002">threadGroup</A>;

  // Constructors
  protected <A HREF="SecurityClassLoader.htm#com_0003000d0a010100">SecurityClassLoader</A>();

  // Methods
  protected final synchronized Class <A HREF="SecurityClassLoader.htm#com_0003000d0a020100">defineClass</A>( String name,
        byte data[],int offset,int length,
        PermissionSet permissions,Principal principal);
  protected Class <A HREF="SecurityClassLoader.htm#com_0003000d0a020200">findPackageManagerClass</A>(String name)
        throws ClassNotFoundException;
  protected Class <A HREF="SecurityClassLoader.htm#com_0003000d0a020300">findPackageManagerClass</A>(String name,
        boolean fNameSpaceOnly) throws ClassNotFoundException;
  protected InputStream <A HREF="SecurityClassLoader.htm#com_0003000d0a020400">findPackageManagerResource</A>(String name);
  public Object <A HREF="SecurityClassLoader.htm#com_0003000d0a020500">getSecurityContext</A>();
  public ThreadGroup <A HREF="SecurityClassLoader.htm#com_0003000d0a020600">getThreadGroup</A>();
  protected void <A HREF="SecurityClassLoader.htm#com_0003000d0a020700">setCodeBase</A>(URL codeBase);
  protected void <A HREF="SecurityClassLoader.htm#com_0003000d0a020800">setPackageManagerNamespace</A>(String namespace);
  protected void <A HREF="SecurityClassLoader.htm#com_0003000d0a020900">setThreadGroup</A>(ThreadGroup tg);
}
</FONT></PRE>
<P>This class provides methods that associate permissions with classes. You can specify the permissions and a <B>java.security.Principal</B> object to associate with a new class. 

<PRE><FONT FACE="Courier" SIZE="2"><B>ClassLoader</B>
  |
  +--<B>SecurityClassLoader</B>
</FONT></PRE>
<H3 STYLE="color:#333366"><A NAME="com_0003000d0a010000">Constructors</A></H3><H4 STYLE="color:#333366"><A NAME="com_0003000d0a010100">SecurityClassLoader</A></H4><BLOCKQUOTE>
<PRE><FONT FACE="Courier" SIZE="2">protected SecurityClassLoader();
</FONT></PRE>
<P><P>Instantiates a new <A HREF="SecurityClassLoader.htm">SecurityClassLoader</A> instance. 

<P><B>Exceptions:</B> <P><B>SecurityException</B>
 if all of the callers on the current execution stack are not fully trusted. 


</BLOCKQUOTE>
<H3 STYLE="color:#333366"><A NAME="com_0003000d0a020000">Methods</A></H3><H4 STYLE="color:#333366"><A NAME="com_0003000d0a020100">defineClass</A></H4><BLOCKQUOTE>
<PRE><FONT FACE="Courier" SIZE="2">protected final synchronized Class defineClass( String name,byte data[],int
        offset,int length, PermissionSet permissions,Principal principal);
</FONT></PRE>
<P><P>Converts an array of bytes into an instance of <B>Class</B> and associates the new class with a set of permissions and a principal. 
<P><B>Return Value:</B> <P>Returns the <B>Class</B> object that was created from the data. 

<P><TABLE WIDTH=87% BORDER=1 CELLPADDING=5 CELLSPACING=0>
<TR VALIGN=TOP BGCOLOR="#DDDDDD">
<TD><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE=2><B>Parameter</B></FONT></TD><TD><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE=2><B>Description</B></FONT></TD></TR>
<TR VALIGN=TOP><TD><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE=2><I>name</I>
 </FONT></TD><TD><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">The expected name of the class, using "." (not "/") as a separator, and without a trailing .class suffix. This value will be null if the name is unknown. 


</FONT></TD></TR><TR VALIGN=TOP><TD><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE=2><I>data</I>
 </FONT></TD><TD><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">The bytes that make up the class. 


</FONT></TD></TR><TR VALIGN=TOP><TD><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE=2><I>offset</I>
 </FONT></TD><TD><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">The start offset of the class data. 


</FONT></TD></TR><TR VALIGN=TOP><TD><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE=2><I>length</I>
 </FONT></TD><TD><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">The length of the class data. 


</FONT></TD></TR><TR VALIGN=TOP><TD><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE=2><I>permissions</I>
 </FONT></TD><TD><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">The permissions to associate with the new class. The value can be null, in which case the new class will have no associated permissions. 


</FONT></TD></TR><TR VALIGN=TOP><TD><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE=2><I>principal</I>
 </FONT></TD><TD><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">The principal to associate with the new class. The value can be null, in which case the new class will have no associated principal. 

</FONT></TD></TR></TABLE>
<P><B>Remarks:</B> <P>This method is similar to the <B>java.lang.Class.defineClass</B> method with the added ability to associate a set of permissions with a class. As with the <B>java.lang.Class.defineClass</B> method, the class must be resolved before it can be used. 
<P><B>Exceptions:</B> <P><B>ClassFormatError</B>
 if the data does not contain a valid <B>Class</B>. 


</BLOCKQUOTE>
<H4 STYLE="color:#333366"><A NAME="com_0003000d0a020200">findPackageManagerClass</A></H4><BLOCKQUOTE>
<PRE><FONT FACE="Courier" SIZE="2">protected Class findPackageManagerClass(String name)
        throws ClassNotFoundException;
</FONT></PRE>
<P><P>Finds a specified class from the package manager. Within the package manager, this method will search for the class in both the global namespace and the namespace associated with the loader (if any). Calling this method is equivalent to calling <B>findPackageManagerClass(name,false)</B>. 

<P><B>Return Value:</B> <P>Returns a package manager class with the specified name. 

<P><TABLE WIDTH=87% BORDER=1 CELLPADDING=5 CELLSPACING=0>
<TR VALIGN=TOP BGCOLOR="#DDDDDD">
<TD><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE=2><B>Parameter</B></FONT></TD><TD><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE=2><B>Description</B></FONT></TD></TR>
<TR VALIGN=TOP><TD><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE=2><I>name</I>
 </FONT></TD><TD><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">The name of the class. 

</FONT></TD></TR></TABLE>
<P><B>Exceptions:</B> <P><B>ClassNotFoundException</B>
 if this method cannot find a definition for the class. 


</BLOCKQUOTE>
<H4 STYLE="color:#333366"><A NAME="com_0003000d0a020300">findPackageManagerClass</A></H4><BLOCKQUOTE>
<PRE><FONT FACE="Courier" SIZE="2">protected Class findPackageManagerClass(String name,boolean fNameSpaceOnly)
        throws ClassNotFoundException;
</FONT></PRE>
<P><P>Finds a specified class from the package manager. If the class is found, it will be marked with the set of permissions that are associated with its package within the package manager. The principal associated with the class will be based on the principal that the package manager associates with its package. 
<P><B>Return Value:</B> <P>Returns a package manager class with the specified name. 

<P><TABLE WIDTH=87% BORDER=1 CELLPADDING=5 CELLSPACING=0>
<TR VALIGN=TOP BGCOLOR="#DDDDDD">
<TD><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE=2><B>Parameter</B></FONT></TD><TD><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE=2><B>Description</B></FONT></TD></TR>
<TR VALIGN=TOP><TD><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE=2><I>name</I>
 </FONT></TD><TD><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">The name of the class. 


</FONT></TD></TR><TR VALIGN=TOP><TD><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE=2><I>fNameSpaceOnly</I>
 </FONT></TD><TD><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">The flag that indicates whether to ignore the global package manager namespace during the search for the class. If the value is true, only the package manager namespace associated with the class loader will be searched; otherwise, the global namespace and the package manager namespace will be searched. 

</FONT></TD></TR></TABLE>
<P><B>Remarks:</B> <P>The <I>fNameSpaceOnly</I> parameter can be used to force this method to look only in the package manager namespace associated with this loader. However, only rarely would you need to exclude the global namespace from the search path. Normally, you would pass false for the <I>fNameSpaceOnly</I> parameter, or simply use the <B>findPackageManagerClass</B> method that has only one parameter. 
<P><B>Exceptions:</B> <P><B>ClassNotFoundException</B>
 if this method cannot find a definition for the specified class. 


</BLOCKQUOTE>
<H4 STYLE="color:#333366"><A NAME="com_0003000d0a020400">findPackageManagerResource</A></H4><BLOCKQUOTE>
<PRE><FONT FACE="Courier" SIZE="2">protected InputStream findPackageManagerResource(String name);
</FONT></PRE>
<P><P>Retrieves an <B>InputStream</B> associated with a package manager resource with the specified name. As with the findSystemResourceX APIs, this method expects the name to be separated with a "/". For example, the package manager resource name "my/sample/baz.gif" indicates the baz.gif file within the my.sample package. 

<P><B>Return Value:</B> <P>Returns an <B>InputStream</B> associated with the resource, or null if the <B>InputStream</B> cannot be found. 

<P><TABLE WIDTH=87% BORDER=1 CELLPADDING=5 CELLSPACING=0>
<TR VALIGN=TOP BGCOLOR="#DDDDDD">
<TD><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE=2><B>Parameter</B></FONT></TD><TD><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE=2><B>Description</B></FONT></TD></TR>
<TR VALIGN=TOP><TD><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE=2><I>name</I>
 </FONT></TD><TD><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">The name of the resource to find. 

</FONT></TD></TR></TABLE>
</BLOCKQUOTE>
<H4 STYLE="color:#333366"><A NAME="com_0003000d0a020500">getSecurityContext</A></H4><BLOCKQUOTE>
<PRE><FONT FACE="Courier" SIZE="2">public Object getSecurityContext();
</FONT></PRE>
<P><P>Retrieves the security context object associated with the class loader. Currently, this returns the codebase URL. 

<P><B>Return Value:</B> <P>Returns the codebase URL associated with the class loader. 

</BLOCKQUOTE>
<H4 STYLE="color:#333366"><A NAME="com_0003000d0a020600">getThreadGroup</A></H4><BLOCKQUOTE>
<PRE><FONT FACE="Courier" SIZE="2">public ThreadGroup getThreadGroup();
</FONT></PRE>
<P><P>Retrieves the thread group associated with the loader. 

<P><B>Return Value:</B> <P>Returns the thread group associated with the loader. 

</BLOCKQUOTE>
<H4 STYLE="color:#333366"><A NAME="com_0003000d0a020700">setCodeBase</A></H4><BLOCKQUOTE>
<PRE><FONT FACE="Courier" SIZE="2">protected void setCodeBase(URL codeBase);
</FONT></PRE>
<P><P>Sets the codebase URL associated with the class loader. Call this method before using the loader to load classes. 

<P><B>Return Value:</B> <P>No return value. 

<P><TABLE WIDTH=87% BORDER=1 CELLPADDING=5 CELLSPACING=0>
<TR VALIGN=TOP BGCOLOR="#DDDDDD">
<TD><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE=2><B>Parameter</B></FONT></TD><TD><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE=2><B>Description</B></FONT></TD></TR>
<TR VALIGN=TOP><TD><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE=2><I>codeBase</I>
 </FONT></TD><TD><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">The codebase URL to associate with the loader. 

</FONT></TD></TR></TABLE>
<P><B>Exceptions:</B> <P><B>SecurityException</B>
 if the loader already has an associated codebase URL. 


</BLOCKQUOTE>
<H4 STYLE="color:#333366"><A NAME="com_0003000d0a020800">setPackageManagerNamespace</A></H4><BLOCKQUOTE>
<PRE><FONT FACE="Courier" SIZE="2">protected void setPackageManagerNamespace(String namespace);
</FONT></PRE>
<P><P>Sets the package manager namespace associated with the loader. 
<P><B>Return Value:</B> <P>No return value. 

<P><TABLE WIDTH=87% BORDER=1 CELLPADDING=5 CELLSPACING=0>
<TR VALIGN=TOP BGCOLOR="#DDDDDD">
<TD><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE=2><B>Parameter</B></FONT></TD><TD><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE=2><B>Description</B></FONT></TD></TR>
<TR VALIGN=TOP><TD><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE=2><I>namespace</I>
 </FONT></TD><TD><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">The name of the package manager namespace to associate with the loader. 

</FONT></TD></TR></TABLE>
<P><B>Remarks:</B> <P>All package management class and resource loads done by this loader will look in this explicitly-named namespace in addition to the default global package manager namespace. 
<P><B>Exceptions:</B> <P><B>SecurityException</B>
 if the loader already has an associated package manager namespace. 


</BLOCKQUOTE>
<H4 STYLE="color:#333366"><A NAME="com_0003000d0a020900">setThreadGroup</A></H4><BLOCKQUOTE>
<PRE><FONT FACE="Courier" SIZE="2">protected void setThreadGroup(ThreadGroup tg);
</FONT></PRE>
<P><P>Sets the thread group associated with the class loader. Call this method before using the loader to load classes. 

<P><B>Return Value:</B> <P>No return value. 

<P><TABLE WIDTH=87% BORDER=1 CELLPADDING=5 CELLSPACING=0>
<TR VALIGN=TOP BGCOLOR="#DDDDDD">
<TD><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE=2><B>Parameter</B></FONT></TD><TD><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE=2><B>Description</B></FONT></TD></TR>
<TR VALIGN=TOP><TD><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE=2><I>tg</I>
 </FONT></TD><TD><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">The thread group to associate with the class loader. 

</FONT></TD></TR></TABLE>
<P><B>Exceptions:</B> <P><B>SecurityException</B>
 if the loader already has an associated <B>ThreadGroup</B> object. 


</BLOCKQUOTE>
<H3 STYLE="color:#333366"><A NAME="com_0003000d0a030000">Fields</A></H3><DL>
<DT><B><A NAME="com_0003000d0a030001">codeBase</A></B>
</DT><DD>The codebase URL associated with code from the class loader. 

</DD><DT><B><A NAME="com_0003000d0a030002">threadGroup</A></B>
</DT><DD>The loader's thread group. 
<P>This thread group serves as the master thread group for all code associated with this class loader. For applets, each individual applet instance will have a sub-thread group of this thread group. The security system uses this thread group to determine the active context-based thread group at any given point. 
<P>For more details on how the security system uses this thread group, see the <A HREF="StandardSecurityManager.htm#com_0003000d0c022600">StandardSecurityManager.getThreadGroup</A> method. 

</DD></DL>
<P>
</FONT>
</TD>
</TR>
</TABLE>
<CENTER>
<P><TABLE WIDTH="95%"><TR><TD HEIGHT=1 BGCOLOR="RED"></TD></TR></TABLE>
<TABLE WIDTH="100%"><TR>
<TD ALIGN="left"><A HREF="#top"><IMG SRC="art/upnrm.gif" WIDTH="51" HEIGHT="38"  BORDER=0 ALT="upnrm.gif"></A></TD>
<TD ALIGN="right">
<FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="1"><A HREF="cpyright.htm">&#169; 1998 Microsoft Corporation. All rights reserved. Terms of use.</A></FONT></TD></TR></TABLE>
</CENTER>
</BODY></HTML>
