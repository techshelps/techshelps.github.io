<HTML><HEAD><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>IFSMgr_RemoveLocks</TITLE><META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset= iso-8859-1"><style>@import url(/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="/msdn_ie3.css"></HEAD><BODY BGCOLOR="#FFFFFF">
<FONT FACE="verdana,arial,helvetica" SIZE="2">
<H3>IFSMgr_RemoveLocks </H3><P><BR></P>
<PRE>IFSMgr_RemoveLocks(
 void ** ppFSDLockListHead,
 unsigned long LockOwner,
 void *  pOpenFileInstance
 )
</PRE>
<P>This service is called to remove the locks on a file. </P>
<P><I>ppFSDLockListHead</I> </P>
<P>Supplies a pointer to a variable that contains the pointer to the list of locks. </P>
<P><I>LockOwner</I> </P>
<P>Supplies the process id of the process requesting the lock. A special process id of 0 can be passed in to remove all locks for a given file instance. Typically, this special value would be passed in when a process is terminating and its open file instance is being closed but there are still other processes that have the file open. </P>
<P><I>pOpenFileInstance</I> </P>
<P>Supplies a pointer to the structure that describes the current open file instance. A special value of 0 can be passed in to remove the locks by the specified process for all instances of the open file. </P>
<UL><LI>     No return value. </LI></UL>
<TABLE COLS="2" BORDER="0" CELLPADDING="7"><COLGROUP><COL WIDTH="144pt" VALIGN="TOP"><COL WIDTH="190pt" VALIGN="TOP"></COLGROUP><TBODY><TR><TD VALIGN="TOP"><P><I>ppFSDLockListHead</I> </P></TD><TD VALIGN="TOP"><P>The lock list head stored in this variable might have been updated or set to NULL. </P></TD></TR></TBODY></TABLE>
<P><BR></P><P></P>
<P></P>
<P>There is one special case. If both the <I>LockOwner</I> and the <I>pOpenFileInstance</I> parameters are passed in as 0, then all active locks on the file are removed. This would usually be done when there are no open instances for an open file and the open file structure is being freed. If an open file is deleted, that would be another situation where all active locks on the file need to be removed. </P>
<P></P>
<P></P></FONT></BODY></HTML>
