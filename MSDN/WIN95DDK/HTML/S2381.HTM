<HTML><HEAD><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Adding Registry Entries</TITLE><META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset= iso-8859-1"><style>@import url(/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="/msdn_ie3.css"></HEAD><BODY BGCOLOR="#FFFFFF">
<FONT FACE="verdana,arial,helvetica" SIZE="2">
<H3>Adding Registry Entries </H3><P>For a block device such as the CX2590 SCSI adapter, </P>
<UL><LI>     The Windows I/O Supervisor (IOS) must be specified as the device loader in a registry entry. </LI><LI>     A registry entry must be made that holds the name of the block device miniport driver, which in this example is named CX2590.MCD. </LI></UL><P></P>
<H4><A NAME="sec0"></A>Creating the AddReg-type Section for the DevLoader </H4><P>To put a new AddRef-type section into the INF file that makes one of these registry entries at the time the CX2590 adapter is installed, you can use Infedit in the following way: </P>
<P>    1.      To add an AddReg-type subfolder to the INF file, right-click on the AddRegistry Sections folder and then select the New Add Registry Section option from the popup menu. In the Infedit user interface, this creates a new unnamed subfolder under the Add Registry folder. </P>
<P>    2    To name the new subfolder (section), double-click on the new subfolder and then double-click on the Section Name label in the Item column of the edit area. Use the Edit String dialog to enter the name. You can use any name; in this example, StdIOS_RegEntries is the name used. </P>
<P>    3    To add an item to the new AddReg-type section, right-click on the folder that represents the section (the folder named StdIOS_RegEntries). Then select the Add Section Value option from the popup menu. This creates a new subfolder, named Item 0, to hold the new item. </P>
<P>    4    To add the item to the section, double-click on the Item 0 folder. The edit region of the Infedit interface displays the items that can be put in an item that goes into an AddReg-type INF file section. </P>
<P>    5    Double-click on the Value Name in the Item column of the display and use the Edit String dialog to enter the string "DevLoader." Then double-click on Value in the Item column and use the Edit String dialog to enter the string "IOS." </P>
<P></P>
<P>When you are done, the edit region display will look like this: </P>
<P>    <img src="screen10.gif"></P>
<H4><A NAME="sec1"></A>Creating the AddReg-type Section for the Miniport Driver </H4><P>You can use the same method to add an AddReg-type section to the INF file that creates a registry entry for the Miniport driver at installation time. In this example, that section is named CX2590_RegEntries, but can be named anything as long as it is a unique section name in the INF file. The filename of the miniport driver is CX2590.MPD. </P>
<P>The AddReg-type section items that must be put into an INF file vary between classes of devices. One way to find out what entries are required is to look at the AddReg-type sections in the INF files for your class of device that are in the %WINROOT%\INF directory after Windows 95 is installed on your machine. </P>
<H5><A NAME="sec2"></A>Adding References to the AddReg-Type Sections to the Install Section </H5><P>For the AddReg-type sections you have built (named StdIOS_RegEntries and CX2590_RegEntries) to be recognized by the operating system installer, the names of the two sections have to be added to the Install section. To do this </P>
<P>    1.      Double-click on the Install sections subfolder named CX2590.Install. A list of all the types of sections that can be referred to in an Install section will be displayed in the edit area on the right side of the screen. </P>
<P>    2    Since you want to add the names of AddReg-type sections to the Install section of the INF file, double-click the AddReg item in the edit box list. Use the Edit Section List dialog to move the two AddReg-type section names (StdIOS_RegEntries and CX2590_RegEntries in this example) from the Available Sections list box to the Included Sections list box and then click OK. </P>
<P></P>
<P>At this point, the edit display looks like this: </P>
<P>    <img src="screen12.gif"></P>
<P>This display reflects that the two AddReg-type sections and two logical configuration sections have been put into the INF file and the names of all four sections have been added to the Install section script. Sections that enable files to be copied from an installation diskette to specific hard disk directories have to added to the INF file also. </P></FONT></BODY></HTML>
