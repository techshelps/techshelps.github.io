<HTML><HEAD><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Get_Crit_Status_No_Block</TITLE><META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset= iso-8859-1"><style>@import url(/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="/msdn_ie3.css"></HEAD><BODY BGCOLOR="#FFFFFF">
<FONT FACE="verdana,arial,helvetica" SIZE="2">
<H3>Get_Crit_Status_No_Block </H3><P><BR></P>
<PRE>include vmm.inc

VMMcall Get_Crit_Status_No_Block

mov     [VMHandle], ebx
mov     [Claims], ecx
jc      high_priority
</PRE>
<P>Retrieves the claim count and handle of the owner of the critical section. Unlike the <B>Get_Crit_Section_Status</B> service, this service returns immediately (without blocking) even if a delayed request to release the critical section is pending. This service is only available for Windows version 3.1 or later. Uses Flags. </P>
<UL><LI>     Returns the critical section claim count in ECX and the handle of the virtual machine owning the critical section EBX. If ECX is 0, EBX is the handle of the current virtual machine. The carry flag is set if the current virtual machine has an execution priority greater than or equal to Critical_Section_Boost, such as during a hardware interrupt simulation. </LI></UL><P></P>
<P>In some cases, this service may indicate that the critical section is currently owned even when it will be released before returning to the virtual machine. </P>
<P>This is an asynchronous service; it may be called at interrupt time. </P>
<P>See also <B>End_Critical_Section</B>, <B>Get_Crit_Section_Status</B> </P>
<P></P>
<P></P></FONT></BODY></HTML>
