<HTML><HEAD><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Considerations for Logical Grouping of Devices</TITLE><META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset= iso-8859-1"><style>@import url(/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="/msdn_ie3.css"></HEAD><BODY BGCOLOR="#FFFFFF">
<FONT FACE="verdana,arial,helvetica" SIZE="2">
<H2>Considerations for Logical Grouping of Devices </H2><P>Note that many audio devices have dependencies which fall outside of the normal "hardware resource" sharing idiom, that is, IRQ, I/O, DMA, or memory ranges. For example, FM synthesizer chips often have an internal dependency on the mixer device of the card. In this example the devices should not be treated as separate logical device even though functionally they are somewhat independent of each other. </P>
<P>Other considerations for how to logically group the devices of a multifunction board: </P>
<UL><LI>     Functionally independent but tightly coupled devices 
<P>Example: An audio card that includes an FM synthesizer and a digital audio (wave) playback device both connected to a mixer device. </P>

<P>Although these devices are somewhat functionally independent, they still have important interconnections. There must be a way to associate the synthesizer, wave, and mixer devices with each other. If such an association cannot be made, then an application would not, for example, be able to determine which mixer device to utilize in order to alter the audio being produced by a given synthesizer device. In some cases, this association cannot be accomplished in a bus-independent manner. By grouping the resources of all the devices as a single logical device (with a single devnode) the association can be made more easily. </P></LI><LI>     Devices providing compatibility modes 
<P>Example: An audio card that provides Sound Blaster compatibility. However, the device can only operate in compatibility mode or native mode, but not both simultaneously. </P>

<P>Such a device would typically implement two register planes (one native and a second "compatibility plane" for Sound Blaster emulation) which are connected to a single DAC/ADC. Obviously these register planes are not functionally independent, they are in fact mutually exclusive. The device should not be designed as two logical devices (one using a native PNP ID and another using the Sound Blaster PNP ID). Instead, to properly handle this case, a single devnode should be created containing all required resources including both the native registers and the Sound Blaster compatible registers. The supporting drivers must handle the hardware contention between the separate register sets at the I/O level. </P></LI></UL><P></P></FONT></BODY></HTML>
