<HTML><HEAD><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>IFSMgr_CheckLocks</TITLE><META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset= iso-8859-1"><style>@import url(/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="/msdn_ie3.css"></HEAD><BODY BGCOLOR="#FFFFFF">
<FONT FACE="verdana,arial,helvetica" SIZE="2">
<H3>IFSMgr_CheckLocks </H3><P><BR></P>
<PRE>IFSMgr_CheckLocks(
 void * pFSDLockListHead,
 unsigned long Offset,
 unsigned long Length,
 unsigned long Process,
 void * pOpenFileInstance,
 unsigned long fOperation
 )
</PRE>
<P>This service checks if the specified i/o operation can be done on the file without violating any of the locks that are active on the open file. It walks the list of locks active on the open file and checks if the current i/o operation violates any of the locks. </P>
<P><I>pFSDLockListHead</I> </P>
<P>Supplies a pointer to the head of the list of locks. </P>
<P><I>Offset</I> </P>
<P>Supplies the starting offset in the file of the region the i/o operation is to be done to. </P>
<P><I>Length</I> </P>
<P>Supplies the length of the i/o operation. </P>
<P><I>Process</I> </P>
<P>Supplies the process id of the process performing the i/o operation. </P>
<P><I>pOpenFileInstance</I> </P>
<P>Supplies a pointer to the structure that describes the current open file instance. </P>
<P><I>fOperation</I> </P>
<P>Supplies flags indicating what kind of i/o operation is being done. </P>

<TABLE COLS="2" BORDER="0" CELLPADDING="7"><COLGROUP><COL WIDTH="144pt" VALIGN="TOP"><COL WIDTH="190pt" VALIGN="TOP"></COLGROUP><TBODY><TR><TD VALIGN="TOP"><P><B>I/O Operation Flags:</B> </P></TD><TD VALIGN="TOP"><P></P></TD></TR><TR><TD VALIGN="TOP"><P><B>Value </B></P></TD><TD VALIGN="TOP"><P><B>Meaning </B></P></TD></TR><TR><TD VALIGN="TOP"><P><B>LOCKF_RD</B> </P></TD><TD VALIGN="TOP"><P>Indicates that a read operation is being done. </P></TD></TR><TR><TD VALIGN="TOP"><P><B>LOCKF_WR</B> </P></TD><TD VALIGN="TOP"><P>Indicates that a write operation is being done. </P></TD></TR></TBODY></TABLE>
<P><BR></P><P></P>
<UL><LI>     Returns 0 if i/o operation can be done, errorcode if the i/o operation violates any of the active locks. </LI></UL><P></P>
<P></P>
<P></P></FONT></BODY></HTML>
