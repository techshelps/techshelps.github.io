<HTML><HEAD><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>CANDIDATELIST</TITLE><META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset= iso-8859-1"><style>@import url(/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="/msdn_ie3.css"></HEAD><BODY BGCOLOR="#FFFFFF">
<FONT FACE="verdana,arial,helvetica" SIZE="2">
<H3>CANDIDATELIST </H3><P><BR></P>
<PRE>typedef struct tagCANDIDATELIST {
DWORD  dwSize;   // size of this data structure.
DWORD  dwStyle;  // style of candidate strings.
DWORD  dwCount;  // number of the candidate strings.
DWORD  dwSelection;  // index of a candidate string now selected.
DWORD  dwPageStart;  // index of the first candidate string in candidate 
                     //   window. It can vary with the page up or page 
                     //   down key.
DWORD  dwPageSize;   // preference number of candidate strings 
                     //   in one page.
DWORD  dwOffset[];   // startng positions of first candidate strings.
// Start positions of other (2nd, 3rd, ..) candidate strings are 
// appended after this field. IME can do this by reallocating the 
// hCandInfo memory handle, so IME can access dwOffset[2] (3rd candidate 
// string) or dwOffset[5] (6st candidate string). CHAR chCandidateStr[]; 
// the array of the candidate strings.
} CANDIDATELIST;</PRE>
<P><B>dwCandidateStyle</B> </P>
<P>Can be a combination of these values: </P>

<TABLE COLS="2" BORDER="0" CELLPADDING="7"><COLGROUP><COL WIDTH="144pt" VALIGN="TOP"><COL WIDTH="190pt" VALIGN="TOP"></COLGROUP><TBODY><TR><TD VALIGN="TOP"><P><B>Value </B></P></TD><TD VALIGN="TOP"><P><B>Meaning </B></P></TD></TR><TR><TD VALIGN="TOP"><P>IME_CAND_UNKNOWN </P></TD><TD VALIGN="TOP"><P>Candidates are in a style other style than that listed above. </P></TD></TR><TR><TD VALIGN="TOP"><P>IME_CAND_READ </P></TD><TD VALIGN="TOP"><P>Candidates are in same reading. </P></TD></TR><TR><TD VALIGN="TOP"><P>IME_CAND_CODE </P></TD><TD VALIGN="TOP"><P>Candidates are in a code range. </P></TD></TR><TR><TD VALIGN="TOP"><P>IME_CAND_MEANING </P></TD><TD VALIGN="TOP"><P>Candidates are in same meaning. </P></TD></TR><TR><TD VALIGN="TOP"><P>IME_CAND_RADICAL </P></TD><TD VALIGN="TOP"><P>Candidates use same radical character. </P></TD></TR><TR><TD VALIGN="TOP"><P>IME_CAND_STROKE </P></TD><TD VALIGN="TOP"><P>Candidates are in same number of strokes. </P></TD></TR></TBODY></TABLE>
<P><BR></P><P></P>
<P>This structure is used by the <B>ImmGetCandidateList</B> function. </P>
<P>When the <B>dwStyle</B> is IME_CAND_CODE, this candidate list structure has the special case. There are two cases: one is that <B>dwCount</B> is 1, and another is that <B>dwCount</B> is larger than 1. </P>
<P>When the <B>dwCount</B> equals 1: </P>
<P>dwSize is valid </P>
<P>dwStyle = IME_CAND_CODE </P>
<P>dwCount = 1 </P>
<P>dwSelection = 0 </P>
<P>dwPageStart = 0 </P>
<P>dwPageSize is valid </P>
<P>dwOffset[0] is the offset of 'A140' (example code of a DBCS character) </P>
<P>At this time, the UI shows the candidate list, but the selected one is "A140". For example, the UI may show the candidate list from 'A140' to 'A14F' and the scroll bar at one page. </P>
<P>When the <B>dwCount</B> is larger than 1: </P>
<P>dwSize is valid </P>
<P>dwStyle = IME_CAND_CODE </P>
<P>dwCount is valid </P>
<P>dwSelection = index of <B>dwOffset</B> that is selected </P>
<P>dwPageStart = first index of <B>dwOffset</B> that is displayed </P>
<P>dwPageSize is valid </P>
<P>dwOffset[0] = offset of the first string </P>
<P>dwOffset[1] = offset of the second string </P>
<P>dwOffset[2] = offset of the third string </P>
<P>szCandStr[0] = "A140" string </P>
<P>szCandStr[1] = "A141" string </P>
<P>szCandStr[2] = "A142" string </P>
<P>At this time, the candidate list will be provided by IME conversion engine. Using this, the IME can support the input like "A1?3". When the user input "A1?3", the IME provide the candidate list as follows. </P>
<P>dwCount = 0x10 </P>
<P>dwSelection = index of <B>dwOffset</B> that is selected </P>
<P>dwPageStart = first index of <B>dwOffset</B> that is displayed </P>
<P>dwPageSize is valid </P>
<P>szCandStr[0x0] = "A103" string </P>
<P>szCandStr[0x1] = "A113" string </P>
<P>szCandStr[0x2] = "A123" string </P>
<P>. </P>
<P>. </P>
<P>. </P>
<P>szCandStr[0x0F] = "A1F3" string </P>
<P></P>
<P></P></FONT></BODY></HTML>
