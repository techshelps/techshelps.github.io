<HTML><HEAD><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>About SCS_CHANGEATTR</TITLE><META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset= iso-8859-1"><style>@import url(/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="/msdn_ie3.css"></HEAD><BODY BGCOLOR="#FFFFFF">
<FONT FACE="verdana,arial,helvetica" SIZE="2">
<H3>About SCS_CHANGEATTR </H3><P>SCS_CHANGEATTR effects only attribute information. The IME should not update the composition string, the clause information of the composition string, the reading of the composition string, or the clause information of reading of the composition string. </P>
<P>First, the IME checks the new attribute to determine if it is acceptable. Second, the IME sets the new attribute in the <B>COMPOSITIONSTRING</B> structure of <I>hIMC</I>. At last, the IME generates the WM_IME_COMPOSITION message. </P>
<P>If it is necessary, IME may update the candidate information and generate the candidate messages IMN_OPENCANDIDATE, IMN_CHANGECANDIDATE, or IMN_CLOSECANDIDATE. </P>
<P>IME can not finalize the composition string. </P>
<P>If the <I>lpRead</I> parameter of <B>ImeSetCompositionString</B> is available, the IME follows the new attribute in <I>lpRead</I>. The IME should also make a new attribute of the composition string for the current composition string. At this time, the clause information will not be changed. </P>
<P>The composition string, the attribute, the clause information, the reading string, the reading attribute, and the reading clause information must be available. The IME generates WM_IME_COMPOSITION with (GCS_COMP | GCS_COMPREAD). If the IME can not accept the new attribute that is in <I>lpRead</I>, IME don't need to generate any message and return FALSE. </P>
<P>If the <B>lpComp</B> parameter of <B>ImeSetCompositionString</B> is available, the IME follows the new attribute in <I>lpComp</I>. At this time, the clause information will not change. </P>
<P>If the capability of the IME has SCS_CAP_MAKEREAD and the reading string is available, the IME should make new attribute of the reading of the composition string for the current reading of the composition string. </P>
<P>If both <I>lpRead</I> and <I>lpComp</I> are available, and if the IME can accept the new information, the IME sets the new information into the <B>COMPOSITION</B> structure of <I>hIMC</I> and generates WM_IME_COMPOSITION with (GCS_COMP | GCS_COMPREAD). </P></FONT></BODY></HTML>
