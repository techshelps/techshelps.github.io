<HTML><HEAD><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>FS_DisconnectResource</TITLE><META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset= iso-8859-1"><style>@import url(/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="/msdn_ie3.css"></HEAD><BODY BGCOLOR="#FFFFFF">
<FONT FACE="verdana,arial,helvetica" SIZE="2">
<H3>FS_DisconnectResource </H3><P><BR></P>
<PRE>FS_DisconnectResource(
 PIOREQ pir
 )
</PRE>
<P>An existing network connection or a mount on a local drive is removed through <B>FS_DisconnectResource</B>. </P>
<P><I>ir_rh</I> </P>
<P>Supplies handle to resource that is to be disconnected or dismounted. </P>
<P><I>ir_flags</I> </P>
<P>Supplies flags for the disconnect or dismount operation. </P>

<TABLE COLS="2" BORDER="0" CELLPADDING="7"><COLGROUP><COL WIDTH="144pt" VALIGN="TOP"><COL WIDTH="190pt" VALIGN="TOP"></COLGROUP><TBODY><TR><TD VALIGN="TOP"><P><B>Disconnect Flag Values:</B> </P></TD><TD VALIGN="TOP"><P></P></TD></TR><TR><TD VALIGN="TOP"><P><B>Value </B></P></TD><TD VALIGN="TOP"><P><B>Meaning </B></P></TD></TR><TR><TD VALIGN="TOP"><P><B>DISCONNECT_NORMAL</B> </P></TD><TD VALIGN="TOP"><P>Normal disconnect operation, complete all pending io operations and disconnect the resource. </P></TD></TR><TR><TD VALIGN="TOP"><P><B>DISCONNECT_NO_IO</B> </P></TD><TD VALIGN="TOP"><P>Disconnect the resource without doing any io operation. Pending io operations should be discarded. This will typically be called on volumes that have gone away, usually due to user action. </P></TD></TR><TR><TD VALIGN="TOP"><P><B>DISCONNECT_SINGLE</B> </P></TD><TD VALIGN="TOP"><P>Disconnect this resource alone. There are certain cases where multiple resources can be associated to one another and come and go as a unit. This flag is passed in to prevent all the resources from going away on associated resources. This is typically the case on compressed drives. </P></TD></TR></TBODY></TABLE>
<P><BR></P><P></P>
<P><I>ir_user</I> </P>
<P>Supplies user id for this request. </P>
<P><I>ir_pid</I> </P>
<P>Supplies process id for this request. </P>
<P><I>ir_pev</I> </P>
<P>Supplies a pointer to an event handle. This value is a valid pointer if the disconnect function is called at event time. If the function is called during normal application execution time, this pointer will be NULL. </P>

<TABLE COLS="2" BORDER="0" CELLPADDING="7"><COLGROUP><COL WIDTH="144pt" VALIGN="TOP"><COL WIDTH="190pt" VALIGN="TOP"></COLGROUP><TBODY><TR><TD VALIGN="TOP"><P>     <I>ir_error</I> </P></TD><TD VALIGN="TOP"><P>Contains status of the operation ( 0 if no error, errorcode otherwise ). </P></TD></TR></TBODY></TABLE>
<P><BR></P><P></P>
<P></P>
<P>The IFS Manager will ensure that all files on the resource have been closed before this call is made. The DISCONNECT_NO_IO case is the only situation in which this may not be true. If the DISCONNECT_NO_IO flag is passed in and the FSD has pending io operations on the volume it should return an error back on the disconnect operation so that the IFS manager can notify the user of this situation. Note that this function can be called at event time, FSDs should not make any assumptions about when this function is called. </P>
<P></P>
<P></P></FONT></BODY></HTML>
