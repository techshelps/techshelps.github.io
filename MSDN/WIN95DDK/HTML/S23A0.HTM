<HTML><HEAD><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>DiGetClassDevsEx</TITLE><META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset= iso-8859-1"><style>@import url(/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="/msdn_ie3.css"></HEAD><BODY BGCOLOR="#FFFFFF">
<FONT FACE="verdana,arial,helvetica" SIZE="2">
<H3>DiGetClassDevsEx </H3><P><BR></P>
<PRE>RETERR DiGetClassDevsEx(LPLPDEVICE_INFO lplpdi, LPCSTR lpszClassName, LPSTR lpszEnumerator, HWND hwndParent, int iFlags)
</PRE>
<P>Returns a list of DEVICE_INFO structs for all of the installed devices of a specified class. </P>
<UL><LI>     Returns OK if successful, otherwise an ERR_DI_xxx error code will be returned. </LI></UL><P></P>
<P><I>lplpdi</I> </P>
<P>Pointer to a pointer to a DEVICE_INFO struct. This pointer receives the pointer to the beginning of the list of DEVICE_INFO structs created by this function. </P>
<P><I>lpszClassName</I> </P>
<P>If non-null, the class name to use when creating the list of devices. </P>
<P><I>lpszEnumerator</I> </P>
<P>If specified this API will retrieve devices created by the specified enumerator. If NULL then this functions works like DiGetClassDevs. For example. this parameter could specify ROOT, and only device in the ENUM\ROOT branch would be returned. </P>
<P><I>hwndParent</I> </P>
<P>If non-null, the window handle of the top level window use for any U/I using the resulting DEVICE_INFO structs. </P>
<P><I>iFlags</I> </P>
<P>Control options for building the device list. </P>

<TABLE COLS="2" BORDER="0" CELLPADDING="7"><COLGROUP><COL WIDTH="144pt" VALIGN="TOP"><COL WIDTH="190pt" VALIGN="TOP"></COLGROUP><TBODY><TR><TD VALIGN="TOP"><P>DIGCF_PRESENT </P></TD><TD VALIGN="TOP"><P>Return only devices which are present. This flag is only valid if Config Manager is running and has created devnodes for the installed devices. </P></TD></TR><TR><TD VALIGN="TOP"><P>DIGCF_ALLCLASSES </P></TD><TD VALIGN="TOP"><P>Return a list of installed devices for all classes. If set, this flags will cause lpszClassName to be ignored. </P></TD></TR><TR><TD VALIGN="TOP"><P>DIGCF_PROFILE </P></TD><TD VALIGN="TOP"><P>Return only devices which are present in the current configuration. </P></TD></TR></TBODY></TABLE>
<P><BR></P><P></P>
<P>This function build a list of device that have been previsouly installed. This function uses the HKLM\ENUM branch of the registry to build its list. </P>
<P>See also <B>DiGetClassDevs</B> </P>
<P></P>
<P></P></FONT></BODY></HTML>
