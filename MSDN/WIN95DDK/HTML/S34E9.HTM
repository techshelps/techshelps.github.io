<HTML><HEAD><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>V86MMGR_Free_Buffer</TITLE><META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset= iso-8859-1"><style>@import url(/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="/msdn_ie3.css"></HEAD><BODY BGCOLOR="#FFFFFF">
<FONT FACE="verdana,arial,helvetica" SIZE="2">
<H3>V86MMGR_Free_Buffer </H3><P><BR></P>
<PRE>include v86mmgr.inc

mov     ebp, OFFSET32 ClientRegisters
mov     ebx, VMHandle
mov     ecx, NumBytes
stc                     ; set carry flag to copy, clear otherwise
lfs     esi, FarPtrMem  ; buffer to receive data if carry set
VxDcall V86MMGR_Free_Buffer
</PRE>
<P>Frees a buffer that was allocated by the <B>V86MMGR_Allocate_Buffer</B> service, and optionally copies data from the translation buffer. Uses Flags. </P>
<UL><LI>     No return value. </LI></UL><P></P>
<P><I>ClientRegisters</I> </P>
<P>Address of a <B>Client_Reg_Struc</B> structure containing the register values of the current VM. </P>
<P><I>VMHandle</I> </P>
<P>Handle of the current virtual machine. The current virtual machine must be in protected mode. </P>
<P><I>NumBytes</I> </P>
<P>Number of bytes to free (returned from the <B>V86MMGR_Allocate_Buffer</B> service). </P>
<P><I>FarPtrMem</I> </P>
<P>Selector and offset address (in FS and ESI) of the extended memory buffer to receive the contents of the freed translation buffer if the carry flag is set. This parameter is ignored if the carry flag is clear. </P>
<P>The buffers are maintained as a stack. Therefore, the last buffer allocated must be the first buffer freed. </P>
<P></P>
<P></P></FONT></BODY></HTML>
