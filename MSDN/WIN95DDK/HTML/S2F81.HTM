<HTML><HEAD><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Asynchronous Event Processing</TITLE><META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset= iso-8859-1"><style>@import url(/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="/msdn_ie3.css"></HEAD><BODY BGCOLOR="#FFFFFF">
<FONT FACE="verdana,arial,helvetica" SIZE="2">
<H2>Asynchronous Event Processing </H2><P>A VSD must process the AEP_CONFIG_DCB and AEP_BOOT_COMPLETE functions that it receives during driver registration. </P>
<P>When processing the AEP_CONFIG_DCB function, the VSD must determine whether the given DCB corresponds to the type of bus and block device it can support. If so, the driver inserts itself into the calldown list for the <B>DCB</B> by using the ISP_INSERT_CALLDOWN function of the <B>ILB_service_rtn</B> routine. The driver must set the <B>ISP_i_cd_req</B> member to the address of the I/O request routine for the VSD. Subsequently, this routine is called whenever an I/O request for the device associated with the <B>DCB</B> is issued. </P>
<P>When processing the AEP_BOOT_COMPLETE function, the VSD must determine whether it successfully detected any devices it can support. If not, the driver must set the <B>AEP_result</B> member to AEP_FAILURE. This ensures that the VSD will be removed from memory. </P>
<P>Depending on whether the VSD specified additional values in the <B>DRP_feature_code</B> member of its <B>DRP</B> structure it may need to process additional asynchronous event functions. </P>
<P>See also <B>AEP</B>, <B>DCB</B>, <B>DRP</B>, <B>ILB_service_rtn</B>, <B>ISP</B> </P></FONT></BODY></HTML>
