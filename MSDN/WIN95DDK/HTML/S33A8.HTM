<HTML><HEAD><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>End_Critical_Section</TITLE><META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset= iso-8859-1"><style>@import url(/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="/msdn_ie3.css"></HEAD><BODY BGCOLOR="#FFFFFF">
<FONT FACE="verdana,arial,helvetica" SIZE="2">
<H3>End_Critical_Section </H3><P><BR></P>
<PRE>include vmm.inc

VMMcall End_Critical_Section
</PRE>
<P>Releases the critical section if the current virtual machine owns the section and the claim count is zero. Uses Flags. </P>
<UL><LI>     No return value. </LI></UL><P></P>
<P>This service decrements the claim count and releases the critical section if the new count is zero. Since releasing the critical section lowers the execution priority of the current virtual machine, this service causes a task switch if a nonsuspended virtual machine has higher priority. </P>
<P>It is extremely risky for a virtual device to end a critical section it did not enter, or which it entered from a thread other than the current thread. </P>
<P>See also <B>Begin_Critical_Section</B>, <B>End_Crit_And_Suspend</B> </P>
<P></P>
<P></P></FONT></BODY></HTML>
