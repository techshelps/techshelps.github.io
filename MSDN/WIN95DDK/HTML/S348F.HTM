<HTML><HEAD><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>_DOSMGR_Exec_VM</TITLE><META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset= iso-8859-1"><style>@import url(/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="/msdn_ie3.css"></HEAD><BODY BGCOLOR="#FFFFFF">
<FONT FACE="verdana,arial,helvetica" SIZE="2">
<H3>_DOSMGR_Exec_VM </H3><P><BR></P>
<PRE>include dosmgr.inc
 
VxDcall _DOSMGR_Exec_VM &lt;VMHandle, V86Size, CallBack, RefData&gt;
</PRE>
<P>Schedules the execution specified by a previous call to the <B>_DOSMGR_Set_Exec_VM_Data</B> service, and sets other parameters of the execution. </P>
<UL><LI>     No return value. </LI></UL><P></P>
<P><I>VMHandle</I> </P>
<P>Handle of the current virtual machine. </P>
<P><I>V86Size</I> </P>
<P>Size in pages of the virtual machine. This service does not map these pages; the value is simply used to set the MS-DOS size of the virtual machine. </P>
<P><I>CallBack</I> </P>
<P>Callback procedure to call when the virtual machine terminates. If this parameter is zero, no callback is called. </P>
<P><I>RefData</I> </P>
<P>Reference data to pass to the callback procedure. </P>
<P>The system calls the callback when the virtual machine terminates. The callback receives the following input parameters: </P>

<TABLE COLS="2" BORDER="0" CELLPADDING="7"><COLGROUP><COL WIDTH="144pt" VALIGN="TOP"><COL WIDTH="204pt" VALIGN="TOP"></COLGROUP><TBODY><TR><TD VALIGN="TOP"><P>EBP </P></TD><TD VALIGN="TOP"><P>points to a Client_Reg_Struc </P></TD></TR><TR><TD VALIGN="TOP"><P>EBX </P></TD><TD VALIGN="TOP"><P>virtual machine handle </P></TD></TR><TR><TD VALIGN="TOP"><P>EDX </P></TD><TD VALIGN="TOP"><P>points to reference data </P></TD></TR></TBODY></TABLE>
<P><BR></P><P></P>
<P>The callback must preserve the EBX, EBP, and segment registers. After the callback returns, the system carries out the normal virtual machine termination sequence. At this time, the virtual machine is still in a running state. The callback can delay termination by delaying its return. However, the callback must simulate interrupts into the virtual machine to keep the scheduler moving if it is holding termination. </P>
<P></P>
<P></P></FONT></BODY></HTML>
