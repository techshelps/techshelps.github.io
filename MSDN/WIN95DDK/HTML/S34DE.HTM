<HTML><HEAD><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Setting the Copy Buffer and Map Page Sizes</TITLE><META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset= iso-8859-1"><style>@import url(/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="/msdn_ie3.css"></HEAD><BODY BGCOLOR="#FFFFFF">
<FONT FACE="verdana,arial,helvetica" SIZE="2">
<H3>Setting the Copy Buffer and Map Page Sizes </H3><P>The <B>V86MMGR_Set_Mapping_Info</B> service defines the minimum amount of translation buffer and global V86 map address space required by a virtual device. By default, the translation copy buffer size is 4 kilobytes and there are no global mapping pages. If these defaults are not adequate, a virtual device can set new values by using this service. For example, the VNETBIOS device uses this service to ensure that there will be adequate global page mapping space to map network buffers. </P>
<P>If multiple virtual devices call this service, the V86MMGR uses the largest value specified when allocating buffer space. In other words, if 10 virtual devices request a two-page copy buffer, this service set the copy buffer size to two pages (not 20). While a large copy buffer can speed up I/O operations, it requires extra memory to be allocated for each virtual machine. Virtual devices should keep the copy buffer size as small as possible. </P>
<P>This service must be called during the <B>Sys_Critical_Init</B> or <B>Device_Init</B> phase of device initialization. </P></FONT></BODY></HTML>
