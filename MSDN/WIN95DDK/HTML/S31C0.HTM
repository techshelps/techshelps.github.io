<HTML><HEAD><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Enable_Touch_1st_Meg</TITLE><META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset= iso-8859-1"><style>@import url(/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="/msdn_ie3.css"></HEAD><BODY BGCOLOR="#FFFFFF">
<FONT FACE="verdana,arial,helvetica" SIZE="2">
<H3>Enable_Touch_1st_Meg </H3><P><BR></P>
<PRE>include vmm.inc

VMMcall Enable_Touch_1st_Meg
</PRE>
<P>Enables the first 1 megabyte of memory for the current virtual machine. The service sets the present bit for the first page directory allowing a virtual device to access addresses in the range. This is an asynchronous service. </P>
<UL><LI>     No return value. </LI></UL><P></P>
<P>In the debugging version of Windows, VxDs are normally not permitted to access memory below the 1MB boundary, so as to help catch null pointer errors. If you need to access memory below the 1MB boundary, you should normally access it at the high linear address instead. However, in the rare cases where you need to access to memory at its low linear address, this service temporarily grants access to the first megabyte of memory. You should then re-disable the first megabyte of memory when you are finished, as demonstrated in the following example: </P>
<P><BR></P>
<PRE>    Begin_Touch_1st_Meg
    mov eax, ds:[40h]           ; get int 10h vector
    End_Touch_1st_Meg
</PRE>
<P>(Note that this is not the recommended way of getting a VM's interrupt vector. The proper way is to use the <B>Get_Instanced_V86_Int_Vector</B> service.) </P>
<P>Do not call this service directly. Use the <B>Begin_Touch_1st_Meg</B> macro instead. </P>
<P>This service has no effect in the retail version of Windows. It is intended to be used with the debugging version. </P>
<P>See also <B>Begin_Touch_1st_Meg</B>, <B>Disable_Touch_1st_Meg</B> </P>
<P></P>
<P></P></FONT></BODY></HTML>
