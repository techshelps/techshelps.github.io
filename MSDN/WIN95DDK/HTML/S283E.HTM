<HTML><HEAD><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Registration</TITLE><META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset= iso-8859-1"><style>@import url(/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="/msdn_ie3.css"></HEAD><BODY BGCOLOR="#FFFFFF">
<FONT FACE="verdana,arial,helvetica" SIZE="2">
<H3>Registration </H3><P>A display driver registers itself with VFLATD by first calling the <B>VflatD_Query</B> function to verify that the correct version of VFLATD has been loaded, then calling the <B>VflatD_Create_Virtual_Frame_Buffer</B> function to register itself and obtain a selector identifying the logical frame buffer. </P>
<P>A display adapter must also specify a bank-switch procedure when it calls the <B>VflatD_Create_Virtual_Frame_Buffer</B> function. Thereafter, whenever a page fault occurs during a drawing operation, VFLATD calls the bank-switch procedure, directing it to map a block of video data into the physical frame buffer. The procedure must be written using 32-bit code and must be a maximum of 100 bytes in length. When the procedure is called, EAX identifies the new bank to be swapped into the physical frame buffer. The procedure must save all registers except EAX and EDX and must not return a value. </P></FONT></BODY></HTML>
