<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<html>

<head>
<meta http-equiv="Content-Type"
content="text/html; charset=iso-8859-1">
<meta name="GENERATOR" content="Microsoft FrontPage 2.0">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Interaction of Plug and Play Components</title>
<style>@import url(/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="/msdn_ie3.css"></HEAD>

<BODY BGCOLOR="#FFFFFF">
<FONT FACE="verdana,arial,helvetica" SIZE="2">

<H3>Interaction of Plug and Play Components </h3>

<P>The following diagram shows how the Plug and Play
components fit together. When the operating system is installed,
detection modules are loaded based on the list in the MSDET.INF
information file. When a device is detected that is not enabled
for Plug and Play, information about it is retrieved from the
appropriate device information file and stored in a new node
created under the HKEY_LOCAL_MACHINE\ENUM\Root branch in the
registry. On the first boot after initial installation (and on
each subsequent boot) the system loads the enumerators and the
same process occurs so that devices which can be enumerated
rather than detected can be found, thus completing the list of
known hardware. Enumerated devices appear under the relevant
ENUM\<i>enumerator name</i> branch. </p>

<P>When the system starts, Configuration Manager loads
enumerators to enumerate the devices in the system. Enumerators
create a device node in the devnode tree for each enumerated
device and populate it with information retrieved from the
registry. The bus-specific naming schemes ensure that the <i>root_key</i>\device
identifier is actually the device node's path in the registry.
Drivers are loaded based on the <i>driver</i> information bound
to each device in the registry, and are given a handle to their
device node. </p>

<P><img src="01_01.gif" width="449" height="528"></p>
</FONT></BODY>
</html>
