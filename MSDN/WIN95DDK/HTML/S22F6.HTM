<HTML><HEAD><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Protected-Mode Instructions</TITLE><META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset= iso-8859-1"><style>@import url(/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="/msdn_ie3.css"></HEAD><BODY BGCOLOR="#FFFFFF">
<FONT FACE="verdana,arial,helvetica" SIZE="2">
<H3>Protected-Mode Instructions </H3><P>The source files for a virtual device must start with the .386p directive to inform the assembler that protected-mode instructions are permitted. Although virtual devices have ring 0 privilege, they should not use protected instructions to modify the operation of the CPU, to change descriptors in the global or interrupt descriptor table, or to modify task state segments or registers. Such modifications can adversely affect the operation of Windows. The only exception to this is the virtual math coprocessor device (VMCPD), which is allowed to change the 80387 bits in the CR0 register. </P></FONT></BODY></HTML>
