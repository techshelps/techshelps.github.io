<HTML><HEAD><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>ICCOMPRESS</TITLE><META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset= iso-8859-1"><style>@import url(/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="/msdn_ie3.css"></HEAD><BODY BGCOLOR="#FFFFFF">
<FONT FACE="verdana,arial,helvetica" SIZE="2">
<H3>ICCOMPRESS </H3><P><BR></P>
<PRE>typedef struct {
    DWORD dwFlags;
    LPBITMAPINFOHEADER lpbiOutput;
    LPVOID lpOutput;
    LPBITMAPINFOHEADER lpbiInput;
    LPVOID lpInput;
    LPDWORD lpckid;
    LPDWORD lpdwFlags;
    LONG lFrameNum;
    DWORD dwFrameSize;
    DWORD dwQuality;                 // Quality setting
    LPBITMAPINFOHEADER lpbiPrev;
    LPVOID lpPrev;
} ICCOMPRESS;
</PRE>
<P>Contains compression parameters used with the ICM_COMPRESS message. </P>
<P><B>dwFlags</B> </P>
<P>Flags used for compression. The following value is defined: </P>

<TABLE COLS="2" BORDER="0" CELLPADDING="7"><COLGROUP><COL WIDTH="144pt" VALIGN="TOP"><COL WIDTH="190pt" VALIGN="TOP"></COLGROUP><TBODY><TR><TD VALIGN="TOP"><P>ICCOMPRESS_KEYFRAME </P></TD><TD VALIGN="TOP"><P>Indicates the input data should be treated as a key frame. </P></TD></TR></TBODY></TABLE>
<P><BR></P><P></P>
<P><B>lpbiOutput</B> </P>
<P>Address of a <B>BITMAPINFOHEADER</B> structure containing the output (compressed) format. The <B>biSizeImage</B> member must contain the size of the compressed data. </P>
<P><B>lpOutput</B> </P>
<P>Address of the buffer where the driver should write the compressed data. </P>
<P><B>lpbiInput</B> </P>
<P>Address of a <B>BITMAPINFOHEADER</B> structure containing the format of the input (uncompressed) data. </P>
<P><B>lpInput</B> </P>
<P>Address of the buffer containing input data. </P>
<P><B>lpckid</B> </P>
<P>Address of a doubleword to return the chunk identifier for data in the AVI file. If the value of this member is not NULL, the driver should specify a two-character code for the chunk identifier corresponding to the chunk identifier used in the AVI file. </P>
<P><B>lpdwFlags</B> </P>
<P>Address of a doubleword to return flags for the AVI index. If the returned frame is a key frame, the driver should set the AVIIF_KEYFRAME flag. </P>
<P><B>lFrameNum</B> </P>
<P>Number of the frame to compress. </P>
<P><B>dwFrameSize</B> </P>
<P>Desired maximum size, in bytes, for compressing this frame. The size value is used for compression methods that can make tradeoffs between compressed image size and image quality. Specify zero for this member to use the default setting. </P>
<P><B>dwQuality</B> </P>
<P>Quality setting, if supported by the compression driver. Quality values range from 0 to 10,000. </P>
<P><B>lpbiPrev</B> </P>
<P>Address of a <B>BITMAPINFOHEADER</B> structure containing the format of the previous frame, which is normally the same as the input format. </P>
<P><B>lpPrev</B> </P>
<P>Address of the buffer containing input data of the previous frame. </P>
<P>Drivers that perform temporal compression use data from the previous frame (found in the <B>lpbiPrev</B> and <B>lpPrev</B> members) to prune redundant data from the current frame. </P>
<P></P>
<P></P></FONT></BODY></HTML>
