<HTML><HEAD><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Responses</TITLE><META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset= iso-8859-1"><style>@import url(/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="/msdn_ie3.css"></HEAD><BODY BGCOLOR="#FFFFFF">
<FONT FACE="verdana,arial,helvetica" SIZE="2">
<H3>Responses </H3><P>Tells Unimodem what responses it can expect from the modem. </P>
<P>Use a single entry containing exact response, and a binary data structure containing information about response. For example, </P>
<P><BR></P>
<PRE>HKR, Responses, "CONNECT", 1, 02, 00, 00,00,00,00, 00,00,00,00   

HKR, Responses, "CONNECT 300", 1, 02, 00, 2C,01,00,00, 00,00,00,00

</PRE>
<P>The binary data structure corresponds to the following C structure: </P>
<P><BR></P>
<PRE>typedef struct MSS {
BYTE  bResponseState;
BYTE  bNegotiatedOptions;
DWORD dwNegotiatedDCERate;
DWORD dwNegotiatedDTERate; 
} MSS;
</PRE>
<P>The <B>bResponseState</B> member has the following values: </P>
<P>Data/Fax modem responses </P>

<TABLE COLS="3" BORDER="0" CELLPADDING="7"><COLGROUP><COL WIDTH="116pt" VALIGN="TOP"><COL WIDTH="116pt" VALIGN="TOP"><COL WIDTH="116pt" VALIGN="TOP"></COLGROUP><TBODY><TR><TD VALIGN="TOP"><P>0x00 </P></TD><TD VALIGN="TOP"><P>OK </P></TD><TD VALIGN="TOP"><P>The modem accepted the previous command </P></TD></TR><TR><TD VALIGN="TOP"><P>0x01 </P></TD><TD VALIGN="TOP"><P>Negotiation Progress </P></TD><TD VALIGN="TOP"><P>Status info about a new connection is being reported </P></TD></TR><TR><TD VALIGN="TOP"><P>0x02 </P></TD><TD VALIGN="TOP"><P>Connect </P></TD><TD VALIGN="TOP"><P>A call is connected, the modem is data mode </P></TD></TR><TR><TD VALIGN="TOP"><P>0x03 </P></TD><TD VALIGN="TOP"><P>Error </P></TD><TD VALIGN="TOP"><P>The modem rejected the previous command </P></TD></TR><TR><TD VALIGN="TOP"><P>0x04 </P></TD><TD VALIGN="TOP"><P>No Carrier </P></TD><TD VALIGN="TOP"><P>The call was disconnected </P></TD></TR><TR><TD VALIGN="TOP"><P>0x05 </P></TD><TD VALIGN="TOP"><P>No Dialtone </P></TD><TD VALIGN="TOP"><P>No dialtone is present </P></TD></TR><TR><TD VALIGN="TOP"><P>0x06 </P></TD><TD VALIGN="TOP"><P>Busy </P></TD><TD VALIGN="TOP"><P>The dialed modem is busy </P></TD></TR><TR><TD VALIGN="TOP"><P>0x07 </P></TD><TD VALIGN="TOP"><P>No Answer </P></TD><TD VALIGN="TOP"><P>The dialed modem did not answer </P></TD></TR><TR><TD VALIGN="TOP"><P>0x08 </P></TD><TD VALIGN="TOP"><P>Ring </P></TD><TD VALIGN="TOP"><P>There is an incoming call </P></TD></TR></TBODY></TABLE>
<P><BR></P><P></P>
<P>Additional VoiceView responses </P>

<TABLE COLS="2" BORDER="0" CELLPADDING="7"><COLGROUP><COL WIDTH="144pt" VALIGN="TOP"><COL WIDTH="204pt" VALIGN="TOP"></COLGROUP><TBODY><TR><TD VALIGN="TOP"><P>0x09 </P></TD><TD VALIGN="TOP"><P>SSV </P></TD></TR><TR><TD VALIGN="TOP"><P>0x0A </P></TD><TD VALIGN="TOP"><P>SMD </P></TD></TR><TR><TD VALIGN="TOP"><P>0x0B </P></TD><TD VALIGN="TOP"><P>SFA </P></TD></TR><TR><TD VALIGN="TOP"><P>0x0C </P></TD><TD VALIGN="TOP"><P>SRA </P></TD></TR><TR><TD VALIGN="TOP"><P>0x0D </P></TD><TD VALIGN="TOP"><P>SRQ </P></TD></TR><TR><TD VALIGN="TOP"><P>0x0E </P></TD><TD VALIGN="TOP"><P>SRC </P></TD></TR><TR><TD VALIGN="TOP"><P>0x0F </P></TD><TD VALIGN="TOP"><P>STO </P></TD></TR><TR><TD VALIGN="TOP"><P>0x10 </P></TD><TD VALIGN="TOP"><P>SVM </P></TD></TR></TBODY></TABLE>
<P><BR></P><P></P>
<P>Additional Voice responses </P>

<TABLE COLS="3" BORDER="0" CELLPADDING="7"><COLGROUP><COL WIDTH="116pt" VALIGN="TOP"><COL WIDTH="116pt" VALIGN="TOP"><COL WIDTH="116pt" VALIGN="TOP"></COLGROUP><TBODY><TR><TD VALIGN="TOP"><P>0x10000011 </P></TD><TD VALIGN="TOP"><P>Ring duration </P></TD><TD VALIGN="TOP"><P>Distinctive Ring - length of ring - variable length response </P></TD></TR><TR><TD VALIGN="TOP"><P>0x10000012 </P></TD><TD VALIGN="TOP"><P>Ring break </P></TD><TD VALIGN="TOP"><P>Distinctive Ring - length of time between rings - variable length response </P></TD></TR><TR><TD VALIGN="TOP"><P>0x10000013 </P></TD><TD VALIGN="TOP"><P>Date </P></TD><TD VALIGN="TOP"><P>Date reported by Caller ID - variable length response </P></TD></TR><TR><TD VALIGN="TOP"><P>0x10000014 </P></TD><TD VALIGN="TOP"><P>Time </P></TD><TD VALIGN="TOP"><P>Time reported by Caller ID - variable length response </P></TD></TR><TR><TD VALIGN="TOP"><P>0x10000015 </P></TD><TD VALIGN="TOP"><P>Number </P></TD><TD VALIGN="TOP"><P>Number reported by Caller ID - variable length response </P></TD></TR><TR><TD VALIGN="TOP"><P>0x10000016 </P></TD><TD VALIGN="TOP"><P>Name </P></TD><TD VALIGN="TOP"><P>Name reported by Caller ID - variable length response </P></TD></TR><TR><TD VALIGN="TOP"><P>0x10000017 </P></TD><TD VALIGN="TOP"><P>Message </P></TD><TD VALIGN="TOP"><P>Message reported by Caller ID - variable length response </P></TD></TR><TR><TD VALIGN="TOP"><P>0x00000018 </P></TD><TD VALIGN="TOP"><P>Single Ring </P></TD><TD VALIGN="TOP"><P>Single ring distinctive ring </P></TD></TR><TR><TD VALIGN="TOP"><P>0x00000019 </P></TD><TD VALIGN="TOP"><P>Double Ring </P></TD><TD VALIGN="TOP"><P>Double ring distinctive ring </P></TD></TR><TR><TD VALIGN="TOP"><P>0x0000001A </P></TD><TD VALIGN="TOP"><P>Triple Ring </P></TD><TD VALIGN="TOP"><P>Triple ring distinctive ring </P></TD></TR></TBODY></TABLE>
<P><BR></P><P></P>
<P>The VCON modem response should be entered as an OK response from the modem. </P>
<P>The <B>bNegotiatedOptions</B> member specifies information about a connection being made. It is used only for response codes of type Negotiation Progress or Connect. Unimodem recognizes the following values (which may be combined in a single response): </P>

<TABLE COLS="2" BORDER="0" CELLPADDING="7"><COLGROUP><COL WIDTH="144pt" VALIGN="TOP"><COL WIDTH="204pt" VALIGN="TOP"></COLGROUP><TBODY><TR><TD VALIGN="TOP"><P>Compression negotiated </P></TD><TD VALIGN="TOP"><P>0x00000001 </P></TD></TR><TR><TD VALIGN="TOP"><P>Error control negotiated </P></TD><TD VALIGN="TOP"><P>0x00000002 </P></TD></TR><TR><TD VALIGN="TOP"><P>Cellular protocol negotiated </P></TD><TD VALIGN="TOP"><P>0x00000008 </P></TD></TR></TBODY></TABLE>
<P><BR></P><P></P>
<P>The only valid values for this member are "0x01, 0x02, 0x03, 0x0a, 0x0b", since you won't see compression unless there is error correction. </P>
<P>The <B>dwNegotiatedDCERate</B> member specifies the modem-to-modem line speed negotiated. </P>
<P>The <B>dwNegotiatedDTERate</B> member is specified only to cause Unimodem to change its DTE port speed. Usually, this is not needed, since modems will make "normal" connections with automatic speed buffering, and the port speed will remain locked. However, for modems that support only direct modes, it is possible to cause Unimodem to lower its DTE speed by specifying a value for NegotiatedDTE. </P>
<P>The <B>Responses</B> keys contain all of the modem's response codes. Unimodem matches against these entries and uses the binary state structure to determine the meaning of the response. </P>
<P>Verbose or numeric response strings can be used. It is important that the verbosity is set in the <B>Init</B> string and that the <B>Responses</B> keys match. In addition, it is usually necessary to include subkeys for the following two response strings, no matter what level of verbosity is used: </P>
<P><BR></P>
<PRE>OK
ERROR
</PRE>
<P>The modem may return these strings after Unimodem's first few initialization commands, which are sent before Unimodem configures the modem to use numeric response strings. That's pretty good actually. Numeric responses 0-8 may also need to be listed in case Unimodem gets the modem in a numeric response state. </P>
<P>The response strings can contain the following macros: </P>

<TABLE COLS="2" BORDER="0" CELLPADDING="7"><COLGROUP><COL WIDTH="144pt" VALIGN="TOP"><COL WIDTH="204pt" VALIGN="TOP"></COLGROUP><TBODY><TR><TD VALIGN="TOP"><P>Carriage Return: </P></TD><TD VALIGN="TOP"><P> or </P></TD></TR><TR><TD VALIGN="TOP"><P>Line Feed: </P></TD><TD VALIGN="TOP"><P> or </P></TD></TR><TR><TD VALIGN="TOP"><P>Binary: </P></TD><TD VALIGN="TOP"><P>&lt;hxx&gt; or &lt;Hxx&gt; where xx are two hex digits. Example: &lt;h41&gt; = 'A'. </P></TD></TR><TR><TD VALIGN="TOP"><P>Less-Than escape: </P></TD><TD VALIGN="TOP"><P>&lt; &lt; </P></TD></TR></TBODY></TABLE>
<P><BR></P><P></P></FONT></BODY></HTML>
