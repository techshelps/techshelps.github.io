<HTML><HEAD><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>ScsiPortIoMapTransfer</TITLE><META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset= iso-8859-1"><style>@import url(/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="/msdn_ie3.css"></HEAD><BODY BGCOLOR="#FFFFFF">
<FONT FACE="verdana,arial,helvetica" SIZE="2">
<H3>ScsiPortIoMapTransfer </H3><P><BR></P>
<PRE>VOID ScsiPortIoMapTransfer(HwDeviceExtension, Srb, LogicalAddress, Length)
IN PVOID  HwDeviceExtension;
IN PSCSI_REQUEST_BLOCK  Srb;
IN ULONG  LogicalAddress;
IN ULONG  Length;
</PRE>
<P>Sets up the system DMA controller for the miniport driver to transfer data through the HBA. </P>
<UL><LI>     No return value. </LI></UL><P></P>
<P><I>HwDeviceExtension</I> </P>
<P>Points to the miniport driver's storage for adapter data. </P>
<P><I>Srb</I> </P>
<P>Point to the SCSI request block for the transfer. </P>
<P><I>LogicalAddress</I> </P>
<P>Specifies the starting address of the buffer containing the data to be transferred. </P>
<P><I>Length</I> </P>
<P>Specifies the length of the buffer containing data to be transferred. </P>
<P><B>ScsiPortIoMapTransfer</B> is called by miniport drivers of HBAs that use the system DMA controller (slave DMA). This function must be called before the host bus adapter is set up to transfer data. The range specified by the <I>LogicalAddress</I> and <I>Length</I> must be within the buffer defined by the <I>Srb</I>. </P>
<P>After the OS-specific port driver has programmed the system DMA controller, the OS-specific port driver calls the HBA miniport driver's <B>HwDmaStarted</B> routine, which should program the HBA to begin the data transfer. Note that the HBA can interrupt between the call to <B>ScsiPortIoMapTransfer</B> and that to the <B>HwDmaStarted</B> routine. </P>
<P>See also <B>HwDmaStarted</B>, <B>ScsiPortFlushDma</B> </P>
<P></P>
<P></P></FONT></BODY></HTML>
