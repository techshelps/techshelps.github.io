<HTML><HEAD><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>ScsiPortNotification</TITLE><META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset= iso-8859-1"><style>@import url(/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="/msdn_ie3.css"></HEAD><BODY BGCOLOR="#FFFFFF">
<FONT FACE="verdana,arial,helvetica" SIZE="2">
<H3>ScsiPortNotification </H3><P><BR></P>
<PRE>VOID ScsiPortNotification(NotificationType, HwDeviceExtension, ...)
IN SCSI_NOTIFICATION_TYPE  NotificationType;
IN PVOID  HwDeviceExtension;
</PRE>
<P>Notifies the port driver if the HBA indicates that certain SCSI error conditions occured during the operation. </P>
<UL><LI>     No return value. </LI></UL><P></P>
<P><I>NotificationType</I> </P>
<P>Specifies the type of notification. </P>

<TABLE COLS="2" BORDER="0" CELLPADDING="7"><COLGROUP><COL WIDTH="144pt" VALIGN="TOP"><COL WIDTH="190pt" VALIGN="TOP"></COLGROUP><TBODY><TR><TD VALIGN="TOP"><P><B>Notification </B></P></TD><TD VALIGN="TOP"><P><B>Types </B></P></TD></TR><TR><TD VALIGN="TOP"><P><B>RequestComplete</B> </P></TD><TD VALIGN="TOP"><P>Indicates the supplied <I>Srb</I> has finished. After this notification, the OS-specific port driver owns the request, so it must not be accessed by the HBA miniport driver. </P></TD></TR><TR><TD VALIGN="TOP"><P><B>NextRequest</B> </P></TD><TD VALIGN="TOP"><P>Indicates the HBA miniport driver is ready for another request. This notification should be sent from the HW_STARTIO routine, as soon as the HBA miniport driver is ready for another request. </P></TD></TR><TR><TD VALIGN="TOP"><P><B>NextLuRequest</B> </P></TD><TD VALIGN="TOP"><P>Indicates that the host bus adapter is ready for a another request and that an additional request can be sent for the specified logical unit. This value should be used only if the HBA can queue multiple requests and support auto request sense or tagged queuing. </P></TD></TR><TR><TD VALIGN="TOP"><P><B>ResetDetected</B> </P></TD><TD VALIGN="TOP"><P>Indicates that the HBA has detected a reset on the SCSI bus. After this notification, the HBA miniport driver is still responsible for completing any active requests. </P></TD></TR><TR><TD VALIGN="TOP"><P><B>CallDisableInterrupts</B> </P></TD><TD VALIGN="TOP"><P>Indicates that the miniport driver requires system interrupts to be re-disabled. While system interrupts remain enabled, the miniport driver's HW_INTERRUPT routine will not be called. </P></TD></TR><TR><TD VALIGN="TOP"><P><B>CallEnableInterrupts</B> </P></TD><TD VALIGN="TOP"><P>Indicates that the miniport driver would like system interrupts re-enabled and passes the miniport's callback routine. Normally the miniport driver uses this notification to enable interrupts on the HBA. </P></TD></TR><TR><TD VALIGN="TOP"><P><B>RequestTimerCall</B> </P></TD><TD VALIGN="TOP"><P>Indicates the miniport has requested a specified routine be called in a requested number of microseconds. This parameter requires two additional arguments. </P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>A pointer to HW_TIMER, which is called after the timeout period specified in <B>TimerValue</B>. </P></TD></TR><TR><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P><B>TimerValue</B> is a ULONG in microseconds. Note that the resolution of the timer is approximately 10 milliseconds. </P></TD></TR></TBODY></TABLE>
<P><BR></P><P></P>
<P><I>HwDeviceExtension</I> </P>
<P>Points to the miniport driver's storage for per-adapter data. </P>
<P>This function is used to notify the OS-specific port driver of various events. </P>
<P><B>ScsiPortNotification</B> is called twice for each call to the miniport's <B>HwStartIo</B> routine. Once with the <I>NotificationType</I> <B>NextRequest</B> or <B>NextLuRequest</B> if the miniport supports tagged queueing or multiple requests per lu, and with a <I>NotificationType</I> <B>RequestComplete</B> and the just satisfied request. </P>
<P></P>
<P></P></FONT></BODY></HTML>
