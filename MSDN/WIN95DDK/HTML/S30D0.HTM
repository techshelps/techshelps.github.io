<HTML><HEAD><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>IFSMgr_RegisterHeapUser</TITLE><META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset= iso-8859-1"><style>@import url(/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="/msdn_ie3.css"></HEAD><BODY BGCOLOR="#FFFFFF">
<FONT FACE="verdana,arial,helvetica" SIZE="2">
<H3>IFSMgr_RegisterHeapUser </H3><P><BR></P>
<PRE>IFSMgr_RegisterHeapUser(
 pIFSFunc pheapfunc,
 unsigned long flag
 )
</PRE>
<P>This service registers a heap reclamation routine with the IFS manager. The IFS manager provides heap allocation services to the FSDs. An FSD that uses the heap services provided by the IFS manager can register a heap reclamation routine with the IFS manager that is called to free unused heap allocations. This service is not valid until the IFS manager performs Sys_Critical_Init during initialization. If the IFS manager is unable to add this user to the heap registry, it returns without indicating any error. All this means is that the heap cleaning routine for this user will never be called and it is not a serious failure. </P>
<P><I>pheapfunc</I> </P>
<P>Supplies pointer to FSD heap reclamation routine. </P>
<P><I>flag</I> </P>
<P>Supplies options available only under the debug version. The flag value is ignored in the retail version. </P>

<TABLE COLS="2" BORDER="0" CELLPADDING="7"><COLGROUP><COL WIDTH="144pt" VALIGN="TOP"><COL WIDTH="190pt" VALIGN="TOP"></COLGROUP><TBODY><TR><TD VALIGN="TOP"><P><B>Flag Values:</B> </P></TD><TD VALIGN="TOP"><P></P></TD></TR><TR><TD VALIGN="TOP"><P><B>Value </B></P></TD><TD VALIGN="TOP"><P><B>Meaning </B></P></TD></TR><TR><TD VALIGN="TOP"><P><B>DEBUG_FENCE_ON</B> </P></TD><TD VALIGN="TOP"><P>This enables checking heap overruns in the debug version. If an heap overrun is detected, it breaks into the debugger. </P></TD></TR></TBODY></TABLE>
<P><BR></P><P></P>
<UL><LI>     No return value. </LI></UL><P></P>
<P></P>
<P></P></FONT></BODY></HTML>
