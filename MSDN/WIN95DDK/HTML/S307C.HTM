<HTML><HEAD><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>ScsiPortLogError</TITLE><META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset= iso-8859-1"><style>@import url(/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="/msdn_ie3.css"></HEAD><BODY BGCOLOR="#FFFFFF">
<FONT FACE="verdana,arial,helvetica" SIZE="2">
<H3>ScsiPortLogError </H3><P><BR></P>
<PRE>VOID ScsiPortLogError(HwDeviceExtension, Srb, PathId, TargetId, Lun, ErrorCode, UniqueId)
IN PVOID  HwDeviceExtension;
IN PSCSI_REQUEST_BLOCK  Srb;    /* optional    */
IN UCHAR  PathId;
IN UCHAR  TargetId;
IN UCHAR  Lun;
IN LONG  ErrorCode;
IN LONG  UniqueId;
</PRE>
<P>Logs errors that are detected by the miniport driver or HBA. </P>
<UL><LI>     No return value. </LI></UL><P></P>
<P><I>HwDeviceExtension</I> </P>
<P>Identifies the HBA miniport driver's storage for adapter data. </P>
<P><I>Srb</I> </P>
<P>Points to a SCSI request block if one is associated with the error. </P>
<P><I>PathId</I> </P>
<P>Identifies the SCSI bus. </P>
<P><I>TargetId</I> </P>
<P>Identifies the target ID on the bus. </P>
<P><I>Lun</I> </P>
<P>Identifies the logical unit number of the target device. </P>
<P><I>ErrorCode</I> </P>
<P>Specifies an error code indicating one of the following values as the type of error: </P>

<TABLE COLS="2" BORDER="0" CELLPADDING="7"><COLGROUP><COL WIDTH="144pt" VALIGN="TOP"><COL WIDTH="190pt" VALIGN="TOP"></COLGROUP><TBODY><TR><TD VALIGN="TOP"><P><B>Values </B></P></TD><TD VALIGN="TOP"><P><B>Meaning </B></P></TD></TR><TR><TD VALIGN="TOP"><P>SP_PROTOCOL_ERROR </P></TD><TD VALIGN="TOP"><P>Indicates the HBA miniport driver detected a SCSI bus protocol error. </P></TD></TR><TR><TD VALIGN="TOP"><P>SP_BUS_PARITY_ERROR </P></TD><TD VALIGN="TOP"><P>Indicates a SCSI bus parity error was detected. </P></TD></TR><TR><TD VALIGN="TOP"><P>SP_INTERNAL_ADAPTER_ERROR </P></TD><TD VALIGN="TOP"><P>Indicates an internal HBA error was detected. </P></TD></TR><TR><TD VALIGN="TOP"><P>SP_UNEXPECTED_DISCONNECT </P></TD><TD VALIGN="TOP"><P>Indicates that a target disconnected unexpectedly. </P></TD></TR><TR><TD VALIGN="TOP"><P>SP_INVALID_RESELECTION </P></TD><TD VALIGN="TOP"><P>Indicates a logical unit reselected unexpectedly or with an invalid queue tag. </P></TD></TR><TR><TD VALIGN="TOP"><P>SP_BUS_TIME_OUT </P></TD><TD VALIGN="TOP"><P>Indicates a SCSI bus connection to a logical unit timed out. </P></TD></TR><TR><TD VALIGN="TOP"><P>SP_REQUEST_TIMEOUT </P></TD><TD VALIGN="TOP"><P>Indicates an operation to the controller has timed out. </P></TD></TR><TR><TD VALIGN="TOP"><P>SP_IRQ_NOT_RESPONDING </P></TD><TD VALIGN="TOP"><P>Indicates the card is not interrupting when expected. </P></TD></TR><TR><TD VALIGN="TOP"><P>SP_BAD_FW_ERROR </P></TD><TD VALIGN="TOP"><P>Indicates the driver has detected bad or old firmware. The device will not be used. </P></TD></TR><TR><TD VALIGN="TOP"><P>SP_BAD_FW_WARNING </P></TD><TD VALIGN="TOP"><P>Indicates the driver has detected a card with old or bad firmware which then results in reduced performance. </P></TD></TR></TBODY></TABLE>
<P><BR></P><P></P>
<P><I>UniqueId</I> </P>
<P>Specifies a unique identifier for the error. The value differentiates the error from other errors with the same <I>ErrorCode</I>. For some HBA miniport drivers, this identifies the line of code where the error was detected; for others, it is any additional information returned by the HBA. </P>
<P>All real errors should be logged; however, errors such as selection time out or reset detected should not be logged. Recoverable errors should be retried after they have been logged. </P>
<P>See also <B>ScsiPortNotification</B> </P>
<P></P>
<P></P></FONT></BODY></HTML>
