<HTML><HEAD><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Call_When_Idle</TITLE><META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset= iso-8859-1"><style>@import url(/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="/msdn_ie3.css"></HEAD><BODY BGCOLOR="#FFFFFF">
<FONT FACE="verdana,arial,helvetica" SIZE="2">
<H3>Call_When_Idle </H3><P><BR></P>
<PRE>include vmm.inc

mov     esi, OFFSET32 IdleCallback
VMMcall Call_When_Idle
jc      error
</PRE>
<P>Installs a system-idle callback function. The system calls this function whenever the Windows kernel signals that Windows is idle and all other virtual machines are also idle. Virtual devices typically use this service to perform background operations. For example, the memory manager uses this service to asynchronously write dirty pages to the backing store. Uses Flags. </P>
<UL><LI>     Clears the carry flag is clear if the callback function is installed. Otherwise, sets the carry flag. </LI></UL><P></P>
<P><I>IdleCallback</I> </P>
<P>Address of the callback function to install. For more information about the callback function, see <B>IdleCallback</B>. </P>
<P>Virtual devices can install any number of idle callback functions. The system calls each one, in the order installed, until one of the functions clears the carry flag. A system-idle callback function remains installed until it is explicitly removed by the <B>Cancel_Call_When_Idle</B> service. </P>
<P>See also <B>IdleCallback</B> </P>
<P></P>
<P></P></FONT></BODY></HTML>
