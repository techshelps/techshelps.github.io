<HTML><HEAD><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>VPICD_Get_IRQ_Complete_Status</TITLE><META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset= iso-8859-1"><style>@import url(/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="/msdn_ie3.css"></HEAD><BODY BGCOLOR="#FFFFFF">
<FONT FACE="verdana,arial,helvetica" SIZE="2">
<H3>VPICD_Get_IRQ_Complete_Status </H3><P><BR></P>
<PRE>include vpicd.inc

mov     eax, IRQNum
VxDcall VPICD_Get_IRQ_Complete_Status
jc      already_virtualized
mov     [Status], ecx
</PRE>
<P>Retrieves the complete status for the specified IRQ. This service is similar to <B>VPICD_Get_Complete_Status</B>, except that it takes an IRQ number as a parameter instead of an IRQ handle. Uses ECX and Flags. </P>
<UL><LI>     Sets the carry flag if the IRQ has been virtualized; otherwise clears the carry flag. ECX contains a combination of these status flag values: </LI></UL>
<TABLE COLS="2" BORDER="0" CELLPADDING="7"><COLGROUP><COL WIDTH="144pt" VALIGN="TOP"><COL WIDTH="190pt" VALIGN="TOP"></COLGROUP><TBODY><TR><TD VALIGN="TOP"><P>VPICD_Stat_In_Service </P></TD><TD VALIGN="TOP"><P>The IRQ is virtually in service. </P></TD></TR><TR><TD VALIGN="TOP"><P>VPICD_Stat_IRET_Pending </P></TD><TD VALIGN="TOP"><P>A virtual <B>iret</B> is pending. </P></TD></TR><TR><TD VALIGN="TOP"><P>VPICD_Stat_Phys_In_Serv </P></TD><TD VALIGN="TOP"><P>The IRQ is physically in service. </P></TD></TR><TR><TD VALIGN="TOP"><P>VPICD_Stat_Phys_Mask </P></TD><TD VALIGN="TOP"><P>The IRQ is physically masked. </P></TD></TR><TR><TD VALIGN="TOP"><P>VPICD_Stat_Phys_Req </P></TD><TD VALIGN="TOP"><P>The physical interrupt request has been set. </P></TD></TR><TR><TD VALIGN="TOP"><P>VPICD_Stat_Virt_Mask </P></TD><TD VALIGN="TOP"><P>The virtual machine has masked the IRQ. </P></TD></TR><TR><TD VALIGN="TOP"><P>VPICD_Stat_Virt_Req </P></TD><TD VALIGN="TOP"><P>The virtual interrupt request for the virtual machine has been set (by a virtual device, not necessarily the caller). </P></TD></TR></TBODY></TABLE>
<P><BR></P><P></P>
<P></P>
<P><I>IRQNum</I> </P>
<P>Number of the IRQ for which to retrieve status. </P>
<P>Virtual devices typically use this service to inspect an IRQ before attempting to virtualize it, or to inspect the state of another virtual device's interrupt. Since the service indicates whether an IRQ has been virtualized, virtual devices use this service to avoid conflicts when more than one device may want to use an IRQ. </P>
<P></P>
<P></P></FONT></BODY></HTML>
