<HTML><HEAD><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>CHECK_HIRES_MODE (Function 35)</TITLE><META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset= iso-8859-1"><style>@import url(/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="/msdn_ie3.css"></HEAD><BODY BGCOLOR="#FFFFFF">
<FONT FACE="verdana,arial,helvetica" SIZE="2">
<H3>CHECK_HIRES_MODE (Function 35) </H3><P><B>Call With</B></P>
<P>AL: Contains the Interrupt 10h video mode. </P>
<P>EBX: Contains the VM handle to inquire about. </P>
<P>EBP: Points to the Windows VM's Client Registers. </P>
<P><B>Return Values</B></P>
<P>Save everything that you use. CY returned means that the VM is in a hi-res mode. NC returned means that the VM is in a standard VGA mode. </P>
<P><B>Remarks</B></P>
<P>In many cases, a hi-res video BIOS does not indicate that it is running in a hi-res mode except by reading states contained in extended registers. For example, the BIOS data area of a VM (at virtual address 0:449H) might indicate that the VM is in VGA mode 3 (80x25 text mode) while the hardware is actually in 1024x768 graphics mode. Therefore, whenever the Main VDD needs to know if a VM is running in hi-res mode, it checks first for a VESA mode, then for an Interrupt 10h BIOS mode above 13h, and then queries the mini-VDD to see if it is running a hi-res mode. </P>
<P>If you determine whether or not you are running in a hi-res mode by looking at the ROM BIOS mode number at 0:449H, you should use the value passed in AL rather than reading 0:449H yourself since Far East Windows changes the data passed in AL to compensate for Japanese text modes 72H and 73H. If the Main VDD sees that Japanese Windows 95 is running, it passes these modes as modes 02H and 03H instead of 72H and 73H. By using the data in AL, you can avoid "false readings" of hi-res mode in Japanese Windows 95 </P>
<P>See the ATI mini-VDD for a sample of how this routine works. </P>
<P></P>
<P></P></FONT></BODY></HTML>
