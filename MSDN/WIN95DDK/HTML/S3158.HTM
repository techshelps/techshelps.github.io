<HTML><HEAD><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>INT 15h Removable Media Eject Intercept</TITLE><META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset= iso-8859-1"><style>@import url(/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="/msdn_ie3.css"></HEAD><BODY BGCOLOR="#FFFFFF">
<FONT FACE="verdana,arial,helvetica" SIZE="2">
<H3>INT 15h Removable Media Eject Intercept </H3><P><BR></P>
<PRE>Entry:
    AH = 52h
    DL = Drive number
Exit:
    carry clear
        AH = 0
        Implies ejection may proceed
    carry set
        AH = error code, B1h or B3h
        Implies ejection must be rejected
</PRE>
<P>This intercept is called in response to a software request (INT 13h, AH=46h, Eject drive) to eject a disk from a removable media drive. Typically a user will press an eject button or use a software command to request that a particular volume be ejected. The code that handles this request will issue this INT 15h function before actually honoring the request. By default the INT 15h handler returns with ejection accepted status. A disk cache program could hook this INT 15h call, and return acceptance or rejection based on the state of its buffers for this disk. It could also be used by operating system software as a media changed signal. </P></FONT></BODY></HTML>
