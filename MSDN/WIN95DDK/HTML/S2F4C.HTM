<HTML><HEAD><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Data Transfer Direction Bits in SRB for SCSI Miniports (Required)</TITLE><META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset= iso-8859-1"><style>@import url(/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="/msdn_ie3.css"></HEAD><BODY BGCOLOR="#FFFFFF">
<FONT FACE="verdana,arial,helvetica" SIZE="2">
<H3>Data Transfer Direction Bits in SRB for SCSI Miniports (Required) </H3><P>The ASPI and CAM SCSI interfaces both have an option of not specifying the data transfer direction, thus requiring the hardware layer to determine the data transfer direction by examining the data phase entered into by the SCSI target. If both SRB_FLAGS_DATA_IN and SRB_FLAGS_DATA_OUT flags are set in the SRB, the miniport driver must determine the data direction by examining the data phase on the SCSI bus at the appropriate time, if the miniport needs to know the direction. If the miniport uses system DMA, the miniport must also set only the true direction bit and reset the other one in the SRB before calling <B>ScsiPortIoMapTransfer</B> when this case is encountered. </P></FONT></BODY></HTML>
