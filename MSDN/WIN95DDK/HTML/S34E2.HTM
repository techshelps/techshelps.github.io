<HTML><HEAD><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>V86MMGR_Allocate_V86_Pages</TITLE><META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset= iso-8859-1"><style>@import url(/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="/msdn_ie3.css"></HEAD><BODY BGCOLOR="#FFFFFF">
<FONT FACE="verdana,arial,helvetica" SIZE="2">
<H3>V86MMGR_Allocate_V86_Pages </H3><P><BR></P>
<PRE>include v86mmgr.inc
mov     ebx, VMHandle
mov     esi, DesiredSize
mov     edi, MinimumSize
mov     ecx, Flags
VxDcall V86MMGR_Allocate_V86_Pages
jc      error_handler
mov     [NumPages], eax
</PRE>
<P>Allocates and maps the base V86 memory for a virtual machine. Uses EAX, Flags. </P>
<UL><LI>     Returns with the carry flag clear if successful, or set otherwise. If the service succeeds, the actual number of pages allocated and mapped to the VM is returned in the EAX register. This value does <I>not</I> include the space from zero to the first VM page. </LI></UL><P></P>
<P><I>VMHandle</I> </P>
<P>Handle of the VM. </P>
<P><I>DesiredSize</I> and <I>MinimumSize</I> </P>
<P>Desired size and minimum size of the VM address space, in kilobytes. These sizes include the address range from zero through the first VM page. </P>
<P><I>Flags</I> </P>
<P>Memory attributes for the VM. Can be zero or this flag: </P>

<TABLE COLS="2" BORDER="0" CELLPADDING="7"><COLGROUP><COL WIDTH="144pt" VALIGN="TOP"><COL WIDTH="190pt" VALIGN="TOP"></COLGROUP><TBODY><TR><TD VALIGN="TOP"><P>AV86PLocked (bit number AV86PLockedBit) </P></TD><TD VALIGN="TOP"><P>Specifies that the VM memory is to be always locked, regardless of the pager type or whether the VM is suspended. </P></TD></TR></TBODY></TABLE>
<P><BR></P><P></P>
<P>If an error occurs, this service calls the <B>GetSetDetailedVMError</B> service to set an error value. </P>
<P></P>
<P></P></FONT></BODY></HTML>
