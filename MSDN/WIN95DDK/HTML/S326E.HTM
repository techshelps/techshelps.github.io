<HTML><HEAD><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>_SetResetV86Pageable</TITLE><META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset= iso-8859-1"><style>@import url(/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="/msdn_ie3.css"></HEAD><BODY BGCOLOR="#FFFFFF">
<FONT FACE="verdana,arial,helvetica" SIZE="2">
<H3>_SetResetV86Pageable </H3><P><BR></P>
<PRE>include vmm.inc

VMMcall _SetResetV86Pageable, &lt;VM, VMLinPgNum, nPages, flags&gt;

or      eax, eax    ; nonzero if set or reset, zero if error
jz      error
</PRE>
<P>Modifies the locking and unlocking behavior associated with a specific range of V86 memory. Uses EAX, ECX, EDX, and Flags. </P>
<UL><LI>     Returns a nonzero value in the EAX register if successful, zero otherwise. </LI></UL><P></P>
<P><I>VM</I> </P>
<P>Handle of the virtual machine for which the behavior is modified. </P>
<P><I>VMLinPgNum</I> </P>
<P>Linear page number of the first page in 1 megabyte V86 address space to modify. This parameter must not be below the page number for the first V86 page, or above 100h. </P>
<P><I>nPages</I> </P>
<P>Number of pages to modify. </P>
<P><I>flags</I> </P>
<P>Operation flags. Can be one of these values: </P>

<TABLE COLS="2" BORDER="0" CELLPADDING="7"><COLGROUP><COL WIDTH="144pt" VALIGN="TOP"><COL WIDTH="190pt" VALIGN="TOP"></COLGROUP><TBODY><TR><TD VALIGN="TOP"><P><B>Value </B></P></TD><TD VALIGN="TOP"><P><B>Meaning </B></P></TD></TR><TR><TD VALIGN="TOP"><P>PageClearV86IntsLocked </P></TD><TD VALIGN="TOP"><P>Disables locking of all V86 memory that cannot be paged regardless of whether the virtual page swap device uses MS-DOS or BIOS functions. </P></TD></TR><TR><TD VALIGN="TOP"><P>PageClearV86Pageable </P></TD><TD VALIGN="TOP"><P>Enables normal locking behavior. </P></TD></TR><TR><TD VALIGN="TOP"><P>PageSetV86IntsLocked </P></TD><TD VALIGN="TOP"><P>Enables locking of all V86 memory that cannot be paged regardless of whether the virtual page swap device uses MS-DOS or BIOS functions. </P></TD></TR><TR><TD VALIGN="TOP"><P>PageSetV86Pageable </P></TD><TD VALIGN="TOP"><P>Disables normal locking behavior of <B>_MapIntoV86</B> and allows V86 memory to be paged. </P></TD></TR></TBODY></TABLE>
<P><BR></P><P></P>
<P>All other values are reserved. </P>
<P>This service is intended to be used to support protected-mode applications running in a virtual machine. Virtual devices must <I>not</I> use this service for any other purpose. </P>
<P>This service returns an error if the VMStat_PageableV86 or VMStat_V86IntsLocked state is inconsistent with the specified PageSetV86Pageable, PageClearV86Pageable, PageSetV86IntsLocked, or PageClearV86IntsLocked values. </P>
<P>This service returns an error if the PageClearV86Pageable or PageSetV86IntsLocked values are given, but the service cannot lock the specified memory. </P>
<P>The V86MMGR device uses the PageSetV86IntsLocked value for virtual machines which are created with their base memory specified as locked. </P>
<P>Virtual device should avoid manipulating the locking and unlocking behavior of regions above page 0A0h. A virtual device should not modify these pages unless it owns a global or local region set by the <B>_Assign_Device_V86_Pages</B> service. </P>
<P>If the PageSetV86IntsLocked or PageClearV86IntsLocked value is given, the service applies the modification to every page that that cannot be paged. For this reason the <I>VMLinPgNum</I> and <I>nPages</I> parameters should be set to zero. </P>
<P>By default, the <B>_MapIntoV86</B> service locks the memory it maps. For a virtual machine running a protected-mode application, it is desirable change this default behavior. </P>
<P>See also <B>_Assign_Device_V86_Pages</B> </P>
<P></P>
<P></P></FONT></BODY></HTML>
