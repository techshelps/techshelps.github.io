<HTML><HEAD><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>The MCI Driver Entry Point</TITLE><META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset= iso-8859-1"><style>@import url(/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="/msdn_ie3.css"></HEAD><BODY BGCOLOR="#FFFFFF">
<FONT FACE="verdana,arial,helvetica" SIZE="2">
<H3>The MCI Driver Entry Point </H3><P>MCI uses the <B>DriverProc</B> entry point to handle its messages for MCI services. MCI augments the messages needed by the system to install, initialize, and configure the driver with MCI specific messages. This chapter contains a description of the messages added by MCI. While this chapter will reference the messages used by the system, it will only reference them in relation to the MCI messages. The Microsoft Windows Software Development Kit provides the complete definition and use of the messages used by the system. </P>
<P>The <B>DriverProc</B> entry point has the following syntax: </P>
<P><BR></P>
<PRE>LRESULT WINAPI DriverProc(DWORD dwDriverID, 
    HDRVR hDriver, 
    UINT uMsg,
    LPARAM lParam1,
    LPARAM lParam2)
</PRE>
<P>MCI drivers use the following definitions for the parameters of this entry point: </P>

<TABLE COLS="2" BORDER="0" CELLPADDING="7"><COLGROUP><COL WIDTH="144pt" VALIGN="TOP"><COL WIDTH="204pt" VALIGN="TOP"></COLGROUP><TBODY><TR><TD VALIGN="TOP"><P><B>Parameter </B></P></TD><TD VALIGN="TOP"><P><B>Definition </B></P></TD></TR><TR><TD VALIGN="TOP"><P><I>dwDriverID</I> </P></TD><TD VALIGN="TOP"><P>Contains the driver ID created by the device driver in the low-order word. </P></TD></TR><TR><TD VALIGN="TOP"><P><I>hDriver</I> </P></TD><TD VALIGN="TOP"><P>Contains a handle to the device driver </P></TD></TR><TR><TD VALIGN="TOP"><P><I>uMsg</I> </P></TD><TD VALIGN="TOP"><P>Contains the joystick message </P></TD></TR><TR><TD VALIGN="TOP"><P><I>lParam1</I> </P></TD><TD VALIGN="TOP"><P>Contains message-dependent data. Most messages define flags for this parameter. </P></TD></TR><TR><TD VALIGN="TOP"><P><I>lParam2</I> </P></TD><TD VALIGN="TOP"><P>Contains message-dependent data. Most messages define structures for this parameter </P></TD></TR></TBODY></TABLE>
<P><BR></P><P></P>
<P>When you add this entry point to your device driver, remember that you must export it. For more information on the <B>DriverProc</B> entry point and the system messages it handles, see the description of installable device drivers in the <I>Microsoft Windows Software Development Kit</I>. </P></FONT></BODY></HTML>
