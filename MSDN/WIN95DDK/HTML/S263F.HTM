<HTML><HEAD><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Color</TITLE><META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset= iso-8859-1"><style>@import url(/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="/msdn_ie3.css"></HEAD><BODY BGCOLOR="#FFFFFF">
<FONT FACE="verdana,arial,helvetica" SIZE="2">
<H3>Color </H3><P>When Windows calls the <B>Enable</B> function the first time, a graphics driver should initialize the members of the <B>GDIINFO </B>structure that contain information about the device's color capabilities. The following table identifies these members and their purpose: </P>

<TABLE COLS="2" BORDER="0" CELLPADDING="7"><COLGROUP><COL WIDTH="144pt" VALIGN="TOP"><COL WIDTH="204pt" VALIGN="TOP"></COLGROUP><TBODY><TR><TD VALIGN="TOP"><P><B>GDIINFO member </B></P></TD><TD VALIGN="TOP"><P><B>Purpose </B></P></TD></TR><TR><TD VALIGN="TOP"><P><B>dpNumColors</B> </P></TD><TD VALIGN="TOP"><P>Specifies the number of colors (or pens, in the case of plotters) supported by the device. </P></TD></TR><TR><TD VALIGN="TOP"><P><B>dpRaster</B> </P></TD><TD VALIGN="TOP"><P>Specifies whether or not the device is palette capable. </P></TD></TR><TR><TD VALIGN="TOP"><P><B>dpNumPalReg</B> </P></TD><TD VALIGN="TOP"><P>Specifies the total number of simultaneous colors which can be displayed on a palette-capable device. </P></TD></TR><TR><TD VALIGN="TOP"><P><B>dpPalReserved</B> </P></TD><TD VALIGN="TOP"><P>Specifies the number of palette entries that are reserved for system colors. (This member is only required for palette capable devices.) </P></TD></TR><TR><TD VALIGN="TOP"><P><B>dpColorRes</B> </P></TD><TD VALIGN="TOP"><P>Specifies the number of bits required to identify an entry in the palette. </P></TD></TR></TBODY></TABLE>
<P><BR></P><P></P>
<P>As a minimum, all drivers must specify the number of supported colors by setting the <B>dpNumColors</B> member of the <B>GDIINFO</B> structure; in addition, all drivers must specify whether or not the device is palette capable by setting the appropriate value for the <B>dpRaster</B> member. However, the remaining members of the <B>GDIINFO</B> structure should only be set by drivers that support palette-capable devices. </P>
<P>In addition to setting the appropriate members of the <B>GDIINFO</B> structure, every graphics driver must support the <B>ColorInfo</B> function. However, only drivers for palette-capable devices must support the remaining five color functions: <B>GetPalette</B>, <B>GetPalTrans</B>, <B>SetPalette</B>, <B>SetPalTrans</B>, and <B>UpdateColors</B>. </P>
<P>The <B>ColorInfo</B> function converts an RGB value into a physical color value or converts a physical color-value into an RGB value. A physical color value is an index into a device's color table. The <B>GetPalette</B> function retrieves the RGB values that correspond to a specified range of indices in a device's palette. The <B>GetPalTrans</B> function retrieves a copy of the driver's palette-translation table. The <B>SetPalette</B> function sets one or more entries in a device's palette. The <B>SetPalTrans</B> function creates an inverse of the driver's palette translation table. The <B>UpdateColors</B> function uses the current translation-table colors to update a rectangular region on a video display. </P></FONT></BODY></HTML>
