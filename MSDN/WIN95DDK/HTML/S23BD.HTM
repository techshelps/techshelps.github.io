<HTML><HEAD><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Add Registry Sections</TITLE><META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset= iso-8859-1"><style>@import url(/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="/msdn_ie3.css"></HEAD><BODY BGCOLOR="#FFFFFF">
<FONT FACE="verdana,arial,helvetica" SIZE="2">
<H3>Add Registry Sections </H3><P><BR></P>
<PRE>[&lt;add-registry-section&gt;]
&lt;reg-root-string&gt;, [&lt;subkey&gt;], [&lt;value-name&gt;], [&lt;flag&gt;], [&lt;value&gt;]
[&lt;reg-root-string&gt;, [&lt;subkey&gt;], [&lt;value-name&gt;], [&lt;flag&gt;], [&lt;value&gt;]]
   .
   .
   .
</PRE>
<P>Adds subkeys or value names to the registry, optionally setting the value. The <I>add-registry-section</I> name must appear in an <B>AddReg</B>-type item in an <B>Install</B> section. </P>
<P><I>reg-root-string</I> </P>
<P>Registry root name. Can be one of these value: </P>

<TABLE COLS="2" BORDER="0" CELLPADDING="7"><COLGROUP><COL WIDTH="144pt" VALIGN="TOP"><COL WIDTH="190pt" VALIGN="TOP"></COLGROUP><TBODY><TR><TD VALIGN="TOP"><P>HKCR </P></TD><TD VALIGN="TOP"><P>Same as HKEY_CLASSES_ROOT </P></TD></TR><TR><TD VALIGN="TOP"><P>HKCU </P></TD><TD VALIGN="TOP"><P>Same as HKEY_CURRENT_USER </P></TD></TR><TR><TD VALIGN="TOP"><P>HKLM </P></TD><TD VALIGN="TOP"><P>Same as HKEY_LOCAL_MACHINE </P></TD></TR><TR><TD VALIGN="TOP"><P>HKU </P></TD><TD VALIGN="TOP"><P>Same as HKEY_USERS. </P></TD></TR><TR><TD VALIGN="TOP"><P>HKR </P></TD><TD VALIGN="TOP"><P>Means relative from the Key passed into <B>GenInstallEx</B> </P></TD></TR></TBODY></TABLE>
<P><BR></P><P></P>
<P><I>subkey</I> </P>
<P>Optional. Identifies the subkey to set. Has the form <I>key1\key2\key3</I>.... This parameter can be expressed as a replaceable string. For example, you could use %Subkey1% where the string to replace %Subkey1% is defined in the <B>Strings</B> section of the INF file. </P>
<P><I>value-name</I> </P>
<P>Optional. Identifies the value name for the <I>subkey</I>. For string type, if the <I>value-name</I> parameter is left empty, the value of the subkey specified in the <I>subkey</I> parameter is set to a NULL string. Note that the <I>value-name</I> parameter can be expressed as a replaceable string. For example, you could use %Valname1% where the string to replace %Valname1% is defined in the <B>Strings</B> section of the INF file. </P>
<P><I>flag</I> </P>
<P>Optional. Determines both the value type and whether the registry key is replaced if it already exists. The <I>flag</I> value is a bit map where: </P>

<TABLE COLS="3" BORDER="0" CELLPADDING="7"><COLGROUP><COL WIDTH="72pt" VALIGN="TOP"><COL WIDTH="72pt" VALIGN="TOP"><COL WIDTH="180pt" VALIGN="TOP"></COLGROUP><TBODY><TR><TD VALIGN="TOP"><P>Bit </P></TD><TD VALIGN="TOP"><P>Value </P></TD><TD VALIGN="TOP"><P>Meaning </P></TD></TR><TR><TD VALIGN="TOP"><P>0 </P></TD><TD VALIGN="TOP"><P>0 </P></TD><TD VALIGN="TOP"><P>(Default) Value is an ANSI string. </P></TD></TR><TR><TD VALIGN="TOP"><P>0 </P></TD><TD VALIGN="TOP"><P>1 </P></TD><TD VALIGN="TOP"><P>Value is a hexadecimal number. </P></TD></TR><TR><TD VALIGN="TOP"><P>1 </P></TD><TD VALIGN="TOP"><P>0 </P></TD><TD VALIGN="TOP"><P>(Default) Replace key if it exists. </P></TD></TR><TR><TD VALIGN="TOP"><P>1 </P></TD><TD VALIGN="TOP"><P>1 </P></TD><TD VALIGN="TOP"><P>Do not replace key if it exists. </P></TD></TR></TBODY></TABLE>
<P><BR></P><P></P>
<P><I>value</I> </P>
<P>Optional. Value to set. Can be either an ANSI string or a number in hexadecimal notation and Intel format. Any item containing a binary value can be extended beyond the 128-byte line maximum by using a backslash (\) character. A string key of the form %<I>strkey</I>% can also be given. The <I>strkey</I> must be defined in the Strings section of the INF file. To use a % character in the line, use %%. </P>
<P>At least two fields are required, however one can be null thus at least one comma is required when using this form. </P>
<P>The two items in the example AddReg-type section below, which is named MOD1, add two value names to the registry, DevLoader and Miniport, if not already present. It also sets the value of these names to IOS and CX2590.MCD. </P>
<P><BR></P>
<PRE>[MOD1]
HKR,,DevLoader,,IOS
HKR,,Miniport,,CX2590.MCD

</PRE>

<P></P>
<P></P></FONT></BODY></HTML>
