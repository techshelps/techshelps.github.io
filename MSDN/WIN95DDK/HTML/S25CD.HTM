<HTML><HEAD><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Setting the Default Command</TITLE><META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset= iso-8859-1"><style>@import url(/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="/msdn_ie3.css"></HEAD><BODY BGCOLOR="#FFFFFF">
<FONT FACE="verdana,arial,helvetica" SIZE="2">
<H3>Setting the Default Command </H3><P>The debugger runs the default command string when it reaches any breakpoint that you have set with the <B>g</B> (go), <B>bp</B> (Breakpoint), or <B>br</B> (Breakpoint Register) command. It also runs the default command when you run the <B>p</B> (program trace), <B>t</B> (trace), or <B>zd </B>command. </P>
<P>Initially, the default command string is set to the <B>r</B> (Register) command, but you can change it by using the <B>zs</B> (Set Default) command. If any errors occur (for example, if the command line is too long), the default command returns to the <B>r</B> command. The default command can be any sequence of debugger commands each separated by a semicolon (;). In the default command, <B>j</B> commands can be useful. </P>
<P>Default command needed to continue execution each time the application or test program encounters an Interrupt 3: </P>
<P><BR></P>
<PRE>zs "j (by cs:eip) == 0cc 'g'"
</PRE>
<P>Trace until the doubleword at 137:00001234h is equal to 0EEDh (a primitive watchpoint). This operation must be started with a T, a P, or a ZD command so that the default command can be executed. If this operation is started by the G command, the default command will not execute unless execution is stopped on a go breakpoint or on a sticky breakpoint with no breakpoint command. </P>
<P><BR></P>
<PRE>zs "j (dw 137:00001234) == 0eed 'r';t"
zd
</PRE>
<P>Perform a trace that displays each instruction until control is returned to code segment or selector 137h. Notice that PN displays only the disassembly line and not the register set, saving line space on the debugger's terminal screen. </P>
<P><BR></P>
<PRE>zs "u cs:eip l1; j cs == 0137 'r';pn"
zd
</PRE></FONT></BODY></HTML>
