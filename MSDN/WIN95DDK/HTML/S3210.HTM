<HTML><HEAD><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>_GetFreePageCount</TITLE><META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset= iso-8859-1"><style>@import url(/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="/msdn_ie3.css"></HEAD><BODY BGCOLOR="#FFFFFF">
<FONT FACE="verdana,arial,helvetica" SIZE="2">
<H3>_GetFreePageCount </H3><P><BR></P>
<PRE>include vmm.inc

VMMcall _GetFreePageCount, &lt;flags&gt;

mov     dword ptr [FreePages], eax      ; number of free pages
mov     dword ptr [LockablePages], edx  ; number of lockable pages
</PRE>
<P>Returns the number of pages in the free list. This service also returns the number of free pages that can be allocated as locked pages. Uses EAX, ECX, EDX, and flags. </P>
<UL><LI>     Returns the number of free pages in the EAX register register and the number of pages available for allocation as locked pages in the EDX register. </LI></UL><P></P>
<P><I>flags</I> </P>
<P>Operation flags. Must be zero. </P>
<P>Virtual devices can allocate pages by using the <B>_PageAllocate, _PageCommit</B>, <B>_PageCommitContig</B>, or <B>_PageCommitPhys</B> service. </P>
<P>In a demand-paged virtual memory system such as Windows, the number of free pages is usually very close to 0, so the count of pages available for locking is usually a better indicator of available memory. However, virtual devices must not rely on the count of free pages being less than or equal to the count of pages to lock. No guarantees can be made about the length of time the information returned by this service remains accurate. </P>
<P>See also <B>_PageAllocate</B> </P>
<P></P>
<P></P></FONT></BODY></HTML>
