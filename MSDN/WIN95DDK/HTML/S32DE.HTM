<HTML><HEAD><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>_lstrcpyn</TITLE><META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset= iso-8859-1"><style>@import url(/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="/msdn_ie3.css"></HEAD><BODY BGCOLOR="#FFFFFF">
<FONT FACE="verdana,arial,helvetica" SIZE="2">
<H3>_lstrcpyn </H3><P><BR></P>
<PRE>include vmm.inc

cld
VMMcall _lstrcpyn, &lt;OFFSET32 pszDst, OFFSET32 pszSrc, dwBufSize&gt; 
mov     pszDst, eax
mov     cbUnused, ecx
mov     pszNull, edx
</PRE>
<P>Copies a zero-terminated ASCII string to a sized buffer. Uses the C calling convention. Uses EAX, ECX, EDX, and Flags. The direction flag must be clear. </P>
<UL><LI>     Returns the following information: </LI></UL>
<TABLE COLS="2" BORDER="0" CELLPADDING="7"><COLGROUP><COL WIDTH="144pt" VALIGN="TOP"><COL WIDTH="190pt" VALIGN="TOP"></COLGROUP><TBODY><TR><TD VALIGN="TOP"><P>EAX </P></TD><TD VALIGN="TOP"><P>Address of the destination buffer. </P></TD></TR><TR><TD VALIGN="TOP"><P>ECX </P></TD><TD VALIGN="TOP"><P>Number of unused bytes in the buffer, not including the terminating null character. </P></TD></TR><TR><TD VALIGN="TOP"><P>EDX </P></TD><TD VALIGN="TOP"><P>Address of the terminating null byte in the destination buffer. </P></TD></TR></TBODY></TABLE>
<P><BR></P><P></P>
<P></P>
<P><I>pszDst</I> </P>
<P>Address of destination buffer. </P>
<P><I>pszSrc</I> </P>
<P>Address of source buffer. </P>
<P><I>dwBufSize</I> </P>
<P>Size, in bytes, of the destination buffer. Set this parameter to – 1 if the size is unlimited. </P>
<P>If the destination buffer is larger than the source string, the unused portion of the buffer is not padded with null characters. If the destination buffer is smaller than the source string (<I>dwBufSize</I> - 1), characters from the source string are copied, followed by a (premature) terminating null character. If <I>dwBufSize</I> is set to zero, no bytes are copied to the destination buffer. </P>
<P>Setting <I>pszSrc</I> to zero is equivalent to specifying a null source string. This service accesses only bytes from <I>pszSrc</I> that are copied. If the destination buffer fills before the end of the source buffer is reached, the remaining bytes of the source buffer are not accessed. </P>
<P>The source and destination buffers must not overlap. This is an asynchronous service. </P>
<P></P>
<P></P></FONT></BODY></HTML>
