<HTML><HEAD><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>IPF_Data</TITLE><META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset= iso-8859-1"><style>@import url(/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="/msdn_ie3.css"></HEAD><BODY BGCOLOR="#FFFFFF">
<FONT FACE="verdana,arial,helvetica" SIZE="2">
<H3>IPF_Data </H3><P><BR></P>
<PRE>include vmm.inc

IPF_Data    struc
IPF_LinAddr     dd  ?   ; CR2 address of fault
IPF_MapPageNum  dd  ?   ; possible converted page number of fault
IPF_PTEEntry    dd  ?   ; contents of PTE that faulted
IPF_FaultingVM  dd  ?   ; may not = current VM (IPF_V86PgH set)
IPF_Flags       dd  ?   ; flags
IPF_Data    ends
</PRE>
<P>The <B>IPF_Data</B> structure contains information about the current invalid page fault. </P>
<P><B>IPF_LinAddr</B> </P>
<P>Specifies the CR2 address of the page fault. Do not read from the CR2 register directly; use this value instead. </P>
<P><B>IPF_MapPageNum</B> </P>
<P>Specifies the possible converted page number of the fault. </P>
<P><B>IPF_PTEEntry</B> </P>
<P>Specifies the contents of the page-table entry that caused the fault. </P>
<P><B>IPF_FaultingVM</B> </P>
<P>Specifies the handle identifying the virtual machine that caused the fault. This is not necessarily the current virtual machine. </P>
<P><B>IPF_Flags</B> </P>
<P>Specifies the invalid page-fault flags. It can be a combination of the following values: </P>

<TABLE COLS="2" BORDER="0" CELLPADDING="7"><COLGROUP><COL WIDTH="144pt" VALIGN="TOP"><COL WIDTH="190pt" VALIGN="TOP"></COLGROUP><TBODY><TR><TD VALIGN="TOP"><P><B>Value </B></P></TD><TD VALIGN="TOP"><P><B>Meaning </B></P></TD></TR><TR><TD VALIGN="TOP"><P>IPF_InvTyp </P></TD><TD VALIGN="TOP"><P>Page has invalid not-present type. </P></TD></TR><TR><TD VALIGN="TOP"><P>IPF_PgDir </P></TD><TD VALIGN="TOP"><P>Page directory entry not present (not-present page table). </P></TD></TR><TR><TD VALIGN="TOP"><P>IPF_PgErr </P></TD><TD VALIGN="TOP"><P>Page swap device could not page for some reason. </P></TD></TR><TR><TD VALIGN="TOP"><P>IPF_PM </P></TD><TD VALIGN="TOP"><P>Page fault caused by virtual machine running in protected mode. </P></TD></TR><TR><TD VALIGN="TOP"><P>IPF_ReFlt </P></TD><TD VALIGN="TOP"><P>Re-entrant page fault. </P></TD></TR><TR><TD VALIGN="TOP"><P>IPF_V86 </P></TD><TD VALIGN="TOP"><P>Page fault caused by virtual machine running in V86 mode. </P></TD></TR><TR><TD VALIGN="TOP"><P>IPF_V86Pg </P></TD><TD VALIGN="TOP"><P>Unexpected not-present page in V86. </P></TD></TR><TR><TD VALIGN="TOP"><P>IPF_V86PgH </P></TD><TD VALIGN="TOP"><P>Unexpected not-present page in V86 at high linear address. </P></TD></TR><TR><TD VALIGN="TOP"><P>IPF_VMM </P></TD><TD VALIGN="TOP"><P>Page fault caused by a virtual device. </P></TD></TR></TBODY></TABLE>
<P><BR></P><P></P>
<P>Invalid page faults occur in a virtual machine other than the current virtual machine if the high linear address of the virtual machine is accessed. In this case, the <B>IPF_FaultingVM</B> field is set to the handle of the virtual machine that owns the high linear address. </P>
<P>See also <B>Hook_Invalid_Page_Fault</B> </P>
<P></P>
<P></P></FONT></BODY></HTML>
