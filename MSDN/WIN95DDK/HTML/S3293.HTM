<HTML><HEAD><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Get_Name_Of_Ugly_TSR</TITLE><META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset= iso-8859-1"><style>@import url(/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="/msdn_ie3.css"></HEAD><BODY BGCOLOR="#FFFFFF">
<FONT FACE="verdana,arial,helvetica" SIZE="2">
<H3>Get_Name_Of_Ugly_TSR </H3><P><BR></P>
<PRE>include vmm.inc

VMMcall Get_Name_Of_Ugly_TSR

jz      no_ugly_TSR         ; zero flag set if no ugly TSRs present
mov     [Name], eax         ; first 4 characters of TSR name
mov     [Name+4], ebx       ; last 4 characters of TSR name
</PRE>
<P>Returns the name of an uncooperative TSR. This service is available only during initialization, and only for Windows version 3.1 and later. Uses EAX, EBX, Flags. </P>
<UL><LI>     Returns with the zero flag clear if any uncooperative TSRs are present, set otherwise. If the zero flag is clear, the EAX and EBX registers contain the first four and last four characters of the TSR name. Otherwise both registers are zero. </LI></UL><P></P>
<P>During its real-mode initialization, the virtual MS-DOS manager checks for and records the names of any TSRs that may prevent other MS-DOS programs from running. <B>Get_Name_Of_Ugly_TSR</B> checks the list and returns one of the TSR names (if any) so that virtual devices can determine whether they can successfully operate. Although more than one ugly TSR may be present in the list, the service chooses only one name to return. </P>
<P></P>
<P></P></FONT></BODY></HTML>
