<HTML><HEAD><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Bimodal_Int_Struc</TITLE><META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset= iso-8859-1"><style>@import url(/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="/msdn_ie3.css"></HEAD><BODY BGCOLOR="#FFFFFF">
<FONT FACE="verdana,arial,helvetica" SIZE="2">
<H3>Bimodal_Int_Struc </H3><P><BR></P>
<PRE>include bimodint.inc

Bimodal_Int_Struc     STRUC
BIS_IRQ_Number        dw    ? ; IRQ number
BIS_VM_ID             dw    0 ; see below
BIS_Next              dd    ? ; next Bimodal_Int_Struc in chain
BIS_Reserved1         dd    ? ; see below
BIS_Reserved2         dd    ? ; see below
BIS_Reserved3         dd    ? ; reserved; do not use
BIS_Reserved4         dd    ? ; reserved; do not use
BIS_Flags             dd    0 ; bimodal interrupt flags; must be 0
BIS_Mode              dw    0 ; see below
BIS_Entry             dw    ? ; see below
BIS_Control_Proc      dw    ? ; see below
                      dw    ?
BIS_User_Mode_API     dd    ? ; see below
BIS_Super_Mode_API    dd    ? ; see below
BIS_User_Mode_CS      dw    ? ; see below
BIS_User_Mode_DS      dw    ? ; see below
BIS_Super_Mode_CS     dw    ? ; see below
BIS_Super_Mode_DS     dw    ? ; see below
BIS_Descriptor_Count  dw    ? ; see below
Bimodal_Int_Struc     ENDS
</PRE>
<P>Contains information for a bimodal interrupt. </P>
<P><B>BIS_VM_ID</B> </P>
<P>Handle of the virtual machine; this field is used by the virtual PIC device. </P>
<P><B>BIS_Reserved1</B> </P>
<P>Reserved for IRQ handle; this field is used by the virtual PIC device. </P>
<P><B>BIS_Reserved2</B> </P>
<P>Reserved for BIS address; this field is used by the virtual PIC device. </P>
<P><B>BIS_Mode</B> </P>
<P>Flag for user or supervisor mode. It is 0 for user mode; 4 for supervisor mode. </P>
<P><B>BIS_Entry</B> </P>
<P>Offset to the interrupt service routine for this interrupt. </P>
<P><B>BIS_Control_Proc</B> </P>
<P>Offset to the control procedure for this interrupt. </P>
<P><B>BIS_User_Mode_API</B> </P>
<P>Address of the user-mode API procedure for this interrupt. The procedure must check for, and carry out these functions: </P>

<TABLE COLS="2" BORDER="0" CELLPADDING="7"><COLGROUP><COL WIDTH="144pt" VALIGN="TOP"><COL WIDTH="190pt" VALIGN="TOP"></COLGROUP><TBODY><TR><TD VALIGN="TOP"><P>BIH_API_Call_Back </P></TD><TD VALIGN="TOP"><P>Calls specified callback procedure when given virtual machine runs. </P></TD></TR><TR><TD VALIGN="TOP"><P>BIH_API_EOI </P></TD><TD VALIGN="TOP"><P>End interrupt. </P></TD></TR><TR><TD VALIGN="TOP"><P>BIH_API_Get_IRR </P></TD><TD VALIGN="TOP"><P>Retrieve the set state of the physical IRQ. </P></TD></TR><TR><TD VALIGN="TOP"><P>BIH_API_Get_ISR </P></TD><TD VALIGN="TOP"><P>Retrieve service state of the physical IRQ. </P></TD></TR><TR><TD VALIGN="TOP"><P>BIH_API_Get_Mask </P></TD><TD VALIGN="TOP"><P>Retrieve the mask state of the physical IRQ. </P></TD></TR><TR><TD VALIGN="TOP"><P>BIH_API_Mask </P></TD><TD VALIGN="TOP"><P>Mask the physical IRQ. </P></TD></TR><TR><TD VALIGN="TOP"><P>BIH_API_Unmask </P></TD><TD VALIGN="TOP"><P>Unmask the physical IRQ. </P></TD></TR></TBODY></TABLE>
<P><BR></P><P></P>
<P><B>BIS_Super_Mode_API</B> </P>
<P>Address of the supervisor-mode API procedure for this interrupt; this field is set by the virtual PIC device. </P>
<P><B>BIS_User_Mode_CS</B> </P>
<P>Selector for the user-mode code segment for the interrupt handler. </P>
<P><B>BIS_User_Mode_DS</B> </P>
<P>Selector for the user-mode data segment for the interrupt handler. </P>
<P><B>BIS_Super_Mode_CS</B> </P>
<P>Selector for the supervisor-mode code segment for the interrupt handler; this field is set by the virtual PIC device. </P>
<P><B>BIS_Super_Mode_DS</B> </P>
<P>Selector for the supervisor-mode data segment for the interrupt handler; this field is set by the virtual PIC device. </P>
<P><B>BIS_Descriptor_Count</B> </P>
<P>Number of additional <B>EBIS_Sel_Struc</B> structures immediately following this structure. </P>
<P></P>
<P></P></FONT></BODY></HTML>
