<HTML><HEAD><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Interrupt 2Fh Function 4005h</TITLE><META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset= iso-8859-1"><style>@import url(/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="/msdn_ie3.css"></HEAD><BODY BGCOLOR="#FFFFFF">
<FONT FACE="verdana,arial,helvetica" SIZE="2">
<H3>Interrupt 2Fh Function 4005h </H3><P><BR></P>
<PRE>mov ax, 4005h       ; Save Video Register State
int 2fh
</PRE>
<P>The Save Video Register State function notifies VM applications that the virtual-display device (VDD) requires access to the video hardware registers. The VDD calls this function, for example, when preparing to copy the entire screen to the clipboard. </P>
<P>This function has no parameters. </P>
<UL><LI>     This function has no return value. </LI></UL><P></P>
<P>The VDD calls this function only if the VM application has called Enable VM-Assisted Save/Restore (Interrupt 2Fh Function 4000h). VM applications that receive Save Video Register State must save any data necessary to restore the current video state and must return within 1000ms. If the application fails to return in time, the virtual-display device accesses the video hardware anyway. After accessing the video hardware registers, the VDD calls Restore Video Register State (Interrupt 2Fh Function 4006h) to notify the application that it can restore its video state. </P>
<P>The VDD calls Save Video Register State only at times when the hardware must be reprogrammed for what are essentially brief and nonvisible operations. For example, the VDD does not call this function prior to calling Notify Background Switch (Interrupt 2Fh Function 4001h). </P>
<P>See also Interrupt 2Fh Function 4000h Enable VM-Assisted Save/Restore </P>
<P>See also Interrupt 2Fh Function 4001h Notify Background Switch </P>
<P>See also Interrupt 2Fh Function 4006h Restore Video Register State </P>
<P></P>
<P></P></FONT></BODY></HTML>
