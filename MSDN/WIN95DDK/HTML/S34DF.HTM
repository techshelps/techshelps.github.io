<HTML><HEAD><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>API Mapping</TITLE><META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset= iso-8859-1"><style>@import url(/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="/msdn_ie3.css"></HEAD><BODY BGCOLOR="#FFFFFF">
<FONT FACE="verdana,arial,helvetica" SIZE="2">
<H3>API Mapping </H3><P>The <B>V86MMGR_Xlat_API</B> service <I>copies</I> the data, it does not map it. Some virtual devices, however, need to map pages from extended address space into the 1 megabyte V86 address space. For example, the virtual NetBIOS device uses mapping to ensure that the proper physical memory is updated (regardless of which virtual machine is running) when an asynchronous network function completes execution. When memory is mapped using <B>V86MMGR_Map_Pages</B>, the service maps it to the same linear address in every virtual machine. </P>
<P>Mapping must not be used as an alternative to copying. It is faster to copy memory than to map it, because the memory manager does not need to perform any page table mapping and locking. Mapping also uses an address space in <I>all</I> virtual machines. Therefore, the mapping services should only be used for API functions that require memory mapped to the same address in every virtual machine. For the same reason, mapping must <I>not</I> be used to implement interprocess communication. If an IPC interface is needed, it should be implemented for protected-mode applications (which can share memory) or by copying the data. </P></FONT></BODY></HTML>
