<HTML><HEAD><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>FS_QueryResourceInfo</TITLE><META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset= iso-8859-1"><style>@import url(/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="/msdn_ie3.css"></HEAD><BODY BGCOLOR="#FFFFFF">
<FONT FACE="verdana,arial,helvetica" SIZE="2">
<H3>FS_QueryResourceInfo </H3><P><BR></P>
<PRE>FS_QueryResourceInfo(
 PIOREQ pir
 )
</PRE>
<P><B>FS_QueryResourceInfo</B> returns information about the resource in question. It returns the name of the resource and other relevant information. This routine handles the Win32 function GetVolumeInfo(). </P>
<P><I>ir_rh</I> </P>
<P>Supplies handle to the resource. </P>
<P><I>ir_options</I> </P>
<P>Supplies the level of information requested. </P>

<TABLE COLS="2" BORDER="0" CELLPADDING="7"><COLGROUP><COL WIDTH="144pt" VALIGN="TOP"><COL WIDTH="190pt" VALIGN="TOP"></COLGROUP><TBODY><TR><TD VALIGN="TOP"><P><B>Information Levels:</B> </P></TD><TD VALIGN="TOP"><P></P></TD></TR><TR><TD VALIGN="TOP"><P><B>Level 0</B> </P></TD><TD VALIGN="TOP"><P>Return the name of the resource. This request should be processed only by network FSDs. Local FSDs should fail this call. </P></TD></TR><TR><TD VALIGN="TOP"><P><B>Level 1</B> </P></TD><TD VALIGN="TOP"><P>Return level 0 information and additional information about the resource type and status. This request should be processed only by network FSDs. Local FSDs should fail this call. </P></TD></TR><TR><TD VALIGN="TOP"><P><B>Level 2</B> </P></TD><TD VALIGN="TOP"><P>Return information about the name of the filesystem on the resource and other filesystem specific information. This request should be processed by both network and local FSDs. </P></TD></TR></TBODY></TABLE>
<P><BR></P><P></P>
<P><I>ir_ppath</I> </P>
<P>Supplies a pointer to the buffer to contain the unicode name of the resource that is returned by the FSD. This field is a parameter only on the level 0 and 1 requests. </P>
<P><I>ir_data</I> </P>
<P>Supplies pointer to a buffer where the filesystem name is to be returned. This field is supplied only for a level 2 request. </P>
<P><I>ir_length</I> </P>
<P>Supplies the maximum length of the buffer the filesystem name is to be returned in. This field is supplied only for a level 2 request. </P>
<P><I>ir_user</I> </P>
<P>Supplies user id for this request. </P>
<P><I>ir_pid</I> </P>
<P>Supplies process id for this request. </P>

<TABLE COLS="2" BORDER="0" CELLPADDING="7"><COLGROUP><COL WIDTH="144pt" VALIGN="TOP"><COL WIDTH="190pt" VALIGN="TOP"></COLGROUP><TBODY><TR><TD VALIGN="TOP"><P>     <I>ir_error</I> </P></TD><TD VALIGN="TOP"><P>Returns status of the operation ( 0 if no error, errorcode otherwise ). </P></TD></TR><TR><TD VALIGN="TOP"><P><B>Level 0 Request</B> </P></TD><TD VALIGN="TOP"><P></P></TD></TR><TR><TD VALIGN="TOP"><P><I>ir_ppath</I> </P></TD><TD VALIGN="TOP"><P>Returns the name of the resource in unicode. </P></TD></TR><TR><TD VALIGN="TOP"><P><B>Level 1 Request</B> </P></TD><TD VALIGN="TOP"><P></P></TD></TR><TR><TD VALIGN="TOP"><P><I>ir_ppath</I> </P></TD><TD VALIGN="TOP"><P>Returns the name of the resource in unicode. </P></TD></TR><TR><TD VALIGN="TOP"><P><I>ir_options</I> </P></TD><TD VALIGN="TOP"><P>Returns information about the status of the resource. </P></TD></TR></TBODY></TABLE>
<P><BR></P><P></P>

<TABLE COLS="2" BORDER="0" CELLPADDING="7"><COLGROUP><COL WIDTH="144pt" VALIGN="TOP"><COL WIDTH="190pt" VALIGN="TOP"></COLGROUP><TBODY><TR><TD VALIGN="TOP"><P><B>Resource Status Values:</B> </P></TD><TD VALIGN="TOP"><P></P></TD></TR><TR><TD VALIGN="TOP"><P><B>Value </B></P></TD><TD VALIGN="TOP"><P><B>Meaning </B></P></TD></TR><TR><TD VALIGN="TOP"><P><B>RESSTAT_OK</B> </P></TD><TD VALIGN="TOP"><P>Connection to resource is still valid. </P></TD></TR><TR><TD VALIGN="TOP"><P><B>RESSTAT_PAUSED</B> </P></TD><TD VALIGN="TOP"><P>Connection to resource paused by workstation. </P></TD></TR><TR><TD VALIGN="TOP"><P><B>RESSTAT_DISCONN</B> </P></TD><TD VALIGN="TOP"><P>Resource is disconnected. </P></TD></TR><TR><TD VALIGN="TOP"><P><B>RESSTAT_ERROR</B> </P></TD><TD VALIGN="TOP"><P>Resource cannot be reconnected due to error. </P></TD></TR><TR><TD VALIGN="TOP"><P><B>RESSTAT_CONN</B> </P></TD><TD VALIGN="TOP"><P>First connection to resource in progress. </P></TD></TR><TR><TD VALIGN="TOP"><P><B>RESSTAT_RECONN</B> </P></TD><TD VALIGN="TOP"><P>Reconnection to resource in progress. </P></TD></TR></TBODY></TABLE>
<P><BR></P><P></P>

<TABLE COLS="2" BORDER="0" CELLPADDING="7"><COLGROUP><COL WIDTH="144pt" VALIGN="TOP"><COL WIDTH="190pt" VALIGN="TOP"></COLGROUP><TBODY><TR><TD VALIGN="TOP"><P><I>ir_flags</I> </P></TD><TD VALIGN="TOP"><P>Returns connection resource type. </P></TD></TR></TBODY></TABLE>
<P><BR></P><P></P>

<TABLE COLS="2" BORDER="0" CELLPADDING="7"><COLGROUP><COL WIDTH="144pt" VALIGN="TOP"><COL WIDTH="190pt" VALIGN="TOP"></COLGROUP><TBODY><TR><TD VALIGN="TOP"><P><B>Connection Resource Type Values:</B> </P></TD><TD VALIGN="TOP"><P></P></TD></TR><TR><TD VALIGN="TOP"><P><B>Value </B></P></TD><TD VALIGN="TOP"><P><B>Meaning </B></P></TD></TR><TR><TD VALIGN="TOP"><P><B>RESTYPE_WILD</B> </P></TD><TD VALIGN="TOP"><P>Wild card resource type. </P></TD></TR><TR><TD VALIGN="TOP"><P><B>RESTYPE_DISK</B> </P></TD><TD VALIGN="TOP"><P>Disk resource. </P></TD></TR><TR><TD VALIGN="TOP"><P><B>RESTYPE_SPOOL</B> </P></TD><TD VALIGN="TOP"><P>Spooled printer resource. </P></TD></TR><TR><TD VALIGN="TOP"><P><B>RESTYPE_CHARDEV</B> </P></TD><TD VALIGN="TOP"><P>Character device resource. </P></TD></TR><TR><TD VALIGN="TOP"><P><B>RESTYPE_IPC</B> </P></TD><TD VALIGN="TOP"><P>Interprocess communication resource. </P></TD></TR></TBODY></TABLE>
<P><BR></P><P></P>

<TABLE COLS="2" BORDER="0" CELLPADDING="7"><COLGROUP><COL WIDTH="144pt" VALIGN="TOP"><COL WIDTH="190pt" VALIGN="TOP"></COLGROUP><TBODY><TR><TD VALIGN="TOP"><P><B>Level 2 Request</B> </P></TD><TD VALIGN="TOP"><P></P></TD></TR><TR><TD VALIGN="TOP"><P><I>ir_length</I> </P></TD><TD VALIGN="TOP"><P>Returns the maximum length of a single path component (excluding the NUL character) supported by the filesystem in the low word and the maximum length of the path (including the NUL character) supported by the filesystem in the high word.This value should be returned only on a level 2 request. </P></TD></TR><TR><TD VALIGN="TOP"><P><I>ir_options</I> </P></TD><TD VALIGN="TOP"><P>Returns flags associated with the specified filesystem. This value should be returned only for a level 2 request. </P></TD></TR></TBODY></TABLE>
<P><BR></P><P></P>

<TABLE COLS="2" BORDER="0" CELLPADDING="7"><COLGROUP><COL WIDTH="144pt" VALIGN="TOP"><COL WIDTH="190pt" VALIGN="TOP"></COLGROUP><TBODY><TR><TD VALIGN="TOP"><P><B>Filesystem Flag Values:</B> </P></TD><TD VALIGN="TOP"><P></P></TD></TR><TR><TD VALIGN="TOP"><P><B>Value </B></P></TD><TD VALIGN="TOP"><P><B>Meaning </B></P></TD></TR><TR><TD VALIGN="TOP"><P><B>FS_CASE_IS_PRESERVED</B> </P></TD><TD VALIGN="TOP"><P>The case of the filename is preserved when it is stored on the disk. </P></TD></TR><TR><TD VALIGN="TOP"><P><B>FS_UNICODE_STORED_ON_DISK</B> </P></TD><TD VALIGN="TOP"><P>The long filename is stored in unicode on the disk. </P></TD></TR><TR><TD VALIGN="TOP"><P><B>FS_VOL_SUPPORTS_LONG_NAMES</B> </P></TD><TD VALIGN="TOP"><P>The filesystem supports long filenames on this volume. </P></TD></TR><TR><TD VALIGN="TOP"><P><B>FS_VOL_IS_COMPRESSED</B> </P></TD><TD VALIGN="TOP"><P>The filesystem does data compression on this volume. </P></TD></TR></TBODY></TABLE>
<P><BR></P><P></P>

<TABLE COLS="2" BORDER="0" CELLPADDING="7"><COLGROUP><COL WIDTH="144pt" VALIGN="TOP"><COL WIDTH="190pt" VALIGN="TOP"></COLGROUP><TBODY><TR><TD VALIGN="TOP"><P><I>ir_pos</I> </P></TD><TD VALIGN="TOP"><P>Returns the cache block size of the filesystem that is handling the volume. </P></TD></TR></TBODY></TABLE>
<P><BR></P><P></P>
<P></P>
<P>Level 0 and 1 requests should be honoured only by network FSDs. Local FSDs should fail these requests with an ERROR_INVALID_FUNCTION. </P>
<P></P>
<P></P></FONT></BODY></HTML>
