<HTML><HEAD><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>V86MMGR_Map_Pages</TITLE><META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset= iso-8859-1"><style>@import url(/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="/msdn_ie3.css"></HEAD><BODY BGCOLOR="#FFFFFF">
<FONT FACE="verdana,arial,helvetica" SIZE="2">
<H3>V86MMGR_Map_Pages </H3><P><BR></P>
<PRE>include v86mmgr.inc

mov     esi, LinAddr
mov     ecx, NumBytes
VxDcall V86MMGR_Map_Pages
jc      error_handler
mov     [MapHandle], esi
mov     [MapBuffer], edi
</PRE>
<P>Maps the specified buffer into every virtual machine at the same address using page mapping. If the contents of memory are changed in one virtual machine, that change will be reflected in the original buffer as well in all other virtual machines. Uses EDI, ESI, Flags. </P>
<UL><LI>     Returns with the carry flag clear if successful, or set otherwise. If successful, the ESI register contains the map handle (used to free the map region), and the EDI register contains the linear address of the map buffer. 
<P>If the carry flag is clear, the memory is mapped. The ESI register contains the map handle (used to free the map region), and the EDI register contains the linear address of map buffer (always less than 1 megabyte). </P></LI></UL><P></P>
<P><I>LinAddr</I> </P>
<P>Linear address of the buffer map. Can be zero, in which case the service reserves the map region without mapping any memory. </P>
<P><I>NumBytes</I> </P>
<P>Number of bytes to map. </P>
<P>If the address specified in ESI is zero, no memory is mapped, but a global linear address range is allocated. It is then up to the caller to map appropriate pages into virtual machines. Use the linear address returned in EDI for the base page to map memory into. </P>
<P></P>
<P></P></FONT></BODY></HTML>
