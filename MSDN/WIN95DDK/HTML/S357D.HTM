<HTML><HEAD><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>SHELL_Resolve_Contention</TITLE><META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset= iso-8859-1"><style>@import url(/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="/msdn_ie3.css"></HEAD><BODY BGCOLOR="#FFFFFF">
<FONT FACE="verdana,arial,helvetica" SIZE="2">
<H3>SHELL_Resolve_Contention </H3><P><BR></P>
<PRE>include shell.inc
mov eax, OwnerHandle  ; virtual machine handle of device owner
mov ebx, OtherHandle  ; virtual machine handle of contender
mov esi, OFFSET32 DeviceName  ; address of device name 
VxDcall SHELL_Resolve_Contention

jc  cannot_resolve
mov [WinnerHandle], ebx  ; virtual machine handle of new owner
</PRE>
<P>Resolves contention for the MS-DOS shell. Uses EBX and Flags. </P>
<UL><LI>     Clears the carry flag and copies the virtual machine handle of contention winner to the EBX register if successful. Otherwise, sets the carry flag to indicate that contention could not be resolved. </LI></UL><P></P>
<P><I>OwnerHandle</I> </P>
<P>Handle of virtual machine of the current device owner. </P>
<P><I>OtherHandle</I> </P>
<P>Handle of the contending virtual machine. This parameter must identify the current virtual machine. </P>
<P><I>DeviceName</I> </P>
<P>Address of an 8-byte string identifying the name of the device in contention. The name must be in uppercase letters, and be padded with spaces if necessary. This string must remain valid until <B>SHELL_Resolve_Contention</B> returns. </P>
<P></P>
<P></P></FONT></BODY></HTML>
