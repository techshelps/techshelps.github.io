<HTML><HEAD><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Asynchronous Events</TITLE><META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset= iso-8859-1"><style>@import url(/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="/msdn_ie3.css"></HEAD><BODY BGCOLOR="#FFFFFF">
<FONT FACE="verdana,arial,helvetica" SIZE="2">
<H3>Asynchronous Events </H3><P>An asynchronous event is a request or a notification from the IOS to a driver that does not correspond to the normal processing of an I/O request. Asynchronous events can occur at any time: while registering the driver and while waiting for or processing I/O requests. The most common events are the events associated with driver registration, such as AEP_INITIALIZE, but other events can occur frequently. The following lists the possible asynchronous events: </P>

<TABLE COLS="2" BORDER="0" CELLPADDING="7"><COLGROUP><COL WIDTH="223pt" VALIGN="TOP"><COL WIDTH="124pt" VALIGN="TOP"></COLGROUP><TBODY><TR><TD VALIGN="TOP"><P>AEP_1_SEC (8) </P></TD><TD VALIGN="TOP"><P>Notifies driver that one second has elapsed. </P></TD></TR><TR><TD VALIGN="TOP"><P>AEP_2_SECS (9) </P></TD><TD VALIGN="TOP"><P>Notifies driver that two seconds have elapsed. </P></TD></TR><TR><TD VALIGN="TOP"><P>AEP_4_SECS (10) </P></TD><TD VALIGN="TOP"><P>Notifies driver that four seconds have elapsed. </P></TD></TR><TR><TD VALIGN="TOP"><P>AEP_ASSOCIATE_DCB (12) </P></TD><TD VALIGN="TOP"><P>Associates a logical DCBs with a physical DCB. </P></TD></TR><TR><TD VALIGN="TOP"><P>AEP_BOOT_COMPLETE (2) </P></TD><TD VALIGN="TOP"><P>Notifies driver to switch to run time operation. </P></TD></TR><TR><TD VALIGN="TOP"><P>AEP_CONFIG_DCB (3) </P></TD><TD VALIGN="TOP"><P>Configures physical device. </P></TD></TR><TR><TD VALIGN="TOP"><P>AEP_CREATE_VRP (18) </P></TD><TD VALIGN="TOP"><P>Notifies driver that a VRP has been created. </P></TD></TR><TR><TD VALIGN="TOP"><P>AEP_DBG_DOT_CMD (11) </P></TD><TD VALIGN="TOP"><P>Notifies driver of parameters for <B>.I</B> debug command. </P></TD></TR><TR><TD VALIGN="TOP"><P>AEP_DCB_LOCK (16) </P></TD><TD VALIGN="TOP"><P>Notifies driver that a logical dcb is about to be locked. </P></TD></TR><TR><TD VALIGN="TOP"><P>AEP_DESTROY_VRP (19) </P></TD><TD VALIGN="TOP"><P>Notifies driver that a VRP has been deleted. </P></TD></TR><TR><TD VALIGN="TOP"><P>AEP_DEVICE_INQUIRY (6) </P></TD><TD VALIGN="TOP"><P>Gets device identification data. </P></TD></TR><TR><TD VALIGN="TOP"><P>AEP_HALF_SEC (7) </P></TD><TD VALIGN="TOP"><P>Notifies driver that 1/2 second has elapsed. </P></TD></TR><TR><TD VALIGN="TOP"><P>AEP_INITIALIZE (0) </P></TD><TD VALIGN="TOP"><P>Initializes driver and interface. </P></TD></TR><TR><TD VALIGN="TOP"><P>AEP_IOP_TIMEOUT (5) </P></TD><TD VALIGN="TOP"><P>Notifies driver that timeout member in an <B>IOP</B> has been decremented to zero. </P></TD></TR><TR><TD VALIGN="TOP"><P>AEP_MOUNT_NOTIFY (17) </P></TD><TD VALIGN="TOP"><P>Notifies driver that a volume has been mounted. </P></TD></TR><TR><TD VALIGN="TOP"><P>AEP_PEND_UNCONFIG_DCB (21) </P></TD><TD VALIGN="TOP"><P>Notifies driver that a DCB is about to be removed. </P></TD></TR><TR><TD VALIGN="TOP"><P>AEP_REAL_MODE_HANDOFF (13) </P></TD><TD VALIGN="TOP"><P>Notifies driver that IFSMGR is about to hook in. </P></TD></TR><TR><TD VALIGN="TOP"><P>AEP_REFRESH_DRIVE (20) </P></TD><TD VALIGN="TOP"><P>Directs driver to refresh drive data. </P></TD></TR><TR><TD VALIGN="TOP"><P>AEP_SYSTEM_CRIT_SHUTDOWN (1) </P></TD><TD VALIGN="TOP"><P>Indicates a system critical shutdown. </P></TD></TR><TR><TD VALIGN="TOP"><P>AEP_SYSTEM_SHUTDOWN (14) </P></TD><TD VALIGN="TOP"><P>Indicates a system shutdown. </P></TD></TR><TR><TD VALIGN="TOP"><P>AEP_UNCONFIG_DCB (4) </P></TD><TD VALIGN="TOP"><P>Removes configuration of physical device. </P></TD></TR><TR><TD VALIGN="TOP"><P>AEP_UNINITIALIZE (15) </P></TD><TD VALIGN="TOP"><P>Uninitializes driver and interface. </P></TD></TR></TBODY></TABLE>
<P><BR></P><P></P>
<P>The IOS notifies a driver of an asynchronous event by pushing the address of a structure, called an asynchronous event packet (AEP), on the stack and calling the driver's asynchronous event routine. The content and format of the structure varies from event to event, but all structures start with a standard header as defined by the <B>AEP</B> structure. This structure includes the <B>AEP_func</B> member that identifies the asynchronous event and the <B>AEP_result</B> member that the driver uses to indicate whether it processed the event or encountered an error. The IOS checks the value of <B>AEP_result</B> after the driver returns. </P>
<P>See also <B>AEP</B> </P></FONT></BODY></HTML>
