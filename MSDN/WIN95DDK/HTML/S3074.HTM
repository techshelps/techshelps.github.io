<HTML><HEAD><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>ScsiPortGetDeviceBase</TITLE><META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset= iso-8859-1"><style>@import url(/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="/msdn_ie3.css"></HEAD><BODY BGCOLOR="#FFFFFF">
<FONT FACE="verdana,arial,helvetica" SIZE="2">
<H3>ScsiPortGetDeviceBase </H3><P><BR></P>
<PRE>PVOID ScsiPortGetDeviceBase(HwDeviceExtension, BusType, SytemIoBusNumber,
    IoAddress, NumberOfBytes, InIoSpace)
IN PVOID  HwDeviceExtension;
IN INTERFACE_TYPE  BusType;
IN ULONG  SystemIoBusNumber;
IN SCSI_PHYSICAL_ADDRESS  IoAddress;
IN ULONG  NumberOfBytes;
IN BOOLEAN  InIoSpace;
</PRE>
<P>Returns a mapped system address that must be used to adjust device address ranges in that HBA's ACCESS_RANGE elements. </P>
<UL><LI>     Returns NULL if the address cannot be mapped. </LI></UL><P></P>
<P><I>HwDeviceExtension</I> </P>
<P>Points to the HBA miniport driver's storage for adapter data. </P>
<P><I>BusType</I> </P>
<P>Specifies the type of bus, such as ISA or MCA. This value can be retrieved from the PORT_CONFIGURATION_INFORMATION structure. </P>
<P><I>SystemIoBusNumber</I> </P>
<P>Specifies on which bus the HBA is connected. This value can be retrieved from the PORT_CONFIGURATION_INFORMATION structure. </P>
<P><I>IoAddress</I> </P>
<P>Specifies the starting physical base address for the HBA. </P>
<P><I>NumberOfBytes</I> </P>
<P>Specifies the range, in bytes, that the mapping covers. The driver must not access the hardware outside of this range. </P>
<P><I>InIoSpace</I> </P>
<P>Specifies whether the address is in I/O space; otherwise, it is in memory space. </P>
<P><B>ScsiPortGetDeviceBase</B> can be called only from an HBA miniport driver's <B>HwFindAdapter</B> routine. Calls from other HBA miniport driver routines result in system failure or in an incorrect operation. <B>ScsiPortGetDeviceBase</B> can be called several times. </P>
<P>Windows NT machines can have several I/O buses, or the system can map I/O space to memory. In order to make HBA miniport drivers portable, the addresses they use must be translated. The returned base address should be added to all references made to the hardware. Driver writers should make no assumptions about how many bits are used in the returned base address. </P>
<P>See also <B>HwFindAdapter</B>, <B>ScsiPortFreeDeviceBase</B> </P>
<P></P>
<P></P></FONT></BODY></HTML>
