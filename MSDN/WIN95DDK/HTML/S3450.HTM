<HTML><HEAD><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>VM_Suspend</TITLE><META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset= iso-8859-1"><style>@import url(/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="/msdn_ie3.css"></HEAD><BODY BGCOLOR="#FFFFFF">
<FONT FACE="verdana,arial,helvetica" SIZE="2">
<H3>VM_Suspend </H3><P><BR></P>
<PRE>include vmm.inc

mov     ebx, VMHandle
mov     eax, VM_Suspend
VMMcall System_Control
</PRE>
<P>Notifies the virtual device that the system is suspending execution of the virtual machine. The virtual device should unlock any resources associated with the virtual machine. The virtual device may modify all general registers and flags. </P>
<UL><LI>     This message cannot be failed. The virtual device must return carry clear. </LI></UL><P></P>
<P><I>VMHandle</I> </P>
<P>Handle of the virtual machine to suspend. </P>
<P>The virtual machine remains suspended until explicitly resumed. The system sends the <B>VM_Suspend</B> message when the virtual machine's suspend count changes from zero to one, and not every time the <B>Suspend_VM</B> service is called. Similarly, it sends a <B>VM_Resume</B> message when the virtual machine's suspend count changes from one to zero, and not every time the <B>Resume_VM</B> service is called. </P>
<P>The <B>CB_VM_Status</B> field in the control block for the virtual machine specifies whether the virtual machine is suspended. </P>
<P>See also <B>Resume_VM</B>, <B>Suspend_VM</B>, <B>VM_Resume</B>, <B>VM_Suspend2</B> </P>
<P></P>
<P></P></FONT></BODY></HTML>
