<HTML><HEAD><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>DOSMGR_Instance_Device</TITLE><META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset= iso-8859-1"><style>@import url(/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="/msdn_ie3.css"></HEAD><BODY BGCOLOR="#FFFFFF">
<FONT FACE="verdana,arial,helvetica" SIZE="2">
<H3>DOSMGR_Instance_Device </H3><P><BR></P>
<PRE>include dosmgr.inc
 
mov     esi, OFFSET32 Device_Name
VxDcall DOSMGR_Instance_Device
</PRE>
<P>Instances the installed MS-DOS character device driver. This service is only valid during the <B>Init_Complete</B> message. Uses Flags. </P>
<UL><LI>     Clears the carry flag if the device is instanced; otherwise, sets the carry flag to indicate one of the following errors: 

<UL><LI>     No device with this name in device list </LI><LI>     Device is in MS-DOS RAM BIOS (Segment of device == 70h) </LI><LI>     User overrides with the global setting in SYSTEM.INI </LI></UL></LI></UL><P></P>
<P></P>
<P><I>Device_Name</I> </P>
<P>Address of the 8-character device name. This name must exactly match the name as it found in the device header in low memory. Characters must be in uppercase; case conversion is not performed. Names shorter than 8 characters must be padded with spaces. The colon (:) must not be used. </P>
<P>This service applies only to installed character devices (where the device segment is not equal to 70h). It cannot instance devices that are in the MS-DOS RAM BIOS because there is no way to determine their start and end addresses. It is the job of MS-DOS instancing to correctly instance things related to character devices in the MS-DOS RAM BIOS. </P>
<P>This service instances the entire device. It cannot differentiate code and data. </P>
<P>This service is available only during the <B>Init_Complete</B> message. The service is in the ICODE segment so it becomes invalid after the <B>Init_Complete</B> message. Calls to the <B>_AddInstanceItem</B> service are also invalid after <B>Init_Complete</B>. </P>
<P>Do not use this service to instance devices added with the service <B>DOSMGR_Add_Device</B>. To instance an added device, a virtual device must call the <B>_AddInstanceItem</B> service or use the GVDAInstance flag in the <B>_Allocate_Global_V86_Data_Area</B> service. </P>
<P></P>
<P></P></FONT></BODY></HTML>
