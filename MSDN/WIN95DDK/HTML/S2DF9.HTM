<HTML><HEAD><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>RnaOpenMac</TITLE><META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset= iso-8859-1"><style>@import url(/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="/msdn_ie3.css"></HEAD><BODY BGCOLOR="#FFFFFF">
<FONT FACE="verdana,arial,helvetica" SIZE="2">
<H3>RnaOpenMac </H3><P><BR></P>
<PRE>DWORD WINAPI RnaOpenMac(HANDLE hConn, HANDLE * lphMAC, LPMAC_OPEN lpmo, DWORD dwSize, HANDLE hEvent)
</PRE>
<P>This function is called by an SMM to request RNA to load the MAC and open the adapter port. The MAC is not activated to any protocol on a successful return. The SMM still needs to activate the MAC and the protocol using a private DeviceIOCTL call. </P>
<P><I>hConn</I> </P>
<P>The RNA connection handle. </P>
<P><I>lphMAC</I> </P>
<P>An address to a HANDLE buffer to receive a handle to the loaded MAC. The handle can be used as the device handle for a DeviceIOCTL call in the future. </P>
<P><I>lpmo</I> </P>
<P>An address to a MAC_OPEN data structure to receive the information of the adapter port on a successful return. </P>
<P><I>dwSize</I> </P>
<P>The size of the buffer that we get, need to verify that this is large enough to hold the MAC_OPEN data structure. </P>
<P><I>hEvent</I> </P>
<P>A handle to an event to request for an asynchronous operation. The MAC is required to signal the event if the event is not NULL. If it is NULL, the MAC must perform the operation synchronously. </P>
<UL><LI>     SUCCESS or one of the following error codes: </LI></UL>
<TABLE COLS="2" BORDER="0" CELLPADDING="7"><COLGROUP><COL WIDTH="144pt" VALIGN="TOP"><COL WIDTH="190pt" VALIGN="TOP"></COLGROUP><TBODY><TR><TD VALIGN="TOP"><P>ERROR_INVALID_HANDLE </P></TD><TD VALIGN="TOP"><P>The RNA connection handle is invalid. </P></TD></TR><TR><TD VALIGN="TOP"><P>ERROR_INVALID_PORT_HANDLE </P></TD><TD VALIGN="TOP"><P>The RNA connection handle is invalid. </P></TD></TR><TR><TD VALIGN="TOP"><P>ERROR_NO_MAC_FOR_PORT </P></TD><TD VALIGN="TOP"><P>The MAC driver cannot be found or opened. </P></TD></TR></TBODY></TABLE>
<P><BR></P><P></P>
<P></P>
<P></P>
<P></P></FONT></BODY></HTML>
