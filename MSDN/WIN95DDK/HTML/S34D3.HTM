<HTML><HEAD><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>VID_Hw_Int_Proc</TITLE><META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset= iso-8859-1"><style>@import url(/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="/msdn_ie3.css"></HEAD><BODY BGCOLOR="#FFFFFF">
<FONT FACE="verdana,arial,helvetica" SIZE="2">
<H3>VID_Hw_Int_Proc </H3><P><BR></P>
<PRE>include vpicd.inc

mov     eax, IRQHandle
mov     ebx, VMHandle
call    VID_Hw_Int_Proc
jc      not_handled
</PRE>
<P>Handles hardware interrupts for a virtual device. The system calls the procedure whenever a hardware interrupt occurs. Typically, <B>VID_Hw_Int_Proc</B> services the physical device, calls the <B>VPICD_Phys_EOI</B> service to end the physical interrupt, and sets the virtual IRQ request for a specific virtual machine. </P>
<P>The system disables interrupts before calling this procedure. The procedure can re-enable interrupts if necessary. Uses EAX, EBX, ECX, EDX, ESI, and Flags. </P>
<UL><LI>     Clears the carry flag if it processed the interrupt. If the IRQ can be shared, the procedure can direct the system to pass the interrupt to the next handler by setting the carry flag. In this case, it must not process the interrupt. </LI></UL><P></P>
<P><I>IRQHandle</I> </P>
<P>Handle of the interrupt request. </P>
<P><I>VMHandle</I> </P>
<P>Handle of the current virtual machine. </P>
<P>The VMM services the procedure is allowed to call is limited. If processing the interrupt requires use of restricted services, this procedure should use the <B>Schedule_Call_Global_Event</B> service to schedule an event that performs the additional processing. </P>
<P>This procedure must return using the <B>ret</B> instruction, not an <B>iret</B> instruction. </P>
<P></P>
<P></P></FONT></BODY></HTML>
