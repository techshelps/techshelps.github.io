<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>CView::OnPrint</title>
<style>@import url(msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="msdn_ie3.css"></HEAD>
<BODY>
<font face="verdana,arial,helvetica" size="2">
<h1><a name="_mfc_cview.3a3a.onprint"></a><sup></sup>CView::OnPrint  </h1>
<p>
<b>virtual</b> <b>void</b> <b>OnPrint(</b> <b>CDC*</b> <i>pDC</i><b>,</b> <b>CPrintInfo*</b> <i>pInfo</i> <b>);</b></p>
<p class=label>
<b>Parameters</b></p>
<p class=dt>
<i>pDC</i></p>
<p class=indent>
Points to the printer device context.</p>
<p class=dt>
<i>pInfo</i></p>
<p class=indent>
Points to a <b>CPrintInfo</b> structure that describes the current print job. </p>
<p class=label>
<b>Remarks</b></p>
<p>
Called by the framework to print or preview a page of the document. For each page being printed, the framework calls this function immediately after calling the <a href="_mfc_cview.3a3a.onpreparedc.htm">OnPrepareDC</a> member function. The page being printed is specified by the <b>m_nCurPage</b> member of the <a href="_mfc_cprintinfo.htm">CPrintInfo</a> structure that <i>pInfo</i> points to. The default implementation calls the <a href="_mfc_cview.3a3a.ondraw.htm">OnDraw</a> member function and passes it the printer device context. </p>
<p>
Override this function for any of the following reasons:
<ul type=disc>
<li>
To allow printing of multipage documents. Render only the portion of the document that corresponds to the page currently being printed. If you’re using <b>OnDraw</b> to perform the rendering, you can adjust the viewport origin so that only the appropriate portion of the document is printed.<br><br></li>
<li>
To make the printed image look different from the screen image (that is, if your application is not WYSIWYG). Instead of passing the printer device context to <b>OnDraw</b>, use the device context to render an image using attributes not shown on the screen.<p class=tl>
If you need GDI resources for printing that you don’t use for screen display, select them into the device context before drawing and deselect them afterwards. These GDI resources should be allocated in <a href="_mfc_cview.3a3a.onbeginprinting.htm">OnBeginPrinting</a> and released in <a href="_mfc_cview.3a3a.onendprinting.htm">OnEndPrinting</a>.</P></li>
<li>
To implement headers or footers. You can still use <b>OnDraw</b> to do the rendering by restricting the area that it can print on.</li>
</ul>
<p>
Note that the <b>m_rectDraw</b> member of the <i>pInfo</i> parameter describes the printable area of the page in logical units.</p>
<p>
Do not call <b>OnPrepareDC</b> in your override of <b>OnPrint</b>; the framework calls <b>OnPrepareDC</b> automatically before calling <b>OnPrint</b>.</p>
<p class=label>
<b>Example</b></p>
<p>
The following is a skeleton for an overridden <b>OnPrint</b> function:</p>
<pre><code>void CMyView::OnPrint( CDC *pDC, CPrintInfo *pInfo )
{
   // Print headers and/or footers, if desired.
   // Find portion of document corresponding to pInfo-&gt;m_nCurPage.
   OnDraw( pDC );
}
</code></pre>
<p>
<a href="_mfc_cview.htm">CView Overview</a>  |&nbsp; <a href="_mfc_cview_class_members.htm">Class Members</a>  |&nbsp; <a href="_mfc_hierarchy_chart.htm">Hierarchy Chart</a></p>
<p>
<b>See Also</b>&nbsp;&nbsp;&nbsp;<a href="_mfc_cview.3a3a.onbeginprinting.htm">CView::OnBeginPrinting</a>, <a href="_mfc_cview.3a3a.onendprinting.htm">CView::OnEndPrinting</a>, <a href="_mfc_cview.3a3a.onpreparedc.htm">CView::OnPrepareDC</a>, <a href="_mfc_cview.3a3a.ondraw.htm">CView::OnDraw</a></p>
</font></BODY>
</HTML>
