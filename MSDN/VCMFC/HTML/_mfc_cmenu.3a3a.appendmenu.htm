<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>CMenu::AppendMenu</title>
<style>@import url(msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="msdn_ie3.css"></HEAD>
<BODY>
<font face="verdana,arial,helvetica" size="2">
<h1><a name="_mfc_cmenu.3a3a.appendmenu"></a><sup></sup>CMenu::AppendMenu  </h1>
<p>
<b>BOOL</b> <b>AppendMenu(</b> <b>UINT</b> <i>nFlags</i><b>,</b> <b>UINT</b> <i>nIDNewItem</i> = <b>0,</b> <b>LPCTSTR</b> <i>lpszNewItem</i> = <b>NULL</b> <b>);</b></p>
<p>
<b>BOOL</b> <b>AppendMenu(</b> <b>UINT</b> <i>nFlags</i><b>,</b> <b>UINT</b> <i>nIDNewItem</i><b>,</b> <b>const</b> <b>CBitmap*</b> <i>pBmp</i> <b>);</b></p>
<p class=label>
<b>Return Value</b></p>
<p>
Nonzero if the function is successful; otherwise 0.</p>
<p class=label>
<b>Parameters</b></p>
<p class=dt>
<i>nFlags</i></p>
<p class=indent>
Specifies information about the state of the new menu item when it is added to the menu. It consists of one or more of the values listed in the Remarks section.</p>
<p class=dt>
<i>nIDNewItem</i></p>
<p class=indent>
Specifies either the command ID of the new menu item or, if <i>nFlags</i> is set to <b>MF_POPUP</b>, the menu handle (<b>HMENU</b>) of a pop-up menu. The <i>nIDNewItem</i> parameter is ignored (not needed) if <i>nFlags</i> is set to <b>MF_SEPARATOR</b>.</p>
<p class=dt>
<i>lpszNewItem</i></p>
<p class=indent>
Specifies the content of the new menu item. The <i>nFlags</i> parameter is used to interpret <i>lpszNewItem</i> in the following way:</p>
<table border=1 cellpadding=5 cols=2 frame=below rules=rows>
<tr valign=top>
<td class=label width=34%><b>nFlags</b></td>
<td class=label width=66%><b>Interpretation of lpszNewItem</b></td>
</tr>
<tr valign=top>
<td width=34%><b>MF_OWNERDRAW</b></td>
<td width=66%>Contains an application-supplied 32-bit value that the application can use to maintain additional data associated with the menu item. This 32-bit value is available to the application when it processes <b>WM_MEASUREITEM</b> and <b>WM_DRAWITEM</b> messages. The value is stored in the <b>itemData</b> member of the structure supplied with those messages.</td>
</tr>
<tr valign=top>
<td width=34%><b>MF_STRING</b></td>
<td width=66%>Contains a pointer to a null-terminated string. This is the default interpretation.</td>
</tr>
<tr valign=top>
<td width=34%><b>MF_SEPARATOR</b></td>
<td width=66%>The <i>lpszNewItem</i> parameter is ignored (not needed).</td>
</tr>
</table><br>
<p class=dt>
<i>pBmp</i></p>
<p class=indent>
Points to a <b>CBitmap</b> object that will be used as the menu item.</p>
<p class=label>
<b>Remarks</b></p>
<p>
Appends a new item to the end of a menu. The application can specify the state of the menu item by setting values in <i>nFlags</i>. When <i>nIDNewItem</i> specifies a pop-up menu, it becomes part of the menu to which it is appended. If that menu is destroyed, the appended menu will also be destroyed. An appended menu should be detached from a <b>CMenu</b> object to avoid conflict. Note that <b>MF_STRING</b> and <b>MF_OWNERDRAW</b> are not valid for the bitmap version of <b>AppendMenu</b>.</p>
<p>
The following list describes the flags that may be set in <i>nFlags</i>:
<ul type=disc>
<li>
<b>MF_CHECKED</b>&nbsp;&nbsp;&nbsp;Acts as a toggle with <b>MF_UNCHECKED</b> to place the default check mark next to the item. When the application supplies check-mark bitmaps (see the <a href="_mfc_cmenu.3a3a.setmenuitembitmaps.htm">SetMenuItemBitmaps</a> member function), the “check mark on” bitmap is displayed.<br><br></li>
<li>
<b>MF_UNCHECKED</b>&nbsp;&nbsp;&nbsp;Acts as a toggle with <b>MF_CHECKED</b> to remove a check mark next to the item. When the application supplies check-mark bitmaps (see the <b>SetMenuItemBitmaps</b> member function), the “check mark off” bitmap is displayed.<br><br></li>
<li>
<b>MF_DISABLED</b>&nbsp;&nbsp;&nbsp;Disables the menu item so that it cannot be selected but does not dim it.<br><br></li>
<li>
<b>MF_ENABLED</b>&nbsp;&nbsp;&nbsp;Enables the menu item so that it can be selected and restores it from its dimmed state.<br><br></li>
<li>
<b>MF_GRAYED</b>&nbsp;&nbsp;&nbsp;Disables the menu item so that it cannot be selected and dims it.<br><br></li>
<li>
<b>MF_MENUBARBREAK</b>&nbsp;&nbsp;&nbsp;Places the item on a new line in static menus or in a new column in pop-up menus. The new pop-up menu column will be separated from the old column by a vertical dividing line.<br><br></li>
<li>
<b>MF_MENUBREAK</b>&nbsp;&nbsp;&nbsp;Places the item on a new line in static menus or in a new column in pop-up menus. No dividing line is placed between the columns.<br><br></li>
<li>
<b>MF_OWNERDRAW</b>&nbsp;&nbsp;&nbsp;Specifies that the item is an owner-draw item. When the menu is displayed for the first time, the window that owns the menu receives a <b>WM_MEASUREITEM</b> message, which retrieves the height and width of the menu item. The <b>WM_DRAWITEM</b> message is the one sent whenever the owner must update the visual appearance of the menu item. This option is not valid for a top-level menu item.<br><br></li>
<li>
<b>MF_POPUP</b>&nbsp;&nbsp;&nbsp;Specifies that the menu item has a pop-up menu associated with it. The ID parameter specifies a handle to a pop-up menu that is to be associated with the item. This is used for adding either a top-level pop-up menu or a hierarchical pop-up menu to a pop-up menu item.<br><br></li>
<li>
<b>MF_SEPARATOR</b>&nbsp;&nbsp;&nbsp;Draws a horizontal dividing line. Can only be used in a pop-up menu. This line cannot be dimmed, disabled, or highlighted. Other parameters are ignored.<br><br></li>
<li>
<b>MF_STRING</b>&nbsp;&nbsp;&nbsp;Specifies that the menu item is a character string.</li>
</ul>
<p>
Each of the following groups lists flags that are mutually exclusive and cannot be used together:
<ul type=disc>
<li>
<b>MF_DISABLED</b>, <b>MF_ENABLED</b>, and <b>MF_GRAYED</b><br><br></li>
<li>
<b>MF_STRING</b>, <b>MF_OWNERDRAW</b>, <b>MF_SEPARATOR</b>, and the bitmap version<br><br></li>
<li>
<b>MF_MENUBARBREAK</b> and <b>MF_MENUBREAK</b><br><br></li>
<li>
<b>MF_CHECKED</b> and <b>MF_UNCHECKED</b></li>
</ul>
<p>
Whenever a menu that resides in a window is changed (whether or not the window is displayed), the application should call <a href="_mfc_cwnd.3a3a.drawmenubar.htm">CWnd::DrawMenuBar</a>.</p>
<p>
<a href="_mfc_cmenu.htm">CMenu Overview</a>  |&nbsp; <a href="_mfc_cmenu_class_members.htm">Class Members</a>  |&nbsp; <a href="_mfc_hierarchy_chart.htm">Hierarchy Chart</a></p>
<p>
<b>See Also</b>&nbsp;&nbsp;&nbsp;<a href="_mfc_cwnd.3a3a.drawmenubar.htm">CWnd::DrawMenuBar</a>, <a href="_mfc_cmenu.3a3a.insertmenu.htm">CMenu::InsertMenu</a>, <a href="_mfc_cmenu.3a3a.removemenu.htm">CMenu::RemoveMenu</a>, <a href="_mfc_cmenu.3a3a.setmenuitembitmaps.htm">CMenu::SetMenuItemBitmaps</a>, <a href="_mfc_cmenu.3a3a.detach.htm">CMenu::Detach</a>, <object id=alink_1 type="application/x-oleobject"
	classid="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
<PARAM name="Command" value="ALink">
<PARAM name="DefaultTopic" value="_topic_not_found.htm">
<PARAM name="Item1" value="">
<PARAM name="Item2" value="_WIN32_AppendMenu">
</object><a href=JavaScript:alink_1.Click()>::AppendMenu</a></p>
</font></BODY>
</HTML>
