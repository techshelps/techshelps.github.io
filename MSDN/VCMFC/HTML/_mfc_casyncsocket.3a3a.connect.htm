<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>CAsyncSocket::Connect</title>
<style>@import url(msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="msdn_ie3.css"></HEAD>
<BODY>
<font face="verdana,arial,helvetica" size="2">
<h1><a name="_mfc_casyncsocket.3a3a.connect"></a><sup></sup>CAsyncSocket::Connect</h1>
<p>
<b>BOOL</b> <b>Connect(</b> <b>LPCTSTR</b> <i>lpszHostAddress</i><b>,</b> <b>UINT</b> <i>nHostPort</i> <b>);</b></p>
<p>
<b>BOOL</b> <b>Connect(</b> <b>const</b> <b>SOCKADDR*</b> <i>lpSockAddr</i><b>,</b> <b>int</b> <i>nSockAddrLen</i> <b>);</b></p>
<p class=label>
<b>Return Value</b></p>
<p>
Nonzero if the function is successful; otherwise 0, and a specific error code can be retrieved by calling <a href="_mfc_casyncsocket.3a3a.getlasterror.htm">GetLastError</a>. If this indicates an error code of <b>WSAEWOULDBLOCK</b>, and your application is using the overridable callbacks, your application will receive an <b>OnConnect</b> message when the connect operation is complete. The following errors apply to this member function:
<ul type=disc>
<li>
<b>WSANOTINITIALISED</b>&nbsp;&nbsp;&nbsp;A successful <a href="_mfc_afxsocketinit.htm">AfxSocketInit</a> must occur before using this API.<br><br></li>
<li>
<b>WSAENETDOWN</b>&nbsp;&nbsp;&nbsp;The Windows Sockets implementation detected that the network subsystem failed.<br><br></li>
<li>
<b>WSAEADDRINUSE</b>&nbsp;&nbsp;&nbsp;The specified address is already in use.<br><br></li>
<li>
<b>WSAEINPROGRESS</b>&nbsp;&nbsp;&nbsp;A blocking Windows Sockets call is in progress.<br><br></li>
<li>
<b>WSAEADDRNOTAVAIL</b>&nbsp;&nbsp;&nbsp;The specified address is not available from the local machine.<br><br></li>
<li>
<b>WSAEAFNOSUPPORT</b>&nbsp;&nbsp;&nbsp;Addresses in the specified family cannot be used with this socket.<br><br></li>
<li>
<b>WSAECONNREFUSED</b>&nbsp;&nbsp;&nbsp;The attempt to connect was rejected.<br><br></li>
<li>
<b>WSAEDESTADDRREQ</b>&nbsp;&nbsp;&nbsp;A destination address is required.<br><br></li>
<li>
<b>WSAEFAULT</b>&nbsp;&nbsp;&nbsp;The <i>nSockAddrLen</i> argument is incorrect.<br><br></li>
<li>
<b>WSAEINVAL</b>&nbsp;&nbsp;&nbsp;Invalid host address.<br><br></li>
<li>
<b>WSAEISCONN</b>&nbsp;&nbsp;&nbsp;The socket is already connected.<br><br></li>
<li>
<b>WSAEMFILE</b>&nbsp;&nbsp;&nbsp;No more file descriptors are available.<br><br></li>
<li>
<b>WSAENETUNREACH</b>&nbsp;&nbsp;&nbsp;The network cannot be reached from this host at this time.<br><br></li>
<li>
<b>WSAENOBUFS</b>&nbsp;&nbsp;&nbsp;No buffer space is available. The socket cannot be connected.<br><br></li>
<li>
<b>WSAENOTSOCK</b>&nbsp;&nbsp;&nbsp;The descriptor is not a socket.<br><br></li>
<li>
<b>WSAETIMEDOUT</b>&nbsp;&nbsp;&nbsp;Attempt to connect timed out without establishing a connection.<br><br></li>
<li>
<b>WSAEWOULDBLOCK</b>&nbsp;&nbsp;&nbsp;The socket is marked as nonblocking and the connection cannot be completed immediately.</li>
</ul>
<p class=label>
<b>Parameters</b></p>
<p class=dt>
<i>lpszHostAddress</i></p>
<p class=indent>
The network address of the socket to which this object is connected: a machine name such as “ftp.microsoft.com”, or a dotted number such as “128.56.22.8”.</p>
<p class=dt>
<i>nHostPort</i></p>
<p class=indent>
The port identifying the socket application.</p>
<p class=dt>
<i>lpSockAddr</i></p>
<p class=indent>
A pointer to a <a href="_mfc_sockaddr_structure.htm">SOCKADDR</a> structure that contains the address of the connected socket.</p>
<p class=dt>
<i>nSockAddrLen</i></p>
<p class=indent>
The length of the address in <i>lpSockAddr</i> in bytes.</p>
<p class=label>
<b>Remarks</b></p>
<p>
Call this member function to establish a connection to an unconnected stream or datagram socket. If the socket is unbound, unique values are assigned to the local association by the system, and the socket is marked as bound. Note that if the address field of the name structure is all zeroes, <b>Connect</b> will return zero. To get extended error information, call the <b>GetLastError</b> member function.</p>
<p>
For stream sockets (type <b>SOCK_STREAM</b>), an active connection is initiated to the foreign host. When the socket call completes successfully, the socket is ready to send/receive data. </p>
<p>
For a datagram socket (type <b>SOCK_DGRAM</b>), a default destination is set, which will be used on subsequent <b>Send</b> and <b>Receive</b> calls.</p>
<p>
<a href="_mfc_casyncsocket.htm">CAsyncSocket Overview</a>  |&nbsp; <a href="_mfc_casyncsocket_class_members.htm">Class Members</a>  |&nbsp; <a href="_mfc_hierarchy_chart.htm">Hierarchy Chart</a></p>
<p>
<b>See Also</b>&nbsp;&nbsp;&nbsp;<a href="_mfc_casyncsocket.3a3a.accept.htm">CAsyncSocket::Accept</a>, <a href="_mfc_casyncsocket.3a3a.bind.htm">CAsyncSocket::Bind</a>, <a href="_mfc_casyncsocket.3a3a.getsockname.htm">CAsyncSocket::GetSockName</a>, <a href="_mfc_casyncsocket.3a3a.create.htm">CAsyncSocket::Create</a>, <a href="_mfc_casyncsocket.3a3a.asyncselect.htm">CAsyncSocket::AsyncSelect</a></p>
</font></BODY>
</HTML>
