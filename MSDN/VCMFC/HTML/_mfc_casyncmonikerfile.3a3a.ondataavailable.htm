<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>CAsyncMonikerFile::OnDataAvailable</title>
<style>@import url(msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="msdn_ie3.css"></HEAD>
<BODY>
<font face="verdana,arial,helvetica" size="2">
<h1><a name="_mfc_casyncmonikerfile.3a3a.ondataavailable"></a>CAsyncMonikerFile::OnDataAvailable</h1>
<p>
<b>virtual void</b> <b>OnDataAvailable(</b> <b>DWORD</b> <i>dwsize</i>, <b>DWORD</b> <i>bscfFlag</i> <b>);</b></p>
<p class=label>
<b>Parameters</b></p>
<p class=dt>
<i>dwsize</i></p>
<p class=indent>
The cumulative amount (in bytes) of data available since the beginning of the binding. Can be zero, indicating that the amount of data is not relevant to the operation, or that no specific amount became available. </p>
<p class=dt>
<i>bscfFlag</i></p>
<p class=indent>
A <b>BSCF</b> enumeration value. Can be one or more of the following values:
<ul type=disc>
<li>
<b>BSCF_FIRSTDATANOTIFICATION</b>&nbsp;&nbsp;&nbsp;Identifies the first call to <b>OnDataAvailable</b> for a given bind operation.<br><br></li>
<li>
<b>BSCF_INTERMEDIATEDATANOTIFICATION</b>&nbsp;&nbsp;&nbsp;Identifies an intermediary call to <b>OnDataAvailable</b> for a bind operation.<br><br></li>
<li>
<b>BSCF_LASTDATANOTIFICATION</b>&nbsp;&nbsp;&nbsp;Identifies the last call to <b>OnDataAvailable</b> for a bind operation.</li>
</ul>
<p class=label>
<b>Remarks</b></p>
<p>
An asynchronous moniker calls <b>OnDataAvailable</b> to provide data to the client as it becomes available, during asynchronous bind operations. The default implementation of this function does nothing. See the following example for a sample implementation.</p>
<p class=label>
<b>Example</b></p>
<pre><code>// refer to CDataPathProperty.
void CAsyncMyTextProperty::OnDataAvailable(DWORD dwSize, DWORD bscfFlag)
{
 &nbsp; if ((bscfFlag &amp; BSCF_FIRSTDATANOTIFICATION) != 0)
 &nbsp; {
 &nbsp;&nbsp;&nbsp;&nbsp; m_dwReadBefore = 0;
 &nbsp;&nbsp;&nbsp;&nbsp; m_strText.Empty();
 &nbsp; }

 &nbsp; DWORD dwArriving = dwSize - m_dwReadBefore;

 &nbsp; if (dwArriving &gt; 0)
 &nbsp; {
 &nbsp;&nbsp;&nbsp;&nbsp; int nLen = m_strText.GetLength();
 &nbsp;&nbsp;&nbsp;&nbsp; ASSERT(nLen == m_dwReadBefore);
 &nbsp;&nbsp;&nbsp;&nbsp; LPTSTR psz = m_strText.GetBuffer(nLen + dwArriving);
 &nbsp;&nbsp;&nbsp;&nbsp; Read(psz + nLen, dwArriving);
 &nbsp;&nbsp;&nbsp;&nbsp; m_strText.ReleaseBuffer(nLen + dwArriving);
 &nbsp;&nbsp;&nbsp;&nbsp; m_dwReadBefore = dwSize;
 &nbsp;&nbsp;&nbsp;&nbsp; GetControl()-&gt;Invalidate();
 &nbsp; }
}</code></pre>
<p>
<a href="_mfc_casyncmonikerfile.htm">CAsyncMonikerFile Overview</a>  |&nbsp; <a href="_mfc_casyncmonikerfile_class_members.htm">Class Members</a>  |&nbsp; <a href="_mfc_hierarchy_chart.htm">Hierarchy Chart</a></p>
<p>
<b>See Also</b>&nbsp;&nbsp;&nbsp;<a href="_mfc_cdatapathproperty.htm">CDataPathProperty</a></p>
</font></BODY>
</HTML>
