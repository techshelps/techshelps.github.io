<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>COleControl::GetDC</title>
<style>@import url(msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="msdn_ie3.css"></HEAD>
<BODY>
<font face="verdana,arial,helvetica" size="2">
<h1><a name="_mfc_colecontrol.3a3a.getdc"></a><sup></sup>COleControl::GetDC</h1>
<p>
<b>CDC* GetDC(</b> <b>LPCRECT</b> <i>lprcRect</i> <b>=</b> <b>NULL</b>, <b>DWORD</b> <i>dwFlags</i> <b>=</b> <b>OLEDC_PAINTBKGND</b> <b>);</b></p>
<p class=label>
<b>Return Value</b></p>
<p>
Pointer to the display device context for the container <b>CWnd</b> client area if successful; otherwise, the return value is <b>NULL</b>. The display device context can be used in subsequent GDI functions to draw in the client area of the container's window. </p>
<p class=label>
<b>Parameters</b></p>
<p class=dt>
<i>lprcRect</i></p>
<p class=indent>
A pointer to the rectangle the windowless control wants to redraw, in client coordinates of the control. <b>NULL</b> means the full object’s extent.</p>
<p class=dt>
<i>dwFlags</i></p>
<p class=indent>
Drawing attributes of the device context. Choices are:
<ul type=disc>
<li>
<b>OLEDC_NODRAW</b>&nbsp;&nbsp;&nbsp;Indicates that the object won’t use the device context to perform any drawing but merely to get information about the display device. The container should simply pass the window’s DC without further processing.<br><br></li>
<li>
<b>OLEDC_PAINTBKGND</b>&nbsp;&nbsp;&nbsp;Requests that the container paint the background before returning the DC. An object should use this flag if it is requesting a DC for redrawing an area with transparent background.<br><br></li>
<li>
<b>OLEDC_OFFSCREEN</b>&nbsp;&nbsp;&nbsp;Informs the container that the object wishes to render into an off-screen bitmap that should then be copied to the screen. An object should use this flag when the drawing operation it is about to perform generates a lot of flicker. The container is free to honor this request or not. However, if this flag is not set, the container must hand back an on-screen DC. This allows objects to perform direct screen operations such as showing a selection (via an <b>XOR</b> operation).</li>
</ul>
<p class=label>
<b>Remarks</b></p>
<p>
Call this function to provide a means for a windowless object to get a screen (or compatible) device context from its container. The <a href="_mfc_colecontrol.3a3a.releasedc.htm">ReleaseDC</a> member function must be called to release the context after painting. When calling <b>GetDC</b>, objects pass the rectangle they wish to draw into in their own client coordinates. <b>GetDC</b> translates these to coordinates of the container client area. The object should not request a desired drawing rectangle larger than its own client area rectangle, the size of which can be retrieved with <a href="_mfc_colecontrol.3a3a.getclientrect.htm">GetClientRect</a>. This prevents objects from inadvertently drawing where they are not supposed to. </p>
<p>
<a href="_mfc_colecontrol.htm">COleControl Overview</a>  |&nbsp; <a href="_mfc_colecontrol_class_members.htm">Class Members</a>  |&nbsp; <a href="_mfc_hierarchy_chart.htm">Hierarchy Chart</a></p>
<p>
<b>See Also</b>&nbsp;&nbsp;&nbsp;<a href="_mfc_colecontrol.3a3a.releasedc.htm">COleControl::ReleaseDC</a></p>
</font></BODY>
</HTML>
