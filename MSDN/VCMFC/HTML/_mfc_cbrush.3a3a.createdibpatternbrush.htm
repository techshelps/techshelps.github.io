<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>CBrush::CreateDIBPatternBrush</title>
<style>@import url(msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="msdn_ie3.css"></HEAD>
<BODY>
<font face="verdana,arial,helvetica" size="2">
<h1><a name="_mfc_cbrush.3a3a.createdibpatternbrush"></a>CBrush::CreateDIBPatternBrush</h1>
<p>
<b>BOOL</b> <b>CreateDIBPatternBrush</b>( <b>HGLOBAL</b> <i>hPackedDIB</i><b>,</b> <b>UINT</b> <i>nUsage</i> <b>);</b></p>
<p>
<b>BOOL</b> <b>CreateDIBPatternBrush(</b> <b>const</b> <b>void*</b> <i>lpPackedDIB</i><b>,</b> <b>UINT</b> <i>nUsage</i> <b>);</b></p>
<p class=label>
<b>Return Value</b></p>
<p>
Nonzero if successful; otherwise 0.</p>
<p class=label>
<b>Parameters</b></p>
<p class=dt>
<i>hPackedDIB</i></p>
<p class=indent>
Identifies a global-memory object containing a packed device-independent bitmap (DIB).</p>
<p class=dt>
<i>nUsage</i></p>
<p class=indent>
Specifies whether the <b>bmiColors[]</b> fields of the <a href="_mfc_bitmapinfo_structure.htm">BITMAPINFO</a> data structure (a part of the “packed DIB”) contain explicit RGB values or indices into the currently realized logical palette. The parameter must be one of the following values:
<ul type=disc>
<li>
<b>DIB_PAL_COLORS</b>&nbsp;&nbsp;&nbsp;The color table consists of an array of 16-bit indexes.<br><br></li>
<li>
<b>DIB_RGB_COLORS</b>&nbsp;&nbsp;&nbsp;The color table contains literal RGB values.<p class=tl>
The following value is available only in the second version of this member function:</P></li>
<li>
<b>DIB_PAL_INDICES</b>&nbsp;&nbsp;&nbsp;No color table is provided. The bitmap itself contains indices into the logical palette of the device context into which the brush is to be selected.</li>
</ul>
<p class=dt>
<i>lpPackedDIB</i></p>
<p class=indent>
Points to a packed DIB consisting of a <b>BITMAPINFO</b> structure immediately followed by an array of bytes defining the pixels of the bitmap.</p>
<p class=label>
<b>Remarks</b></p>
<p>
Initializes a brush with the pattern specified by a device-independent bitmap (DIB). The brush can subsequently be selected for any device context that supports raster operations.</p>
<p>
The two versions differ in the way you handle the DIB:
<ul type=disc>
<li>
In the first version, to obtain a handle to the DIB you call the Windows <b>::GlobalAlloc</b> function to allocate a block of global memory and then fill the memory with the packed DIB.<br><br></li>
<li>
In the second version, it is not necessary to call <b>::GlobalAlloc</b> to allocate memory for the packed DIB.</li>
</ul>
<p>
A packed DIB consists of a <b>BITMAPINFO</b> data structure immediately followed by the array of bytes that defines the pixels of the bitmap. Bitmaps used as fill patterns should be 8 pixels by 8 pixels. If the bitmap is larger, Windows creates a fill pattern using only the bits corresponding to the first 8 rows and 8 columns of pixels in the upper-left corner of the bitmap.</p>
<p>
When an application selects a two-color DIB pattern brush into a monochrome device context, Windows ignores the colors specified in the DIB and instead displays the pattern brush using the current text and background colors of the device context. Pixels mapped to the first color (at offset 0 in the DIB color table) of the DIB are displayed using the text color. Pixels mapped to the second color (at offset 1 in the color table) are displayed using the background color.</p>
<p>
For information about using the following Windows functions, see the <i>Win32 SDK Programmer’s Reference</i>:
<ul type=disc>
<li>
<object id=alink_1 type="application/x-oleobject"
	classid="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
<PARAM name="Command" value="ALink">
<PARAM name="DefaultTopic" value="_topic_not_found.htm">
<PARAM name="Item1" value="">
<PARAM name="Item2" value="_WIN32_CreateDIBPatternBrush">
</object><a href=JavaScript:alink_1.Click()>::CreateDIBPatternBrush</a>&nbsp;&nbsp;&nbsp;(This function is provided only for compatibility with applications written for versions of Windows earlier than 3.0; use the <b>::CreateDIBPatternBrushPt</b> function.)<br><br></li>
<li>
<object id=alink_2 type="application/x-oleobject"
	classid="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
<PARAM name="Command" value="ALink">
<PARAM name="DefaultTopic" value="_topic_not_found.htm">
<PARAM name="Item1" value="">
<PARAM name="Item2" value="_WIN32_CreateDIBPatternBrushPt">
</object><a href=JavaScript:alink_2.Click()>::CreateDIBPatternBrushPt</a>&nbsp;&nbsp;&nbsp;(This function should be used for Win32-based applications.)<br><br></li>
<li>
<object id=alink_3 type="application/x-oleobject"
	classid="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
<PARAM name="Command" value="ALink">
<PARAM name="DefaultTopic" value="_topic_not_found.htm">
<PARAM name="Item1" value="">
<PARAM name="Item2" value="_WIN32_GlobalAlloc">
</object><a href=JavaScript:alink_3.Click()>::GlobalAlloc</a></li>
</ul>
<p>
<a href="_mfc_cbrush.htm">CBrush Overview</a>  |&nbsp; <a href="_mfc_cbrush_class_members.htm">Class Members</a>  |&nbsp; <a href="_mfc_hierarchy_chart.htm">Hierarchy Chart</a></p>
<p>
<b>See Also</b>&nbsp;&nbsp;&nbsp;<a href="_mfc_cbrush.3a3a.createpatternbrush.htm">CBrush::CreatePatternBrush</a>, <a href="_mfc_cbrush.3a3a.createbrushindirect.htm">CBrush::CreateBrushIndirect</a>, <a href="_mfc_cbrush.3a3a.createsolidbrush.htm">CBrush::CreateSolidBrush</a>, <a href="_mfc_cbrush.3a3a.createhatchbrush.htm">CBrush::CreateHatchBrush</a>, <a href="_mfc_cgdiobject.3a3a.createstockobject.htm">CGdiObject::CreateStockObject</a>, <a href="_mfc_cdc.3a3a.selectobject.htm">CDC::SelectObject</a>, <a href="_mfc_cgdiobject.3a3a.deleteobject.htm">CGdiObject::DeleteObject</a>, <a href="_mfc_cdc.3a3a.getbrushorg.htm">CDC::GetBrushOrg</a>, <a href="_mfc_cdc.3a3a.setbrushorg.htm">CDC::SetBrushOrg</a></p>
</font></BODY>
</HTML>
