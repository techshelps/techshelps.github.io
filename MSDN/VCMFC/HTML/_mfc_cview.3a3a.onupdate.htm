<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>CView::OnUpdate</title>
<style>@import url(msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="msdn_ie3.css"></HEAD>
<BODY>
<font face="verdana,arial,helvetica" size="2">
<h1><a name="_mfc_cview.3a3a.onupdate"></a><sup></sup>CView::OnUpdate  </h1>
<p>
<b>virtual</b> <b>void</b> <b>OnUpdate(</b> <b>CView*</b> <i>pSender</i><b>,</b> <b>LPARAM</b> <i>lHint</i><b>,</b> <b>CObject*</b> <i>pHint</i> <b>);</b></p>
<p class=label>
<b>Parameters</b></p>
<p class=dt>
<i>pSender</i></p>
<p class=indent>
Points to the view that modified the document, or <b>NULL</b> if all views are to be updated.</p>
<p class=dt>
<i>lHint</i></p>
<p class=indent>
Contains information about the modifications.</p>
<p class=dt>
<i>pHint</i></p>
<p class=indent>
Points to an object storing information about the modifications.</p>
<p class=label>
<b>Remarks</b></p>
<p>
Called by the framework after the view’s document has been modified; this function is called by <a href="_mfc_cdocument.3a3a.updateallviews.htm">CDocument::UpdateAllViews</a> and allows the view to update its display to reflect those modifications. It is also called by the default implementation of <a href="_mfc_cview.3a3a.oninitialupdate.htm">OnInitialUpdate</a>. The default implementation invalidates the entire client area, marking it for painting when the next <b>WM_PAINT</b> message is received. Override this function if you want to update only those regions that map to the modified portions of the document. To do this you must pass information about the modifications using the hint parameters. </p>
<p>
To use <i>lHint</i>, define special hint values, typically a bitmask or an enumerated type, and have the document pass one of these values. To use <i>pHint</i>, derive a hint class from <a href="_mfc_cobject.htm">CObject</a> and have the document pass a pointer to a hint object; when overriding <b>OnUpdate</b>, use the <a href="_mfc_cobject.3a3a.iskindof.htm">CObject::IsKindOf</a> member function to determine the run-time type of the hint object.</p>
<p>
Typically you should not perform any drawing directly from <b>OnUpdate</b>. Instead, determine the rectangle describing, in device coordinates, the area that requires updating; pass this rectangle to <a href="_mfc_cwnd.3a3a.invalidaterect.htm">CWnd::InvalidateRect</a>. This causes painting to occur the next time a <object id=alink_1 type="application/x-oleobject"
	classid="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
<PARAM name="Command" value="ALink">
<PARAM name="DefaultTopic" value="_topic_not_found.htm">
<PARAM name="Item1" value="">
<PARAM name="Item2" value="_Win32_WM_PAINT">
</object><a href=JavaScript:alink_1.Click()>WM_PAINT</a> message is received. </p>
<p>
If <i>lHint</i> is 0 and <i>pHint</i> is <b>NULL</b>, the document has sent a generic update notification. If a view receives a generic update notification, or if it cannot decode the hints, it should invalidate its entire client area.</p>
<p>
<a href="_mfc_cview.htm">CView Overview</a>  |&nbsp; <a href="_mfc_cview_class_members.htm">Class Members</a>  |&nbsp; <a href="_mfc_hierarchy_chart.htm">Hierarchy Chart</a></p>
<p>
<b>See Also</b>&nbsp;&nbsp;&nbsp;<a href="_mfc_cdocument.3a3a.updateallviews.htm">CDocument::UpdateAllViews</a>, <a href="_mfc_cview.3a3a.oninitialupdate.htm">CView::OnInitialUpdate</a>, <a href="_mfc_cwnd.3a3a.invalidate.htm">CWnd::Invalidate</a>, <a href="_mfc_cwnd.3a3a.invalidaterect.htm">CWnd::InvalidateRect</a> </p>
</font></BODY>
</HTML>
