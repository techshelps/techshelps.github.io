<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>CFile::Abort</title>
<style>@import url(msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="msdn_ie3.css"></HEAD>
<BODY>
<font face="verdana,arial,helvetica" size="2">
<h1><a name="_mfc_cfile.3a3a.abort"></a><sup></sup>CFile::Abort </h1>
<p>
<b>virtual</b> <b>void</b> <b>Abort(</b> <b>);</b></p>
<p class=label>
<b>Remarks</b></p>
<p>
Closes the file associated with this object and makes the file unavailable for reading or writing. If you have not closed the file before destroying the object, the destructor closes it for you.</p>
<p>
When handling exceptions, <b>CFile::Abort</b> differs from <b>CFile::Close</b> in two important ways. First, the <b>Abort</b> function will not throw an exception on failures because failures are ignored by <b>Abort</b>. Second, <b>Abort</b> will not <b>ASSERT</b> if the file has not been opened or was closed previously.</p>
<p>
If you used <b>new</b> to allocate the <b>CFile</b> object on the heap, then you must delete it after closing the file. <b>Abort</b> sets <b>m_hFile</b> to <b>CFile::hFileNull</b>.</p>
<p class=label>
<b>Example</b></p>
<pre><code>//example for CFile::Abort
CStdioFile fileTest;
char* pFileName = "test.dat";
TRY
{
   // do stuff that may throw exceptions
   fileTest.Open( pFileName, CFile::modeWrite );
}
CATCH_ALL( e )
{
   fileTest.Abort();   // close file safely and quietly
   THROW_LAST();
}
END_CATCH_ALL
</code></pre>
<p>
<a href="_mfc_cfile.htm">CFile Overview</a>  |&nbsp; <a href="_mfc_cfile_class_members.htm">Class Members</a>  |&nbsp; <a href="_mfc_hierarchy_chart.htm">Hierarchy Chart</a></p>
<p>
<b>See Also</b>&nbsp;&nbsp;&nbsp;<a href="_mfc_cfile.3a3a.close.htm">CFile::Close</a>, <a href="_mfc_cfile.3a3a.open.htm">CFile::Open</a></p>
</font></BODY>
</HTML>
