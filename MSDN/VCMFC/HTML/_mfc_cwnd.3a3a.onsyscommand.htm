<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>CWnd::OnSysCommand</title>
<style>@import url(msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="msdn_ie3.css"></HEAD>
<BODY>
<font face="verdana,arial,helvetica" size="2">
<h1><a name="_mfc_cwnd.3a3a.onsyscommand"></a><sup></sup>CWnd::OnSysCommand&nbsp; </h1>
<p>
<b>afx_msg</b> <b>void</b> <b>OnSysCommand(</b> <b>UINT</b> <i>nID</i><b>,</b> <b>LPARAM</b> <i>lParam</i> <b>);</b></p>
<p class=label>
<b>Parameters</b></p>
<p class=dt>
<i>nID</i></p>
<p class=indent>
Specifies the type of system command requested. This parameter can be any one of the following values:
<ul type=disc>
<li>
<b>SC_CLOSE</b>&nbsp;&nbsp;&nbsp;Close the <b>CWnd</b> object.<br><br></li>
<li>
<b>SC_HOTKEY</b>&nbsp;&nbsp;&nbsp;Activate the <b>CWnd</b> object associated with the application-specified hot key. The low-order word of <i>lParam</i> identifies the <b>HWND</b> of the window to activate. <br><br></li>
<li>
<b>SC_HSCROLL</b>&nbsp;&nbsp;&nbsp;Scroll horizontally.<br><br></li>
<li>
<b>SC_KEYMENU</b>&nbsp;&nbsp;&nbsp;Retrieve a menu through a keystroke.<br><br></li>
<li>
<b>SC_MAXIMIZE</b> (or <b>SC_ZOOM</b>)&nbsp;&nbsp;&nbsp;Maximize the <b>CWnd</b> object.<br><br></li>
<li>
<b>SC_MINIMIZE</b> (or <b>SC_ICON</b>)&nbsp;&nbsp;&nbsp;Minimize the <b>CWnd</b> object.<br><br></li>
<li>
<b>SC_MOUSEMENU</b>&nbsp;&nbsp;&nbsp;Retrieve a menu through a mouse click.<br><br></li>
<li>
<b>SC_MOVE</b>&nbsp;&nbsp;&nbsp;Move the <b>CWnd</b> object.<br><br></li>
<li>
<b>SC_NEXTWINDOW</b>&nbsp;&nbsp;&nbsp;Move to the next window.<br><br></li>
<li>
<b>SC_PREVWINDOW</b>&nbsp;&nbsp;&nbsp;Move to the previous window.<br><br></li>
<li>
<b>SC_RESTORE</b>&nbsp;&nbsp;&nbsp;Restore window to normal position and size.<br><br></li>
<li>
<b>SC_SCREENSAVE</b>&nbsp;&nbsp;&nbsp;Executes the screen-saver application specified in the [boot] section of the SYSTEM.INI file.<br><br></li>
<li>
<b>SC_SIZE</b>&nbsp;&nbsp;&nbsp;Size the <b>CWnd</b> object.<br><br></li>
<li>
<b>SC_TASKLIST</b>&nbsp;&nbsp;&nbsp;Execute or activate the Windows Task Manager application.<br><br></li>
<li>
<b>SC_VSCROLL</b>&nbsp;&nbsp;&nbsp;Scroll vertically.</li>
</ul>
<p class=dt>
<i>lParam</i></p>
<p class=indent>
If a Control-menu command is chosen with the mouse, <i>lParam</i> contains the cursor coordinates. The low-order word contains the x coordinate, and the high-order word contains the y coordinate. Otherwise this parameter is not used.
<ul type=disc>
<li>
<b>SC_HOTKEY</b>&nbsp;&nbsp;&nbsp;Activate the window associated with the application-specified hot key. The low-order word of <i>lParam</i> identifies the window to activate.<br><br></li>
<li>
<b>SC_SCREENSAVE</b>&nbsp;&nbsp;&nbsp;Execute the screen-save application specified in the Desktop section of Control Panel.</li>
</ul>
<p class=label>
<b>Remarks</b></p>
<p>
The framework calls this member function when the user selects a command from the Control menu, or when the user selects the Maximize or the Minimize button. </p>
<p>
By default, <b>OnSysCommand</b> carries out the Control-menu request for the predefined actions specified in the preceding table. </p>
<p>
In <b>WM_SYSCOMMAND</b> messages, the four low-order bits of the <i>nID</i> parameter are used internally by Windows. When an application tests the value of <i>nID</i>, it must combine the value 0xFFF0 with the <i>nID</i> value by using the bitwise-AND operator to obtain the correct result.</p>
<p>
The menu items in a Control menu can be modified with the <b>GetSystemMenu</b>, <b>AppendMenu</b>, <b>InsertMenu</b>, and <b>ModifyMenu</b> member functions. Applications that modify the Control menu must process <b>WM_SYSCOMMAND</b> messages, and any <b>WM_SYSCOMMAND</b> messages not handled by the application must be passed on to <b>OnSysCommand</b>. Any command values added by an application must be processed by the application and cannot be passed to <b>OnSysCommand</b>.</p>
<p>
An application can carry out any system command at any time by passing a <b>WM_SYSCOMMAND</b> message to <b>OnSysCommand</b>. </p>
<p>
Accelerator (shortcut) keystrokes that are defined to select items from the Control menu are translated into <b>OnSysCommand</b> calls; all other accelerator keystrokes are translated into <a href="_mfc_cwnd.3a3a.oncommand.htm">WM_COMMAND</a> messages.</p>
<p class=indent>
<B><b>Note</b></B>&nbsp;&nbsp;&nbsp;This member function is called by the framework to allow your application to handle a Windows message. The parameters passed to your function reflect the parameters received by the framework when the message was received. If you call the base-class implementation of this function, that implementation will use the parameters originally passed with the message and not the parameters you supply to the function.</p>
<p>
<a href="_mfc_cwnd.htm">CWnd Overview</a>  |&nbsp; <a href="_mfc_cwnd_class_members.htm">Class Members</a>  |&nbsp; <a href="_mfc_hierarchy_chart.htm">Hierarchy Chart</a></p>
<p>
<b>See Also</b>&nbsp;&nbsp;&nbsp;<object id=alink_1 type="application/x-oleobject"
	classid="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
<PARAM name="Command" value="ALink">
<PARAM name="DefaultTopic" value="_topic_not_found.htm">
<PARAM name="Item1" value="">
<PARAM name="Item2" value="_WIN32_WM_SYSCOMMAND">
</object><a href=JavaScript:alink_1.Click()>WM_SYSCOMMAND</a></p>
</font></BODY>
</HTML>
