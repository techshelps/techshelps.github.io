<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>CWnd::OnSysKeyDown</title>
<style>@import url(msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="msdn_ie3.css"></HEAD>
<BODY>
<font face="verdana,arial,helvetica" size="2">
<h1><a name="_mfc_cwnd.3a3a.onsyskeydown"></a><sup></sup>CWnd::OnSysKeyDown&nbsp; </h1>
<p>
<b>afx_msg</b> <b>void</b> <b>OnSysKeyDown(</b> <b>UINT</b> <i>nChar</i><b>,</b> <b>UINT</b> <i>nRepCnt</i><b>,</b> <b>UINT</b> <i>nFlags</i> <b>);</b></p>
<p class=label>
<b>Parameters</b></p>
<p class=dt>
<i>nChar</i></p>
<p class=indent>
Specifies the virtual-key code of the key being pressed.</p>
<p class=dt>
<i>nRepCnt</i></p>
<p class=indent>
Specifies the repeat count.</p>
<p class=dt>
<i>nFlags</i></p>
<p class=indent>
Specifies the scan code, key-transition code, previous key state, and context code, as shown in the following list:</p>
<table border=1 cellpadding=5 cols=2 frame=below rules=rows>
<tr valign=top>
<td class=label width=15%><b>Value</b></td>
<td class=label width=85%><b>Meaning</b></td>
</tr>
<tr valign=top>
<td width=15%>0–7</td>
<td width=85%>Scan code (OEM-dependent value). Low byte of high-order word.</td>
</tr>
<tr valign=top>
<td width=15%>8</td>
<td width=85%>Extended key, such as a function key or a key on the numeric keypad (1 if it is an extended key; otherwise 0).</td>
</tr>
<tr valign=top>
<td width=15%>9–10</td>
<td width=85%>Not used.</td>
</tr>
<tr valign=top>
<td width=15%>11–12</td>
<td width=85%>Used internally by Windows.</td>
</tr>
<tr valign=top>
<td width=15%>13</td>
<td width=85%>Context code (1 if the ALT key is held down while the key is pressed, 0 otherwise).</td>
</tr>
<tr valign=top>
<td width=15%>14</td>
<td width=85%>Previous key state (1 if the key is down before the message is sent, 0 if the key is up).</td>
</tr>
<tr valign=top>
<td width=15%>15</td>
<td width=85%>Transition state (1 if the key is being released, 0 if the key is being pressed).</td>
</tr>
</table><br>
<p class=tl>
For <b>OnSysKeyDown</b> calls, the key-transition bit (bit 15) is 0. The context-code bit (bit 13) is 1 if the ALT key is down while the key is pressed; it is 0 if the message is sent to the active window because no window has the input focus.</P><p class=label>
<b>Remarks</b></p>
<p>
If the <b>CWnd</b> object has the input focus, the <b>OnSysKeyDown</b> member function is called by the framework when the user holds down the ALT key and then presses another key. If no window currently has the input focus, the active window’s <b>OnSysKeyDown</b> member function is called. The <b>CWnd</b> object that receives the message can distinguish between these two contexts by checking the context code in <i>nFlags</i>. </p>
<p>
When the context code is 0, the <b>WM_SYSKEYDOWN</b> message received by <b>OnSysKeyDown</b> can be passed to the <object id=alink_1 type="application/x-oleobject"
	classid="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
<PARAM name="Command" value="ALink">
<PARAM name="DefaultTopic" value="_topic_not_found.htm">
<PARAM name="Item1" value="">
<PARAM name="Item2" value="_WIN32_TranslateAccelerator">
</object><a href=JavaScript:alink_1.Click()>TranslateAccelerator</a> Windows function, which will handle it as though it were a normal key message instead of a system-key message. This allows accelerator keys to be used with the active window even if the active window does not have the input focus.</p>
<p>
Because of auto-repeat, more than one <b>OnSysKeyDown</b> call may occur before the <a href="_mfc_cwnd.3a3a.onsyskeyup.htm">WM_SYSKEYUP</a> message is received. The previous key state (bit 14) can be used to determine whether the <b>OnSysKeyDown</b> call indicates the first down transition or a repeated down transition.</p>
<p>
For IBM Enhanced 101- and 102-key keyboards, enhanced keys are the right ALT and the right CTRL keys on the main section of the keyboard; the INS, DEL, HOME, END, PAGE UP, PAGE DOWN, and arrow keys in the clusters to the left of the numeric keypad; and the slash (/) and ENTER keys in the numeric keypad. Some other keyboards may support the extended-key bit in <i>nFlags</i>.</p>
<p class=indent>
<B><b>Note</b></B>&nbsp;&nbsp;&nbsp;This member function is called by the framework to allow your application to handle a Windows message. The parameters passed to your function reflect the parameters received by the framework when the message was received. If you call the base-class implementation of this function, that implementation will use the parameters originally passed with the message and not the parameters you supply to the function.</p>
<p>
<a href="_mfc_cwnd.htm">CWnd Overview</a>  |&nbsp; <a href="_mfc_cwnd_class_members.htm">Class Members</a>  |&nbsp; <a href="_mfc_hierarchy_chart.htm">Hierarchy Chart</a></p>
<p>
<b>See Also</b>&nbsp;&nbsp;&nbsp;<object id=alink_2 type="application/x-oleobject"
	classid="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
<PARAM name="Command" value="ALink">
<PARAM name="DefaultTopic" value="_topic_not_found.htm">
<PARAM name="Item1" value="">
<PARAM name="Item2" value="_WIN32_TranslateAccelerator">
</object><a href=JavaScript:alink_2.Click()>::TranslateAccelerator</a>, <a href="_mfc_cwnd.3a3a.onsyskeyup.htm">WM_SYSKEYUP</a>, <object id=alink_3 type="application/x-oleobject"
	classid="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
<PARAM name="Command" value="ALink">
<PARAM name="DefaultTopic" value="_topic_not_found.htm">
<PARAM name="Item1" value="">
<PARAM name="Item2" value="_WIN32_WM_SYSKEYDOWN">
</object><a href=JavaScript:alink_3.Click()>WM_SYSKEYDOWN</a></p>
</font></BODY>
</HTML>
