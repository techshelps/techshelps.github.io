<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>CHttpFilterContext::ServerSupportFunction</title>
<style>@import url(msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="msdn_ie3.css"></HEAD>
<BODY>
<font face="verdana,arial,helvetica" size="2">
<h1><a name="_mfc_chttpfiltercontext.3a3a.serversupportfunction"></a>CHttpFilterContext::ServerSupportFunction</h1>
<p>
<b>BOOL ServerSupportFunction(enum SF_REQ_TYPE </b><i>sfReq</i><b>, PVOID </b><i>pvData</i><b>, LPDWORD </b><i>lpdwSize</i><b>, LPDDWORD </b><i>lpdwDataType</i><b> )</b></p>
<p class=label>
<b>Return Value</b></p>
<p>
Nonzero if successful, otherwise 0. </p>
<p class=label>
<b>Parameters</b></p>
<p class=dt>
<i>sfReq</i></p>
<p class=indent>
Server request type. See the Remarks section for a list of of the possible values.</p>
<p class=dt>
<i>pvData</i></p>
<p class=indent>
A pointer to a zero-terminated string. Its value is specific to the <i>sfReq</i> extension. When used with <b>SF_REQ_SEND_RESPONSE_HEADER</b>, it is an optional, null-terminated status string (for example, "401 Access Denied") or <b>NULL</b> for the default response of "200 OK". When used with <b>SF_REQ_ADD_HEADERS_ON_DENIAL</b>, it is a null-terminated string pointing to one or more header lines with terminating '\r\n'.</p>
<p class=dt>
<i>lpdwSize</i></p>
<p class=indent>
&nbsp;Null-terminated string. Its value is specific to the extension. When used with <b>SF_REQ_SEND_RESPONSE_HEADER</b>, it is a null-terminated string pointing to optional data to be appended and set with the header. If <b>NULL</b>, the header will be terminated with an empty line. When used with <b>SF_REQ_ADD_HEADERS_ON_DENIAL</b>, it is the size in bytes for the next read.</p>
<p class=dt>
<i>lpdwDataType</i></p>
<p class=indent>
A null-terminated string pointing to optional headers or data to be appended and sent with the header. If&nbsp; <b>NULL</b>, the header will be terminated by a “\r\n” pair.</p>
<p class=label>
<b>Remarks</b></p>
<p>
Call this member function to extend the ISA APIs.</p>
<p>
The HTTP Server Extension value represented by <i>sfReq,</i> can be one of the following:</p>
<p class=dt>
<b>SF_REQ_SEND_RESPONSE_HEADER</b></p>
<p class=indent>
Sends a complete HTTP server response header including the status, server version, message time, and MIME (Multipurpose Internet Mail Extension) version. Server extensions should append other information at the end, such as Content-type, Content-length, and so forth, followed by an extra '\r\n'.</p>
<p class=dt>
<b>SF_REQ_ADD_HEADERS_ON_DENIAL</b></p>
<p class=indent>
If the server denies the HTTP request, add the specified headers to the server error response. This allows an authentication filter to advertise its services without filtering every request. Generally the headers will be WWW-Authenticate headers with custom authentication schemes, but no restriction is placed on what headers may be specified.</p>
<p class=dt>
<b>SF_REQ_SET_NEXT_READ_SIZE</b></p>
<p class=indent>
Only used by raw data filters that return <b>SF_STATUS_READ_NEXT</b>.</p>
<p>
<a href="_mfc_chttpfiltercontext.htm">CHttpFilterContext Overview</a>  |&nbsp; <a href="_mfc_chttpfiltercontext_class_members.htm">Class Members</a>  |&nbsp; <a href="_mfc_hierarchy_chart.htm">Hierarchy Chart</a></p>
</font></BODY>
</HTML>
