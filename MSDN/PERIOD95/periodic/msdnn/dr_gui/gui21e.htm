<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<html>

<head>
<meta http-equiv="Content-Type"
content="text/html; charset=iso-8859-1">
<meta name="GENERATOR" content="Microsoft FrontPage 2.0">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Disappearing Toolbar</title>

<meta name=href content="msdn_ie4.css">                
<style>@import url(msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="msdn_ie3.css"></HEAD><basefont face="verdana,arial,helvetica" size=2 color="#000000">

<BODY bgcolor="#FFFFFF">
<font face="verdana,arial,helvetica" size="2">

<font size="5" face="verdana,arial,helvetica">Disappearing Toolbar</font>

<h2><font size="2" face="verdana,arial,helvetica">Dear Dr. GUI:</font></h2>

<p><font size="2" face="verdana,arial,helvetica">I have a <b>CToolBar</b>
object in a <b>CWnd</b> derived class. During the <b>CWnd</b>
derived class's <b>OnCreate</b> member, I call the <b>CToolBar</b>'s
<b>Create</b> member (I used code similar to that in the
MAINFRM.CPP file of an AppWizard-generated application). It looks
like this: </font></p>

<pre><code>// create button bar
if (!m_buttonBar.Create(this, WS_CHILD | WS_VISIBLE | CBRS_TOP | CBRS_TOOLTIPS)
    ||!m_buttonBar.LoadBitmap(IDB_BUTT_BAR) 
    ||!m_buttonBar.SetButtons(bButtons, sizeof(bButtons) / sizeof(UINT)))
{
  TRACE0(&quot;Failed to create Button Bar\n&quot;);
  return -1;      // fail to create
}</code></pre>

<p><font size="2" face="verdana,arial,helvetica">The <b>m_buttonBar</b>
object is a <b>CToolBar</b> object declared in the <b>CWnd</b>
class header. I do not want the toolbar to be
&quot;dockable&quot; or &quot;floatable,&quot; so I removed the
CBRS_FLYBY flag and do not call <b>EnableDocking</b>. The code
appears to execute OK (there are no assertions), but the toolbar
never appears! </font></p>

<h2><font size="2" face="verdana,arial,helvetica">Dr. GUI replies:</font></h2>

<p><font size="2" face="verdana,arial,helvetica">You should probably set
the size of the toolbar. By default the width and height are (0,
0) since the <b>CFrameWnd</b> class controls its size (see <b>CWnd::MoveWindow</b>).</font></p>
</font></body>
</html>
