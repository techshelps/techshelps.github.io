<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<html>

<head>
<meta http-equiv="Content-Type"
content="text/html; charset=iso-8859-1">
<meta name="GENERATOR" content="Microsoft FrontPage 2.0">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Window Irregularity? Using SetWindowRgn</title>

<meta name=href content="msdn_ie4.css">                
<style>@import url(msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="msdn_ie3.css"></HEAD><basefont face="verdana,arial,helvetica" size=2 color="#000000">

<BODY bgcolor="#FFFFFF">
<font face="verdana,arial,helvetica" size="2">

<font size="5" face="verdana,arial,helvetica">Window Irregularity?
Using <b>SetWindowRgn</b></font>

<h2><font size="2" face="verdana,arial,helvetica">Dear Dr. GUI:</font></h2>

<p><font size="2" face="verdana,arial,helvetica">I'm trying to create an
SDI (single-document interface) application that has an
irregularly shaped client area in my Windows NT application.
After digging through the Developer Network Development Library,
I have concluded that this is not possible. However, before I
back off from this idea, I would like to know if it would be
possible to &quot;fake&quot; it by having a transparent window
background. I've been able to have my app initially come up this
way (that is, whatever is behind my window is visible through the
nonpainted portions of the client area), but when the window is
moved the background is not updated. Hence my background always
shows the scenery that was behind my app when I started the app.
Any ideas? </font></p>

<p><font size="2" face="verdana,arial,helvetica">Confused in Redmond </font></p>

<h2><font size="2" face="verdana,arial,helvetica">Dr. GUI replies:</font></h2>

<p><font size="2" face="verdana,arial,helvetica">Ugh. Irregularity. </font></p>

<p><font size="2" face="verdana,arial,helvetica">Irregularity is a common
problem for humans but a weird problem for windows. In olden
times (before the Win32 API), there wasn't an easy way to
overcome this problem. However, since you are writing a Windows
NT 3.5-based application, you can take advantage of the new <b>SetWindowRgn</b>
function. This function (also supported under Windows 95) allows
you to set the clipping region for a window including the border.
The shape of your region depends upon how you created it. You can
create elliptical, polygonal, rectangular, and round regions via
calls to the <b>CreateEllipticalRgn</b>, <b>CreatePolygonRgn</b>,
<b>CreateRectRgn</b>, and <b>CreateRoundRgn</b> functions. You
pass to the creation function the coordinates bounding the region
that you wish to set, and the function returns a handle to the
region. Once you have the handle to the region, you can pass it
to <b>SetWindowRgn</b>.</font></p>
</font></body>
</html>
