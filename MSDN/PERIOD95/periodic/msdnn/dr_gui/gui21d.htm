<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<html>

<head>
<meta http-equiv="Content-Type"
content="text/html; charset=iso-8859-1">
<meta name="GENERATOR" content="Microsoft FrontPage 2.0">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Remove Title Bar and Menu</title>

<meta name=href content="msdn_ie4.css">                
<style>@import url(msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="msdn_ie3.css"></HEAD><basefont face="verdana,arial,helvetica" size=2 color="#000000">

<BODY bgcolor="#FFFFFF">
<font face="verdana,arial,helvetica" size="2">

<font size="5" face="verdana,arial,helvetica">Remove Title Bar and
Menu</font>

<h2><font size="2" face="verdana,arial,helvetica">Dear Dr. GUI:</font></h2>

<p><font size="2" face="verdana,arial,helvetica">Please forgive my
ignorance. I'm learning MFC as quickly as I can, but my boss
wants the application written with MFC. However, it will not look
like your standard MFC single-document interface (SDI)
ClassWizard-generated application. No menu or toolbar, and the
title bar and system menu will most likely be faked rather than
use the standard Windows title bar and so on. Well, the wizard
let me turn off practically everything, except the title bar and
menu. </font></p>

<p><font size="2" face="verdana,arial,helvetica">So I edit the RC file
and remove all menu items from the main menu, which, as far as I
can tell, removes the menu itself. The application still compiles
and builds but won't run. Running it through debug, it stated the
following: </font></p>

<p><font size="2" face="verdana,arial,helvetica">MFC30D.DLL Initializing!
</font></p>

<p><font size="2" face="verdana,arial,helvetica">Warning: Failed to load
menu for CFrameWnd. </font></p>

<p><font size="2" face="verdana,arial,helvetica">Warning: CDocTemplate
couldn't create a frame. </font></p>

<p><font size="2" face="verdana,arial,helvetica">Warning: m_pMainWnd is
NULL in CWinApp::Run&#151;quitting application. </font></p>

<p><font size="2" face="verdana,arial,helvetica">MFC30D.DLL Terminating! </font></p>

<p><font size="2" face="verdana,arial,helvetica">Process 0xBD terminated,
exit code 0 (0x0). </font></p>

<p><font size="2" face="verdana,arial,helvetica">From the documentation,
it appears that I can have a NULL menu and <b>CFrameWnd</b> would
accept that. But apparently that isn't the case. Do I have to
have a menu with an SDI MFC application? Or, for that matter, a
title bar? </font></p>

<h2><font size="2" face="verdana,arial,helvetica">Dr. GUI replies:</font></h2>

<p><font size="2" face="verdana,arial,helvetica">Response 1: You will
need to override <b>CFrameWnd::LoadMenu</b> if you intend to use
the Microsoft Foundation Class Library (MFC) document/view
architecture (which is what AppWizard provides). You will also
need to override <b>CFrameWnd::PreCreateWindow</b> so you can
tweak your window style so that a caption is not on the main
window. </font></p>

<p><font size="2" face="verdana,arial,helvetica">Response 2: You might be
better served by implementing your application as a dialog-based
application. Unless you need the document/view architecture
(which I doubt from the sound of it), I believe this is the way
to go.</font></p>
</font></body>
</html>
