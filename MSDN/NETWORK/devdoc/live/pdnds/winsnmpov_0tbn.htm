<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Freeing WinSNMP Descriptors</title>
<link disabled rel=stylesheet href=../../backsdk3.css>
<style type="text/css">
@import url(../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h3><a name="_win32_freeing_winsnmp_descriptors"></a>Freeing WinSNMP Descriptors</h3>
<p>
<span style=color:#FF0000>[This is preliminary documentation and subject to change.]</span> </p>
<p>
The WinSNMP programming environment assigns the deallocation of descriptor resources to the WinSNMP implementation or the WinSNMP manager application, depending on which component allocates the memory for the descriptor. </p>
<p>
To free the resources for an <a href="winsnmpst_994i.htm"><b>smiOID</b></a> or an <a href="winsnmpst_2rci.htm"><b>smiOCTETS</b></a> descriptor, the following rules apply: 
<ul>
<li>
For input parameters <p>
Because the WinSNMP manager application allocates the memory for input objects with variable lengths, the application must free that memory using an appropriate function. For example, if the application allocated the resources with a call to the <object id=alink_1 type="application/x-oleobject"
	classid="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
<PARAM name="Command" value="ALink,MENU">
<PARAM name="DefaultTopic" value="../../notopic_0pk4.htm">
<PARAM name="Item1" value="">
<PARAM name="Item2" value="_win32_globalalloc">
</object><a href=JavaScript:alink_1.Click()><b>GlobalAlloc</b></a> function, it should use the <object id=alink_2 type="application/x-oleobject"
	classid="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
<PARAM name="Command" value="ALink,MENU">
<PARAM name="DefaultTopic" value="../../notopic_0pk4.htm">
<PARAM name="Item1" value="">
<PARAM name="Item2" value="_win32_globalfree">
</object><a href=JavaScript:alink_2.Click()><b>GlobalFree</b></a> function to deallocate the resources. If the application allocated the resources with a call to the <object id=alink_3 type="application/x-oleobject"
	classid="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
<PARAM name="Command" value="ALink,MENU">
<PARAM name="DefaultTopic" value="../../notopic_0pk4.htm">
<PARAM name="Item1" value="">
<PARAM name="Item2" value="_win32_heapalloc">
</object><a href=JavaScript:alink_3.Click()><b>HeapAlloc</b></a> function, it should call the <object id=alink_4 type="application/x-oleobject"
	classid="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
<PARAM name="Command" value="ALink,MENU">
<PARAM name="DefaultTopic" value="../../notopic_0pk4.htm">
<PARAM name="Item1" value="">
<PARAM name="Item2" value="_win32_heapfree">
</object><a href=JavaScript:alink_4.Click()><b>HeapFree</b></a> function. 
</li>
<li>
For output parameters <p>
A call to any of the following functions results in the implementation allocating memory for an <a href="winsnmpst_994i.htm"><b>smiOID</b></a> or an <a href="winsnmpst_2rci.htm"><b>smiOCTETS</b></a> descriptor: <a href="winsnmpfc_12le.htm"><b>SnmpGetVb</b></a>, <a href="winsnmpfc_036v.htm"><b>SnmpEncodeMsg</b></a>, <a href="winsnmpfc_39tl.htm"><b>SnmpOidCopy</b></a>, <a href="winsnmpfc_55rm.htm"><b>SnmpContextToStr</b></a>, and <a href="winsnmpfc_51no.htm"><b>SnmpStrToOid</b></a>. 
<p>
Because the implementation allocates the memory for these output objects, the application must call the <a href="winsnmpfc_9u42.htm"><b>SnmpFreeDescriptor</b></a> function to deallocate the resources. This function enables the implementation to free the memory allocated for the <b>ptr</b> member of these structures. 
</li>
</ul>
<p>
To free the resources for an <a href="winsnmpst_5koi.htm"><b>smiVALUE</b></a> structure, the following rules apply: </p>
<p class=indent1>
A WinSNMP manager application must check the <b>syntax</b> member of an <a href="winsnmpst_5koi.htm"><b>smiVALUE</b></a> structure to correctly evaluate the <b>value</b> member of the structure. If the <b>syntax</b> member indicates that the <b>value</b> member is an <a href="winsnmpst_2rci.htm"><b>smiOCTETS</b></a> or an <a href="winsnmpst_994i.htm"><b>smiOID</b></a> descriptor, and the implementation allocated the resources for the descriptor, the application must call <a href="winsnmpfc_9u42.htm"><b>SnmpFreeDescriptor</b></a>. This enables the implementation to free the memory. If the application allocated the resources, it must free the memory using an appropriate function, as indicated earlier. </p>
<p>
For additional information, see <a href="winsnmpov_53lf.htm">Allocating WinSNMP Memory Objects</a>. </p>
<p>&nbsp;</p></body>
</HTML>
