<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>NetDfsGetInfo</title>
<link disabled rel=stylesheet href=../../backsdk3.css>
<style type="text/css">
@import url(../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h1><a name="_win32_netdfsgetinfo"></a>NetDfsGetInfo</h1>
<p>
The <b>NetDfsGetInfo</b> function retrieves information about a junction point in the named Distributed File System (Dfs) tree structure. The function can return information specific to a server and share, or information specific to an entire junction point. </p>
<pre><code><b>NET_API_STATUS NET_API_FUNCTION NetDfsGetInfo(
  LPWSTR</b><i> DfsEntryPath</i><b>,</b>        // Dfs entry path for the junction point
<b>  LPWSTR </b><i>ServerName OPTIONAL</i><b>,</b> // name of server exporting the storage
<b>  LPWSTR </b><i>ShareName OPTIONAL</i><b>,</b>  // name of share exporting the storage
<b>  DWORD</b><i> Level</i><b>,</b>                // level of information requested
<b>  LPBYTE*</b><i> Buffer</i>              // function allocates and returns 
                              // buffer with requested info
<b>);</b>
 </code></pre>
<h4>Parameters</h4>
<dl>
<dt>
<i>DfsEntryPath</i> </dt>
<dd>
[in] Pointer to a null-terminated Unicode character string that specifies the Universal Naming Convention path of a junction point in a Dfs tree structure. The string must be of the form: 
<p>
<code>\\Dfsname\sharename\path-to-junction-point </code>

<p>
where <code>Dfsname</code> is the name of a Windows NT server that hosts the Dfs root volume; <code>sharename</code> is the name of a share that is published on the Dfs host server; and <code>path-to-junction-point</code> specifies the path name on the physical share. 
</dd>
<dt>
<i>ServerName</i> </dt>
<dd>
[in] Pointer to a null-terminated Unicode character string that specifies the name of the storage server that the junction point references. This parameter is optional. For additional information, see the following Remarks section. </dd>
<dt>
<i>ShareName</i> </dt>
<dd>
[in] Pointer to a null-terminated Unicode character string that specifies the name of the share on the storage server that the junction point references. This parameter is optional. For additional information, see the following Remarks section. </dd>
<dt>
<i>Level </i></dt>
<dd>
[in] Specifies the information level of the request. This parameter can be one of the following values. 
<table cellspacing=4 cols=2>
<tr valign=top>
<th align=left width=12%>Value </th>
<th align=left width=88%>Meaning </th>
</tr>
<tr valign=top>
<td width=12%>1</td>
<td width=88%>Return the Dfs junction point name. The <i>Buffer</i> parameter will contain a <a href="ntlmapi_5dv6.htm"><b>DFS_INFO_1</b></a> structure. </td>
</tr>
<tr valign=top>
<td width=12%>2</td>
<td width=88%>Return the Dfs junction point name with information. The <i>Buffer</i> parameter will contain a <a href="ntlmapi_4z8y.htm"><b>DFS_INFO_2</b></a> structure. </td>
</tr>
<tr valign=top>
<td width=12%>3</td>
<td width=88%>Return the Dfs junction point name with information, and share information. The <i>Buffer</i> parameter will contain a <a href="ntlmapi_4kmq.htm"><b>DFS_INFO_3</b></a> structure. </td>
</tr>
<tr valign=top>
<td width=12%>100</td>
<td width=88%>Return a comment about the Dfs junction point. The <i>Buffer</i> parameter will contain a <a href="ntlmapi_8fhu.htm"><b>DFS_INFO_100</b></a> structure. </td>
</tr>
</table><br>

</dd>
<dt>
<i>Buffer</i> </dt>
<dd>
[out] Pointer to the address of a buffer that contains the requested information structures. 
</dd>
</dl>
<h4>Return Values</h4>
<p>
If the function succeeds, the return value is NERR_Success. </p>
<p>
If the function fails, the return value is a Win32 API error code. For a list of error codes, see <object id=alink_1 type="application/x-oleobject"
	classid="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
<PARAM name="Command" value="ALink,MENU">
<PARAM name="DefaultTopic" value="../../notopic_0pk4.htm">
<PARAM name="Item1" value="">
<PARAM name="Item2" value="_win32_error_codes">
</object><a href=JavaScript:alink_1.Click()>Error Codes</a>. </p>
<h4>Remarks</h4>
<p>
The <b>NetDfsGetInfo</b> function allocates the memory required for the information structure buffer. </p>
<p>
If you specify both the <i>ServerName</i> and <i>ShareName</i> parameters, the <b>NetDfsGetInfo</b> function returns information specific to that server and share. If the parameters are not specified, the function returns information that is specific to the entire junction point.</p>
<h4>QuickInfo</h4>
<p>
<b>&nbsp;&nbsp;Windows NT: </b>Requires version 4.0 or later.<br>
<b>&nbsp;&nbsp;Windows: </b>Unsupported.<br>
<b>&nbsp;&nbsp;Windows CE: </b>Unsupported.<br>
<b>&nbsp;&nbsp;Header: </b>Declared in lmdfs.h.<br>
<b>&nbsp;&nbsp;Import Library: </b>Use netapi32.lib.</p>
<h4>See Also</h4>
<p>
<a href="ntlmapi_7o4f.htm">Networking (Net) Overview</a>, <a href="ntlmapi_0bn7.htm">Net Functions</a>, <a href="ntlmapi_5dv6.htm"><b>DFS_INFO_1</b></a>,<b> <a href="ntlmapi_4z8y.htm">DFS_INFO_2</a></b>,<b> <a href="ntlmapi_4kmq.htm">DFS_INFO_3</a></b>,<b> <a href="ntlmapi_8fhu.htm">DFS_INFO_100</a></b>,<b> <a href="ntlmapi_4lpu.htm">DFS_STORAGE_INFO</a></b>,<b> <a href="ntlmapi_4l65.htm">NetDfsEnum</a> </b></p>
<p>&nbsp;</p></body>
</HTML>
