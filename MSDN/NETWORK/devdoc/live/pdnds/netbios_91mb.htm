<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>NetBIOS LANA Numbers</title>
<link disabled rel=stylesheet href=../../backsdk3.css>
<style type="text/css">
@import url(../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h2><a name="_win32_netbios_lana_numbers"></a>NetBIOS LANA Numbers</h2>
<p>
The NetBIOS <i>LANA number</i> identifies the transport driver, network interface card (NIC) driver, and adapter that will be used to send and receive NetBIOS packets. This is known as the <i>network route</i>. The following example shows the network route that will be used when you specify a LANA value of 1: </p>
<p>
001    NetBT -&gt; IEEPRO -&gt; IEEPRO1 </p>
<p>
Specify the LANA number in the <b>ncb_lana_num</b> member of the <a href="netbios_7y7m.htm"><b>NCB</b></a> structure when you issue a NetBIOS command. </p>
<p>
The IBM NetBIOS 3.0 specification supports only two LANA numbers, because NetBEUI was originally the only protocol that supported NetBIOS, and a computer could contain only two network adapters at that time. Specifying LANA 0 directed a command to the first adapter, and specifying LANA 1 directed a command to the second adapter. Because many computers had only one network adapter, many MS-DOS – based applications sent all their requests to LANA 0. If a second network adapter was installed, some applications allowed the user to specify the use of LANA 1 instead. As a result, LANA 0 became the default setting, though it was never intended as such. </p>
<p>
Windows NT enables NetBIOS to use transport protocols other than NetBEUI. Therefore, Microsoft has extended the meaning of a LANA number to indicate a specific transport protocol on a specific adapter. For example, if you have two network adapters, and have three transport protocols installed, you have six LANA numbers. The LANA numbers are not necessarily sequential. </p>
<p>
In addition to extending the meaning of a LANA number, Microsoft also added the NCBENUM command to enumerate the available LANA numbers. As an example, the <a href="netbios_8d82.htm"><b>LANA_ENUM</b></a> structure filled by NCBENUM might hold an array with values 0, 3, 5, and 6. Zero might map to IPX/SPX on the first adapter, three might map to NETBEUI on a second adapter, and so on.</p>
<p>
<b>Windows NT:</b> You can associate specific LANA numbers with specific network routes using the following steps. </p>
<h5><img src="../../images/wedge.gif" border=0>&nbsp;&nbsp;&nbsp;&nbsp;To associate a LANA number with a network route on Windows NT</h5>
<ol>
<li>
Start the Network Control Panel application.</li>
<li>
Click the <b>Services</b> tab.</li>
<li>
Double-click <b>NetBIOS Interface</b>.</li>
<li>
Click the LANA number you want to change.</li>
<li>
Enter the new LANA number to be associated with the network route. </li>
</ol>
<p>
<b>Windows 95 and Windows 98:</b> You cannot configure LANA numbers because of the way plug and play was designed. LANA numbers can change as users install plug and play devices. You may set only LANA 0, which is the default protocol. The next protocol is LANA 7, then LANA 6, and so on. If no protocol is set as the default, there may not be a LANA 0. </p>
<p>
You can set the default protocol in the control panel using the following steps: </p>
<h5><img src="../../images/wedge.gif" border=0>&nbsp;&nbsp;&nbsp;&nbsp;To set LANA 0 on Windows 95 or Windows 98</h5>
<ol>
<li>
Start the Network Control Panel application. </li>
<li>
Choose the protocol you want as the default. </li>
<li>
Click <b>Properties</b>. </li>
<li>
Click the <b>Advanced</b> tab. </li>
<li>
Click <b>Set this protocol to be the default protocol</b>. </li>
</ol>
<p>
The best way to write a NetBIOS application is to support all LANA numbers, and establish connections over any LANA number. This allows your application to transparently support any transport protocol that supports NetBIOS, as well as dynamic LANA numbers associated with dial-up adapters or plug-and-play hardware. A good approach is outlined in the following steps. </p>
<h5><img src="../../images/wedge.gif" border=0>&nbsp;&nbsp;&nbsp;&nbsp;To support connections over any LANA</h5>
<ol>
<li>
Enumerate the LANA numbers by issuing an NCBENUM command.</li>
<li>
Reset each LANA by issuing one NCBRESET command per LANA number.</li>
<li>
Add your local NetBIOS name to each LANA. The name may be the same on each LANA.</li>
<li>
Connect using any LANA number: <ul>
<li>
For servers, issue an NCBLISTEN command on each LANA. If necessary, cancel any outstanding listen operation after the first listen operation has been completed. </li>
<li>
For clients, issue an NCBFINDNAME (Windows NT only) or an NCBCALL (Windows NT, Windows 95, or Windows 98) command on each LANA. The first successful NCBFINDNAME or NCBCALL operation will indicate which LANA to use. When using NCBCALL instead of NCBFINDNAME, you must cancel any pending NCBCALL commands and hang up any extra completed calls. </li>
</ul>
</li>
</ol>
<p>
Though this is the best technique for writing a NetBIOS application, it generates several datagrams, making the NetBIOS interface less desirable than other networking interfaces. </p>
<p>&nbsp;</p></body>
</HTML>
