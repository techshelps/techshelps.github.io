<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Session Support</title>
<link disabled rel=stylesheet href=../../backsdk3.css>
<style type="text/css">
@import url(../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h3><a name="_win32_session_support"></a>Session Support</h3>
<p>
The following are the session support commands: 
<ul>
<li>
NCBCALL (call)</li>
<li>
NCBHANGUP (hang up)</li>
<li>
NCBLISTEN (listen)</li>
<li>
NCBSSTAT (session status)</li>
</ul>
<p>
The NCBCALL and NCBLISTEN commands establish a session between processes. One process issues the NCBLISTEN command to prepare to open a session. The other process issues the NCBCALL command to open the session. The remote computer must have an NCBLISTEN command pending. When the session is established, the NCBLISTEN command is completed and the calling process receives a local session number and the name of the remote session partner. In addition, the NCBCALL command is completed and the calling process receives a local session number in the <b>ncb_lsn</b> member of the <a href="netbios_7y7m.htm"><b>NCB</b></a> structure. The process of establishing a session is shown in the following illustration: </p>
<p>
<img src="images/netbios4.gif" border=0></p>
<p>
The NCBSSTAT command obtains the status of any sessions that were opened using the specified name. The <b>ncb_buffer</b> member receives a <a href="netbios_0582.htm"><b>SESSION_HEADER</b></a> structure, followed by one or more <a href="netbios_11ma.htm"><b>SESSION_BUFFER</b></a> structures. The process of obtaining the session status is shown in the following illustration. </p>
<p>
<img src="images/netbios8.gif" border=0></p>
<p>
The NCBHANGUP command closes the session identified by the specified local session number, as shown in the following illustration. </p>
<p>
<img src="images/netbios9.gif" border=0></p>
<p>
This example assumes that there are NCBRECVANY commands pending on both computers. </p>
<p>&nbsp;</p></body>
</HTML>
