<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>NetGetDCName</title>
<link disabled rel=stylesheet href=../../backsdk3.css>
<style type="text/css">
@import url(../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h1><a name="_win32_netgetdcname"></a>NetGetDCName</h1>
<p>
The <b>NetGetDCName</b> function returns the name of the Primary Domain Controller (PDC). It does not return the name of the Backup Domain Controller (BDC) for the specified domain. Also, you cannot remote this function to a non-PDC server.</p>
<p>
The <b>NetGetDCName</b> function is obsolete. It is provided only for compatibility with 16-bit versions of Windows. For NT5 and subsequent versions, Win32-based applications should use the <a href="ntlmapi_3vol.htm"><b>DSGetDCName</b></a> function.</p>
<h4>Security Requirements</h4>
<p>
No special group membership is required to successfully execute <b>NetGetDCName</b>.</p>
<pre><code><b>NET_API_STATUS NetGetDCName(
  LPWSTR</b><i> servername</i><b>,  </b>
<b>  LPWSTR</b><i> domainname</i><b>,  </b>
<b>  LPBYTE</b><i> *bufptr      </i>
<b>);</b>
 </code></pre>
<h4>Parameters</h4>
<dl>
<dt>
<i>servername</i></dt>
<dd>
Pointer to a Unicode string containing the name of the remote server on which the function is to execute. A NULL pointer or string specifies the local computer.</dd>
<dt>
<i>domainname</i></dt>
<dd>
Pointer to a Unicode string containing the name of the domain.<i> </i>A NULL pointer or string indicates that the function returns the name of the domain controller for the primary domain.</dd>
<dt>
<i>bufptr</i></dt>
<dd>
Returns a pointer to an allocated buffer containing a Unicode string which identifies the server name of the PDC of the domain. The server name is prefixed by \\. The buffer should be deallocated using <b>NetApiBufferFree</b>.
</dd>
</dl>
<h4>Return Values</h4>
<p>
If the function succeeds, the return value is NERR_Success.</p>
<p>
If the function fails, the return value is one of the following error codes. </p>
<table cellspacing=4 cols=2>
<tr valign=top>
<th align=left width=57%>Value</th>
<th align=left width=43%>Meaning</th>
</tr>
<tr valign=top>
<td width=57%>NERR_DCNotFound</td>
<td width=43%>Could not find the domain controller for the domain.</td>
</tr>
<tr valign=top>
<td width=57%>ERROR_INVALID_NAME</td>
<td width=43%>The name could not be found.</td>
</tr>
</table><br>
<h4>QuickInfo</h4>
<p>
<b>&nbsp;&nbsp;Windows NT: </b>Requires version 3.1 or later.<br>
<b>&nbsp;&nbsp;Windows: </b>Unsupported.<br>
<b>&nbsp;&nbsp;Windows CE: </b>Unsupported.<br>
<b>&nbsp;&nbsp;Header: </b>Declared in lmaccess.h.<br>
<b>&nbsp;&nbsp;Import Library: </b>Use netapi32.lib.</p>
<h4>See Also</h4>
<p>
<a href="ntlmapi_7o4f.htm">Networking (Net) Overview</a>, <a href="ntlmapi_0bn7.htm">Net Functions</a>, <a href="ntlmapi_7gyt.htm"><b>NetGetAnyDCName</b></a> </p>
<p>&nbsp;</p></body>
</HTML>
