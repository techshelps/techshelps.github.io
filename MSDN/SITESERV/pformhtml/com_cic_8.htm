<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>The Receive Pipeline</title>
<style>@import url(/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="/msdn_ie3.css">
<br>
</HEAD>
<BODY BGCOLOR=#FFFFFF TEXT=#000000>

<h2><a name="com_cic_rckq"></a>The Receive Pipeline</h2>
<p>
The Receive pipeline is a form of the Commerce Interchange Pipeline that is used to receive a business data object sent by a business partner.</p>
<p>
This template for this pipeline is Receive.pct. An example of a pipeline based on this template is the InterchangeReceive.pcf file that is used by the Microsoft Market sample site. </p>
<p>
The Receive pipeline consists of the following stages.</p>
<h4>Decrypt Stage </h4>
<p>
The business data is usually received in an encoded form suitable for transmission. The Decrypt stage decrypts the incoming data stream and writes the result to working data in the Transport Dictionary. </p>
<p>
The components related to this stage include the following.</p>
<table cellspacing=4 cols=2 width=464>
<tr valign=top>
<th align=left width=31%>Component</th>
<th align=left width=69%>Description</th>
</tr>
<tr valign=top>
<td colspan=2 width=100%></td>
</tr>
<tr valign=top>
<td width=31%><a href="com_piperef_9.htm"><b>DecodeSMIME</b></a></td>
<td width=69%>Decodes a data stream that was encapsulated in the IETF EDIINT draft Internet standard S/MIME (secure MIME) format, and writes the result to working data.</td>
</tr>
<tr valign=top>
<td width=31%><a href="com_piperef_10.htm"><b>DecryptPKCS</b></a></td>
<td width=69%>Decrypts the data stream using the PKCS7 standard, and writes this data and writes the result to working data. </td>
</tr>
</table><br>
<h4>Verify Digital Signature Stage </h4>
<p>
The Verify Digital Signature stage verifies the digital signature on the data stored in the Transport Dictionary.</p>
<p>
The components related to this stage include the following.</p>
<table cellspacing=4 cols=2 width=464>
<tr valign=top>
<th align=left width=31%>Component</th>
<th align=left width=69%>Description</th>
</tr>
<tr valign=top>
<td colspan=2 width=100%></td>
</tr>
<tr valign=top>
<td width=31%><a href="com_piperef_9.htm"><b>DecodeSMIME</b></a></td>
<td width=69%>Decodes a business data object that was encapsulated in the IETF EDIINT draft Internet standard S/MIME (secure MIME) format.</td>
</tr>
<tr valign=top>
<td width=31%><a href="com_piperef_74.htm"><b>VerifyDigitalSig</b></a></td>
<td width=69%>Verifies the digital signature on the data stored in the Transport Dictionary, using the PKCS7 standard.</td>
</tr>
</table><br>
<h4>Open Header Stage </h4>
<p>
The Open Header stage performs the counterpart operations to any components used in the Add Header stage of the Transmit pipeline. The stage saves message attributes in the Transport Dictionary and unwraps the business data for the Map stage.</p>
<p>
The <b>OpenHeader</b> component creates a digest only if the sender has requested a return receipt. The digest is instead intended to confirm that the business data object was received, and is transmitted to the original sender by Generate Receipt stage.</p>
<p>
The components related to this stage include the following.</p>
<table cellspacing=4 cols=2 width=464>
<tr valign=top>
<th align=left width=31%>Component</th>
<th align=left width=69%>Description</th>
</tr>
<tr valign=top>
<td colspan=2 width=100%></td>
</tr>
<tr valign=top>
<td width=31%><a href="com_piperef_8.htm"><b>DecodeMIME</b></a></td>
<td width=69%>Decodes a business data object that was encapsulated in the MIME format.</td>
</tr>
<tr valign=top>
<td width=31%><a href="com_piperef_35.htm"><b>OpenHeader</b></a></td>
<td width=69%>Parses the XML data appended to the business data object by the Add Header stage, and writes the transaction ID, the data and time of the transmission, and an optional <i>digest</i> of the message data to the Transport Dictionary as name/value pairs, as well as the optional sender and receiver addresses.</td>
</tr>
</table><br>
<h4>Generate Receipt </h4>
<p>
If a receipt has been requested, the Generate Receipt stage creates a return receipt business data object, and then invokes a transmit pipeline to send the receipt object back to the trading partner that originally transmitted the business data.</p>
<p>
The components related to this stage include the following.</p>
<table cellspacing=4 cols=2 width=464>
<tr valign=top>
<th align=left width=31%>Component</th>
<th align=left width=69%>Description</th>
</tr>
<tr valign=top>
<td colspan=2 width=100%></td>
</tr>
<tr valign=top>
<td width=31%><a href="com_piperef_27.htm"><b>GenerateReceipt</b></a></td>
<td width=69%>Reads values written to the Transport Dictionary by the <a href="com_piperef_35.htm"><b>OpenHeader</b></a> component, and if requested, creates a receipt object and then invokes a transmit pipeline to send the receipt object back to the original sender.</td>
</tr>
</table><br>
<h4>Map Stage </h4>
<p>
The Map stage in the Receive pipeline converts the working data to a business data object. </p>
<p>
The components related to this stage include the following.</p>
<table cellspacing=4 cols=2 width=464>
<tr valign=top>
<th align=left width=31%>Component</th>
<th align=left width=69%>Description</th>
</tr>
<tr valign=top>
<td colspan=2 width=100%></td>
</tr>
<tr valign=top>
<td width=31%><a href="com_piperef_33.htm"><b>MapFromXML</b></a></td>
<td width=69%>Reconstitutes the original business data object from the XML stream, and writes the object to the transport dictionary.</td>
</tr>
</table><br>
<h4>Audit Stage </h4>
<p>
The Audit stage writes selected elements of information about a business transaction to the audit database.</p>
<p>
The components related to this stage include the following.</p>
<table cellspacing=4 cols=2 width=464>
<tr valign=top>
<th align=left width=31%>Component</th>
<th align=left width=69%>Description</th>
</tr>
<tr valign=top>
<td colspan=2 width=100%></td>
</tr>
<tr valign=top>
<td width=31%><a href="com_piperef_2.htm"><b>Audit</b></a></td>
<td width=69%>Writes specified values from the Transport Dictionary into a database table in the audit database.</td>
</tr>
<tr valign=top>
<td width=31%><a href="com_piperef_3.htm"><b>AuditReceipt </b></a></td>
<td width=69%>Writes data from the receipt into the audit database table. </td>
</tr>
</table><br>
<h4>Application Integration Stage </h4>
<p>
The Application Integration stage is intended to contain components that map business object data to a format that can be read by a target application. For example, one might create an application integration component designed to read a Commerce Server <b>SimpleList</b> and write the contents of that <b>SimpleList</b> to an Excel spreadsheet.</p>
<p>
The components related to this stage include the following.</p>
<table cellspacing=4 cols=2 width=464>
<tr valign=top>
<th align=left width=31%>Component</th>
<th align=left width=69%>Description</th>
</tr>
<tr valign=top>
<td colspan=2 width=100%></td>
</tr>
<tr valign=top>
<td width=31%><a href="com_piperef_68.htm"><b>SQLOrderADO</b></a></td>
<td width=69%>Runs a SQL query.</td>
</tr>
</table><br>
<!-----------------------------Copyright 1997-1998 Microsoft Corporation------------------------------>
<hr>
<center><font size=-1>
<A HREF="sdklegal.htm">&copy; 1997-1998 Microsoft Corporation. All rights reserved.</A>
</font></center>
<br>
<br>
<p>&nbsp;</p></body>
</HTML>
