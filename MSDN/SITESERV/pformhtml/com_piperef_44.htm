<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>RequiredOrderAdjustPrice</title>
<style>@import url(/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="/msdn_ie3.css">
<br>
</HEAD>
<BODY BGCOLOR=#FFFFFF TEXT=#000000>

<h2><a name="com_tools_koaa"></a><sup></sup>RequiredOrderAdjustPrice</h2>
<p>
The <b>RequiredOrderAdjustPrice</b> component, which appears in the Order Adjust Price stage of an order processing pipeline, calculates and initializes the <code>_oadjust_adjustedprice</code> and _<code>oadjust</code>_<code>discount</code> name/value pairs for each item in the <code>items</code> <b>SimpleList</b>. The following example illustrates how this component works.</p>
<p>
A site is offering a discount on an item priced at $12.00, such that if a customer purchases two items at the regular price, the customer gets a third at half that price. Suppose further that you have chosen to purchase three of these items.</p>
<p>
When the <b>RequiredOrderAdjustPrice</b> component is executed, the item <b>Dictionary</b> for this item already contains the following name/value pairs.</p>
<table cellspacing=4 cols=2 width=464>
<tr valign=top>
<th align=left width=48%>Name/</th>
<th align=left width=52%>Value</th>
</tr>
<tr valign=top>
<td colspan=2 width=100%></td>
</tr>
<tr valign=top>
<td width=48%>_<code>iadjust</code>_<code>currentprice</code></td>
<td width=52%>Adjusted price of this item.</td>
</tr>
<tr valign=top>
<td width=48%><code>Quantity</code></td>
<td width=52%>Number of the items of this <code>SKU</code> being purchased.</td>
</tr>
<tr valign=top>
<td width=48%><code>_n_unadjusted</code></td>
<td width=52%>Number of the items identified by Quantity that do not need to have their prices adjusted.</td>
</tr>
</table><br>
<p>
In this example, the value of <code>Quantity</code> is 3, and the number of _<code>n_unadjusted</code> is also 3, because the default value of _n_unadjusted is always (the total number of items minus the number of items purchased at the regular price). By default, the _<code>n_unadjusted</code> name/value pair is equal to the total Quantity, unless it has been decremented by a previous component, such as <b>DbOrderPromo</b>.</p>
<p>
To adjust the price for this item, <b>RequiredOrderAdjust</b> multiplies <code>Quantity</code> by _<code>n_unadjusted</code>, and writes the resulting value to the _<code>oadjust</code>_<code>adjustedprice</code> name/value pair. This value represents the total price for the items of this SKU.</p>
<p>
Next, <b>RequiredOrderAdjust</b> multiplies <code>Quantity</code> by the value in _<code>iadjust</code>_<code>adjustedprice</code>, and subtracts the adjusted price of the total items (now stored in _<code>oadjust</code>_<code>adjustedprice</code>) from the result. The new result represents the total discount for this item, and is written to the _<code>oadjust</code>_<code>discount</code> name/value pair.</p>
<h5>Note</h5>
<p>
If you are not running the Pipeline Editor in expert mode, the <b>RequiredOrderAdjustPrice</b> component is automatically inserted into the Order Adjust Price stage, but is not displayed in the Pipeline Editor user interface. This component appears in the user interface only if you run the Pipeline Editor in expert mode.</p>
<!-----------------------------Copyright 1997-1998 Microsoft Corporation------------------------------>
<hr>
<center><font size=-1>
<A HREF="sdklegal.htm">&copy; 1997-1998 Microsoft Corporation. All rights reserved.</A>
</font></center>
<br>
<br>
<p>&nbsp;</p></body>
</HTML>
