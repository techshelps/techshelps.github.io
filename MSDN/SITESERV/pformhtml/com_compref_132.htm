<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Other Uses of Predictor</title>
<style>@import url(/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="/msdn_ie3.css">
<br>
</HEAD>
<BODY BGCOLOR=#FFFFFF TEXT=#000000>

<h3><a name="com_compref_viuv"></a>Other Uses of Predictor</h3>
<p>
When the <b>Predictor</b> object is used to suggest specific products, it uses the product SKU as the basis of its predictions. However, the <b>Predictor</b> is by no means limited to the concept of a SKU.</p>
<p>
In some situations, a SKU may be too specific an identifier to use as the basis for predictions. For example, the Volcano Coffee sample store offers a dress shirt in a variety of colors and sizes. The dress shirt itself is assigned a <i>product family id </i>(pfID), while each combination of size and color is designated with a separate SKU comprised of the pfID and the attribute IDs. To best implement the <b>Predictor</b> in the Volcano Coffee application, the pfID, rather than the SKU, should be used as the basis for predictions.</p>
<p>
The basis for prediction can extend beyond products and departments. For example, a site that sells music CDs and tapes could base predictions on recording artists. Using the <b>Predictor</b>, the site could correlate customer musical preferences and suggest other artists that the customer might enjoy. Another site could keep track of the URLs that a user has visited, and suggest other pages to that visitor.</p>
<p>
You can use any type of identifier as the basis for predictions, either numbers or strings. However, you must ensure the following:
<ul>
<li>
&upsilon;The prediction identifier must uniquely identify the product or category to be used as the basis for prediction. </li>
<li>
&upsilon;Your implementation of the <b>Predictor</b> object must use the prediction identifier consistently.</li>
<li>
&upsilon;All prediction identifiers representing the same item or category must use the same case. The <b>Predictor </b>object is case-sensitive.</li>
</ul>
<p>
To use a prediction identifier other than the SKU, you must make sure that this identifier is logged to the site purchase history and that the prediction results are displayed in a way that is appropriate. If you are using the Microsoft Press sample site as a starting point for implementing a site using <b>Predictor</b>, perform the following steps to use a prediction identifier other than the SKU.
<ol>
<li>
Make sure that the prediction identifier exists in the order form object when the Payment stage of the Purchase pipeline configuration is executed. If the prediction identifier is not already available, write a <b>Scriptor</b> component to synthesize the identifier from other values and write the result into the order form object.</li>
<li>
If necessary, modify the database schema for the site purchase history table. In Microsoft Press, the site purchasing history table (<code>mspress30_predictor_data</code>) contains a varchar column named <code>sku</code>, whose width is 30 characters. Change the name and width as needed.</li>
<li>
Using the Commerce Server Pipeline Editor, open the Purchase.pcf configuration file. In the Accept stage, open the component labeled SQLItemADO (Predictor data). This component writes values into the site purchasing history table whenever purchases are made. On the property pages for this component, select the SQL Item (ADO) tab. Change the item.sku parameter to the name of the property in the order form to use as the prediction identifier.</li>
<li>
If you have changed the name of the column that specifies the prediction identifier in the site purchasing history database, then open the site’s Global.asa file for editing. Locate the call to the <b>InitPredictor</b> method, and change the name of the <i>SkuColumn</i> argument from "sku" to the new name of the column. This will initialize the <b>Predictor</b> object correctly based on the site purchasing history.</li>
<li>
On the page where you want to list prediction results, pass the prediction identifier instead of the SKU to the <b>GetPredictions</b> method. The prediction identifier is passed in a <b>SimpleList </b>containing <b>Dictionary </b>objects. The name of this property must remain <b>sku</b> because that name is expected by the <b>GetPredictions</b> method.</li>
<li>
On the same page, design the display of prediction results so that it uses the prediction identifiers that are returned by <b>GetPredictions</b>. For example, if you have used pfID as the prediction identifier, then design the results display to show product families. In the <b>Dictionary</b> object that is returned, the name of the value containing the suggested prediction identifier is <b>sku</b>, regardless of the type of prediction identifier that you actually used.</li>
</ol>
<!-----------------------------Copyright 1997-1998 Microsoft Corporation------------------------------>
<hr>
<center><font size=-1>
<A HREF="sdklegal.htm">&copy; 1997-1998 Microsoft Corporation. All rights reserved.</A>
</font></center>
<br>
<br>
<p>&nbsp;</p></body>
</HTML>
