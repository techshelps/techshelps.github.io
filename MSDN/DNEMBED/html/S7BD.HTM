<HTML><HEAD><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Embedded SQL Method</TITLE><style>@import url(/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="/msdn_ie3.css"></HEAD>
<BODY BGCOLOR="#FFFFFF" link=#003399 vlink=#996699>
<FONT FACE="Verdana, Arial, Helvetica"SIZE="2">

<H2>Embedded SQL Method</H2><P CLASS="t">Embedded SQL programs require preprocessing by a <I>precompiler</I>. The Embedded SQL precompiler converts Embedded SQL statements in the program into function calls that can be accepted by a C compiler. The C compiler can then compile the resulting source code into an executable program. </P>
<P CLASS="t">For example, the following Embedded SQL code does the same tasks as the DB-Library example in the "Call-level Method" section earlier in this chapter:</P>
<P CLASS="spacing"><BR></P>
<PRE><FONT FACE="NEW COURIER" SIZE= "3">main()
{
    EXEC SQL BEGIN DECLARE SECTION;
    char first_name[50];
    char last_name[] = "White";
    EXEC SQL END DECLARE SECTION;

    EXEC SQL CONNECT TO my_server.pubs
        USER my_login.my_password;
    EXEC SQL SELECT au_fname INTO :first_name
        from authors where au_lname = :last_name;
    return (0);
}
</FONT></PRE>
<P CLASS="t">Note that each Embedded SQL statement starts with the introductory expression EXEC SQL. This expression tells the precompiler that the code that is entered between EXEC SQL and the semicolon (;) contains Embedded SQL statements.</P>
<P CLASS="t">The Embedded SQL approach, using programming statements similar to Transact-SQL, is more concise than the call-level method approach and is tightly coupled to the existing database structure. Because the SQL statements are directly included in the C source code, Embedded SQL programs are usually special-purpose applications. Embedded SQL is well suited for environments where the C programmer is also in control of the database structure. However, Embedded SQL is less flexible in environments where the database structure is changing or is not predictable.</P>
</FONT>
</BODY>
</HTML>
