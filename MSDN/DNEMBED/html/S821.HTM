<HTML><HEAD><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>SQLCA Data Structure</TITLE><style>@import url(/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="/msdn_ie3.css"></HEAD>
<BODY BGCOLOR="#FFFFFF" link=#003399 vlink=#996699>
<FONT FACE="Verdana, Arial, Helvetica"SIZE="2">

<H3>SQLCA Data Structure</H3><P CLASS="t">The SQLCA data structure contains status information about the Embedded SQL statement that was last executed. The structure definition for SQLCA (from SQLCA.H) looks like this:</P>

<TABLE COLS="4" BORDER="0" CELLPADDING="7"><COLGROUP><COL WIDTH="53pt" VALIGN="TOP"><COL WIDTH="149pt" VALIGN="TOP"><COL WIDTH="121pt" VALIGN="TOP"><COL WIDTH="36pt" VALIGN="TOP"></COLGROUP><TBODY><TR><TD COLSPAN="3" VALIGN="TOP"><P CLASS="spacing"><BR></P>
<PRE><FONT FACE="NEW COURIER" SIZE= "3">// SQL Communication Area - SQLCA</FONT></PRE></TD></TR><TR><TD COLSPAN="3" VALIGN="TOP"><P CLASS="spacing"><BR></P>
<PRE><FONT FACE="NEW COURIER" SIZE= "3">typedef struct sqlca</FONT></PRE></TD></TR><TR><TD COLSPAN="3" VALIGN="TOP"><P CLASS="spacing"><BR></P>
<PRE><FONT FACE="NEW COURIER" SIZE= "3">{</FONT></PRE></TD></TR><TR><TD VALIGN="TOP"><P CLASS="spacing"><BR></P>
<PRE><FONT FACE="NEW COURIER" SIZE= "3"></PRE></TD><TD VALIGN="TOP"><P CLASS="spacing"><BR></P>
<PRE>unsigned char</FONT></PRE></TD><TD COLSPAN="2" VALIGN="TOP"><P CLASS="spacing"><BR></P>
<PRE><FONT FACE="NEW COURIER" SIZE= "3"></PRE></TD></TR><TR><TD VALIGN="TOP"><P CLASS="spacing"><BR></P>
<PRE></FONT></PRE></TD><TD VALIGN="TOP"><P CLASS="spacing"><BR></P>
<PRE><FONT FACE="NEW COURIER" SIZE= "3">sqlcaid[EYECATCH_LEN];</FONT></PRE></TD><TD COLSPAN="2" VALIGN="TOP"><P CLASS="spacing"><BR></P>
<PRE><FONT FACE="NEW COURIER" SIZE= "3">// Eyecatcher = 'SQLCA   '</FONT></PRE></TD></TR><TR><TD VALIGN="TOP"><P CLASS="spacing"><BR></P>
<PRE><FONT FACE="NEW COURIER" SIZE= "3"></PRE></TD><TD VALIGN="TOP"><P CLASS="spacing"><BR></P>
<PRE>long sqlcabc;</FONT></PRE></TD><TD COLSPAN="2" VALIGN="TOP"><P CLASS="spacing"><BR></P>
<PRE><FONT FACE="NEW COURIER" SIZE= "3">// SQLCA size in bytes = 136</FONT></PRE></TD></TR><TR><TD VALIGN="TOP"><P CLASS="spacing"><BR></P>
<PRE><FONT FACE="NEW COURIER" SIZE= "3"></PRE></TD><TD VALIGN="TOP"><P CLASS="spacing"><BR></P>
<PRE>long sqlcode;</FONT></PRE></TD><TD COLSPAN="2" VALIGN="TOP"><P CLASS="spacing"><BR></P>
<PRE><FONT FACE="NEW COURIER" SIZE= "3">// SQL return code</FONT></PRE></TD></TR><TR><TD VALIGN="TOP"><P CLASS="spacing"><BR></P>
<PRE><FONT FACE="NEW COURIER" SIZE= "3"></PRE></TD><TD VALIGN="TOP"><P CLASS="spacing"><BR></P>
<PRE>short sqlerrml;</FONT></PRE></TD><TD COLSPAN="2" VALIGN="TOP"><P CLASS="spacing"><BR></P>
<PRE><FONT FACE="NEW COURIER" SIZE= "3">// Length for SQLERRMC</FONT></PRE></TD></TR><TR><TD VALIGN="TOP"><P CLASS="spacing"><BR></P>
<PRE><FONT FACE="NEW COURIER" SIZE= "3"></PRE></TD><TD VALIGN="TOP"><P CLASS="spacing"><BR></P>
<PRE>unsigned char</FONT></PRE></TD><TD COLSPAN="2" VALIGN="TOP"><P CLASS="spacing"><BR></P>
<PRE><FONT FACE="NEW COURIER" SIZE= "3"></PRE></TD></TR><TR><TD VALIGN="TOP"><P CLASS="spacing"><BR></P>
<PRE></FONT></PRE></TD><TD VALIGN="TOP"><P CLASS="spacing"><BR></P>
<PRE><FONT FACE="NEW COURIER" SIZE= "3">  sqlerrmc[SQLERRMC_SIZ];</FONT></PRE></TD><TD COLSPAN="2" VALIGN="TOP"><P CLASS="spacing"><BR></P>
<PRE><FONT FACE="NEW COURIER" SIZE= "3">// Error message tokens</FONT></PRE></TD></TR><TR><TD VALIGN="TOP"><P CLASS="spacing"><BR></P>
<PRE><FONT FACE="NEW COURIER" SIZE= "3"></PRE></TD><TD VALIGN="TOP"><P CLASS="spacing"><BR></P>
<PRE>unsigned char sqlerrp[8];</FONT></PRE></TD><TD COLSPAN="2" VALIGN="TOP"><P CLASS="spacing"><BR></P>
<PRE><FONT FACE="NEW COURIER" SIZE= "3">// Diagnostic information</FONT></PRE></TD></TR><TR><TD VALIGN="TOP"><P CLASS="spacing"><BR></P>
<PRE><FONT FACE="NEW COURIER" SIZE= "3"></PRE></TD><TD VALIGN="TOP"><P CLASS="spacing"><BR></P>
<PRE>long sqlerrd[6];</FONT></PRE></TD><TD COLSPAN="2" VALIGN="TOP"><P CLASS="spacing"><BR></P>
<PRE><FONT FACE="NEW COURIER" SIZE= "3">// Diagnostic information</FONT></PRE></TD></TR><TR><TD VALIGN="TOP"><P CLASS="spacing"><BR></P>
<PRE><FONT FACE="NEW COURIER" SIZE= "3"></PRE></TD><TD VALIGN="TOP"><P CLASS="spacing"><BR></P>
<PRE>unsigned char sqlwarn[8];</FONT></PRE></TD><TD COLSPAN="2" VALIGN="TOP"><P CLASS="spacing"><BR></P>
<PRE><FONT FACE="NEW COURIER" SIZE= "3">// Warning flags</FONT></PRE></TD></TR><TR><TD VALIGN="TOP"><P CLASS="spacing"><BR></P>
<PRE><FONT FACE="NEW COURIER" SIZE= "3"></PRE></TD><TD VALIGN="TOP"><P CLASS="spacing"><BR></P>
<PRE>unsigned char sqlext[3];</FONT></PRE></TD><TD COLSPAN="2" VALIGN="TOP"><P CLASS="spacing"><BR></P>
<PRE><FONT FACE="NEW COURIER" SIZE= "3">// Reserved</FONT></PRE></TD></TR><TR><TD VALIGN="TOP"><P CLASS="spacing"><BR></P>
<PRE><FONT FACE="NEW COURIER" SIZE= "3"></PRE></TD><TD VALIGN="TOP"><P CLASS="spacing"><BR></P>
<PRE>unsigned char sqlstate[5];</FONT></PRE></TD><TD COLSPAN="2" VALIGN="TOP"><P CLASS="spacing"><BR></P>
<PRE><FONT FACE="NEW COURIER" SIZE= "3">// new member</FONT></PRE></TD></TR><TR><TD VALIGN="TOP"><P CLASS="spacing"><BR></P>
<PRE><FONT FACE="NEW COURIER" SIZE= "3">} SQLCA;</FONT></PRE></TD><TD VALIGN="TOP"><P CLASS="spacing"><BR></P>
<PRE><FONT FACE="NEW COURIER" SIZE= "3"></PRE></TD><TD COLSPAN="2" VALIGN="TOP"><P CLASS="spacing"><BR></P>
<PRE></FONT></PRE></TD></TR></TBODY></TABLE>
<P CLASS="spacing"><BR></P><PRE NM="Ex"></PRE><H4><A NAME="sec0"></A>SQLCA</H4><P CLASS="t">Fields and datatypes for the SQLCA data structure are described in the following table.</P>

<TABLE COLS="2" BORDER="0" CELLPADDING="7"><COLGROUP><COL WIDTH="101pt" VALIGN="TOP"><COL WIDTH="251pt" VALIGN="TOP"></COLGROUP><TBODY><TR><TD COLSPAN="2" VALIGN="TOP"><P CLASS="tr"></P></TD></TR><TR><TD VALIGN="TOP"><P CLASS="thf"><B>Field and C datatype</B></P></TD><TD VALIGN="TOP"><P CLASS="th"><B>Contains</B></P></TD></TR><TR><TD COLSPAN="2" VALIGN="TOP"><P CLASS="tr"></P></TD></TR><TR><TD VALIGN="TOP"><P CLASS="tt"><I>sqlcaid</I></P></TD><TD VALIGN="TOP"><P CLASS="tt"><I></I></P></TD></TR><TR><TD VALIGN="TOP"><P CLASS="tt">    <I>unsigned char</I></P></TD><TD VALIGN="TOP"><P CLASS="tt">The text string SQLCA.</P></TD></TR><TR><TD VALIGN="TOP"><P CLASS="tt"><I>sqlabc</I></P></TD><TD VALIGN="TOP"><P CLASS="tt"><I></I></P></TD></TR><TR><TD VALIGN="TOP"><P CLASS="tt"><I>    long</I></P></TD><TD VALIGN="TOP"><P CLASS="tt">The length of the SQLCA data structure.</P></TD></TR><TR><TD VALIGN="TOP"><P CLASS="tt"><I>sqlcode</I></P></TD><TD VALIGN="TOP"><P CLASS="tt"><I></I></P></TD></TR><TR><TD VALIGN="TOP"><P CLASS="tt"><I>    long</I></P></TD><TD VALIGN="TOP"><P CLASS="tt">The status code for the last-run SQL statement:</P></TD></TR><TR><TD VALIGN="TOP"><P CLASS="tt"><I></I></P></TD><TD VALIGN="TOP"><P CLASS="tt">0    The statement ran without error.</P></TD></TR><TR><TD VALIGN="TOP"><P CLASS="tt"></P></TD><TD VALIGN="TOP"><P CLASS="tt">1    The statement ran, but an exception was generated.</P></TD></TR><TR><TD VALIGN="TOP"><P CLASS="tt"></P></TD><TD VALIGN="TOP"><P CLASS="tt">100    A FETCH statement was issued, but no more rows satisfy the SELECT statement criteria that was used to define the cursor; no rows were processed. </P></TD></TR><TR><TD VALIGN="TOP"><P CLASS="tt"><I></I></P></TD><TD VALIGN="TOP"><P CLASS="tt">&lt; 0 (negative)    The statement did not run due to an application, database, system, or network error.</P></TD></TR><TR><TD VALIGN="TOP"><P CLASS="tt"><I>sqlerrm</I></P></TD><TD VALIGN="TOP"><P CLASS="tt">Error messages that consist of two parts.</P></TD></TR><TR><TD VALIGN="TOP"><P CLASS="tt"><I>    sqlerrml</I></P></TD><TD VALIGN="TOP"><P CLASS="tt">The length of the error message in <I>sqlerrmc</I> (0 to 70).</P></TD></TR><TR><TD VALIGN="TOP"><P CLASS="tt"><I>    short</I></P></TD><TD VALIGN="TOP"><P CLASS="tt"></P></TD></TR><TR><TD VALIGN="TOP"><P CLASS="tt"><I>    sqlerrmc</I></P></TD><TD VALIGN="TOP"><P CLASS="tt">The text of the error message. Error messages that are longer than 70&nbsp;bytes are truncated.</P></TD></TR><TR><TD VALIGN="TOP"><P CLASS="tt"><I>    unsigned char</I></P></TD><TD VALIGN="TOP"><P CLASS="tt"></P></TD></TR><TR><TD VALIGN="TOP"><P CLASS="tt"><I>sqlerrp</I></P></TD><TD VALIGN="TOP"><P CLASS="tt"><I></I></P></TD></TR><TR><TD VALIGN="TOP"><P CLASS="tt"><I>    unsigned char</I></P></TD><TD VALIGN="TOP"><P CLASS="tt">Reserved (diagnostic information).</P></TD></TR><TR><TD VALIGN="TOP"><P CLASS="tt"><I>sqlerrd</I></P></TD><TD VALIGN="TOP"><P CLASS="tt"><I></I></P></TD></TR><TR><TD VALIGN="TOP"><P CLASS="tt"><I>    long</I></P></TD><TD VALIGN="TOP"><P CLASS="tt">An array of six <I>integer </I>status codes (the codes that are not listed in the fields below are reserved).</P></TD></TR><TR><TD VALIGN="TOP"><P CLASS="tt"><I>    sqlerrd[1]</I></P></TD><TD VALIGN="TOP"><P CLASS="tt">SQL&nbsp;Server error number.</P></TD></TR><TR><TD VALIGN="TOP"><P CLASS="tt"><I>    sqlerrd[2]</I></P></TD><TD VALIGN="TOP"><P CLASS="tt">SQL&nbsp;Server severity level.</P></TD></TR><TR><TD VALIGN="TOP"><P CLASS="tt"><I>    sqlerrd[3]</I></P></TD><TD VALIGN="TOP"><P CLASS="tt">The number of rows affected.</P></TD></TR><TR><TD VALIGN="TOP"><P CLASS="tt"><I>    sqlwarn</I></P></TD><TD VALIGN="TOP"><P CLASS="tt">Eight warning flags, each containing a blank or W (those not listed in the fields below are reserved):</P></TD></TR><TR><TD VALIGN="TOP"><P CLASS="tt"><I>sqlwarn[0]</I></P></TD><TD VALIGN="TOP"><P CLASS="tt"><I></I></P></TD></TR><TR><TD VALIGN="TOP"><P CLASS="tt"><I>    unsigned char</I></P></TD><TD VALIGN="TOP"><P CLASS="tt">A summary of all warning fields. Blank indicates no warnings.</P></TD></TR><TR><TD VALIGN="TOP"><P CLASS="tt"><I>sqlwarn[1]</I></P></TD><TD VALIGN="TOP"><P CLASS="tt"><I></I></P></TD></TR><TR><TD VALIGN="TOP"><P CLASS="tt"><I>    unsigned char</I></P></TD><TD VALIGN="TOP"><P CLASS="tt">W indicates that a character string was truncated during output binding.</P></TD></TR><TR><TD VALIGN="TOP"><P CLASS="tt"><I>sqlwarn[2]</I></P></TD><TD VALIGN="TOP"><P CLASS="tt"><I></I></P></TD></TR><TR><TD VALIGN="TOP"><P CLASS="tt"><I>    unsigned char</I></P></TD><TD VALIGN="TOP"><P CLASS="tt">Not used.</P></TD></TR><TR><TD VALIGN="TOP"><P CLASS="tt"><I>sqlwarn[3]</I></P></TD><TD VALIGN="TOP"><P CLASS="tt"><I></I></P></TD></TR><TR><TD VALIGN="TOP"><P CLASS="tt"><I>    unsigned char</I></P></TD><TD VALIGN="TOP"><P CLASS="tt">W indicates that the number of columns does not match the number of host variables.</P></TD></TR><TR><TD VALIGN="TOP"><P CLASS="tt"><I>sqlext</I></P></TD><TD VALIGN="TOP"><P CLASS="tt"><I></I></P></TD></TR><TR><TD VALIGN="TOP"><P CLASS="tt"><I>    unsigned char</I></P></TD><TD VALIGN="TOP"><P CLASS="tt">Reserved. </P></TD></TR><TR><TD VALIGN="TOP"><P CLASS="tt"><I>sqlstate</I></P></TD><TD VALIGN="TOP"><P CLASS="tt"><I></I></P></TD></TR><TR><TD VALIGN="TOP"><P CLASS="tt"><I>    unsigned char</I></P></TD><TD VALIGN="TOP"><P CLASS="tt">SQLSTATE runtime error codes.</P></TD></TR></TBODY></TABLE>
<P CLASS="spacing"><BR></P><P></P>
<P></P>
<P CLASS="wh"><B>Warning</B></P>
<P CLASS="nt">If the number of host variables and parameter markers does not match, SQLWARN3 is set to W. This condition is considered an exception (SQLCODE is set to +1). Exceeding the number of host variables or SQLDA data structure entries is fatal (SQLCODE<I> </I>= –19313). During a FETCH statement or a singleton select statement, SQLWARN3 is set if the number of columns is not equal to the number of host variables (or SQLDA data structure entries). The lower of the two is the number of items that are actually processed. For more information about SQLCA, see "Using the SQLCA Data Structure," in Chapter 2, "Embedded SQL Programming." </P>
<P></P>
</FONT>
</BODY>
</HTML>
