<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text-html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>IDE Controller Requirements</title>
<style>@import url(/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="/msdn_ie3.css"></HEAD>
<BODY BGCOLOR=#FFFFFF TEXT=#000000>

<font face="verdana,arial,helvetica" size="2"><form name=x><object name=iv classid="clsid:9c2ac687-ceef-11cf-96d9-00a0c903b016">
</object></form>
<h1><a name="idecontrollerrequirements"></a>IDE Controller Requirements</h1>
<p>
This section summarizes the specifications and standards for Windows-compatible IDE controllers.</p>
<p>
<b>1. Controller complies with ATA-2 specification</h1>
<table border=1 cols=3 frame=void rules=rows>
<tr valign=top>
<td width=30%><b>Required</b></td>
<td width=30%></td>
<td width=30%></td>
</tr>
</table><br>
<p>
Recommended: ATA-3 compliance.</p>
<p>
All IDE adapters (and peripherals) must meet the hardware and software design requirements listed in the current version of the <i>AT&nbsp;Attachment 2 </i>specification.</p>
<p>
<b>2. Bootable IDE controller supports El Torito No Emulation mode</h1>
<table border=1 cols=3 frame=void rules=rows>
<tr valign=top>
<td width=30%><b>Required</b></td>
<td width=30%></td>
<td width=30%></td>
</tr>
</table><br>
<p>
A bootable IDE storage controller must support the No Emulation mode defined in <i>El Torito—Bootable CD-ROM Format Specification, Version 1.0,</i> by IBM and Phoenix, or an equivalent method that supports the Windows&nbsp;NT CD-ROM installation process.</p>
<p>
<b>3. System BIOS and option ROMs support Int 13h Extensions</h1>
<table border=1 cols=3 frame=void rules=rows>
<tr valign=top>
<td width=30%><b>Required</b></td>
<td width=30%></td>
<td width=30%></td>
</tr>
</table><br>
<p>
The Int 13h Extensions ensure correct support for high-capacity drives, consistent drive-letter mapping between real mode and protected mode, and other capabilities for both Windows and Windows&nbsp;NT. Support for the fixed-disk access subset of Int 13h Extensions must be provided in the system BIOS and in any option ROMs for storage devices that include BIOS support.</p>
<p>
The Int 13h Extensions are defined in the Windows&nbsp;NT 5.0 DDK and in the “Layered Block Device Drivers” section of the Windows 98 DDK.</p>
<p>
<b>4. Controller and peripherals support media status notification</h1>
<table border=1 cols=3 frame=void rules=rows>
<tr valign=top>
<td width=30%><b>Required</b></td>
<td width=30%></td>
<td width=30%></td>
</tr>
</table><br>
<p>
For CD-ROM and DVD-ROM, manufacturers must comply with all provisions defined in the Media Status Event Notification subsection of SFF&nbsp;8090 (Mt. Fuji specification). This specification is available from the SFF&nbsp;Committee and from ftp://fission.dt.wdc.com/pub/standards/SFF/specs/.</p>
<p>
For ATAPI floppy drives, manufacturers must implement media status notification as defined in SFF&nbsp;8070.</p>
<p>
For other ATA and ATAPI devices, <i>Media Status Notification Support Specification, Version</i> <i>1.03</i> or higher, by Microsoft Corporation, defines the protocol to use for communicating about the current state of removable media. This specification is available at http://www.microsoft.com/hwdev/specs/.</p>
<p>
For other ATAPI devices such as tape drives, media status notification is not required, but if it is implemented, the support must comply with SFF&nbsp;8090.</p>
<p>
<b>Important: </b>For CD-ROM and DVD-ROM devices, do not use <i>Media Status Notification Support Specification, Version 1.03</i> or earlier, as the guideline for implementing status notification on optical storage devices. This specification does not apply to optical storage devices because it does not contain packet-based support.</p>
<p>
<b>5. Dual IDE adapters use single FIFO with asynchronous access or dual FIFOs and channels</h1>
<table border=1 cols=3 frame=void rules=rows>
<tr valign=top>
<td width=30%><b>Required</b></td>
<td width=30%></td>
<td width=30%></td>
</tr>
</table><br>
<p>
PCI dual IDE adapters must be designed so that either channel might be used at any time; that is, the operating system does not have to serialize access between the primary and secondary channel at any time. This means either that the two channels are totally independent or that anything shared, such as a programmed I/O (PIO) read pre-fetch buffer, is protected by a hardware arbitrator.</p>
<p>
A design implementing a single first in/first out (FIFO) that uses a hardware solution to synchronize access to both channels meets this requirement if the design does not require that a request on one channel be completed before another can be started.</p>
<p>
Section&nbsp;5.0 of the<i> Compaq, Intel, Phoenix BIOS Boot Specification</i> defines the implementation for dual asynchronous channels.</p>
<p>
Dual-channel controllers that require special software to serialize channel I/O for a single prefetch FIFO do not meet these requirements. Such designs require serial access to one of four devices, defeating the primary advantage of asynchronous dual-channel controllers. Furthermore, such devices are non-standard and require custom driver support.</p>
<p>
The introduction of non-standard IDE hardware is strongly discouraged because it negatively impacts traditional compatibility of the IDE interface. Notice, however, that dual-channel controllers which do not require special software to serialize channel I/O do meet these requirements.</p>
<p>
<b>6. System BIOS and devices support LBA</h1>
<table border=1 cols=3 frame=void rules=rows>
<tr valign=top>
<td width=30%><b>Required</b></td>
<td width=30%></td>
<td width=30%></td>
</tr>
</table><br>
<p>
To enable support for IDE disk drives that are larger than 528&nbsp;MB, the system BIOS must use a logical block addressing (LBA) scheme that is compatible with the BIOS/CMOS and IDE register set constraints. The system BIOS must also be able to enable and disable block mode, and must be able to disable 32-bit mode.</p>
<p>
Although ATAPI was defined to be transparent to the BIOS, the BIOS must recognize the presence of ATAPI devices using the signature defined in SFF&nbsp;8020i. In some cases, without such support, the BIOS might fail to configure&nbsp;the adapter if it does not see a device.</p>
<p>
<b>7. Controller and peripherals support PCI IDE bus mastering</h1>
<table border=1 cols=3 frame=void rules=rows>
<tr valign=top>
<td width=30%><b>Required</b></td>
<td width=30%></td>
<td width=30%></td>
</tr>
</table><br>
<p>
The programming register set for PCI IDE bus master DMA is defined in SFF&nbsp;8038i. IDE drives must comply with SFF&nbsp;8038i to ensure fully featured hardware and Windows-compatible device driver support.</p>
<p>
With ATAPI CD-ROM, PIO demands placed on the system CPU can have a&nbsp;negative impact on performance and application processing, especially for multimedia. Bus master DMA IDE adapters, which leverage local bus data rates, can provide higher data rates and the ability to offload the system CPU from I/O&nbsp;transfers.</p>
<p>
Other factors that encourage the adoption of bus master DMA include the increased disk media transfer rates, plus demands made by multitasking operating systems and multichannel/multidevice IDE configurations.</p>
<p>
Controllers and peripherals must also support Ultra&nbsp;DMA/33 (also known as Ultra-ATA) as defined in the “ATAPI Peripheral General Requirements” section later in this chapter.</p>
<p>
<b>8. Controller and peripheral connections include Pin 1 cable designation with keyed and shrouded connectors</h1>
<table border=1 cols=3 frame=void rules=rows>
<tr valign=top>
<td width=30%><b>Required</b></td>
<td width=30%></td>
<td width=30%></td>
</tr>
</table><br>
<p>
Pin 1 orientation must be designated by one edge of the keyed ribbon cable and also on the keyed connector of the IDE or ATAPI controller and peripheral device. Designation of the keyed connector must be clearly indicated on or near the connector.</p>
</font></BODY>
</HTML>
