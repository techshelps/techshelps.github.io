<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text-html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>PROTECTED-MODE TFTP/MTFTP READ FILE</title>
<style>@import url(/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="/msdn_ie3.css"></HEAD>
<BODY BGCOLOR=#FFFFFF TEXT=#000000>

<font face="verdana, arial, helvetica" size="2"><h1>
PROTECTED-MODE TFTP/MTFTP READ FILE</h1>
<table cols=2>
<tr valign=top>
<td width=108pt>Op-Code:</td>
<td width=330pt><code>PXENV_TFTP_READ_FILE_PMODE</code></td>
</tr>
<tr valign=top>
<td width=108pt>Input:</td>
<td width=330pt>ES:DI points to a <code>t_PXENV_TFTP_READ_FILE_PMODE</code> parameter structure that has been initialized by the caller.</td>
</tr>
<tr valign=top>
<td width=108pt>Output:</td>
<td width=330pt><code>PXENV_EXIT_SUCCESS</code> or <code>PXENV_EXIT_FAILURE</code> will be returned in AX, with the CF set accordingly. The status field in the parameter structure will be set to one of the values represented by the <code>PXENV_STATUS_xxx</code> constants. When a read is successful, the <code>PacketCount</code> and <code>PacketLength</code> fields will also be filled in.</td>
</tr>
<tr valign=top>
<td width=108pt>Description:</td>
<td width=330pt>This service will open a TFTP or MTFTP connection, download the entire file, and close the connection.  It is up to the caller to make sure that there is enough free memory to download the file into.<p>
For example, you cannot download a 2-MB file into base memory (below 640K).</p>
</td>
</tr>
<tr valign=top>
<td width=108pt>Note:</td>
<td width=330pt>UDP open must be called before UDP read or write can be used after transferring a file with this service.<p>
This service cannot be called while in real mode.</p>
</td>
</tr>
</table><br>
</font></BODY>
</HTML>
