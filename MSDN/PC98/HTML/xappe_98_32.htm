<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text-html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Installation Service Reply</title>
<style>@import url(/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="/msdn_ie3.css"></HEAD>
<BODY BGCOLOR=#FFFFFF TEXT=#000000>

<font face="verdana, arial, helvetica" size="2"><h1>
Installation Service Reply</h1>
<p>
In this state, the client must be prepared to receive an <i>extended</i> DHCPACKNOWLEDGE message from the installation server. The following table lists the required values in the fields of this message:</p>
<table border=1 cols=1 frame=box rules=all>
<tr valign=top>
<td width=437pt><b>DHCP Header</b></td>
</tr>
<tr valign=top>
<td width=145pt><i>Field (length)</i></td>
<td width=76pt><i>Value</i></td>
<td width=216pt><i>Comment</i></td>
</tr>
<tr valign=top>
<td width=145pt>op (1)</td>
<td width=76pt>2</td>
<td width=216pt>Code for BOOTP REPLY</td>
</tr>
<tr valign=top>
<td width=145pt>htype (1)</td>
<td width=76pt>*</td>
<td width=216pt></td>
</tr>
<tr valign=top>
<td width=145pt>hlen (1)</td>
<td width=76pt>*</td>
<td width=216pt></td>
</tr>
<tr valign=top>
<td width=145pt>hops (1)</td>
<td width=76pt>*</td>
<td width=216pt></td>
</tr>
<tr valign=top>
<td width=145pt>xid (4)</td>
<td width=76pt>*</td>
<td width=216pt></td>
</tr>
<tr valign=top>
<td width=145pt>secs (2)</td>
<td width=76pt>*</td>
<td width=216pt></td>
</tr>
<tr valign=top>
<td width=145pt>flags (2)</td>
<td width=76pt>*</td>
<td width=216pt></td>
</tr>
<tr valign=top>
<td width=145pt>ciaddr (4)</td>
<td width=76pt>0.0.0.0</td>
<td width=216pt>PXE client always sets this value to 0.0.0.0</td>
</tr>
<tr valign=top>
<td width=145pt>yiaddr (4)</td>
<td width=76pt>a0, a1, a2, a3</td>
<td width=216pt>Client&rsquo&rsquo;s IP address.  Provided by server</td>
</tr>
<tr valign=top>
<td width=145pt>siaddr (4)</td>
<td width=76pt>a0, a1, a2, a3</td>
<td width=216pt>Next bootstrap server IP address</td>
</tr>
<tr valign=top>
<td width=145pt>giaddr (4)</td>
<td width=76pt>*</td>
<td width=216pt></td>
</tr>
<tr valign=top>
<td width=145pt>chaddr (16)</td>
<td width=76pt>*</td>
<td width=216pt>Client&rsquo&rsquo;s MAC address</td>
</tr>
<tr valign=top>
<td width=145pt>sname (64)</td>
<td width=76pt>*</td>
<td width=216pt>Can be overloaded if using Opt 66</td>
</tr>
<tr valign=top>
<td width=145pt>bootfile (128)</td>
<td width=76pt>*</td>
<td width=216pt>Can be overloaded if using Opt 67</td>
</tr>
<tr valign=top>
<td width=437pt>99.130.83.99</td>
</tr>
<tr valign=top>
<td width=437pt><b>DHCP Options</b></td>
</tr>
<tr valign=top>
<td width=117pt><i>Tag Name</i></td>
<td width=59pt><i>Tag Number</i></td>
<td width=45pt><i>Length</i></td>
<td width=54pt><i>Type</i></td>
<td width=162pt><i>Data Field</i></td>
</tr>
<tr valign=top>
<td width=117pt>Client UUID/GUID</td>
<td width=59pt>97</td>
<td width=45pt>17</td>
<td width=54pt>20</td>
<td width=162pt><i>per Attachment K</i></td>
</tr>
<tr valign=top>
<td width=117pt><i>Tag Name</i></td>
<td width=77pt><i>Tag Number</i></td>
<td width=81pt><i>Length Field</i></td>
<td width=162pt><i>Data Field</i></td>
</tr>
<tr valign=top>
<td width=117pt>DHCP Message Type</td>
<td width=77pt>53</td>
<td width=81pt>1</td>
<td width=162pt>4 = DHCPACKNOWLEDGE</td>
</tr>
<tr valign=top>
<td width=117pt>Server Identifier</td>
<td width=77pt>54</td>
<td width=81pt>4</td>
<td width=162pt>a1, a2, a3, a4</td>
</tr>
<tr valign=top>
<td width=437pt><b>Encapsulated Vendor Options (DHCP Option #43)</b></td>
</tr>
<tr valign=top>
<td width=117pt><i>Tag Name</i></td>
<td width=77pt><i>Tag Number</i></td>
<td width=81pt><i>Length Field</i></td>
<td width=162pt><i>Data Field</i></td>
</tr>
<tr valign=top>
<td width=117pt>DHCP_VENDOR</td>
<td width=77pt>43</td>
<td width=81pt>varies</td>
<td width=162pt>Encapsulated options below</td>
</tr>
<tr valign=top>
<td width=437pt>(Multiple DHCP_VENDOR options can be used)</td>
</tr>
<tr valign=top>
<td width=437pt><b>"PXEClient" Encapsulated Options for DHCP Option #43</b></td>
</tr>
<tr valign=top>
<td width=117pt><i>Tag Name</i></td>
<td width=77pt><i>Tag Number</i></td>
<td width=81pt><i>Length Field</i></td>
<td width=162pt><i>Data Field</i></td>
</tr>
<tr valign=top>
<td width=117pt>PXE_PAD</td>
<td width=77pt>0</td>
<td width=81pt>None</td>
<td width=162pt>None</td>
</tr>
<tr valign=top>
<td width=117pt>MTFP IP Addr</td>
<td width=77pt>1</td>
<td width=81pt>4</td>
<td width=162pt>a0, a1, a2, a3</td>
</tr>
<tr valign=top>
<td width=117pt>MTFTP Client UDP </td>
<td width=77pt>2</td>
<td width=81pt>2</td>
<td width=162pt>Port Number</td>
</tr>
<tr valign=top>
<td width=117pt>MTFTP Server UDP </td>
<td width=77pt>3</td>
<td width=81pt>2</td>
<td width=162pt>Port Number</td>
</tr>
<tr valign=top>
<td width=117pt>MTFTP Start Delay</td>
<td width=77pt>4</td>
<td width=81pt>1</td>
<td width=162pt></td>
</tr>
<tr valign=top>
<td width=117pt>MTFTP Timeout Delay</td>
<td width=77pt>5</td>
<td width=81pt>1</td>
<td width=162pt></td>
</tr>
<tr valign=top>
<td width=117pt>PXE_END</td>
<td width=77pt>255</td>
<td width=81pt>None</td>
<td width=162pt></td>
</tr>
</table><br>
<p>
The options fields in this message must include the following:
<ul>
<li>
The Installation Server must direct the client to a TFTP server by responding with <i>siaddr</i> filled in. (Usually, the TFTP Server resides on the same machine, so <i>siaddr </i>would be set to null.)<br><br></li>
<li>
Client UUID/GUID if received from the client<br><br></li>
<li>
Server Identifier (address of the responding Installation server)<br><br></li>
<li>
Bootfile Name if Option 52 (Option Overload) is used.<br><br></li>
<li>
<i>System architecture</i> indicating architecture the <i>bootfile</i> supports. <i>System architecture</i> value must be the same as received by the client to insure proper operation of the <i>bootfile</i>.<p>
After receiving this message, the client moves to the executable download state.
</li>
</ul>
</font></BODY>
</HTML>
