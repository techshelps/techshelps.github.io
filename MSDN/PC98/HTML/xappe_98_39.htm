<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text-html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Memory Usage</title>
<style>@import url(/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="/msdn_ie3.css"></HEAD>
<BODY BGCOLOR=#FFFFFF TEXT=#000000>

<font face="verdana, arial, helvetica" size="2"><h1>
Memory Usage</h1>
<p>
The following table describes the usage of the first megabyte of the client&rsquo&rsquo;s main memory when execution of the downloaded bootstrap is initiated.</p>
<h1>Memory Usage During Execution of Downloaded Bootstrap</h1>
<table border=1 cols=4 frame=hsides rules=rows>
<tr valign=top>
<td width=108pt><b>Address</b></td>
<td width=84pt><b>Status</b></td>
<td width=126pt><b>Preboot services usage</b></td>
<td width=120pt><b>Conventional usage</b></td>
</tr>
<tr valign=top>
<td width=108pt>0<p>
3FF</p>
</td>
<td width=84pt>RESERVED, except for Vector 1Ah at 0:68h.</td>
<td width=126pt>Vector 1Ah is used to export the preboot services API.</td>
<td width=120pt>Interrupt Vector Table</td>
</tr>
<tr valign=top>
<td width=108pt>400<p>
4FF</p>
</td>
<td width=84pt>RESERVED, except for the 16-bit word at 40:13h</td>
<td width=126pt>The 16-bit word at 40:13h is the size of free base memory in KB (SFBM/400h).</td>
<td width=120pt>BIOS Data Area</td>
</tr>
<tr valign=top>
<td width=108pt>500<p>
6FF</p>
</td>
<td width=84pt>RESERVED</td>
<td width=126pt></td>
<td width=120pt>DOS Data Area</td>
</tr>
<tr valign=top>
<td width=108pt>700<p>
7BFF</p>
</td>
<td width=84pt>RESERVED</td>
<td width=126pt></td>
<td width=120pt>IO.SYS Load Area</td>
</tr>
<tr valign=top>
<td width=108pt>7C00<p>
10000</p>
</td>
<td width=84pt></td>
<td width=126pt>Downloaded Bootstrap</td>
<td width=120pt></td>
</tr>
<tr valign=top>
<td width=108pt>10000<p>
10000+SFBM-1</p>
</td>
<td width=84pt></td>
<td width=126pt>Free base memory</td>
<td width=120pt></td>
</tr>
<tr valign=top>
<td width=108pt>10000+SFBM<p>
(SS:SP)</p>
</td>
<td width=84pt></td>
<td width=126pt>Preboot Services CPU Stack (unused)</td>
<td width=120pt></td>
</tr>
<tr valign=top>
<td width=108pt>(SS:SP)+1<p>
9FFFF</p>
</td>
<td width=84pt>RESERVED</td>
<td width=126pt>Preboot Services CPU Stack (used by Preboot Services)<p>
Preboot Services Code <br>
and Data</p>
<p>
Extended BIOS Data Area (possibly)</p>
</td>
<td width=120pt></td>
</tr>
<tr valign=top>
<td width=108pt>A0000<p>
BFFFF</p>
</td>
<td width=84pt>RESERVED</td>
<td width=126pt></td>
<td width=120pt>Video Memory</td>
</tr>
<tr valign=top>
<td width=108pt>C0000<p>
C7FFF</p>
</td>
<td width=84pt>RESERVED</td>
<td width=126pt></td>
<td width=120pt>Video BIOS</td>
</tr>
<tr valign=top>
<td width=108pt>C8000<p>
DFFFF</p>
</td>
<td width=84pt>RESERVED</td>
<td width=126pt></td>
<td width=120pt>Other BIOS / Upper Memory</td>
</tr>
<tr valign=top>
<td width=108pt>E0000<p>
EFFFF</p>
</td>
<td width=84pt>RESERVED</td>
<td width=126pt>Contains a unique <br>
system ID structure.</td>
<td width=120pt>Other BIOS / Upper Memory / System BIOS</td>
</tr>
<tr valign=top>
<td width=108pt>F0000<p>
FFFFF</p>
</td>
<td width=84pt>RESERVED</td>
<td width=126pt>Contains a unique <br>
system ID structure.</td>
<td width=120pt>System BIOS</td>
</tr>
</table><br>
<p>
<b>Free Memory Size (Bios Data Area). </b>When execution of the downloaded bootstrap begins, the 16-bit word at memory address 40:13h must contain the amount of free base memory in KB.</p>
<p>
<b>Preboot Services Stack. </b>When execution of the downloaded bootstrap is begun, SS:SP is to contain the address of the top of the unused portion of the preboot services CPU stack. The downloaded image should not modify the used portion of the preboot services CPU stack prior to the time in the boot sequence when it is certain that the preboot services will not be needed again.</p>
<p>
<b>Preboot Services Code and Data. </b>This memory area is reserved for the code and data that implement the preboot services. These locations should not be modified by the downloaded image prior to the time in the boot sequence, when it is certain that the preboot services will not be needed again.</p>
<p>
<b>Extended BIOS Data. </b>If EBDA has been allocated, the downloaded image should not modify memory in the EBDA.</p>
<p>
<b>PXENV Unique System ID (SYSID Bios Area). </b>When execution of the download bootstrap begins, the client&rsquo&rsquo;s main memory must contain a PXENV unique system ID structure. This structure must meet the following conditions:
<ul>
<li>
Entry Point Structure - This will be found in the 000E0000h to 000FFFFFh physical address area of Memory/RAM. <i><b> </b>The Entry Point Structure is PARAGRAPH Aligned.</i><p>
<b>Entry Point Structure</b>
</li>
</ul>
<table border=1 cols=3 frame=void rules=all>
<tr valign=top>
<td width=114pt><b>Element</b></td>
<td width=54pt><b>Length</b></td>
<td width=189pt><b>Description</b></td>
</tr>
<tr valign=top>
<td width=114pt>Header/Type</td>
<td width=54pt>7 Bytes</td>
<td width=189pt>_SYSID_</td>
</tr>
<tr valign=top>
<td width=114pt>Checksum</td>
<td width=54pt>1 Byte</td>
<td width=189pt>Checksum of SYSID BIOS Entry Point Structure</td>
</tr>
<tr valign=top>
<td width=114pt>Length</td>
<td width=54pt>2 Bytes</td>
<td width=189pt>Total length of SYSID BIOS Structure Table (Set to 011h).</td>
</tr>
<tr valign=top>
<td width=114pt>SYSID BIOS Structure Table Address</td>
<td width=54pt>4 Bytes</td>
<td width=189pt>32 bit physical address of beginning of SYSID BIOS Structure Table.  <i>This value is BYTE Aligned.</i></td>
</tr>
<tr valign=top>
<td width=114pt>Number of SYSID BIOS Structures</td>
<td width=54pt>2 Bytes</td>
<td width=189pt>Total number of structures within the SYSID BIOS Structure Table.</td>
</tr>
<tr valign=top>
<td width=114pt>SYSID BIOS Revision</td>
<td width=54pt>1 Byte</td>
<td width=189pt>Revision of the SYSID BIOS Extensions (Set to 00h).</td>
</tr>
</table><br>
</font></BODY>
</HTML>
