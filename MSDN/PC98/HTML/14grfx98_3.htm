<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text-html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Hardware Acceleration for Video Playback</title>
<style>@import url(/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="/msdn_ie3.css"></HEAD>
<BODY BGCOLOR=#FFFFFF TEXT=#000000>

<font face="verdana,arial,helvetica" size="2"><form name=x><object name=iv classid="clsid:9c2ac687-ceef-11cf-96d9-00a0c903b016">
</object></form>
<h1><a name="hardwareaccelerationforvideoplayback"></a>Hardware Acceleration for Video Playback</h1>
<p>
This section presents the PC 98 requirements for graphics adapters support for video playback.</p>
<p>
<b>13. Adapter supports video overlay surface with scaling</h1>
<table cols=3>
<tr valign=top>
<td width=30%><i>Consumer PC 98</i></td>
<td width=30%><i>Office PC 98</i></td>
<td width=30%><i>Entertainment PC 98</i></td>
</tr>
<tr valign=top>
<td colspan=3 width=100%></td>
</tr>
<tr valign=top>
<td width=168><b>Required</b></td>
<td width=140><b>Required</b></td>
<td width=30%><b>Required</b></td>
</tr>
</table><br>
<p>
The graphics adapter must be able to support a minimum of one off-screen video overlay surface the has following characteristics:
<ul>
<li>
<b>Size. </b>Support 720&nbsp;×&nbsp;480 or larger.<br><br></li>
<li>
<b>Screen Resolutions. </b>The video overlay must be fully operative at a minimum screen resolution of 800&nbsp;×&nbsp;600 at 60 Hz and color depths of 8 bpp and 16 bpp.</li>
</ul><p>
Recommended: Full support at 1280&nbsp;×&nbsp;1024 and below, with color depths of 8, 16, 24, and 32 bpp.</P>
<ul><li>
<b>Color formats.</b> The required formats include the following:<br><br></li>
<li>
YUV 4:2:2 YUY2: A packed-pixel byte stream for every pixel in the order of Y1,&nbsp;U,&nbsp;Y2, V.<br><br></li>
<li>
YUV 4:2:2 UYVY: A packed-pixel byte stream for every pixel in the order of U,&nbsp;Y1,&nbsp;V, Y2.<br><br></li>
<li>
YUV 4:2:0 YV12: A system-board byte stream for the entire plane in the order of Y plane, V plane, U plane.</li>
</ul><p>
The YUV color space and intensity range are defined by the ITU-R BT.601-4 standard (previously called CCIR-601), where U is CB and V is CR. These formats use less memory while maintaining high quality, and YUV is the native format for many image and video compression standards.</P>
<ul><li>
<b>Scaling. </b>Up/down scaling to any size window, with bilinear interpolation (referred to as “hardware arithmetic stretching” in <i>PC&nbsp;97 Hardware Design&nbsp;Guide</i>).</li>
</ul>
<p>
For Consumer PC 98 and Office PC 98, the down-scaling hardware must support bilinear interpolation or better for size reductions from 1:1 up to a 2:1&nbsp;ratio. For Entertainment PC 98, bilinear interpolation or better is required for all size reductions. Notice that for down-scaling ratios greater than 2:1, other filtering techniques might provide higher quality images and better performance.</P>
<p>
Recommended: Additional independent and resizable overlays for support of&nbsp;picture-in-picture (PIP) video features and multiple video conferencing windows. For example, the graphics adapter should support overlay using a different color key, or one overlay using a color key while another does not. The support should also allow the overlays to be zoomed independently.</P>
<p>
<b>14. Hardware supports VGA destination color keying for video rectangle</b>
</p>
<table cols=3>
<tr valign=top>
<td width=30%><i>Consumer PC 98</i></td>
<td width=30%><i>Office PC 98</i></td>
<td width=30%><i>Entertainment PC 98</i></td>
</tr>
<tr valign=top>
<td colspan=3 width=100%></td>
</tr>
<tr valign=top>
<td width=30%><b>Required</b></td>
<td width=30%><b>Required with DVD-Video</b></td>
<td width=30%><b>Required </b></td>
</tr>
</table><br>
<p>
Recommended: Support for alpha-blended overlay per pixel to support DVD-Video subpicture information and enhanced user interface designs.</p>
<p>
This is a requirement for video overlays. The compositing of the video plane under the VGA plane with the VGA pixels must be independently controllable for each VGA pixel. This VGA destination color keying must function in all video modes, using either a specific color/color range (on 4-bit, 8-bit, 16-bit, and 24-bit SVGA modes) or additional alpha blending bits in the color plane bits (on 15-bit and 32-bit SVGA modes).</p>
<p>
This color keying of the VGA will allow certain VGA pixels to be replaced by the&nbsp;underlying video pixels on a pixel-by-pixel basis. This feature enables VGA video overlays, controls, Windows pop-up menus, dialog boxes, and so on. Color keying must also work at the same time as any vertical/horizontal scaling that is active for the underlying video.</p>
<p>
<b>15. Video port meets PC&nbsp;98 specifications if present on graphics adapter</h1>
<table cols=3>
<tr valign=top>
<td width=30%><i>Consumer PC 98</i></td>
<td width=30%><i>Office PC 98</i></td>
<td width=30%><i>Entertainment PC 98</i></td>
</tr>
<tr valign=top>
<td colspan=3 width=100%></td>
</tr>
<tr valign=top>
<td width=30%><b>Required</b></td>
<td width=30%><b>Required</b></td>
<td width=30%><b>Required </b></td>
</tr>
</table><br>
<p>
All graphics adapters that use a video port connection or that enable end users to make such a connection to a video device are subject to this requirement.</p>
<p>
The video port is a dedicated connection between video devices, such as an MPEG-2 decoder or TV tuner, and the graphics adapter, either implemented as a hard-wired connection on the same board as the graphics adapter or implemented between separate devices using a cable connection.</p>
<p>
PC 98 systems are required to use a video port connection for hardware MPEG-2 decoders. It is also recommended that a video port connection be used for television tuners.</p>
<p>
For a graphics adapter that includes a video port, for MPEG-2 or otherwise, the following requirements must be met:
<ul>
<li>
<b>Accessibility. </b>The video port must be accessible directly from an on-board decoder. The video port must also be accessible from decoders on separate cards using a cable connection.<br><br></li>
<li>
<b>Autoflipping. </b>The video port must support automated overlay and video port buffer flip on video port Vsync.<br><br></li>
<li>
<b>IRQ. </b>The video port must generate an interrupt request (IRQ) when vertical synchronization (Vsync) occurs. The kernel-mode video transport component of DirectDraw 5.0 can use this IRQ to perform autoflips. This capability allows fields to be skipped by the video port and also prevents an irregular synchronization from overwriting its buffers. This also enables capture of video port and vertical blanking interval (VBI) data.<br><br></li>
<li>
<b>Driver. </b>The driver must support DirectDraw VPE, which provides a key element of video playback support in DirectX 5.0. This support, as documented in the DirectX 5.0 DDK, must be incorporated to ensure that the&nbsp;graphics adapter and video port take advantage of VPE capabilities in the&nbsp;operating system.</li>
</ul><p>
For more information, see the white paper on DirectDraw VPE and kernel-mode video transport at http://www.microsoft.com/hwdev/devdes/.</P><BR><p>
Recommended: The following hardware design guidelines are recommended to support high-quality video playback:
</p>
<ul><li>
<b>Maximum height.</b> The graphics adapter should support a register that limits the maximum height of the field that gets written into memory.<br><br></li>
<li>
<b>Separate pitch and start addresses.</b> The overlay and the video port should support separate pitch and start addresses. This allows the bob algorithm to be used while the video is interleaved, which makes switching between bob and weave modes possible.<br><br></li>
<li>
<b>Standard video port.</b> It is expected that an advanced video port specification will be standardized by the VESA Video Port committee within the PC 98 time frame. It is strongly recommended that MPEG-2 implementations on all PC systems and retail adapters comply with this standard as soon as possible after standardization. This will become a requirement in future versions of these design guidelines.</li>
</ul>
<p>
For more information about requirements related to video ports, see the “System Requirements for Video and Broadcast Components” section of the “Video and Broadcast Components” chapter in Part&nbsp;4 of this guide.</p>
<p>
<b>16. Adapter supports MPEG-2 motion compensation acceleration</b>
</p>
<table cols=3>
<tr valign=top>
<td width=30%><b>Recommended </b></td>
<td width=30%></td>
<td width=30%></td>
</tr>
</table><br>
<p>
For products that use MPEG-2 software decoders, MPEG-2 motion compensation acceleration is recommended. Microsoft plans to support motion compensation acceleration under DirectX in 1998.</p>
<p>
Specifically, this recommendation refers, but is not limited, to the following:
<ul>
<li>
Motion compensation of YUV 4:2:0 planar surfaces (versus YUV 4:2:2 packed pixel surfaces) to decrease system memory bandwidth requirements<br><br></li>
<li>
Full-precision motion compensation (for example, use 9 bits for an 8-bit signed error term) to prevent degradation of video quality<br><br></li>
<li>
Bus mastering of error terms and vectors to and from AGP memory (versus system memory) to increase memory bandwidth and CPU cache efficiencies</li>
</ul><p>
For more guidelines on MPEG-2 video performance and quality, see the “Video and Broadcast Components” chapter in Part&nbsp;4 of this guide.
</p>
</font></BODY>
</HTML>
