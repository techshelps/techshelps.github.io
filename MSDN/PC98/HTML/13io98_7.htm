<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text-html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Legacy Parallel Port Requirements</title>
<style>@import url(/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="/msdn_ie3.css"></HEAD>
<BODY BGCOLOR=#FFFFFF TEXT=#000000>

<font face="verdana,arial,helvetica" size="2"><form name=x><object name=iv classid="clsid:9c2ac687-ceef-11cf-96d9-00a0c903b016">
</object></form>
<h1><a name="legacyparallelportrequirements"></a>Legacy Parallel Port Requirements</h1>
<p>
This section defines PC 98 requirements for legacy parallel ports.</p>
<p>
<b>14. Flexible resource configuration supported for each parallel port</h1>
<table border=1 cols=3 frame=void rules=rows>
<tr valign=top>
<td width=30%><b>Required</b></td>
<td width=30%></td>
<td width=30%></td>
</tr>
</table><br>
<p>
A legacy parallel port must provide flexible resource configuration following the&nbsp;<i>Plug and Play Parallel Port Device Specification, Version 1.0b. </i>Resource requirements must be met for each device of this type on the system. The requirements cannot be split between two ports on the system.</p>
<p>
For non-PCI devices, the following are the minimum resource requirements for each parallel port on the system:
<ul>
<li>
Required: Support ISA I/O addresses of 378h and 278h, plus 3BC or a vendor-assigned I/O address. Using these standard I/O addresses ensures proper functioning of software written for operating systems that directly address these locations.</li></ul><p>
Recommended: Map the base I/O address to four additional locations.</P>
<ul>
<li>
Required: Support PIC-based IRQ&nbsp;5 and IRQ&nbsp;7. Using these standard IRQs ensures proper functioning of software written for operating systems that use standard IRQ signals.</li></ul>
<p>
Recommended: Support five additional IRQ signals.</P>
<ul><li>
Required: Support two unique DMA channel selections if the parallel port design supports block data transfers to memory using DMA controllers. Notice&nbsp;also that the DMA function will not work on a parallel port without an&nbsp;IRQ because the end of a DMA transfer is signaled by an interrupt.</li></ul>
<p>
To ensure Plug and Play support for resolution of resource conflicts, a full list of&nbsp;options for all possible configuration combinations must be enumerated, including:
</p>
<ul><li>
Options for both ECP mode (which requires an I/O address, an IRQ, and a DMA selection) and standard LPT mode (which requires only an I/O address).<br><br></li>
<li>
Options that specify only the I/O address, allowing Windows to assign the IRQ and DMA channel.</li></ul>
<p>
On Intel Architecture systems, the operating system considers the parallel port base address (/) stored in the first BIOS Data Area (BDA) locations to be LPT1. The address stored in the second location is LPT2, and so on. On RISC-based systems, the information is in the ARC tree. On all ACPI-based systems, the information is obtained through the ACPI tree.</p>
<p>
<b>15. EPP support does not use restricted I/O addresses</b></p>

<table border=1 cols=3 frame=void rules=rows>
<tr valign=top>
<td width=30%><b>Required</b></td>
<td width=30%></td>
<td width=30%></td>
</tr>
</table><br>
<p>
Some enhanced parallel port (EPP) implementations require eight contiguous I/O&nbsp;ports. If EPP support is implemented, the hardware cannot use the ISA I/O&nbsp;address 3BCh as a base I/O address because VGA devices require use of port&nbsp;3C0h.</p>
<p>
<b>16. Compatibility, nibble mode, and ECP protocols meet IEEE 1284-1994 specifications</h1>
<table border=1 cols=3 frame=void rules=rows>
<tr valign=top>
<td width=30%><b>Required</b></td>
<td width=30%></td>
<td width=30%></td>
</tr>
</table><br>
<p>
Support for a parallel port must include, at minimum, the compatibility-mode and nibble-mode protocols required by the IEEE 1284-1994 specification. This allows other IEEE 1284-compliant devices to be connected without problems.</p>
<p>
The port must also support the ECP protocol as defined by IEEE 1284 to allow connections with higher-speed parallel peripherals.</p>
<p>
<b>17. Port connectors meet IEEE 1284-I specifications, minimum</h1>
<table border=1 cols=3 frame=void rules=rows>
<tr valign=top>
<td width=30%><b>Required</b></td>
<td width=30%></td>
<td width=30%></td>
</tr>
</table><br>
<p>
IEEE 1284-I–compliant ports use a standard DB25 connector found on existing system parallel port designs. This is called an IEEE 1284-A connector in the specification.</p>
<p>
IEEE 1284-II–compliant ports use an IEEE 1284-C connector. This connector is used on both the port and the peripheral device.</p>
<p>
The parallel port design must provide enough space between the connectors and the surrounding enclosure to allow for a mating connector, connector shell, and latch assembly. The IEEE 1284 specification recommends an IEEE 1284-C connector for all new ports and devices.</p>
<p>
<b>18. IEEE 1284 peripherals have Plug and Play device IDs</h1>
<table border=1 cols=3 frame=void rules=rows>
<tr valign=top>
<td width=30%><b>Required</b></td>
<td width=30%></td>
<td width=30%></td>
</tr>
</table><br>
<p>
The device ID is described fully in the IEEE 1284 specification. All characters in the device identification string must consist only of ASCII values 20h–7Fh. The device identification string consists of a leading zero (0), a hexadecimal value that represents the length of the string, and then a set of fields, in ASCII, with a unique identification string.</p>
<p>
For PC&nbsp;98, in addition to the requirements specified in <i>Plug and Play Parallel Port Device Specification, Version 1.0b,</i> the device ID string must contain the following keys, at minimum. The keys are case-sensitive and can be abbreviated in INF files as indicated.</p>
<table cols=2>
<tr valign=top>
<td width=168><b>Key</b></td>
<td width=296><b>Abbreviated string</b></td>
</tr>
<tr valign=top>
<td colspan=2 width=464></td>
</tr>
<tr valign=top>
<td width=168>MANUFACTURER</td>
<td width=296>MFG</td>
</tr>
<tr valign=top>
<td width=168>MODEL</td>
<td width=296>MDL</td>
</tr>
<tr valign=top>
<td width=168>CLASS</td>
<td width=296>CLS</td>
</tr>
<tr valign=top>
<td width=168>DESCRIPTION</td>
<td width=296>DES</td>
</tr>
</table><br>
<p>
All MANUFACTURER and MODEL key values must remain unique for each manufacturer. All MANUFACTURER, MODEL, CLASS, and DESCRIPTION key values must remain static for a specific unit (that is, ID values do not change for different hardware configurations). For example, a user simply adding a memory module to a printer should not change the MODEL key value reported as&nbsp;part of the device ID. However, if the user adds memory by installing an upgrade kit that requires a different driver or requires the existing driver to behave&nbsp;differently, then changing the MODEL value is acceptable as part of the&nbsp;upgrade installation process.</p>
<p>
The <small>class</small> key describes the type of parallel device. The <small>class</small> key can contain the values <small>printer</small>, <small>modem</small>, <small>net</small>, <small>hdc</small>, <small>pcmcia</small>, <small>media</small>, <small>fdc</small>, <small>ports</small>, <small>scanner</small>, or <small>digcam</small>. <small>hdc</small> refers to hard disk controller. <small>media</small> refers to any multimedia device. <small>fdc</small> refers to floppy disk controller.</p>
<p>
The <small>description</small> key is an ASCII string of up to 128 characters that contains a&nbsp;description of the device the manufacturer wants to have presented if a device driver is not found for the peripheral.</p>
<p>
For information about how the system determines the correct peripheral device driver, see the Windows and Windows&nbsp;NT DDKs.</p>
<p>
<b>19. Device identification string provides CompatibleID key</h1>
<table border=1 cols=3 frame=void rules=rows>
<tr valign=top>
<td width=30%><b>Recommended</b></td>
<td width=30%></td>
<td width=30%></td>
</tr>
</table><br>
<p>
The CompatibleID (CID) key can provide a value that exactly matches a peripheral name supported by a device driver shipped with Windows. The value&nbsp;must match a value listed in the device’s INF file.</p>
</font></BODY>
</HTML>
