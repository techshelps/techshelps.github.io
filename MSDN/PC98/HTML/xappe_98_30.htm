<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text-html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Discovery Reply</title>
<style>@import url(/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="/msdn_ie3.css"></HEAD>
<BODY BGCOLOR=#FFFFFF TEXT=#000000>

<font face="verdana, arial, helvetica" size="2"><h1>
Discovery Reply</h1>
<p>
In this state, the client is prepared to receive one or more <i>extended</i> DHCPOFFER replies from servers on the standard DHCP client UDP port (68). Sending a PXE Server message requires the use of DHCP Options. The format of these options are as follows:</p>
<table border=1 cols=1 frame=box rules=all>
<tr valign=top>
<td width=437pt><b>DHCP Header</b></td>
</tr>
<tr valign=top>
<td width=122pt><i>Field (length)</i></td>
<td width=99pt><i>Value</i></td>
<td width=216pt><i>Comment</i></td>
</tr>
<tr valign=top>
<td width=122pt>op (1)</td>
<td width=99pt>2</td>
<td width=216pt>Code for BOOTP REPLY</td>
</tr>
<tr valign=top>
<td width=122pt>htype (1)</td>
<td width=99pt>*</td>
<td width=216pt></td>
</tr>
<tr valign=top>
<td width=122pt>hlen (1)</td>
<td width=99pt>*</td>
<td width=216pt></td>
</tr>
<tr valign=top>
<td width=122pt>hops (1)</td>
<td width=99pt>*</td>
<td width=216pt></td>
</tr>
<tr valign=top>
<td width=122pt>xid (4)</td>
<td width=99pt>*</td>
<td width=216pt></td>
</tr>
<tr valign=top>
<td width=122pt>secs (2)</td>
<td width=99pt>*</td>
<td width=216pt></td>
</tr>
<tr valign=top>
<td width=122pt>flags (2)</td>
<td width=99pt>*</td>
<td width=216pt></td>
</tr>
<tr valign=top>
<td width=122pt>ciaddr (4)</td>
<td width=99pt>0.0.0.0</td>
<td width=216pt>PXE client always sets this value to 0.0.0.0</td>
</tr>
<tr valign=top>
<td width=122pt>yiaddr (4)</td>
<td width=99pt>a0, a1, a2, a3</td>
<td width=216pt>Client&rsquo&rsquo;s IP address. Provided by server</td>
</tr>
<tr valign=top>
<td width=122pt>siaddr (4)</td>
<td width=99pt>a0, a1, a2, a3</td>
<td width=216pt>Next bootstrap server IP address</td>
</tr>
<tr valign=top>
<td width=122pt>giaddr (4)</td>
<td width=99pt>*</td>
<td width=216pt></td>
</tr>
<tr valign=top>
<td width=122pt>chaddr (16)</td>
<td width=99pt>*</td>
<td width=216pt>Client&rsquo&rsquo;s MAC address</td>
</tr>
<tr valign=top>
<td width=122pt>sname (64)</td>
<td width=99pt>*</td>
<td width=216pt>Can be overloaded if using Opt 66</td>
</tr>
<tr valign=top>
<td width=122pt>bootfile (128)</td>
<td width=99pt>*</td>
<td width=216pt>Can be overloaded if using Opt 67</td>
</tr>
<tr valign=top>
<td width=437pt>99.130.83.99</td>
</tr>
<tr valign=top>
<td width=437pt><b>DHCP Options</b></td>
</tr>
<tr valign=top>
<td width=117pt><i>Tag Name</i></td>
<td width=59pt><i>Tag Number</i></td>
<td width=45pt><i>Length</i></td>
<td width=54pt><i>Type</i></td>
<td width=162pt><i>Data Field</i></td>
</tr>
<tr valign=top>
<td width=117pt>Client UUID/GUID</td>
<td width=59pt>97</td>
<td width=45pt>17</td>
<td width=54pt>20</td>
<td width=162pt><i>per Attachment K</i></td>
</tr>
<tr valign=top>
<td width=117pt><i>Tag Name</i></td>
<td width=77pt><i>Tag Number</i></td>
<td width=81pt><i>Length Field</i></td>
<td width=162pt><i>Data Field</i></td>
</tr>
<tr valign=top>
<td width=117pt>DHCP Message Type</td>
<td width=77pt>53</td>
<td width=81pt>1</td>
<td width=162pt>2 = DHCPOFFER</td>
</tr>
<tr valign=top>
<td width=117pt>Server Identifier</td>
<td width=77pt>54</td>
<td width=81pt>4</td>
<td width=162pt>a1, a2, a3, a4</td>
</tr>
<tr valign=top>
<td width=117pt>Class Identifier</td>
<td width=77pt>60</td>
<td width=81pt>9</td>
<td width=162pt>&ldquo;PXEClient&rdquo;</td>
</tr>
<tr valign=top>
<td width=437pt><b>Encapsulated Vendor Options (DHCP Option #43)</b></td>
</tr>
<tr valign=top>
<td width=117pt><i>Tag Name</i></td>
<td width=77pt><i>Tag Number</i></td>
<td width=81pt><i>Length Field</i></td>
<td width=162pt><i>Data Field</i></td>
</tr>
<tr valign=top>
<td width=117pt>DHCP_VENDOR</td>
<td width=77pt>43</td>
<td width=81pt>varies</td>
<td width=162pt>Encapsulated options below</td>
</tr>
<tr valign=top>
<td width=437pt>(Multiple DHCP_VENDOR options can be used)</td>
</tr>
<tr valign=top>
<td width=437pt><b>"PXEClient" Encapsulated Options for DHCP Option #43</b></td>
</tr>
<tr valign=top>
<td width=117pt><i>Tag Name</i></td>
<td width=77pt><i>Tag Number</i></td>
<td width=81pt><i>Length Field</i></td>
<td width=162pt><i>Data Field</i></td>
</tr>
<tr valign=top>
<td width=117pt>PXE_PAD</td>
<td width=77pt>0</td>
<td width=81pt>None</td>
<td width=162pt>None</td>
</tr>
<tr valign=top>
<td width=117pt>MTFP IP Addr</td>
<td width=77pt>1</td>
<td width=81pt>4</td>
<td width=162pt>a0, a1, a2, a3</td>
</tr>
<tr valign=top>
<td width=117pt>MTFTP Client UDP </td>
<td width=77pt>2</td>
<td width=81pt>2</td>
<td width=162pt>Port Number</td>
</tr>
<tr valign=top>
<td width=117pt>MTFTP Server UDP </td>
<td width=77pt>3</td>
<td width=81pt>2</td>
<td width=162pt>Port Number</td>
</tr>
<tr valign=top>
<td width=117pt>MTFTP Start Delay</td>
<td width=77pt>4</td>
<td width=81pt>1</td>
<td width=162pt></td>
</tr>
<tr valign=top>
<td width=117pt>MTFTP Timeout Delay</td>
<td width=77pt>5</td>
<td width=81pt>1</td>
<td width=162pt></td>
</tr>
<tr valign=top>
<td width=117pt>PXE_END</td>
<td width=77pt>255</td>
<td width=81pt>None</td>
<td width=162pt></td>
</tr>
</table><br>
<p>
If the responding server does not have an installation capability, it will provide a valid address in <i>siaddr</i> to redirect the client to an installation server. </p>
<p>
In this state, the client must also be prepared to receive one or more <i>standard</i> DHCPOFFER messages from servers. Each of these messages will contain configuration information as specified in RFC 1541. Each <i>extended</i> DHCPOFFER message can also contain configuration information as specified in RFC 1541. The presence of such information in an <i>extended</i> DHCPOFFER message is indicated by a nonzero value in the client IP address field. Which, if any, of these configurations is used by the client is not defined by this specification. If the client decides to accept one of the configurations offered, then it must engage in further communications with the server as specified in RFC 1541.</p>
<p>
To move to the installation server request state, the client must have received at least one <i>extended</i> DHCPOFFER message. Beyond this, the criteria for the client exiting this state are not defined by this specification.</p>
</font></BODY>
</HTML>
