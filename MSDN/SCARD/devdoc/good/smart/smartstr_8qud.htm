<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>SCARD_READERSTATE</title>
<link disabled rel=stylesheet href=../../backsdk3.css>
<style type="text/css">
@import url(../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h1><a name="_smart_scard_readerstate"></a>SCARD_READERSTATE</h1>
<p>
The <b>SCARD_READERSTATE</b> structure is used by functions for tracking <a href="scgloss_7mwj.htm#_smart_smart_card_gly">smart cards</a> within <a href="scgloss_7mwi.htm#_smart_reader_gly">readers</a>.</p>
<pre><code>typedef struct {
    LPCTSTR szReader;       // reader name
    LPVOID  pvUserData;     // user defined data
    DWORD   dwCurrentState; // current state of reader at the
                            // time of the call
    DWORD   dwEventState;   // state of reader after a state change
    DWORD   cbAtr;          // Number of bytes in the returned ATR
    BYTE    rgbAtr[36];     // ATR of inserted card
                            // (with extra alignment bytes)
} SCARD_READERSTATE;typedef SCARD_READERSTATE
  *PSCARD_READERSTATE, *LPSCARD_READERSTATE;
 </code></pre>
<h4>Members</h4>
<dl>
<dt>
<b>szReader</b></dt>
<dd>
Points to the name of the reader being monitored.</dd>
<dt>
<b>pvUserData</b></dt>
<dd>
Not used by the smart card subsystem. Used by the application.</dd>
<dt>
<b>dwCurrentState</b></dt>
<dd>
Supplies the current state of the reader, as seen by the application. This field can take on any of the following values, in combination, as a bit mask:
<table cellspacing=4 cols=2>
<tr valign=top>
<th align=left width=48%>Value</th>
<th align=left width=52%>Meaning</th>
</tr>
<tr valign=top>
<td width=48%>SCARD_STATE_UNAWARE </td>
<td width=52%>The application is unaware of the current state, and would like to know. The use of this value results in an immediate return from state transition monitoring services. This is represented by all bits set to zero.</td>
</tr>
<tr valign=top>
<td width=48%>SCARD_STATE_IGNORE </td>
<td width=52%>The application is not interested in this reader, and it should not be considered during monitoring operations. If this bit value is set, all other bits are ignored.</td>
</tr>
<tr valign=top>
<td width=48%>SCARD_STATE_UNAVAILABLE </td>
<td width=52%>The application believes that this reader is not available for use. If this bit is set, then all the following bits are ignored.</td>
</tr>
<tr valign=top>
<td width=48%>SCARD_STATE_EMPTY </td>
<td width=52%>The application believes that there is not card in the reader. If this bit is set, all the following bits are ignored.</td>
</tr>
<tr valign=top>
<td width=48%>SCARD_STATE_PRESENT </td>
<td width=52%>The application believes that there is a card in the reader.</td>
</tr>
<tr valign=top>
<td width=48%>SCARD_STATE_ATRMATCH </td>
<td width=52%>The application believes that there is a card in the reader with an ATR matching one of the target cards. If this bit is set, SCARD_STATE_PRESENT is assumed. This bit has no meaning to SCardGetStatusChange beyond SCARD_STATE_PRESENT.</td>
</tr>
<tr valign=top>
<td width=48%>SCARD_STATE_EXCLUSIVE </td>
<td width=52%>The application believes that the card in the reader is allocated for exclusive use by another application. If this bit is set, SCARD_STATE_PRESENT is assumed.</td>
</tr>
<tr valign=top>
<td width=48%>SCARD_STATE_INUSE </td>
<td width=52%>The application believes that the card in the reader is in use by one or more other applications, but may be connected to in shared mode. If this bit is set, SCARD_STATE_PRESENT is assumed.</td>
</tr>
<tr valign=top>
<td width=48%>SCARD_STATE_MUTE </td>
<td width=52%>The application believes that there is an unresponsive card in the reader.</td>
</tr>
</table><br>

</dd>
<dt>
<b>dwEventState</b></dt>
<dd>
Receives the current state of the reader, as known by the smart card resource manager. This field can take on any of the following values, in combination, as a bit mask:
<table cellspacing=4 cols=2>
<tr valign=top>
<th align=left width=48%>Value</th>
<th align=left width=52%>Meaning</th>
</tr>
<tr valign=top>
<td width=48%>SCARD_STATE_IGNORE </td>
<td width=52%>This reader should be ignored.</td>
</tr>
<tr valign=top>
<td width=48%>SCARD_STATE_CHANGED </td>
<td width=52%>There is a difference between the state believed by the application, and the state known by the resource manager. When this bit is set, the application may assume a significant state change has occurred on this reader.</td>
</tr>
<tr valign=top>
<td width=48%>SCARD_STATE_UNKNOWN </td>
<td width=52%>The given reader name is not recognized by the resource manager. If this bit is set, then SCARD_STATE_CHANGED and SCARD_STATE_IGNORE will also be set.</td>
</tr>
<tr valign=top>
<td width=48%>SCARD_STATE_UNAVAILABLE </td>
<td width=52%>The actual state of this reader is not available. If this bit is set, then all the following bits are clear.</td>
</tr>
<tr valign=top>
<td width=48%>SCARD_STATE_EMPTY </td>
<td width=52%>There is no card in the reader. If this bit is set, all the following bits will be clear.</td>
</tr>
<tr valign=top>
<td width=48%>SCARD_STATE_PRESENT </td>
<td width=52%>There is a card in the reader.</td>
</tr>
<tr valign=top>
<td width=48%>SCARD_STATE_ATRMATCH </td>
<td width=52%>There is a card in the reader with an ATR matching one of the target cards. If this bit is set, SCARD_STATE_PRESENT will also be set. This bit is only returned on the <b>SCardLocateCards</b> function.</td>
</tr>
<tr valign=top>
<td width=48%>SCARD_STATE_EXCLUSIVE </td>
<td width=52%>The card in the reader is allocated for exclusive use by another application. If this bit is set, SCARD_STATE_PRESENT will also be set.</td>
</tr>
<tr valign=top>
<td width=48%>SCARD_STATE_INUSE </td>
<td width=52%>The card in the reader is in use by one or more other applications, but may be connected to in shared mode. If this bit is set, SCARD_STATE_PRESENT will also be set.</td>
</tr>
<tr valign=top>
<td width=48%>SCARD_STATE_MUTE </td>
<td width=52%>There is an unresponsive card in the reader.</td>
</tr>
</table><br>

</dd>
<dt>
<b>cbAtr</b></dt>
<dd>
The number of bytes in the returned ATR.</dd>
<dt>
<b>rgbAtr</b></dt>
<dd>
The ATR of the inserted card, with extra alignment bytes.
</dd>
</dl>
<h4>QuickInfo</h4>
<p>
&nbsp;&nbsp;<b>Windows NT:</b>  Use version 4.0 SP3 and later.<br>
&nbsp;&nbsp;<b>Windows:</b>  Use Windows 95 OSR2.1.<br>
&nbsp;&nbsp;<b>Windows CE:</b>  Unsupported.<br>
&nbsp;&nbsp;<b>Header:</b> Declared in winscard.h.<br>
&nbsp;&nbsp;<b>Import Library:</b> Link with winscard.lib.</p>
<h4>See Also</h4>
<p>
<a href="smartfun_3yg5.htm">SCardGetStatusChange</a>, <a href="smartfun_8rub.htm">SCardLocateCards</a></p>
<p>
</p>
<p>&nbsp;</p></body>
</HTML>
