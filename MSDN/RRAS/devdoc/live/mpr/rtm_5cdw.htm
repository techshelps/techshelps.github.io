<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>RtmRegisterClient</title>
<link disabled rel=stylesheet href=../../backsdk3.css>
<style type="text/css">
@import url(../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h1><a name="_mpr_rtmregisterclient"></a>RtmRegisterClient</h1>
<p>
<span style=color:#FF0000>[This is preliminary documentation and subject to change.]</span> </p>
<p>
The <b>RtmRegisterClient</b> function registers a client as a handler of the specified protocol. It establishes a route change notification mechanism for the client, and sets protocol options.</p>
<pre><code><b>HANDLE RtmRegisterClient(
</b>  <b>DWORD</b><i> ProtocolFamily</i>,      // identifier of protocol family
  <b>DWORD</b><i> RoutingProtocol</i>,     // identifier of routing protocol
  <b>HANDLE</b><i> ChangeEvent</i>,        // event to signal when best routes change
  <b>DWORD</b><i> Flags</i>                // flags to indicate special handling of 
                             // routing protocol
<b>);</b>
 </code></pre>
<h4>Parameters</h4>
<dl>
<dt>
<i>ProtocolFamily</i></dt>
<dd>
The protocol family of the routing protocol to register.</dd>
<dt>
<i>RoutingProtocol</i></dt>
<dd>
The routing protocol identifier, same as used when registering with the router manager (see <a href="dllinterf_1418.htm"><b>RegisterProtocol</b></a>).</dd>
<dt>
<i>ChangeEvent</i></dt>
<dd>
The Routing Table Manager (RTM) will signal this event when the best route to any network in the table changes. See <a href="rtm_33j9.htm"><b>RtmDequeueRouteChangeMessage</b></a><b> </b>for more information about route change notification<b>.</b>
<p>
This parameter is optional. If the caller specifies NULL for this parameter, the RTM will not notify the client of changes in best route status.
</dd>
<dt>
<i>Flags</i></dt>
<dd>
Miscellaneous options for special handling of the routing protocol. The following value is currently supported.
<table cellspacing=4 cols=2>
<tr valign=top>
<th align=left width=54%>Flags</th>
<th align=left width=46%>Values</th>
</tr>
<tr valign=top>
<td width=54%>RTM_PROTOCOL_SINGLE_ROUTE</td>
<td width=46%>The RTM will only keep one route per destination network for the routing protocol, that is, the RTM will replace route entries that have the same destination network numbers instead of adding new ones.</td>
</tr>
</table><br>

</dd>
</dl>
<h4>Return Values</h4>
<p>
On successful return, a <b>HANDLE</b> value<b> </b>that identifies the client in subsequent calls to the RTM.</p>
<p>
A NULL handle indicates that the RTM was unable to register the client. Call <object id=alink_1 type="application/x-oleobject"
	classid="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
<PARAM name="Command" value="ALink,MENU">
<PARAM name="DefaultTopic" value="../../notopic_0pk4.htm">
<PARAM name="Item1" value="">
<PARAM name="Item2" value="_win32_getlasterror">
</object><a href=JavaScript:alink_1.Click()><b>GetLastError</b></a> to obtain the reason for the failure.
<dl>
<dt>
<b>ERROR_CLIENT_ALREADY_EXISTS</b></dt>
<dd>
Another client has already registered to handle the specified protocol.</dd>
<dt>
<b>ERROR_INVALID_PARAMETER</b></dt>
<dd>
The specified protocol family is not supported or the <i>Flags</i> parameter is invalid.</dd>
<dt>
<b>ERROR_NO_SYSTEM_RESOURCES</b></dt>
<dd>
Insufficient resources to carry out the operation.</dd>
<dt>
<b>ERROR_NOT_ENOUGH_MEMORY</b></dt>
<dd>
Insufficient memory to allocate data structures for the client.
</dd>
</dl>
<h4>QuickInfo</h4>
<p>
&nbsp;&nbsp;<b>Windows NT:</b>  Use version 5.0 and later.<br>
&nbsp;&nbsp;<b>Windows:</b>  Unsupported.<br>
&nbsp;&nbsp;<b>Windows CE:</b>  Unsupported.<br>
&nbsp;&nbsp;<b>Header:</b> Declared in rtm.h.<br>
&nbsp;&nbsp;<b>Import Library:</b> Link with rtm.lib.</p>
<h4>See Also</h4>
<p>
<object id=alink_2 type="application/x-oleobject"
	classid="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
<PARAM name="Command" value="ALink,MENU">
<PARAM name="DefaultTopic" value="../../notopic_0pk4.htm">
<PARAM name="Item1" value="">
<PARAM name="Item2" value="_win32_getlasterror">
</object><a href=JavaScript:alink_2.Click()><b>GetLastError</b></a>, <a href="dllinterf_1418.htm"><b>RegisterProtocol</b></a>, <a href="macros_73sj.htm">RTM Protocol Family Identifiers</a>, <a href="rtm_33j9.htm"><b>RtmDequeueRouteChangeMessage</b></a>, <a href="rtm_3ur8.htm"><b>RtmDeregisterClient</b></a> </p>
<p>&nbsp;</p></body>
</HTML>
