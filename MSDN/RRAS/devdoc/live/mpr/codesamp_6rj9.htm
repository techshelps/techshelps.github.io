<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>DoUpdateRoutes Sample</title>
<link disabled rel=stylesheet href=../../backsdk3.css>
<style type="text/css">
@import url(../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h1><a name="_mpr_doupdateroutes_sample"></a>DoUpdateRoutes Sample</h1>
<p>
<span style=color:#FF0000>[This is preliminary documentation and subject to change.]</span> </p>
<pre><code>DWORD
APIENTRY
DoUpdateRoutes(
    IN DWORD dwIndex
    )
/*++
  Routine Description
      This function is called by the IP Router Manger to ask us to
      update routes over a Demand Dial link.  The link has already been
      brought up so should be in ENABLED-BOUND state.  After we are done
      we need to set the g_hMgrNotifyEvent to inform the Router Manager
      that we have a message in our queue to be delivered to it. The
      Router Manager will call our GetEventMessage() function in which
      we will inform it that we are done with update routes (and the
      routes have been stored in RTM). The Router Manager will "freeze"
      these routes by converting them to AUTOSTATIC.
  
  Arguments


  Return Value
      NO_ERROR/PENDING  For Success

--*/
{
    DWORD   dwResult;
    
    //
    // We will fire off a worker function to do the "real work"
    // That will set the event
    //

    dwResult = QueueAsyncFunction(UpdateRoutes,
                                  (PVOID)dwIndex,
                                  TRUE);
    
    
    return dwResult;
}</code></pre>
<p>&nbsp;</p></body>
</HTML>
