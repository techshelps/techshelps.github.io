<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Using Tracing</title>
<link disabled rel=stylesheet href=../../backsdk3.css>
<style type="text/css">
@import url(../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h1><a name="_mpr_using_tracing"></a>Using Tracing</h1>
<p>
<span style=color:#FF0000>[This is preliminary documentation and subject to change.]</span> </p>
<p>
Each application or service component calls <b>TraceRegister()</b> to obtain an identifier (ID) to use in calls to the output functions. On this call, the DLL reads configuration information for the caller from the registry, and sets up the console or file to which output will be sent. In addition, a critical section is created that will be used to synchronize calls to the tracing DLL functions by the registering component's threads. An event is associated with the registry key for the caller, so that changes to the tracing parameters for the caller can be handled dynamically.</p>
<p>
After registering, the application may call the output functions, passing the ID returned by <b>TraceRegister()</b>. When the application no longer requires the tracing DLL's support, it should call <b>TraceDeregister()</b> so that handles associated with it can be closed.</p>
<p>
There are two versions of each output function. One version prefixes the output it generates with standard information such as the name associated with the caller, the thread ID of the caller, and the current time. The other version allows the caller to omit the standard information normally generated. For instance, <b>TracePrintf()</b> includes standard information, but <b>TracePrintfEx()</b> does not, unless the flag passed to it specifies that it should.</p>
<p>
Support for Unicode clients is built into the tracing DLL. All that is required is that the client define the constant UNICODE before including the header containing definitions for the tracing DLL functions.</p>
<p>&nbsp;</p></body>
</HTML>
