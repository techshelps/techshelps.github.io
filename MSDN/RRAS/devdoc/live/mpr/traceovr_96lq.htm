<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Configuration</title>
<link disabled rel=stylesheet href=../../backsdk3.css>
<style type="text/css">
@import url(../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h2><a name="_mpr_configuration"></a>Configuration</h2>
<p>
<span style=color:#FF0000>[This is preliminary documentation and subject to change.]</span> </p>
<p>
When a client "xyz" calls <b>TraceRegister()</b>, the tracing DLL looks under the registry key </p>
<p>
&nbsp;&nbsp;&nbsp;&nbsp;\SYSTEM\CURRENTCONTROLSET\SERVICES\TRACING\XYZ </p>
<p>
for the following values:
<ul>
<li>
<b>EnableConsoleTracing</b>: this is a <b>REG_DWORD</b> that defaults to 1; this enables tracing to the console if non-zero.</li>
<li>
<b>EnableFileTracing</b>: this is a <b>REG_DWORD</b> that defaults to 1; this enables tracing to a file named XYZ.LOG if non-zero.</li>
<li>
<b>ConsoleTracingMask</b>: this is a <b>REG_DWORD</b> that defaults to 0xFFFF0000; the bits in the high-order word correspond to components in the client. If a call to one of the extended output functions has the flag <b>TRACE_USE_MASK</b> set, this registry value is compared against the high-order word of the flag passed to the output function, to decide whether or not to send the output to the console.</li>
<li>
<b>FileTracingMask</b>: this is a <b>REG_DWORD</b> that defaults to 0xFFFF0000; it operates similarly to <b>ConsoleTracingMask</b>.</li>
<li>
<b>MaxFileSize:</b> this is a <b>REG_DWORD</b> that defaults to 0x10000; this is the maximum size a tracing file can grow to before it is renamed.</li>
<li>
<b>FileDirectory</b>: this is a <b>REG_EXPAND_SZ</b> that defaults to %WINDIR%\TRACING; this is the directory in which the tracing file is created.</li>
</ul>
<p>
The defaults are used only if the key is found (or can be created) but some values are absent from the key. If the registry key is not found and cannot be created, the call to <b>TraceRegister()</b> fails. </p>
<p>
Alternatively, a client "xyz" could call <b>TraceRegisterEx()</b>, which takes a flag allowing the caller to specify the settings to use. Thus, a client could use the tracing DLL without creating any key in the registry. For instance,</p>
<pre><code>TraceRegisterEx("xyz", TRACE_USE_CONSOLE);
 </code></pre>
<p>
would register the client "xyz" to use the console for tracing, and the tracing DLL would not attempt to read the registry at all. Similarly, </p>
<pre><code>TraceRegisterEx("abc", TRACE_USE_FILE);
 </code></pre>
<p>
would register the client "abc" to use a file for tracing, bypassing the registry.</p>
<p>&nbsp;</p></body>
</HTML>
