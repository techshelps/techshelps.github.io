<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>RasEapInvokeConfigUI</title>
<link disabled rel=stylesheet href=../../backsdk3.css>
<style type="text/css">
@import url(../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h1><a name="_mpr_raseapinvokeconfigui"></a>RasEapInvokeConfigUI</h1>
<p>
<span style=color:#FF0000>[This is preliminary documentation and subject to change.]</span> </p>
<p>
The RAS Connection Manager calls the <b>RasEapInvokeConfigUII </b>function to display a dialog to obtain configuration information from the user. RAS calls <b>RasEapInvokeConfigUI</b> when a new phonebook entry is created or an existing phonebook entry is edited, provided that the authentication protocol for the entry provides a configuration user interface.</p>
<pre><code><b>DWORD</b>  <b>RasEapInvokeConfigUI</b> <b>(</b> 
  <b>DWORD</b>     <i>dwEapTypeId</i><b>,</b>                  // identifies the protocol<b> </b>
  <b>HINSTANCE</b> <i>hInstance</i>,                    // handle to DLL module 
  <b>HWND</b>      <i>hwndParent</i><b>,</b>                   // handle to parent window 
  <b>DWORD</b>     dwFlags,                      // indicates whether caller is router or RAS client
  <b>PBYTE</b> <b>*</b>   <i>ppConfigData</i><b>,</b>                 // config data returned 
  <b>DWORD</b> <b>*</b>   <i>lpdwSizeOfConfigData</i><b>,</b>         // size of config data 
  <b>PBYTE</b>     <i>pConnectionDataIn</i>,            // current connection data
  <b>DWORD</b>     <i>dwSizeOfConnectionDataIn</i>,     // size of current connection data
  <b>PBYTE</b>     <i>pUserDataIn</i>,                  // current user data
  <b>DWORD</b>     <i>dwSizeOfUserDataIn</i>,           // size of current user data
  <b>PBYTE</b> *   <i>ppConnectionDataOut</i>,          // new connection data 
  <b>DWORD</b> *   <i>lpdwSizeOfConnectionDataOut</i>,  // size of new connection data
  <b>PBYTE</b> *   <i>ppUserDataOut</i>,                // new user data
  <b>DWORD</b> *   <i>lpdwSizeOfUserDataOut</i>,        // size of new user data
  <b>LPSTR</b>     <i>szIdentityOut[UNLEN+DNLEN+2]</i>  // identity of user 
<b>);</b>
 </code></pre>
<h4>Parameters</h4>
<dl>
<dt>
<i>dwEapTypeId</i></dt>
<dd>
Identifies the authentication protocol for which to invoke the configuration UI. </dd>
<dt>
<i>hInstance</i></dt>
<dd>
Handle to the DLL module.</dd>
<dt>
<i>hwndParent </i></dt>
<dd>
Handle to the parent window for the UI dialog.</dd>
<dt>
<i>dwFlags</i></dt>
<dd>
Specifies whether the computer dialing in is a router or a RAS client. If the computer is a router, this parameter should be set to 
<p>
RAS_EAP_FLAG_ROUTER

<p>
Otherwise, this parameter should be zero.
</dd>
<dt>
<i>pConnectionDataIn</i></dt>
<dd>
Pointer to the connection-specific data currently stored in the phonebook entry. If <b>RasEapInvokeConfigUI</b> is called during the creation of a new entry, this parameter will be NULL.</dd>
<dt>
<i>dwSizeOfConnectionDataIn</i></dt>
<dd>
Size of the connection-specific data currently stored in the phonebook entry. If <b>RasEapInvokeConfigUI</b> is called during the creation of a new entry, this parameter will be zero.</dd>
<dt>
<i>pUserDataIn</i></dt>
<dd>
Pointer to the user-specific data currently stored for this user in the registry. If <b>RasEapInvokeConfigUI</b> is called during the creation of a new entry, this parameter will be NULL</dd>
<dt>
<i>dwSizeOfUserDataIn</i></dt>
<dd>
Size of the user-specific data currently stored for this user in the registry. If <b>RasEapInvokeConfigUI</b> is called during the creation of a new entry, this parameter will be zero.</dd>
<dt>
<i>ppConnectionDataOut</i></dt>
<dd>
Pointer to a pointer that, on successful return, will point to the new connection-specific data to store in the phonebook entry.</dd>
<dt>
<i>lpdwSizeOfConnectionDataOut</i></dt>
<dd>
Pointer to a <b>DWORD</b> that, on successful return, will point to the size of the new connection-specific data to store in the phonebook entry.</dd>
<dt>
<i>ppUserDataOut</i></dt>
<dd>
Pointer to a pointer that, on successful return, will point to the new user-specific data to store in the registry.</dd>
<dt>
<i>lpdwSizeOfUserDataOut</i></dt>
<dd>
Pointer to a <b>DWORD</b> that, on successful return, will point to the size of the new user-specific data to store in the registry.</dd>
<dt>
<i>szIdentity</i> </dt>
<dd>
Pointer to a buffer that contains an identifier for the user. The length of this buffer is UNLEN+DNLEN+2. 
</dd>
</dl>
<h4>Return Values</h4>
<p>
If the function succeeds, the return value is NO_ERROR.</p>
<p>
If the function wasn't able to allocate memory for the configuration data, the return value should be ERROR_NOT_ENOUGH_MEMORY.</p>
<p>
If the function fails in some other way, the return value should be an appropriate error code from winerror.h, raserror.h, or mprerror.h. </p>
<h4>Remarks</h4>
<p>
The DLL that implements <b>RasEapInvokeInteractiveUI</b> and <a href="eapref_68gx.htm"><b>RasEapFreeConfigUIData</b></a> may support more than one authentication protocol. The <i>dwEapTypeId</i> parameter specifies which protocol to invoke the configuration UI for.</p>
<p>
RAS stores the connection-specific data returned by <b>RasEapInvokeConfigUI</b> in the phonebook entry. RAS stores the user-specific data returned by <b>RasEapInvokeConfigUI</b> in the registry under HKEY_CURRENT_USER.</p>
<h4>See Also</h4>
<p>
<a href="eapref_68gx.htm"><b>RasEapFreeConfigUIData</b></a>, <a href="eapref_17zd.htm"><b>RasEapInvokeInteractiveUI</b></a> </p>
<p>&nbsp;</p></body>
</HTML>
