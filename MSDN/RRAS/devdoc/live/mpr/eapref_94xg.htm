<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>PPP_EAP_OUTPUT</title>
<link disabled rel=stylesheet href=../../backsdk3.css>
<style type="text/css">
@import url(../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h1><a name="_mpr_ppp_eap_output"></a>PPP_EAP_OUTPUT</h1>
<p>
<span style=color:#FF0000>[This is preliminary documentation and subject to change.]</span> </p>
<p>
The authentication protocol uses the <b>PPP_EAP_OUTPUT</b> structure to communicate requests and status information to the RAS Connection Manager.</p>
<pre><code>typedef struct _PPP_EAP_OUTPUT {
    PPP_EAP_ACTION       Action;                // action that RAS 
                                                // should take 
    DWORD                dwIdExpected;          // ID of expected 
                                                // response packet 
    DWORD                dwAuthResultCode;      // result of 
                                                // authentication 
    CHAR                 szIdentity[UNLEN+1];   // identifies the 
                                                // authenticated user 
    RAS_AUTH_ATTRIBUTE * pAuthenticatedUserAttributes;
                                                // array of attributes 
                                                // structure 
    BOOL                 fInvokeInteractiveUI;  // causes RAS 
                                                // to invoke 
                                                // interactive UI 
    PBYTE                pUIContextData;        // data to send to 
                                                // interactive UI 
    DWORD                dwSizeOfUIContextData; // size of data 
    BOOL                 fSaveConfigInfo;       // RAS should save 
                                                // the config info
    PBYTE             pConnectionData;     // pointer to the per-
                                           // connection config info
    DWORD             dwSizeofConnectionData;  // size of the per-
                                           // connection config info
    PBYTE             pUserData;           // pointer to the per-
                                           // user config info
    DWORD             dwSizeofUserData;    // size of the per-
                                           // user config info
} PPP_EAP_OUTPUT, *PPPP_EAP_OUTPUT; 
 </code></pre>
<h4>Members</h4>
<dl>
<dt>
<b>Action</b></dt>
<dd>
Specifies a <a href="eapref_9mpa.htm"><b>PPP_EAP_ACTION</b></a> value. The RAS Connection Manager will carry out this action on behalf of the authentication protocol.</dd>
<dt>
<b>dwIdExpected</b></dt>
<dd>
Specifies the identifier (ID) for an incoming response packet. Use of this member tells RAS to drop packets that have identifiers that do not match this value. Set this member only if the Action member is <b>EAPACTION_SendWithTimeout</b> or <b>EAPACTION_SendWithTimeoutInteractive</b>.</dd>
<dt>
<b>dwAuthResultCode</b></dt>
<dd>
Indicates whether authentication was successful. Any non-zero value for <b>dwAuthResultCode</b> indicates failure. The failure code must come from winerror.h, raserror.h or mprerror.h. This member is valid only if the <b>Action</b> member has a value of <b>EAPACTION_Done</b> or <b>EAPACTION_SendAndDone</b>. </dd>
<dt>
<b>szIdentity</b></dt>
<dd>
Specifies an identifier for the authenticated user on the the server. The authentication protocol running on the server (that is, the authenticator) should set the <b>szIdentity</b> member when Action is <b>EAPACTION_Done</b> or <b>EAPACTION_SendAndDone.</b> </dd>
<dt>
<b>pAuthenticatedUserAttributes</b></dt>
<dd>
Pointer to an optional array of <a href="eapref_33vp.htm"><b>RAS_AUTH_ATTRIBUTE</b></a> structures. The array is terminated by a structure with an <b>raaType</b> member that has a value of <i>raatMinimum</i> (see <a href="eapref_0ycl.htm"><b>RAS_AUTH_ATTRIBUTE_TYPE</b></a>). 
<p>
These structures are allocated by the authentication protocol <i>only</i> if the protocol is not using an existing authentication provider. It is up to the authentication protocol to free this memory in its <b>RasEapEnd</b> function. This member should be set on the authenticator side when Action is <b>EAPACTION_Done</b> or <b>EAPACTION_SendAndDone</b>, and <b>dwAuthResultCode</b> is zero. 
</dd>
<dt>
<b>fInvokeInteractiveUI</b></dt>
<dd>
Specifies whether RAS should invoke the authentication protocol's interactive UI. If the authentication protocol sets this member to TRUE, RAS will invoke the interactive UI, by calling the <a href="eapref_17zd.htm"><b>RasEapInvokeInteractiveUI</b></a> function provided by the authentication protocol.</dd>
<dt>
<b>pUIContextData</b></dt>
<dd>
Pointer to context data that RAS should pass in the call to <a href="eapref_17zd.htm"><b>RasEapInvokeInteractiveUI</b></a>. The authentication protocol should free this memory in its implementation of <a href="eapref_7t5w.htm"><b>RasEapEnd</b></a>.</dd>
<dt>
<b>dwSizeOfUIContextData</b> </dt>
<dd>
Specifies the size of the context data that RAS should pass in the call to <a href="eapref_17zd.htm"><b>RasEapInvokeInteractiveUI</b></a>. </dd>
<dt>
<b>fSaveConfigInfo</b> </dt>
<dd>
Specifies whether RAS should save the config data pointed to by the <b>pConnectionData</b> and <b>pUser</b> data parameters. If this parameter is TRUE, RAS will save the config data in the phonebook entry for the connection.</dd>
<dt>
<b>pConnectionInfo</b> </dt>
<dd>
Pointer to connection-specific configuration data that RAS should save in the phonebook entry for the connection. The authentication protocol should free this memory during the call to <a href="eapref_7t5w.htm"><b>RasEapEnd</b></a>.</dd>
<dt>
<b>dwSizeofConnectionInfo</b> </dt>
<dd>
Specifies the size in bytes of the data pointed to by <b>pConnectionData</b>.</dd>
<dt>
<b>pUserData</b> </dt>
<dd>
Pointer to user-specific data that RAS should save for this connection. RAS will save this data in the registry under HKEY_CURRENT_USER. The authentication protocol should free this memory during the call to <a href="eapref_7t5w.htm"><b>RasEapEnd</b></a>.</dd>
<dt>
<b>dwSizeofUserData</b> </dt>
<dd>
Specifies the size in bytes of the data pointed to by <b>pUserData</b>.
</dd>
</dl>
<h4>Remarks</h4>
<p>
Use the <a href="eapref_2tgl.htm"><b>RasEapMakeMessage</b></a> function to pass the <b>PPP_EAP_OUTPUT</b> structure between the authentication protocol and the RAS Connection Manager </p>
<h4>QuickInfo</h4>
<p>
<b>&nbsp;&nbsp;Windows NT: </b>Use version 5.0 or later.<br>
<b>&nbsp;&nbsp;Windows: </b>Unsupported.<br>
<b>&nbsp;&nbsp;Windows CE: </b>Unsupported.<br>
<b>&nbsp;&nbsp;Header: </b>Declared in raseapif.h.</p>
<h4>See Also</h4>
<p>
<a href="eapref_33vp.htm"><b>RAS_AUTH_ATTRIBUTE</b></a>, <a href="eapref_9mpa.htm"><b>PPP_EAP_ACTION</b></a>, <a href="eapref_17zd.htm"><b>RasEapInvokeInteractiveUI</b></a>, <a href="eapref_2tgl.htm"><b>RasEapMakeMessage</b></a> </p>
<p>&nbsp;</p></body>
</HTML>
