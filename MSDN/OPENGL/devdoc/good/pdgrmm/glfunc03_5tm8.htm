<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>glStencilOp</title>
<link disabled rel=stylesheet href=../../backsdk3.css>
<style type="text/css">
@import url(../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h1><a name="_ogl_glstencilop"></a>glStencilOp</h1>
<p>
The <b>glStencilOp</b> function sets the stencil test actions.</p>
<pre><code><b>void glStencilOp(
  GLenum</b><i> fail</i><b>,  </b>
<b>  GLenum</b><i> zfail</i><b>, </b>
<b>  GLenum</b><i> zpass  </i>
<b>);</b>
 </code></pre>
<h4>Parameters</h4>
<dl>
<dt>
<i>fail</i></dt>
<dd>
The action to take when the stencil test fails. The following six symbolic constants are accepted: 
<dl>
<dt>
GL_KEEP</dt>
<dd>
Keeps the current value. </dd>
<dt>
GL_ZERO</dt>
<dd>
Sets the stencil buffer value to zero. </dd>
<dt>
GL_REPLACE</dt>
<dd>
Sets the stencil buffer value to <i>ref</i>, as specified by <b>glStencilFunc</b>. </dd>
<dt>
GL_INCR</dt>
<dd>
Increments the current stencil buffer value. Clamps to the maximum representable unsigned value. </dd>
<dt>
GL_DECR</dt>
<dd>
Decrements the current stencil buffer value. Clamps to zero. </dd>
<dt>
GL_INVERT</dt>
<dd>
Bitwise inverts the current stencil buffer value.</dd>
</dl>
</dd>
<dt>
<i>zfail</i></dt>
<dd>
Stencil action when the stencil test passes, but the depth test fails. Accepts the same symbolic constants as <i>fail.</i></dd>
<dt>
<i>zpass </i></dt>
<dd>
Stencil action when both the stencil test and the depth test pass, or when the stencil test passes and either there is no depth buffer or depth testing is not enabled. Accepts the same symbolic constants as<i> fail</i>.
</dd>
</dl>
<h4>Remarks</h4>
<p>
Stenciling, like <i>z</i>-buffering, enables and disables drawing on a per-pixel basis. You draw into the stencil planes using OpenGL drawing primitives, then render geometry and images, using the stencil planes to mask out portions of the screen. Stenciling is typically used in multipass rendering algorithms to achieve special effects, such as decals, outlining, and constructive solid geometry rendering.</p>
<p>
The stencil test conditionally eliminates a pixel based on the outcome of a comparison between the value in the stencil buffer and a reference value. The test is enabled with <a href="glfunc01_3l5x.htm"><b>glEnable</b></a> and <b>glDisable</b> calls with argument GL_STENCIL, and controlled with <a href="glfunc03_9t9f.htm"><b>glStencilFunc</b></a>.</p>
<p>
The <b>glStencilOp</b> function takes three arguments that indicate what happens to the stored stencil value while stenciling is enabled. If the stencil test fails, no change is made to the pixel's color or depth buffers, and <i>fail</i> specifies what happens to the stencil buffer contents.</p>
<p>
Stencil buffer values are treated as unsigned integers. When incremented and decremented, values are clamped to 0 and 2^<i>n</i> – 1, where <i>n</i> is the value returned by querying GL_STENCIL_BITS.</p>
<p>
The other two arguments to <b>glStencilOp</b> specify stencil buffer actions should subsequent depth buffer tests succeed (<i>zpass</i>) or fail (<i>zfail</i>). (See <a href="glfunc01_5kkj.htm"><b>glDepthFunc</b></a>.) They are specified using the same six symbolic constants as <i>fail</i>. Note that <i>zfail</i> is ignored when there is no depth buffer, or when the depth buffer is not enabled. In these cases, <i>fail</i> and <i>zpass</i> specify stencil action when the stencil test fails and passes, respectively.</p>
<p>
Initially the stencil test is disabled. If there is no stencil buffer, no stencil modification can occur and it is as if the stencil tests always pass, regardless of any call to <b>glStencilOp</b>.</p>
<p>
The following functions retrieve information related to <b>glStencilOp</b>:</p>
<p class=indent1>
<a href="glfunc02_5ub8.htm"><b>glGet</b></a> with argument GL_STENCIL_FAIL</p>
<p class=indent1>
<b>glGet</b> with argument GL_STENCIL_PASS_DEPTH_PASS</p>
<p class=indent1>
<b>glGet</b> with argument GL_STENCIL_PASS_DEPTH_FAIL</p>
<p class=indent1>
<b>glGet</b> with argument GL_STENCIL_BITS</p>
<p class=indent1>
<a href="glfunc03_7pgk.htm"><b>glIsEnabled</b></a> with argument GL_STENCIL_TEST</p>
<h4>Error Codes</h4>
<p>
The following are the error codes generated and their conditions.</p>
<table cellspacing=4 cols=2>
<tr valign=top>
<th align=left width=43%>Error Code</th>
<th align=left width=57%>Condition</th>
</tr>
<tr valign=top>
<td width=43%>GL_INVALID_ENUM </td>
<td width=57%><i>fail</i>, <i>zfail</i>, or <i>zpass</i> was any value other than the six defined constant values.</td>
</tr>
<tr valign=top>
<td width=43%>GL_INVALID_OPERATION </td>
<td width=57%><b>glStencilOp</b> was called between a call to <b>glBegin</b> and the corresponding call to <b>glEnd</b>.<b> </b></td>
</tr>
</table><br>
<h4>QuickInfo</h4>
<p>
&nbsp;&nbsp;<b>Windows NT:</b>  Use version 3.5 and later.<br>
&nbsp;&nbsp;<b>Windows:</b>  Use Windows 95 and later.<br>
&nbsp;&nbsp;<b>Windows CE:</b>  Unsupported.<br>
&nbsp;&nbsp;<b>Header:</b> Declared in gl.h.<br>
&nbsp;&nbsp;<b>Import Library:</b> Link with opengl32.lib.</p>
<h4>See Also</h4>
<p>
<a href="glfunc01_5qhv.htm"><b>glAlphaFunc</b></a>, <a href="glfunc01_9u3y.htm"><b>glBegin</b></a>, <a href="glfunc01_4vs3.htm"><b>glBlendFunc</b></a>, <a href="glfunc01_5kkj.htm"><b>glDepthFunc</b></a>, <a href="glfunc01_3l5x.htm"><b>glEnable</b></a>, <a href="glfunc01_9u3y.htm"><b>glEnd</b></a>, <a href="glfunc03_7pgk.htm"><b>glIsEnabled</b></a>, <a href="glfunc03_7wkw.htm"><b>glLogicOp</b></a>, <a href="glfunc03_9t9f.htm"><b>glStencilFunc</b></a> </p>
<p>&nbsp;</p></body>
</HTML>
