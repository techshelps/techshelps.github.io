<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Porting Device Contexts and Pixel Formats</title>
<link disabled rel=stylesheet href=../../backsdk3.css>
<style type="text/css">
@import url(../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h1><a name="_ogl_porting_device_contexts_and_pixel_formats"></a>Porting Device Contexts and Pixel Formats</h1>
<p>
Each window in the Microsoft implementation of OpenGL for Windows NT and Windows 95 has its own current pixel format. A pixel format is defined by a <a href="ntopnglr_73jm.htm"><b>PIXELFORMATDESCRIPTOR</b></a> data structure. Because each window has its own pixel format, you obtain a device context, set the pixel format of the device context, and then create an OpenGL rendering context for the device context. The rendering context automatically uses the pixel format of its device context.</p>
<p>
The X Window System also uses a data structure, <b>XVisualInfo</b>, to specify the properties of pixels in a window. <b>XVisualInfo</b> structures contain a <b>Visual</b> data structure that describes how color resources are used in a specific screen.</p>
<p>
In the X Window System, <b>XVisualInfo</b> is used to create a window by setting the window to the pixel format you want. The returned structure is used to create the window and a rendering context. In Windows NT and Windows 95, you first create a window and get a handle to a device context (HDC) of the window. The HDC is then used to set the pixel format for the window. The rendering context uses the pixel format of the window.</p>
<p>
The following table compares the X Window System and GLX visual functions with their equivalent Win32 pixel format functions.</p>
<table cellspacing=4 cols=2>
<tr valign=top>
<th align=left width=50%>X Window/GLX Visual Function</th>
<th align=left width=50%>Win32 Pixel Format Function</th>
</tr>
<tr valign=top>
<td width=50%>XVisualInfo*<br>
<b>glXChooseVisual(</b>Display <i>*dpy</i>,<br>
    int <i>screen</i>,<br>
    int <i>*attribList</i><b>)</b></td>
<td width=50%>int <a href="ntopnglr_2qb8.htm"><b>ChoosePixelFormat</b></a><b>(</b>HDC <i>hdc</i>,<br>
PIXELFORMATDESCRIPTOR <i>*ppfd</i><b>)</b></td>
</tr>
<tr valign=top>
<td width=50%>int <b>glXGetConfig(</b>Display <i>*dpy</i>,<br>
    XVisualInfo <i>*vis</i>,<br>
    int <i>*attribList</i>,<br>
    int <i>*value</i><b>)</b></td>
<td width=50%>int <a href="ntopnglr_9ygk.htm"><b>DescribePixelFormat</b></a><b>(</b>HDC <i>hdc</i>,<br>
        int <i>iPixelFormat</i>,<br>
        UINT <i>nBytes</i>,<br>
LPPIXELFORMATDESCRIPTOR <i>ppfd</i><b>)</b></td>
</tr>
<tr valign=top>
<td width=50%>XVisualInfo*<br>
<b>XGetVisualInfo(</b>Display <i>*dpy</i>,<br>
    long <i>vinfo_mask</i>,<br>
    XVisualInfo <i>*vinfo_templ</i>,<br>
    int <i>*nitems</i><b>)</b></td>
<td width=50%>int <a href="ntopnglr_99kk.htm"><b>GetPixelFormat</b></a><b>(</b>HDC <i>hdc</i><b>)</b></td>
</tr>
<tr valign=top>
<td width=50%>The <i>visual</i> returned by <b>glxChooseVisual</b> is used when a window is created.</td>
<td width=50%>BOOL <a href="ntopnglr_3q5w.htm"><b>SetPixelFormat</b></a><b>(</b>HDC <i>hdc</i>,<br>
        int <i>iPixelFormat</i>,<br>
PIXELFORMATDESCRIPTOR <i>*ppfd</i><b>)</b></td>
</tr>
</table><br>
<p>
</p>
<p>
The following sections give examples of pixel format code fragments for an X Window System program, and the same code after it has been ported to Windows NT and Windows 95. </p>
<p>
For more information on pixel formats, see <a href="ntopnglo_39ir.htm">Pixel Formats</a>. </p>
<p>&nbsp;</p></body>
</HTML>
