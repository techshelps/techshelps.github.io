<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>WM_NOTIFYFORMAT</TITLE>

<META NAME=MS-HKWD CONTENT="WM_NOTIFYFORMAT">
<META NAME="Keywords" CONTENT="Internet Tools & Technologies, Common controls">
<META NAME="Platform" CONTENT="Windows, Win95, WinNT, Mac">
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; CHARSET=iso8859-1">
<META NAME="MS.LOCALE" CONTENT="EN-US">
<META NAME="ROBOTS" CONTENT="all">


<SCRIPT>
//<!--
var g_isIE = false, g_isNav = false, g_iMaj = 0, g_sPlat = "";
// -->
</SCRIPT>
<SCRIPT SRC="../../../../code/ver.js"></SCRIPT>


<SCRIPT DEFER SRC="../../../../code/common.js"></SCRIPT>
<SCRIPT DEFER>
//<!--
function InitPage()
{
	if (g_isIE && g_iMaj >= 4)	
	{
		SetTOC();
	}
}
//-->
</SCRIPT>

<LINK REL="stylesheet" HREF="/msdn/sdk/inetsdk/help/basicsdkIE4.css" TYPE="text/css">
<!-- STYLE_START -->


<SCRIPT>
//<!--
   var sVR = '../../../../'	// Set root for the style sheet
   var sCSS = '<LINK REL="stylesheet" HREF="' + sVR;

   if(g_isIE)
   {
	   if (g_iMaj >= 4) // For MSIE 4.0 or later
	   {
		   sCSS += 'basicSDKIE4';
		   if (g_sPlat == "Win") // Windows only for now
		   {
			   document.createStyleSheet(sVR + 'advSDKIE4.css');
		   }
	   }
	   else // For MSIE 3.0 or earlier
	   {
		   sCSS += 'basicSDKIE3';
	   }
   }
   else if (g_isNav) // For all Nav versions
   {
	   sCSS += 'basicSDKNAV';
   }
   else
   {
	   sCSS += 'basicSDKIE3'; // default to IE3 sheet
   }

   sCSS += (sCSS == '' ? '' : '.css" TYPE="text/css">');

   document.write(sCSS);
//-->
</SCRIPT>
<!-- STYLE_END -->
</HEAD>
<BODY onload="InitPage()" BGCOLOR="#FFFFFF">

<A NAME="pagetop"></A><A NAME="WM_NOTIFYFORMAT"></A>
<!--NAV_LINKS_START-->
<TABLE class=main BORDER=0 CELLSPACING="0" CELLPADDING="0" WIDTH="10%"><TR><TD ROWSPAN="3" VALIGN="TOP" WIDTH="121"><IMG SRC="../../../../art/headbar2.gif" WIDTH="121" HEIGHT="82" BORDER=0 ALT="WM_NOTIFYFORMAT"></TD><TD ROWSPAN="2" VALIGN="TOP" WIDTH="186"><IMG SRC="../../../../art/headbard.gif" WIDTH="186" HEIGHT="44" BORDER=0 ALT="WM_NOTIFYFORMAT"></TD><TD VALIGN="TOP" WIDTH="470"><IMG SRC="../../../../art/replace1.gif" WIDTH="470" HEIGHT="17" BORDER=0 ALT="*"></TD></TR><TR><TD><PRE><IMG SRC="../../../../art/arrowrht.gif" WIDTH="14" HEIGHT="14" ALIGN="MIDDLE" BORDER=0 ALT="*"><object id="hhal_1" type="application/x-oleobject"
	classid="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
<PARAM name="Command" value="ALink">
<PARAM name="Item1" value="">
<PARAM name="Item2" value=_win32_Contents>
</object><A STYLE="color:black" ID=TOC HREF=JavaScript:hhal_1.Click()>Contents</A>  <IMG SRC="../../../../art/arrowrht.gif" WIDTH="14" HEIGHT="14" ALIGN="MIDDLE" BORDER=0 ALT="*"><object id="hhal_2" type="application/x-oleobject"
	classid="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
<PARAM name="Command" value="ALink">
<PARAM name="Item1" value="">
<PARAM name="Item2" value=_win32_Index_1sz1>
</object><A STYLE="color:black" HREF=JavaScript:hhal_2.Click()>Index</A>  <IMG SRC="../../../../art/arrowrht.gif" WIDTH="14" HEIGHT="14" ALIGN="MIDDLE" BORDER=0 ALT="*"><A STYLE="color:black" HREF="../Common.htm#Common_Controls">Topic Contents</A></PRE></TD></TR>
<TR><TD COLSPAN="2"><PRE><IMG SRC="../../../../art/arrowlft.gif" WIDTH="17" HEIGHT="15" ALIGN="MIDDLE" BORDER=0 ALT="*"><B>Previous Topic:</B> <A STYLE="color:black" HREF="WM_NOTIFY.htm">WM_NOTIFY</A>
<IMG SRC="../../../../art/arrownxt.gif" WIDTH="17" HEIGHT="16" ALIGN="MIDDLE" BORDER=0 ALT="*"><B>Next Topic:</B> <A  STYLE="color:black" HREF="../macros/Macros.htm">Common Control Utility Macros</A></PRE></TD></TR>
</TABLE>
<!-- NAV_LINKS_END -->
<BLOCKQUOTE class="body">
<!-- CONTENTS_START -->
<H1>WM_NOTIFYFORMAT</H1>
<BR CLEAR=ALL>
<PRE>WM_NOTIFYFORMAT
    hwndFrom = (HWND) wParam; 
    Command = lParam; 
</PRE>
<P>Used to determine if a window accepts ANSI or Unicode structures in the <A HREF="WM_NOTIFY.htm#WM_NOTIFY">WM_NOTIFY</A> notification message. WM_NOTIFYFORMAT messages are sent from a common control to its parent window and from the parent window to the common control.
<UL><LI>Returns one of the following:
<TABLE>
<TR><TD>NFR_ANSI
 </TD><TD>ANSI structures should be used in <A HREF="WM_NOTIFY.htm#WM_NOTIFY">WM_NOTIFY</A> messages sent by the control.</TD></TR><TR><TD>NFR_UNICODE
 </TD><TD>Unicode structures should be used in <A HREF="WM_NOTIFY.htm#WM_NOTIFY">WM_NOTIFY</A> messages sent by the control. </TD></TR><TR><TD>0
 </TD><TD>An error occurred. </TD></TR></TABLE>
<P>If <I>Command</I> is NF_REQUERY, the return value is the result of the requery operation. 
</UL>
<DL><DT><I>hwndFrom</I>
 </DT><DD>Handle to the window that is sending the WM_NOTIFYFORMAT message. If <I>Command</I> is NF_QUERY, this parameter is the handle to a control. If <I>Command</I> is NF_REQUERY, this parameter is the handle to the parent window of a control.
</DD><DT><I>Command</I> 
 </DT><DD>Command value that specifies the nature of the WM_NOTIFYFORMAT message. This will be one of the following values: 
<TABLE>
<TR><TD>NF_QUERY
 </TD><TD>The message is a query to determine whether ANSI or Unicode structures should be used in <A HREF="WM_NOTIFY.htm#WM_NOTIFY">WM_NOTIFY</A> messages. This command is sent from a control to its parent window during the creation of a control and in response to an NF_REQUERY command.</TD></TR><TR><TD>NF_REQUERY
 </TD><TD>The message is a request for a control to send an NF_QUERY form of this message to its parent window. This command is sent from the parent window. The parent window is asking the control to requery it about the type of structures to use in <A HREF="WM_NOTIFY.htm#WM_NOTIFY">WM_NOTIFY</A> messages.</TD></TR></TABLE>
</DD></DL>
<P>When a common control is created, the control sends a WM_NOTIFYFORMAT message to its parent window to determine the type of structures to use in <A HREF="WM_NOTIFY.htm#WM_NOTIFY">WM_NOTIFY</A> messages. If the parent window does not handle this message, the
<object id="hhal_3" type="application/x-oleobject"
	classid="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
<PARAM name="Command" value="ALink">
<PARAM name="Item1" value="">
<PARAM name="Item2" value=_win32_Further_Reading>
</object><A HREF=JavaScript:hhal_3.Click()>DefWindowProc</A> function responds according to the type of the parent window. That is, if the parent window is a Unicode window, <B>DefWindowProc</B> returns NFR_UNICODE, and if the parent window is an ANSI window, <B>DefWindowProc</B> returns NFR_ANSI. If the parent window is a dialog box and does not handle this message, the
<object id="hhal_4" type="application/x-oleobject"
	classid="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
<PARAM name="Command" value="ALink">
<PARAM name="Item1" value="">
<PARAM name="Item2" value=_win32_Further_Reading>
</object><A HREF=JavaScript:hhal_4.Click()>DefDlgProc</A> function similarly responds according to the type of the dialog box (Unicode or ANSI). 

<P>A parent window can change the type of structures a common control uses in <A HREF="WM_NOTIFY.htm#WM_NOTIFY">WM_NOTIFY</A> messages by setting <I>lParam</I> to NF_REQUERY and sending a WM_NOTIFYFORMAT message to the control. This causes the control to send an NF_QUERY form of the WM_NOTIFYFORMAT message to the parent window.

<P>Not all controls will send WM_NOTIFYFORMAT messages. In particular, the standard Windows controls (edit controls, combo boxes, list boxes, buttons, scroll bars, and static controls) do not send WM_NOTIFYFORMAT messages. Consult the documentation for the control to determine if it will send the WM_NOTIFYFORMAT message.

<!-- CONTENTS_END -->
<!-- START PAGE FOOTER -->
<H6><HR size=1></H6>
<P><A ID=line HREF="#pagetop"><IMG src="../../../../art/arrowup1.gif" WIDTH="17" HEIGHT="16" ALIGN="MIDDLE" BORDER="0" ALT="Up">&nbsp;Top of Page</A>
<BR><A ID=line HREF="http://www.microsoft.com/misc/cpyright.htm" TARGET="_top">&#169; 1997 Microsoft Corporation. All rights reserved. Terms of Use.</A>
<!-- END PAGE FOOTER -->
</BLOCKQUOTE>
</BODY>
</HTML>