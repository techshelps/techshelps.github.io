<HTML>
<HEAD>
<meta name="PREMIUM" content="MSDN">
<meta http-equiv="Content-Type" content="text/html; charset=iso8859-1">
<meta name="MS.LOCALE" content="EN-US">
<meta name="DESCRIPTION" content="This page is from the MFC Migration Kit book in the MSDN Library">

<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Moving Your Code into the MFC Project</TITLE><META NAME="MS-HKWD" CONTENT="Moving Your Code into the MFC Project"><style>@import url(msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="msdn_ie3.css"></HEAD>

<BODY bgcolor="#FFFFFF" link=#003399 vlink=#996699>


<FONT FACE="Verdana, Arial, Helvetica" SIZE="2">

	<!--TOOLBAR_START-->
	<!--TOOLBAR_EXEMPT-->
	<!--TOOLBAR_END-->


<H3>    Moving Your Code into the MFC Project</H3><P>Before any real conversion begins, you need to get your source code set up as part of your new MFC project and do some limited cleanup work. Here are the general steps in brief (details follow):</P>
<P>    1.    <A HREF="S4920.HTM">Copy source files from your C project</A> into the MFC project directory. </P>
<P>
<P><B>Caution</B>  See the following discussion in <A HREF="S4920.HTM">Copying C Files to the MFC Project</A> for some files you should <I>not</I> copy over.</P>
<P>
<P>    2.    Rename the .C files to .CPP and formally add them to the project.</P>
<P>    3.    <A HREF="S4921.HTM">Merge your C project's .RC file</A> with the one in the MFC project. The discussion below explains how to do this.</P>
<P>    4.    <A HREF="S4922.HTM">Trim unnecessary #include directives</A> in your files, replacing them with:</P>
<P><BR></P><FONT FACE="COURIER" SIZE="3"><P>#include &lt;stdafx.h&gt;
</PRE></FONT>
<P>
<P>When you finish these steps, you've completed the preparation. Your files and resources are merged with the MFC skeleton application but not yet integrated with it. Building the project now will result in numerous errors. Phase 1 begins the migration in earnest and corrects those problems. By the end of Phase 1, you will have a running application that does what your C application did and also takes advantage of some of MFC's features.</P>
</FONT>
</BODY>
</HTML>
