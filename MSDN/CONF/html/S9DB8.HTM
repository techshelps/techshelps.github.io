<HTML><HEAD><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Other Things to Know</TITLE><META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset= iso-8859-1"><style>@import url(msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="msdn_ie3.css"><style>@import url(msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="msdn_ie3.css"></HEAD>	<BODY bgcolor="#FFFFFF" link=#003399 vlink=#996699>


	<FONT FACE="Verdana, Arial, Helvetica" SIZE="2">

	<!--TOOLBAR_START-->
	<!--TOOLBAR_EXEMPT-->
	<!--TOOLBAR_END-->

<h3>Other Things to Know</H3><H4> </A>The Microsoft DNS server supports "Notify"</H4><P>The DNS NOTIFY transaction allows master servers to inform secondary servers when the zone has changed (notify is set on the master server on a per zone basis)&mdash;an interrupt as opposed to poll model. This should reduce propagation delay while not unduly increasing the master server's load. </P>
<P>The use of this feature depends on how often the master server's data will change and how slow the link is between the secondary and the primary. If the master server's data changes a great deal, and it is important that the data on the secondaries is very accurate, and the link between the site that houses the primary and the secondary is not negatively impacted by the zone transfer, then it may be a good idea to use this feature.</P>
<P>It's also a good idea to use this feature if the master server's data does not change very often. If this is the case then you can make the refresh time on the master very long and a notification will be sent to the secondaries when they need to update their zone database.</P>
<H4> </A>Microsoft DNS supports "Round Robin"</H4><P>Round Robin is a technique used as a form of load balancing between servers. You can read more about load balancing in RFC 1794. Here's an example that shows how this works: </P>
<P>On the DNS server you could have 2 address entries for the same host, such as the following:</P>
<P><B>copperhead.glennwo.scottsu.com A 157.55.106.193</B></P>
<P>copperhead.glennwo.scottsu.com A 157.55.107.88</P>
<P>If you make a query via some mechanism such as "<B>PING coppe</B><B>r</B><B>head.glennwo.scottsu.com</B>," the DNS server will send both IP addresses back, but typically the client will always use the first one. The next time the DNS server receives a query for this host the order of the list is changed in a round robin fashion (the address that was first in the previous list will be last in the new list), hence when the client resolver chooses the first IP address in the list, it chooses a different server. This is typically used for load balancing.</P>
<P>Here is a trace of a query that shows how the feature works. In frame 1 a query is sent to get the IP address for host "<B>copperhead.glennwo.scottsu.com</B>". Since there were 2 entries in the database, both were returned. The client resolver, in most implementations (including the Microsoft resolver) uses the first entry and discards the other.</P>
<p><B></B></P>
<P CLASS="spacing"><BR></P>
<pre><FONT FACE="Courier New" SIZE="3">1  SCOTTSU-7  Xircom40417A DNS  0x1:Std Qry for copperhead.glennwo.scottsu.com 

DNS: 0x1:Std Qry for copperhead.glennwo.scottsu.com of type Host Addr on class INET addr.

2  Xircom40417A SCOTTSU-7  DNS  0x1:Std Qry Resp. for copperhead.glennwo.scottsu.com 

DNS: 0x1:Std Qry Resp. for copperhead.glennwo.scottsu.com of type Host Addr on class INET addr.
....
DNS: Answer section: copperhead.glennwo.scottsu.com of type Host Addr on class INET addr.(2 records present)
   DNS: Resource Record: copperhead.glennwo.scottsu.com of type Host Addr on class INET addr.
    DNS: Resource Name: copperhead.glennwo.scottsu.com
    DNS: Resource Type = Host Address
    DNS: Resource Class = Internet address class
    DNS: Time To Live = 0 (0x0)
    DNS: Resource Data Length = 4 (0x4)
    DNS: IP address = 157.55.107.88
   DNS: Resource Record: copperhead.glennwo.scottsu.com of type Host Addr on class INET addr.
    DNS: Resource Name: copperhead.glennwo.scottsu.com
    DNS: Resource Type = Host Address
    DNS: Resource Class = Internet address class
    DNS: Time To Live = 3600 (0xE10)
    DNS: Resource Data Length = 4 (0x4)
    DNS: IP address = 157.55.106.193
</font></pre>
<P>The next time someone makes a query for the host <B>coppe</B><B>r</B><B>head.glennwo.scottsu.com</B> the first IP address in the list will be different.</P>
<p><B></B></P>
<P CLASS="spacing"><BR></P>
<pre><FONT FACE="Courier New" SIZE="3">DNS: Answer section: copperhead.glennwo.scottsu.com of type Host Addr on class INET addr.(2 records present)
   DNS: Resource Record: copperhead.glennwo.scottsu.com of type Host Addr on class INET addr.
    DNS: Resource Name: copperhead.glennwo.scottsu.com
    DNS: Resource Type = Host Address
    DNS: Resource Class = Internet address class
    DNS: Time To Live = 3600 (0xE10)
    DNS: Resource Data Length = 4 (0x4)
    DNS: IP address = <B>157.55.106.193</B>
   DNS: Resource Record: copperhead.glennwo.scottsu.com of type Host Addr on class INET addr.
    DNS: Resource Name: copperhead.glennwo.scottsu.com
    DNS: Resource Type = Host Address
    DNS: Resource Class = Internet address class
    DNS: Time To Live = 0 (0x0)
    DNS: Resource Data Length = 4 (0x4)
    DNS: IP address = <B>157.55.107.88</B></font></pre>
<H4> </A>NetBIOS Scope</H4><P>The main thing to remember about DNS support for NetBIOS scope is<B><I> DON'T USE IT </I></B>unless your network already uses NetBIOS scope. In a scope configuration, all hosts are assigned a scope ID, and they register this scope ID&mdash;along with their NetBIOS name with WINS. If DNS is configured to use scope, when it queries WINS, in addition to passing the DNS host name as the single-part NetBIOS name, it also passes the DNS domain as the NetBIOS scope ID.</P>
<P>A very important point to remember about scope is that when scope is used, NetBIOS applications can not see hosts that are in another scope! One such NetBIOS application happens to be the Windows&nbsp;NT Netlogon service which is responsible for trust relationships between Windows&nbsp;NT domains. This means, for example, that if scope is used a user cannot logon in a domain whose domain controllers have a different scope than that of the users station. It also means that a user cannot access resources on a network server in a domain whose scope is different than that of the users station.</P>
<H4> </A>When does Microsoft DNS read and write to the zone files?</H4><P>On startup of the DNS service, the zone files are read from disk. As changes are made through the DNS Manager, the service periodically flushes these changes to disk. In general, you should always use the DNS Manager utility to add, delete, or modify resource records in the database, however if you feel a need to modify the files with an editor, you should only make changes to these files if the DNS server service is stopped. By default, the files are located in \%SystemRoot%\system32\Dns.</P>
<P>If you use the DNS administrative utility, and choose the DNS | "Update Server Data Files" menu item, the files will also be flushed from memory to disk.</P>
<H4>The Eventlog</H4><P>The DNS server will report events into the Eventlog. This allows an administrator to determine when a zone transfer has been completed, or when the DNS service has started, stopped or an error has occurred.</P>
<P><img src="39085.gif"></P></BODY></HTML>
