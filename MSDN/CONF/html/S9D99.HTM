<HTML><HEAD><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>The Database File</TITLE><META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset= iso-8859-1"><style>@import url(msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="msdn_ie3.css"><style>@import url(msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="msdn_ie3.css"></HEAD>	<BODY bgcolor="#FFFFFF" link=#003399 vlink=#996699>


	<FONT FACE="Verdana, Arial, Helvetica" SIZE="2">

	<!--TOOLBAR_START-->
	<!--TOOLBAR_EXEMPT-->
	<!--TOOLBAR_END-->

<h3>The Database File</H3><P>A database file or "zone file" is the file which contains the <I>resource records</I> for that part of the domain for which the zone is responsible. Some of the common resource records are given below. For a more complete list, look in the Appendix of this document or refer to the appropriate RFCs. Windows&nbsp;NT 4.0 supplies a file as a template to work with called "place.dns<I>."</I> This file should be edited and renamed before you use it on a production DNS server. It is generally a good idea to name this file the same as the zone it represents. This is the file that will be replicated between masters and secondaries.</P>
<H4> </A>The Start of Authority</H4><P>The first record in any database file is the SOA Record.</P>
<P><B>IN SOA &lt;source host&gt; &lt;contact e-mail&gt; &lt;ser. no.&gt; &lt;refresh time&gt; &lt;retry time&gt; &lt;expiration time&gt; &lt;TTL&gt;</B></P>
<UL><LI><B>source host</B>&mdash;the host on which this file is maintained.</LI><LI><B>contact e-mail</B>&mdash;the Internet e-mail address for the person responsible for this domain's database file.</LI></UL>
<TABLE COLS="2" BORDER="0" CELLPADDING="7"><COLGROUP><COL WIDTH="32pt" VALIGN="TOP"><COL WIDTH="311pt" VALIGN="TOP"></COLGROUP><TBODY><TR><TD VALIGN="TOP">
<FONT FACE="Verdana, Arial" SIZE=2><P>
<img src="39058.gif"></P></TD>

<TD VALIGN="TOP"><FONT FACE="Verdana, Arial, Helvetica" SIZE="2"><P><I>Instead of writing the "@" symbol in the e-mail name as would normally be done, the "@" must be replaced with a "." when placed in the zone files. In other words, the e-mail address glennwo@microsoft.com would be represented as glennwo.microsoft.com in the zone file.</I></P></TD>

</TR></TBODY></TABLE>
<P CLASS="spacing"><BR></P><UL><LI><B>serial number</B>&mdash;the "version number" of this database file. This number should increase each time the database file is changed.</LI><LI><B>refresh time</B>&mdash;the elapsed time (in seconds) that a secondary server will wait between checks to its master server to see if the database file has changed and a zone transfer should be requested.</LI><LI><B>retry time</B>&mdash;the elapsed time (in seconds) that a secondary server will wait before retrying a failed zone transfer.</LI><LI><B>expiration time</B>&mdash;the elapsed time (in seconds) that a secondary server will keep trying to download a zone. After this time limit expires, the old zone information will be discarded.</LI><LI><B>Time to Live</B>&mdash;the elapsed time (in seconds) that a DNS server is allowed to cache any resource records from this database file. This is the value that is sent out with all query responses from this zone file when the individual resource record does not contain an overriding value.</LI></UL><P>In order for a resource record to span a line in a database file, parentheses must enclose the line breaks. </P>
<P></P>

<TABLE COLS="2" BORDER="0" CELLPADDING="7"><COLGROUP><COL WIDTH="32pt" VALIGN="TOP"><COL WIDTH="311pt" VALIGN="TOP"></COLGROUP><TBODY><TR><TD VALIGN="TOP">
<FONT FACE="Verdana, Arial" SIZE=2><P>
<img src="39059.gif"></P></TD>

<TD VALIGN="TOP"><FONT FACE="Verdana, Arial, Helvetica" SIZE="2"><P><I>In a zone file, the "@" symbol represents the root domain of the zone (microsoft.com in the following examples). The "IN" in the following records is the class of data. It stands for Internet. Other classes exist, but none of them are currently in widespread use.</I></P></TD>

</TR></TBODY></TABLE>
<P CLASS="spacing"><BR></P><P></P>

<TABLE COLS="2" BORDER="0" CELLPADDING="7"><COLGROUP><COL WIDTH="32pt" VALIGN="TOP"><COL WIDTH="311pt" VALIGN="TOP"></COLGROUP><TBODY><TR><TD VALIGN="TOP">
<FONT FACE="Verdana, Arial" SIZE=2><P>
<img src="39060.gif"></P></TD>

<TD VALIGN="TOP"><FONT FACE="Verdana, Arial, Helvetica" SIZE="2"><P><I>Any domain name in the database file which is not terminated with a period "." will have the root domain appended to the end.</I></P></TD>

</TR></TBODY></TABLE>
<P CLASS="spacing"><BR></P><P></P>
<P>Example:</P>
<P>@  IN SOA  nameserver1.microsoft.com. glennwo.microsoft.com. (</P>
<P>1    ; serial number</P>
<P>10800    ; refresh [3 hours]</P>
<P>3600    ; retry [1hour]</P>
<P>604800    ; expire [7 days]</P>
<P>86400 )    ; time to live [1 day]</P>
<P>Setting the servers refresh interval is a balance between data consistency (accuracy of your data) and your networks load.</P>
<P><img src="39061.gif"></P>
<H4> </A>The Name Server Record</H4><P>Lists the name servers for this domain allowing other name servers to lookup names in your domain.</P>
<P><B>&lt;domain&gt; IN NS &lt;nameserver host &gt;</B></P>
<P>Example:</P>
<P><B>        </B>@ IN NS  nameserver2.microsoft.com.</P>
<P><B>        </B>@ IN NS  nameserver3.microsoft.com.</P>
<H4> </A>The Mail Exchange Record</H4><P>This record tells us what host processes mail for this domain. If multiple mail exchange records exist, the resolver will attempt to contact the mail servers in order of preference from lowest value (highest priority) to highest value (lowest priority). By using the example records that follow, mail addressed to scottsu@microsoft.com is delivered to scottsu@mailserver0.microsoft.com first if possible and then to scottsu@mailserver1.microsoft.com if mailserver0 is unavailable.</P>
<P><B>&lt;domain&gt; IN MX &lt;preference&gt; &lt;mailserver host &gt;</B></P>
<P>Example:</P>
<P>        @    IN MX  1  mailserver0</P>
<P>        @    IN MX  2  mailserver1</P>
<H4> </A>The Host Record</H4><P>A host record is used to statically associate hosts names to IP addresses within a zone. It should contain entries for all hosts which require static mappings including workstations, name servers, mail servers, etc. These are the records which make up most of the database file when static records are used.</P>
<P><B>&lt;host name&gt; IN A &lt;ip address of host&gt;</B></P>
<P>Example:</P>
<P>        rhino        IN A  157.55.200.143</P>
<P>        nameserver2    IN A  157.55.200.2</P>
<P>        mailserver1    IN A  157.55.200.51</P>
<H4>The Local Host Record</H4><P>A local host record allows lookups for "localhost.microsoft.com." to return 127.0.0.1.</P>
<P><B>localhost  IN A  127.0.0.1</B></P>
<H4> </A>The CNAME Record</H4><P>These records are sometimes called "aliases" but are technically referred to as "Canonical Name" (CNAME) entries. These records allow you to use more than one name to point to a single host.</P>
<P>Using canonical names makes it easy to do such things as host both an FTP server and a Web server on the same machine. </P>
<P><B>&lt;host alias name&gt; IN CNAME &lt;host name&gt;</B></P>
<P>Example:</P>
<P>Assume that www.microsoft.com and FTP.microsoft.com are on the same machine. If this is the case then you might have the following entries in your zone file:</P>
<P>FileServer1    IN A            157.55.200.41</P>
<P>FTP        CNAME    FileServer1</P>
<P>www        CNAME    FileServer1</P>
<P>If you ever intend on moving the FTP server service away from the Web service, then all you have to do is change the CNAME in the DNS server for FTP and add an address record for the new server. For example:</P>
<P>FTP        CNAME    FileServer2</P>
<P>FileServer2    IN A            157.55.200.42</P></BODY></HTML>
