<HTML><HEAD><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>The Zone Transfer</TITLE><META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset= iso-8859-1"><style>@import url(msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="msdn_ie3.css"><style>@import url(msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="msdn_ie3.css"></HEAD>	<BODY bgcolor="#FFFFFF" link=#003399 vlink=#996699>


	<FONT FACE="Verdana, Arial, Helvetica" SIZE="2">

	<!--TOOLBAR_START-->
	<!--TOOLBAR_EXEMPT-->
	<!--TOOLBAR_END-->

<h3>The Zone Transfer</H3><P>A zone transfer is nothing more than a file copy. The entire contents of the database get copied from the primary (or master) to the secondary each time the secondary is "notified" by the primary (or master) that there has been a change. </P>
<P>When the secondary's DNS service starts or the secondary's "refresh interval" in its SOA record has expired (by default this is set to 3 hours), it will query its primary to determine the serial number in the SOA record. If it is different than that of its local database, it will ask for a zone transfer. </P>
<P>The first frame is the request for the primary's SOA record.</P>
<P CLASS="spacing"><BR></P>
<pre><FONT FACE="Courier New" SIZE="3">secondary  primary  DNS  0x4000:Std Qry for scottsu.com of type SOA on class INET 

+ FRAME: Base frame properties
+ ETHERNET: ETYPE = 0x0800 : Protocol = IP: DOD Internet Protocol
+ IP: ID = 0x7701; Proto = UDP; Len: 57
+ UDP: Src Port: DNS, (53); Dst Port: DNS (53); Length = 37 (0x25)
 DNS: 0x4000:<B>Std Qry for scottsu.com of type SOA</B> on class INET addr.
  DNS: Query Identifier = 16384 (0x4000)
 + DNS: DNS Flags = Query, OpCode&mdash;Std Qry, RCode&mdash;No error
  DNS: Question Entry Count = 1 (0x1)
  DNS: Answer Entry Count = 0 (0x0)
  DNS: Name Server Count = 0 (0x0)
  DNS: Additional Records Count = 0 (0x0)
  DNS: Question Section: scottsu.com of type SOA on class INET addr.
   DNS: Question Name: scottsu.com
   DNS: Question Type = Start of zone of authority
   DNS: Question Class = Internet address class</font></pre>
<P>The next frame is the SOA record being returned.</P>
<P CLASS="spacing"><BR></P>
<pre><FONT FACE="Courier New" SIZE="3">primary  secondary  DNS  0x4000:Std Qry Resp. for scottsu.com of type SOA on class INET 

+ FRAME: Base frame properties
+ ETHERNET: ETYPE = 0x0800 : Protocol = IP: DOD Internet Protocol
+ IP: ID = 0x3617; Proto = UDP; Len: 149
+ UDP: Src Port: DNS, (53); Dst Port: DNS (53); Length = 129 (0x81)
 DNS: 0x4000:Std Qry Resp. for scottsu.com of type SOA on class INET addr.
  DNS: Query Identifier = 16384 (0x4000)
 + DNS: DNS Flags = Response, OpCode&mdash;Std Qry, AA RA Bits Set, RCode&mdash;No error
  DNS: Question Entry Count = 1 (0x1)
  DNS: Answer Entry Count = 1 (0x1)
  DNS: Name Server Count = 0 (0x0)
  DNS: Additional Records Count = 0 (0x0)
  DNS: Question Section: scottsu.com of type SOA on class INET addr.
   DNS: Question Name: scottsu.com
   DNS: Question Type = Start of zone of authority
   DNS: Question Class = Internet address class
  DNS: Answer section: scottsu.com of type SOA on class INET addr.
<B>   DNS: Resource Name: scottsu.com</B>
   DNS: Resource Type = Start of zone of authority
   DNS: Resource Class = Internet address class
   DNS: Time To Live = 0 (0x0)
   DNS: Resource Data Length = 80 (0x50)
   DNS: Primary Name Server: scottsu-7.scottsu.com
   DNS: Responsible Authorative Mailbox: Administrator.scottsu-7.scottsu.com
   DNS: Version number = 19 (0x13)
   DNS: Refresh Interval = 3600 (0xE10)
   DNS: Retry interval = 600 (0x258)
   DNS: Expiration Limit = 86400 (0x15180)
   DNS: Minimum TTL = 3600 (0xE10)</font></pre>
<P>The next frame is the request for the zone transfer.</P>
<p></P>
<P CLASS="spacing"><BR></P>
<pre><FONT FACE="Courier New" SIZE="3">secondary  primary  DNS  0x0:Std Qry for scottsu.com of type Req. for zn Xfer 

+ FRAME: Base frame properties
+ ETHERNET: ETYPE = 0x0800 : Protocol = IP: DOD Internet Protocol
+ IP: ID = 0x7A01; Proto = TCP; Len: 71
+ TCP: .AP..., len: 31, seq: 365696, ack: 35871892, win: 8760, src: 1072 dst: 53 
 DNS: 0x0:Std Qry for scottsu.com of type Req. for zn Xfer on class INET addr.
  DNS: TCP Length = 29 (0x1D)
  DNS: Query Identifier = 0 (0x0)
 + DNS: DNS Flags = Query, OpCode&mdash;Std Qry, RCode&mdash;No error
  DNS: Question Entry Count = 1 (0x1)
  DNS: Answer Entry Count = 0 (0x0)
  DNS: Name Server Count = 0 (0x0)
  DNS: Additional Records Count = 0 (0x0)
  DNS: Question Section: scottsu.com of type Req. for zn Xfer on class INET addr.
   DNS: Question Name: scottsu.com
   DNS: Question Type = <B>Request for zone transfer</B>
   DNS: Question Class = Internet address class</font></pre>
<P>The next frame contains the database being returned from the master.</P>
<p></P>
<P CLASS="spacing"><BR></P>
<pre><FONT FACE="Courier New" SIZE="3">primary  secondary  DNS  0x0:Std Qry Resp. for scottsu.com of type SOA 

+ FRAME: Base frame properties
+ ETHERNET: ETYPE = 0x0800 : Protocol = IP: DOD Internet Protocol
+ IP: ID = 0x3817; Proto = TCP; Len: 163
+ TCP: .AP..., len: 123, seq: 35871892, ack: 365727, win: 8729, src: 53 dst: 1072 
 DNS: 0x0:Std Qry Resp. for scottsu.com of type SOA on class INET addr.
  DNS: TCP Length = 121 (0x79)
  DNS: Query Identifier = 0 (0x0)
 + DNS: DNS Flags = Response, OpCode&mdash;Std Qry, RA Bits Set, RCode&mdash;No error
  DNS: Question Entry Count = 1 (0x1)
  DNS: Answer Entry Count = 1 (0x1)
  DNS: Name Server Count = 0 (0x0)
  DNS: Additional Records Count = 0 (0x0)
  DNS: Question Section: scottsu.com of type Req. for zn Xfer on class INET addr.
   DNS: Question Name: scottsu.com
   DNS: Question Type = Request for zone transfer
   DNS: Question Class = Internet address class
  DNS: Answer section: of type SOA on class INET addr.
   DNS: Resource Name: scottsu.com
   DNS: Resource Type = Start of zone of authority
   DNS: Resource Class = Internet address class
   DNS: Time To Live = 0 (0x0)
   DNS: Resource Data Length = 80 (0x50)
   DNS: Primary Name Server: scottsu-7.scottsu.com
   DNS: Responsible Authorative Mailbox: Administrator.scottsu-7.scottsu.com
   DNS: Version number = 19 (0x13)
   DNS: Refresh Interval = 3600 (0xE10)
   DNS: Retry interval = 600 (0x258)
   DNS: Expiration Limit = 86400 (0x15180)
   DNS: Minimum TTL = 3600 (0xE10)

00000000 00 A0 24 63 AB 22 00 80 C7 A9 EC 0F 08 00 45 00 ..$c."........E.
00000010 02 AB 39 17 40 00 80 06 B9 C6 9D 37 66 34 9D 37 ..9.@......7f4.7
00000020 64 CC 00 35 04 30 02 23 5D 0F 00 05 94 9F 50 18 d..5.0.#].....P.
00000030 22 19 58 A8 00 00 00 3D 00 00 80 80 00 01 00 01 ".X....=........
00000040 00 00 00 00 07 73 63 6F 74 74 73 75 03 63 6F 6D .....scottsu.com
00000050 00 00 FC 00 01 C0 0C FF 01 00 01 00 00 0E 10 00 ................
00000060 14 00 00 00 00 05 00 00 00 58 02 00 00 01 00 00 .........X......
00000070 00 9D 37 66 34 00 40 00 00 80 80 00 01 00 01 00 ..7f4.@.........
00000080 00 00 00 07 73 63 6F 74 74 73 75 03 63 6F 6D 00 ....scottsu.com.
00000090 00 FC 00 01 C0 0C 00 02 00 01 00 00 0E 10 00 17 ................
000000A0 09 73 63 6F 74 74 73 75 2D 37 07 73 63 6F 74 74 .scottsu-7.scott
000000B0 73 75 03 63 6F 6D 00 00 43 00 00 80 80 00 01 00 su.com..C.......
000000C0 01 00 00 00 00 07 73 63 6F 74 74 73 75 03 63 6F ......scottsu.co
000000D0 6D 00 00 FC 00 01 C0 0C 00 02 00 01 00 00 0E 10 m...............
000000E0 00 1A 0C 73 63 6F 74 74 73 75 5F 6E 74 34 30 07 ...scottsu_nt40.
000000F0 73 63 6F 74 74 73 75 03 63 6F 6D 00 00 51 00 00 scottsu.com..Q..
00000100 80 80 00 01 00 01 00 00 00 00 07 73 63 6F 74 74 ...........scott
00000110 73 75 03 63 6F 6D 00 00 FC 00 01 07 67 6C 65 6E su.com......glen
00000120 6E 77 6F C0 0C 00 02 00 01 00 00 0E 10 00 20 0A nwo.............
00000130 63 6F 70 70 65 72 68 65 61 64 07 67 6C 65 6E 6E copperhead.glenn
00000140 77 6F 07 73 63 6F 74 74 73 75 03 63 6F 6D 00 00 wo.scottsu.com..
00000150 40 00 00 80 80 00 01 00 01 00 00 00 00 07 73 63 @.............sc
00000160 6F 74 74 73 75 03 63 6F 6D 00 00 FC 00 01 0A 63 ottsu.com......c
00000170 6F 70 70 65 72 68 65 61 64 07 67 6C 65 6E 6E 77 opperhead.glennw
00000180 6F C0 0C 00 01 00 01 00 00 0E 10 00 04 9D 37 6A o.............7j
00000190 C1 00 36 00 00 80 80 00 01 00 01 00 00 00 00 07 ..6.............
000001A0 73 63 6F 74 74 73 75 03 63 6F 6D 00 00 FC 00 01 scottsu.com.....
000001B0 08 67 6F 6F 6F 6F 6F 6F 64 C0 0C 00 01 00 01 00 .gooooood.......
000001C0 00 00 00 00 04 9D 37 64 64 00 37 00 00 80 80 00 ......7dd.7.....
000001D0 01 00 01 00 00 00 00 07 73 63 6F 74 74 73 75 03 ........scottsu.
000001E0 63 6F 6D 00 00 FC 00 01 09 73 63 6F 74 74 73 75 com......scottsu
000001F0 2D 37 C0 0C 00 01 00 01 00 00 0E 10 00 04 9D 37 -7.............7
00000200 66 34 00 3A 00 00 80 80 00 01 00 01 00 00 00 00 f4.:............
00000210 07 73 63 6F 74 74 73 75 03 63 6F 6D 00 00 FC 00 .scottsu.com....
00000220 01 0C 73 63 6F 74 74 73 75 5F 6E 74 34 30 C0 0C ..scottsu_nt40..
00000230 00 01 00 01 00 00 0E 10 00 04 9D 37 64 CC 00 79 ...........7d..y
00000240 00 00 80 80 00 01 00 01 00 00 00 00 07 73 63 6F .............sco
00000250 74 74 73 75 03 63 6F 6D 00 00 FC 00 01 C0 0C 00 ttsu.com........
00000260 06 00 01 00 00 00 00 00 50 09 73 63 6F 74 74 73 ........P.scotts
00000270 75 2D 37 07 73 63 6F 74 74 73 75 03 63 6F 6D 00 u-7.scottsu.com.
00000280 0D 41 64 6D 69 6E 69 73 74 72 61 74 6F 72 09 73 .Administrator.s
00000290 63 6F 74 74 73 75 2D 37 07 73 63 6F 74 74 73 75 cottsu-7.scottsu
000002A0 03 63 6F 6D 00 00 00 00 13 00 00 0E 10 00 00 02 .com............
000002B0 58 00 01 51 80 00 00 0E 10      X..Q.....</font></pre></BODY></HTML>
