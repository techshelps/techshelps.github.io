<HTML><HEAD><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Special Considerations for Resource Domains</TITLE><META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset= iso-8859-1"><style>@import url(msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="msdn_ie3.css"><style>@import url(msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="msdn_ie3.css"></HEAD>	<BODY bgcolor="#FFFFFF" link=#003399 vlink=#996699>


	<FONT FACE="Verdana, Arial, Helvetica" SIZE="2">

	<!--TOOLBAR_START-->
	<!--TOOLBAR_EXEMPT-->
	<!--TOOLBAR_END-->

<h3>Special Considerations for Resource Domains</H3><p>A resource domain is simply a normal Windows&nbsp;NT 4<I>.x</I> (or 3<I>.x</I>) domain in which there are no user accounts. Resource domains are used to collect a group or resources (files shares, printers, etc.) for purposes of administrative control. Users gain access to the resources in a resource domain through a trust relationship; resource domains <I>trust</I> one or more master domains. Users with accounts in the master domains can be added to <I>Access Control Lists</I> on the resources in the resource domains.</P>
<p>The preceding examples have shown how a domain can be upgraded to the Next-generation simply and easily. Since a resource domain is a domain like any other, it too can be upgraded.</P>
<H4> </A>What Happens to Access Control Lists (ACLs)?</H4><p>System administrators have a large investment in the <I>Access Control Lists</I> they have created on the resources in the resource domains. An Access Control list is simply a list of the <I>Security Principals</I> who are allowed (or forbidden) to use the resource protected by the ACL.</P>
<p>A Windows&nbsp;NT Access Control List contains the <I>Security Identifiers</I> of the relevant users and groups. When you upgrade a Windows&nbsp;NT 4<I>.x</I> domain to a Next-generation domain, the security identifiers of the users and groups in that domain <I>are not changed.</I> This means that any Access Control list that contains those security identifiers is still completely valid.</P>
<p>The explicit trust between a resource domain and the master domain(s) that existed before the upgrade remains in place until the domain is joined to the tree. If the domain is never joined to the tree, the explicit trusts remain, and the users can use the resources as they did before the upgrade.  If the domain is joined to the tree, the explicit trust is automatically replaced with a Kerberos Transitive Trust, and the users can use the resources as they did before the upgrade.</P>
<H4> </A>Retaining the Resource Domain</H4><p>Resource domains are put in place to give local administrators control of local resources. With the availability of the fine-grained delegation of authority in the Next-generation Directory Service, there is little advantage to retaining resource domains in the longer term.  </P>
<UL><LI>Organizational Units provide for delegation of administrative authority to any granularity required.</LI><LI>Transitive trust allows users in any part of the tree to be granted access to a resource.</LI></UL><p>Over time, the resources in most resource domains will very likely be absorbed by one or more parent domain. Individual resources can be moved into Organizational Units to provide the desired delegation of administrative authority.</P>
<H4> </A>Converting the Resource Domain to an Organizational Unit</H4><p>Converting a resource domain is a simple matter of moving the resources (usually servers) from the resource domain to an Organizational Unit in one of the former master domains.</P>
<P><img src="39676.gif"></P>
<p></P>
<p>In the preceding figure we see a Domain Tree with a resource domain joined to the bottom of the tree as a "leaf" node. To convert the resource domain to an Organizational Unit (or group of Organizational Units), all we need do is move the resources, in this case three member servers, from the resource domain to one of the parent (or peer) domains in the tree.  This is shown in the following figure.</P>
<P><img src="39677.gif"></P>
<P></P>
<p>Moving a member server from the resource domain is accomplished by administratively removing it from the resource domain that is being dismantled and joining it to the desired domain in the tree. This is shown in the following figure.</P>
<P></P>
<P><img src="39678.gif"></P>
<P></P>
<H4> </A>Effect of Relocating Member Servers: What About Local Groups?</H4><p>In the preceding example we simplified the domain tree by eliminating a resource domain. We eliminated the resource domain by moving the servers it contained into other domains. What effect does this have on the member servers?</P>
<p>As discussed earlier, the access controls lists that are applied to resources in resource domains are not affected by an upgrade the next generation Directory Service because the security identifiers of the principals (users and groups) are not changed.</P>
<p>Many existing Windows&nbsp;NT installations protect the resources on their member servers with <I>Local Groups</I>. A local group is a security group that is defined on a specific machine and is stored locally on that machine. For example, a print server might have a high-resolution large format color printer attached, which is for the exclusive use of the graphic arts department. In this case, a common practice is to create a local group on the print server and call it LARGE_FORMAT_PRINTER.  The local group LARGE_FORMAT_PRINTER is granted access to the printer with an ACL that denies access to all others.</P>
<p>The employees in the graphic arts department are all members of the GRAPHIC_ARTS_DEPARTMENT <I>global group</I>. A global group is a security group in Windows&nbsp;NT 4<I>.x</I> and 3.5<I>x</I> that is valid anywhere in the domain where it is defined. By adding the GRAPHIC_ARTS_DEPARTMENT global group to the LARGE_FORMAT_PRINTER local group on the print server, anyone who is a member of the graphic arts department can gain access to the printer. When someone leaves the department, they will be administratively removed from the GRAPHIC_ARTS_DEPARTMENT group and thus no longer be allowed to use the printer.</P>
<p>What happens when we upgrade to the next generation Directory Service?</P>
<P CLASS="num">The GRAPHIC_ARTS_DEPARTMENT group automatically becomes a group in the Directory, visible and usable by all domains in the tree.</P>
<P CLASS="num">The local group on the print server is unaffected, because local groups are stored locally on the machine where they are used, and are not changed in any way by the upgrade.  Because the security identifiers are unchanged, even though GRAPHIC_ARTS_DEPARTMENT is now a group in the Directory, the entry for GRAPHIC_ARTS_DEPARTMENT in the LARGE_FORMAT_PRINTER group is still perfectly valid. The protections on the printer are unchanged.</P>
<P CLASS="num">Moving the print server from the resource domain to another domain in the tree has no effect on the ACLs, because no security principals are involved in the move. It also has no effect on the LARGE_FORMAT_PRINTER group because this is a purely local group and is not affected by domain membership.</P></BODY></HTML>
