<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Compiling and Linking a Program</title>
<style>@import url(msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="msdn_ie3.css"></HEAD>
<BODY BGCOLOR=#FFFFFF TEXT=#000000>

<h2><a name="_vcce_compiling_and_linking_a_program"></a>Compiling and Linking a Program</h2>
<p>
When you work within the integrated development environment, compile and link a project by clicking <b>Build</b> from the <b>Build</b> menu, or by clicking the <b>Build</b> button on the toolbar. You can also compile individual project files by clicking <b>Compile</b> from the <b>Build</b> menu, or by clicking the <b>Compile</b> button on the toolbar. When you work from the command line, you can compile and link individual project files.</p>
<p>
<b>Note</b>  When linking files, use the correct subsystem flag for the platform you are targeting. If you are working within the Visual Studio IDE, the correct flag is provided automatically; do not change it. When working from the command line, refer to the following table to specify the correct subsystem flag.</p>
<table cellspacing=4 cols=2 width=464>
<tr valign=top>
<th align=left width=48%>Target Platform</th>
<th align=left width=52%>Subsystem Flag</th>
</tr>
<tr valign=top>
<td width=48%>Standard Win32 target </td>
<td width=52%>-subsystem:windows</td>
</tr>
<tr valign=top>
<td width=48%>Windows CE Emulation </td>
<td width=52%>-subsystem:windows<br>
-windowsce:emulation </td>
</tr>
<tr valign=top>
<td width=48%>Windows CE remote target device</td>
<td width=52%>-subsystem:windowsce</td>
</tr>
</table><br>
<h4><img src="wedge.gif" border=0>&nbsp;&nbsp;&nbsp;&nbsp;To prepare to build</h4>
<ol>
<li>
On the <b>Project</b> menu, click <b>Set Active Project</b>. This will ensure that the project you want to build is the active project.</li>
<li>
On the <b>Build</b> menu, click <b>Set Active Project Configuration</b> to select a target platform, and to specify whether to build a debug or release version of the active project.</li>
<li>
On the <b>Project</b> menu, click <b>Settings</b> and verify that the correct settings are displayed on all of the tabs in the <b>Project Settings</b> dialog box.</li>
<li>
To automatically download your program to the remote device after building it, click to select <b>Always Download</b> on the <b>Build</b> menu. Clear the <b>Always Download</b> option if you do not have a remote device connected to the desktop computer.</li>
<li>
If you are building for a remote device, make sure the device is properly connected to and communicating with the desktop computer. On the <b>Tools</b> menu, click <b>Remote Connection Server</b> to establish a connection.</li>
</ol>
<p>
<b>Tips</b>  Activate the Build Toolbar to make it easier to select your active project configuration. If screen space is limited, deactivate the default Build MiniBar. To configure toolbars, choose <b>Customize</b> from the <b>Tools</b> menu and select the <b>Toolbars</b> tab.</p>
<p>
Keep the <b>Download Always</b> option selected on the <b>Build</b> menu so you will not need to use <b>Update Remote Output File</b> after each build.</p>
<p>
Windows CE sample programs are in the \WCE\Samples\Win32 subdirectory of your Visual Studio installation, and are documented in the InfoViewer under Windows CE SDK.</p>
<p>
Do not keep two separate image source pools to develop for emulation and remote targets at the same time. If the link flags are set correctly, the images will be converted between 4-color and 16-color bitmaps automatically during linking.</p>
<h4><img src="wedge.gif" border=0>&nbsp;&nbsp;&nbsp;&nbsp;To build and download</h4>
<ol>
<li>
On the <b>Build</b> menu, click <b>Build</b> to compile and link only the active project<p>
-or-
<p>
click <b>Rebuild All</b> to rebuild the dependencies of the active project.
</li>
<li>
If you have selected the <b>Always Download</b> option and you are building for a remote target platform, you will be prompted for information about file names and locations.</li>
<li>
Follow the progress of the compiling and linking process in the <b>Build</b> window. </li>
<li>
If you want to download a program to the remote device without building it, on the <b>Build</b> menu, click <b>Update Remote Output File</b>.</li>
</ol>
<p>
<b>Notes</b>  To open a command-line window with appropriately set environment variables, use the icons installed in the Windows CE Toolkit for Visual C++ 5.0 program group.</p>
<p>
Different target platforms require different compilers.</p>
<p>
The LINK and LIB commands have been augmented with support for the SH3 platform in the /MACHINE flag. The new syntax is:<br>
/MACHINE:{I386|MIPS|ALPHA|PPC|M68K|MPPC|SH3}</p>
<p>
Download your program to a remote Windows CE device from the command line using pfile.exe. (DevStudio\SharedIDE\bin). Type pfile at the command prompt for more information. </p>
<p>&nbsp;</p></body>
</HTML>
