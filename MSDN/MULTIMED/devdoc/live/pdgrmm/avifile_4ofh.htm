<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Working with Compressed Video Data in a Stream</title>
<link disabled rel=stylesheet href=../../backsdk3.css>
<style type="text/css">
@import url(../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h3><a name="_win32_working_with_compressed_video_data_in_a_stream"></a>Working with Compressed Video Data in a Stream</h3>
<p>
avifile provides several ways for you to access compressed video streams. </p>
<p>
If you want to display one or more frames of a compressed video stream, you can retrieve the frames by using the <a href="../pdref/mmfunc_98kk.htm"><b>AVIStreamRead</b></a> function and forwarding the compressed frame data to DrawDib functions to display them. DrawDib functions can display images of several image depths and automatically dither images for displays that cannot handle certain types of device-independent bitmaps (DIBs). These functions work with uncompressed and compressed images. For more information about DrawDib functions, see <a href="drawdib_2pgz.htm">DrawDib Functions</a>. </p>
<p>
AVIFile provides functions for decompressing a single video frame. To allocate resources, use the <a href="../pdref/mmfunc_62su.htm"><b>AVIStreamGetFrameOpen</b></a> function. This function creates a buffer for the decompressed data.</p>
<p>
You can decompress a single video frame by using the <a href="../pdref/mmfunc_6ch1.htm"><b>AVIStreamGetFrame</b></a> function. This function decompresses the frame and retrieves a complete frame of image data, returning the address of the DIB in the <object id=alink_1 type="application/x-oleobject"
	classid="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
<PARAM name="Command" value="ALink,MENU">
<PARAM name="DefaultTopic" value="../../notopic_0pk4.htm">
<PARAM name="Item1" value="">
<PARAM name="Item2" value="_win32_bitmapinfoheader_str">
</object><a href=JavaScript:alink_1.Click()><b>BITMAPINFOHEADER</b></a> structure. Your application can display the DIB by using standard drawing functions or by using the DrawDib functions.</p>
<p>
If your application makes successive calls to <b>AVIStreamGetFrame</b>, the function overwrites its buffer with each retrieved frame.</p>
<p>
When you finish using <b>AVIStreamGetFrame</b> and the decompressed DIB is in its buffer, you can release the allocated resources by using the <a href="../pdref/mmfunc_29id.htm"><b>AVIStreamGetFrameClose</b></a> function.</p>
<p>
For more information about decompressing images, see <a href="avicomp_550y.htm">Video Compression Manager</a>. </p>
<p>&nbsp;</p></body>
</HTML>
