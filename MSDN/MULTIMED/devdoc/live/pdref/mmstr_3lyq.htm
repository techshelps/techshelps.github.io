<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>AVISTREAMINFO</title>
<link disabled rel=stylesheet href=../../backsdk3.css>
<style type="text/css">
@import url(../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h1><a name="_win32_avistreaminfo_str"></a>AVISTREAMINFO</h1>
<p>
The <b>AVISTREAMINFO</b> structure contains information for a single stream. </p>
<pre><code>typedef struct { 
    DWORD fccType; 
    DWORD fccHandler; 
    DWORD dwFlags; 
    DWORD dwCaps; 
    WORD  wPriority; 
    WORD  wLanguage; 
    DWORD dwScale; 
    DWORD dwRate; 
    DWORD dwStart; 
    DWORD dwLength; 
    DWORD dwInitialFrames; 
    DWORD dwSuggestedBufferSize; 
    DWORD dwQuality; 
    DWORD dwSampleSize; 
    RECT  rcFrame; 
    DWORD dwEditCount; 
    DWORD dwFormatChangeCount; 
    char  szName[64]; 
} AVISTREAMINFO; 
 </code></pre>
<h4>Members</h4>
<dl>
<dt>
<b>fccType</b></dt>
<dd>
Four-character code indicating the stream type. The following constants have been defined for the data commonly found in AVI streams:
<table cellspacing=4 cols=3>
<tr valign=top>
<th align=left colspan=2 width=44%>Constant</th>
<th align=left width=56%>Description</th>
</tr>
<tr valign=top>
<td width=44%>streamtypeAUDIO</td>
<td colspan=2 width=56%>Indicates an audio stream.</td>
</tr>
<tr valign=top>
<td width=44%>streamtypeMIDI</td>
<td colspan=2 width=56%>Indicates a MIDI stream.</td>
</tr>
<tr valign=top>
<td width=44%>streamtypeTEXT</td>
<td colspan=2 width=56%>Indicates a text stream.</td>
</tr>
<tr valign=top>
<td width=44%>streamtypeVIDEO</td>
<td colspan=2 width=56%>Indicates a video stream.</td>
</tr>
</table><br>

</dd>
<dt>
<b>fccHandler</b></dt>
<dd>
Four-character code of the compressor handler that will compress this video stream when it is saved (for example, <a href="mmmacro_1f6r.htm"><b>mmioFOURCC</b></a>('M','S','V','C')). This member is not used for audio streams.</dd>
<dt>
<b>dwFlags</b></dt>
<dd>
Applicable flags for the stream. The bits in the high-order word of these flags are specific to the type of data contained in the stream. The following flags are defined:
<dl>
<dt>
AVISTREAMINFO_DISABLED</dt>
<dd>
Indicates this stream should be rendered when explicitly enabled by the user.</dd>
<dt>
AVISTREAMINFO_FORMATCHANGES</dt>
<dd>
Indicates this video stream contains palette changes. This flag warns the playback software that it will need to animate the palette.</dd>
</dl>
</dd>
<dt>
<b>dwCaps</b></dt>
<dd>
Capability flags; currently unused.</dd>
<dt>
<b>wPriority</b></dt>
<dd>
Priority of the stream.</dd>
<dt>
<b>wLanguage</b></dt>
<dd>
Language of the stream.</dd>
<dt>
<b>dwScale</b></dt>
<dd>
Time scale applicable for the stream. Dividing <b>dwRate</b> by <b>dwScale</b> gives the playback rate in number of samples per second.
<p>
For video streams, this rate should be the frame rate. For audio streams, this rate should correspond to the audio block size (the <b>nBlockAlign</b> member of the <a href="mmstr_5kky.htm"><b>WAVEFORMAT</b></a> or <a href="mmstr_7gtu.htm"><b>PCMWAVEFORMAT</b></a> structure), which for PCM (Pulse Code Modulation) audio reduces to the sample rate.
</dd>
<dt>
<b>dwRate</b></dt>
<dd>
See <b>dwScale</b>.</dd>
<dt>
<b>dwStart</b></dt>
<dd>
Sample number of the first frame of the AVI file. The units are defined by <b>dwRate</b> and <b>dwScale</b>. Normally, this is zero, but it can specify a delay time for a stream that does not start concurrently with the file. 
<p>
The 1.0 release of the AVI tools does not support a nonzero starting time.
</dd>
<dt>
<b>dwLength</b></dt>
<dd>
Length of this stream. The units are defined by <b>dwRate</b> and <b>dwScale</b>.</dd>
<dt>
<b>dwInitialFrames</b></dt>
<dd>
Audio skew. This member specifies how much to skew the audio data ahead of the video frames in interleaved files. Typically, this is about 0.75 seconds.</dd>
<dt>
<b>dwSuggestedBufferSize</b></dt>
<dd>
Recommended buffer size, in bytes, for the stream. Typically, this member contains a value corresponding to the largest chunk in the stream. Using the correct buffer size makes playback more efficient. Use zero if you do not know the correct buffer size.</dd>
<dt>
<b>dwQuality</b></dt>
<dd>
Quality indicator of the video data in the stream. Quality is represented as a number between 0 and 10,000. For compressed data, this typically represents the value of the quality parameter passed to the compression software. If set to  –&nbsp;1, drivers use the default quality value.</dd>
<dt>
<b>dwSampleSize</b></dt>
<dd>
Size, in bytes, of a single data sample. If the value of this member is zero, the samples can vary in size and each data sample (such as a video frame) must be in a separate chunk. A nonzero value indicates that multiple samples of data can be grouped into a single chunk within the file.
<p>
For video streams, this number is typically zero, although it can be nonzero if all video frames are the same size. For audio streams, this number should be the same as the <b>nBlockAlign</b> member of the <a href="mmstr_5kky.htm"><b>WAVEFORMAT</b></a> or <a href="mmstr_625u.htm"><b>WAVEFORMATEX</b></a> structure describing the audio.
</dd>
<dt>
<b>rcFrame</b></dt>
<dd>
Dimensions of the video destination rectangle. The values represent the coordinates of upper left corner, the height, and the width of the rectangle.</dd>
<dt>
<b>dwEditCount</b></dt>
<dd>
Number of times the stream has been edited. The stream handler maintains this count.</dd>
<dt>
<b>dwFormatChangeCount</b></dt>
<dd>
Number of times the stream format has changed. The stream handler maintains this count.</dd>
<dt>
<b>szName</b></dt>
<dd>
Null-terminated string containing a description of the stream.
</dd>
</dl>
<h4>QuickInfo</h4>
<p>
<b>&nbsp;&nbsp;Windows NT: </b>Requires version 3.1 or later.<br>
<b>&nbsp;&nbsp;Windows: </b>Requires Windows 95 or later.<br>
<b>&nbsp;&nbsp;Windows CE: </b>Unsupported.<br>
<b>&nbsp;&nbsp;Header: </b>Declared in vfw.h.<br>
<b>&nbsp;&nbsp;Import Library: </b>Use vfw32.lib.<br>
<b>&nbsp;&nbsp;Unicode: </b>Implemented as Unicode and ANSI versions on Windows NT.</p>
<h4>See Also</h4>
<p>
<a href="../pdgrmm/avifile_3uwj.htm">AVIFile Functions and Macros Overview</a>, <a href="../pdgrmm/avifile_2xde.htm">AVIFile Structures</a>, <a href="mmmacro_1f6r.htm"><b>mmioFOURCC</b></a>, <a href="mmstr_7gtu.htm"><b>PCMWAVEFORMAT</b></a>, <a href="mmstr_5kky.htm"><b>WAVEFORMAT</b></a>, <a href="mmstr_625u.htm"><b>WAVEFORMATEX</b></a> </p>
<p>&nbsp;</p></body>
</HTML>
