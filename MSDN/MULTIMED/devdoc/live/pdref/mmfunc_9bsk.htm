<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>acmStreamConvert</title>
<link disabled rel=stylesheet href=../../backsdk3.css>
<style type="text/css">
@import url(../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h1><a name="_win32_acmstreamconvert"></a>acmStreamConvert</h1>
<p>
The <b>acmStreamConvert</b> function requests the ACM to perform a conversion on the specified conversion stream. A conversion may be synchronous or asynchronous, depending on how the stream was opened.</p>
<pre><code><b>MMRESULT acmStreamConvert(
  HACMSTREAM</b><i> has</i><b>,          </b>
<b>  LPACMSTREAMHEADER</b><i> pash</i><b>,  </b>
<b>  DWORD</b><i> fdwConvert         </i>
<b>);</b>
 </code></pre>
<h4>Parameters</h4>
<dl>
<dt>
<i>has</i></dt>
<dd>
Handle of the open conversion stream.</dd>
<dt>
<i>pash</i></dt>
<dd>
Address of a stream header that describes source and destination buffers for a conversion. This header must have been prepared previously by using the <a href="mmfunc_5dwy.htm"><b>acmStreamPrepareHeader</b></a> function.</dd>
<dt>
<i>fdwConvert</i></dt>
<dd>
Flags for doing the conversion. The following values are defined:
<dl>
<dt>
ACM_STREAMCONVERTF_BLOCKALIGN</dt>
<dd>
Only integral numbers of blocks will be converted. Converted data will end on block-aligned boundaries. An application should use this flag for all conversions on a stream until there is not enough source data to convert to a block-aligned destination. In this case, the last conversion should be specified without this flag.</dd>
<dt>
ACM_STREAMCONVERTF_END</dt>
<dd>
ACM conversion stream should begin returning pending instance data. For example, if a conversion stream holds instance data, such as the end of an echo filter operation, this flag will cause the stream to start returning this remaining data with optional source data. This flag can be specified with the ACM_STREAMCONVERTF_START flag.</dd>
<dt>
ACM_STREAMCONVERTF_START</dt>
<dd>
ACM conversion stream should reinitialize its instance data. For example, if a conversion stream holds instance data, such as delta or predictor information, this flag will restore the stream to starting defaults. This flag can be specified with the ACM_STREAMCONVERTF_END flag.
</dd>
</dl>
</dd>
</dl>
<h4>Return Values</h4>
<p>
Returns zero if successful or an error otherwise. Possible error values include the following:</p>
<table cellspacing=4 cols=2>
<tr valign=top>
<th align=left width=48%>Value</th>
<th align=left width=52%>Description</th>
</tr>
<tr valign=top>
<td width=48%>ACMERR_BUSY</td>
<td width=52%>The stream header specified in <i>pash</i> is currently in use and cannot be reused.</td>
</tr>
<tr valign=top>
<td width=48%>ACMERR_UNPREPARED</td>
<td width=52%>The stream header specified in <i>pash</i> is currently not prepared by the <a href="mmfunc_5dwy.htm"><b>acmStreamPrepareHeader</b></a> function.</td>
</tr>
<tr valign=top>
<td width=48%>MMSYSERR_INVALFLAG</td>
<td width=52%>At least one flag is invalid.</td>
</tr>
<tr valign=top>
<td width=48%>MMSYSERR_INVALHANDLE</td>
<td width=52%>The specified handle is invalid.</td>
</tr>
<tr valign=top>
<td width=48%>MMSYSERR_INVALPARAM</td>
<td width=52%>At least one parameter is invalid.</td>
</tr>
</table><br>
<h4>Remarks</h4>
<p>
You must use the <b>acmStreamPrepareHeader</b> function to prepare the source and destination buffers before they are passed to <b>acmStreamConvert</b>. </p>
<p>
If an asynchronous conversion request is successfully queued by the ACM or driver and the conversion is later determined to be impossible, the <b>ACMSTREAMHEADER</b> structure is posted back to the application's callback function with the <b>cbDstLengthUsed</b> member set to zero.</p>
<h4>QuickInfo</h4>
<p>
<b>&nbsp;&nbsp;Windows NT: </b>Requires version 3.1 or later.<br>
<b>&nbsp;&nbsp;Windows: </b>Requires Windows 95 or later.<br>
<b>&nbsp;&nbsp;Windows CE: </b>Unsupported.<br>
<b>&nbsp;&nbsp;Header: </b>Declared in msacm.h.<br>
<b>&nbsp;&nbsp;Import Library: </b>Use msacm32.lib.</p>
<h4>See Also</h4>
<p>
<a href="../pdgrmm/audcomp_3kc2.htm">Audio Compression Manager Overview</a>, <a href="../pdgrmm/audcomp_6x9v.htm">Audio Compression Functions</a>, <a href="mmfunc_5dwy.htm"><b>acmStreamPrepareHeader</b></a>, <a href="mmstr_8v02.htm"><b>ACMSTREAMHEADER</b></a></p>
<p>&nbsp;</p></body>
</HTML>
