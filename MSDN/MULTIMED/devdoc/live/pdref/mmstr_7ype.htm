<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>MIDIEVENT</title>
<link disabled rel=stylesheet href=../../backsdk3.css>
<style type="text/css">
@import url(../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h1><a name="_win32_midievent_str"></a>MIDIEVENT</h1>
<p>
The <b>MIDIEVENT</b> structure describes a MIDI event in a stream buffer.</p>
<pre><code>typedef struct { 
    DWORD dwDeltaTime; 
    DWORD dwStreamID; 
    DWORD dwEvent; 
    DWORD dwParms[]; 
} MIDIEVENT; 
 </code></pre>
<h4>Members</h4>
<dl>
<dt>
<b>dwDeltaTime</b></dt>
<dd>
Time, in MIDI ticks, between the previous event and the current event. The length of a tick is defined by the time format and possibly the tempo associated with the stream. (The definition is identical to the specification for a tick in a standard MIDI file.)</dd>
<dt>
<b>dwStreamID</b></dt>
<dd>
Reserved; must be zero.</dd>
<dt>
<b>dwEvent</b></dt>
<dd>
Event code and event parameters or length. To parse this information, use the <a href="mmmacro_36n9.htm"><b>MEVT_EVENTTYPE</b></a> and <a href="mmmacro_8lt9.htm"><b>MEVT_EVENTPARM</b></a> macros.
<p>
The high byte of this member contains flags and an event code. Either the MEVT_F_LONG or MEVT_F_SHORT flag must be specified. The MEVT_F_CALLBACK flag is optional. The following table describes these flags.

<table cellspacing=4 cols=2>
<tr valign=top>
<th align=left width=37%>Flag</th>
<th align=left width=63%>Meaning</th>
</tr>
<tr valign=top>
<td width=37%>MEVT_F_CALLBACK</td>
<td width=63%>The system generates a callback when the event is about to be executed.</td>
</tr>
<tr valign=top>
<td width=37%>MEVT_F_LONG</td>
<td width=63%>The event is a long event. The low 24 bits of <b>dwEvent</b> contain the length of the event parameters included in <b>dwParms</b>.</td>
</tr>
<tr valign=top>
<td width=37%>MEVT_F_SHORT</td>
<td width=63%>The event is a short event. The event parameters are contained in the low 24 bits of <b>dwEvent</b>.</td>
</tr>
</table><br>


<p>
The remainder of the high byte contains one of the following event codes:

<table cellspacing=4 cols=2>
<tr valign=top>
<th align=left width=33%>Event Code</th>
<th align=left width=67%>Meaning</th>
</tr>
<tr valign=top>
<td width=33%>MEVT_COMMENT</td>
<td width=67%>Long event. The event data will be ignored. This event is intended to store commentary information about the stream that might be useful to authoring programs or sequencers if the stream data were to be stored in a file in stream format. In a buffer of this data, the zero byte identifies the comment class and subsequent bytes contain the comment data. </td>
</tr>
<tr valign=top>
<td width=33%>MEVT_LONGMSG</td>
<td width=67%>Long event. The event data is transmitted verbatim. The event data is assumed to be system-exclusive data; that is, running status will be cleared when the event is executed and running status from any previous events will not be applied to any channel events in the event data. Using this event to send a group of channel messages at the same time is not recommended; a set of MEVT_SHORTMSG events with zero delta times should be used instead.</td>
</tr>
<tr valign=top>
<td width=33%>MEVT_NOP</td>
<td width=67%>Short event. This event is a placeholder; it does nothing. The low 24 bits are ignored. This event will still generate a callback if MEVT_F_CALLBACK is set in <b>dwEvent</b>.</td>
</tr>
<tr valign=top>
<td width=33%>MEVT_SHORTMSG</td>
<td width=67%>Short event. The data in the low 24 bits of <b>dwEvent</b> is a MIDI short message. (For a description of how a short message is packed into a doubleword value, see the <a href="mmfunc_66g7.htm"><b>midiOutShortMsg</b></a> function.)</td>
</tr>
<tr valign=top>
<td width=33%>MEVT_TEMPO</td>
<td width=67%>Short event. The data in the low 24 bits of <b>dwEvent</b> contain the new tempo for following events. The tempo is specified in the same format as it is for the tempo change meta-event in a MIDI file — that is, in microseconds per quarter note. (This event will have no affect if the time format specified for the stream is SMPTE time.)</td>
</tr>
<tr valign=top>
<td width=33%>MEVT_VERSION</td>
<td width=67%>Long event. The event data must contain a <b>MIDISTRMBUFFVER</b> structure.</td>
</tr>
</table><br>

</dd>
<dt>
<b>dwParms</b></dt>
<dd>
If <b>dwEvent</b> specifies MEVT_F_LONG and the length of the buffer, this member contains parameters for the event. This parameter data must be padded with zeros so that an integral number of doubleword values are stored. For example, if the event data is five bytes long, three pad bytes must follow the data for a total of eight bytes. In this case, the low 24 bits of <b>dwEvent</b> would contain the value 5.
<p>
If <b>dwEvent</b> specifies MEVT_F_SHORT, do not use this member in the stream buffer.

</dd>
</dl>
<h4>QuickInfo</h4>
<p>
<b>&nbsp;&nbsp;Windows NT: </b>Requires version 3.1 or later.<br>
<b>&nbsp;&nbsp;Windows: </b>Requires Windows 95 or later.<br>
<b>&nbsp;&nbsp;Windows CE: </b>Unsupported.<br>
<b>&nbsp;&nbsp;Header: </b>Declared in mmsystem.h.</p>
<h4>See Also</h4>
<p>
<a href="../pdgrmm/midi_1wv3.htm">Musical Instrument Digital Interface (MIDI) Overview</a>, <a href="../pdgrmm/midi_7q5v.htm">MIDI Structures</a>, <a href="mmmacro_36n9.htm"><b>MEVT_EVENTTYPE</b></a>, <a href="mmmacro_8lt9.htm"><b>MEVT_EVENTPARM</b></a>, <a href="mmfunc_66g7.htm"><b>midiOutShortMsg</b></a>, <a href="mmstr_1aeq.htm"><b>MIDISTRMBUFFVER</b></a> </p>
<p>&nbsp;</p></body>
</HTML>
