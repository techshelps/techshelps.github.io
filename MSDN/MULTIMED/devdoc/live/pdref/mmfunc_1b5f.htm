<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>ICImageCompress</title>
<link disabled rel=stylesheet href=../../backsdk3.css>
<style type="text/css">
@import url(../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h1><a name="_win32_icimagecompress"></a>ICImageCompress</h1>
<p>
The <b>ICImageCompress</b> function compresses an image to a given size. This function does not require initialization functions.</p>
<pre><code><b>HANDLE ICImageCompress(
  HIC</b><i> hic</i><b>,              </b>
<b>  UINT</b><i> uiFlags</i><b>,         </b>
<b>  LPBITMAPINFO</b><i> lpbiIn</i><b>,  </b>
<b>  LPVOID</b><i> lpBits</i><b>,        </b>
<b>  LPBITMAPINFO</b><i> lpbiOut</i><b>, </b>
<b>  LONG</b><i> lQuality</i><b>,        </b>
<b>  LONG *</b><i> plSize         </i>
<b>);</b>
 </code></pre>
<h4>Parameters</h4>
<dl>
<dt>
<i>hic</i></dt>
<dd>
Handle of a compressor opened with the <a href="mmfunc_43ou.htm"><b>ICOpen</b></a> function. Specify NULL to have VCM select an appropriate compressor for the compression format. An application can have the user select the compressor by using the <a href="mmfunc_1jtx.htm"><b>ICCompressorChoose</b></a><b> </b>function, which opens the selected compressor and returns a handle of the compressor in this parameter.</dd>
<dt>
<i>uiFlags</i></dt>
<dd>
Reserved; must be zero.</dd>
<dt>
<i>lpbiIn</i></dt>
<dd>
Address of the <object id=alink_1 type="application/x-oleobject"
	classid="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
<PARAM name="Command" value="ALink,MENU">
<PARAM name="DefaultTopic" value="../../notopic_0pk4.htm">
<PARAM name="Item1" value="">
<PARAM name="Item2" value="_win32_bitmapinfo_str">
</object><a href=JavaScript:alink_1.Click()><b>BITMAPINFO</b></a> structure containing the input data format.</dd>
<dt>
<i>lpBits</i></dt>
<dd>
Address of input data bits to compress. The data bits exclude header and format information.</dd>
<dt>
<i>lpbiOut</i></dt>
<dd>
Address of the <b>BITMAPINFO</b> structure containing the compressed output format. Specify NULL to have the compressor use an appropriate format.</dd>
<dt>
<i>lQuality</i></dt>
<dd>
Quality value used by the compressor. Values range from 0 to 10,000.</dd>
<dt>
<i>plSize</i></dt>
<dd>
Maximum size desired for the compressed image. The compressor might not be able to compress the data to fit within this size. When the function returns, this parameter points to the size of the compressed image. Image sizes are specified in bytes.
</dd>
</dl>
<h4>Return Values</h4>
<p>
Returns a handle to a compressed DIB. The image data follows the format header.</p>
<h4>Remarks</h4>
<p>
To obtain the format information from the <b>LPBITMAPINFOHEADER</b> structure, use the <object id=alink_2 type="application/x-oleobject"
	classid="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
<PARAM name="Command" value="ALink,MENU">
<PARAM name="DefaultTopic" value="../../notopic_0pk4.htm">
<PARAM name="Item1" value="">
<PARAM name="Item2" value="_win32_globallock">
</object><a href=JavaScript:alink_2.Click()><b>GlobalLock</b></a> function to lock the data. Use the <object id=alink_3 type="application/x-oleobject"
	classid="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
<PARAM name="Command" value="ALink,MENU">
<PARAM name="DefaultTopic" value="../../notopic_0pk4.htm">
<PARAM name="Item1" value="">
<PARAM name="Item2" value="_win32_globalfree">
</object><a href=JavaScript:alink_3.Click()><b>GlobalFree</b></a> function to free the DIB when you are finished.</p>
<h4>QuickInfo</h4>
<p>
<b>&nbsp;&nbsp;Windows NT: </b>Requires version 3.1 or later.<br>
<b>&nbsp;&nbsp;Windows: </b>Requires Windows 95 or later.<br>
<b>&nbsp;&nbsp;Windows CE: </b>Unsupported.<br>
<b>&nbsp;&nbsp;Header: </b>Declared in vfw.h.<br>
<b>&nbsp;&nbsp;Import Library: </b>Use vfw32.lib.</p>
<h4>See Also</h4>
<p>
<a href="../pdgrmm/avicomp_550y.htm">Video Compression Manager Overview</a>, <a href="../pdgrmm/avicomp_752r.htm">Video Compression Functions</a>, <a href="mmfunc_43ou.htm"><b>ICOpen</b></a>, <a href="mmfunc_1jtx.htm"><b>ICCompressorChoose</b></a>, <object id=alink_4 type="application/x-oleobject"
	classid="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
<PARAM name="Command" value="ALink,MENU">
<PARAM name="DefaultTopic" value="../../notopic_0pk4.htm">
<PARAM name="Item1" value="">
<PARAM name="Item2" value="_win32_bitmapinfo_str">
</object><a href=JavaScript:alink_4.Click()><b>BITMAPINFO</b></a>, <object id=alink_5 type="application/x-oleobject"
	classid="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
<PARAM name="Command" value="ALink,MENU">
<PARAM name="DefaultTopic" value="../../notopic_0pk4.htm">
<PARAM name="Item1" value="">
<PARAM name="Item2" value="_win32_globallock">
</object><a href=JavaScript:alink_5.Click()><b>GlobalLock</b></a>, <object id=alink_6 type="application/x-oleobject"
	classid="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
<PARAM name="Command" value="ALink,MENU">
<PARAM name="DefaultTopic" value="../../notopic_0pk4.htm">
<PARAM name="Item1" value="">
<PARAM name="Item2" value="_win32_globalfree">
</object><a href=JavaScript:alink_6.Click()><b>GlobalFree</b></a></p>
<p>&nbsp;</p></body>
</HTML>
