<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>record</title>
<link disabled rel=stylesheet href=../../backsdk3.css>
<style type="text/css">
@import url(../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h1><a name="_win32_record"></a>record</h1>
<p>
The <b>record</b> command starts recording data. VCR and waveform-audio devices recognize this command. Although digital-video devices and MIDI sequencers also recognize this command, the MCIAVI and MCISEQ drivers do not implement it.</p>
<pre><code>wsprintf(lpstrCommand, "record %s %s %s", lpszDeviceID, lpszRecordFlags, 
    lpszFlags); 
 </code></pre>
<h4>Parameters</h4>
<dl>
<dt>
<i>lpszDeviceID</i></dt>
<dd>
Identifier of an MCI device. This identifier or alias is assigned when the device is opened. </dd>
<dt>
<i>lpszRecordFlags</i></dt>
<dd>
Flag for recording data. The following table lists device types that recognize the <b>record </b>command and the flags used by each type:
<table cellspacing=4 cols=3>
<tr valign=top>
<td width=27%><b>digitalvideo</b></td>
<td width=32%>at <i>rectangle</i><br>
audio stream <i>stream</i><br>
from <i>position</i><br>
hold</td>
<td width=41%>insert<br>
overwrite<br>
to <i>position</i><br>
video stream <i>stream</i></td>
</tr>
<tr valign=top>
<td width=27%><b>sequencer</b></td>
<td width=32%>from <i>position</i><br>
insert</td>
<td width=41%>overwrite<br>
to <i>position</i></td>
</tr>
<tr valign=top>
<td width=27%><b>vcr</b></td>
<td width=32%>at <i>time</i><br>
from <i>position<br>
</i>initialize</td>
<td width=41%>insert<br>
overwrite<br>
to <i>position</i></td>
</tr>
<tr valign=top>
<td width=27%><b>waveaudio</b></td>
<td width=32%>from <i>position</i><br>
insert</td>
<td width=41%>overwrite<br>
to <i>position</i></td>
</tr>
</table><br>


<p>
The following table lists the flags that can be specified in the <i>lpszRecordFlags</i> parameter and their meanings:

<table cellspacing=4 cols=2>
<tr valign=top>
<td width=28%>at <i>rectangle</i></td>
<td width=72%>Specifies a rectangular region of the external input used as the source for the pixels compressed and saved. If not specified, the rectangle defaults to the rectangle specified for <a href="mmcmdstr_869g.htm"><b>put</b></a> "video". When it is set differently from the "video" rectangle, the displayed image is not what is recorded.</td>
</tr>
<tr valign=top>
<td width=28%>at <i>time</i></td>
<td width=72%>Indicates when the device should begin performing this command, or, if the device has been cued, when the cued command begins. For more information, see the <a href="mmcmdstr_715x.htm"><b>cue</b></a> command.</td>
</tr>
<tr valign=top>
<td width=28%>audio stream <i>stream</i></td>
<td width=72%>Specifies the audio stream used for recording. If this flag is not specified and the file format does not define a default, it is recorded into the stream that is physically first.</td>
</tr>
<tr valign=top>
<td width=28%>from <i>position</i></td>
<td width=72%>Specifies a starting position for the recording. If the "from" flag is not specified, the device starts recording at the current position.</td>
</tr>
<tr valign=top>
<td width=28%>hold</td>
<td width=72%>Freezes the image when recording has finished instead of showing live video. When recording stops, an automatic <a href="mmcmdstr_2ncd.htm"><b>monitor</b></a> "file" command is performed. To return to live video, issue the <b>monitor</b> "input" command.</td>
</tr>
<tr valign=top>
<td width=28%>initialize</td>
<td width=72%>Initialize the tape (media), which involves recording timecode (if possible) for blank video and audio. This command might take several hours if the entire tape must be initialized.</td>
</tr>
<tr valign=top>
<td width=28%>insert</td>
<td width=72%>Specifies that new data is added to the file at the current position.</td>
</tr>
<tr valign=top>
<td width=28%>overwrite</td>
<td width=72%>Specifies that new data will replace data in the file.</td>
</tr>
<tr valign=top>
<td width=28%>to <i>position</i></td>
<td width=72%>Specifies an ending position for the recording. If the "to" flag is not specified, the device records until it receives a <a href="mmcmdstr_9wa8.htm"><b>stop</b></a> or <a href="mmcmdstr_8e1x.htm"><b>pause</b></a> command.</td>
</tr>
<tr valign=top>
<td width=28%>video stream <i>stream</i></td>
<td width=72%>Specifies the video stream used for recording. If this is not specified and the file format does not define a default, then it is recorded into the stream that is physically first.</td>
</tr>
</table><br>

</dd>
<dt>
<i>lpszFlags</i></dt>
<dd>
Can be "wait", "notify", or both. For digital-video and VCR devices, "test" can also be specified. For more information about these flags, see <a href="../pdgrmm/mci_9v3n.htm">The Wait, Notify, and Test Flags</a>.
</dd>
</dl>
<h4>Return Values</h4>
<p>
Returns zero if successful or an error otherwise.</p>
<h4>Remarks</h4>
<p>
The recording stops when a <a href="mmcmdstr_9wa8.htm"><b>stop</b></a> or <a href="mmcmdstr_8e1x.htm"><b>pause</b></a> command is issued. For the MCIWAVE driver, all data recorded after a file is opened is discarded if the file is closed without saving it.</p>
<p>
Before issuing any commands that use position values, you should set the desired time format by using the <a href="mmcmdstr_8eyc.htm"><b>set</b></a> command. The tracks to be recorded are specified by the <a href="mmcmdstr_4q5h.htm"><b>settimecode</b></a> "record", <b>set </b>"assemble record", <a href="mmcmdstr_8t67.htm"><b>setvideo</b></a><b> </b>"record", and <a href="mmcmdstr_4rlb.htm"><b>setaudio</b></a><b> </b>"record" commands.</p>
<p>
The following command starts recording at the current position:</p>
<pre><code>record mysound
 </code></pre>
<h4>QuickInfo</h4>
<p>
<b>&nbsp;&nbsp;Windows NT: </b>Requires version 3.1 or later.<br>
<b>&nbsp;&nbsp;Windows: </b>Requires Windows 95 or later.<br>
<b>&nbsp;&nbsp;Windows CE: </b>Unsupported.</p>
<h4>See Also</h4>
<p>
<a href="../pdgrmm/mci_7vvt.htm">MCI Overview</a>, <a href="../pdgrmm/mci_04dv.htm">MCI Command Strings</a>, <a href="mmcmdstr_715x.htm"><b>cue</b></a>, <a href="mmcmdstr_2ncd.htm"><b>monitor</b></a>, <a href="mmcmdstr_8e1x.htm"><b>pause</b></a>, <a href="mmcmdstr_869g.htm"><b>put</b></a>, <a href="mmcmdstr_8eyc.htm"><b>set</b></a>, <a href="mmcmdstr_4rlb.htm"><b>setaudio</b></a>,<b> <a href="mmcmdstr_4q5h.htm">settimecode</a></b>, <a href="mmcmdstr_8t67.htm"><b>setvideo</b></a>,<b> <a href="mmcmdstr_9wa8.htm">stop</a></b> </p>
<p>&nbsp;</p></body>
</HTML>
