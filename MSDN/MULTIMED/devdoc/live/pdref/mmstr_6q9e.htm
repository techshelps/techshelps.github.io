<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>COMPVARS</title>
<link disabled rel=stylesheet href=../../backsdk3.css>
<style type="text/css">
@import url(../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h1><a name="_win32_compvars_str"></a>COMPVARS</h1>
<p>
The <b>COMPVARS</b> structure describes compressor settings for functions such as <a href="mmfunc_1jtx.htm"><b>ICCompressorChoose</b></a>, <a href="mmfunc_9ep1.htm"><b>ICSeqCompressFrame</b></a>, and <a href="mmfunc_6ylh.htm"><b>ICCompressorFree</b></a>.</p>
<pre><code>typedef struct { 
    LONG         cbSize; 
    DWORD        dwFlags; 
    HIC          hic; 
    DWORD        fccType; 
    DWORD        fccHandler; 
    LPBITMAPINFO lpbiIn; 
    LPBITMAPINFO lpbiOut; 
    LPVOID       lpBitsOut; 
    LPVOID       lpBitsPrev; 
    LONG         lFrame; 
    LONG         lKey; 
    LONG         lDataRate; 
    LONG         lQ; 
    LONG         lKeyCount; 
    LPVOID       lpState; 
    LONG         cbState; 
} COMPVARS; 
 </code></pre>
<h4>Members</h4>
<dl>
<dt>
<b>cbSize</b></dt>
<dd>
Size, in bytes, of this structure. This member must be set to validate the structure before calling any function using this structure.</dd>
<dt>
<b>dwFlags</b></dt>
<dd>
Applicable flags. The following value is defined:
<dl>
<dt>
ICMF_COMPVARS_VALID</dt>
<dd>
Data in this structure is valid and has been manually entered. Set this flag before you call any function if you fill this structure manually. Do not set this flag if you let <a href="mmfunc_1jtx.htm"><b>ICCompressorChoose</b></a> initialize this structure.</dd>
</dl>
</dd>
<dt>
<b>hic</b></dt>
<dd>
Handle of the compressor to use. You can open a compressor and obtain a handle of it by using the <a href="mmfunc_43ou.htm"><b>ICOpen</b></a><b> </b>function. You can also choose a compressor by using <b>ICCompressorChoose</b>. <b>ICCompressorChoose</b> opens the chosen compressor and returns the handle of the compressor in this member. You can close the compressor by using <a href="mmfunc_6ylh.htm"><b>ICCompressorFree</b></a>.</dd>
<dt>
<b>fccType</b></dt>
<dd>
Type of compressor used. Currently only ICTYPE_VIDEO (VIDC) is supported. This member can be set to zero.</dd>
<dt>
<b>fccHandler</b></dt>
<dd>
Four-character code of the compressor. Specify NULL to indicate the data is not to be recompressed. Specify "DIB" to indicate the data is an uncompressed, full frame. You can use this member to specify which compressor is selected by default when the dialog box is displayed.</dd>
<dt>
<b>lpbiIn</b></dt>
<dd>
Reserved; do not use.</dd>
<dt>
<b>lpbiOut</b></dt>
<dd>
Address of a <object id=alink_1 type="application/x-oleobject"
	classid="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
<PARAM name="Command" value="ALink,MENU">
<PARAM name="DefaultTopic" value="../../notopic_0pk4.htm">
<PARAM name="Item1" value="">
<PARAM name="Item2" value="_win32_bitmapinfo_str">
</object><a href=JavaScript:alink_1.Click()><b>BITMAPINFO</b></a> structure containing the image output format. You can specify a specific format to use or you can specify NULL to use the default compressor associated with the input format. You can also set the image output format by using <a href="mmfunc_1jtx.htm"><b>ICCompressorChoose</b></a>.</dd>
<dt>
<b>lpBitsOut</b></dt>
<dd>
Reserved; do not use.</dd>
<dt>
<b>lpBitsPrev</b></dt>
<dd>
Reserved; do not use.</dd>
<dt>
<b>lFrame</b></dt>
<dd>
Reserved; do not use.</dd>
<dt>
<b>lKey</b></dt>
<dd>
Key-frame rate. Specify an integer to indicate the frequency that key frames are to occur in the compressed sequence or zero to not use key frames. You can also let <b>ICCompressorChoose</b> set the key-frame rate selected in the dialog box. The <a href="mmfunc_0zqs.htm"><b>ICSeqCompressFrameStart</b></a> function uses the value of this member for making key frames.</dd>
<dt>
<b>lDataRate</b></dt>
<dd>
Data rate, in kilobytes per second. <a href="mmfunc_1jtx.htm"><b>ICCompressorChoose</b></a> copies the selected data rate from the dialog box to this member. </dd>
<dt>
<b>lQ</b></dt>
<dd>
Quality setting. Specify a quality setting of 1 to 10,000 or specify ICQUALITY_DEFAULT to use the default quality setting. You can also let <b>ICCompressorChoose</b> set the quality value selected in the dialog box. <a href="mmfunc_0zqs.htm"><b>ICSeqCompressFrameStart</b></a> uses the value of this member as its quality setting.</dd>
<dt>
<b>lKeyCount</b></dt>
<dd>
Reserved; do not use.</dd>
<dt>
<b>lpState</b></dt>
<dd>
Reserved; do not use.</dd>
<dt>
<b>cbState</b></dt>
<dd>
Reserved; do not use.
</dd>
</dl>
<h4>Remarks</h4>
<p>
You can let <a href="mmfunc_1jtx.htm"><b>ICCompressorChoose</b></a> fill the contents of this structure or you can do it manually. If you manually fill the structure, you must provide information for the following members: <b>cbSize</b>, <b>hic</b>, <b>lpbiOut</b>, <b>lKey</b>, and <b>lQ</b>. Also,<b> </b>you must set the ICMF_COMPVARS_VALID flag in the <b>dwFlags</b> member.</p>
<h4>QuickInfo</h4>
<p>
<b>&nbsp;&nbsp;Windows NT: </b>Requires version 3.1 or later.<br>
<b>&nbsp;&nbsp;Windows: </b>Requires Windows 95 or later.<br>
<b>&nbsp;&nbsp;Windows CE: </b>Unsupported.<br>
<b>&nbsp;&nbsp;Header: </b>Declared in vfw.h.</p>
<h4>See Also</h4>
<p>
<a href="../pdgrmm/avicomp_550y.htm">Video Compression Manager Overview</a>, <a href="../pdgrmm/avicomp_8y5u.htm">Video Compression Structures</a>, <object id=alink_2 type="application/x-oleobject"
	classid="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
<PARAM name="Command" value="ALink,MENU">
<PARAM name="DefaultTopic" value="../../notopic_0pk4.htm">
<PARAM name="Item1" value="">
<PARAM name="Item2" value="_win32_bitmapinfo_str">
</object><a href=JavaScript:alink_2.Click()><b>BITMAPINFO</b></a>, <a href="mmfunc_1jtx.htm"><b>ICCompressorChoose</b></a>, <a href="mmfunc_6ylh.htm"><b>ICCompressorFree</b></a>, <a href="mmfunc_9ep1.htm"><b>ICSeqCompressFrame</b></a>, <a href="mmfunc_0zqs.htm"><b>ICSeqCompressFrameStart</b></a> </p>
<p>&nbsp;</p></body>
</HTML>
