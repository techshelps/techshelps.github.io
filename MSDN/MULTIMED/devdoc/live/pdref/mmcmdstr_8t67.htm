<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>setvideo</title>
<link disabled rel=stylesheet href=../../backsdk3.css>
<style type="text/css">
@import url(../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h1><a name="_win32_setvideo"></a>setvideo</h1>
<p>
The <b>setvideo</b> command sets values associated with video playback and capture. Digital-video and VCR devices recognize this command. </p>
<pre><code>wsprintf(lpstrCommand, "setvideo %s %s %s", lpszDeviceID, lpszVideo, 
    lpszFlags); 
 </code></pre>
<h4>Parameters</h4>
<dl>
<dt>
<i>lpszDeviceID</i></dt>
<dd>
Identifier of an MCI device. This identifier or alias is assigned when the device is opened. </dd>
<dt>
<i>lpszVideo</i></dt>
<dd>
Flag for video playback and capture. The following table lists device types that recognize the <b>setvideo</b> command and the flags used by each type:
<table cellspacing=4 cols=3>
<tr valign=top>
<td width=21%><b>digitalvideo</b></td>
<td width=39%>algorithm <i>algorithm</i><br>
bitsperpel to <i>count</i><br>
brightness to <i>factor</i><br>
clocktime<br>
color to <i>factor</i><br>
contrast to <i>factor</i><br>
gamma to <i>value</i><br>
halftone<br>
input<br>
key color to <i>r:g:b</i><br>
key index to <i>index</i><br>
off<br>
on<br>
output</td>
<td width=40%>over <i>duration</i><br>
palette color <i>color</i> over <i>index</i> <br>
    to <i>newrgb<br>
</i>palette handle to <i>handle</i><br>
quality <i>descriptor</i><br>
record frame rate to <i>rate</i> <br>
record on<br>
record off<br>
sharpness to <i>factor</i><br>
source to <i>source </i>number <i>value</i><br>
still algorithm <i>algorithm</i><br>
still quality <i>descriptor</i><br>
stream to <i>number</i><br>
tint to<i> factor</i></td>
</tr>
<tr valign=top>
<td width=21%><b>vcr</b></td>
<td width=39%>off<br>
on<br>
monitor to <i>type</i> number <i>number</i><br>
record off<br>
record track <i>track_number</i> off</td>
<td width=40%>record on <br>
record track <i>track_number</i> on <br>
source to <i>type </i>number <i>number<br>
</i>track <i>track_number</i> off<br>
track <i>track_number</i> on<i> </i></td>
</tr>
</table><br>


<p>
The following table lists the flags that can be specified in the <i>lpszVideo </i>parameter and their meanings:

<table cellspacing=4 cols=2>
<tr valign=top>
<td width=38%>algorithm <i>algorithm</i></td>
<td width=62%>Specifies a video compression algorithm for use by a subsequent <a href="mmcmdstr_07ol.htm"><b>reserve</b></a> or <a href="mmcmdstr_1x44.htm"><b>record</b></a> command. Algorithms supported by a device are device specific. MCI defines the constants "mpeg" and "h261" for <i>algorithm</i>.<p>
If the specified algorithm conflicts with the current file format, the file format is changed to the default format for the algorithm.</p>
</td>
</tr>
<tr valign=top>
<td width=38%>bitsperpel to <i>count</i></td>
<td width=62%>Sets the number of bits per pixel for saving data with the <a href="mmcmdstr_6qud.htm"><b>capture</b></a> or <a href="mmcmdstr_1x44.htm"><b>record</b></a><b> </b>command.</td>
</tr>
<tr valign=top>
<td width=38%>brightness to <i>factor</i></td>
<td width=62%>Sets the video brightness level.</td>
</tr>
<tr valign=top>
<td width=38%>clocktime</td>
<td width=62%>Indicates that the time specified in the "over" flag is in milliseconds. The time is absolute and not in step with the playing of the workspace.</td>
</tr>
<tr valign=top>
<td width=38%>color to <i>factor</i></td>
<td width=62%>Sets the color-saturation level.</td>
</tr>
<tr valign=top>
<td width=38%>contrast to <i>factor</i></td>
<td width=62%>Sets the video-contrast level.</td>
</tr>
<tr valign=top>
<td width=38%>gamma to <i>value</i></td>
<td width=62%>Specifies the gamma correction exponent multiplied by 1000. For example, to specify an exponent of 2.2, use 2200 for <i>value</i>. A gamma value of 1.0 (1000) indicates no gamma correction is applied. Gamma correction adjusts the mapping between the intensity encoded in the presentation source and the displayed brightness.</td>
</tr>
<tr valign=top>
<td width=38%>halftone</td>
<td width=62%>Causes the halftone palette to be used instead of the default palette. This flag is recognized only by the MCIAVI digital-video driver. </td>
</tr>
<tr valign=top>
<td width=38%>input</td>
<td width=62%>Modifies the "brightness", "color", "contrast", "gamma", "sharpness", or "tint" flag so that it affects the input signal and modifies what is recorded. If possible, this is the default when monitoring the input.</td>
</tr>
<tr valign=top>
<td width=38%>key color to <i>r:g:b</i></td>
<td width=62%>Sets the key color. The <i>r:g:b </i>variable<b><i> </i></b>is a Windows <object id=alink_1 type="application/x-oleobject"
	classid="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
<PARAM name="Command" value="ALink,MENU">
<PARAM name="DefaultTopic" value="../../notopic_0pk4.htm">
<PARAM name="Item1" value="">
<PARAM name="Item2" value="_win32_rgb">
</object><a href=JavaScript:alink_1.Click()>RGB</a> value. Colons (:) separate the individual red, green, and blue values.</td>
</tr>
<tr valign=top>
<td width=38%>key index to <i>index</i></td>
<td width=62%>Sets the key index. The <i>index<b> </b></i>variable is a physical palette index.</td>
</tr>
<tr valign=top>
<td width=38%>monitor to <i>type</i> number <i>number</i></td>
<td width=62%>Controls which source input will be passed to the VCR output, without changing the recording source input selection.<i> </i>Type can be "output", or one of the valid input sources. If "number" is not specified, then the first input of that type is chosen.</td>
</tr>
<tr valign=top>
<td width=38%>off<br>
on</td>
<td width=62%>Enables or disables display of video. Disabling video sets the pixels in the <a href="mmcmdstr_869g.htm"><b>put</b></a> "destination" rectangle (or its default, the client region of the current window) to a solid color. It has no effect on the frame buffer.<p>
The video source, whether the workspace or an external input, might continue to store new images in the frame buffer. They are not displayed until video is enabled. You can use the <a href="mmcmdstr_177b.htm"><b>window</b></a> "state" command to hide the window. The default is <b>setvideo</b> "on".</p>
</td>
</tr>
<tr valign=top>
<td width=38%>output</td>
<td width=62%>Modifies the "brightness", "color", "contrast", "gamma", "sharpness", or "tint" flag so that it modifies only the displayed signal and not what is recorded. If possible, this is the default when monitoring a file.</td>
</tr>
<tr valign=top>
<td width=38%>over <i>duration</i></td>
<td width=62%>Specifies how long it should take to make a change that uses a <i>factor </i>variable. The units for <i>duration</i> are in the current time format. Changes occur in step with the playing of the workspace. When playing is suspended, the change is also suspended until the play continues. If "over" is not used or not supported, the change occurs immediately.</td>
</tr>
<tr valign=top>
<td width=38%>palette color <i>color</i> over <i>index</i> to <i>newrgb</i></td>
<td width=62%>Sets a new palette color. The color and palette index to be changed are specified by the <i>color</i> and <i>index</i> parameters; the new color is specified by <i>newrgb</i>. This flag is recognized only by the MCIAVI digital-video driver.</td>
</tr>
<tr valign=top>
<td width=38%>palette handle to <i>handle</i></td>
<td width=62%>Specifies the handle to a palette the device must use for rendering. This item is supported only by devices that use palettes. If <i>handle</i> is zero, the default palette is used.<p>
Digital-video devices should not free the palette passed with this command. Applications should free it after they close the device.</p>
</td>
</tr>
<tr valign=top>
<td width=38%>quality <i>descriptor</i></td>
<td width=62%>Specifies the characteristics of the video compression performed when video is recorded to a file. All devices support the three descriptors: "low", "medium", and "high". The default is device specific. The significance of these names depends on the algorithm and the device. Devices might define additional descriptor names. The <a href="mmcmdstr_26y5.htm"><b>quality</b></a> command can be used to define additional descriptor names.<p>
If the "algorithm" flag is not used, the <i>descriptor</i> applies to the current algorithm.</p>
</td>
</tr>
<tr valign=top>
<td width=38%>record frame rate to <i>rate</i> </td>
<td width=62%>Sets the recording for motion video. The recording <i>rate</i> is specified in units of frames per second multiplied by 1000. For example, the NTSC frame rate of 29.97 frames per second is represented as 29970.</td>
</tr>
<tr valign=top>
<td width=38%>record on<br>
record off</td>
<td width=62%>Enables or disables recording of video data. Recording video data is the default.</td>
</tr>
<tr valign=top>
<td width=38%>record track <i>track_number</i> off</td>
<td width=62%>Clears the video-source selection so that no video will be recorded with the next <a href="mmcmdstr_1x44.htm"><b>record</b></a> command. "Track" allows independent track selection. If "track" is not specified, a default value of 1 is assumed. It might be necessary to first issue a <a href="mmcmdstr_8eyc.htm"><b>set</b></a><b> </b>"assemble record off" command before the video recording can be turned off.</td>
</tr>
<tr valign=top>
<td width=38%>record track <i>track_number</i> on </td>
<td width=62%>Selects the video source to be recorded with the next <b>record</b> command. "Track"<b> </b>allows independent track selection. Track 2 corresponds to the PCM track in Hi8. If "track" is not specified, a default of 1 is assumed.</td>
</tr>
<tr valign=top>
<td width=38%>sharpness to <i>factor</i></td>
<td width=62%>Sets the video sharpness level.</td>
</tr>
<tr valign=top>
<td width=38%>source to <i>source </i>number <i>value</i></td>
<td width=62%>Sets the source of the video input. This usually corresponds to external connectors. The constants defined for <i>source</i> include "rgb", "pal", "ntsc", "svideo", and "secam". If more than one input of the specified type exists, the optional "number" <i>value</i> indicates the desired input. For example, <b>setvideo</b> "source to ntsc number 2" specifies the second NTSC input.<p>
If "to" <i>source</i> is omitted, then the absolute source is used as defined by the <a href="mmcmdstr_9ltg.htm"><b>list</b></a><b> </b>"video source" command.</p>
</td>
</tr>
<tr valign=top>
<td width=38%>source to <i>type </i>number <i>number </i></td>
<td width=62%>Selects the video source to be recorded on the tape. <i>Type </i>must be "tuner", "line", "svideo", "aux", "generic", "mute", or "rgb". </td>
</tr>
<tr valign=top>
<td width=38%>still algorithm <i>algorithm</i></td>
<td width=62%>Specifies the still image compression algorithm used by the <a href="mmcmdstr_6qud.htm"><b>capture</b></a> command. Every device must support an <i>algorithm</i> of "none", which means no compression. This is the default. In this case, digital-video devices save still images as <object id=alink_2 type="application/x-oleobject"
	classid="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
<PARAM name="Command" value="ALink,MENU">
<PARAM name="DefaultTopic" value="../../notopic_0pk4.htm">
<PARAM name="Item1" value="">
<PARAM name="Item2" value="_win32_rgb">
</object><a href=JavaScript:alink_2.Click()>RGB</a> format device-independent bitmaps. Devices might also support a device-specific list of additional algorithms.</td>
</tr>
<tr valign=top>
<td width=38%>still quality <i>descriptor</i></td>
<td width=62%>Specifies the characteristics of the still-image compression performed while capturing a still image. All devices support the descriptors "low", "medium", and "high". The default is device specific. <p>
If the "algorithm" flag is not used, the <i>descriptor</i> applies to the current algorithm.</p>
<p>
The <a href="mmcmdstr_26y5.htm"><b>quality</b></a> command can be used to define other descriptor names.</p>
</td>
</tr>
<tr valign=top>
<td width=38%>stream to <i>number</i></td>
<td width=62%>Specifies the video stream played back from the workspace. If the stream is not specified and a default stream is not defined by the file format, then the physically first interleaved video stream is played.</td>
</tr>
<tr valign=top>
<td width=38%>tint to<i> factor</i></td>
<td width=62%>Sets the image tint. Typically, this adjustment is modeled after the tint control of many color television sets, with 250 meaning green, 750 meaning red, and 0 (or 1000) meaning blue. The nominal value is always 500.</td>
</tr>
<tr valign=top>
<td width=38%>track <i>track_number</i> off</td>
<td width=62%>Disables an individual video track.</td>
</tr>
<tr valign=top>
<td width=38%>track <i>track_number</i> on</td>
<td width=62%>Enables an individual video track.</td>
</tr>
</table><br>

</dd>
<dt>
<i>lpszFlags</i></dt>
<dd>
Can be "wait", "notify", "test", or a combination of these. For more information about these flags, see <a href="../pdgrmm/mci_9v3n.htm">The Wait, Notify, and Test Flags</a>.
</dd>
</dl>
<h4>Return Values</h4>
<p>
Returns zero if successful or an error otherwise.</p>
<h4>Remarks</h4>
<p>
For VCR devices, using <b>setvideo</b> with a flag that turns off an individual track ("track <i>track_number</i> off") might cause your application to receive a status message indicating that the command could not be carried out. Some VCRs can turn off only combinations of tracks, not individual tracks; for example, the first audio track and a video track of a video cassette. In this case, simply use <a href="mmcmdstr_4rlb.htm"><b>setaudio</b></a> and <b>setvideo</b> to continue to turn off the other tracks that make up the combination. The driver will turn off the tracks when it receives the command to turn off the last track in the combination.</p>
<h4>QuickInfo</h4>
<p>
<b>&nbsp;&nbsp;Windows NT: </b>Requires version 3.1 or later.<br>
<b>&nbsp;&nbsp;Windows: </b>Requires Windows 95 or later.<br>
<b>&nbsp;&nbsp;Windows CE: </b>Unsupported.</p>
<h4>See Also</h4>
<p>
<a href="../pdgrmm/mci_7vvt.htm">MCI Overview</a>, <a href="../pdgrmm/mci_04dv.htm">MCI Command Strings</a>, <a href="mmcmdstr_6qud.htm"><b>capture</b></a>, <a href="mmcmdstr_9ltg.htm"><b>list</b></a>,<b> <a href="mmcmdstr_869g.htm">put</a></b>, <a href="mmcmdstr_26y5.htm"><b>quality</b></a>, <a href="mmcmdstr_1x44.htm"><b>record</b></a>, <a href="mmcmdstr_07ol.htm"><b>reserve</b></a>, <object id=alink_3 type="application/x-oleobject"
	classid="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
<PARAM name="Command" value="ALink,MENU">
<PARAM name="DefaultTopic" value="../../notopic_0pk4.htm">
<PARAM name="Item1" value="">
<PARAM name="Item2" value="_win32_rgb">
</object><a href=JavaScript:alink_3.Click()>RGB</a>, <a href="mmcmdstr_8eyc.htm"><b>set</b></a>,<b> <a href="mmcmdstr_4rlb.htm">setaudio</a></b>, <a href="mmcmdstr_177b.htm"><b>window</b></a> </p>
<p>&nbsp;</p></body>
</HTML>
