<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>ICM_DECOMPRESS_GET_PALETTE</title>
<link disabled rel=stylesheet href=../../backsdk3.css>
<style type="text/css">
@import url(../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h1><a name="_win32_icm_decompress_get_palette"></a>ICM_DECOMPRESS_GET_PALETTE</h1>
<p>
The ICM_DECOMPRESS_GET_PALETTE message requests that the video decompression driver supply the color table of the output <object id=alink_1 type="application/x-oleobject"
	classid="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
<PARAM name="Command" value="ALink,MENU">
<PARAM name="DefaultTopic" value="../../notopic_0pk4.htm">
<PARAM name="Item1" value="">
<PARAM name="Item2" value="_win32_bitmapinfoheader_str">
</object><a href=JavaScript:alink_1.Click()><b>BITMAPINFOHEADER</b></a> structure. You can send this message explicitly or by using the <a href="mmmacro_1rvp.htm"><b>ICDecompressGetPalette</b></a> macro.</p>
<pre><code>ICM_DECOMPRESS_GET_PALETTE 
wParam = (DWORD) (LPVOID) lpbiInput; 
lParam = (DWORD) (LPVOID) lpbiOutput; 
 </code></pre>
<h4>Parameters</h4>
<dl>
<dt>
<i>lpbiInput</i></dt>
<dd>
Address of a <object id=alink_2 type="application/x-oleobject"
	classid="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
<PARAM name="Command" value="ALink,MENU">
<PARAM name="DefaultTopic" value="../../notopic_0pk4.htm">
<PARAM name="Item1" value="">
<PARAM name="Item2" value="_win32_bitmapinfoheader_str">
</object><a href=JavaScript:alink_2.Click()><b>BITMAPINFOHEADER</b></a> structure containing the input format.</dd>
<dt>
<i>lpbiOutput</i></dt>
<dd>
Address of a <b>BITMAPINFOHEADER</b> structure to contain the color table. The space reserved for the color table is always at least 256 colors. You can specify zero for this parameter to return only the size of the color table.
</dd>
</dl>
<h4>Return Values</h4>
<p>
Returns ICERR_OK if successful or an error otherwise.</p>
<h4>Remarks</h4>
<p>
If <i>lpbiOutput</i> is nonzero, the driver sets the <b>biClrUsed</b> member of <b>BITMAPINFOHEADER</b> to the number of colors in the color table. The driver fills the <b>bmiColors</b> members of <b>BITMAPINFO</b> with the actual colors.</p>
<p>
The driver should support this message only if it uses a palette other than the one specified in the input format.</p>
<h4>QuickInfo</h4>
<p>
<b>&nbsp;&nbsp;Windows NT: </b>Requires version 3.1 or later.<br>
<b>&nbsp;&nbsp;Windows: </b>Requires Windows 95 or later.<br>
<b>&nbsp;&nbsp;Windows CE: </b>Unsupported.<br>
<b>&nbsp;&nbsp;Header: </b>Declared in vfw.h.</p>
<h4>See Also</h4>
<p>
<a href="../pdgrmm/avicomp_550y.htm">Video Compression Manager Overview</a>, <a href="../pdgrmm/avicomp_5nlf.htm">Video Compression Messages</a>, <object id=alink_3 type="application/x-oleobject"
	classid="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
<PARAM name="Command" value="ALink,MENU">
<PARAM name="DefaultTopic" value="../../notopic_0pk4.htm">
<PARAM name="Item1" value="">
<PARAM name="Item2" value="_win32_bitmapinfo_str">
</object><a href=JavaScript:alink_3.Click()><b>BITMAPINFO</b></a>, <object id=alink_4 type="application/x-oleobject"
	classid="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
<PARAM name="Command" value="ALink,MENU">
<PARAM name="DefaultTopic" value="../../notopic_0pk4.htm">
<PARAM name="Item1" value="">
<PARAM name="Item2" value="_win32_bitmapinfoheader_str">
</object><a href=JavaScript:alink_4.Click()><b>BITMAPINFOHEADER</b></a>, <a href="mmmacro_1rvp.htm"><b>ICDecompressGetPalette</b></a></p>
<p>&nbsp;</p></body>
</HTML>
