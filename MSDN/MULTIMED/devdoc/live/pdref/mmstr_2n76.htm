<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>CAPSTATUS</title>
<link disabled rel=stylesheet href=../../backsdk3.css>
<style type="text/css">
@import url(../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h1><a name="_win32_capstatus_str"></a>CAPSTATUS</h1>
<p>
The <b>CAPSTATUS</b> structure defines the current state of the capture window.</p>
<pre><code>typedef struct { 
    UINT     uiImageWidth; 
    UINT     uiImageHeight; 
    BOOL     fLiveWindow; 
    BOOL     fOverlayWindow; 
    BOOL     fScale; 
    POINT    ptScroll; 
    BOOL     fUsingDefaultPalette; 
    BOOL     fAudioHardware; 
    BOOL     fCapFileExists; 
    DWORD    dwCurrentVideoFrame; 
    DWORD    dwCurrentVideoFramesDropped; 
    DWORD    dwCurrentWaveSamples; 
    DWORD    dwCurrentTimeElapsedMS; 
    HPALETTE hPalCurrent; 
    BOOL     fCapturingNow; 
    DWORD    dwReturn; 
    UINT     wNumVideoAllocated; 
    UINT     wNumAudioAllocated; 
} CAPSTATUS; 
 </code></pre>
<h4>Members</h4>
<dl>
<dt>
<b>uiImageWidth</b></dt>
<dd>
Image width, in pixels.</dd>
<dt>
<b>uiImageHeight</b></dt>
<dd>
Image height, in pixels</dd>
<dt>
<b>fLiveWindow</b></dt>
<dd>
Live window flag. The value of this member is TRUE if the window is displaying video using the preview method.</dd>
<dt>
<b>fOverlayWindow</b></dt>
<dd>
Overlay window flag. The value of this member is TRUE if the window is displaying video using hardware overlay.</dd>
<dt>
<b>fScale</b></dt>
<dd>
Input scaling flag. The value of this member is TRUE if the window is scaling the input video to the client area when displaying video using preview. This parameter has no effect when displaying video using overlay.</dd>
<dt>
<b>ptScroll</b></dt>
<dd>
The x- and y-offset of the pixel displayed in the upper left corner of the client area of the window.</dd>
<dt>
<b>fUsingDefaultPalette</b></dt>
<dd>
Default palette flag. The value of this member is TRUE if the capture driver is using its default palette.</dd>
<dt>
<b>fAudioHardware</b></dt>
<dd>
Audio hardware flag. The value of this member is TRUE if the system has waveform-audio hardware installed.</dd>
<dt>
<b>fCapFileExists</b></dt>
<dd>
Capture file flag. The value of this member is TRUE if a valid capture file has been generated.</dd>
<dt>
<b>dwCurrentVideoFrame</b></dt>
<dd>
Number of frames processed during the current (or most recent) streaming capture. This count includes dropped frames.</dd>
<dt>
<b>dwCurrentVideoFramesDropped</b></dt>
<dd>
Number of frames dropped during the current (or most recent) streaming capture. Dropped frames occur when the capture rate exceeds the rate at which frames can be saved to file. In this case, the capture driver has no buffers available for storing data. Dropping frames does not affect synchronization because the previous frame is displayed in place of the dropped frame.</dd>
<dt>
<b>dwCurrentWaveSamples</b></dt>
<dd>
Number of waveform-audio samples processed during the current (or most recent) streaming capture.</dd>
<dt>
<b>dwCurrentTimeElapsedMS</b></dt>
<dd>
Time, in milliseconds, since the start of the current (or most recent) streaming capture.</dd>
<dt>
<b>hPalCurrent</b></dt>
<dd>
Handle of current palette.</dd>
<dt>
<b>fCapturingNow</b></dt>
<dd>
Capturing flag. The value of this member is TRUE when capturing is in progress.</dd>
<dt>
<b>dwReturn</b></dt>
<dd>
Error return values. Use this member if your application does not support an error callback function.</dd>
<dt>
<b>wNumVideoAllocated</b></dt>
<dd>
Number of video buffers allocated. This value might be less than the number specified in the <b>wNumVideoRequested</b> member of the <a href="mmstr_6eia.htm"><b>CAPTUREPARMS</b></a> structure.</dd>
<dt>
<b>wNumAudioAllocated</b></dt>
<dd>
Number of audio buffers allocated. This value might be less than the number specified in the <b>wNumAudioRequested</b> member of the <b>CAPTUREPARMS</b> structure.
</dd>
</dl>
<h4>Remarks</h4>
<p>
Because the state of a capture window changes in response to various messages, an application should update the information in this structure whenever it needs to enable menu items, determine the actual state of the capture window, or call the video format dialog box. If the application yields during streaming capture, this structure returns the progress of the capture in the <b>dwCurrentVideoFrame</b>, <b>dwCurrentVideoFramesDropped</b>, <b>dwCurrentWaveSamples</b>, and <b>dwCurrentTimeElapsedMS</b> members. Use the <a href="mmmsg_1sc3.htm">WM_CAP_GET_STATUS</a> message or <b>capGetStatus</b> macro to update the contents of this structure.</p>
<h4>QuickInfo</h4>
<p>
<b>&nbsp;&nbsp;Windows NT: </b>Requires version 3.1 or later.<br>
<b>&nbsp;&nbsp;Windows: </b>Requires Windows 95 or later.<br>
<b>&nbsp;&nbsp;Windows CE: </b>Unsupported.<br>
<b>&nbsp;&nbsp;Header: </b>Declared in vfw.h.</p>
<h4>See Also</h4>
<p>
<a href="../pdgrmm/avicap_8xyd.htm">Video Capture Overview</a>, <a href="../pdgrmm/avicap_0qcy.htm">Video Capture Structures</a>, <a href="mmstr_6eia.htm"><b>CAPTUREPARMS</b></a>, <a href="mmmsg_1sc3.htm">WM_CAP_GET_STATUS</a> </p>
<p>&nbsp;</p></body>
</HTML>
