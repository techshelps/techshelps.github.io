<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>acmStreamSize</title>
<link disabled rel=stylesheet href=../../backsdk3.css>
<style type="text/css">
@import url(../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h1><a name="_win32_acmstreamsize"></a>acmStreamSize</h1>
<p>
The <b>acmStreamSize</b> function returns a recommended size for a source or destination buffer on an ACM stream.</p>
<pre><code><b>MMRESULT acmStreamSize(
  HACMSTREAM</b><i> has</i><b>,          </b>
<b>  DWORD</b><i> cbInput</i><b>,           </b>
<b>  LPDWORD</b><i> pdwOutputBytes</i><b>,  </b>
<b>  DWORD</b><i> fdwSize            </i>
<b>);</b>
 </code></pre>
<h4>Parameters</h4>
<dl>
<dt>
<i>has</i></dt>
<dd>
Handle of the conversion stream.</dd>
<dt>
<i>cbInput</i></dt>
<dd>
Size, in bytes, of the source or destination buffer. The <i>fdwSize</i> flags specify what the input parameter defines. This parameter must be nonzero.</dd>
<dt>
<i>pdwOutputBytes</i></dt>
<dd>
Address of a variable that contains the size, in bytes, of the source or destination buffer. The <i>fdwSize</i> flags specify what the output parameter defines. If the <b>acmStreamSize</b> function succeeds, this location will always be filled with a nonzero value.</dd>
<dt>
<i>fdwSize</i></dt>
<dd>
Flags for the stream size query. The following values are defined:
<dl>
<dt>
ACM_STREAMSIZEF_DESTINATION</dt>
<dd>
The <i>cbInput</i> parameter contains the size of the destination buffer. The <i>pdwOutputBytes</i> parameter will receive the recommended source buffer size, in bytes.</dd>
<dt>
ACM_STREAMSIZEF_SOURCE</dt>
<dd>
The <i>cbInput</i> parameter contains the size of the source buffer. The <i>pdwOutputBytes</i> parameter will receive the recommended destination buffer size, in bytes.
</dd>
</dl>
</dd>
</dl>
<h4>Return Values</h4>
<p>
Returns zero if successful or an error otherwise. Possible error values include the following:</p>
<table cellspacing=4 cols=2>
<tr valign=top>
<th align=left width=48%>Value</th>
<th align=left width=52%>Description</th>
</tr>
<tr valign=top>
<td width=48%>ACMERR_NOTPOSSIBLE</td>
<td width=52%>The requested operation cannot be performed.</td>
</tr>
<tr valign=top>
<td width=48%>MMSYSERR_INVALFLAG</td>
<td width=52%>At least one flag is invalid.</td>
</tr>
<tr valign=top>
<td width=48%>MMSYSERR_INVALHANDLE</td>
<td width=52%>The specified handle is invalid.</td>
</tr>
<tr valign=top>
<td width=48%>MMSYSERR_INVALPARAM</td>
<td width=52%>At least one parameter is invalid.</td>
</tr>
</table><br>
<h4>Remarks</h4>
<p>
An application can use this function to determine suggested buffer sizes for either source or destination buffers. The buffer sizes returned might be only an estimation of the actual sizes required for conversion. Because actual conversion sizes cannot always be determined without performing the conversion, the sizes returned will usually be overestimated.</p>
<p>
In the event of an error, the location pointed to by <i>pdwOutputBytes</i> will receive zero. This assumes that the pointer specified by <i>pdwOutputBytes</i> is valid.</p>
<h4>QuickInfo</h4>
<p>
<b>&nbsp;&nbsp;Windows NT: </b>Requires version 3.1 or later.<br>
<b>&nbsp;&nbsp;Windows: </b>Requires Windows 95 or later.<br>
<b>&nbsp;&nbsp;Windows CE: </b>Unsupported.<br>
<b>&nbsp;&nbsp;Header: </b>Declared in msacm.h.<br>
<b>&nbsp;&nbsp;Import Library: </b>Use msacm32.lib.</p>
<h4>See Also</h4>
<p>
<a href="../pdgrmm/audcomp_3kc2.htm">Audio Compression Manager Overview</a>, <a href="../pdgrmm/audcomp_6x9v.htm">Audio Compression Functions</a> </p>
<p>&nbsp;</p></body>
</HTML>
