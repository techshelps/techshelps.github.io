<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>capSetCallbackOnCapControl</title>
<link disabled rel=stylesheet href=../../backsdk3.css>
<style type="text/css">
@import url(../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h1><a name="_win32_capsetcallbackoncapcontrol"></a>capSetCallbackOnCapControl</h1>
<p>
The <b>capSetCallbackOnCapControl</b> macro sets a callback function in the application giving it precise recording control. You can use this macro or explicitly call the <a href="mmmsg_0ucs.htm">WM_CAP_SET_CALLBACK_CAPCONTROL</a> message.</p>
<pre><code><b>BOOL capSetCallbackOnCapControl(
 </b><i> hwnd</i><b>,  </b>
<b> </b><i> fpProc </i>
<b>);</b>
 </code></pre>
<h4>Parameters</h4>
<dl>
<dt>
<i>hwnd</i></dt>
<dd>
Handle of a capture window.</dd>
<dt>
<i>fpProc</i></dt>
<dd>
Address of the callback function. Specify NULL for this parameter to disable a previously installed callback function. 
</dd>
</dl>
<h4>Return Values</h4>
<p>
Returns TRUE if successful or FALSE if streaming capture or a single-frame capture session is in progress.</p>
<h4>Remarks</h4>
<p>
A single callback function is used to give the application precise control over the moments that streaming capture begins and completes. The capture window first calls the procedure with <i>nState</i> set to CONTROLCALLBACK_PREROLL after all buffers have been allocated and all other capture preparations have finished. This gives the application the ability to preroll video sources, returning from the callback function at the exact moment recording is to begin. A return value of TRUE from the callback function continues capture, and a return value of FALSE aborts capture. After capture begins, this callback function will be called frequently with <i>nState</i> set to CONTROLCALLBACK_CAPTURING to allow the application to end capture by returning FALSE.</p>
<h4>QuickInfo</h4>
<p>
<b>&nbsp;&nbsp;Windows NT: </b>Requires version 3.1 or later.<br>
<b>&nbsp;&nbsp;Windows: </b>Requires Windows 95 or later.<br>
<b>&nbsp;&nbsp;Windows CE: </b>Unsupported.<br>
<b>&nbsp;&nbsp;Header: </b>Declared in vfw.h.</p>
<h4>See Also</h4>
<p>
<a href="../pdgrmm/avicap_8xyd.htm">Video Capture Overview</a>, <a href="../pdgrmm/avicap_9cxf.htm">Video Capture Macros</a>, <a href="mmmsg_0ucs.htm">WM_CAP_SET_CALLBACK_CAPCONTROL</a></p>
<p>&nbsp;</p></body>
</HTML>
