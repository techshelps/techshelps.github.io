<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>MMIOProc</title>
<link disabled rel=stylesheet href=../../backsdk3.css>
<style type="text/css">
@import url(../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h1><a name="_win32_mmioproc"></a>MMIOProc</h1>
<p>
The <b>MMIOProc</b> function is a custom input/output (I/O) procedure installed by the <a href="mmfunc_1h5v.htm"><b>mmioInstallIOProc</b></a> function. <b>MMIOProc</b> is a placeholder for the application-defined function name. The address of this function can be specified in the callback-address parameter of <b>mmioInstallIOProc</b>.</p>
<pre><code><b>LRESULT MMIOProc(
  LPSTR</b><i> lpmmioinfo</i><b>,  </b>
<b>  UINT</b><i> uMsg</i><b>,         </b>
<b>  LONG</b><i> lParam1</i><b>,      </b>
<b>  LONG</b><i> lParam2</i>       
<b>);</b>
 </code></pre>
<h4>Parameters</h4>
<dl>
<dt>
<i>lpmmioinfo</i></dt>
<dd>
Points to an <a href="mmstr_7saa.htm"><b>MMIOINFO</b></a> structure containing information about the open file. 
<p>
The I/O procedure must maintain the <b>lDiskOffset</b> member in this structure to indicate the file offset to the next read or write location. The I/O procedure can use the <b>adwInfo[]</b> member to store state information. The I/O procedure should not modify any other members of the <b>MMIOINFO</b> structure. 
</dd>
<dt>
<i>uMsg</i></dt>
<dd>
Specifies a message indicating the requested I/O operation. Messages that can be received include <a href="mmmsg_24oe.htm">MMIOM_OPEN</a>, <a href="mmmsg_9llx.htm">MMIOM_CLOSE</a>, <a href="mmmsg_80is.htm">MMIOM_READ</a>, <a href="mmmsg_3mzv.htm">MMIOM_SEEK</a>, <a href="mmmsg_4nz9.htm">MMIOM_WRITE</a>, and <a href="mmmsg_64ko.htm">MMIOM_WRITEFLUSH</a>. </dd>
<dt>
<i>lParam1</i></dt>
<dd>
Specifies an application-defined parameter for the message. </dd>
<dt>
<i>lParam2</i></dt>
<dd>
Specifies an application-defined parameter for the message. 
</dd>
</dl>
<h4>Return Values</h4>
<p>
The return value depends on the message specified by <i>uMsg</i>. If the I/O procedure does not recognize a message, it should return zero. </p>
<h4>Remarks</h4>
<p>
The four-character code specified by the <b>fccMMIOProc</b> member in the <a href="mmstr_7saa.htm"><b>MMIOINFO</b></a> structure associated with a file identifies a filename extension for a custom storage system. When an application calls <a href="mmfunc_665q.htm"><b>mmioOpen</b></a> with a filename such as "one.xyz+two", the I/O procedure associated with the four-character code "XYZ" is called to open the "two" element of the file "one.xyz". </p>
<p>
The <a href="mmfunc_1h5v.htm"><b>mmioInstallIOProc</b></a> function maintains a separate list of installed I/O procedures for each Windows-based application. Therefore, different applications can use the same I/O procedure identifier for different I/O procedures without conflict. However, installing an I/O procedure globally enables any process to use the procedure. </p>
<p>
If an application calls <b>mmioInstallIOProc</b> more than once to register the same I/O procedure, then it must call <b>mmioInstallIOProc</b> to remove the procedure once for each time it installed the procedure. </p>
<p>
<b>mmioInstallIOProc</b> will not prevent an application from installing two different I/O procedures with the same identifier, or installing an I/O procedure with one of the predefined identifiers ("DOS ", "MEM "). The most recently installed procedure takes precedence, and the most recently installed procedure is the first one to be removed. </p>
<p>
When searching for a specified I/O procedure, local procedures are searched first, then global procedures. </p>
<h4>QuickInfo</h4>
<p>
<b>&nbsp;&nbsp;Windows NT: </b>Requires version 3.1 or later.<br>
<b>&nbsp;&nbsp;Windows: </b>Requires Windows 95 or later.<br>
<b>&nbsp;&nbsp;Windows CE: </b>Unsupported.<br>
<b>&nbsp;&nbsp;Header: </b>Declared in mmsystem.h.<br>
<b>&nbsp;&nbsp;Import Library: </b>User-defined.</p>
<h4>See Also</h4>
<p>
<a href="mmstr_7saa.htm"><b>MMIOINFO</b></a>, <a href="mmfunc_1h5v.htm"><b>mmioInstallIOProc</b></a>, <a href="mmmsg_24oe.htm">MMIOM_OPEN</a>, <a href="mmmsg_9llx.htm">MMIOM_CLOSE</a>, <a href="mmmsg_80is.htm">MMIOM_READ</a>, <a href="mmmsg_3mzv.htm">MMIOM_SEEK</a>, <a href="mmmsg_4nz9.htm">MMIOM_WRITE</a>, <a href="mmmsg_64ko.htm">MMIOM_WRITEFLUSH</a>, <a href="mmfunc_665q.htm"><b>mmioOpen</b></a> </p>
<p>&nbsp;</p></body>
</HTML>
