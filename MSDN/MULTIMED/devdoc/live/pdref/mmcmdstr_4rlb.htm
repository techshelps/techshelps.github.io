<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>setaudio</title>
<link disabled rel=stylesheet href=../../backsdk3.css>
<style type="text/css">
@import url(../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h1><a name="_win32_setaudio"></a>setaudio</h1>
<p>
The <b>setaudio</b> command sets values associated with audio playback and capture. Digital-video and VCR devices recognize this command. </p>
<pre><code>wsprintf(lpstrCommand, "setaudio %s %s %s", lpszDeviceID, lpszAudio, 
    lpszFlags); 
 </code></pre>
<h4>Parameters</h4>
<dl>
<dt>
<i>lpszDeviceID</i></dt>
<dd>
Identifier of an MCI device. This identifier or alias is assigned when the device is opened. </dd>
<dt>
<i>lpszAudio</i></dt>
<dd>
Flag for audio playback and capture. The following table lists device types that recognize the <b>setaudio</b> command and the flags used by each type:
<table cellspacing=4 cols=3>
<tr valign=top>
<td width=20%><b>digitalvideo</b></td>
<td width=42%>algorithm <i>algorithm</i><br>
alignment to <i>integer</i><br>
bass to <i>factor</i><br>
bitspersample to <i>bit_count</i><br>
bytespersec to <i>integer</i><br>
clocktime<br>
input<br>
left off<br>
left on<br>
left volume to <i>factor</i><br>
off<br>
on<br>
output</td>
<td width=38%>over <i>duration</i><br>
quality <i>descriptor</i><br>
record off<br>
record on<br>
right off<br>
right on<br>
right volume to <i>factor</i><br>
samplespersec to <i>integer</i><br>
source to <i>sourcename</i><br>
stream to <i>number</i><br>
treble to <i>factor</i><br>
volume to <i>factor</i></td>
</tr>
<tr valign=top>
<td width=20%><b>vcr</b></td>
<td width=42%>off<br>
on<br>
monitor to <i>type </i>number <i>number</i><br>
record off<br>
record track <i>track_number</i> off</td>
<td width=38%>record on <br>
record track <i>track_number</i> on <br>
source to <i>type </i>number <i>number<br>
</i>track<i> track_number </i>off<br>
track<i> track_number </i>on</td>
</tr>
</table><br>


<p>
The following table lists the flags that can be specified in the <i>lpszAudio</i> parameter and their meanings:

<table cellspacing=4 cols=2>
<tr valign=top>
<td width=41%>algorithm <i>algorithm</i></td>
<td width=59%>Selects a specific audio compression algorithm for use by a subsequent <a href="mmcmdstr_07ol.htm"><b>reserve</b></a> or <a href="mmcmdstr_1x44.htm"><b>record</b></a> command. The algorithms supported are device specific.<p>
MCI defines the values "g711", "g721", "g722", "g728", "pcm", "cdxa", "adpcm", and "adpcm4e" for <i>algorithm</i>. If a device supports the algorithm names "pcm", "cdxa", and "adpcm4e", they adhere to standard definitions. The "cdxa" algorithm has been defined by Sony Corporation. The "adpcm4e" algorithm has been defined by Intel Corporation. The "g711", "g721", "g722", and "g728" values represent audio algorithms recommended by the International Telegraph and Telephone Consultative Committee (CCITT).</p>
<p>
If the specified algorithm conflicts with the current file format, the file format is changed to the default format for the algorithm.</p>
</td>
</tr>
<tr valign=top>
<td width=41%>alignment to <i>integer</i></td>
<td width=59%>Sets the alignment of data blocks relative to the start of input waveform-audio data.</td>
</tr>
<tr valign=top>
<td width=41%>bass to <i>factor</i></td>
<td width=59%>Sets the audio low frequency level.</td>
</tr>
<tr valign=top>
<td width=41%>bitspersample to <i>bit_count</i></td>
<td width=59%>Sets the number of bits per sample recorded. The file is saved in this format. This flag applies only to devices supporting the "pcm" algorithm.</td>
</tr>
<tr valign=top>
<td width=41%>bytespersec to <i>integer</i></td>
<td width=59%>Sets the average number of bytes per second for recording in the "pcm" and "adpcm" algorithms. The file is saved in this format.</td>
</tr>
<tr valign=top>
<td width=41%>clocktime</td>
<td width=59%>Indicates the time specified in the "over" flag is in milliseconds. This time is absolute and not in step with the playing of the workspace.</td>
</tr>
<tr valign=top>
<td width=41%>input</td>
<td width=59%>Modifies the "bass", "treble", or "volume" flag so that it affects the input signal and modifies what is recorded. If possible, this is the default when monitoring the input.</td>
</tr>
<tr valign=top>
<td width=41%>left off<br>
left on</td>
<td width=59%>Enables or disables audio output on the left channel. The audio presentation source can be the external input or the workspace. The default is "left on". If there is only one channel, that channel is set on or off.</td>
</tr>
<tr valign=top>
<td width=41%>left volume to <i>factor</i></td>
<td width=59%>Sets the audio volume of the left audio channel. If there is only one channel it sets its volume.</td>
</tr>
<tr valign=top>
<td width=41%>monitor to <i>type </i>number <i>number</i></td>
<td width=59%>Controls which source input will be passed to the VCR output without changing the recording source input selection.<i> Type</i> can be "output," or one of the valid input sources. If <i>number</i> is not specified, then the first input of that type will be chosen.</td>
</tr>
<tr valign=top>
<td width=41%>off<br>
on</td>
<td width=59%>Enables or disables audio. The audio presentation source can either be the external input or the workspace. This command affects the left and right audio channels simultaneously. The default is <b>setaudio </b>"on".</td>
</tr>
<tr valign=top>
<td width=41%>output</td>
<td width=59%>Modifies the "bass", "treble", or "volume" flag so that it modifies only the played signal and not what is recorded. If possible, this is the default when monitoring a file.</td>
</tr>
<tr valign=top>
<td width=41%>over <i>duration</i></td>
<td width=59%>Specifies how long it should take to make a change that uses a <i>factor </i>variable. The units for <i>duration</i> are in the current time format. Changes occur in step with the playing of the workspace. When playing is suspended, the change is also suspended until the play continues. If "over" is not specified or not supported, the change occurs immediately.</td>
</tr>
<tr valign=top>
<td width=41%>quality <i>descriptor</i></td>
<td width=59%>Specifies the characteristics of the audio compression performed when audio is recorded to a file. All devices support the three descriptors "low", "medium", and "high". The default is device specific.<p>
If the "algorithm" flag is not specified, the "quality" adjustment applies to the current algorithm.</p>
<p>
The <a href="mmcmdstr_26y5.htm"><b>quality</b></a> command can be used to define additional descriptor names. </p>
</td>
</tr>
<tr valign=top>
<td width=41%>record off</td>
<td width=59%>Clears the audio-source selection so that no audio will be recorded with the next <a href="mmcmdstr_1x44.htm"><b>record</b></a> command.</td>
</tr>
<tr valign=top>
<td width=41%>record on</td>
<td width=59%>Enables recording of audio data. The default is to record audio data.</td>
</tr>
<tr valign=top>
<td width=41%>record track <i>track_number</i> off</td>
<td width=59%>Clears the audio-source selection so that no audio will be recorded with the next <a href="mmcmdstr_1x44.htm"><b>record</b></a> command. "Track" allows independent track selection. Track 2 corresponds to the PCM track in Hi8. If "track" is not specified, a default value of 1 is assumed.</td>
</tr>
<tr valign=top>
<td width=41%>record track <i>track_number</i> on </td>
<td width=59%>Selects the audio source to be recorded with the next <b>record</b> command. "Track"<b> </b>allows independent track selection. Track 2 corresponds to the PCM track in Hi8. If "track" is not specified, a default value of 1 is assumed.</td>
</tr>
<tr valign=top>
<td width=41%>right off<br>
right on</td>
<td width=59%>Enables or disables audio output on the right channel. The audio presentation source can be the external input or the workspace. The default is "right on". If there is only one channel, this flag has no effect.</td>
</tr>
<tr valign=top>
<td width=41%>right volume to <i>factor</i></td>
<td width=59%>Sets the audio volume to the right audio channel. If there is only one channel, it has no effect.</td>
</tr>
<tr valign=top>
<td width=41%>samplespersec to <i>integer</i></td>
<td width=59%>Sets the sample rate for recording with the "pcm" and "adpcm" algorithms. The file is saved in this format.</td>
</tr>
<tr valign=top>
<td width=41%>source to <i>sourcename</i></td>
<td width=59%>Specifies the source for the audio input digitizer. The constants defined for <i>sourcename</i> include: "left", "right", "average", and "stereo". The first three specify monophonic recording using the left input only, the right input only, and the average of the two inputs.</td>
</tr>
<tr valign=top>
<td width=41%>source to <i>type </i>number <i>number</i></td>
<td width=59%>Selects the audio source to be recorded on the tape. <i>Type </i>must be "tuner", "line", "svideo", "aux", "generic", or "mute". </td>
</tr>
<tr valign=top>
<td width=41%>stream to <i>number</i></td>
<td width=59%>Specifies the audio stream played back from the workspace. If the stream is not specified and the file format does not define a default, then the interleaved audio stream that is physically first will be played.</td>
</tr>
<tr valign=top>
<td width=41%>track <i>track_number</i> off</td>
<td width=59%>Disables an individual track.</td>
</tr>
<tr valign=top>
<td width=41%>track <i>track_number</i> on</td>
<td width=59%>Enables an individual track.</td>
</tr>
<tr valign=top>
<td width=41%>treble to <i>factor</i></td>
<td width=59%>Sets the audio high-frequency level.</td>
</tr>
<tr valign=top>
<td width=41%>volume to <i>factor</i></td>
<td width=59%>Sets the average audio volume for both audio channels. If the left and right volumes have been set to different values, then the ratio of left-to-right volume is approximately unchanged.</td>
</tr>
</table><br>

</dd>
<dt>
<i>lpszFlags</i></dt>
<dd>
Can be "wait", "notify", "test", or a combination of these. For more information about these flags, see <a href="../pdgrmm/mci_9v3n.htm">The Wait, Notify, and Test Flags</a>.
</dd>
</dl>
<h4>Return Values</h4>
<p>
Returns zero if successful or an error otherwise.</p>
<h4>Remarks</h4>
<p>
For VCR devices, using <b>setaudio</b> with a flag that turns off an individual track ("track <i>track_number</i> off") might cause your application to receive a status message indicating that the command could not be carried out. Some VCRs can turn off only combinations of tracks, not individual tracks; for example, the first audio track and a video track of a video cassette. In this case, simply use <b>setaudio</b> and <a href="mmcmdstr_8t67.htm"><b>setvideo</b></a> to continue to turn off the other tracks that make up the combination. The driver will turn off the tracks when it receives the command to turn off the last track in the combination.</p>
<h4>QuickInfo</h4>
<p>
<b>&nbsp;&nbsp;Windows NT: </b>Requires version 3.1 or later.<br>
<b>&nbsp;&nbsp;Windows: </b>Requires Windows 95 or later.<br>
<b>&nbsp;&nbsp;Windows CE: </b>Unsupported.</p>
<h4>See Also</h4>
<p>
<a href="../pdgrmm/mci_7vvt.htm">MCI Overview</a>, <a href="../pdgrmm/mci_04dv.htm">MCI Command Strings</a>, <a href="mmcmdstr_26y5.htm"><b>quality</b></a>, <a href="mmcmdstr_1x44.htm"><b>record</b></a>, <a href="mmcmdstr_07ol.htm"><b>reserve</b></a>, <a href="mmcmdstr_8t67.htm"><b>setvideo</b></a> </p>
<p>&nbsp;</p></body>
</HTML>
