<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>MCI_RECORD</title>
<link disabled rel=stylesheet href=../../backsdk3.css>
<style type="text/css">
@import url(../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h1><a name="_win32_mci_record"></a>MCI_RECORD</h1>
<p>
The <b>MCI_RECORD</b> command starts recording from the current position or from one specified location to another specified location. VCR and waveform-audio devices recognize this command. Although digital-video devices and MIDI sequencers also recognize this command, the MCIAVI and MCISEQ drivers do not implement it.</p>
<pre><code>MCIERROR mciSendCommand(MCIDEVICEID wDeviceID, MCI_RECORD, 
    DWORD dwFlags, (DWORD) (LPMCI_RECORD_PARMS) lpRecord);
 </code></pre>
<h4>Parameters</h4>
<dl>
<dt>
<i>wDeviceID</i></dt>
<dd>
Device identifier of the MCI device that is to receive the command message.</dd>
<dt>
<i>dwFlags</i></dt>
<dd>
MCI_NOTIFY, MCI_WAIT, or, for digital-video and VCR devices, MCI_TEST. For information about these flags, see <a href="../pdgrmm/mci_9v3n.htm">The Wait, Notify, and Test Flags</a>.</dd>
<dt>
<i>lpRecord</i></dt>
<dd>
Address of an <a href="mmstr_6jci.htm"><b>MCI_RECORD_PARMS</b></a> structure. (Devices with extended command sets might replace this structure with a device-specific structure.)
</dd>
</dl>
<h4>Return Values</h4>
<p>
Returns zero if successful or an error otherwise.</p>
<h4>Remarks</h4>
<p>
This command is supported by devices that return TRUE when you call the <a href="mmcmd_72b7.htm"><b>MCI_GETDEVCAPS</b></a> command with the MCI_GETDEVCAPS_CAN_RECORD flag. For the MCIWAVE driver, all data recorded after a file is opened is discarded if the file is closed without saving it.</p>
<p>
The following additional flags apply to all devices supporting <b>MCI_RECORD</b>:
<dl>
<dt>
MCI_FROM</dt>
<dd>
A starting location is included in the <b>dwFrom</b> member of the structure identified by <i>lpRecord</i>. The units assigned to the position values are specified with the MCI_SET_TIME_FORMAT flag of the <a href="mmcmd_87jo.htm"><b>MCI_SET</b></a> command. If MCI_FROM is not specified, the starting location defaults to the current position.</dd>
<dt>
MCI_RECORD_INSERT</dt>
<dd>
Newly recorded information should be inserted or pasted into the existing data. Some devices might not support this. If supported, this is the default.</dd>
<dt>
MCI_RECORD_OVERWRITE</dt>
<dd>
Data should overwrite existing data. The MCIWAVE.DRV device returns MCIERR_UNSUPPORTED_FUNCTION in response to this flag.</dd>
<dt>
MCI_TO</dt>
<dd>
An ending location is included in the <b>dwTo</b> member of the structure identified by <i>lpRecord</i>. The units assigned to the position values are specified with the MCI_SET_TIME_FORMAT flag of the <a href="mmcmd_87jo.htm"><b>MCI_SET</b></a> command. If MCI_TO is not specified, the ending location defaults to the end of the content.
</dd>
</dl>
<p>
The following additional flags are used with the <b>digitalvideo</b> device type:
<dl>
<dt>
MCI_DGV_RECORD_AUDIO_STREAM</dt>
<dd>
An audio-stream number is included in the <b>dwAudioStream</b> member of the structure identified by <i>lpRecord</i>. If you omit this flag, audio data is recorded into the first physical stream.</dd>
<dt>
MCI_DGV_RECORD_HOLD</dt>
<dd>
When recording stops, the screen will hold the last image and will not resume showing the video until an <a href="mmcmd_8koi.htm"><b>MCI_MONITOR</b></a> command is issued. </dd>
<dt>
MCI_DGV_RECORD_VIDEO_STREAM</dt>
<dd>
A video-stream number is included in the <b>dwVideoStream</b> member of the structure identified by <i>lpRecord</i>. If you omit this flag, video data is recorded into the first physical stream.</dd>
<dt>
MCI_DGV_RECT</dt>
<dd>
A rectangle is specified in the <b>rc</b> member of the structure identified by <i>lpRecord</i>. The rectangle specifies the region of the external input used as the source for the pixels compressed and saved. This rectangle defaults to the rectangle specified (or defaulted) by the MCI_DGV_PUT_VIDEO flag for the <a href="mmcmd_7yus.htm"><b>MCI_PUT</b></a> command. When it is set differently than the video rectangle, what is displayed is not what is recorded
</dd>
</dl>
<p>
For digital-video devices, <i>lpRecord </i>points to an <a href="mmstr_09o2.htm"><b>MCI_DGV_RECORD_PARMS</b></a> structure.</p>
<p>
The following additional flags are used with the <b>vcr</b> device type:
<dl>
<dt>
MCI_VCR_RECORD_AT</dt>
<dd>
The<b> dwAt </b>member of the structure identified by <i>lpRecord</i> contains a time when the entire command begins, or if the device is cued, when the device reaches the from position given by the cue command.</dd>
<dt>
MCI_VCR_RECORD_INITIALIZE</dt>
<dd>
Seek the device to the start of the media, begin recording blank video and audio, and record timecode, if possible.
</dd>
</dl>
<p>
For VCR devices, <i>lpRecord </i>points to an <a href="mmstr_3rhu.htm"><b>MCI_VCR_RECORD_PARMS</b></a> structure.</p>
<h4>QuickInfo</h4>
<p>
<b>&nbsp;&nbsp;Windows NT: </b>Requires version 3.1 or later.<br>
<b>&nbsp;&nbsp;Windows: </b>Requires Windows 95 or later.<br>
<b>&nbsp;&nbsp;Windows CE: </b>Unsupported.<br>
<b>&nbsp;&nbsp;Header: </b>Declared in mmsystem.h.</p>
<h4>See Also</h4>
<p>
<a href="../pdgrmm/mci_7vvt.htm">MCI Overview</a>, <a href="../pdgrmm/mci_4eib.htm">MCI Commands</a>, <a href="mmstr_09o2.htm"><b>MCI_DGV_RECORD_PARMS</b></a>, <a href="mmcmd_72b7.htm"><b>MCI_GETDEVCAPS</b></a>, <a href="mmcmd_8koi.htm"><b>MCI_MONITOR</b></a>, <a href="mmcmd_7yus.htm"><b>MCI_PUT</b></a>, <a href="mmstr_6jci.htm"><b>MCI_RECORD_PARMS</b></a>, <a href="mmcmd_87jo.htm"><b>MCI_SET</b></a>, <a href="mmstr_3rhu.htm"><b>MCI_VCR_RECORD_PARMS</b></a> </p>
<p>&nbsp;</p></body>
</HTML>
