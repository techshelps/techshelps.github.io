<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>acmStreamPrepareHeader</title>
<link disabled rel=stylesheet href=../../backsdk3.css>
<style type="text/css">
@import url(../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h1><a name="_win32_acmstreamprepareheader"></a>acmStreamPrepareHeader</h1>
<p>
The <b>acmStreamPrepareHeader</b> function prepares an <a href="mmstr_8v02.htm"><b>ACMSTREAMHEADER</b></a> structure for an ACM stream conversion. This function must be called for every stream header before it can be used in a conversion stream. An application needs to prepare a stream header only once for the life of a given stream. The stream header can be reused as long as the sizes of the source and destination buffers do not exceed the sizes used when the stream header was originally prepared.</p>
<pre><code><b>MMRESULT acmStreamPrepareHeader(
  HACMSTREAM</b><i> has</i><b>,          </b>
<b>  LPACMSTREAMHEADER</b><i> pash</i><b>,  </b>
<b>  DWORD</b><i> fdwPrepare         </i>
<b>);</b>
 </code></pre>
<h4>Parameters</h4>
<dl>
<dt>
<i>has</i></dt>
<dd>
Handle of the conversion steam.</dd>
<dt>
<i>pash</i></dt>
<dd>
Address of an <a href="mmstr_8v02.htm"><b>ACMSTREAMHEADER</b></a> structure that identifies the source and destination buffers to be prepared.</dd>
<dt>
<i>fdwPrepare</i></dt>
<dd>
Reserved; must be zero.
</dd>
</dl>
<h4>Return Values</h4>
<p>
Returns zero if successful or an error otherwise. Possible error values include the following:</p>
<table cellspacing=4 cols=2>
<tr valign=top>
<th align=left width=48%>Value</th>
<th align=left width=52%>Description</th>
</tr>
<tr valign=top>
<td width=48%>MMSYSERR_INVALFLAG</td>
<td width=52%>At least one flag is invalid.</td>
</tr>
<tr valign=top>
<td width=48%>MMSYSERR_INVALHANDLE</td>
<td width=52%>The specified handle is invalid.</td>
</tr>
<tr valign=top>
<td width=48%>MMSYSERR_INVALPARAM</td>
<td width=52%>At least one parameter is invalid.</td>
</tr>
<tr valign=top>
<td width=48%>MMSYSERR_NOMEM</td>
<td width=52%>The system is unable to allocate resources.</td>
</tr>
</table><br>
<h4>Remarks</h4>
<p>
Preparing a stream header that has already been prepared has no effect, and the function returns zero. Nevertheless, you should ensure your application does not prepare a stream header multiple times.</p>
<h4>QuickInfo</h4>
<p>
<b>&nbsp;&nbsp;Windows NT: </b>Requires version 3.1 or later.<br>
<b>&nbsp;&nbsp;Windows: </b>Requires Windows 95 or later.<br>
<b>&nbsp;&nbsp;Windows CE: </b>Unsupported.<br>
<b>&nbsp;&nbsp;Header: </b>Declared in msacm.h.<br>
<b>&nbsp;&nbsp;Import Library: </b>Use msacm32.lib.</p>
<h4>See Also</h4>
<p>
<a href="../pdgrmm/audcomp_3kc2.htm">Audio Compression Manager Overview</a>, <a href="../pdgrmm/audcomp_6x9v.htm">Audio Compression Functions</a>, <a href="mmstr_8v02.htm"><b>ACMSTREAMHEADER</b></a></p>
<p>&nbsp;</p></body>
</HTML>
