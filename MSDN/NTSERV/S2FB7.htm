<HTML><HEAD><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Control Files and Related Configuration</title>
<style>@import url(msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="msdn_ie3.css"><META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset= iso-8859-1"></HEAD><BODY BGCOLOR="#FFFFFF">
<H3 CLASS="h2">Control Files and Related Configuration</H3><P CLASS="t">The FTP and Gopher services are configured to have the same home directory as the WWW service (wwwroot). Therefore, the same set of information is available through all services. Although no additional configuration is necessary, some additional configuration enhancements are described in the following two sections. They describe files and settings used to enhance the FTP and Gopher services that are not part of the default installation of Internet Information Server.</P>
<H4 CLASS="h3"><A NAME="sec0"></A>FTP Service Configuration</H4><P CLASS="t">The FTP service allows you to use <I>directory annotations</I>, that is, comments about each directory. Because virtual directories do not appear in FTP listings, you use directory annotations to display additional virtual directories that can be traversed by the employees.</P>
<P CLASS="t">To annotate files, first use Registry Editor (run <B>Regedt32.exe</B> or <B>Regedit.exe</B>) to enable annotated directories by adding the <B>AnnotateDirectories</B> value to the HKEY_LOCAL_MACHINE/System key, as shown in Figure 5.24. </P>
<P><img src="xig_d26.gif"></P>
<P>Figure 5.24    Adding the FTP service's AnnotateDirectories value to the Registry </P>
<P CLASS="t"><B>AnnotateDirectories</B> is added to:</P>
<P CLASS="t">HKEY_LOCAL_MACHINE<BR>  \System<BR>    \CurrentControlSet<BR>      \Services<BR>        \MSFTPSVC<BR>          \Parameters</P>
<P CLASS="t">Entry syntax is:</P>
<P CLASS="t"><B>AnnotateDirectories     REG_DWORD     0x0 |</B> <B>0x1</B></P>
<P CLASS="t">The default value for <B>AnnotateDirectories</B> is 0x0 (false—that is, directory annotation is off).</P>
<P CLASS="t">This Registry value defines the default behavior of directory annotation for newly connected users. When this value is 0x1 (true), directory annotation is enabled. This Registry entry does not appear by default, so you must add this entry to the Registry if you want to change its default value.</P>
<P CLASS="t">The directory annotations are stored in each directory in a text file named ~ftpsvc~.ckm. This is usually a hidden file, so directory listings do not display this file. Because some browsers display only the first line, you should keep the annonotation text to one line. For example,</P>
<P CLASS="spacing"><BR></P>
See ftp://eunts40dpt05/seville for Seville's HR records.

<H4 CLASS="h3"><A NAME="sec1"></A>Gopher Service Configuration</H4><P CLASS="t">All information about a Gopher item that is sent to a client comes from tag files. This information includes the name of a file displayed for the client. Typical tag files contain: </P>
<UL><LI>A display filename.</LI><LI>A host name (that is, where the item is located).</LI><LI>A port number.</LI></UL><P></P>
<P CLASS="t">The <B>Gdsset</B> program is a simple command-line tool that is used to create and set tags. In the following example, you see how to use it to add a link to Terra Flora's Gopher server in Seville.</P>
<P CLASS="t">First, create a tag file to make a link to the home directory on a Gopher server at the Seville site. Add an empty text file called link1 to the Gopher home directory. Issue the following command at the command prompt: </P>
<P CLASS="spacing"><BR></P>
gdsset -l -g1 -f "Link to Seville HR Gopher Server" -s "" -h eunts40div05.terraflora.com link1 <BR>
<P CLASS="t">For more examples of using <B>Gdsset</B>, see the <I>Internet Information Server Installation and Administration Guide</I>.</P>
<P CLASS="t">Tag files are stored as hidden .gtg or .lnk files on File Allocation Table (FAT) partitions. On Window NT File System (NTFS) partitions, they are stored in a data fork of the tag file. When you move data files, you must remember to manually move the corresponding tag files if they exist on FAT partitions. When you move data files on NTFS partitions, use Windows&nbsp;NT Explorer and not the command-prompt <B>copy</B> command because <B>copy</B> does not copy the data forks. </P>
<P CLASS="t">If disk space is critical, do not forget to include the hidden tag files when you calculate the space the files will require. The size of the file depends on the size of the friendly name, host name, selector, and other information. </P>
<P CLASS="t">If you use Gopher+ clients, you can add more information to each tag file, such as the server administrator's name and e-mail address, and the file's date of creation and date of last modification. </P>
<P></P>
<P CLASS="t"><B>Note</B></P>
<P>The Internet Information Server Gopher service supports some Gopher+ additions: Info, Admin, and URL attribute blocks. But it does not support the Abstract or Ask Form attributes. For more information about Internet Information Server and Gopher, see the <I>Internet Information Server Installation and Administration Guide</I>.</P>
<P></P></BODY></HTML>
