<HTML><HEAD><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Managing DNS Servers</title>
<style>@import url(msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="msdn_ie3.css"><META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset= iso-8859-1"></HEAD><BODY BGCOLOR="#FFFFFF">
<H3 CLASS="h2">Managing DNS Servers</H3><P CLASS="t">Once a Windows&nbsp;NT Server DNS server is installed, DNS Manager is added to the Administrative Menu. Using DNS Manager, the administrator can add servers running Windows&nbsp;NT Server 4.0 DNS service to the server list. Once added, the administrator can view and change parameters of any of the Windows&nbsp;NT Server 4.0 DNS servers in the list.</P>
<P CLASS="t"><B>To open the DNS Manager</B></P>
<P> <FONT FACE="symbol">·</FONT>    Click <B>Start</B>, point to <B>Programs</B>, point to <B>Administrative Tools</B>, and click <B>DNS Manager</B>.</P>
<P>The Domain Name Service Manager window appears.</P>
<P><img src="XNG_G28.gif"></P>
<H4 CLASS="h3"><A NAME="sec0"></A>Add All Windows&nbsp;NT DNS Servers to the Server List</H4><P CLASS="t">All of the servers running Windows&nbsp;NT Server 4.0 DNS service on the network can be administered and managed from any single computer running Windows&nbsp;NT Server DNS service, through the DNS Manager interface. To do this, the administrators at Terra Flora will add the servers to the server list using the DNS Manager interface. DNS features will not be available on any of the computers running Windows&nbsp;NT until the server is added to the server list.</P>
<P CLASS="t"><B>To add a DNS server</B></P>
<OL><LI>In Domain Name Service Manager, click <B>Server List</B>.</LI><LI>On the <B>DNS</B> menu, click <B>New Server</B>.</LI></OL><P>The <B>Add DNS Server</B> dialog box appears.</P>
<P><img src="XNG_G29.gif"></P>
<OL><LI>In <B>DNS Server</B>, type the IP address of the DNS server to be added to the server list, and then click <B>OK</B>.</LI></OL><P>The server appears in the server list in Domain Name Service Manager.</P>
<H4 CLASS="h3"><A NAME="sec1"></A>Copy the Files</H4><P CLASS="t">Three of the four existing zones will be moved to servers running Windows&nbsp;NT Server 4.0 DNS service. </P>
<P CLASS="t">The administers at Terra Flora will remove the appropriate zone, boot and cache files from the system servers which currently store the zones of Terraflora.com, Nursery.Terraflora.com and Supply.Terraflora.com. The files will then be placed in the SystemRoot\System32\DNS directory of the proper new server running Windows&nbsp;NT Server 4.0 DNS service which will, from that point forward, store the zone information.</P>
<P CLASS="t">The Terra Flora administrator will use the editor that they are familiar with to change the information about the zones in the boot file as appropriate.</P>
<P CLASS="t">Once the files are in the proper directory, the zone's structure can be viewed using the DNS Manager graphical interface. The administrators will be able to view the structure of the Nursery.Terraflora.Com and Supply.Terraflora.Com and Terraflora.Com zones.</P>
<H4 CLASS="h3"><A NAME="sec2"></A>Creating the New Zone</H4><P CLASS="t">A zone is the administrative tool for information about the DNS domains. At Terra Flora, Terraflora.Com is the main authoritative DNS domain and the root zone. Three additional zones called Nursery.Terraflora.Com, Supply.Terraflora.Com and Retail.Terraflora.Com exist at Terra Flora. At Terra Flora, three of the zones have been moved to computers running Windows&nbsp;NT DNS Service. See the previous section "Copy the Files" for details.</P>
<P CLASS="t">Because of the mission critical nature of the applications in the retail division, the Retail.Terraflora.Com zone will be maintained. A fifth zone will be created to split the Retail.Terraflora.Com zone. This fifth zone will include only servers running Windows&nbsp;NT Server 4.0 DNS server. The zone will be set up as both primary and secondary in order for replication of the resource record database to take place. Two servers will store the zone information, one will store the primary zone information and one will store the secondary zone information. </P>
<P CLASS="t"><B>To add the primary NT.Retail.Terraflora.Com zone</B></P>
<P>    1.    In Domain Name Service Manager, click the server for which you will be creating the zone.</P>
<P>    2.    On the <B>DNS</B> menu, click <B>New Zone</B>.</P>
<P>The <B>Create new zone for</B> <I>IP address of the server selected</I> dialog box appears.</P>
<P><img src="XNG_G30.gif"></P>
<P>    3.    Click <B>Primary</B>. </P>
<P>    4.    Click <B>Next</B>.</P>
<P><img src="XNG_G31.gif"></P>
<P>    5.    In <B>Zone Name</B>, type the name of the root domain within the zone. </P>
<P>    6.    If necessary, type the name of the database file in which you want the DNS resource records to be stored in <B>Zone File</B>. </P>
<P>    7.    Click <B>Next</B>.</P>
<P>    8.    Click <B>Finish</B>. </P>
<P><img src="XNG_G32.gif"></P>
<P CLASS="t">An SOA (Start of Authority) record is created in the database file entered in step 7. The SOA record indicates the Name Server which is the best source of information for supplying name resolution data. </P>
<P CLASS="t">NT.Retail.Terraflora.Com will also be set up as a secondary zone and the server assigned will be different than the one assigned for the Primary zone. If the server that stores the primary zone goes down, the server storing the secondary zone will be used for name resolution. </P>
<P CLASS="t">Selecting <B>Primary</B> as a zone type indicates that the zone does not obtain it's resource records from any other zone, the DNS Administrators are required to add, delete and modify all necessary resource records to the primary zone files.</P>
<P CLASS="t">The root domain is a DNS domain with multiple sections, each with a maximum of 63 characters and separated by a period (.). The zone name must be unique. The zone name will be NT.Retail.Terraflora.Com.</P>
<P CLASS="t">The default name of the <B>Zone File</B> will be the same name as entered in the <B>Zone Name </B>field.</P>
<P CLASS="t"><B>To add the secondary NT.Retail.Terraflora.Com zone</B></P>
<P>    1.    In Domain Name Service Manager, click the server for which you will be creating the secondary zone.</P>
<P>    2.    On the <B>DNS </B>menu, click <B>New Zone</B>.</P>
<P>The <B>Create new zone for</B> <I>IP address of the server selected</I> dialog box appears.</P>
<P>    3.    Click <B>Secondary</B> as the <B>Zone Type</B>. </P>
<P>    4.    In <B>Zone</B>, type the name of the zone. </P>
<P>    5.    In <B>Server</B>, type the name of the server on which the primary zone information is stored, and then click <B>Next</B>.</P>
<P><img src="XNG_G33.gif"></P>
<P>The secondary zone name appears in <B>Zone Name</B>.</P>
<P>    6.    In <B>Zone File</B>, type the name of the secondary database file you want the DNS resource records to be stored in, and then click <B>Next</B>. </P>
<P><img src="XNG_G34.gif"></P>
<P>    7.    Click <B>Add</B>, and enter the IP address of the IP Master, which is the server on which the primary zone information is stored. </P>
<P><img src="XNG_G35.gif"></P>
<P>    8.    Click <B>Next</B>.</P>
<P>    9.    When a message appears, confirming that all the information for the new zone has been entered, click <B>Finish</B>.</P>
<P><img src="XNG_G36.gif"></P>
<P CLASS="t">Selecting <B>Secondary</B> as the zone type indicates that the zone obtains its resource records from the primary zone. This means that the DNS Administrators are required to add, delete, and modify all resource records in the primary zone and not this secondary zone. </P>
<P CLASS="t">At Terra Flora, the zone name will be NT.Retail.Terraflora.Com, matching the primary name. The name should always be the primary zone name. When the secondary server starts, a query will be sent to the server specified as the <I>IP Master</I> for the zone file with the same primary name. </P>
<P CLASS="t">The default name in <B>Zone File</B> will be the name you entered in <B>Zone Name</B>. </P>
<P CLASS="t">Each secondary zone must have at least one IP master. You can add more than one IP master and move them in the list using the Move Up and Move Down buttons.</P>
<H4 CLASS="h3"><A NAME="sec3"></A>Adding and Changing Database Resource Records</H4><P CLASS="t">During the process of creating the new NT.Retail.Terraflora.Com zone, Terra Flora specified the database file name and database server which would store the zone's database information. Resource records need to be added to the zone's database file that will indicate how computer names will be resolved. </P>
<P CLASS="t">Terra Flora has configured the DNS system so that when a client requests an IP address from the DNS server, the server on which the zone file for Terraflora.Com resides is examined first. If the name cannot be resolved within the Terraflora.Com file, the request is then forwarded to the servers on which the zone files for Retail.Terraflora.Com, Nursery.Terraflora.Com, and Supply.Terraflora.Com reside. </P>
<P CLASS="t">The resource records implementing this lookup already exist in all zones, except for the new NT.Retail.Terraflora.Com zone which was just created. New resource records must be put in the two zones Terraflora.Com and NT.Retail.Terraflora.Com. </P>
<P CLASS="t">Additionally, the resource records that exist in Nursery.Terraflora.Com and Supply.Terraflora.Com must be changed to reflect the information about the new server that now stores the zone files for Nursery.Terraflora.Com and Supply.Terraflora.Com. </P>
<P CLASS="t">The resource records that will be added to or changed for each of the zones are described below:</P>
<UL><LI>Terraflora.Com</LI></UL><P>An A (Address) record will be added supplying the host name and host address of NT.Retail.Terraflora.Com, which will indicate to other DNS servers and to the primary server storing the Terraflora.Com zone database file to search the NT.Retail.Terraflora.Com zone database file to resolve the clients name requests.</P>
<P>An NS (Name Server) record will be added supplying the DNS Name Server name for the NT.Retail.Terraflora.Com zone, which will indicate to other DNS servers and to the server storing the Terraflora.Com zone database file to search the zone database file of NT.Retail.Terraflora.Com to resolve the request.</P>
<P>The NS (Name Server) records will be changed to indicate the new DNS Name Server information for the Nursery.Terraflora.Com and Supply.Terraflora.Com zones. </P>
<P>Other records can be added as necessary by the Terra Flora administrators, but these records are key in resolving name requests. </P>
<UL><LI>NT.Retail.Terraflora.Com</LI></UL><P>An A (Address) record will be added supplying the host name and host address of NT.Retail.Terraflora.Com to indicate to other DNS servers that the information stored in the NT.Retail.Terraflora.Com database should be examined for name resolution. </P>
<P>An NS (Name Server) record will be added supplying the DNS Name Server name for the NT.Retail.Terraflora.Com zone to indicate to other DNS servers that the information stored in the NT.Retail.Terraflora.Com database should be examined for name resolution.</P>
<UL><LI>Supply.Terraflora.Com and Nursery.Terraflora.Com</LI></UL><P>The NS (Name Server) records will be changed supplying the new DNS Name Server name for the Supply.Terraflora.Com and Nursery.Terraflora.Com zone to indicate to other DNS servers that the information stored in the two zones should be examined for name resolution.</P>
<P CLASS="t">Other records can be added as necessary by the Terra Flora administrators, but these records are key in the continued use of DNS at Terra Flora. </P>
<P CLASS="t"><B>To add a database resource record</B></P>
<P>    1.    In Domain Name Service Manager, click the zone for which you will be creating the new record.</P>
<P>    2.    On the <B>DNS </B>menu, click <B>New Record</B>.</P>
<P>The <B>New Resource Record</B> dialog box appears.</P>
<P><img src="XNG_G37.gif"></P>
<P>In <B>Record Type</B>, click the record you want to add. </P>
<P>The dialog box changes, depending on which type of record you selected. For example, the <B>For Domain</B> name that is the zone<B> </B>name appears when you specify an NS record.</P>
<P><img src="XNG_G38.gif"></P>
<P>    4.    Under <B>Value</B>, type the necessary information, such as the <B>Name Server DNS Name</B> for NS records, which specifies the server name that will be used to resolve name requests.</P>
<P>    5.    Click <B>OK</B>.</P>
<P CLASS="t"><B>To change a database resource record</B></P>
<P>    1.    In Domain Name Service Manager, click the server that stores the zone with which you want to work.</P>
<P>    2.    Click the zone that contains the record you want to change.</P>
<P>    3.    In <B>Record for</B> <I>zone name</I>, click the record type you want to change. </P>
<P><img src="XNG_G39.gif"></P>
<P>    4.    Double-click the record to be changed. </P>
<P>The dialog box changes, according to the kind of information required. For example, the Terra Flora administrator would type the name of the server which will now store the zone information for Nursery.Terraflora.Com in <B>Name Server DNS Name</B>.</P>
<P>    5.    To change another database resource record, repeat these steps. </P>
<P>For example, at Terra Flora, the administrator would repeat this procedure for Supply.Terraflora.Com. </P>
<P>    6.    When finished making changes, click <B>OK</B>.</P>
<P CLASS="t">At Terra Flora, the database resource records will need to be reviewed and changed as necessary. </P>
<P CLASS="t">In the case of Terraflora.Com, the administrator will be changing the NS record for Nursery.Terraflora.Com and Supply.Terraflora.Com. Consequently, the administer would complete the procedure for one record to step 5 and then repeat the procedure for the other record. </P>
<H4 CLASS="h3"><A NAME="sec4"></A>Static DNS Server Resource Records</H4><P CLASS="t">At Terra Flora, there are DNS Servers that are not running Windows&nbsp;NT Server 4.0 in the Retail.Terraflora.Com zone that will be added to the zone files residing on the servers running Windows&nbsp;NT Server 4.0 DNS service. The static entry of the DNS servers ensures that all DNS servers will be searched in an attempt to map name and IP addresses. An A (Address) and NS (Name Server) resource record will be added to each zone for each DNS server that is to participate in name resolution. </P>
<H4 CLASS="h3"><A NAME="sec5"></A>WINS Lookup</H4><P CLASS="t">When a server running Windows&nbsp;NT Server 4.0 DNS Service receives a DNS request to resolve a specified DNS name to an IP address, it will search its A (Address) resource records until it finds one whose DNS name matches the one specified in the request. It then returns the IP address stored in that A (Address) resource record to the requesting computer. </P>
<P CLASS="t">If the server cannot locate an A (Address) resource record for the requested DNS name, and if Use Wins Resolution is enabled, the DNS server will extract the host name, which is the text of the name, on the left hand side of the name, up to the first period, and send a request to a the specified WINS server asking it to map the host to an IP address. If the name was registered with WINS, WINS will return the associated IP address to the DNS server and the DNS server will return it in response to the original DNS request.</P>
<P CLASS="t">Any number of WINS servers can be specified for fault tolerance purposes. The server running Windows&nbsp;NT Server DNS service will try to locate the name by searching the WINS servers in the order listed. </P>
<P CLASS="t"><B>To enable WINS Lookup</B></P>
<P>    1.    In Domain Name Service Manager, click the zone for which you will be enabling WINS Lookup.</P>
<P>    2.    On the <B>DNS </B>menu, click <B>Properties</B>.</P>
<P>    3.    In the <B>Zone Properties</B> dialog box, click the <B>WINS Lookup</B> tab.</P>
<P><img src="XNG_G40.gif"></P>
<P>    4.    Select the <B>Use WINS Resolution</B> check box.</P>
<P>    5.    Under <B>WINS Servers</B>, type the WINS Server IP address that will be used for resolution.</P>
<P>    6.    Click <B>Add</B>.</P>
<P CLASS="t">You can repeat the procedure to add as many WINS servers for resolution as needed.</P></BODY></HTML>
