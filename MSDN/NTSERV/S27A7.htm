<HTML><HEAD><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Using Performance Monitor to Monitor WCAT Tests</title>
<style>@import url(msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="msdn_ie3.css"><META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset= iso-8859-1"></HEAD><BODY BGCOLOR="#FFFFFF">
<H2 CLASS="h2">Using Performance Monitor to Monitor WCAT Tests</H2><P CLASS="t">You also can use Performance Monitor to monitor server performance during WCAT tests. The method for activating Performance Monitor during a WCAT test is described in detail in the WCAT user guide on the <I>Supplement 1</I> CD. </P>
<P></P>
<P CLASS="t">The WCAT <B>run</B> command includes a <B>-p</B> switch that activates Performance Monitor during a WCAT test. When you include the <B>-p </B>option in the WCAT <B>run</B> command, the WCAT controller samples and averages selected Performance Monitor counters during the WCAT test. You can specify the Performance Monitor counters that you want WCAT to sample by including them in a script file with a filename extension of .pfc. The name of your .pfc file is part of the syntax of the <B>-p </B>switch.</P>
<P CLASS="t">The <I>Supplement 1</I> CD includes IISDyn.pfc, a WCAT file of Performance Monitor counters, designed for use with the ISAPI and CGI tests. This file consists of the counters in IISProc.pmw, IISMem.pmw, and IISDyn.pmw.</P>
<P CLASS="t">The following experiments involve running different WCAT tests in sequence and monitoring the effect of the test on your server, using Performance Monitor. When the tests are complete, you can compare the relative effect of each test on server performance.</P>
<P CLASS="t">The suggestions for using WCAT and Performance Monitor to test server performance are:</P>
<P>     To determine the effect of a CGI application on your server, run the CGI25, CGI50, and CGI75 tests sequentially while logging the Performance Monitor counters in Dyn.pmc.</P>
<P>     To determine the effect of an ISAPI application on your server, run the ISAPI25, ISAPI50, and ISAPI75 tests sequentially while logging the Performance Monitor counters in Dyn.pmc.</P>
<P>     To compare the effects of CGI to those of ISAPI, run the CGI75 and ISAPI75 tests sequentially while logging the Performance Monitor counters in Dyn.pmc. </P>
<P></P>
<P CLASS="t">To analyze the data from these tests, note any change in processor and memory use as the proportion of CGI or ISAPI requests increases, or between CGI and ISAPI. The effect of the change in workload varies substantially between server configurations. You can use this data to determine whether your server is prepared to handle this workload efficiently. You can vary the workload or vary the server configuration by adding processors or memory between test trials.</P>
<P CLASS="t">The next section introduces another aspect of monitoring CGI and ISAPI applications. In addition to monitoring general server performance, you can also monitor the processes in which the applications run.</P></BODY></HTML>
