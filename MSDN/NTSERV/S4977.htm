<HTML><HEAD><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>HKEY_LOCAL_MACHINE\SYSTEM</title>
<style>@import url(msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="msdn_ie3.css"><META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset= iso-8859-1"></HEAD><BODY BGCOLOR="#FFFFFF">
<H3 CLASS="h2">HKEY_LOCAL_MACHINE\SYSTEM</H3><P CLASS="t">The HKEY_LOCAL_MACHINE\SYSTEM key contains information that controls system startup, device driver loading, Windows&nbsp;NT services, and operating system behavior. All startup-related data that must be stored (rather than computed during startup) is saved in the SYSTEM key. This screen shot shows the SYSTEM key and its subkeys.</P>
<P><img src="xsr_i13.gif"></P>
<P CLASS="t">The most important troubleshooting information in the Registry key HKEY_LOCAL_MACHINE\SYSTEM are the control sets. A control set contains system configuration information, such as which device drivers and services to load and start. There are at least two control sets, and sometimes more, depending on how often you change system settings, or have problems with the settings you choose. The preceding screen shot shows the following control sets:</P>
<UL><LI>Clone</LI><LI>ControlSet001</LI><LI>ControlSet002</LI><LI>CurrentControlSet</LI></UL><P CLASS="t">The Registry subkey HKEY_LOCAL_MACHINE\SYSTEM\Select identifies how the control sets are used, and determines which control set is used at startup. This subkey contains the following value entries:  </P>
<UL><LI>Current. Identifies which control set is the CurrentControlSet. When you use Control Panel options or Registry editor to change the Registry, you are changing information in the CurrentControlSet. </LI><LI>Default. Identifies which control set will be used the next time you start Windows&nbsp;NT, unless you select Last Known Good Configuration. Default and Current typically contain the same control set number. </LI><LI>Failed. The control set that was pointed to by Default when a user last started the computer by using the LastKnownGood control set.</LI><LI>LastKnownGood. The control set that is a clean copy of the last control set that actually worked. After a successful logon, the Clone control set is copied to the LastKnownGood control set.</LI></UL><P CLASS="t">The next screen shot shows the value entries for the Select subkey.</P>
<P><img src="xsr_i02.gif"></P>
<P CLASS="t"><B>Note</B></P>
<P>The Registry editors each display the Registry in a similar way. The window on the left contains the key and subkey names. The window on the right contains <I>value entries</I>. In the preceding screen shot, one value entry is Current : REG_DWORD : 0x1. In this example, Current is the <I>name</I>, REG_DWORD is the <I>data type</I>, and 0x1 is the <I>value</I>. These terms will be used in the rest of this section.</P>
<P CLASS="t">The values for the value entries in the Select subkey identify which control set is Current, Default, Failed, and LastKnownGood. For example, a value of 0x1 indicates that you should look at ControlSet001 to find the infromation.</P>
<P CLASS="t">In the preceding screen shot, Current and Default are both 0x1. Failed is 0, and LastKnownGood is 0x2. </P>
<P CLASS="t">Therefore, ControlSet001 is the Current and the Default control set. ControlSet001 will be the one modified if you make any changes by using options in Control Panel. ControlSet001 will be used for the Default control set the next time you start the computer. </P>
<P CLASS="t">ControlSet002 is the LastKnownGood control set. If you decide to use the Last Known Good control set to start the computer, Windows&nbsp;NT will use ControlSet002.</P>
<P CLASS="t">For more information about the use of the control sets, see:</P>
<UL><LI>Chapter 6, "Troubleshooting Startup and Disk Problems"</LI><LI>Chapter 19, "What Happens When You Start Your Computer," in the Windows&nbsp;NT Workstation Resource Guide</LI><LI>Chapter 25, "Configuration Management and the Registry," in the Windows&nbsp;NT Workstation Resource Guide</LI><LI>The online help file Regentry.hlp on the <I>Windows&nbsp;NT Server Resource Kit</I> CD</LI></UL></BODY></HTML>
