<HTML><HEAD><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Restoring Registry Information</title>
<style>@import url(msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="msdn_ie3.css"><META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset= iso-8859-1"></HEAD><BODY BGCOLOR="#FFFFFF">
<H3 CLASS="h2">Restoring Registry Information</H3><P CLASS="t">There are several methods that you can use to restore Registry information. </P>
<UL><LI>You can use the Repair process in Windows&nbsp;NT Setup, which requires the Emergency Repair Disk. </LI><LI>If you have used the Ntbackup program or the <I>Windows&nbsp;NT Server Resource Kit</I> program Regback.exe to backup the Registry, you can restore the keys from the backup media. </LI><LI>You can restore just the SYSTEM key or the DISK subkey by using the procedures described in this section.</LI></UL><P CLASS="t"><B>Note</B></P>
<P>Windows NT Setup and the Repair Disk program store Registry information on the Emergency Repair Disk in compressed format. If you decide to restore the SYSTEM key from the Emergency Repair Disk by using either Disk Administrator or the Windows&nbsp;NT Registry Editor (Regedt32.exe), you can uncompress the System._ file by using one of the expand utilities. See Chapter 7, "Disk, File System, and Backup Utilities."</P>
<H4 CLASS="h3"><A NAME="sec0"></A>Restoring the SYSTEM Key</H4><P CLASS="t">You can use the procedures in this section to restore the SYSTEM key. Because the Emergency Repair Disk also contains this key, you would generally use these procedures only if:</P>
<UL><LI>You do not have an Emergency Repair Disk.</LI><LI>You cannot read the Emergency Repair Disk, or the information isn't current.</LI><LI>You had to reinstall Windows&nbsp;NT and want to have the most recent configuration information.</LI></UL><P CLASS="t">To use this procedure, you need to have saved the information, following the procedures in the section titled "Saving the SYSTEM Key," presented earlier in this chapter. </P>
<H5 CLASS="h4"><A NAME="sec1"></A>To use Disk Administrator to restore the SYSTEM key</H5><P>    1.    On the <B>Partition</B> menu, click <B>Configuration</B>.</P>
<P>    2.    On the <B>Configuration</B> menu, click <B>Restore</B>. </P>
<P>A message warns you that this operation will overwrite your current disk configuration information with what was previously saved on the floppy disk. Also, any changes made during this session will be lost. </P>
<P>    3.    Insert the floppy disk containing the saved configuration information.</P>
<P>    4.    Click <B>OK</B>.</P>
<P>Disk Administrator initiates a restart of your computer.</P>
<P CLASS="t">If you do not have a floppy disk that contains the current SYSTEM key, you can search for other Windows&nbsp;NT installations and restore the key from <I>%systemroot%</I>\System32\Config\System. In this case, the information might not match the configuration that you had been using.</P>
<H5 CLASS="h4"><A NAME="sec2"></A>To use Disk Administrator to search for and restore the SYSTEM key</H5><P>    1.    On the <B>Partition</B> menu, click <B>Configuration</B>.</P>
<P>    2.    On the <B>Configuration</B> menu, click <B>Search</B>. </P>
<P>A message warns you that this operation will overwrite your current disk configuration information with the information from a different installation of Windows&nbsp;NT. Also, any changes made during this session will be lost. </P>
<P>    3.    Click <B>OK</B>. </P>
<P>Disk Administrator scans your disk for other Windows&nbsp;NT installations, and displays a list of the installations.</P>
<P>    4.    Select an installation.</P>
<P>    5.    Click <B>OK</B>.</P>
<P>Disk Administrator initiates a restart of your computer.</P>
<P CLASS="t">See Chapter 8, "General Troubleshooting," for details about troubleshooting problems by using the SYSTEM key.</P>
<H4 CLASS="h3"><A NAME="sec3"></A>Restoring the DISK Subkey</H4><P CLASS="t">Both the Repair Disk program and Disk Administrator save the DISK subkey with the other information that they save. You would use this procedure only if you do not have current information on either of these media or you cannot read them. You might also want to use this procedure in special situations to restore just the DISK subkey, such as having to move a stripe set from one computer to another when the first computer has failed.</P>
<P CLASS="t">If you have previously saved the DISK subkey by using the Regedt32.exe (see the section titled "Backing Up the Registy," earlier in this chapter), then you can restore it.</P>
<H5 CLASS="h4"><A NAME="sec4"></A>To restore the DISK subkey by using Regedt32.exe</H5><P>    1.    Run Regedt32.exe.</P>
<P>    2.    Select the Registry key HKEY_LOCAL_MACHINE\SYSTEM\DISK.</P>
<P>    3.    On the <B>Registry</B> menu, click <B>Restore</B>. </P>
<P>    4.    Enter the filename or click the path to the file.</P>
<P>If you are restoring the key to a remote computer's Registry, the C drive designation that appears in the scroll list refers to the C drive on the remote computer.</P>
<P>    5.    Click <B>OK</B>.</P></BODY></HTML>
