<HTML><HEAD><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Browser System Roles</title>
<style>@import url(msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="msdn_ie3.css"><META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset= iso-8859-1"></HEAD><BODY BGCOLOR="#FFFFFF">
<H3 CLASS="h2">Browser System Roles</H3><P CLASS="t">A computer running Windows&nbsp;NT 3.1, Windows&nbsp;NT Advanced Server 3.1, Windows&nbsp;NT Workstation 3.5 or later, Windows&nbsp;NT Server 3.5 or later, Windows for Workgroups 3.11, or Windows&nbsp;95 can be browsers. There are five types of computers in the browser system:</P>
<UL><LI>Non-browsers</LI><LI>Potential browsers</LI><LI>Backup browsers</LI><LI>Master browsers</LI><LI>Domain master browsers</LI></UL><P><img src="XNG_C02.gif"></P>
<P CLASS="cap"><B>Figure 3.1    Browser and non-browser computers</B></P>
<H4 CLASS="h3"><A NAME="sec0"></A>Non-browser</H4><P CLASS="t">A <I>non-browser</I> is a computer that has been configured not to maintain a network resource or browse list.</P>
<H4 CLASS="h3"><A NAME="sec1"></A>Potential Browser</H4><P CLASS="t">A <I>potential browser</I> is a computer that is capable of a maintaining a network resource browse list and can be elected as a master browser. The potential browser computer can act as a backup browser if instructed to do so by the master browser. </P>
<H4 CLASS="h3"><A NAME="sec2"></A>Backup Browser</H4><P CLASS="t">The <I>backup browser</I> receives a copy of the network-resource browse list from the master browser and distributes the list upon request to computers in the domain or workgroup. All Windows&nbsp;NT domain controllers are automatically configured as either master or backup browsers. </P>
<P CLASS="t">Computers running Windows&nbsp;NT Workstation, Windows for Workgroups, or Windows&nbsp;95 can be backup browsers if there are fewer than three Windows&nbsp;NT Server computers performing backup-browser functions for the domain. </P>
<P CLASS="t">Backup browsers call the master browser every 15 minutes to get the latest copy of the browse list and a list of domains. Each backup browser caches these lists and returns the list of servers to any clients that send a remote <B>NetServerEnum</B> API call to the backup browser. If the backup browser cannot find the master browser, it forces an election of the master browser. </P>
<P CLASS="t">The data limit for the list of servers maintained on computers running a version of Windows&nbsp;NT prior to version 4.0, Windows for Workgroups, or Windows&nbsp;95 is 64K. This limits the number of computers in a browse list for a single workgroup or domain to between 2,000 and 3,000 computers.</P>
<H4 CLASS="h3"><A NAME="sec3"></A>Master Browser</H4><P CLASS="t">The <I>master browser</I> is responsible for collecting the information necessary to create and maintain the browse list. The browse list includes all servers in the master browser's domain or workgroup, and the list of all domains on the network. </P>
<P CLASS="t">Individual servers announce their presence to the master browser by sending a directed datagram called a <I>server announcement</I> to the domain or workgroup master browser. Computers running Windows&nbsp;NT Server, Windows&nbsp;NT Workstation, Windows for Workgroups, Windows&nbsp;95, or LAN Manager send server announcements. When the master browser receives a server announcement from a computer, it adds that computer to the browse list.</P>
<P CLASS="t">When a domain spans more than one subnetwork, the master browser will do the following tasks: </P>
<UL><LI>Maintain the browse list for the portion of the domain on its subnetwork</LI><LI>Provide lists of backup browsers on the local subnetwork of a TCP/IP-based network to computers running Windows&nbsp;NT Server, Windows&nbsp;NT Workstation, and Windows for Workgroups</LI></UL><P CLASS="t">If a TCP/IP-based subnetwork is comprised of more than one domain, each domain has its own master browser and backup browsers. On networks using the NWLink IPX/SPX-compatible network protocols, name queries are sent across routers, ensuring that there is always only one master browser for each domain. NetBEUI Frame (NBF) is not designed for a routed network and requires a separate master browser per subnet. </P>
<P CLASS="t">When a computer starts and its <B>MaintainServerList</B> registry entry is set to Auto, the master browser must tell that computer whether or not to become a backup browser.</P>
<H4 CLASS="h3"><A NAME="sec4"></A>Domain Master Browser</H4><P CLASS="t">The domain master browser is responsible for collecting announcements for the entire domain, including any network segments, and for providing a list of domain resources to master browsers. The domain master browser is always the primary domain controller (PDC) of a domain.</P>
<P CLASS="t">The PDC of a domain is given priority in browser elections to ensure that it becomes the master browser. The Windows&nbsp;NT Browser service running on a PDC has the special, additional role of being the domain master browser.</P>
<P CLASS="t">For a domain that uses TCP/IP and spans more than one subnetwork, each subnetwork functions as an independent browsing entity with its own master browser and backup browsers. NwLnkNb and NBF transports don't use the domain master browser role because those transports have only a single master browser for the entire network. Browsing across the wide area network (WAN) to other subnetworks requires at least one browser running Windows&nbsp;NT Server, Windows&nbsp;NT Workstation, or Windows For Workgroups 3.11b on the domain for each subnetwork. A PDC typically functions as the domain master browser on its subnetwork.</P>
<P CLASS="t">When a domain spans multiple subnetworks, the master browser of each subnetwork announces itself as the master browser to the domain master browser, using a directed MasterBrowserAnnouncement datagram. The domain master browser then sends a remote <B>NetServerEnum</B> API call to each master browser, to collect each subnetwork's list of servers. The domain master browser merges the server list from each subnetwork master browser with its own server list, forming the browse list for the domain. This process is repeated every 15 minutes to ensure that the domain master browser has a complete browse list of all the servers in the domain.</P>
<P CLASS="t">The master browser on each subnetwork also sends a remote <B>NetServerEnum</B> API call to the domain master browser to obtain the complete browse list for the domain. This browse list is available to browser clients on the subnetwork. </P>
<P CLASS="t">A single computer may play multiple browser roles. For example, the master browser may also be the domain master browser.</P>
<P CLASS="t"><B>Note</B></P>
<P>Windows&nbsp;NT workgroups cannot span multiple TCP/IP subnetworks. Any Windows&nbsp;NT workgroup that spans subnetworks actually functions as two separate workgroups with identical names.</P></BODY></HTML>
