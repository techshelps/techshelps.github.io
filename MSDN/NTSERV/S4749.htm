<HTML><HEAD><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Adding Remote System Names by Using #PRE</title>
<style>@import url(msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="msdn_ie3.css"><META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset= iso-8859-1"></HEAD><BODY BGCOLOR="#FFFFFF">
<H3 CLASS="h2">Adding Remote System Names by Using #PRE</H3><P CLASS="t">Using #PRE entries improves access to the identified computers because name and IP address mappings are contained in the computer's cache memory. However, by default, Windows&nbsp;NT limits the preload name cache to 100 entries. (This limit affects only entries marked with the #PRE keyword.)</P>
<P CLASS="t">If you specify more than 100 #PRE entries, only the first 100 #PRE entries are preloaded into the computer's cache. Any additional #PRE entries are ignored at startup and are used only if name resolution by the cache and IP broadcast fails. Windows&nbsp;NT then parses the complete LMHOSTS file which contains all the entries, including the #PRE entries that exceeded the cache limit of 100.</P>
<P CLASS="t">You can change the default maximum allowed #PRE entries by adding a <B>MaxPreLoads</B> value entry to the Registry. This value entry must be added to the following Registry key: </P>
<P CLASS="spacing"><BR></P>
HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services\Netbt\Parameters 
<P CLASS="t">For example, the LMHOSTS file could contain the following information:</P>
<P>102.54.94.91        accounting                #accounting server</P>
<P>102.54.94.94        payroll                    #payroll server</P>
<P>102.54.94.97        stockquote        #PRE        #stock quote server</P>
<P>102.54.94.102    printqueue                #print server in Bldg 7</P>
<P CLASS="t">In this example, the server named stockquote is preloaded into the name cache, because it is tagged with the #PRE keyword. The servers named accounting, payroll, and printqueue would be resolved only after the cache entries failed to match and after broadcast queries failed to locate them. After non-preloaded entries are resolved, their mappings are cached for a period of time for reuse. </P></BODY></HTML>
