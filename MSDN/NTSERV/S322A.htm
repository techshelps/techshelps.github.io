<HTML><HEAD><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Microsoft DNS Server Database</title>
<style>@import url(msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="msdn_ie3.css"><META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset= iso-8859-1"></HEAD><BODY BGCOLOR="#FFFFFF">
<H3 CLASS="h2">Microsoft DNS Server Database</H3><P CLASS="t">The Microsoft DNS server database is a set of files that contain the host name –to-IP-address mappings and other DNS information data for the computers on your TCP/IP network. These data records are referred to as <I>resource records</I> and are contained in the zone, cache,  reverse-lookup, and arpa-127 files in the \%systemroot%\Winnt\System32\Dns directory. </P>
<P CLASS="t">The following table describes the different types of resource records that may be used to provide DNS-based data about computers on a TCP/IP network.</P>
<P CLASS="ttl"><B>Table 9.2    DNS Resource Record Types</B></P>

<TABLE COLS="3" BORDER="0" CELLPADDING="7"><COLGROUP><COL WIDTH="54pt" VALIGN="TOP"><COL WIDTH="287pt" VALIGN="TOP"><COL WIDTH="6pt" VALIGN="TOP"></COLGROUP><TBODY><TR><TD COLSPAN="3" VALIGN="TOP"><P></P></TD></TR><TR><TD VALIGN="TOP"><P CLASS="th"><B>Record type</B></P></TD><TD COLSPAN="2" VALIGN="TOP"><P CLASS="th"><B>Description</B></P></TD></TR><TR><TD COLSPAN="3" VALIGN="TOP"><P></P></TD></TR><TR><TD VALIGN="TOP"><P>A</P></TD><TD COLSPAN="2" VALIGN="TOP"><P>An address record that maps a host name to an IP address in a DNS zone. Its counterpart, the PTR resource record, is used to map an IP address to a host name in a DNS reverse zone (those in the <I>in-addr.arpa.</I> DNS domain).</P></TD></TR><TR><TD VALIGN="TOP"><P>AFSDB</P></TD><TD COLSPAN="2" VALIGN="TOP"><P>Gives the location of either an Andrew File System (AFS) cell database server, or a DCE (Distributed Computing Environment) cell's authenticated name server. The AFS system uses DNS to map a DNS domain name to the name of an AFS cell database server. The Open Software Foundation's DCE Naming service uses DNS for a similar function. </P></TD></TR><TR><TD VALIGN="TOP"><P>CNAME</P></TD><TD COLSPAN="2" VALIGN="TOP"><P>The canonical name resource record creates an alias (synonymous name) for the specified host name. You can use CNAME records to hide the implementation details of your network from the clients that connect to it. For example, ftp.terraflora.com is an alias (CNAME) for the real name of the computer that runs the FTP server. This alias also allows the FTP server to be moved to a different computer; only the CNAME record needs to change.</P></TD></TR><TR><TD VALIGN="TOP"><P>HINFO</P></TD><TD COLSPAN="2" VALIGN="TOP"><P>The host information resource record identifies a host's hardware type and operating system. The CPU Type and Operating System identifiers should come from the computer names and system names listed in RFC 1700.</P></TD></TR><TR><TD VALIGN="TOP"><P>ISDN</P></TD><TD COLSPAN="2" VALIGN="TOP"><P>The Integrated Services Digital Network (ISDN) resource record is a variation of the A (address) resource record. Rather than mapping a host  name to an IP address, the ISDN record maps the name to an ISDN address. An ISDN address is a phone number that consists of a country code, an area code or country code, a local phone number, and, optionally, a subaddress. The ISDN resource record is designed to be used in conjunction with the RT (route through) resource record.</P></TD></TR><TR><TD VALIGN="TOP"><P>MB</P></TD><TD COLSPAN="2" VALIGN="TOP"><P>The mailbox resource record is an experimental record that specifies a DNS host  with the specified mailbox. Other related experimental records are the MG (mail group) resource record, the MR (mailbox rename) resource record, and the MINFO (mailbox information) resource record.</P></TD></TR><TR><TD VALIGN="TOP"><P>MG</P></TD><TD COLSPAN="2" VALIGN="TOP"><P>The mail group resource record is an experimental record that specifies a mailbox that is a member of the mail group (mailing list) specified by the DNS domain name. Other related experimental records are the MB (mailbox) resource record, the MR (mailbox rename) resource record, and the MINFO (mailbox information) resource record.</P></TD></TR><TR><TD VALIGN="TOP"><P>MINFO</P></TD><TD COLSPAN="2" VALIGN="TOP"><P>The mailbox information resource record is an experimental record that specifies a mailbox that is responsible for the specified mailing list or mailbox. Other related experimental records are the MB (mailbox) resource record, the MG (mail group) resource record, and the MR (mailbox rename) resource record.</P></TD></TR><TR><TD VALIGN="TOP"><P>MR</P></TD><TD COLSPAN="2" VALIGN="TOP"><P>The mailbox rename resource record is an experimental record that specifies a mailbox that is the proper rename of the other specified mailbox. Other related experimental records are the MB (mailbox) resource record, the MG (mail group) resource record, and the MINFO (mailbox information) resource record.</P></TD></TR><TR><TD VALIGN="TOP"><P>MX</P></TD><TD COLSPAN="2" VALIGN="TOP"><P>The mail exchange resource record specifies a mail exchange server for a DNS domain name. A mail exchange server is a host that will either process or forward mail for the DNS domain name. Processing the mail means either delivering it to the addressee or passing it to a different type of mail transport. Forwarding the mail means sending it to its final destination server, sending it using Simple Message Transfer Protocol (SMTP) to another mail exchange server that is closer to the final destination, or queuing it for a specified amount of time.</P></TD></TR><TR><TD VALIGN="TOP"><P>NS</P></TD><TD COLSPAN="2" VALIGN="TOP"><P>The name server resource record identifies the DNS server(s) for the DNS domain. NS resource records appear in all DNS zones and reverse zones (those in the <I>in-addr.arpa</I> DNS domain).</P></TD></TR><TR><TD VALIGN="TOP"><P>PTR</P></TD><TD COLSPAN="2" VALIGN="TOP"><P>The pointer resource record maps an IP address to a host name in a DNS reverse zone (those in the <I>in-addr.arpa</I> DNS domain). Its counterpart, the A (address) resource record, is used to map a host name to an IP address in a DNS zone.</P></TD></TR><TR><TD VALIGN="TOP"><P>RP</P></TD><TD COLSPAN="2" VALIGN="TOP"><P>The responsible person resource record indicates who is responsible for the specified DNS domain or host. You can specify multiple RP records for a given DNS domain or host. The record has two parts:  an electronic mail address (in the same DNS format as the one in the SOA resource record), and a DNS domain name that points to additional information about the contact.</P></TD></TR><TR><TD VALIGN="TOP"><P>RT</P></TD><TD COLSPAN="2" VALIGN="TOP"><P>The route through resource record specifies an intermediate host that routes packets to a destination host. The RT record is used in conjunction with the ISDN and X25 resource records. It is syntactically and semantically similar to the MX record type and is used in much the same way.</P></TD></TR><TR><TD VALIGN="TOP"><P>SOA</P></TD><TD COLSPAN="2" VALIGN="TOP"><P>The start of authority resource record indicates that this DNS server is the authoritative source of information for the data within this DNS domain. It is the first record in each of the DNS database files. The SOA resource record is created automatically by DNS Manager when you create a new DNS zone.</P></TD></TR><TR><TD VALIGN="TOP"><P>TXT</P></TD><TD VALIGN="TOP"><P>The text resource record associates general textual information with an item in the DNS database. A typical use is for identifying a host's location (for example, Location: Building 26S, Room 2499). The text string must be less than 256 characters, but multiple TXT resource records are allowed.</P></TD></TR><TR><TD VALIGN="TOP"><P>WINS</P></TD><TD COLSPAN="2" VALIGN="TOP"><P>A record that contains the IP address of the WINS server configured on the DNS Server for WINS name resolution. This record is automatically created when WINS lookup is enabled on the DNS server, and is not a record that can be manually created by using <B>Add Record</B> in DNS Manager.</P></TD></TR><TR><TD VALIGN="TOP"><P>WINS_R</P></TD><TD COLSPAN="2" VALIGN="TOP"><P>This record instructs Microsoft DNS server to use a NetBIOS node adapter status (nbtstat) command to resolve a DNS client reverse-lookup query. The reverse-lookup query requests the name of a computer identified only by an IP address. This record is automatically created when WINS reverse lookup is enabled on the DNS server, and is not a record that can be manually created by using <B>Add</B> <B>Record</B> in DNS Manager.</P></TD></TR><TR><TD VALIGN="TOP"><P>WKS</P></TD><TD COLSPAN="2" VALIGN="TOP"><P>The well-known service resource record describes the services provided by a particular protocol on a particular interface. The protocol is usually UDP or TCP, but can be any of the entries listed in the PROTOCOLS file (\%systemroot%\system32\drivers\etc\protocol). The services are the services below port number 256 from the SERVICES file (\%systemroot%\system32\drivers\etc\services).</P></TD></TR><TR><TD VALIGN="TOP"><P>X.25</P></TD><TD COLSPAN="2" VALIGN="TOP"><P>The X.25 resource record is a variation of the A (address) resource record. Rather than mapping a host name to an IP address, the X.25 record maps the name to an X.121 address. X.121 is the International Standards Organization (ISO) standard that specifies the format of addresses used in X.25 networks. The X.25 resource record is designed to be used in conjunction with the RT (route through) resource record. </P></TD></TR></TBODY></TABLE>
<P CLASS="spacing"><BR></P><P CLASS="t">The following sections describe the DNS files that contain DNS resource records and that you create and use as the Microsoft DNS server database files. </P>
<H4 CLASS="h3"><A NAME="sec0"></A>Zone Files</H4><P CLASS="t">A zone file contains <I>resource records</I> (described in the preceding table) for computers within the zone for which the DNS server is authoritative. A Microsoft DNS server zone file can contain multiple resource records of different types, depending on the information you enter about the computers in the zone. </P>
<P CLASS="t">A zone file is automatically created when you create a zone by using DNS Manager. The DNS Manager zone wizard prompts you for the needed information and then automatically creates a file named <I>zonename</I>.dns in the \%systemroot%\System32\Dns directory. You then use DNS Manager to add resource records to the <I>zonename</I>.dns file.</P>
<P CLASS="t"><B>Note</B></P>
<P>If you want to create a new zone file or reuse an existing zone file by using a text editor, rather than by using DNS Manager, see the sample zone files in the \%systemroot%\System32\Dns\Sample directory.</P>
<H4 CLASS="h3"><A NAME="sec1"></A>Cache Files</H4><P CLASS="t">The cache file contains name –to-IP-address mappings for the Internet root DNS servers and is used by the Microsoft DNS server to resolve name queries for computers that are located outside the enterprise network on the Internet.</P>
<P CLASS="t">When you install Microsoft DNS server, a cache file with current Internet root DNS mappings is automatically installed in the \%systemroot%\System32\Dns directory.</P>
<P CLASS="t">If you plan to use the Internet, you can use this cache file or you can obtain a copy from <B>ftp://rs.internic.net/domain/named.cache</B>.</P>
<P CLASS="t">If you do not connect to resources on the Internet, you should delete this file and create a new cache file that contains the host name – to-IP-address mappings for the DNS servers that are authoritative for the root of your private TCP/IP network. Replace the existing cache file in the \%systemroot%\System32\Dns directory with the new cache file.</P>
<H4 CLASS="h3"><A NAME="sec2"></A>Reverse Lookup Files</H4><P CLASS="t">This file contains IP-address-to-host-name mappings (PTR records) that are used when a program or user has only the IP address of a remote computer but needs the host name associated to that IP address. This reverse lookup file is important for programs that implement security based on the connecting host name, and is also used for TCP/IP network troubleshooting.</P>
<P CLASS="t">There is no direct correlation between the conceptual model used to create IP addresses and the hierarchical structure of domain names. To provide a conceptual structure to manage IP-address-to-host-name mappings by using DNS servers, a special domain named <I>in-addr.arpa</I> was created. Nodes in the <I>in-addr.arpa</I> domain are named by using the numbers that comprise the dotted-octet representation of IP addresses, and IP-address-to-host-name mappings are mapped to these node numbers. </P>
<P CLASS="t">This is a somewhat complex mapping because IP addresses get more specific from left to right and domain names get less specific from left to right. The order of IP address octets must be reversed when building the <I>in-addr.arpa</I> top-down hierarchy (or tree). However, by using this method, administration of lower levels of the <I>in-addr.arpa</I> domain can be managed by using DNS servers and zones based on the class A, B, or C subnet addresses assigned to an enterprise. </P>
<P CLASS="t">You use the zone wizard in DNS Manager to create the reverse-lookup zone and files. DNS Manager automatically creates a reverse-lookup zone when the zone name that you enter is some form of <I>nnn.nnn.nnn.in-addr.arpa</I>. </P>
<P CLASS="t">After the reverse-lookup zone is created, you can add PTR records for the IP addresses contained within that zone. (The PTR record is analogous to the A record in the other zone files.) Reverse-lookup files also contain SOA and name server (NS) records as do other zone files.</P>
<P CLASS="t"><B>Note</B></P>
<P>In a PTR record, the IP address is actually written in reverse order and the text "in-addr.arpa." is appended to the end of the IP address to create the pointer. For example, the pointer for a computer with the static IP address 172.16.48.1 would be entered as "1.48.16.172.in-addr.arpa".</P>
<H4 CLASS="h3"><A NAME="sec3"></A>Boot Files</H4><P CLASS="t">Although a boot file is not needed for Microsoft DNS server, it is described here for completeness. This file is not required by RFC and is actually a feature of DNS servers running under a BIND implementation of DNS. You would only use a boot file on a Microsoft DNS server if you want to port an existing BIND boot file to the Microsoft DNS server. For more information about using a BIND boot file, see the topic "Porting Data Files from Other DNS Servers" in the section "Troubleshooting DNS Server" later in this chapter.</P></BODY></HTML>
