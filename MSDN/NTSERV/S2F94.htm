<HTML><HEAD><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Modifying Gopher Ports</title>
<style>@import url(msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="msdn_ie3.css"><META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset= iso-8859-1"></HEAD><BODY BGCOLOR="#FFFFFF">
<H3 CLASS="h2">Modifying Gopher Ports</H3><P CLASS="t">For most installations of Internet Information Server, you keep the Gopher server port number set to the default 70 to allow other Gopher clients access to your site. However, if you want to limit access to your Gopher server, you can change the control connection (port 70) to a port number greater than 1023 to "hide" your site.</P>
<P CLASS="t">You can change Gopher server port numbers by modifying the <I>Systemroot</I>\System32\Drivers\Etc\Services file or by modifying their values in the Registry. The setting in the Services file takes precedence over the Registry setting in all cases. By changing the Services file or the Registry, you affect only the Gopher server.</P>
<P CLASS="t"><B>Note</B></P>
<P>By changing the port number, you can break some or all of your tags and links. You must rebuild these by using the <B>-p</B> option of the <B>gdsset</B> command to change the port number. For example, if you change the port number to 2345, you rebuild the new tag by typing the following line:</P>
<P><B>gdsset -c -g0 -f  "The Mission of this Gopher Site" Readme1.Txt -p2345</B></P>
<H4 CLASS="h4"><A NAME="sec0"></A>To change the Gopher port in the Services file</H4><OL><LI>At a command prompt, change directories to <I>Systemroot</I>\System32\Drivers\Etc.</LI><LI>Use a text editor to search the Services file for the following entry.</LI><P>gopher        70/tcp</P>
<LI>Modify port 70 to a number greater than 1023 and add a comment (#) to show the default. For example, if you change to port 2345, add the following line.</LI><P>gopher        2345/tcp      #  gopher     70/tcp</P>
<LI>Save and close the file.</LI><LI>To implement the change, stop then restart the Gopher service.</LI></OL><P><B>Note</B>   This affects the default ports on the Gopher server.</P>
<P CLASS="t">Your Gopher server now waits at port 2345 for all Gopher client requests. </P>
<H4 CLASS="h4"><A NAME="sec1"></A>To verify the new Gopher port settings</H4><OL><LI>Start Internet Explorer. In the address box, type <B>gopher://127.0.0.1</B> and then press Enter.</LI></OL><P>The following message appears.</P>
<P>The attempt to load 'gopher:127.0.0.1' failed.</P>
<OL><LI>Click <B>OK</B> to dismiss the message.</LI><LI>In the address box, type <B>gopher://127.0.0.1:2345</B> and then press Enter.</LI></OL><P>The Gopher menu appears on your screen.</P>
<H4 CLASS="h4"><A NAME="sec2"></A>To change the Registry entry for Gopher</H4><OL><LI>Start the Registry Editor, <B>Regedt32.exe</B>. </LI><LI>Click the HKEY_LOCAL_MACHINE window and locate the following key.</LI></OL><P>\System</P>
<P>  \CurrentControlSet</P>
<P>    \Control</P>
<P>      \ServiceProvider</P>
<P>        \ServiceTypes</P>
<P>          \GOPHERSVC</P>
<OL><LI>Click GOPHERSVC and then double-click the <B>TcpPort</B> value.</LI><P>The <B>DWORD Editor</B> dialog box appears.</P>
<LI>Click <B>Decimal</B> and enter <B>6789</B> in the <B>Data</B> box.</LI><LI>Click <B>OK</B> and close the Registry Editor.</LI><LI>At the command prompt, type the following information:</LI><P><B>cd %systemroot%\system32\drivers\etc<BR>ren services services.ok</B></P>
<P>This step prevents the Gopher server from using the port address in the Services file after it has been restarted.</P>
<LI>To implement the change, stop and restart the Gopher server.</LI></ol>
<P><B>Note</B>   This affects the default port only on the Gopher server.</P>
<P CLASS="t">Your Gopher server now monitors port 6789 for all Gopher client requests and your Gopher client connects to a Gopher server at port 6789 only.</P>
<H4 CLASS="h4"><A NAME="sec3"></A>To verify the new Gopher port settings</H4><OL><LI>Start Internet Explorer. In the address box, type <B>gopher://127.0.0.1</B> and then press Enter.</LI></OL><P>The following message appears.</P>
<P>The attempt to load 'gopher:127.0.0.1' failed.</P>
<OL><LI>Click <B>OK</B> to dismiss the message.</LI><LI>In the address box, type <B>gopher://127.0.0.1:6789</B> and then press Enter.</LI></OL><P>The Gopher menu appears.</P></BODY></HTML>
