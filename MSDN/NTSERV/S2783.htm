<HTML><HEAD><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Using Performance Monitor to Monitor Connections</title>
<style>@import url(msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="msdn_ie3.css"><META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset= iso-8859-1"></HEAD><BODY BGCOLOR="#FFFFFF">
<H2 CLASS="h2">Using Performance Monitor to Monitor Connections</H2><P CLASS="t">Performance Monitor can monitor the number of simultaneous connections to the IIS services and the processor use of the process in which the IIS services run. The following table lists the Performance Monitor counters that monitor connections to Internet Information Server. rrich </P>
<P>Table 6.2    Performance Monitor Counters for IIS Service Connections</P>

<TABLE COLS="2" BORDER="0" CELLPADDING="7"><COLGROUP><COL WIDTH="168pt" VALIGN="TOP"><COL WIDTH="180pt" VALIGN="TOP"></COLGROUP><TBODY><TR><TD COLSPAN="2" VALIGN="TOP"><P></P></TD></TR><TR><TD VALIGN="TOP"><P>Counter</P></TD><TD VALIGN="TOP"><P>Indicates</P></TD></TR><TR><TD COLSPAN="2" VALIGN="TOP"><P></P></TD></TR><TR><TD VALIGN="TOP"><P>HTTP Service: Current Connections<BR>FTP Server: Current Connections<BR>Gopher Service: Current Connections</P></TD><TD VALIGN="TOP"><P>The number of connections maintained by the service during the most recent sample interval.</P></TD></TR><TR><TD COLSPAN="2" VALIGN="TOP"><P></P></TD></TR><TR><TD VALIGN="TOP"><P>HTTP Service: Maximum Connections<BR>FTP Server: Maximum Connections<BR>Gopher Service: Maximum Connections</P></TD><TD VALIGN="TOP"><P>The largest number of connections maintained simultaneously since the server was started. </P></TD></TR></TBODY></TABLE>
<P CLASS="spacing"><BR></P><P></P>
<P CLASS="t">These Performance Monitor counters are included in IISProc.pmw. Because these counters display the last value they observe, and not an average, you must log these values over time to collect reliable data.</P>
<P CLASS="t">Also, these counters are likely to exaggerate the number of simultaneous connections because some some entries might not yet be deleted even though the connection is closed.</P>
<P></P>
<P>Note</P>
<P>The HTTP Service, FTP Serverrrich, and Gopher Service counters collect data at the OSI Application Layer. Counts of TCP/IP connections might not equal HTTP, FTP, and Gopher connections if the connection was blocked, rejected, or reset between the Transport and Application Layers. For details on monitoring connections at lower layers, see Chapter 7, "Monitoring Bandwidth and Network Capacity."</P>
<P></P></BODY></HTML>
