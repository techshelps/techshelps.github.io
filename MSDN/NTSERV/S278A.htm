<HTML><HEAD><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Using Performance Monitor to Monitor Interrupts and DPCs</title>
<style>@import url(msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="msdn_ie3.css"><META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset= iso-8859-1"></HEAD><BODY BGCOLOR="#FFFFFF">
<H2 CLASS="h2">Using Performance Monitor to Monitor Interrupts and DPCs</H2><P CLASS="t">You can use Performance Monitor to monitor the interrupts and DPCs in the Internet Information Server process. The following table lists the Performance Monitor counters that monitor interrupts and DPCs. These counters are included in IISProc.pmw. </P>
<P CLASS="t">When monitoring, chart these counters along with standard measures of processor time, such as System: Processor Queue Length and Process: % Processor Time: Inetinfo. If you are monitoring a multiprocessor computer, be sure to include Processor: % Processor Time. This counter displays the processor use of each processor over time. You might also include Processor: % Privileged Time because interrupts and DPCs are processed in privileged mode.</P>
<P>Table 6.5    Performance Monitor Counters for Interrupt and DPC Monitoring</P>

<TABLE COLS="2" BORDER="0" CELLPADDING="7"><COLGROUP><COL WIDTH="168pt" VALIGN="TOP"><COL WIDTH="180pt" VALIGN="TOP"></COLGROUP><TBODY><TR><TD COLSPAN="2" VALIGN="TOP"><P></P></TD></TR><TR><TD VALIGN="TOP"><P>Counter</P></TD><TD VALIGN="TOP"><P>Indicates</P></TD></TR><TR><TD COLSPAN="2" VALIGN="TOP"><P></P></TD></TR><TR><TD VALIGN="TOP"><P>Processor: % Interrupt Time</P></TD><TD VALIGN="TOP"><P>How much time the processor is spending processing interrupts. Interrupts are generated when a client requests a connection or sends data. </P>
<P>If processor time is more than 90% and this value is greater than 15%, the processor is probably overburdened with interrupts.</P></TD></TR><TR><TD VALIGN="TOP"><P>Processor: Interrupts/sec</P></TD><TD VALIGN="TOP"><P>The rate at which the processor is handling interrupts.</P></TD></TR><TR><TD VALIGN="TOP"><P>Processor: % DPC Time</P></TD><TD VALIGN="TOP"><P>How much time the processor is spending processing deferred procedure calls (DPCs). DPCs originate when the processor performs tasks requiring immediate attention, and then defers the remainder of the task to be handled at lower priority. DPCs represent further processing of client requests.</P></TD></TR><TR><TD VALIGN="TOP"><P>Processor: DPCs queued/sec</P></TD><TD VALIGN="TOP"><P>The rate at which DPCs are added to the processor's queue. (This counter does not measure the number of DPCs in the queue.)</P></TD></TR><TR><TD VALIGN="TOP"><P>Pentium: Interrupts/sec (Pentium, but not Pentium Pro, processors)</P></TD><TD VALIGN="TOP"><P>Only taken INTR and NMI hardware interrupts.rrich</P></TD></TR><TR><TD VALIGN="TOP"><P>Pentium: Hardware interrupts received/sec  <BR>(Pentium Pro processors only)</P></TD><TD VALIGN="TOP"><P>The rate at which hardware interrupts are detected by the processor's internal counters.</P></TD></TR></TBODY></TABLE>
<P CLASS="spacing"><BR></P><P></P>
<P></P>
<P>Note</P>
<P>The Pentium performance object includes counters that display data on interrupts and DPCs. Pentium counters are extensible Performance Monitor counters designed to monitor Pentium processors. The counters are included on the <I>Windows NT Workstation Resource Kit</I> CD in the Performance Tools group. You must install the Pentium counters before you can use them. For detailed instructions, see P5Perf.txt on the <I>Windows NT Workstation Resource Kit</I> CD.</P>
<P></P></BODY></HTML>
