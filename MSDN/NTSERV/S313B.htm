<HTML><HEAD><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Installing and Configuring WINS</title>
<style>@import url(msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="msdn_ie3.css"><META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset= iso-8859-1"></HEAD><BODY BGCOLOR="#FFFFFF">
<H3 CLASS="h2">Installing and Configuring WINS</H3><P CLASS="t">A WINS server is a computer running Windows&nbsp;NT Server using the Microsoft TCP/IP protocol and the WINS server software. WINS servers maintain a database that maps computer names to IP addresses, allowing users to easily communicate with other computers while gaining all of the benefits of using TCP/IP.</P>
<P CLASS="t">For a complete discussion of the WINS service, see Chapter 8, "Managing Microsoft WINS Servers."</P>
<H4 CLASS="h3"><A NAME="sec0"></A>Installing WINS Servers</H4><P CLASS="t">Installing a WINS server is part of the process of installing Microsoft TCP/IP in Windows&nbsp;NT Server. The following instructions assume you have already installed the Windows&nbsp;NT Server operating system on the computer.</P>
<P CLASS="t">You must be logged on as a member of the Administrators group to install WINS. </P>
<P CLASS="t"><B>To install a WINS server</B></P>
<P>    1.    Click <B>Start</B>, point to <B>Settings</B>, and click <B>Control Panel</B>.</P>
<P>    2.    Double-click <B>Network</B>.</P>
<P>    3.    Click the <B>Services</B> tab.</P>
<P>    4.    Click <B>Server</B>, and then click <B>Add</B>.</P>
<P>    5.    In the <B>Select Network Service</B> dialog box, click <B>Windows Internet Name Service</B>. </P>
<P><img src="XNG_G18.gif"></P>
<P>    6.    Click <B>Have Disk</B> if you are loading the software from disks or a CD-ROM. </P>
<P>Or, click <B>OK</B> if loading from the network.</P>
<P>    7.    In the <B>Windows&nbsp;NT Setup</B> dialog box, type the full path to the Windows&nbsp;NT Server WINS files, and then click <B>Continue</B>. </P>
<P>You must shut down and restart the computer before the new settings will take effect. The WINS Manager then appears on the <B>Administrative Tools (Common)</B> menu on the desktop. </P>
<H4 CLASS="h3"><A NAME="sec1"></A>Managing WINS Servers</H4><P CLASS="t">The addition of the WINS service places the WINS Manager on the <B>Administrative Tools (Common)</B> menu. Once the installation is complete on the computer running Windows&nbsp;NT Server, use WINS Manager to complete the configuration of WINS. </P>
<P CLASS="t"><B>To start WINS Manager</B></P>
<UL><LI>Click <B>Start</B>, point to <B>Programs</B>, point to <B>Administrative Tools (Common)</B>, and click <B>WINS Manager</B>.</LI></UL><P><img src="XNG_G19.gif"></P>
<H4 CLASS="h3"><A NAME="sec2"></A>Adding WINS Servers</H4><P CLASS="t">Before you can administer and manage WINS servers, you must add the WINS servers to the Server List using the WINS Manager graphical interface. At Terra Flora, all computers running Windows&nbsp;NT Server WINS service will be added to the WINS Server List. Until the WINS servers are added to the list, no WINS features are available. Once the servers are added to the list, administration of any computer running Windows&nbsp;NT Server WINS Service can take place from any other computer running Windows&nbsp;NT Server WINS Manager. </P>
<P CLASS="t"><B>To Add a WINS server to the Server List</B></P>
<P>    1.    On the WINS Manager <B>Server </B>menu, click <B>Add</B>. </P>
<P>The <B>Add WINS Server to Server List</B> dialog box appears.</P>
<P><img src="XNG_G20.gif"></P>
<P>    2.    In <B>WINS Server</B>, type the IP address of the DHCP server to be added to the list, and then click <B>OK</B>.</P>
<P CLASS="t">Once a WINS Server is added to the list, configuration of the server can take place.</P>
<H4 CLASS="h3"><A NAME="sec3"></A>Configuring WINS Servers</H4><P CLASS="t">Terra Flora will configure multiple WINS servers to increase the availability and balance the load among servers. To configure a WINS server, you must be a member of the administrators group of that server.</P>
<P CLASS="t"><B>To configure a WINS server</B></P>
<P>    1.    In WINS Manager,<B> </B>click the server you want to configure.</P>
<P>    2.    On the <B>Server </B>menu, click <B>Configuration</B>. </P>
<P>The <B>WINS Server Configuration</B> dialog box appears. </P>
<P><img src="XNG_G21.gif"></P>
<P>    3.    Select the configuration options you want. </P>
<UL><LI>To specify how often a WINS client will renew its name registration with the WINS Server, type a value in <B>Renewal Interval</B>.</LI><LI>To specify the interval between when an entry in the WINS database is marked as <I>released</I> (no longer registered) and when it is marked as <I>extinct,</I><B> </B>type a value in <B>Extinction Interval</B>.</LI><LI>To specify the interval between when an entry is marked extinct and when the entry is scavenged (removed) from the WINS database, type a value in<B> Extinction Timeout</B>.</LI><LI>To specify when the WINS server will verify that old names it does not own (those replicated from other WINS servers) are still active, type a value in<B> Verify Interval</B>.</LI><LI>To specify pull parameters, select the <B>Initial Replication</B> check box under<B> Pull</B>.</LI><LI>To specify the number of times that the WINS server will attempt to contact a replication partner for pulling new WINS database entries, type a value in<B> Retry Count</B>.</LI><LI>To have the WINS server notify its replication partners of the status of its WINS database when the system is initialized, select the <B>Initial Replication</B> check box under <B>Push Parameters</B>.</LI><LI>To notify the replication partners of the WINS server when a name registration changes the WINS database status, select the <B>Replicate on Address Change</B> check box.</LI></UL><P>    4.    Click <B>Advanced</B> to configure other options.</P>
<UL><LI>To specify logging of database changes to Jet.log, select the <B>Logging Enabled</B> check box.</LI><LI>To log events in detail, select the <B>Log Detailed Events</B> check box.</LI><LI>To replicate only WINS push or pull partners, select the <B>Replicate Only With Partners</B> check box. </LI><LI>To automatically back up the database when WINS Manager stops, select the <B>Backup On Termination</B> check box.</LI></UL><P>The database backup path must have a directory specified.</P>
<UL><LI>To treat static unique and static multihomed records in the database as dynamic when they conflict with a new registration or replica, select the <B>Migrate On/Off</B> check box.</LI></UL><P>This means that if they are no longer valid, they will be overwritten by the new registration or replica. By default, this option is not checked. </P>
<UL><LI>To set the highest version ID number for the database, enter that number in <B>Starting Version Count</B>. </LI><LI>To specify the directory where the WINS database backups will be stored, type the path in <B>Database Backup Path</B>. </LI></UL><P>    5.    When you have completed all changes in the <B>WINS Server Configuration</B> dialog box, click <B>OK</B>.</P>
<P CLASS="t"><B>Notes</B></P>
<UL><LI>Specify the %systemroot%\system32\wins directory. A subdirectory for the backup will be added to WINS directory.</LI><LI>Logging events in detail requires considerable system resources and should be turned off if you are tuning for performance.</LI><LI>If the <B>Replicate Only With Partners </B>check box is not selected, an administrator can ask a WINS server to pull or push from or to a non-listed WINS server partner. By default, this option is checked.</LI><LI>Usually, you will not need to change the value in <B>Starting Version Count </B>unless the database becomes corrupted and needs to start fresh. In such a case, set this value to a number higher than appears as the version number counter for this WINS server on all the remote partners that earlier replicated the local WINS server's records. WINS may adjust the value you specify to a higher one to ensure that database records are quickly replicated to other WINS servers. </LI><LI>If you specify a backup path, WINS automatically performs a full backup of its database to this directory every 24 hours.     WINS uses this directory to perform an automatic restoration of the database in the event that the database is found to be corrupted when WINS is started. Do not specify a network directory.</LI></UL><H4 CLASS="h3"><A NAME="sec4"></A>Configuring Replication Partners</H4><P CLASS="t">All of the WINS servers on a network can be configured to communicate with each other so that a name registered with one WINS server will eventually be known by all WINS servers. In addition to registration of all names on the network with all WINS servers, all WINS servers will eventually be notified when a name is released. Replication is carried out among replication partners, rather than by each server replicating to all other servers. Each WINS server must be configured with at least one other WINS server as its replication partner.</P>
<P><img src="xng_g46.gif"></P>
<P CLASS="t">In Terra Flora's main California Domain, one WINS server will be designated as the central server, and all other WINS servers will be configured as both push and pull partners of this central server. A <I>pull partner</I> is a WINS server that pulls in replications of database entries from its partner by requesting and then accepting the replications. A <I>push partner</I> is a WINS server that sends update notification messages to its partner when its WINS database has changed. This configuration ensures that the WINS database on each server contains names addresses for every network computer. </P>
<P CLASS="t">The Terra Flora network diagram of the California domain shows only two of the WINS servers. At Terra Flora, WINS will be enabled on several computers running Windows&nbsp;NT at the Enterprise level. All of these computers running Windows&nbsp;NT Server WINS server will be configured as push and pull partners of each other. </P>
<P CLASS="t">The PDC will act as the central server. It will push changes made to its database to the next server in the line, which then pulls the changes from the PDC. This will continue down the line, with the server last on the line pushing back to the central server, which will pull in changes from the last server on the line. This ensures that all the databases on all WINS servers are replicated and up-to-date.</P>
<P CLASS="t">Additionally, the administrator can perform a replication immediately or at a specified time.</P>
<P CLASS="t"><B>To add a replication partner to a WINS server</B></P>
<P>    1.    On the WINS Manager <B>Server </B>menu, click <B>Replication Partners</B>.</P>
<P><img src="XNG_G22.gif"></P>
<P>The <B>Replication Partners</B> dialog box appears, showing all replication partners of the WINS server.</P>
<P>    2.    Click <B>Add</B>.</P>
<P>    3.    Type the IP address of the WINS server that is to be added as a push or pull partner. </P>
<P>The added server can be configured as either a push or pull partner to the WINS server. The replication partner will automatically be added as both a push and pull partner of the server that is being configured. This can be changed. </P>
<P CLASS="t"><B>To configure replication partners for a WINS server</B></P>
<P>    1.    In <B>WINS Server</B> in the <B>Replication Partners</B> dialog box, click the server you want to configure. </P>
<P>    2.    Under <B>Replication Options</B>, select the <B>Push Partner </B>check box, the <B>Pull Partner </B>check box, or both, to indicate the appropriate replication partnership. </P>
<P>    3.    Under <B>Replication Options</B>, select the <B>Configure</B> check box for each of the appropriate settings. </P>
<P>The <B>Push Partners</B> <B>Properties</B> or <B>Pull Partners</B> <B>Properties</B> dialog box appears.</P>
<P CLASS="t"><B>To define pull partner properties</B></P>
<P>    1.    In <B>Start Time</B> on the <B>Pull Partner Properties</B> dialog box, type a number to indicate when replication should begin, using any separator (such as<B> </B>AM or PM) for hours, minutes, and seconds.</P>
<P><img src="XNG_G23.gif"></P>
<P>    2.    In <B>Replication Interval</B>, type a time in hours, minutes, and seconds to indicate how often replications will occur.</P>
<P>Or, to use values specified in the <B>Preferences </B>dialog box, click <B>Set Default Values</B>.</P>
<P>    3.    Click <B>OK</B>.</P>
<P CLASS="t">The AM and PM designators are part of your time setting in International (in Control Panel).</P>
<P CLASS="t"><B>To define push partner properties</B></P>
<P>    1.    In <B>Update Count</B> on the <B>Push Partner Properties</B> dialog box, type the number of additions and updates that can be made to records in the database before replication must take place.</P>
<P>The minimum value is 20; replications that have been pulled in from partners do not count as insertions or updates in this context.</P>
<P><img src="XNG_G24.gif"></P>
<P>    2.    Click <B>OK</B>.</P>
<P CLASS="t">If you decide later to reset the values specified in the <B>Preferences </B>dialog box, you can reopen the <B>Push Partner Properties</B> dialog box and click <B>Set Default Values</B>.</P>
<H5 CLASS="h4"><A NAME="sec5"></A>Triggering Replication Between Partners</H5><P CLASS="t">You can also immediately replicate the database between the partners, rather than waiting for the start time or replication interval specified in the <B>Preferences</B> dialog box. For details, see "Setting Preferences for WINS Manager" later in this chapter.</P>
<P CLASS="t">You probably want replication to begin immediately after you make a series of changes, such as entering a range of static address mappings.</P>
<P CLASS="t"><B>To trigger replication </B></P>
<P>    1.    On the <B>Server </B>menu of WINS Manager, click <B>Replication Partners.</B></P>
<P>    2.    Click the WINS servers to which you want to send a replication trigger.</P>
<P>Or, if you want the selected WINS server to propagate the trigger to all its pull partners, select the <B>Push With Propagation</B> check box.</P>
<P>    3.    Under <B>Send Replication Trigger Now</B>, click <B>Push</B> or <B>Pull</B>, depending on which partners you want to trigger. </P>
<P>If <B>Push With Propagation</B> is not selected, the selected WINS server does not send the trigger to its other partners. </P>
<P>If <B>Push With Propagation</B> is selected, the selected WINS server sends a propagate push trigger to its pull partners after it has pulled in the latest information from the source WINS server. If it does not need to pull in any replicas because it has the same or more up-to-date replicas than the source WINS server, it does not propagate the trigger to its pull partners.</P>
<P CLASS="t"><B>To start replication immediately</B></P>
<UL><LI>In the <B>Replication Partners</B> dialog box, click <B>Replicate Now</B>.</LI></UL><H4 CLASS="h3"><A NAME="sec6"></A>Adding Static Mappings</H4><P CLASS="t"><I>Static mappings</I> are permanent lists of computer name-to-IP address mappings. In the table, the administrator indicates the computer name and matches the IP address the computer. When a network client sends a name request to the WINS server, the WINS server will always respond with the name entered by the administrator. At Terra Flora, all DNS servers, DHCP servers and other WINS servers will be statically added to all WINS servers. </P>
<P CLASS="t"><B>Note</B></P>
<P>If DHCP is also used on the network, a reserved (or static) IP address will override any WINS server settings. Static mappings should not be assigned to WINS-enabled client computers.</P>
<P CLASS="t">You can add static mappings to the WINS database for specific IP addresses using two methods: </P>
<UL><LI>Typing static mappings in a dialog box.</LI><LI>Importing files that contain static mappings.</LI></UL><P CLASS="t"><B>To type static mappings in a dialog box</B></P>
<P>    1.    On the <B>Mappings</B> menu, click <B>Static Mappings</B>.</P>
<P><img src="XNG_G25.gif"></P>
<P>    2.    Click Add Mappings. </P>
<P>    3.    In <B>Name</B>, type the computer name of the system for which you are adding a static mapping. </P>
<P><img src="XNG_G26.gif"></P>
<P>WINS Manager automatically adds the two backslashes (\\), which normally proceed the entry of a computer name. </P>
<P>    4.    In <B>IP Address</B>, type the address for the computer.</P>
<P>    5.    In <B>Type</B>, click to indicate whether this entry is a unique name or a group with a special name, and then click <B>Add</B>.</P>
<P>The mapping entry is immediately added to the database, and the check boxes are cleared so that you can add another static mapping entry. </P>
<P CLASS="t">The settings available under <B>Type</B> include the following:</P>
<UL><LI><I>Unique</I> is a unique name in the WINS database that permits only one address per name. The unique name is the WINS client's computer name.</LI><LI><I>Group</I> indicates a normal group for which the IP addresses of the individual clients are not stored. A normal group is the name to which broadcasts are sent and is the domain name used for browsing purposes. A normal group name has Ox1E as its 16<SUP>th</SUP> byte, which appears as a [1Eh] at the end of the name in Mappings, View Database option in WINS Manager. A normal group name does not have an IP address associated with it and can be valid on multiple networks and registered with multiple WINS Servers. When a WINS server receives a request for the group name, the WINS server returns the limited broadcast address <I>255.255.255.255,</I> which the WINS client will then use to broadcast to the network. For a description of the 16<SUP>th</SUP> byte fields, see Appendix G, "NetBIOS Names."</LI><LI><I>Internet Group</I> is a group that contains the IP addresses for up to 25 primary and backup domain controllers for the domain. An Internet group has a 0X1C as its 16<SUP>th</SUP> byte, which appears as a [1Ch] at the end of the name in Mappings, View Database option in WINS Manager. The Internet group name is another instance of the domain name being registered; however, this instance is used for the domain controllers in the domain to communicate with each other.</LI><LI><I>Multihomed</I> is similar to a unique name in that it is the WINS client's computer name; however, it can have up to 25 addresses and is for use by multihomed systems. A multihomed system is a system with more than one network interface and more than one IP address. </LI></UL><P CLASS="t">If <B>Internet Group</B> or <B>Multihomed</B> is selected under <B>Type</B>, the dialog box shows additional controls for adding multiple addresses. Click the down arrow (button) to move the address you type into the list of addresses for the group. Use the up-arrow button to change the order of a selected address in the list.</P>
<P CLASS="t">Entries for static mappings of unique and special group names can be imported from any file with the same format as the LMHOSTS file, which is described in Chapter&nbsp;10 "Using LMHOSTS Files." Scope names and keywords other than #DOM are ignored. Static Mapping for normal group and multihomed names can be added only by typing entries in the <B>Add Static Mappings</B> dialog box.</P>
<P CLASS="t"><B>Note</B></P>
<P>For Internet group names defined in this dialog box (that is, added statically), make sure that the primary domain controller (PDC) for that domain is defined in the group if the PDC is running Windows&nbsp;NT Advanced Server version 3.1.</P>
<P CLASS="t"><B>To import a file containing static mapping entries</B></P>
<P>    1.    In the <B>Static Mappings</B> dialog box, click <B>Import Mappings</B>.</P>
<P>    2.    In the <B>Select Static Mapping File</B> dialog box, enter the name of the file containing the names to be mapped. </P>
<P CLASS="t">The specified file is read, and then a static mapping is created for each computer name and address. If the #DOM keyword is included for any record, an Internet group is created (if it is not already present), and the address is added to that group.</P>
<P CLASS="t">For more information on managing Static Mappings, see Chapter 8, "Managing Microsoft WINS Servers."</P>
<H4 CLASS="h3"><A NAME="sec7"></A>Setting Preferences for WINS Manager</H4><P CLASS="t">Several options can be configured to administer WINS servers. The control preferences are on the <B>Options</B> menu. </P>
<P CLASS="t"><B>To set preferences for WINS Manager</B></P>
<OL><LI>On the <B>Options </B>menu, click <B>Preferences</B>. </LI></OL><P><img src="XNG_G27.gif"></P>
<OL><LI>In the <B>Preferences</B> dialog box, specify the settings you want to change. 

<UL><LI>To indicate how you want address information to be displayed throughout WINS Manager, click <B>Computer Name Only, IP Address Only, </B>or one of the ordered combinations: <B>Computer Name (IP Address)</B> or <B>IP Address (Computer Name.)</B> </LI><LI>To automatically refresh the statistics in the WINS Manager window, select the <B>Auto Refresh </B>check box under <B>Server Statistics</B>, and then enter a number in <B>Interval (seconds)</B> to specify the time between refresh actions.</LI><LI>To have computer names to adhere to the LAN Manager naming convention, select the <B>LAN Manager-Compatible</B> check box.
<P CLASS="lp2">This check box should be selected unless your network accepts NetBIOS name from other sources.</P></LI><LI>To have the system query the listed servers each time the system starts to find out if each server is available, select the <B>Validate Cache Of "Known" WINS Servers At Startup Time </B>check box. </LI><LI>To have a warning message appear each time you delete a static mapping or the cached name of a WINS server, select the <B>Confirm Deletion Of Static Mappings And Cached WINS Servers</B> check box.</LI><LI>To specify the default for replication start time for new pull partners, type a time in <B>Start Time</B>, and then specify values in <B>Replication Interval </B>to indicate how often data replicas will be exchanged between the partners. </LI><LI>To specify the default number of local registrations and changes that can occur before this server (as a push partner) sends a replication trigger, enter a number in <B>Update Count under New Push Partner Default Configuration.</B>
<P CLASS="lp2">The minimum value is 20.</P></LI></UL></LI><LI>Click <B>OK</B>.</LI></OL><P CLASS="t">WINS Manager also automatically refreshes the statistical display each time an action is initiated while you are working in WINS Manager.</P>
<P CLASS="t">LAN Manager computer names are limited to 15 characters, as compared to the 16-character NetBIOS names used by some other sources, such as Lotus Notes. In LAN Manager names, the 16th byte is used to indicate whether the device is a server, workstation, messenger, and so on. When this option is selected, WINS adds and imports static mappings with 0, 0x03, and 0x20 as the 16th byte.</P>
<P CLASS="t">All Windows – based networking, including Windows&nbsp;NT, follows the LAN Manager convention. </P>
<P CLASS="t">The replication interval should be equal to or less than the lowest refresh time interval that is set on any of the replicating WINS servers. The minimum value for the replication interval is 40 minutes. </P></BODY></HTML>
