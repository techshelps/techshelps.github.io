<HTML><HEAD><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Using Microsoft DNS Server to Connect to the Internet</title>
<style>@import url(msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="msdn_ie3.css"><META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset= iso-8859-1"></HEAD><BODY BGCOLOR="#FFFFFF">
<H3 CLASS="h2">Using Microsoft DNS Server to Connect to the Internet</H3><P CLASS="t">Many enterprises today are connecting their private, internal networks to the Internet to provide access to external resources on the Internet. Although this is an important capability, it is one that must be well planned to avoid possible security risks by exposing the internal network to users outside the enterprise. </P>
<P CLASS="t">One common way to provide protection is to use a computer that is referred to as a firewall. A <I>firewall</I> is a computer or network device that allows only certain authorized operations or programs to be run between internal networks and the Internet.</P>
<P CLASS="t">A firewall configuration can be very simple or extremely complex depending on the particular requirements of the enterprise. This chapter is not designed to provide an exhaustive description of firewalls but will briefly discuss how the Microsoft DNS server can be used on a network that uses the services of a firewall to provide security for the network.</P>
<P CLASS="t">The following figure illustrates a typical network architecture that includes a multihomed computer running as an Internet firewall.</P>
<P><img src="XNGAA03.gif"></P>
<P CLASS="cap"><B>Figure 9.3    A Typical Network with a Firewall</B></P>
<P CLASS="t">As is illustrated in the Figure, the firewall protects the internal network from computers on the Internet that may attempt to access the internal network, while allowing computers on the internal network to access Internet resources. The example network design also includes computers that are configured as WWW and FTP servers that are <I>external</I> to the firewall. </P>
<P CLASS="t">The external servers allow computers from outside the internal network to access resources provided as public services, but these external servers must be closely monitored and secured because they are connected directly to the Internet network and do not use the firewall for access control. A router that is configured to control the type of packets allowed to pass through the router (referred to as <I>packet</I> <I>filtering</I>) can provide some additional access control. </P>
<P CLASS="t">The DNS services for the external and internal networks should be entirely isolated from one another to prevent computers outside the internal network from obtaining the names and IP addresses for resources located on the internal side of the firewall. This will help ensure that the only externally available information are the names and IP addresses of the external servers that are configured to provide external public services. These services include electronic mail, WWW, and FTP servers. </P>
<P CLASS="t">When internal network computers require access to computers outside the internal network, DNS name resolution typically requires interaction with DNS servers located on the public Internet. For this reason, you may want to allow only certain DNS servers to communicate outside the internal enterprise network. A DNS server that can communicate outside of the private network to resolve a DNS name query is referred to as <I>forwarder</I>.</P>
<P CLASS="t">After one or more DNS servers are designated as a forwarder, all other DNS servers on the internal network should be configured to use the forwarder for name resolution outside the internal network. The following figure illustrates this concept.</P>
<P><img src="XNGAA04.gif"></P>
<P CLASS="cap"><B>Figure 9.4    Using a DNS Forwarder and a Firewall</B></P>
<P CLASS="t">When a DNS server which is configured to use forwarders receives a DNS request that it is unable to resolve (through its own zone files), it passes the request to one of the designated forwarders. The forwarder then carries out whatever communication is necessary to resolve the request and returns the results to the requesting server, which, in turn, returns the results to the DNS client. If the forwarder is unable to resolve the query, the DNS server attempts to resolve the query on its own as normal.</P>
<P CLASS="t"><B>To configure a Microsoft DNS server to use a forwarder</B></P>
<P>    1.    In <B>DNS Manager</B>, right-click the appropriate server icon, and then click <B>Properties</B>.</P>
<P>    2.    In the <B>Server Properties</B> dialog box, click the<B> Forwarders</B> tab and enter the IP address of the forwarder. </P></BODY></HTML>
