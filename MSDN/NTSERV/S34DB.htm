<HTML><HEAD><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Testing</title>
<style>@import url(msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="msdn_ie3.css"><META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset= iso-8859-1"></HEAD><BODY BGCOLOR="#FFFFFF">
<H3 CLASS="h2">Testing</H3><P CLASS="t">Now that you have created floppy disks to use to start the computer, created an Emergency Repair Disk, and backed up the Master Boot Record and Partition Boot Sector, you should use the utilities and floppy disks to practice recovering from problems. Going through the recovery process will force you to be diligent about making backups (Emergency Repair Disk, Master Boot Record, Partition Boot Sector, and data). You will also have an idea as to how long doing each procedure should take.</P>
<P CLASS="t">You should have a computer that you can use to do the following:</P>
<UL><LI>Look at the Master Boot Records, Partition Tables, and Partition Boot Sectors. </LI><LI>Find the backup Partition Boot Sector on an NTFS partition.</LI><LI>Deliberately destroy and recover Master Boot Records and Partition Boot Sectors. </LI><LI>Delete Windows&nbsp;NT system files and restore them by using the Emergency Repair Disk. </LI></UL><P CLASS="t">If you have multiple disks in your configuration or have more than one installation of Windows&nbsp;NT, you should thoroughly test using your Windows&nbsp;NT startup floppy disk to start the computer from each boot partition. This is especially critical on x86-based computers when you have a configuration that has both SCSI and IDE or EIDI disks. Sometimes, when the multi() syntax works to start from a SCSI hard disk, you must modify the Boot.ini file on the Windows&nbsp;NT startup floppy disk to use the scsi() syntax.</P>
<P CLASS="t">Be sure to test recovery procedures before bringing a new computer or server into production. Every server operator should have both primary and refresher training in recovering from the most common causes of unexpected server downtime. Testing should include:</P>
<UL><LI>Making sure that your Windows&nbsp;NT startup floppy disks do their job.</LI><LI>Rebuilding mirror sets and stripe sets with parity.</LI><LI>Testing UPS on the computer running Windows&nbsp;NT Server and on hubs, routers, and other network components.</LI><LI>Testing the disaster plan.</LI><LI>Restoring from your backups.</LI></UL><P CLASS="t">If you configure your boot partition as a mirror set, be sure to test that the path to the shadow partition on your Windows&nbsp;NT startup floppy disk is correct. </P>
<P CLASS="t">The following test is sufficient to determine if the ARC path is correct. The Stop error indicates that the Kernel successfully loaded from the ARC path specified. If the ARC path is wrong, the computer cannot load the Kernel and you would get a message that says so.</P>
<H4 CLASS="h4"><A NAME="sec0"></A>Testing the Windows&nbsp;NT startup floppy disk </H4><P>    1.    Shutdown Windows&nbsp;NT. Power down disks and controllers, if necessary, to test the path to the shadow boot partition.</P>
<P>    2.    Use the Windows&nbsp;NT startup floppy disk to start the computer.</P>
<P>    3.    If your boot selection correctly specifies the alternate ARC path to the shadow  boot partition, your computer should get part way through the startup sequence, and then fail with the following Kernel STOP error:</P>
<P CLASS="spacing"><BR></P>
*** STOP: 0x0000001E (0xc0000006,0x801Abe58,0x00000000,0x00000000) KMODE_EXCEPTION_NOT_HANDLED
<P CLASS="t">If the computer has software fault-tolerant volumes (a mirror set or a stripe set with parity), you should test the failure and replacement of one of the disks. Even though fault-tolerant volumes continue to work when one disk has failed, there is no fault tolerance until you install a replacement disk. A second disk failure during this interval will result in loss of data, because you lost the redundancy when the first failure occurred. If a backup disk is not available on site, you should know the business cost of the resulting downtime.</P>
<P CLASS="t">If you have hardware RAID arrays, your vendor's documentation should describe how to recover from disk or controller failures. Be sure to test that their procedures work for your installation.</P>
<P CLASS="t">If a network card or other network component fails on the primary domain controller (PDC), the server operator should be familiar with the procedure for promoting a backup domain controller (BDC), and demoting the failed server. Someone who is familiar with the procedure for reinstalling and reconfiguring the network card should also be available.</P>
<P CLASS="t">If a data volume fails, the server operator must be able to restore the data from the backup tape quickly and efficiently. The restore procedure should be tested frequently, both to insure the skill of the operator, and to test the quality of the backup tapes. The only way to test the quality of backup tapes is to do a full restore, which guarantees that the data are up-to-date and of consistent quality.</P>
<P CLASS="t">If your backup procedures involve the use of other computers running Windows&nbsp;NT Server, you must also verify that those backup and restore procedures work as expected. For information about what and how to backup, see "Backup Strategy" in Chapter 4, "Planning a Reliable Configuration."  </P></BODY></HTML>
