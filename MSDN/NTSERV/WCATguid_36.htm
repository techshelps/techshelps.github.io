<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text-html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Using Performance Monitor Counters in a WCAT Test</title>
<style>@import url(msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="msdn_ie3.css">
</HEAD>
<BODY BGCOLOR=#FFFFFF TEXT=#000000>

<FONT FACE="Verdana, Arial, Helvetica" SIZE="2">

	<!--TOOLBAR_START-->
	<!--TOOLBAR_EXEMPT-->
	<!--TOOLBAR_END-->

<h2>Using Performance Monitor Counters in a WCAT Test</h2>
<p>
You can use Performance Monitor counters to gather additional details about the response of your server to WCAT tests, including information about the processors, physical memory, disk subsystem, memory cache, and about the behavior of services such as Internet Information Server.</p>
<p>
To collect data for Performance Monitor input, you start a Performance Monitor log on the controller computer and direct that log to gather data from the server computer. When the WCAT test is complete, you can use Performance Monitor to read the Performance Monitor log.</p>
<p>
Performance Monitor collects and displays data from internal hardware counters and from counters implemented in drivers, services, and applications. The material in this section is designed for readers who are familiar with Performance Monitor, including such concepts as performance objects, performance counters, and instances. For more information about Performance Monitor, see <i>Windows&nbsp;NT Workstation Resource Kit, </i>Chapter 10, &ldquo;About Performance Monitor&rdquo; and Performance Monitor Help.</p>
<p>
To use Performance Monitor counters in a WCAT test, you:</p>
<p>
<font face="Symbol">&#183;</font> Create a formatted input file listing the Performance Monitor counters you want WCAT to monitor. WCAT performance counter input files are identified by the name <i>testname</i>.pfc, where <i>testname </i>is the name of the test during which performance is monitored. </p>
<p>
<font face="Symbol">&#183;</font> Include the <b>-p</b> option and the name of the performance counter input file (including its .pfc extension) after the <b>run</b> command starting the WCAT controller.</p>
<p>
If the <b>-p</b> option is specified, the WCAT controller remotely activates Performance Monitor on the server when the WCAT test begins. The controller then monitors the performance counters listed in the performance counter input file; the controller collects data from the counters every 10 seconds. As discussed earlier in &ldquo;The Warmup Period&rdquo; and &ldquo;The Cooldown Period,&rdquo; WCAT does not include data collected during the warmup and cooldown periods of the test in its summary calculations.</p>
<p>
At the conclusion of the test, the controller summarizes the data it has collected from the performance counters and writes the results to an output file. The performance results output file is named in the format <i>testname</i>.prf. In addition, WCAT adds a short summary of the performance counter values to the test log file.</p>
<p>
The following sections explain how to create a WCAT performance counter input file, how to submit the file to WCAT, and how to interpret a WCAT performance results file.</p>
</FONT>
</BODY>
</HTML>
