<HTML><HEAD><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>TCP/IP Print Service (LPD)</title>
<style>@import url(msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="msdn_ie3.css"><META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset= iso-8859-1"></HEAD><BODY BGCOLOR="#FFFFFF">
<H3 CLASS="h2">TCP/IP Print Service (LPD)</H3><P CLASS="t">The TCP/IP Print service is generally referred to as LPD, which stands for <I>line printer daemon</I> (or "service"). LPD receives print jobs from line printer remote (LPR) clients. LPR clients are often on UNIX systems, but LPR software exists for most operating systems, including Windows&nbsp;NT. </P>
<P CLASS="t">LPR is one of the network protocols in the TCP/IP protocol suite. It was originally developed as a standard for transmitting print jobs between computers running Berkeley UNIX. The LPR standard is published as Request For Comment (RFC) 1179. Previous versions of Windows&nbsp;NT supported TCP/IP printing as documented in RFC 1179, which describes an existing print server protocol widely used on the Internet for communicating between line printer daemons but does not specify an Internet standard. Different implementations support different options. </P>
<P CLASS="t">Windows&nbsp;NT 4.0 has added enhancements to support the most popular and requested options. Windows&nbsp;NT now suppots multiple data files per control file, and when used in "print through" mode as an intermediate spooler, it correctly passes the hostname parameter through the Windows printing subsystem. Windows&nbsp;NT 3.5<I>x</I> sent all TCP/IP print jobs from Windows&nbsp;NT computers from TCP ports 721 through 731. If enough jobs were sent in quick succession the ports could become a bottleneck causing a delay. For Windows&nbsp;NT 4.0 LPR print jobs are sourced from any available reserved port between 512 and 1023.</P>
<P CLASS="t">The LPR protocol does not pass detailed error status information back to the LPR client. If anything goes wrong, from severe problems (such as the server being too busy to process requests) to print-device problems (such as running out of paper), the LPR protocol reports the same error condition.</P>
<P CLASS="t">LPD receives jobs from LPR clients and submits them to the spooler. LPR clients always send a "control file" (actually, a data structure within the print job) containing administrative information with each print job. LPD assigns a data type based on the control commands in that control file. </P>
<P CLASS="t">If the client sends the <B>f</B>, <B>o</B>,<B> </B>or<B> p</B> control command, the LPD assigns the TEXT data type to the print job—which tells the spooler to edit the job to make sure it prints. If the client sends the <B>l </B>control command, the LPD assigns the RAW data type to the print job—which tells the spooler the print job needs no editing to print correctly. For more detail about data types, see "Data Types" earlier in this chapter. </P>
<P CLASS="t">Control commands are documented in the LPR specification, Request For Comment (RFC)1179, sections 7.17 through 7.29. For detailed information about RFC 1179, refer to the Windows&nbsp;NT Knowledge Base article, "Text of RFC1179 Standard for Windows&nbsp;NT TCP/IP Printing," reference number Q124734. </P>
<P CLASS="nt"><B>Note</B>  Notice that all the control commands defined in RFC 1179 are case sensitive. Notice also that many printer languages, including PCL, rely heavily on the ESC control character, which the <B>f</B> control command causes to be filtered from the print job. Do not use the <B>f</B> control command when sending print jobs that contain printer commands.</P>
<P CLASS="t">Because LPD assigns a data type explicitly, the default data type found in the <B>Print Processor</B> dialog box has no effect on print jobs received by LPD. To change the behavior of LPD, you must reconfigure the LPR client application to send a different control command with the print job. To reconfigure a LPR client application, consult the documentation for the application. </P></BODY></HTML>
