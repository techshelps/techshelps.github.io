<HTML><HEAD><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Test Connection to the TCP/IP Network by Using Ping</title>
<style>@import url(msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="msdn_ie3.css"><META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset= iso-8859-1"></HEAD><BODY BGCOLOR="#FFFFFF">
<H2 CLASS="h1">Test Connection to the TCP/IP Network by Using Ping</H2><P CLASS="t"><B>Ping</B> is a tool that helps to verify IP-level connectivity. When troubleshooting, the <B>ping</B> command is used to send an ICMP echo request to a target host name or IP address. Use <B>ping</B> whenever you need to verify that a host computer can connect to the TCP/IP network and network resources. You can also use the <B>ping</B> utility to isolate network hardware problems and incompatible configurations.</P>
<P CLASS="t">It is usually best to verify that a route exists between the local computer and a network host by first using <B>ping</B> and the IP address of the network host to which you want to connect. First try pinging the IP address of the target host to see if it will respond, because this is the simplest case. The command syntax is: </P>
<P CLASS="t"><B>ping </B><I>IP_address</I></P>
<P CLASS="t">Perform the following steps when using <B>ping</B>:</P>
<P>    1.    Ping the loopback address to verify that TCP/IP is installed and configured correctly on the local computer.</P>
<P CLASS="spacing"><BR></P>
Ping 127.0.0.1

<P>    2.    Ping the IP address of the local computer to verify that it was added to the network correctly.</P>
<P CLASS="spacing"><BR></P>
Ping <I>IP_address_of_local_host</I>
<P>    3.    Ping the IP address of the default gateway to verify that the default gateway is functioning and that you can communicate with a local host on the local network.</P>
<P CLASS="spacing"><BR></P>
Ping <I>IP_address_of_default_gateway</I>
<P>    4.    Ping the IP address of a remote host to verify that you can communicate through a router.</P>
<P CLASS="spacing"><BR></P>
Ping <I>IP_address_of_remote_host</I>
<P CLASS="t"><B>Ping</B> uses Windows Sockets-style name resolution to resolve a computer name to an IP address, so if pinging by address succeeds, but fails by name, then the problem lies in address or name resolution, not network connectivity. Refer to the section "Test IP-address-to-MAC-address Resolution by Using ARP" later in this chapter.</P>
<P CLASS="t">If you cannot use <B>ping</B> successfully at any point, check the following:</P>
<UL><LI>The computer was restarted after TCP/IP was installed and configured.</LI><LI>The local computer's IP address is valid and appears correctly in the <B>IP Address</B> tab of the <B>Microsoft</B> <B>TCP/IP</B> <B>Properties</B> dialog box.</LI><LI>IP routing is enabled and the link between routers is operational.</LI></UL><P CLASS="t">Type <B>ping -?</B> to see what command-line options are available. For example, <B>ping</B> allows you to specify the size of packets to use, how many to send, whether to record the route used, what time-to-live (TTL) value to use, and whether to set the "don't fragment" flag. </P>
<P CLASS="t">The following example illustrates how to send two pings, each 1450 bytes in size, to address 172.16.48.10:</P>
<P CLASS="spacing"><BR></P>
C:\&gt;ping -n 2 -l 1450 172.16.48.10
Pinging 172.16.48.10 with 1450 bytes of data:

Reply from 172.16.48.10: bytes=1450 time=10ms TTL=32
Reply from 172.16.48.10: bytes=1450 time=10ms TTL=32
<P CLASS="t">By default, <B>ping</B> waits only 750 ms for each response to be returned before timing out. If the remote system being pinged is across a high-delay link such as a satellite link, responses could take longer to be returned. The <B>-w (wait)</B> switch can be used to specify a longer timeout.</P></BODY></HTML>
