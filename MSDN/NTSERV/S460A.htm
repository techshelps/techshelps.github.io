<HTML><HEAD><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>The Server Service</title>
<style>@import url(msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="msdn_ie3.css"><META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset= iso-8859-1"></HEAD><BODY BGCOLOR="#FFFFFF">
<H3 CLASS="h2">The Server Service</H3><P CLASS="t">Windows&nbsp;NT includes a second component, called the Server service. Like the redirector, the Server service sits above TDI, is implemented as a file system driver, and directly interacts with various other file-system drivers to satisfy I/O requests, such as reading or writing to a file. </P>
<P CLASS="t">The Server service supplies the connections requested by client-side redirectors and provides them with access to the resources they request. </P>
<P CLASS="t">When the Server service receives a request from a remote computer asking to read a file that resides on the local hard drive, the following steps occur.</P>
<UL><LI>The low-level network drivers receive the request and pass it to the server driver (SRV).</LI><LI>The Server service passes a read-file request to the appropriate local file-system driver.</LI><LI>The local file-system driver calls lower-level, disk-device drivers to access the file.</LI><LI>The data is passed back to the local file-system driver.</LI><LI>The local file-system driver passes the data back to the Server service.</LI><LI>The Server service passes the data to the lower-level network drivers for transmission back to the client computer.</LI></UL><P><img src="XNG_A29.gif"></P>
<P CLASS="cap"><B>Figure 1.22    Server Service</B></P>
<P CLASS="t">Like the Workstation service, the Server service is composed of two parts.</P>
<UL><LI>Server, a service that runs in the Services.exe, which is the Service Control Manager, where all services start. Unlike the Workstation service, the Server service is not dependent on the MUP service because the server is not a UNC provider. It does not attempt to connect to other computers, but other computers connect to it. </LI><LI>Srv.sys, a file system driver that handles the interaction with the lower levels and directly interacts with various file system devices to satisfy command requests, such as file read and write.</LI></UL></BODY></HTML>
