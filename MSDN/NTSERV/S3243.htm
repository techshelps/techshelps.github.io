<HTML><HEAD><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Using LMHOSTS File to Find Computers and Services</title>
<style>@import url(msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="msdn_ie3.css"><META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset= iso-8859-1"></HEAD><BODY BGCOLOR="#FFFFFF">
<H2 CLASS="h1">Using LMHOSTS File to Find Computers and Services</H2><P CLASS="t">Windows&nbsp;NT versions 4.0 and 3.5<I>x</I> provide name resolution services for both NetBIOS computer names and Domain Name System (DNS) host names on TCP/IP networks. For an overview of all the Windows&nbsp;NT name resolution services for TCP/IP networks, refer to the chapter "Implementation Considerations" in the <I>Windows&nbsp;NT Server Networking Supplement</I>. </P>
<P CLASS="t">The LMHOSTS file is one method of name resolution for NetBIOS name resolution for TCP/IP networks. The other NetBIOS over TCP/IP (NetBT) name resolution methods that are used, depending on the computer's configuration, are:</P>
<UL><LI>NetBIOS name cache</LI><LI>IP subnet broadcasts</LI><LI>WINS NetBIOS name server</LI></UL><P CLASS="t"><B>Note</B></P>
<P>NetBT is defined by RFCs 1001 and 1002. These RFCs define the different configurations<FONT FACE="Symbol">¾</FONT>b-node, p-node, m-node, and h-node<FONT FACE="Symbol">¾</FONT>that define how a computer attempts to resolve NetBIOS names to IP addresses. </P>
<P CLASS="t">By installation default, a Windows&nbsp;NT-based computer not configured as a WINS client or WINS server, is a <I>b-node</I><B> </B>computer. A b-node computer is one that uses IP broadcasts for NetBIOS name resolution. </P>
<P CLASS="t">IP broadcast name resolution can provide dynamic name resolution. However, the disadvantages of broadcast name queries include increased network traffic and ineffectiveness in routed networks. Resources located outside the local subnet do not receive IP broadcast name query requests because, by definition, IP-level broadcasts are not passed to remote subnets by the router (default gateway) on the local subnet.</P>
<P CLASS="t">As an alternate method to IP broadcasts, Windows&nbsp;NT enables you to manually provide NetBIOS name and IP address mappings for remote computers by using the LMHOSTS file. Selected mappings from the LMHOSTS file are maintained in a limited cache of NetBIOS computer names and IP address mappings. This memory cache is initialized when a computer is started. When the computer needs to resolve a name, the cache is examined first and, if there is no match in the cache, Windows&nbsp;NT uses b-node IP broadcasts to try to find the NetBIOS computer. If the IP broadcast name query fails, the complete LMHOSTS file (not just the cache) is parsed to find the NetBIOS name and the corresponding IP address. This strategy enables the LMHOSTS file to contain a large number of mappings, without requiring a large chunk of static memory to maintain an infrequently used cache. </P>
<P CLASS="t">The LMHOSTS file can be used to map computer names and IP addresses for computers outside the local subnet (an advantage over the b-node broadcast method). You can use the LMHOSTS file to find remote computers for network file, print, and remote procedure services and for domain services such as logons, browsing, replication, and so on. </P>
<P CLASS="t">The Windows&nbsp;NT-based LMHOSTS method of name resolution is compatible with Microsoft LAN Manager 2.<I>x</I> TCP/IP LMHOSTS files. </P></BODY></HTML>
