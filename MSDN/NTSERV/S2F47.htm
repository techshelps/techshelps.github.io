<HTML><HEAD><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Server Configuration Problems</title>
<style>@import url(msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="msdn_ie3.css"><META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset= iso-8859-1"></HEAD><BODY BGCOLOR="#FFFFFF">
<H3 CLASS="h2">Server Configuration Problems</H3><H4 CLASS="h3"><A NAME="sec0"></A>Access Is Denied for Virtual Directories</H4><P CLASS="t">The <B>Directories</B> property sheet for an Internet Information Server service displays the message "Access is Denied" in the Error column of a virtual directory listing. This message appears after you create a virtual directory in Internet Service Manager by specifying a network share in universal naming convention (UNC) format.</P>
<P CLASS="t">This problem occurs if the user account information is missing or incorrect when the virtual directory is created.</P>
<P CLASS="t">To correct this problem, you must enter the correct user account information by using Internet Service Manager.</P>
<H5 CLASS="h4"><A NAME="sec1"></A>To specify a user name for a virtual directory on a network drive</H5><P>    1.    In Internet Service Manager, double-click the computer name of the service that uses the virtual directory. </P>
<P>    2.    Click the <B>Directories</B> property sheet and then select the virtual directory reporting the error.</P>
<P>    3.    Click <B>Edit Properties</B>. Enter the account information in the following format and then click <B>OK</B>:</P>
<P>User name:   domainname\username<BR>Password:   password</P>
<P></P>
<H4 CLASS="h3"><A NAME="sec2"></A>FTP Server Users Experience Delayed Responses</H4><P CLASS="t">Microsoft Internet Information Server File Transfer Protocol (FTP) clients experience delayed responses to commands when a large number of users are logged on through FTP. This problem occurs sporadically. File transfer speeds are not affected.</P>
<P CLASS="t">The default number of threads per processor (<B>MaxPoolThreads</B> value in Registry) installed on your system is 10. This might be insufficient for a heavily used FTP server because some of the FTP commands use synchronous I/O, causing threads to block while they complete.</P>
<H5 CLASS="h4"><A NAME="sec3"></A>To correct this problem</H5><P>    1.    Click the <B>Start</B> button, then point to <B>Run</B>. In the <B>Open</B> box, type <B>regedt32.exe</B> and then click <B>OK</B>.</P>
<P>    2.    Click the HKEY_LOCAL_MACHINE window and locate the following key:</P>
<P>\System<BR>    \CurrentControlSet<BR>        \Services<BR>            \InetInfo<BR>                \Parameters.</P>
<P>    3.    From the <B>Edit</B> menu, click <B>Add Value</B>. </P>
<P>    4.    In the <B>Add Value</B> dialog box, enter the value <B>MaxPoolThreads</B> with the data type <B>REG_DWORD</B>. </P>
<P>    5.    In the <B>DWORD Editor </B>dialog box, enter a value in the range 0 to 0xFFFFFFFF. </P>
<P>For example, a twin processor with 500 to 1,000 concurrent users might require 50 or more threads per processor to provide quick response for all FTP client users.</P>
<P>    6.    Click <B>OK</B> and quit the Registry Editor.</P>
<P>    7.    Shut down and restart Windows NT.</P>
<P></P>
<P CLASS="t"><B>Warning</B></P>
<P>If you use Registry Editor incorrectly it can cause serious, system-wide problems that may require you to reinstall Windows NT to correct them. Microsoft cannot guarantee that any problems resulting from the use of Registry Editor can be solved. Use this tool at your own risk.</P>
<P></P>
<H4 CLASS="h3"><A NAME="sec4"></A>Anonymous Users Have Same Access as Domain Users</H4><P CLASS="t">You allow anonymous users access to specific public Web pages and allow domain users access to additional Web pages. Your server is a primary domain controller that uses the Windows&nbsp;NT File System (NTFS) security permissions. However, after configuration, anonymous users have the same access as domain users. </P>
<P CLASS="t">The problem is that any user account that you create on a primary domain controller automatically becomes a member of the Domain Users group.</P>
<P CLASS="t">In Internet Information Server, you can allow both anonymous and domain users access to the selected Web pages. To do this, select <B>Allow Anonymous</B> and <B>Windows&nbsp;NT Challenge/Response</B> boxes on the <B>WWW</B> property sheet, then use NTFS security permissions to specify access. However, the Internet Information Server anonymous access account, IUSR_<I>computername</I>, becomes a member of Domain Users when Internet Information Server is installed on a primary domain controller. As a result, anonymous users have the same access as the domain users.</P>
<P CLASS="t">To correct this problem, remove IUSR_<I>computername</I> from the global group Domain Users. You must then add the Log On Locally user right to the IUSR_<I>computername</I> account. As an alternative, you can replace the IUSR_<I>computername</I> account on the domain controller with an account that has appropriate permissions. </P>
<H4 CLASS="h3"><A NAME="sec5"></A>Cannot Start Internet Information Server Services</H4><P CLASS="t">When the WWW service cannot automatically start during Windows&nbsp;NT startup, the Event Viewer records the message, "HTTP could not initialize socket library." The options to change properties of Internet Information Server services are unavailable in Internet Service Manager. When you attempt to start the WWW service and FTP service manually, a message states "Data area passed to system call is too small."</P>
<P CLASS="t">To solve this problem, you change the order of protocols listed in the Registry key and move <B>Tcpip</B> to the first entry in the list of values.</P>
<P>HKEY_LOCAL_MACHINE\System<BR>    \CurrentControlSet<BR>        \Services<BR>            \Winsock<BR>                \Parameters<BR>                     \Transports</P>
<H4 CLASS="h3"><A NAME="sec6"></A>Clients Cannot See Virtual Directories in Directory Listings</H4><P CLASS="t">FTP, Gopher, and WWW directory browsing clients (such as Internet Explorer) are not able to see virtual directories.</P>
<P CLASS="t">Internet Information Server does not display virtual directories in directory listings returned to clients.</P>
<P CLASS="t">If you know the name (alias) of the virtual directory, you can work around this limitation by explicitly specifying the name of the virtual directory in the client. In a WWW browser, you include the virtual directory name in the URL, for example: </P>
<P CLASS="t"><B>ftp://myftpserver/</B><I>virtual_directory</I><B>/</B></P>
<P CLASS="t">In a dedicated FTP client, you explicitly change directories by using the virtual directory name, for example:</P>
<P CLASS="t"><B>cd /</B><I>virtual_directory</I></P>
<P CLASS="t">You must type the forward slash (<B>/</B>). Otherwise, <B>cd</B> tries to change the directory from within the client's current directory.</P>
<H4 CLASS="h3"><A NAME="sec7"></A>HTTP/1.0 Error 500</H4><P CLASS="t">The following HTTP server message can be returned for an anonymous user logon request:</P>
<P CLASS="spacing"><BR></P>
HTTP/1.0 500 Server Error (Logon failure: the user has not been granted<BR>the requested logon type at this computer.)

<P CLASS="t">Frequently, this message means that your anonymous user does not have local logon rights.</P>
<H5 CLASS="h4"><A NAME="sec8"></A>To make sure an anonymous user can log on locally</H5><P>    1.    In the Microsoft Internet Service Manager, open the <B>WWW Service</B> properties sheet. Verify that the anonymous logon user name and password specified here are identical to the user name and password in User Manager.</P>
<P>    2.    Run User Manager to verify that the Log On Locally user right includes your designated anonymous user name. </P>
<P>– or –</P>
<P>Change the anonymous user account to an account that has the Log On Locally user right specified in User Manager.</P></BODY></HTML>
