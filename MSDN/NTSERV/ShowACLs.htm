<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text-html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>ShowACLs</title>
<style>@import url(msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="msdn_ie3.css">
</HEAD>
<BODY BGCOLOR=#FFFFFF TEXT=#000000>

<FONT FACE="Verdana, Arial, Helvetica" SIZE="2">

	<!--TOOLBAR_START-->
	<!--TOOLBAR_EXEMPT-->
	<!--TOOLBAR_END-->

<p>
<h2>ShowACLs<h2></p>
<p>
ShowACLs is a 32bit command line utility that displays the NTFS permissions of files and directories. The most useful feature of ShowACLs is the ability to show permissions for a particular user. The method that ShowACLs users to perform this is by enumerating the local and global groups that the particular user belongs to and matching the users Security Identifier (SID) and the SID&rsquo;s of the groups the users belongs to, to the SID&rsquo;s in each ACE entry.</p>
<p>
NTFS uses Access Control Lists (ACLs) to set permissions for users and groups on objects. ACLs are made up of Access Control Entries (ACE&rsquo;s). Each ACE entry has information that controls the permissions for a specific user or group. There are currently four ACE type defined; Access Allowed, Access Denied, System Alarm and System Audit. Each ACE entry has a common ACE header and unique data structure. The SID associated with each ACE entry is contained in the data following the ACE header.</p>
<p>
One of the problems with a command line tool like ShowACLs is the amount of information that is contained in the ACL. The first version of ShowACLs attempted to display all the data in the access mask, which was very confusing. The latest version has adopted the &ldquo;standard&rdquo; permissions, Full, Change and Read-Only where appropriate. If a mask does not match these predefined values, the a raw dump of the mask is performed. The following table shows the actual permissions for each of the predefined values, and the alpha keys for permissions that do not match one of these predefined values. See winnt.h in the include directory of the SDK or Visual C++ for more details on these definitions.</p>
<p>
<b>Full</b>FILE_ALL_ACCESS</p>
<p>
<b>Change</b>DELETE | SYNCHRONIZE | FILE_READ_DATA | FILE_WRITE_DATA | FILE_APPEND_DATA | FILE_READ_EA | FILE_WRITE_EA | FILE_EXECUTE | FILE_READ_ATTRIBUTES | FILE_WRITE_ATTRIBUTES | READ_CONTROL</p>
<p>
<b>Read-Only</b>FILE_READ_DATA | SYNCHRONIZE | FILE_READ_EA | FILE_EXECUTE | READ_CONTROL | FILE_READ_ATTRIBUTES</p>
<p>
RGENERIC_READ</p>
<p>
WGENERIC_WRITE</p>
<p>
XGENERIC_EXECUTE )</p>
<p>
DDELETE</p>
<p>
AGENERIC_ALL</p>
<p>
dFILE_READ_DATA (directory)</p>
<p>
lFILE_READ_DATA (file)</p>
<p>
sSYNCHRONIZE</p>
<p>
rFILE_READ_DATA</p>
<p>
wFILE_WRITE_DATA</p>
<p>
aFILE_APPEND_DATA</p>
<p>
rEFILE_READ_EA</p>
<p>
wEFILE_WRITE_EA</p>
<p>
fxFILE_EXECUTE</p>
<p>
Usage:</p>
<p>
Showacls /s /u:domain\user filespec</p>

</FONT>
</BODY>
</HTML>
