<HTML><HEAD><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>nslookup</title>
<style>@import url(msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="msdn_ie3.css"><META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset= iso-8859-1"></HEAD><BODY BGCOLOR="#FFFFFF">
<H2 CLASS="h2">nslookup</H2><P CLASS="t">This diagnostic tool displays information from Domain Name System (DNS) name servers. Before using this tool, you should be familiar with how DNS works. <B>Nslookup</B> is available only if the TCP/IP protocol has been installed.</P>
<P>Syntax</P>
<P CLASS="t"><B>nslookup </B>[-<I>option …</I>] [<I>hostname</I> | - [<I>server</I>]]</P>
<P>Modes</P>
<P CLASS="t"><B>Nslookup</B> has two modes: interactive and non-interactive.</P>
<P CLASS="t">If you only need to look up a single piece of data, use non-interactive mode. For the first argument, type the name or IP address of the host to be looked up. For the second argument, type the name or IP address of a DNS name server. If you omit the second argument, the default DNS name server will be used.</P>
<P CLASS="t">If you need to look up more than one piece of data, you can use interactive mode. Type a hyphen (-) for the first argument and the name or IP address of a DNS name server for the second argument. Or, omit both arguments (the default DNS name server will be used).</P>
<P>Parameters</P>
<P CLASS="term1"><B><B>-</B><I>option …</I></B></P>
<P CLASS="dt1">Specifies one or more <B>nslookup </B>commands as a command-line option. For a list of these optional commands, see the following Table A.2, Nslookup Commands in Windows&nbsp;NT. Each option consists of a hyphen (-) followed immediately by the command name and, in some cases, an equal sign (=) and then a value. For example, to change the default query type to host information and the initial timeout to 10 seconds, you would type:</P>
<P CLASS="dt1"> nslookup -querytype=hinfo -timeout=10</P>
<P CLASS="dt1">The command line length must be less than 256 characters.</P>
<P CLASS="term1"><B><I>hostname</I></B></P>
<P CLASS="dt1">Look up information for <I>hostname</I> using the current default server or using <I>server</I> if specified. If <I>computer-to-find</I> is an IP address and the query type is <B>A</B> or <B>PTR</B>, the name of the computer is returned. If <I>hostname</I> is a name and does not have a trailing period, the default DNS domain name is appended to the name. (You can change this behavior by using the <B>nslookup set</B> command. Refer to the following Table A.2, Nslookup Commands in Windows&nbsp;NT. To look up a computer not in the current DNS domain, append a period to the name.</P>
<P CLASS="dt1">If you type a hyphen (-) instead of <I>hostname</I>, the command prompt changes to <B>nslookup</B> interactive mode.</P>
<P CLASS="term1"><B><I>server</I></B></P>
<P CLASS="dt1">Host name of the DNS server to use. If you omit <I>server</I>, the default DNS name server is used.</P>
<P>Notes</P>
<P CLASS="t">Interactive Commands</P>
<UL><LI>To interrupt interactive commands at any time, press CTRL+C.</LI></UL><UL><LI>To exit, type <B>exit</B>.</LI></UL><UL><LI>The command line length must be less than 256 characters.</LI></UL><UL><LI>To treat a built-in command as a host name, precede it with the escape character (\).</LI></UL><UL><LI>An unrecognized command is interpreted as a host name.</LI></UL><P></P>
<P></P>
<P>Diagnostics</P>
<P CLASS="t">If the <B>nslookup</B> command fails, an error message prints. Possible errors are:</P>
<UL><LI><B>Timed out</B></LI></UL><P>The server did not respond to a request after a certain amount of time (changed with <B>set timeout</B>=<I>value</I>) and a certain number of retries (changed with <B>set retry</B>=<I>value</I>).</P>
<UL><LI><B>No response from server</B></LI></UL><P>No DNS name server is running on the server.</P>
<UL><LI><B>No records</B></LI></UL><P>The DNS name server does not have resource records of the current query type for the host, although the host name is valid. The query type is specified with the <B>set querytype</B> command. </P>
<UL><LI><B>Non-existent domain</B></LI></UL><P>The host name or DNS domain name does not exist.</P>
<UL><LI><B>Connection refused</B></LI></UL><P>– Or –</P>
<UL><LI><B>Network is unreachable</B></LI></UL><P>The connection to the DNS name server or Finger server could not be made. This error commonly occurs with <B>ls</B> and <B>finger</B> requests.</P>
<UL><LI><B>Server failure</B></LI></UL><P>The DNS name server found an internal inconsistency in its database and could not return a valid answer.</P>
<UL><LI><B>Refused</B></LI></UL><P>The DNS name server refused to service the request.</P>
<UL><LI><B>Format error</B></LI></UL><P>The DNS name server found that the request packet was not in the proper format. It may indicate an error in <B>nslookup</B>.</P>
<P CLASS="t">The following table shows the <B>nslookup</B> commands. For details about syntax for individual <B>nslookup </B>commands, choose the <B>nslookup commands</B> topic in the TCP/IP Procedure Help. </P>
<P>Table A.2    Nslookup Commands in Windows&nbsp;NT</P>
<P></P>

<TABLE COLS="2" BORDER="0" CELLPADDING="7"><COLGROUP><COL WIDTH="110pt" VALIGN="TOP"><COL WIDTH="238pt" VALIGN="TOP"></COLGROUP><TBODY><TR><TD VALIGN="TOP"><P CLASS="th"><B>Command</B></P></TD><TD VALIGN="TOP"><P CLASS="th"><B>Purpose</B></P></TD></TR><TR><TD COLSPAN="2" VALIGN="TOP"><P><B></B></P></TD></TR><TR><TD VALIGN="TOP"><P><B>exit</B></P></TD><TD VALIGN="TOP"><P>Exits interactive nslookup.</P></TD></TR><TR><TD VALIGN="TOP"><P><B>finger</B></P></TD><TD VALIGN="TOP"><P>Connects with the Finger server on the <I>current</I> host. The <I>current</I> host is defined when a previous lookup for a host was successful and returned the address information.</P></TD></TR><TR><TD VALIGN="TOP"><P><B>help</B></P></TD><TD VALIGN="TOP"><P>Displays a brief summary of <B>nslookup</B> commands.</P></TD></TR><TR><TD VALIGN="TOP"><P><B>ls</B></P></TD><TD VALIGN="TOP"><P>Lists information for a DNS domain. The default output contains host names and their IP addresses. (When output is directed to a file, hash marks (###) are printed for every 50 records received from the server.)</P></TD></TR><TR><TD VALIGN="TOP"><P><B>lserver</B></P></TD><TD VALIGN="TOP"><P>Changes the default server to the specified DNS domain. <B>Lserve</B>r uses the initial server to look up the information about the specified DNS domain. (This is in contrast to the <B>server</B> command, which uses the current default server.)</P></TD></TR><TR><TD VALIGN="TOP"><P><B>root</B></P></TD><TD VALIGN="TOP"><P>Changes the default server to the server for the root of the DNS domain name space. Currently, the host G.ROOT-SERVERS.NET. is used.<B> </B>(This command is a synonym for <B>lserver g.root-server.net.</B>) The name of the root server can be changed with the <B>set root</B> command.</P></TD></TR><TR><TD VALIGN="TOP"><P><B>server</B></P></TD><TD VALIGN="TOP"><P>Changes the default server to the specified DNS domain. <B>Server</B> uses the current default server to look up the information about the specified DNS domain. (This is in contrast to the <B>lserver</B> command, which uses the initial server.)</P></TD></TR><TR><TD VALIGN="TOP"><P><B>set</B></P></TD><TD VALIGN="TOP"><P>Changes configuration settings that affect the behavior of the <B>nslookup</B> commands.</P></TD></TR><TR><TD VALIGN="TOP"><P><B>set all</B></P></TD><TD VALIGN="TOP"><P>Prints the current values of the configuration settings. Also prints information about the default server and host..</P></TD></TR><TR><TD VALIGN="TOP"><P><B>set cl[ass]</B></P></TD><TD VALIGN="TOP"><P>Changes the query class. (The class specifies the protocol group of the information.)</P></TD></TR><TR><TD VALIGN="TOP"><P><B>set [no]d2</B></P></TD><TD VALIGN="TOP"><P>Turns exhaustive debugging mode on or off. Essentially all fields of every packet are printed.</P></TD></TR><TR><TD VALIGN="TOP"><P><B>set [no] deb[ug]</B></P></TD><TD VALIGN="TOP"><P>Turns debugging mode on or off. With debugging on, more information is printed about the packet sent to the server and the resulting answer.</P></TD></TR><TR><TD VALIGN="TOP"><P><B>set [no] def[name]</B></P></TD><TD VALIGN="TOP"><P>If set, appends the default DNS domain name to a single-component lookup request. (A single component is a component that contains no periods.)</P></TD></TR><TR><TD VALIGN="TOP"><P><B>set do[main]</B></P></TD><TD VALIGN="TOP"><P>Changes the default DNS domain to the name specified. The default DNS domain name is appended to a lookup request depending on the state of the <B>defname</B> and <B>search</B> options. The DNS domain search list contains the parents of the default DNS domain if it has at least two components in its name. For example, if the default DNS domain is mydomain.mycompany.com, the search list is mydomain.mycompany.com and mycompany.com. Use the <B>set srchlist</B> command to specify a different list. Use the <B>set all</B> command to display the list.</P></TD></TR><TR><TD VALIGN="TOP"><P><B>Set [no] ig[nore]</B></P></TD><TD VALIGN="TOP"><P>If set, ignores packet truncation errors.</P></TD></TR><TR><TD VALIGN="TOP"><P><B>Set po[rt]</B></P></TD><TD VALIGN="TOP"><P>Changes the default TCP/UDP DNS name server port to the value specified.</P></TD></TR><TR><TD VALIGN="TOP"><P><B>Set q[uerytype]</B></P></TD><TD VALIGN="TOP"><P>Changes the type of information query. More information about types can be found in RFC 1035. (The <B>set type</B> command is a synonym for <B>set querytype</B>.)</P></TD></TR><TR><TD VALIGN="TOP"><P><B>set [no] rec[urse]</B></P></TD><TD VALIGN="TOP"><P>If set, tells the DNS name server to query other servers if it does not have the information.</P></TD></TR><TR><TD VALIGN="TOP"><P><B>Set ret[ry]</B></P></TD><TD VALIGN="TOP"><P>Sets the number of retries. When a reply to a request is not received within a certain amount of time (changed with <B>set timeout</B>), the timeout period is doubled and the request is resent. The retry value controls how many times a request is re-sent before giving up.</P></TD></TR><TR><TD VALIGN="TOP"><P><B>Set ro[ot]</B></P></TD><TD VALIGN="TOP"><P>Changes the name of the root server. This affects the root command.</P></TD></TR><TR><TD VALIGN="TOP"><P><B>Set [no] sea[rch]</B></P></TD><TD VALIGN="TOP"><P>If set and the lookup request contains at least one period but does not end with a trailing period, appends the DNS domain names in the DNS domain search list to the request until an answer is received.</P></TD></TR><TR><TD VALIGN="TOP"><P><B>Set srchl[ist]</B></P></TD><TD VALIGN="TOP"><P>Changes the default DNS domain name and search list. A maximum of six names separated by slashes (/) can be specified. This command overrides the default DNS domain name and search list of the <B>set domain</B> command. Use the <B>set all</B> command to display the list.</P></TD></TR><TR><TD VALIGN="TOP"><P><B>Set ti[meout]</B></P></TD><TD VALIGN="TOP"><P>Changes the initial number of seconds to wait for a reply to a request. When a reply to a request is not received within this time period, the timeout is doubled and the request is re-sent. (The number of retries is controlled with the <B>set retry</B> option.)</P></TD></TR><TR><TD VALIGN="TOP"><P><B>set ty[pe]</B></P></TD><TD VALIGN="TOP"><P>Changes the type of information query. More information about types can be found in RFC 1035. (The <B>set type</B> command is a synonym fo<B>r set querytype</B>.)</P></TD></TR><TR><TD VALIGN="TOP"><P><B>set [no] v[c]</B></P></TD><TD VALIGN="TOP"><P>If set, always uses a virtual circuit when sending requests to the server.</P></TD></TR><TR><TD VALIGN="TOP"><P><B>view</B></P></TD><TD VALIGN="TOP"><P>Sorts and lists the output of previous <B>ls</B> command(s).</P></TD></TR></TBODY></TABLE>
<P CLASS="spacing"><BR></P><P>References</P>
<P CLASS="t">For in-depth coverage of <B>nslookup</B>, see <I>DNS and BIND</I> by Paul Albitz and Cricket Liu, published by O'Reilly and Associates.</P></BODY></HTML>
