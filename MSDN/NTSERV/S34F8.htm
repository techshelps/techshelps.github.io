<HTML><HEAD><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Creating a Mirror Set or Stripe Set With Parity</title>
<style>@import url(msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="msdn_ie3.css"><META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset= iso-8859-1"></HEAD><BODY BGCOLOR="#FFFFFF">
<H3 CLASS="h2">Creating a Mirror Set or Stripe Set With Parity </H3><P CLASS="t">If you are using all SCSI disks, it is a good idea to use the same translation on all SCSI controllers whose disks are members of a mirror set or stripe set with parity. On x86-based computers, you should disable translation any time that you do not need to do the following:</P>
<UL><LI>Dual-boot with MS-DOS. </LI><LI>Have a system partition or boot partition larger than 1 GB. </LI></UL><P CLASS="t">The following Disk Administrator screen shot shows three things:</P>
<UL><LI>The unpartitioned space that you can use to create a mirror set of primary partitions F and G is the 350 MB are on the right side of disk 0. </LI><LI>You cannot use the free space to the right of logical drive E for a mirror set, because it is free space at the end of an extended partition. </LI><LI>You cannot create a stripe set with parity, because you have only two disks. If you had a third disk, with unpartitioned space, you still could not create a stripe set with parity. You need at least three disks with unpartitioned space, and disk 1 is completely partitioned.</LI></UL><P><img src="xsr_f07.gif"></P>
<P CLASS="t"><B>Note</B></P>
<P>The key below the status bar in Disk Administrator identifies what kinds of volumes are configured on the computer. For example, if you created a mirror set, you would see <B>Mirror set</B> in addition to <B>Primary partition</B> and <B>Logical drive</B>.</P>
<P CLASS="t">When you create a mirror set or stripe set with parity, Disk Administrator creates a primary partition for the areas of unpartitioned space that you select on each disk. You cannot use free space on a disk for either of these volumes if:</P>
<UL><LI>There are already three primary partitions, or two primary partitions and one extended partition defined on the disk.</LI><LI>The free space is part of an extended partition.</LI></UL><P CLASS="t">Disk Administrator Help contains details about procedures for creating mirror sets and stripe sets with parity.</P>
<H4 CLASS="h3"><A NAME="sec0"></A>Creating a Mirror Set</H4><P CLASS="t">If you need to dual-boot with MS-DOS, you cannot mirror your system partition. If you need a boot partition larger than 1 GB, you need to enable translation. However, you should not mirror your system partition if it goes beyond 1&nbsp;GB.</P>
<P CLASS="t">When you want to create a mirror set, the original partition that you want to mirror must already exist. You must have an area of unpartitioned disk space at least as large as the original partition on another disk connected to the computer.</P>
<P CLASS="t">If the unpartitioned space you select for the partition on the shadow disk is larger than the existing primary partition, the space left over remains unpartitioned space, and can be used to create other partitions (if there are fewer than four partitions on the disk). For example, if you create a mirror set using the configuration shown in the preceding Disk Administrator screen shot, there will be unpartitioned space following the shadow partition. However, you cannot use that unpartitioned space, because you will have three primary partitions and one extended partition on disk 0.</P>
<H5 CLASS="h4"><A NAME="sec1"></A>To use Disk Administrator to establish a mirror set</H5><P>    1.    Select the partition that you want to duplicate. Press CTRL, and click an area of unpartitioned space on another disk that is the same size or larger than the partition you selected.</P>
<P>    2.    On the <B>Fault Tolerance</B> menu, click <B>Establish Mirror</B>. </P>
<P>Disk Administrator creates an equal-sized partition in the unpartitioned space for the mirror set, and assigns the drive letter to the mirror set.</P>
<P><B>Note</B>  In some cases, where a mirror set is being established, a slightly larger amount of space is required for the shadow partition than for the partition on the original disk. This happens when geometry differences exist between the disks. </P>
<P>If you are mirroring the system partition, Disk Administrator displays a message box reminding you to create a Windows&nbsp;NT startup floppy disk.</P>
<P>    3.    On the <B>Partition</B> menu, click <B>Commit Changes Now</B>. Select <B>Yes</B> in the <B>Commit Changes</B> dialog box.</P>
<P>A <B>Confirm change/restart</B> dialog box is displayed; again select <B>Yes</B>. A message box prompts you to update your Emergency Repair Disk, which you should do by using the Repair Disk program (Rdisk.exe). Finally, you are prompted to shutdown, and restart the system. The only option is <B>OK</B>. The system shuts down and restarts.</P>
<P>    4.    After the system restarts, open Disk Administrator. The status bar displays a message <B>Mirror Set #N [INITIALIZING]</B>.</P>
<P>The drive letter, volume label, and size of the mirror set appear in red text. This visual cue indicates that the system is generating the partition in the background. While the text is highlighted in red, fault tolerance is not functional.</P>
<P CLASS="t"><B>Note</B></P>
<P>In the Disk Administrator display, information about the partition is not updated automatically. If you click on the partition, the information for that volume updates. You can also check the event log to know when the generation of the shadow partition is finished.</P>
<H4 CLASS="h3"><A NAME="sec2"></A>Creating a Stripe Set With Parity</H4><P CLASS="t">When you want to create a stripe set with parity, you must have at least three unpartitioned areas on different disks connected to the computer. Even though a partition is not completely full, you cannot use the space that is part of an existing partition. If you do not have enough unpartitioned space available, but have enough unused areas in existing partition(s), you can create unpartitioned disk areas by:</P>
<UL><LI>Backing up the data in the existing partition(s).</LI><LI>Deleting the partition(s).</LI><LI>Creating a new, smaller partition, leaving part of the disk unpartitioned.</LI><LI>Restoring the data to your new partition.</LI></UL><P CLASS="t">As with a mirror set, if the areas of unpartitioned space that you select for a stripe set with parity are not all the same size, the space left over can also be used for other partitions. </P>
<P CLASS="t">When using a stripe set with parity, performance should be better if you put the operating system and page file on a controller other than the one used for the strip set with parity. You can use different types of controllers for the operating system and the stripe set with parity when you have them on different controllers. For more suggestions, see "Stripe Set With Parity" in Chapter 4, "Planning a Reliable Configuration." </P>
<H5 CLASS="h4"><A NAME="sec3"></A>To use Disk Administrator to create a stripe set with parity</H5><P>    1.    Select areas of unpartitioned space on three to 32 hard disks by selecting an area of unpartitioned space on the first disk, pressing CTRL, and then choosing additional areas of unpartitioned space on other hard disks. </P>
<P>If the areas selected vary in size, then the smallest area is used as the base partition size. For example, if the unpartitioned space consists of a 700 MB on disk 1, and 900 MB each on disks 2 and 3, only 700 MB on each disk is used as part of the stripe set with parity. </P>
<P>    2.    On the <B>Fault Tolerance</B> menu, click <B>Create Stripe Set With Parity</B>. </P>
<P>Disk Administrator displays the minimum and maximum sizes for the stripe set with parity. The default size is the maximum allowed for the disk areas selected.</P>
<P>The size you choose is the total disk space that is used, not the size available for data on the stripe set with parity. For example, if four 200&nbsp;MB partitions are selected:</P>
<UL><LI>Disk Administrator displays 800&nbsp;MB for the maximum size.</LI><LI>You have 600 MB available for data, if you select the maximum size. The other 200 MB are used to store the parity information.</LI><LI>If you want to use less than the maximum size, the formula is 
<P CLASS="spacing"><BR></P>
data size = (total size) - ((total size) / (number of disks))</LI></UL><P>    3.    On the <B>Create Stripe Set With Parity</B> dialog box, type the size of the set that you want to create, and then click <B>OK</B>.</P>
<P>Disk Administrator divides the total size that you enter by the number of disks in the set to create equal-sized, unformatted primary partitions on each of the selected disks. It then assigns a single drive letter to the collection of partitions that make up the stripe set with parity. Disk Administrator displays the stripe set with parity as New Unformatted space. </P>
<P>    4.    On the <B>Partition</B> menu, select <B>Commit Changes Now</B>. </P>
<P>You are prompted to save your disk configuration changes. Select <B>Yes</B>.</P>
<P>    5.    You are notified that you need to restart the computer for the changes to the configuration to take effect. Click<B> Yes</B> in the dialog box.</P>
<P>    6.    You are notified that the disks were updated successfully. </P>
<P>This means that the new configuration information has been saved in the Registry. This dialog box also prompts you to update the Emergency Repair Disk.</P>
<P>    7.    You are prompted to restart your computer so that the changes can take effect. The only option is <B>OK</B>. The system automatically closes all open applications and restarts the system.</P>
<P>    8.    When restart is completed, open Disk Administrator again. On the <B>Tools</B> menu, click <B>Format</B>. You can format a stripe set with parity with either the FAT file system or the NTFS file system. When you have entered all of the information in the <B>Format</B> dialog box, click <B>Start</B>. The stripe set with parity begins initializing immediately. Disk Administrator displays a message <B>Stripe Set with Parity #N [INITIALIZING]</B> on the status bar. The drive letter, volume label, and size of the stripe set with parity appear in red text during initialization. </P></BODY></HTML>
