<HTML><HEAD><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>The Workstation Service</title>
<style>@import url(msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="msdn_ie3.css"><META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset= iso-8859-1"></HEAD><BODY BGCOLOR="#FFFFFF">
<H3 CLASS="h2">The Workstation Service</H3><P CLASS="t">All user-mode requests go through the Workstation service. This service consists of two components.</P>
<UL><LI>The user-mode interface, which resides in Lmsvcs.exe in Windows&nbsp;NT 3.1 and Services.exe in Windows&nbsp;NT 3.5 and later. </LI><LI>The redirector (Rdr.sys), which is a file-system driver that interacts with the lower-level network drivers by means of the TDI interface.</LI></UL><P CLASS="t">The Workstation service receives the user request, and passes it to the kernel-mode redirector.</P>
<P><img src="XNG_A27.gif"></P>
<P CLASS="cap"><B>Figure 1.20    Workstation Service</B></P>
<H4 CLASS="h3"><A NAME="sec0"></A>Windows&nbsp;NT Redirector </H4><P CLASS="t">The redirector (RDR) is a component that resides above TDI and through which one computer gains access to another computer. The Windows&nbsp;NT operating system redirector allows connection to Windows for Workgroups, LAN Manager, LAN Server, and other MS-Net-based servers. The redirector communicates to the protocols by means of the TDI interface.</P>
<P CLASS="t">The redirector is implemented as a Windows&nbsp;NT file system driver. Implementing a redirector as a file system has several benefits, which are listed below.</P>
<UL><LI>It allows applications to call a single API (the Windows&nbsp;NT I/O API) to access files on local and remote computers. From the I/O Manager perspective, there is no difference between accessing files stored on a remote computer on the network and accessing those stored locally on a hard disk.</LI><LI>It runs in kernel mode and can directly call other drivers and other kernel-mode components, such as Cache Manager. This improves the performance of the redirector.</LI><LI>It can be dynamically loaded and unloaded, like any other file-system driver.</LI><LI>It can easily coexist with other redirectors.</LI></UL><P><img src="XNG_A28.gif"></P>
<P CLASS="cap"><B>Figure 1.21    Windows&nbsp;NT redirector</B></P>
<H5 CLASS="h4"><A NAME="sec1"></A>Interoperating with Other Networks</H5><P CLASS="t">Besides allowing connections to LAN Manager, LAN Server, and MS-Net servers, the Windows&nbsp;NT redirector can coexist with redirectors for other networks, such as Novell NetWare and Banyan VINES. </P>
<P CLASS="t">While Windows&nbsp;NT includes integrated networking, its open design provides transparent access to other networks. For example, a computer running Windows&nbsp;NT Server can concurrently access files stored on Windows&nbsp;NT and NetWare servers. </P>
<H5 CLASS="h4"><A NAME="sec2"></A>Providers and the Provider-interface Layer</H5><P CLASS="t">For each additional type of network, such as NetWare or VINES, you must install a component called a <I>provider</I>. The provider is the component that allows a computer running Windows&nbsp;NT Server or Windows&nbsp;NT Workstation to communicate with the network. The Windows&nbsp;NT operating system includes two providers; Client Services for NetWare and Gateway Services for NetWare. </P>
<P CLASS="t">Client Services for NetWare is included with Windows&nbsp;NT Workstation and allows a computer running Windows&nbsp;NT Workstation to connect as a client to the NetWare network. The Gateway service, included with Windows&nbsp;NT Server, allows a computer running Windows&nbsp;NT Server to connect as a client to the NetWare network. Other provider DLLs are supplied by the appropriate network vendors.</P>
<H4 CLASS="h3"><A NAME="sec3"></A>Accessing a Remote File</H4><P CLASS="t">When a process on a Windows&nbsp;NT computer tries to open a file that resides on a remote computer, the following steps occur.</P>
<P CLASS="t">First, the process calls the I/O Manager to request that the file be opened.</P>
<P CLASS="t">Then, the I/O Manager recognizes that the request is for a file on a remote computer, and passes the request to the redirector file-system driver.</P>
<P CLASS="t">Finally, the redirector passes the request to lower-level network drivers, which transmit it to the remote server for processing.</P>
<H4 CLASS="h3"><A NAME="sec4"></A>Workstation Service Dependencies</H4><P CLASS="t">Configuration requirements for loading the Workstation service include: </P>
<UL><LI>A protocol that exposes the TDI interface must be started. </LI><LI>The MUP driver must be started. </LI></UL></BODY></HTML>
