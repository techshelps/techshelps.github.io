<HTML><HEAD><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Sample Configuration With Mirror Set and Stripe Set With Parity</title>
<style>@import url(msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="msdn_ie3.css"><META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset= iso-8859-1"></HEAD><BODY BGCOLOR="#FFFFFF">
<H3 CLASS="h2">Sample Configuration With Mirror Set and Stripe Set With Parity </H3><P CLASS="t">If you want most of your data to be on fault-tolerant volumes, you might still want to use a small, non-fault-tolerant disk in your configuration. This disk could contain the system and boot partitions, and the page file. Ideally, the page file can be on its own partition to keep it from becoming fragmented. You should also have enough space on this disk for a temporary file large enough to use to install a service pack.</P>
<P CLASS="t">If you have configured your computer to write a memory dump when a Kernel STOP error occurs, Windows&nbsp;NT creates a page file the size of the RAM in your computer plus 1 MB. This page file must be on the boot partition. Therefore, you need to allow for a file this size if you are configured for memory dumps. </P>
<P CLASS="t">You can also create a mirror set of this small disk. You do not need to include your page file in the mirror set. You could have a separate partition for the page file on each of the disks in the mirror set. However, if you create a mirror set of your boot partition, and have configured the computer to write a memory dump file, there will be a page file on each partition in the mirror set. For more information about page files and memory dumps, see Windows&nbsp;NT Help.</P>
<P CLASS="t"><B>Note</B></P>
<P>Small in this case must be large enough for the system partition (5-10&nbsp;MB), the boot partition (150-175&nbsp;MB), the page file (RAM size + 1&nbsp;MB), and room for a temporary folder (10-15&nbsp;MB). This small disk should be no smaller than 250&nbsp;MB, and 300&nbsp;MB is a better size.</P>
<P CLASS="t">You should not mix the boot partition, stripe sets, stripe sets with parity, and mirror sets on the same physical disks. Doing so can create problems when a disk failure occurs. For example, you could configure a system with three large physical disks, as follows:</P>
<UL><LI>The first disk has the system partition and boot partition using half the disk. A stripe set with parity occupies the remaining space on the disk.</LI><LI>Half of disks two and three contain the other partitions of the stripe set with parity.</LI></UL><P CLASS="t">If the disk with the system and boot partitions fails, the operating system cannot be started. The Registry, with the information about the stripe set with parity, cannot be accessed. You have to install a replacement disk, install Windows NT Server, and restore the Registry. Expect to take at least one hour before you can restart the computer.</P>
<P CLASS="t">A better solution would be to use five smaller disks, as follows:</P>
<UL><LI>Configure the first two disks as a mirror set containing the system and boot partitions. Be sure the page file is on the mirror set and not the stripe set with parity.</LI><LI>Create a stripe set with parity on the other three disks. </LI></UL><P CLASS="t">If the original disk of the mirror sets fails, you can restart the system from the shadow disk. Downtime should be less than five minutes. Chapter 5, "Preparing for and Performing Recovery," describes what you need to do to restart from the shadow disk.</P></BODY></HTML>
