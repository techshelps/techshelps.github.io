<HTML><HEAD><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>The Route Table</title>
<style>@import url(msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="msdn_ie3.css"><META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset= iso-8859-1"></HEAD><BODY BGCOLOR="#FFFFFF">
<H3 CLASS="h2">The Route Table</H3><P CLASS="t">Even a single-homed TCP/IP host has to make routing decisions. The route table controls these routing decisions. You can display the route table by typing <B>route print</B> at the command prompt. The following is an example route table from a single-homed machine. Windows&nbsp;NT automatically builds this simple route table based on the IP configuration of your host.</P>
<P CLASS="spacing"><BR></P>
Network Address   Netmask          Gateway Address  Interface       Metric

0.0.0.0           0.0.0.0          172.16.16.1      172.16.48.169      1
127.0.0.0         255.0.0.0        127.0.0.1        127.0.0.1          1
172.16.16.0       255.255.248.0    172.16.16.169    172.16.16.169      1
172.16.48.169     255.255.255.255  127.0.0.1        127.0.0.1          1
172.16.255.255    255.255.255.255  172.16.48.169    172.16.48.169      1
224.0.0.0         224.0.0.0        172.16.48.169    172.16.48.169      1
255.255.255.255   255.255.255.255  172.16.48.169    172.16.48.169      1
<H4 CLASS="h3"><A NAME="sec0"></A>Network Address</H4><P CLASS="t">The network address in the route table is the destination address. The network address column can contain:</P>
<UL><LI>Host address</LI><LI>Subnet address</LI><LI>Network address</LI><LI>Default gateway</LI></UL><H4 CLASS="h3"><A NAME="sec1"></A>Netmask</H4><P CLASS="t">The netmask defines which portion of the network address must match in order for that route to be used. When the mask is written in binary, a 1 is significant (must match) and a 0 need not match. For example, a 255.255.255.255 mask is used for a host entry. </P>
<P CLASS="t">The mask of all 255s (all 1s) means that the destination address of the packet to be routed must exactly match the network address in order for this route to be used. For another example, the network address 172.16.48.0 has a netmask of 255.255.192.0. This netmask means that the first two octets must match exactly, the first 2 bits of the third octet must match (192=11000000), and the last octet does not matter. Because 18 in the decimal number system is equivalent to 00110000 in binary, a match would have to start with 0011. Thus, any address of 172.16 and the third octet of 48 through 255 (255=11111111) will use this route. This is a netmask for a subnet route and is therefore called the <I>subnet mask</I>.</P>
<H4 CLASS="h3"><A NAME="sec2"></A>Gateway Address</H4><P CLASS="t">The gateway address is where the packet needs to be sent. This can be the local network card or a gateway (router) on the local subnet.</P>
<H4 CLASS="h3"><A NAME="sec3"></A>Interface</H4><P CLASS="t">The interface is the address of the network card over which the packet should be sent out. 127.0.0.1 is the software loopback address.</P>
<H4 CLASS="h3"><A NAME="sec4"></A>Metric</H4><P CLASS="t">The metric is the number of hops to the destination. Anything on the local LAN is one hop, and each router crossed after that is an additional hop. The metric is used to determine the best route.</P>
<H4 CLASS="h3"><A NAME="sec5"></A>Multihomed Router</H4><P CLASS="t">The following is the default route table of a multihomed Windows&nbsp;NT host:</P>

<TABLE COLS="5" BORDER="0" CELLPADDING="7"><COLGROUP><COL WIDTH="95pt" VALIGN="TOP"><COL WIDTH="116pt" VALIGN="TOP"><COL WIDTH="104pt" VALIGN="TOP"><COL WIDTH="80pt" VALIGN="TOP"><COL WIDTH="46pt" VALIGN="TOP"></COLGROUP><TBODY><TR><TD VALIGN="TOP"><P CLASS="th"><B>Network Address </B></P></TD><TD VALIGN="TOP"><P CLASS="th"><B>Netmask        </B></P></TD><TD VALIGN="TOP"><P CLASS="th"><B>Gateway Address  </B></P></TD><TD VALIGN="TOP"><P CLASS="th"><B>Interface      </B></P></TD><TD VALIGN="TOP"><P CLASS="th"><B>Metric</B></P></TD></TR><TR><TD VALIGN="TOP"><P>0.0.0.0         </P></TD><TD VALIGN="TOP"><P>0.0.0.0         </P></TD><TD VALIGN="TOP"><P>172.16.24.1      </P></TD><TD VALIGN="TOP"><P>172.16.24.193     </P></TD><TD VALIGN="TOP"><P>1</P></TD></TR><TR><TD VALIGN="TOP"><P>0.0.0.0         </P></TD><TD VALIGN="TOP"><P>0.0.0.0         </P></TD><TD VALIGN="TOP"><P>172.16.40.1      </P></TD><TD VALIGN="TOP"><P>172.16.40.139     </P></TD><TD VALIGN="TOP"><P>1</P></TD></TR><TR><TD VALIGN="TOP"><P>127.0.0.0       </P></TD><TD VALIGN="TOP"><P>255.0.0.0       </P></TD><TD VALIGN="TOP"><P>127.0.0.1        </P></TD><TD VALIGN="TOP"><P>127.0.0.1         </P></TD><TD VALIGN="TOP"><P>1</P></TD></TR><TR><TD VALIGN="TOP"><P>172.16.24.0     </P></TD><TD VALIGN="TOP"><P>255.255.248.0   </P></TD><TD VALIGN="TOP"><P>172.16.24.193    </P></TD><TD VALIGN="TOP"><P>172.16.24.193     </P></TD><TD VALIGN="TOP"><P>1</P></TD></TR><TR><TD VALIGN="TOP"><P>172.16.24.193   </P></TD><TD VALIGN="TOP"><P>255.255.255.255 </P></TD><TD VALIGN="TOP"><P>127.0.0.1        </P></TD><TD VALIGN="TOP"><P>127.0.0.1         </P></TD><TD VALIGN="TOP"><P>1</P></TD></TR><TR><TD VALIGN="TOP"><P>172.16.40.0      </P></TD><TD VALIGN="TOP"><P>255.255.255.0     </P></TD><TD VALIGN="TOP"><P>172.16.40.139     </P></TD><TD VALIGN="TOP"><P>172.16.40.139    </P></TD><TD VALIGN="TOP"><P>1</P></TD></TR><TR><TD VALIGN="TOP"><P>172.16.40.139    </P></TD><TD VALIGN="TOP"><P>255.255.255.255   </P></TD><TD VALIGN="TOP"><P>127.0.0.1         </P></TD><TD VALIGN="TOP"><P>127.0.0.1        </P></TD><TD VALIGN="TOP"><P>1</P></TD></TR><TR><TD VALIGN="TOP"><P>172.16.40.255    </P></TD><TD VALIGN="TOP"><P>255.255.255.255   </P></TD><TD VALIGN="TOP"><P>172.16.40.139     </P></TD><TD VALIGN="TOP"><P>172.16.40.139    </P></TD><TD VALIGN="TOP"><P>1</P></TD></TR><TR><TD VALIGN="TOP"><P>224.0.0.0        </P></TD><TD VALIGN="TOP"><P>224.0.0.0         </P></TD><TD VALIGN="TOP"><P>172.16.24.193     </P></TD><TD VALIGN="TOP"><P>172.16.24.193    </P></TD><TD VALIGN="TOP"><P>1</P></TD></TR><TR><TD VALIGN="TOP"><P>224.0.0.0        </P></TD><TD VALIGN="TOP"><P>224.0.0.0         </P></TD><TD VALIGN="TOP"><P>172.16.40.139     </P></TD><TD VALIGN="TOP"><P>172.16.40.139    </P></TD><TD VALIGN="TOP"><P>1</P></TD></TR><TR><TD VALIGN="TOP"><P>255.255.255.255  </P></TD><TD VALIGN="TOP"><P>255.255.255.255   </P></TD><TD VALIGN="TOP"><P>172.16.40.139     </P></TD><TD VALIGN="TOP"><P>172.16.40.139    </P></TD><TD VALIGN="TOP"><P>1</P></TD></TR></TBODY></TABLE>
<P CLASS="spacing"><BR></P><P CLASS="t">To enable routing, check <B>Enable IP Forwarding</B> on the <B>Routing</B> tab of the <B>Microsoft TCP/IP Properties</B> dialog box. At this point, Windows&nbsp;NT will route between these two subnets. </P>
<P CLASS="t">A note on default gateways: in the TCP/IP configuration, you can add a default route for each network card. This will create a 0.0.0.0 route for each. However, only one default route will actually be used. In this case, the 199.199.40.139 is the first card in the TCP/IP bindings, and therefore the default route for this card is used. Because only one default gateway will be used, configure only one card to have a default gateway. This will reduce confusion and ensure the results you intended.</P>
<P CLASS="t">If the Windows&nbsp;NT router does not have an interface on a given subnet, it will need a route to get there. This can be done by adding static routes or by using MPR. </P>
<H4 CLASS="h3"><A NAME="sec6"></A>Adding a Static Route</H4><P CLASS="t">The following is an example route.</P>
<P CLASS="spacing"><BR></P>
Route Add 199.199.41.0 mask 255.255.255.0 199.199.40.1 metric 2
<P CLASS="t">The route in this example means that to get to the 199.199.41.0 subnet with a mask of 255.255.255.0, use gateway 199.199.40.1, and that the gateway is 2 hops away. A static route will also need to be added on the next router, telling it how to get back to subnets reachable by the first router. With a network of a few routers or more, static routes can become very complicated.</P></BODY></HTML>
