<HTML><HEAD><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Analyzing Connection Data</title>
<style>@import url(msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="msdn_ie3.css"><META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset= iso-8859-1"></HEAD><BODY BGCOLOR="#FFFFFF">
<H2 CLASS="h2">Analyzing Connection Data</H2><P CLASS="t">By monitoring numbers of connections you can identify patterns of client demand for your server. Classify the data in your Performance Monitor logs into intervals by the numbers of connections served during the interval. Observe the length of the processor queue and the processor use on each processor during periods of small, moderate, and large numbers of connections. This data shows how your configuration responds to each load level.</P>
<P></P>
<P CLASS="t">You can identify a processor bottleneck at each interval by:</P>
<P>     A long, sustained processor queue (more than two threads).</P>
<P>     High use rates on one or more processors.</P>
<P>     A curve in the graph of the Current Connections counter on any IIS service performance object that reaches a high value and then forms a plateau. This pattern often indicates that additional connections are being blocked or rejected.</P>
<P></P>
<P CLASS="t">To prevent processor bottlenecks, make certain that a lengthy processor queue isn't forming when you serve large numbers of connections. Typically, you can avoid a bottleneck during peak time by setting the connection limit to twice the average value of Current Connections. If the processor regularly becomes a bottleneck when servicing large numbers of connections, you might consider upgrading or adding processors, or limiting the maximum number of connections on the server. Limiting connections might cause the server to block or reject connections, but it helps to ensure that accepted connections are processed promptly.</P>
<P CLASS="t">The maximum number of connections is set separately for each service. Adminstrators can use the Internet Service Manager to limit the number of connections. On the property page for each service, click the <B>Service</B> tab, then change the value in the <B>Maximum Connections</B> field. The following table shows the default values for maximum connections by service.</P>
<P>Table 6.3    Default Values for Maximum Connections</P>

<TABLE COLS="2" BORDER="0" CELLPADDING="7"><COLGROUP><COL WIDTH="168pt" VALIGN="TOP"><COL WIDTH="180pt" VALIGN="TOP"></COLGROUP><TBODY><TR><TD COLSPAN="2" VALIGN="TOP"><P></P></TD></TR><TR><TD VALIGN="TOP"><P>Service</P></TD><TD VALIGN="TOP"><P>Default Maximum Connections</P></TD></TR><TR><TD COLSPAN="2" VALIGN="TOP"><P></P></TD></TR><TR><TD VALIGN="TOP"><P>FTP</P></TD><TD VALIGN="TOP"><P>1,000</P></TD></TR><TR><TD VALIGN="TOP"><P>Gopher</P></TD><TD VALIGN="TOP"><P>1,000</P></TD></TR><TR><TD VALIGN="TOP"><P>WWW (HTTP)</P></TD><TD VALIGN="TOP"><P>100,000</P></TD></TR></TBODY></TABLE>
<P CLASS="spacing"><BR></P><P></P></BODY></HTML>
