<HTML><HEAD><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>NTFS Compression</title>
<style>@import url(msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="msdn_ie3.css"><META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset= iso-8859-1"></HEAD><BODY BGCOLOR="#FFFFFF">
<H3 CLASS="h2">NTFS Compression</H3><P CLASS="t">Windows&nbsp;NT supports compression on an individual file basis for NTFS volumes. Files that are compressed on an NTFS volume can be read and written by any Windows-based application without first being decompressed by another program. Uncompression happens automatically during the read of the file. The file is compressed again when it is closed or explicitly saved. </P>
<P CLASS="t">Compressed files and folders have an attribute of C when viewed in My Computer or Windows&nbsp;NT Explorer. You can select an alternate color for compressed files and folders by:</P>
<UL><LI>On the <B>View</B> menu, click <B>Options</B>.</LI><LI>On the <B>View</B> tab, check <B>Display compressed files and folders with alternate color</B>.</LI></UL><P CLASS="t">Only the NTFS file system can read the compressed form of the data. When an application like Microsoft Word for Windows or an operating system command like <B>Copy</B> requests access to the file, the NTFS file system uncompresses the file before making it available. For example, if you copy a compressed file from a another Windows&nbsp;NT computer to a compressed folder on your hard disk, the file will be uncompressed, copied, and recompressed. </P>
<P CLASS="t">This compression algorithm is similar to that provided by the MS-DOS 6.0 DoubleSpace<FONT FACE="Symbol">â</FONT> and MS-DOS 6.22 DriveSpace<FONT FACE="Symbol">ä</FONT> compression, with one important difference — the MS-DOS functionality compresses the entire volume, while the NTFS file system enables the user to compress individual files and folders in the NTFS volume.</P>
<P CLASS="t">NTFS compression is not supported for cluster sizes larger than 4K, because</P>
<UL><LI>Compression causes a performance degradation.</LI><LI>The reason you use very large (&gt;4K) clusters is to improve performance in some special cases.</LI></UL><P CLASS="t">Therefore, you should not use compression and large clusters at the same time. In other words, compression performs reasonably well on sizes up to 4K, but beyond that size, the savings in disk space is not worth the decrease in performance. When the cluster size is &gt;4K on an NTFS volume, none of the NTFS compression functions are available.</P>
<P CLASS="t">Other compression utilities are available to compress files on computers running Windows&nbsp;NT. These utilities differ from NTFS compression in the following ways:</P>
<UL><LI>They usually can be run only from the command line.</LI><LI>Files cannot be opened when they are in a compressed state — the file must first be uncompressed by using the companion program to the one used to compress the file. When you close the file, it is saved in an uncompressed state, and you have to use a program to compress it.</LI></UL><P CLASS="t">The <I>Windows&nbsp;NT Server Resource Kit</I> includes a compress program and an expand program. These compress program can only be run from the command line. The expand program is a Windows-based application. There is also an expand program on the Windows&nbsp;NT Server product CD, which you need to run from the command line. For more information about these utilities, see "File System Utilities" in Chapter 10, "Disk, File System, and Backup Utilities."</P>
<P CLASS="t">As described earlier, the DoubleSpace and DriveSpace compression features in MS-DOS cannot be used when running Windows&nbsp;NT.</P></BODY></HTML>
