<HTML><HEAD><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Using Groups for Selective Access</title>
<style>@import url(msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="msdn_ie3.css"><META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset= iso-8859-1"></HEAD><BODY BGCOLOR="#FFFFFF">
<H3 CLASS="h2">Using Groups for Selective Access</H3><P CLASS="t">This section discusses how Internet Information Server authentication and Windows&nbsp;NT user accounts and global groups are used at Terra Flora to provide selective access to files served through Internet Information Server.</P>
<P CLASS="t">An overview of Terra Flora's use of Windows&nbsp;NT groups to provide selective access is shown in Figure 5.9.</P>
<P><img src="xig_d09.gif"></P>
<P>Figure 5.9    Controlling access to files by using Windows&nbsp;NT groups</P>
<P CLASS="t">Although Figure 5.9 depicts a single directory structure for simplicity, directories can reside on other disks or even on other network shares. </P>
<H4 CLASS="h3"><A NAME="sec0"></A>Domainwide Anonymous Access</H4><P CLASS="t">The Anonymous access layer of Figure 5.9 demonstrates anonymous access to the root directories provided by using the anonymous account specified on the <B>Service</B> tab in the <B>WWW Service Properties</B> dialog box.</P>
<P CLASS="t">In this Terra Flora scenario, Internet Information Server is installed on a stand-alone member server, CANTS40DIV01. The default anonymous account, IUSR_CANTS40DIV01, is a local user account. Because the server will access directories on network computers in the California domain, the account is added to the California domain by using User Manager for Domains, as shown in Figure 5.10. Adding the local account IUSR_CANTS40DIV01 to the California domain enables computers in that domain to authenticate access by Internet Information Server. </P>
<P><img src="xig_d10.gif"></P>
<P>Figure 5.10    Accounts and global groups used at Terra Flora in User Manager</P>
<P CLASS="t">Alternatively, you can create a new account in the California domain for anonymous access and specify that account in Internet Service Manager on the <B>Service </B>tab in the <B>WWW Service Properties</B> dialog box.</P>
<H4 CLASS="h3"><A NAME="sec1"></A>Basic Authentication and Global Groups</H4><P CLASS="t">The Basic authentication layer of Figure 5.9 demonstrates using Basic authentication and Windows&nbsp;NT groups to control access to subdirectories. </P>
<P CLASS="t">In Terra Flora, each department provides some information to the entire company, such as current project plans or an employee directory. However, each division or department also uses material that only its members should have access to. </P>
<P CLASS="t">To provide selective access, global groups are created for each division (Nursery, Retail, and Supply) by using User Manager on the primary domain controller, CANTS40ENT03. The Log On Locally user right is added to every user or group that will use the IIS server, as shown in Figure 5.11.</P>
<P><img src="xig_d16.gif"></P>
<P>Figure 5.11    Assigning rights to groups in User Manager</P>
<P CLASS="t">You must also give the division groups read access to the directories. To do this, right-click the folder in Windows&nbsp;NT Explorer, then click <B>Properties</B> to specify group permissions in the <B>Directory Permissions</B> dialog box shown in Figure 5.12.</P>
<P><img src="xig_d11.gif"></P>
<P>Figure 5.12    Designating the security properties for a directory</P>
<P CLASS="t">To complete the security configuration, Terra Flora appoints a webmaster in each division to control content on the servers. The Webmasters group is created and populated with the three division webmasters. Only the Webmaster group is given full control to the entire directory structure.</P>
<P CLASS="t">For more information about adding global groups to a domain and adding user rights to user accounts and groups, see <I>Windows&nbsp;NT Server Concepts and Planning</I>.</P>
<H4 CLASS="h3"><A NAME="sec2"></A>Challenge/Response Authentication and Global Groups</H4><P CLASS="t">The Challenge/response authentication layer in Figure 5.9 demonstrates access that is granted to managers only by using Windows&nbsp;NT challenge/response authentication. A global group named Managers is created and populated with the user accounts of individual managers. </P>
<P CLASS="t">Read permission on all the budget information files is granted to the group named Managers. Full Control permission on individual files is granted to the individual manager responsible for the file. </P>
<P CLASS="t">The use of Windows&nbsp;NT groups demonstrated in this section is scalable and can be expanded to suit your business. </P>
<P CLASS="t">For more information about domain user accounts, local accounts, and the IUSR_<I>computername</I> account, see Chapter 3, "Server Security on the Internet."</P></BODY></HTML>
