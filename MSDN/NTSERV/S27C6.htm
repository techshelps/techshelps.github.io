<HTML><HEAD><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Setting Maximum Network Use</title>
<style>@import url(msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="msdn_ie3.css"><META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset= iso-8859-1"></HEAD><BODY BGCOLOR="#FFFFFF">
<H2 CLASS="h2">Setting Maximum Network Use</H2><P CLASS="t">The value you set for <B>Maximum Network use</B> depends upon the following factors: </P>
<P>     The total capacity of the communication link between the server and the network. For example, a 10 Base T Ethernet cable has a maximum capacity of 10 megabytes per second.</P>
<P>     The average and maximum transmission rates to and from the server. Use the information in the "Monitoring Transmission Rates" section of this chapter to determine the rates for your server.</P>
<P>     The average and maximum numbers of connections maintained by the server. Use the information in the "Monitoring TCP Connections" section of this chapter to determine the rates for your server.</P>
<P>     The requirements of the applications and services that share the communication link with Internet Information Server. You can use Performance Monitor, PerfLog, Task Manager, and Network Monitor to monitor the transmission rates and connections maintained by other services.</P>
<P></P>
<P CLASS="t">When calculating a value for the <B>Maximum Network use </B>box, remember that the Bandwidth Throttler is calibrated in numbers of kilobytes per second. If you wish to limit the bandwidth used by Internet Information Server to a fixed proportion of the link, you must convert the desired value from megabits per second to kilobytes per second.</P>
<P CLASS="t">Also, the Bandwidth Throttler is part of the Internet Information Server. As such, it counts bytes at the OSI Application Layer. It does not have information on the bytes generated at lower levels, such as those for protocol headers, control packets, or retransmissions. When selecting a value for the <B>Maximum Network use</B> box, remember that for every byte sent by Internet Information Server, at least 1.5 bytes (8 bits + 4 control bits) are transmitted across the network. If the network frequently retransmits data because of errors, the actual number of bytes transmitted for each byte sent by Internet Information Server is even more than 1.5 bytes. Be sure to factor this difference into your calculation of the desired bandwidth for IIS services.</P>
<P CLASS="t">For example, you might limit the bandwidth Internet Information Server uses to half of the capacity of a 1.544 – megabit per second T1 line. First, convert megabits per second to kilobytes per second:</P>
<P>(1.544 Megabits per second * 1024) / (8 bits per byte) = 197.6 KB/sec</P>
<P></P>
<P CLASS="t">Next, divide by two to determine a value equal to half of the transmission capacity of the line: </P>
<P>197.6 KB/sec / 2 = 98.8 KB/sec</P>
<P></P>
<P CLASS="t">Then account for the extra bytes generated by protocol headers and control packets:</P>
<P>98.8 KB/sec / 1.5 bytes transmitted for every IIS byte sent = 65.9 KB/sec.</P>
<P></P>
<P CLASS="t">However, limiting bandwidth can result in connections being blocked or rejected. You can use Performance Monitor to monitor the effect of limiting bandwidth.</P></BODY></HTML>
