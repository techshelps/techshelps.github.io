<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text-html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>File Times and File Names</title>
<style>@import url(msdn_ie4.css);</style>
	<link disabled rel="stylesheet" href="msdn_ie3.css">
</HEAD>
<BODY BGCOLOR=#FFFFFF TEXT=#000000>

<FONT FACE="Verdana, Arial, Helvetica" SIZE="2">

	<!--TOOLBAR_START-->
	<!--TOOLBAR_EXEMPT-->
	<!--TOOLBAR_END-->

<p>
<b><u>File Times and File Names</u></b></p>
<p>
It is recommended that you make sure that both the source and destination directories reside on an NTFS partition, wherever possible. Copying to downlevel file systems (HPFS or FAT) will work, but you may lose long filenames, and file times may suffer from rounding errors on the destination.  This is of course due to the superior capabilities of the NTFS file system.</p>
<p>
For example, file time granularity is 100 nanoseconds on NTFS, but only 2 seconds on FAT, so copying a file from NTFS to FAT always causes file times to be rounded to a value that the FAT file system can handle. Accordingly, Robocopy considers file times to be identical if they are within two seconds of each other. Without this 2-second leeway, the program might erroneously classify many otherwise unmodified files as <b><i>Older</i></b> or <b><i>Newer</i></b> files, which would result in a great deal of unnecessary copying of these unchanged files.</p>
<p>
Sometimes this handling of file times needs to be overridden. For example, assume an NTFS tree is copied temporarily to FAT, then later the FAT tree (and all its rounded FAT file times) is copied to a local NTFS drive. Later, there may be need to recreate the original tree exactly. Refreshing the whole tree would do the job, but it would inefficient for a large tree. In such a scenario you should use the <b>/T</b> switch to force the copying of just file times for <b><i>Same</i></b> files, rather than the whole file that would be copied if <b>/IS</b> was used.</p>
<p>
When the destination is on a FAT or HPFS partition, you may also experience problems when copying files and directories with long names, or whose names included extended Unicode characters. To overcome these problems, use the <b>/FAT</b> switch. This tells Robocopy to create destination files using system-generated names in the standard 8.3 FAT file system format, rather than trying to create long or extended filenames on downlevel file systems.</p>
<p>
<b><u>Attribute Processing</u></b></p>
<p>
By default, Robocopy ignores source file attributes when selecting files to copy - any file matching other specified conditions will be copied regardless of its attribute settings.</p>
<p>
The <b>/A</b> and <b>/M</b> switches both modify this behaviour, and cause only those source files with the Archive attribute set to be selected for copying. After copying the Archive attribute of the source file is left unmodified (still set) if <b>/A</b> was used, or reset (turned off) if <b>/M</b> was used.</p>
<p>
Furthermore, the <b>/XA:[R][A][S][H]</b> (e<b>X</b>clude <b>A</b>ttributes) switch can be used to exclude files from being copied if one or more of the given attributes is set. For example, you could specify <b>/XA:R</b> to prevent <b>R</b>ead-only files from being copied. Similarly, <b>/XA:SH</b> would prevent any files with either or both of the <b>S</b>ystem or <b>H</b>idden attributes set from being copied. </p>
<p>
After a file is successfully copied to the destination, the destination file's attributes are set to match those of the source file, except for the Archive bit, which is always set (turned on). This is to identify newly copied files and make it easy to back them up.</p>
<p>
To modify this default behaviour,<b> /A+:[R][A][S][H]</b> (<b>A</b>ttribute add) and <b>/A-:[R][A][S][H]</b> (<b>A</b>ttribute subtract) can be used. For example, <b>/A-:A</b> would cause the <b>A</b>rchive attribute to be reset, and <b>/A+:R</b> would render all copied files <b>R</b>ead-only in the destination.</p>
<p>
The exact order of attribute operations on newly copied destination files is as follows :</p>
<p>
1.Attributes are copied from the corresponding source file.</p>
<p>
2.The Archive attribute is set (turned on).</p>
<p>
3.Attributes specified by <b>/A+:[R][A][S][H]</b> are set (turned on).</p>
<p>
4.Attributes specified by <b>/A-:[R][A][S][H]</b> are reset (turned off).</p>

</FONT>
</BODY>
</HTML>
