<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Service Install</title>
<link disabled rel=stylesheet href=../../../backsdk3.css>
<style type="text/css">
@import url(../../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h1><a name="_setupapi_service_install"></a>Service Install</h1>
<p>
The <b>Service Install</b> section installs the service listed in the <b>AddService</b> entry of the <a href="setupapi_7g37.htm"><b>Services</b></a> section:</p>
<pre><code>[<i>install-section-name</i>_ServiceInstallSection]
DisplayName=[<i>name</i>]
ServiceType=<i>type-code</i>
StartType=<i>start-code</i>
ErrorControl=<i>error-control-level</i>
ServiceBinary=<i>path-to-service</i>
LoadOrderGroup=[<i>load-order-group-name</i>]
Dependencies=+<i>depend-on-group-name</i>[[,<i>depend-on-service-name</i>]...]
StartName=[<i>driver-object-name</i>]
 </code></pre>
<dl>
<dt>
<i>name</i></dt>
<dd>
Optional. A friendly name for the service.</dd>
<dt>
<i>type-code</i></dt>
<dd>
Specifies the type of driver. This can be any type allowed by the <object id=alink_1 type="application/x-oleobject"
	classid="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
<PARAM name="Command" value="ALink,MENU">
<PARAM name="DefaultTopic" value="../../../notopic_0pk4.htm">
<PARAM name="Item1" value="">
<PARAM name="Item2" value="_win32_createservice">
</object><a href=JavaScript:alink_1.Click()><b>CreateService</b></a> function. </dd>
<dt>
<i>start-code</i></dt>
<dd>
Specifies when to start the driver. This parameter can be one of the following values:
<dl>
<dt>
SERVICE_BOOT_START (0x0)</dt>
<dd>
Indicates a driver started by the operating system loader. Use this code only for drivers essential to loading the operating system.</dd>
<dt>
SERVICE_SYSTEM_START (0x1)</dt>
<dd>
Indicates a driver started during system initialization.</dd>
<dt>
SERVICE_AUTO_START (0x2)</dt>
<dd>
Indicates a driver started by the Service Control Manager during system startup.</dd>
<dt>
SERVICE_DEMAND_START (0x3)</dt>
<dd>
Indicates a driver that the Service Control Manager starts on demand.</dd>
<dt>
SERVICE_DISABLED (0x4)</dt>
<dd>
Indicates a driver that cannot be started.</dd>
</dl>
</dd>
<dt>
<i>error-control-level</i></dt>
<dd>
Specifies the level of error control. This parameter can be one of the following values:
<dl>
<dt>
CRITICAL (0x3)</dt>
<dd>
If the driver fails to load, fail the attempted startup. If the startup is not using the LastKnownGood control set, switch to LastKnownGood. If the startup attempt is using LastKnownGood, run a bug-check routine.</dd>
<dt>
SEVERE (0x2)</dt>
<dd>
If the startup is not using the LastKnownGood control set, switch to LastKnownGood. If the startup attempt is using LastKnownGood, continue on in case of error.</dd>
<dt>
NORMAL (0x1)</dt>
<dd>
If the driver fails to load or initialize, startup should proceed, but display a warning.</dd>
<dt>
IGNORE (0x0)</dt>
<dd>
If the driver fails to load or intialize, startup proceeds. No warning is displayed.</dd>
</dl>
</dd>
<dt>
<i>path</i></dt>
<dd>
The path to the binary for the service.</dd>
<dt>
<i>load-order-group-name</i></dt>
<dd>
Optional. Identifies the load order group of which this driver is a member. Examples of groups are: pointer, port, primary disk, and so forth.</dd>
<dt>
+<i>depend-on-group-name</i></dt>
<dd>
Optional. Specifies a load order group on which the driver depends. The driver is started only if at least one member of the specified group has been started.</dd>
<dt>
<i>depend-on-service-name</i></dt>
<dd>
Optional. Specifies a service that must be running before this driver is started.</dd>
<dt>
<i>driver-object-name</i></dt>
<dd>
Optional. If <i>type-code</i> specifies a Kernel driver or a file system driver, this name is the Windows NT driver object name that the I/O Manager uses to load the device driver.
</dd>
</dl>
<p>
The following example shows a typical <b>Service Install</b> section:</p>
<pre><code>[mouclass_Service_Inst]
DisplayName    = %mouclass.SvcDesc%
ServiceType    = 1                  ; SERVICE_KERNEL_DRIVER
StartType      = 1                  ; SERVICE_SYSTEM_START
ErrorControl   = 1                  ; SERVICE_ERROR_NORMAL
ServiceBinary  = %12%\mouclass.sys
LoadOrderGroup = Pointer Class
 </code></pre>
<h4>See Also</h4>
<p>
<a href="setupapi_6n1z.htm">Overview</a>, <a href="setupapi_5wkl.htm">INF File Format Reference</a> </p>
<p>&nbsp;</p></body>
</HTML>
