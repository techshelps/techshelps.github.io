<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>SetupSetDirectoryId</title>
<link disabled rel=stylesheet href=../../../backsdk3.css>
<style type="text/css">
@import url(../../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h1><a name="_setupapi_setupsetdirectoryid"></a>SetupSetDirectoryId</h1>
<p>
The <b>SetupSetDirectoryId </b>function associates a directory identifier in an INF file with a particular directory. </p>
<pre><code><b>BOOL SetupSetDirectoryId(
  HINF</b><i> InfHandle</i><b>,  </b>// handle to the INF file
<b>  DWORD</b><i> Id</i><b>,        </b>// optional, DIRID to assign to Directory
<b>  PCTSTR</b><i> Directory </i>// optional, directory to map to identifier
<b>);</b>
 </code></pre>
<h4>Parameters</h4>
<dl>
<dt>
<i>InfHandle</i></dt>
<dd>
Handle for a loaded INF file.</dd>
<dt>
<i>Id</i></dt>
<dd>
This optional parameter supplies the directory identifier (DIRID) to use for the association. This DIRID must be greater than or equal to DIRID_USER. If an association already exists for this DIRID, it is overwritten. If <i>Id</i> is not specified, the <i>Directory</i> parameter is ignored and the current set of user-defined DIRIDs is deleted.</dd>
<dt>
<i>Directory</i></dt>
<dd>
This optional parameter supplies the directory path to associate with <i>Id</i>. If <i>Directory</i> is NULL, any directory associated with <i>Id</i> is unassociated. No error results if <i>Id</i> is not currently associated with a directory.
</dd>
</dl>
<h4>Return Values</h4>
<p>
If the function succeeds, the return value is a non-zero value. </p>
<p>
If the function fails, the return value is zero. To get extended error information, call <object id=alink_1 type="application/x-oleobject"
	classid="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
<PARAM name="Command" value="ALink,MENU">
<PARAM name="DefaultTopic" value="../../../notopic_0pk4.htm">
<PARAM name="Item1" value="">
<PARAM name="Item2" value="_win32_getlasterror">
</object><a href=JavaScript:alink_1.Click()><b>GetLastError</b></a>.
<dl>
<dt>
ERROR_NOT_ENOUGH_MEMORY</dt>
<dd>
Indicates that a memory allocation failed.</dd>
<dt>
ERROR_INVALID_PARAMETER</dt>
<dd>
The <i>Id</i> parameter is not greater than or equal to DIRID_USER or <i>Directory</i> is not a valid string.
</dd>
</dl>
<h4>Remarks</h4>
<p>
<b>SetupSetDirectoryId </b>can be used prior to queueing file copy operations, to specify a target location that is only known at runtime.</p>
<p>
After setting the directory identifier, this function traverses all appended INF files, and, if any of them have unresolved string substitutions, attempts to re-apply string substitution to them based on the new DIRID mapping. Because of this, some INF values may change after calling <b>SetupSetDirectoryId</b>.</p>
<p>
DIRID_ABSOLUTE_16BIT is not a valid value for <i>Id</i>. This ensures compatibility with 16-bit setupx.</p>
<h4>QuickInfo</h4>
<p>
&nbsp;&nbsp;<b>Windows NT:</b>  Use version 4.0 and later.<br>
&nbsp;&nbsp;<b>Windows:</b>  Use Windows 95 and later.<br>
&nbsp;&nbsp;<b>Windows CE:</b>  Unsupported.<br>
&nbsp;&nbsp;<b>Header:</b> Declared in setupapi.h.<br>
&nbsp;&nbsp;<b>Import Library:</b> Link with setupapi.lib.</p>
<h4>See Also</h4>
<p>
<a href="setupapi_6n1z.htm">Overview</a>, <a href="setupapi_0pv7.htm">Functions</a> </p>
<p>&nbsp;</p></body>
</HTML>
