<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>SetDPB_ForceMediaChng (FAT32)</title>
<link disabled rel=stylesheet href=../../../backsdk3.css>
<style type="text/css">
@import url(../../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h1><a name="funcs_0000000101001e00"></a>SetDPB_ForceMediaChng (FAT32) </h1>
<p>
[Windows 95 only.]</p>
<p>
Forces a media change. </p>
<p>
This sub-function is called when the SetDPB_Function field of the <a href="fat32_6uk0.htm">SDPDFormatStruc (FAT32)</a> structure is set to 2. </p>
<h4>Return Values</h4>
<p>
Sets a flag which causes the next MS-DOS access to the drive to call the BUILD_DPD routine in the drive's device driver. </p>
<h4>Remarks</h4>
<p>
This is similar to the <a href="fat32_77lc.htm">SetDPB_SetDPBFrmBPB (FAT32)</a> call, except that the BPB is obtained from the device driver instead of a passed-in parameter. </p>
<p>
The function does not take effect on this call. Rather, it takes effect upon the next access to the drive. Therefore, it is recommended to immediately follow this with some other Int 21h call to the drive (for example <a href="fat32_6y40.htm">Int 21h Function 7303h Get_ExtFreeSpace (FAT32)</a>). </p>
<p>
As a side effect of this call, the next access to the drive also causes dpb_next_free (or extdpb_next_free) to be reset to 2, and the dpb_free_cnt to be reset to 0xFFFFFFFF. </p>
<p>
The assembler calling sequence for all Int 21h 7304h sub-functions is almost identical. See the main listing for a sample. (<a href="fat32_719s.htm">Int 21h Function 7304h Set_DPBForFormat (FAT32)</a>) </p>
<p>&nbsp;</p></body>
</HTML>
