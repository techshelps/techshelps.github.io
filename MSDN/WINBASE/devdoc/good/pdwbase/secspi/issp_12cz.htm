<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>QueryContextAttributes</title>
<link disabled rel=stylesheet href=../../../backsdk3.css>
<style type="text/css">
@import url(../../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h1><a name="_win32_querycontextattributes"></a>QueryContextAttributes</h1>
<p>
The <b>QueryContextAttributes</b> function enables a transport application to query a security package for certain attributes of a security context.</p>
<pre><code><b>SECURITY_STATUS QueryContextAttributes(
  PCtxtHandle</b><i> phContext<b>,</b></i>   // handle of the context to query
<b>  ULONG</b><i> ulAttribute<b>,</b></i>   // attribute to query
<b>  PVOID</b><i> pBuffer</i>        // buffer for attributes
<b>);</b>
 </code></pre>
<h4>Parameters</h4>
<dl>
<dt>
<i>phContext</i></dt>
<dd>
Handle to the context to be queried.</dd>
<dt>
<i>ulAttribute</i></dt>
<dd>
Specifies the attribute of the context to be returned. This parameter can be one of the following values.
<table cellspacing=4 cols=2>
<tr valign=top>
<th align=left width=39%>Value</th>
<th align=left width=61%>Meaning</th>
</tr>
<tr valign=top>
<td width=39%>SECPKG_ATTR_SIZES</td>
<td width=61%>Query the sizes of the structures used in the per-message functions. The <i>pBuffer</i> parameter is a pointer to a <a href="issp_6blf.htm"><b>SecPkgContext_Sizes</b></a> structure.</td>
</tr>
<tr valign=top>
<td width=39%>SECPKG_ATTR_NAMES</td>
<td width=61%>Query the name associated with the context. The <i>pBuffer</i> parameter is a pointer to a <a href="issp_29f7.htm"><b>SecPkgContext_Names</b></a> structure.</td>
</tr>
<tr valign=top>
<td width=39%>SECPKG_ATTR_LIFESPAN</td>
<td width=61%>Query the life span of the context. <i>pBuffer</i> is a pointer to a <a href="issp_3xda.htm"><b>SecPkgContext_Lifespan</b></a> structure.</td>
</tr>
<tr valign=top>
<td width=39%>SECPKG_ATTR_DCE_INFO</td>
<td width=61%>Query for authorization data used by DCE services. <i>pBuffer</i> is a pointer to a <a href="issp_8p2n.htm"><b>SecPkgContext_DceInfo</b></a> structure.</td>
</tr>
<tr valign=top>
<td width=39%>SECPKG_ATTR_STREAM_SIZES</td>
<td width=61%>Query the sizes of the various stream components used in the per-message functions. The <i>pBuffer</i> parameter is a pointer to a <a href="issp_888j.htm"><b>SecPkgContext_StreamSizes</b></a> structure.</td>
</tr>
<tr valign=top>
<td width=39%>SECPKG_ATTR_AUTHORITY</td>
<td width=61%>Query the name of the authenticating authority. The <i>pBuffer</i> parameter is a pointer to a <a href="issp_44qh.htm"><b>SecPkgContext_Authority</b></a> structure.</td>
</tr>
<tr valign=top>
<td width=39%>SECPKG_ATTR_KEY_INFO</td>
<td width=61%>Query information about the keys used in a security context. The <i>pBuffer</i> parameter is a pointer to a <a href="issp_6qy7.htm"><b>SecPkgContext_KeyInfo</b></a> structure.</td>
</tr>
</table><br>

</dd>
<dt>
<i>pBuffer</i></dt>
<dd>
Pointer to a structure that receives the attributes. The type of structure pointed to depends on the value specified in the <i>ulAttribute</i> parameter. </dd>
</dl>
<h4>Return Values</h4>
<p>
If the function succeeds, the return value is SEC_E_OK.</p>
<p>
If the function fails, the return value is a nonzero error code.</p>
<h4>Remarks</h4>
<p>
The structure pointed to by the <i>pBuffer</i> parameter varies, depending on the attribute being queried. The caller must allocate the structure itself, but the package allocates other pointers that are returned in the structure. Any pointers allocated by the package can be freed by calling the <b>FreeContextBuffer</b><i> </i>function<i>.</i> </p>
<h4>See Also</h4>
<dl>
<dt>
<a href="issp_2y42.htm"><b>FreeContextBuffer</b></a>, <a href="issp_8p2n.htm"><b>SecPkgContext_DceInfo</b></a>, <a href="issp_3xda.htm"><b>SecPkgContext_Lifespan</b></a>, <a href="issp_29f7.htm"><b>SecPkgContext_Names</b></a>, <a href="issp_6blf.htm"><b>SecPkgContext_Sizes</b></a>, <a href="issp_888j.htm"><b>SecPkgContext_StreamSizes</b></a> </dt>
</dl>
<p>&nbsp;</p></body>
</HTML>
