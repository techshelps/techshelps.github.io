<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Database Transactions</title>
<link disabled rel=stylesheet href=../../backsdk3.css>
<style type="text/css">
@import url(../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h1><a name="_zaw_database_transactions"></a>Database Transactions</h1>
<p>
<span style=color:#FF0000>[This is preliminary documentation and subject to change.]</span> </p>
<p>
The RSM database uses write transactions to perform updates using the journal file. To begin an update, the application (RSM system code transactions are not externalized) begins a transaction. All database records that are updated, inserted, or deleted are written into a journal file. When database updates are complete, the application issues a commit or a rollback command. </p>
<p>
The commit command flushes the journal file, then sets a commit state in the journal file indicating that this journal has been committed. The commit command then flushes the commit state and begins the in-place update of the database data file (NTMSDATA). The journal file is removed when the update of NTMSDATA and its replica is complete. If RSM is terminated during the commit operation, the journal file is replayed when the service is restarted and all database consistency reconstruction is complete. This occurs only if the commit state is indicated in the journal file. If the journal has not been committed, it is discarded, since it is part of an incomplete transaction.</p>
<p>
The rollback command deletes the journal file. The NTMSDATA file remains unchanged.</p>
<p>&nbsp;</p></body>
</HTML>
