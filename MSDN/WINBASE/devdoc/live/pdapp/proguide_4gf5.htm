<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Allocating Optical/Rewritable Random Access Media</title>
<link disabled rel=stylesheet href=../../backsdk3.css>
<style type="text/css">
@import url(../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h2><a name="_zaw_allocating_optical_rewritable_random_access_media"></a>Allocating Optical/Rewritable Random Access Media</h2>
<p>
<span style=color:#FF0000>[This is preliminary documentation and subject to change.]</span> </p>
<p>
To obtain media to use, an application uses the <a href="ntms_api_6275.htm"><b>AllocateNtmsMedia</b></a><i> </i>function, specifying a media pool from which to obtain the medium. The <b>AllocateNtmsMedia</b> function assigns media to the application and returns a logical media identifier (<a href="ntmsglos_6ni1.htm#_zaw_lmid_gly">LMID</a>) to the application. Only media in online libraries can be allocated to the application. To allocate both sides of the specified medium, the application can use the New and Next options to allocate. New returns media that has both sides available and reserves the reverse side. Using the Next option and specifying the LMID of a side already allocated, the application can obtain an LMID for the reverseside of the medium </p>
<p>
The media pool can be set up to automatically draw from the Scratch pool upon allocation. If no media are available in its media pool, RSM automatically moves online media from the Scratch pool and assigns it to the application. If no media are available, RSM generates an operator request for new media. </p>
<p>
Because the application is not guaranteed the type of label on a medium, the application is required to write its own label on the medium and use the <b>UpdateNtmsOmidInfo</b> function to notify RSM of the new label identifier. This does not have to be done immediately after the allocate command, because RSM can use the current label identifier until the current owner overwrites the label. After the application overwrites the label, it must notify RSM of the change as soon as possible to prevent a mismatch between the RSM version of the label and the actual label. If the application does not notify RSM of the label change, the media is moved to the Import pool, and the application must import<i> </i>the media to be able to access it again.</p>
<p>&nbsp;</p></body>
</HTML>
