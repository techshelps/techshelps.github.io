<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>NTMS_LIBREQUESTINFORMATION</title>
<link disabled rel=stylesheet href=../../backsdk3.css>
<style type="text/css">
@import url(../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h1><a name="_zaw_ntms_librequestinformation"></a>NTMS_LIBREQUESTINFORMATION</h1>
<p>
<span style=color:#FF0000>[This is preliminary documentation and subject to change.]</span> </p>
<p>
The <b>NTMS_LIBREQUESTINFORMATION</b> data structure defines the properties specific to a work request, which are queued to RSM.</p>
<pre><code>typedef struct _NTMS_LIBREQUESTINFORMATION {
    DWORD      OperationCode;
    DWORD      OperationOption;
    DWORD      State;
    NTMS_GUID  PartitionId;
    NTMS_GUID  DriveId;
    NTMS_GUID  PhysMediaId;
    NTMS_GUID  Library;    
    NTMS_GUID  SlotId;    
    SYSTEMTIME TimeQueued;
    SYSTEMTIME TimeCompleted;
    TCHAR      szApplication[NTMS_APPLICATIONNAME_LENGTH];
    TCHAR      szUser[NTMS_USERNAME_LENGTH];
    TCHAR      szComputer[NTMS_COMPUTERNAME_LENGTH];
    DWORD      dwErrorCode;
    NTMS_GUID  WorkItemId;
} NTMS_LIBREQUESTINFORMATION;
 </code></pre>
<h4>Members</h4>
<dl>
<dt>
<b>OperationCode</b></dt>
<dd>
Item operation. This can be one of the following values.
<table cellspacing=4 cols=2>
<tr valign=top>
<th align=left width=48%>Value</th>
<th align=left width=52%>Meaning</th>
</tr>
<tr valign=top>
<td width=48%>NTMS_LM_CLASSIFY</td>
<td width=52%>Classify the medium.</td>
</tr>
<tr valign=top>
<td width=48%>NTMS_LM_CLEANDRIVE</td>
<td width=52%>Clean a drive.</td>
</tr>
<tr valign=top>
<td width=48%>NTMS_LM_DISABLELIBRARY</td>
<td width=52%>Disable the changer.</td>
</tr>
<tr valign=top>
<td width=48%>NTMS_LM_DISABLEDRIVE</td>
<td width=52%>Disable a drive.</td>
</tr>
<tr valign=top>
<td width=48%>NTMS_LM_DISABLEMEDIA</td>
<td width=52%>Disable the medium.</td>
</tr>
<tr valign=top>
<td width=48%>NTMS_LM_DISMOUNT</td>
<td width=52%>Dismount the medium from a drive.</td>
</tr>
<tr valign=top>
<td width=48%>NTMS_LM_DOORACCESS</td>
<td width=52%>Allow access to media through a library unit door.</td>
</tr>
<tr valign=top>
<td width=48%>NTMS_LM_EJECT</td>
<td width=52%>Eject the medium from the library.</td>
</tr>
<tr valign=top>
<td width=48%>NTMS_LM_EJECTCLEANER</td>
<td width=52%>Eject a cleaner.</td>
</tr>
<tr valign=top>
<td width=48%>NTMS_LM_ENABLELIBRARY</td>
<td width=52%>Enable the changer.</td>
</tr>
<tr valign=top>
<td width=48%>NTMS_LM_ENABLEDRIVE</td>
<td width=52%>Enable a drive.</td>
</tr>
<tr valign=top>
<td width=48%>NTMS_LM_ENABLEMEDIA</td>
<td width=52%>Enable the medium.</td>
</tr>
<tr valign=top>
<td width=48%>NTMS_LM_INJECT</td>
<td width=52%>Insert the medium into the library.</td>
</tr>
<tr valign=top>
<td width=48%>NTMS_LM_INJECTCLEANER</td>
<td width=52%>Insert a cleaner.</td>
</tr>
<tr valign=top>
<td width=48%>NTMS_LM_INVENTORY</td>
<td width=52%>Perform an inventory of the library.</td>
</tr>
<tr valign=top>
<td width=48%>NTMS_LM_MOUNT</td>
<td width=52%>Mount a partition to a drive.</td>
</tr>
<tr valign=top>
<td width=48%>NTMS_LM_PROCESSOMID</td>
<td width=52%>Process the <a href="ntmsglos_5fnd.htm#_zaw_omid_gly">OMID</a>. </td>
</tr>
<tr valign=top>
<td width=48%>NTMS_LM_RELEASECLEANER</td>
<td width=52%>Release a cleaner slot.</td>
</tr>
<tr valign=top>
<td width=48%>NTMS_LM_REMOVE</td>
<td width=52%>Remove a work item from the queue.</td>
</tr>
<tr valign=top>
<td width=48%>NTMS_LM_RESERVECLEANER </td>
<td width=52%>Reserve a cleaner slot.</td>
</tr>
<tr valign=top>
<td width=48%>NTMS_LM_UPDATEOMID</td>
<td width=52%>Update the OMID.</td>
</tr>
<tr valign=top>
<td width=48%>NTMS_LM_WRITESCRATCH </td>
<td width=52%>Write a scratch label.</td>
</tr>
</table><br>

</dd>
<dt>
<b>OperationOption</b></dt>
<dd>
Work item options (command specific).</dd>
<dt>
<b>State</b></dt>
<dd>
Current state of this work item. This can be one of the following values.
<table cellspacing=4 cols=2>
<tr valign=top>
<th align=left width=48%>Value</th>
<th align=left width=52%>Meaning</th>
</tr>
<tr valign=top>
<td width=48%>NTMS_LM_QUEUED</td>
<td width=52%>Operation is queued.</td>
</tr>
<tr valign=top>
<td width=48%>NTMS_LM_INPROCESS</td>
<td width=52%>Operation is being processed.</td>
</tr>
<tr valign=top>
<td width=48%>NTMS_LM_PASSED</td>
<td width=52%>Operation completed successfully.</td>
</tr>
<tr valign=top>
<td width=48%>NTMS_LM_FAILED</td>
<td width=52%>Operation has completed with an error.</td>
</tr>
<tr valign=top>
<td width=48%>NTMS_LM_WAITING</td>
<td width=52%>Operation is blocked.</td>
</tr>
<tr valign=top>
<td width=48%>NTMS_LM_CANCELLED</td>
<td width=52%>Operation has been canceled.</td>
</tr>
<tr valign=top>
<td width=48%>NTMS_LM_INVALID</td>
<td width=52%>Operation is invalid.</td>
</tr>
</table><br>

</dd>
<dt>
<b>PartitionId</b></dt>
<dd>
Unique identifier of a partition being serviced.</dd>
<dt>
<b>DriveId</b></dt>
<dd>
Unique identifier of a drive being serviced.</dd>
<dt>
<b>PhysMediaId</b></dt>
<dd>
Unique identifier of a piece of physical media being serviced.</dd>
<dt>
<b>Library</b></dt>
<dd>
Library for this request.</dd>
<dt>
<b>SlotId</b></dt>
<dd>
Unique identifier of a slot of the piece of physical media being serviced.</dd>
<dt>
<b>TimeQueued</b></dt>
<dd>
System time that this request was queued to RSM.</dd>
<dt>
<b>TimeCompleted</b></dt>
<dd>
System time that this request was completed by RSM.</dd>
<dt>
<b>szApplication</b></dt>
<dd>
Application that submitted the operator request.</dd>
<dt>
<b>szUser</b></dt>
<dd>
Interactive user logged on to the computer that submitted the operator request.</dd>
<dt>
<b>szComputer</b></dt>
<dd>
Computer that submitted the operator request.</dd>
<dt>
<b>dwErrorCode</b></dt>
<dd>
Error return for requests that return with state NTMS_LM_FAILED. This is a Win32 error code.</dd>
<dt>
<b>WorkItemId</b></dt>
<dd>
Associated work item ID for this request. This is currently used to contain the work item ID to be canceled on an NTMS_LM_REMOVE request.
</dd>
</dl>
<h4>Remarks</h4>
<p>
The <b>NTMS_LIBREQUESTINFORMATION</b> data structure is part of the <b>NTMS_OBJECTINFORMATION</b> structure and is not used separately.</p>
<p>
GUID in the workitmes may become invalid over time. For example, an eject of a scratch medium will delete the PMID after the media is ejected. However the work item is not updated upon completion of the eject.</p>
<h4>QuickInfo</h4>
<p>
<b>&nbsp;&nbsp;Windows NT: </b>Requires version 5.0 or later.<br>
<b>&nbsp;&nbsp;Windows: </b>Unsupported.<br>
<b>&nbsp;&nbsp;Windows CE: </b>Unsupported.<br>
<b>&nbsp;&nbsp;Header: </b>Declared in ntmsapi.h.<br>
<b>&nbsp;&nbsp;Import Library: </b>Use ntmsapi.lib.</p>
<p>&nbsp;</p></body>
</HTML>
