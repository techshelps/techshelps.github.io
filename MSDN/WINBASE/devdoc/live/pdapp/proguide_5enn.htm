<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Using Basic RSM Functions</title>
<link disabled rel=stylesheet href=../../backsdk3.css>
<style type="text/css">
@import url(../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h1><a name="_zaw_using_basic_rsm_functions"></a>Using Basic RSM Functions</h1>
<p>
<span style=color:#FF0000>[This is preliminary documentation and subject to change.]</span> </p>
<p>
This section describes the typical life cycle of RSM media. Most media in RSM follows the same path; variations from this path are provoked by unusual situations. An example of an unusual situation is introducing media from one RSM system into another.</p>
<p>
The following figure illustrates the typical media pool cycle of RSM media.</p>
<p>
<img src="images/progd8.gif" border=0></p>
<p>
When an unrecognized medium is inserted into an online library, RSM typically puts the medium in the foreign media pool. The administrator or your application can move the medium to the appropriate scratch media pool using the <a href="ntms_api_95po.htm"><b>MoveToNtmsMediaPool</b></a> function.</p>
<p>
The following figure illustrates the typical media state cycle of RSM media.</p>
<p>
<img src="images/progd9.gif" border=0></p>
<p>
When a new medium is inserted into an online library, RSM typically sets the medium's state to Foreign. When the administrator or your application moves the medium to a scratch media pool, RSM sets the medium's state to Available. You can use the <a href="ntms_api_6275.htm"><b>AllocateNtmsMedia</b></a> function to allocate Available media in the application media pool. If there are no Available media in the application media pool and the <b>Draw from Scratch</b> option is set to True, RSM allocates media from a scratch media pool. After you allocate media, you can use the <a href="ntms_api_11k1.htm"><b>MountNtmsMedia</b></a> function to mount and write to the medium.</p>
<p>
<b>Note</b>&nbsp;&nbsp;When you use the <b>MountNtmsMedia</b> function to mount tape media, remember that your application must specifically set the drive to fixed or variable block mode. Your application cannot assume that the device is in the default mode. You can use the Microsoft® Win32® function, <a href="../pdwbase/tapeback_0lmb.htm"><b>SetTapeParameters</b></a> to set the drive mode.</p>
<p>
When you do not want to record any more information on the medium, you can set the medium's state to Completed using the <a href="ntms_api_4p5x.htm"><b>SetNtmsMediaComplete</b></a> function. Typically, Completed media will not be written to again. Placing a medium in the Completed state allows a management application to replicate or refresh the media.</p>
<p>
Media that hold less vital information and are recorded on many times are typically decommissioned after the maximum number of allocations. Only Available media can be decommissioned, so you must use the <a href="ntms_api_9lwh.htm"><b>DeallocateNtmsMedia</b></a> function before you can decommission a piece of media. You can use the <a href="ntms_api_1noh.htm"><b>DecommissionNtmsMedia</b></a> function to decommission Available media.</p>
<p>
After you deallocate media, you can leave the media in the application media pool or move it to a scratch media pool so that it can be used by other applications. Your application can reallocate Available media that remains in the application media pool until it has reached its allocation maximum (determined by the administrator or an application).</p>
<p>&nbsp;</p></body>
</HTML>
