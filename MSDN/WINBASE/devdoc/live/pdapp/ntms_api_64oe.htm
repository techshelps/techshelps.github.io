<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>NTMS_OPREQUESTINFORMATION</title>
<link disabled rel=stylesheet href=../../backsdk3.css>
<style type="text/css">
@import url(../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h1><a name="_zaw_ntms_oprequestinformation"></a>NTMS_OPREQUESTINFORMATION</h1>
<p>
<span style=color:#FF0000>[This is preliminary documentation and subject to change.]</span> </p>
<p>
The <b>NTMS_OPREQUESTINFORMATION</b> data structure defines the properties specific to operator-request system control for RSM.</p>
<pre><code>typedef struct _NTMS_OPREQUESTINFORMATION {
    DWORD        Request;
    SYSTEMTIME   Submitted;
    DWORD        State;
    TCHAR        szMessage[NTMS_MESSAGE_LENGTH];
    DWORD        Arg1Type;
    NTMS_GUID    Arg1;
    DWORD        Arg2Type;
    NTMS_GUID    Arg2;
    TCHAR        szApplication[NTMS_APPLICATIONNAME_LENGTH];
    TCHAR        szUser[NTMS_USERNAME_LENGTH];
    TCHAR        szComputer[NTMS_COMPUTERNAME_LENGTH];
} NTMS_OPREQUESTINFORMATION;
 </code></pre>
<h4>Members</h4>
<dl>
<dt>
<b>Request</b></dt>
<dd>
Type of operator request. This can be one of the following values.
<table cellspacing=4 cols=2>
<tr valign=top>
<th align=left width=48%>Value</th>
<th align=left width=52%>Meaning</th>
</tr>
<tr valign=top>
<td width=48%>NTMS_OPREQ_NEWMEDIA</td>
<td width=52%>An application attempting to allocate media sends an operator request for new media when no media is available. When this flag is set, the Arg1 member should be set to the GUID of the media pool requiring new media. Optionally, the Arg2 parameter can be set to the particular library in which the new media should be placed. </td>
</tr>
<tr valign=top>
<td width=48%>NTMS_OPREQ_CLEANER</td>
<td width=52%>RSM sends an operator request for a cleaner when a clean operation is queued and no cleaner is online and available to the drive. When this flag is set, the Arg1 member should be set to the GUID of the library requiring the cleaning cartridge.</td>
</tr>
<tr valign=top>
<td width=48%>NTMS_OPREQ_DEVICESERVICE</td>
<td width=52%>An application or RSM sends an operator request for drive service when a changer device or drive is experiencing problems. When this flag is set, the Arg1 member should be set to the GUID of the device requiring service.</td>
</tr>
<tr valign=top>
<td width=48%>NTMS_OPREQ_MOVEMEDIA</td>
<td width=52%>An application or RSM sends an operator request to move the specified medium to service a mount for offline media or to eject media to an offline library. When this flag is set, the Arg1 member should be set to the GUID of the physical media to move and the Arg2 member should be set to the GUID of the library this media should be moved to.</td>
</tr>
<tr valign=top>
<td width=48%>NTMS_OPREQ_MESSAGE</td>
<td width=52%>An application-specific operator request. Text only.</td>
</tr>
</table><br>

</dd>
<dt>
<b>Submitted</b></dt>
<dd>
System time when the operator request was submitted.</dd>
<dt>
<b>State</b></dt>
<dd>
Current state of the operator service request. This can be one of the following values.
<table cellspacing=4 cols=2>
<tr valign=top>
<th align=left width=48%>Value</th>
<th align=left width=52%>Meaning</th>
</tr>
<tr valign=top>
<td width=48%>NTMS_OPSTATE_SUBMITTED</td>
<td width=52%>The operator request has been submitted but not read by an operator console.</td>
</tr>
<tr valign=top>
<td width=48%>NTMS_OPSTATE_ACTIVE</td>
<td width=52%>The operator request has been read by one or more operator consoles and might be in process.</td>
</tr>
<tr valign=top>
<td width=48%>NTMS_OPSTATE_INPROGRESS</td>
<td width=52%>The user has acknowledged this operator request and is in the process of performing the service.</td>
</tr>
<tr valign=top>
<td width=48%>NTMS_OPSTATE_REFUSED</td>
<td width=52%>The user has rejected the operator service request.</td>
</tr>
<tr valign=top>
<td width=48%>NTMS_OPSTATE_COMPLETE</td>
<td width=52%>The user has completed the operator service request.</td>
</tr>
</table><br>

</dd>
<dt>
<b>szMessage</b></dt>
<dd>
Operator message text.</dd>
<dt>
<b>Arg1Type</b></dt>
<dd>
Type of the Arg1 object. This can be one of the following values.
<table cellspacing=4 cols=2>
<tr valign=top>
<th align=left width=48%>Value</th>
<th align=left width=52%>Meaning</th>
</tr>
<tr valign=top>
<td width=48%>NTMS_UNKNOWN</td>
<td width=52%>No object provided in <b>Arg1Type</b>.</td>
</tr>
<tr valign=top>
<td width=48%>NTMS_CHANGER</td>
<td width=52%>Medium changer object.</td>
</tr>
<tr valign=top>
<td width=48%>NTMS_DRIVE</td>
<td width=52%>Drive object.</td>
</tr>
<tr valign=top>
<td width=48%>NTMS_IEDOOR</td>
<td width=52%>Library door object.</td>
</tr>
<tr valign=top>
<td width=48%>NTMS_IEPORT.</td>
<td width=52%>Library IE port object</td>
</tr>
<tr valign=top>
<td width=48%>NTMS_LIBRARY</td>
<td width=52%>Library object.</td>
</tr>
<tr valign=top>
<td width=48%>NTMS_PARTITION</td>
<td width=52%>Partition object.</td>
</tr>
<tr valign=top>
<td width=48%>NTMS_PHYSICAL_MEDIA</td>
<td width=52%>Physical media object.</td>
</tr>
<tr valign=top>
<td width=48%>NTMS_STORAGESLOT</td>
<td width=52%>Library slot object.</td>
</tr>
</table><br>

</dd>
<dt>
<b>Arg1</b></dt>
<dd>
Arg1 object ID used for move requests or other operator requests that require a reference object. The purpose of this object varies based on the type of operator request. For appropriate uses of <b>Arg1</b>, see the <b>Request</b> description.</dd>
<dt>
<b>Arg2Type</b></dt>
<dd>
Type of Arg2 object. This can be one of the following values.
<table cellspacing=4 cols=2>
<tr valign=top>
<th align=left width=48%>Value</th>
<th align=left width=52%>Meaning</th>
</tr>
<tr valign=top>
<td width=48%>NTMS_UNKNOWN</td>
<td width=52%>No object provided in <b>Arg2Type</b>.</td>
</tr>
<tr valign=top>
<td width=48%>NTMS_LIBRARY</td>
<td width=52%>Library object.</td>
</tr>
</table><br>

</dd>
<dt>
<b>Arg2</b></dt>
<dd>
Arg2 object ID used for operator requests that require a second reference object. The purpose of this object varies based on the type of operator request. For appropriate uses of <b>Arg2</b>, see the <b>Request</b> description.</dd>
<dt>
<b>SzApplication</b></dt>
<dd>
The application that submitted the operator request.</dd>
<dt>
<b>szUser</b></dt>
<dd>
The interactive user logged on to the computer that submitted the operator request.</dd>
<dt>
<b>szComputer</b></dt>
<dd>
The computer that submitted the operator request.
</dd>
</dl>
<h4>Remarks</h4>
<p>
The <b>NTMS_OPREQUESTINFORMATION</b> data structure is part of the <b>NTMS_OBJECTINFORMATION</b> structure and is not used separately.</p>
<h4>QuickInfo</h4>
<p>
<b>&nbsp;&nbsp;Windows NT: </b>Requires version 5.0 or later.<br>
<b>&nbsp;&nbsp;Windows: </b>Unsupported.<br>
<b>&nbsp;&nbsp;Windows CE: </b>Unsupported.<br>
<b>&nbsp;&nbsp;Header: </b>Declared in ntmsapi.h.<br>
<b>&nbsp;&nbsp;Import Library: </b>Use ntmsapi.lib.</p>
<p>&nbsp;</p></body>
</HTML>
