<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>NTMS_DRIVEINFORMATION</title>
<link disabled rel=stylesheet href=../../backsdk3.css>
<style type="text/css">
@import url(../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h1><a name="_zaw_ntms_driveinformation"></a>NTMS_DRIVEINFORMATION</h1>
<p>
<span style=color:#FF0000>[This is preliminary documentation and subject to change.]</span> </p>
<p>
The <b>NTMS_DRIVEINFORMATION</b> data structure defines properties specific to a drive object.</p>
<pre><code>typedef struct _NTMS_DRIVEINFORMATION {
    DWORD        Number;
    DWORD        State;
    NTMS_GUID    DriveType;
    TCHAR        szSerialNumber[NTMS_SERIALNUMBER_LENGTH];
    TCHAR        szRevision[NTMS_REVISION_LENGTH];
    TCHAR        szDeviceName[NTMS_DEVICENAME_LENGTH];
    WORD         ScsiPort;
    WORD         ScsiBus;
    WORD         ScsiTarget;
    WORD         ScsiLun;
    SYSTEMTIME   LastCleanedTs;
    DWORD        dwMountCount;
    NTMS_GUID    SavedPartitionId;
    NTMS_GUID    Library;
    GUID         Reserved;
    DWORD        dwDeferDismountDelay;
} NTMS_DRIVEINFORMATION;
 </code></pre>
<h4>Members</h4>
<dl>
<dt>
<b>Number</b></dt>
<dd>
Number of the drive in the library. This is set zero or one relative the value based on the drive numbering system of the device. Some changers number drives beginning with zero, and some changers begin with one. </dd>
<dt>
<b>State</b></dt>
<dd>
State of the drive. This can be one of the following values.
<table cellspacing=4 cols=2>
<tr valign=top>
<th align=left width=51%>Value</th>
<th align=left width=49%>Meaning</th>
</tr>
<tr valign=top>
<td width=51%>NTMS_DRIVESTATE_BEING_CLEANED</td>
<td width=49%>The drive is being cleaned and is unavailable.</td>
</tr>
<tr valign=top>
<td width=51%>NTMS_DRIVESTATE_DISMOUNTABLE</td>
<td width=49%>If a library is set for lazy dismounts, the  medium might be left in the library's drive on a dismount. RSM can satisfy mount requests for loaded and dismounted drives.</td>
</tr>
<tr valign=top>
<td width=51%>NTMS_DRIVESTATE_DISMOUNTED</td>
<td width=49%>No medium in the drive.</td>
</tr>
<tr valign=top>
<td width=51%>NTMS_DRIVESTATE_LOADED</td>
<td width=49%>The  medium is mounted in the drive and is loaded for read and write access.</td>
</tr>
<tr valign=top>
<td width=51%>NTMS_DRIVESTATE_MOUNTED</td>
<td width=49%>The  medium is mounted in the drive but is not ready for read and write access. This is a temporary state that is used while a drive is waiting for spindle synchronization or loading tape media into the head mechanism.</td>
</tr>
<tr valign=top>
<td width=51%>NTMS_DRIVESTATE_UNLOADED</td>
<td width=49%>The medium has been dismounted by the drive and is ready to be opened. This state indicates that the spindle has stopped or a tape media has been returned to the tape cartridge.</td>
</tr>
</table><br>

</dd>
<dt>
<b>DriveType</b></dt>
<dd>
The drive type object containing the attributes for the drive.</dd>
<dt>
<b>szSerialNumber</b></dt>
<dd>
A serial number for the drive represented as a string. Devices that do not support serial numbers report NULL for this member. </dd>
<dt>
<b>szRevision</b></dt>
<dd>
A revision for the drive represented as a string.</dd>
<dt>
<b>szDeviceName</b></dt>
<dd>
Name of the device used to access the drive. For a tape drive this contains the device name \\.\tape0 or \\.\tape1. Other devices provide the name of a SCSI disk drive or the root of a file system that currently has the device mounted (raw, NTFS, FAT and so forth.).</dd>
<dt>
<b>ScsiPort</b></dt>
<dd>
SCSI host adapter to which the drive is connected.</dd>
<dt>
<b>ScsiBus</b></dt>
<dd>
SCSI bus to which the drive is connected.</dd>
<dt>
<b>ScsiTarget</b></dt>
<dd>
SCSI target ID for the drive.</dd>
<dt>
<b>ScsiLun</b></dt>
<dd>
SCSI logical unit ID for the drive.</dd>
<dt>
<b>LastCleanedTs</b></dt>
<dd>
Last time the drive was cleaned.</dd>
<dt>
<b>dwMountCount</b></dt>
<dd>
Number of times the drive has had a medium mounted to it. If the drive supports the reporting of a unique serial number, this value is the number of times the drive has been mounted since it was installed. If the drive does not support the reporting of serial numbers, this member reflects the number of mounts to all of the drives at that location. </dd>
<dt>
<b>SavedPartitionId</b></dt>
<dd>
Partition ID of the medium that is in the drive. If this value is NULL and the drive is found to be full, the media was loaded by a user and needs to be classified. </dd>
<dt>
<b>Library</b></dt>
<dd>
Unique ID of the library that contains the drive.</dd>
<dt>
<b>Reserved</b></dt>
<dd>
Reserved.</dd>
<dt>
<b>dwDeferDismountDelay</b></dt>
<dd>
Minimum number of seconds a medium will remain in a drive of an online library after a deferred dismount has been performed. The default is 5 minutes. This member does not apply to standalone libraries. This member is writable.
</dd>
</dl>
<h4>Remarks</h4>
<p>
The <b>NTMS_DRIVEINFORMATION</b> data structure is part of the <b>NTMS_OBJECTINFORMATION</b> structure used for the <b>GetNtmsObjectInformation</b> and <b>SetNtmsObjectInformation</b> functions.</p>
<h4>QuickInfo</h4>
<p>
<b>&nbsp;&nbsp;Windows NT: </b>Requires version 5.0 or later.<br>
<b>&nbsp;&nbsp;Windows: </b>Unsupported.<br>
<b>&nbsp;&nbsp;Windows CE: </b>Unsupported.<br>
<b>&nbsp;&nbsp;Header: </b>Declared in ntmsapi.h.<br>
<b>&nbsp;&nbsp;Import Library: </b>Use ntmsapi.lib.</p>
<p>&nbsp;</p></body>
</HTML>
