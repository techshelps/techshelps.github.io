<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>RegNotifyChangeKeyValue</title>
<link disabled rel=stylesheet href=../../backsdk3.css>
<style type="text/css">
@import url(../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h1><a name="_win32_regnotifychangekeyvalue"></a>RegNotifyChangeKeyValue</h1>
<p>
The <b>RegNotifyChangeKeyValue</b> function notifies the caller about changes to the attributes or contents of a specified registry key. Note that the function does not notify the caller if the specified key is deleted.</p>
<pre><code><b>LONG RegNotifyChangeKeyValue(
  HKEY</b><i> hKey</i><b>,             </b>// handle to key to watch
<b>  BOOL</b><i> bWatchSubtree</i><b>,    </b>// flag for subkey notification
<b>  DWORD</b><i> dwNotifyFilter</i><b>,  </b>// changes to be reported
<b>  HANDLE</b><i> hEvent</i><b>,         </b>// handle to signaled event
<b>  BOOL</b><i> fAsynchronous</i>     // flag for asynchronous reporting
<b>);</b>
 </code></pre>
<h4>Parameters</h4>
<dl>
<dt>
<i>hKey</i></dt>
<dd>
Handle to a currently open key or any of the following predefined reserved handle values: 
<p>
<b>HKEY_CLASSES_ROOT</b><br>
<b>HKEY_CURRENT_CONFIG</b><br>
<b>HKEY_CURRENT_USER</b><br>
<b>HKEY_LOCAL_MACHINE</b><br>
<b>HKEY_USERS</b>
</dd>
<dt>
<i>bWatchSubtree</i></dt>
<dd>
Specifies a flag that indicates whether to report changes in the specified key and all of its subkeys or only in the specified key. If this parameter is TRUE, the function reports changes in the key and its subkeys. If the parameter is FALSE, the function reports changes only in the key. </dd>
<dt>
<i>dwNotifyFilter</i></dt>
<dd>
Specifies a set of flags that control which changes should be reported. This parameter can be a combination of the following values: 
<table cellspacing=4 cols=2>
<tr valign=top>
<th align=left width=56%>Value</th>
<th align=left width=44%>Meaning</th>
</tr>
<tr valign=top>
<td width=56%>REG_NOTIFY_CHANGE_NAME</td>
<td width=44%>Notify the caller if a subkey is added or deleted.</td>
</tr>
<tr valign=top>
<td width=56%>REG_NOTIFY_CHANGE_ATTRIBUTES</td>
<td width=44%>Notify the caller of changes to the attributes of the key, such as the security descriptor information. </td>
</tr>
<tr valign=top>
<td width=56%>REG_NOTIFY_CHANGE_LAST_SET</td>
<td width=44%>Notify the caller of changes to a value of the key. This can include adding or deleting a value, or changing an existing value. </td>
</tr>
<tr valign=top>
<td width=56%>REG_NOTIFY_CHANGE_SECURITY</td>
<td width=44%>Notify the caller of changes to the security descriptor of the key. </td>
</tr>
</table><br>

</dd>
<dt>
<i>hEvent</i></dt>
<dd>
Handle to an event. If the <i>fAsynchronous</i> parameter is TRUE, the function returns immediately and changes are reported by signaling this event. If <i>fAsynchronous</i> is FALSE, <i>hEvent</i> is ignored. </dd>
<dt>
<i>fAsynchronous</i></dt>
<dd>
Specifies a flag that indicates how the function reports changes. If this parameter is TRUE, the function returns immediately and reports changes by signaling the specified event. When this parameter is FALSE, the function does not return until a change has occurred. 
<p>
If <i>hEvent</i> does not specify a valid event, the <i>fAsynchronous</i> parameter cannot be TRUE. 

</dd>
</dl>
<h4>Return Values</h4>
<p>
If the function succeeds, the return value is ERROR_SUCCESS.</p>
<p>
If the function fails, the return value is a nonzero error code defined in WINERROR.H. You can use the <a href="strings_0sdh.htm"><b>FormatMessage</b></a> function with the FORMAT_MESSAGE_FROM_SYSTEM flag to get a generic description of the error.</p>
<h4>Remarks</h4>
<p>
If the key identified by the <i>hKey</i> parameter is closed, the event is signaled. This means that an application should not depend on the key being open after returning from a wait operation on the event. </p>
<p>
<b>RegNotifyChangeKeyValue</b> does not work with remote handles. If <b>RegNotifyChangeKeyValue</b> is called with an <i>hKey</i> value that is a remote handle, it returns ERROR_INVALID_HANDLE. </p>
<h4>QuickInfo</h4>
<p>
<b>&nbsp;&nbsp;Windows NT: </b>Requires version 3.1 or later.<br>
<b>&nbsp;&nbsp;Windows: </b>Requires Windows 98 or later.<br>
<b>&nbsp;&nbsp;Windows CE: </b>Unsupported.<br>
<b>&nbsp;&nbsp;Header: </b>Declared in winreg.h.<br>
<b>&nbsp;&nbsp;Import Library: </b>Use advapi32.lib.</p>
<h4>See Also</h4>
<p>
<a href="regapi_9bzt.htm">Registry Overview</a>, <a href="regapi_59mb.htm">Registry Functions</a>, <a href="regapi_1po9.htm"><b>RegDeleteKey</b></a>, <a href="regapi_1juh.htm"><b>RegEnumKey</b></a>, <a href="regapi_4854.htm"><b>RegEnumKeyEx</b></a>, <a href="regapi_65yd.htm"><b>RegEnumValue</b></a>, <a href="regapi_5xkp.htm"><b>RegQueryInfoKey</b></a>, <a href="regapi_05np.htm"><b>RegQueryValue</b></a>, <a href="regapi_3wzc.htm"><b>RegQueryValueEx</b></a> </p>
<p>&nbsp;</p></body>
</HTML>
