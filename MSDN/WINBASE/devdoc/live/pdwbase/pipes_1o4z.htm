<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Anonymous Pipe Operations</title>
<link disabled rel=stylesheet href=../../backsdk3.css>
<style type="text/css">
@import url(../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h3><a name="_win32_anonymous_pipe_operations"></a>Anonymous Pipe Operations</h3>
<p>
The <a href="pipes_43j9.htm"><b>CreatePipe</b></a> function creates an anonymous pipe and returns two handles: a read handle to the pipe and a write handle to the pipe. The read handle has read-only access to the pipe, and the write handle has write-only access to the pipe. To communicate using the pipe, the pipe server must pass one of the handles to another process. Usually, this is done through inheritance; that is, the process allows the handle to be inherited by a child process. The process can also send the handle to an unrelated process using some form of interprocess communication, such as DDE or shared memory. </p>
<p>
A pipe server can send either the read handle or the write handle to the pipe client, depending on whether the client should use the anonymous pipe to send information or receive information. To read from the pipe, use the pipe's read handle in a call to the <a href="filesio_39id.htm"><b>ReadFile</b></a> function. The <b>ReadFile</b> call returns when another process has written to the pipe. The <b>ReadFile</b> call can also return if all write handles to the pipe have been closed or if an error occurs before the read operation has been completed.</p>
<p>
To write to the pipe, use the pipe's write handle in a call to the <a href="filesio_3kkl.htm"><b>WriteFile</b></a> function. The <b>WriteFile</b> call does not return until it has written the specified number of bytes to the pipe or an error occurs. If the pipe buffer is full and there are more bytes to be written, <b>WriteFile</b> does not return until another process reads from the pipe, making more buffer space available. The pipe server specifies the buffer size for the pipe when it calls <a href="pipes_43j9.htm"><b>CreatePipe</b></a>. </p>
<p>
Asynchronous (overlapped) read and write operations are not supported by anonymous pipes. This means that you cannot use the <a href="filesio_0660.htm"><b>ReadFileEx</b></a> and <a href="filesio_8r08.htm"><b>WriteFileEx</b></a> functions with anonymous pipes. In addition, the <i>lpOverLapped</i> parameter of <b>ReadFile</b> and <b>WriteFile</b> is ignored when these functions are used with anonymous pipes. </p>
<p>
An anonymous pipe exists until all pipe handles, both read and write, have been closed. A process can close its pipe handles by using the <a href="handobj_289x.htm"><b>CloseHandle</b></a> function. All pipe handles are also closed when the process terminates. </p>
<p>&nbsp;</p></body>
</HTML>
