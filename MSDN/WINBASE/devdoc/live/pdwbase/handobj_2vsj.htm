<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Kernel Objects</title>
<link disabled rel=stylesheet href=../../backsdk3.css>
<style type="text/css">
@import url(../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h2><a name="_win32_kernel_objects"></a>Kernel Objects</h2>
<p>
Kernel object handles are process specific. That is, a process must either create the object or open an existing object to obtain a kernel object handle. The per-process limit on kernel handles is 2^30. </p>
<p>
Any process can create a new handle to an existing kernel object (even one created by another process), provided that the process knows the name of the object and has security access to the object. Kernel object handles include access rights that indicate the actions that can be granted or denied to a process. An application specifies access rights when it creates an object or obtains an existing object handle. Each type of kernel object supports its own set of access rights. For example, event handles can have "set" or "wait" access (or both), file handles can have "read" or "write" access (or both), and so on. For more information, see <a href="accctrl_499v.htm">Securable Objects</a>. </p>
<p>
In the following illustration, an application creates an event object. The <a href="synchro_8ub8.htm"><b>CreateEvent</b></a> function creates the event object and returns an object handle. </p>
<p>
<img src="images/cshob_03.gif" border=0></p>
<p>
After the event object has been created, the application can use the event handle to set or wait on the event. The handle remains valid until the application closes the handle or terminates. </p>
<p>
Most kernel objects support multiple handles to a single object. For example, the application in the preceding illustration could obtain additional event object handles by using the <a href="synchro_5myc.htm"><b>OpenEvent</b></a> function, as shown in the following illustration. </p>
<p>
<img src="images/cshob_04.gif" border=0></p>
<p>
This method enables an application to have handles with different access rights. For example, Handle 1 might have "set" and "wait" access to the event, and Handle 2 might have only "wait" access. </p>
<p>
If another process knows the event name and has security access to the object, it can create its own event object handle by using <b>OpenEvent</b>. The creating application could also duplicate one of its handles into the same process or into another process by using the <a href="handobj_2pyd.htm"><b>DuplicateHandle</b></a> function. </p>
<p>
An object remains in memory as long as at least one object handle exists. In the following illustration, the applications use the <a href="handobj_289x.htm"><b>CloseHandle</b></a> function to close their event object handles. When there are no event handles, the system removes the object from memory, as shown in the following illustration. </p>
<p>
<img src="images/cshob_08.gif" border=0></p>
<p>
The system manages file objects somewhat differently from other kernel objects. File objects contain the file pointer — the pointer to the next byte to be read or written in a file. Whenever an application creates a new file handle, the system creates a new file object. Therefore, more than one file object can refer to a single file on disk, as shown in the next illustration. </p>
<p>
<img src="images/cshob_09.gif" border=0></p>
<p>
Only through duplication or inheritance can more than one file handle refer to the same file object, as shown in the following illustration. </p>
<p>
<img src="images/cshob_10.gif" border=0></p>
<p>
The following table lists each of the kernel objects, along with each object's creator and destroyer functions. The creator functions either create the object and an object handle or create a new existing object handle. The destroyer functions close the object handle. When an application closes the last handle to a kernel object, the system removes the object from memory. </p>
<p>
<b>Kernel Objects</b></p>
<table cellspacing=4 cols=3>
<tr valign=top>
<th align=left width=25%>Object</th>
<th align=left width=37%>Creator function</th>
<th align=left width=38%>Destroyer function</th>
</tr>
<tr valign=top>
<td width=25%>Change notification</td>
<td width=37%><a href="filesio_9hgu.htm"><b>FindFirstChangeNotification</b></a></td>
<td width=38%><a href="filesio_1wku.htm"><b>FindCloseChangeNotification</b></a> </td>
</tr>
<tr valign=top>
<td width=25%>Communications <br>
device</td>
<td width=37%><a href="filesio_7wmd.htm"><b>CreateFile</b></a></td>
<td width=38%><a href="handobj_289x.htm"><b>CloseHandle</b></a> </td>
</tr>
<tr valign=top>
<td width=25%>Console input</td>
<td width=37%><a href="filesio_7wmd.htm"><b>CreateFile</b></a>, with CONIN$</td>
<td width=38%><a href="handobj_289x.htm"><b>CloseHandle</b></a> </td>
</tr>
<tr valign=top>
<td width=25%>Console screen buffer</td>
<td width=37%><a href="filesio_7wmd.htm"><b>CreateFile</b></a>, with CONOUT$</td>
<td width=38%><a href="handobj_289x.htm"><b>CloseHandle</b></a> </td>
</tr>
<tr valign=top>
<td width=25%>Event</td>
<td width=37%><a href="synchro_8ub8.htm"><b>CreateEvent</b></a>, <a href="synchro_5myc.htm"><b>OpenEvent</b></a></td>
<td width=38%><a href="handobj_289x.htm"><b>CloseHandle</b></a> </td>
</tr>
<tr valign=top>
<td width=25%>Event log</td>
<td width=37%><a href="eventlog_3elj.htm"><b>OpenEventLog</b></a>, <a href="eventlog_48px.htm"><b>RegisterEventSource</b></a>, <a href="eventlog_131j.htm"><b>OpenBackupEventLog</b></a></td>
<td width=38%><a href="eventlog_2z3b.htm"><b>CloseEventLog</b></a> </td>
</tr>
<tr valign=top>
<td width=25%>File</td>
<td width=37%><a href="filesio_7wmd.htm"><b>CreateFile</b></a></td>
<td width=38%><a href="handobj_289x.htm"><b>CloseHandle</b></a><b>, <a href="filesio_5n8l.htm">DeleteFile</a></b></td>
</tr>
<tr valign=top>
<td width=25%>File mapping</td>
<td width=37%><a href="fmap3_79wn.htm"><b>CreateFileMapping</b></a>, <a href="fmap3_1h7r.htm"><b>OpenFileMapping</b></a></td>
<td width=38%><a href="handobj_289x.htm"><b>CloseHandle</b></a> </td>
</tr>
<tr valign=top>
<td width=25%>Find file</td>
<td width=37%><a href="filesio_4qcl.htm"><b>FindFirstFile</b></a></td>
<td width=38%><a href="filesio_45d1.htm"><b>FindClose</b></a> </td>
</tr>
<tr valign=top>
<td width=25%>Heap</td>
<td width=37%><a href="memman_5z6t.htm"><b>HeapCreate</b></a></td>
<td width=38%><a href="memman_862h.htm"><b>HeapDestroy</b></a> </td>
</tr>
<tr valign=top>
<td width=25%>Job</td>
<td width=37%><a href="prothred_0yic.htm"><b>CreateJobObject</b></a></td>
<td width=38%><a href="handobj_289x.htm"><b>CloseHandle</b></a> </td>
</tr>
<tr valign=top>
<td width=25%>Mailslot</td>
<td width=37%><a href="mailslot_37lg.htm"><b>CreateMailslot</b></a></td>
<td width=38%><a href="handobj_289x.htm"><b>CloseHandle</b></a> </td>
</tr>
<tr valign=top>
<td width=25%>Module</td>
<td width=37%><a href="dll_1o8p.htm"><b>LoadLibrary</b></a>, <a href="dll_5plx.htm"><b>GetModuleHandle</b></a></td>
<td width=38%><a href="dll_3cs9.htm"><b>FreeLibrary</b></a> </td>
</tr>
<tr valign=top>
<td width=25%>Mutex</td>
<td width=37%><a href="synchro_1a2g.htm"><b>CreateMutex</b></a>, <a href="synchro_82pk.htm"><b>OpenMutex</b></a></td>
<td width=38%><a href="handobj_289x.htm"><b>CloseHandle</b></a> </td>
</tr>
<tr valign=top>
<td width=25%>Pipe</td>
<td width=37%><a href="pipes_4w6d.htm"><b>CreateNamedPipe</b></a>, <a href="pipes_43j9.htm"><b>CreatePipe</b></a> </td>
<td width=38%><a href="handobj_289x.htm"><b>CloseHandle</b></a>, <a href="pipes_7bl1.htm"><b>DisconnectNamedPipe</b></a> </td>
</tr>
<tr valign=top>
<td width=25%>Process</td>
<td width=37%><a href="prothred_9dpv.htm"><b>CreateProcess</b></a>, <a href="prothred_478z.htm"><b>OpenProcess</b></a>, <a href="prothred_58kz.htm"><b>GetCurrentProcess</b></a></td>
<td width=38%><a href="handobj_289x.htm"><b>CloseHandle</b></a>, <a href="prothred_1bg3.htm"><b>TerminateProcess</b></a> </td>
</tr>
<tr valign=top>
<td width=25%>Semaphore</td>
<td width=37%><a href="synchro_9zol.htm"><b>CreateSemaphore</b></a><b>, <a href="synchro_3y3p.htm">OpenSemaphore</a></b></td>
<td width=38%><a href="handobj_289x.htm"><b>CloseHandle</b></a></td>
</tr>
<tr valign=top>
<td width=25%>Socket</td>
<td width=37%><object id=alink_1 type="application/x-oleobject"
	classid="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
<PARAM name="Command" value="ALink,MENU">
<PARAM name="DefaultTopic" value="../../notopic_0pk4.htm">
<PARAM name="Item1" value="">
<PARAM name="Item2" value="_win32_socket_2">
</object><a href=JavaScript:alink_1.Click()><b>socket</b></a>, <object id=alink_2 type="application/x-oleobject"
	classid="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
<PARAM name="Command" value="ALink,MENU">
<PARAM name="DefaultTopic" value="../../notopic_0pk4.htm">
<PARAM name="Item1" value="">
<PARAM name="Item2" value="_win32_accept_2">
</object><a href=JavaScript:alink_2.Click()><b>accept</b></a> </td>
<td width=38%><a href="handobj_289x.htm"><b>CloseHandle</b></a></td>
</tr>
<tr valign=top>
<td width=25%>Thread</td>
<td width=37%><a href="prothred_4084.htm"><b>CreateThread</b></a>, <a href="prothred_8b38.htm"><b>CreateRemoteThread</b></a>, <a href="prothred_8mn8.htm"><b>GetCurrentThread</b></a></td>
<td width=38%><a href="handobj_289x.htm"><b>CloseHandle</b></a>, <a href="prothred_7h2c.htm"><b>TerminateThread</b></a> </td>
</tr>
<tr valign=top>
<td width=25%>Timer</td>
<td width=37%><a href="synchro_51o2.htm"><b>CreateWaitableTimer</b></a><b>, <a href="synchro_0lv6.htm">OpenWaitableTimer</a></b></td>
<td width=38%><a href="handobj_289x.htm"><b>CloseHandle</b></a></td>
</tr>
<tr valign=top>
<td width=25%>Update resource</td>
<td width=37%><object id=alink_3 type="application/x-oleobject"
	classid="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
<PARAM name="Command" value="ALink,MENU">
<PARAM name="DefaultTopic" value="../../notopic_0pk4.htm">
<PARAM name="Item1" value="">
<PARAM name="Item2" value="_win32_beginupdateresource">
</object><a href=JavaScript:alink_3.Click()><b>BeginUpdateResource</b></a></td>
<td width=38%><object id=alink_4 type="application/x-oleobject"
	classid="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
<PARAM name="Command" value="ALink,MENU">
<PARAM name="DefaultTopic" value="../../notopic_0pk4.htm">
<PARAM name="Item1" value="">
<PARAM name="Item2" value="_win32_endupdateresource">
</object><a href=JavaScript:alink_4.Click()><b>EndUpdateResource</b></a> </td>
</tr>
</table><br>
<p>&nbsp;</p></body>
</HTML>
