<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>ReleaseSemaphore</title>
<link disabled rel=stylesheet href=../../backsdk3.css>
<style type="text/css">
@import url(../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h1><a name="_win32_releasesemaphore"></a>ReleaseSemaphore</h1>
<p>
The <b>ReleaseSemaphore</b> function increases the count of the specified semaphore object by a specified amount. </p>
<pre><code><b>BOOL ReleaseSemaphore(
  HANDLE</b><i> hSemaphore</i><b>,   </b>// handle to the semaphore object
<b>  LONG</b><i> lReleaseCount</i><b>,  </b>// amount to add to current count
<b>  LPLONG</b><i> lpPreviousCount</i>   // address of previous count
<b>);</b>
 </code></pre>
<h4>Parameters</h4>
<dl>
<dt>
<i>hSemaphore</i></dt>
<dd>
Handle to the semaphore object. The <a href="synchro_9zol.htm"><b>CreateSemaphore</b></a> or <a href="synchro_3y3p.htm"><b>OpenSemaphore</b></a> function returns this handle. 
<p>
<b>Windows NT:</b> This handle must have SEMAPHORE_MODIFY_STATE access.  
</dd>
<dt>
<i>lReleaseCount</i></dt>
<dd>
Specifies the amount by which the semaphore object's current count is to be increased. The value must be greater than zero. If the specified amount would cause the semaphore's count to exceed the maximum count that was specified when the semaphore was created, the count is not changed and the function returns FALSE. </dd>
<dt>
<i>lpPreviousCount</i></dt>
<dd>
Pointer to a 32-bit variable to receive the previous count for the semaphore. This parameter can be NULL if the previous count is not required. 
</dd>
</dl>
<h4>Return Values</h4>
<p>
If the function succeeds, the return value is nonzero.</p>
<p>
If the function fails, the return value is zero. To get extended error information, call <a href="errors_3uwi.htm"><b>GetLastError</b></a>. </p>
<h4>Remarks</h4>
<p>
The state of a semaphore object is signaled when its count is greater than zero and nonsignaled when its count is equal to zero. The process that calls the <a href="synchro_9zol.htm"><b>CreateSemaphore</b></a> function specifies the semaphore's initial count. Each time a waiting thread is released because of the semaphore's signaled state, the count of the semaphore is decreased by one. </p>
<p>
Typically, an application uses a semaphore to limit the number of threads using a resource. Before a thread uses the resource, it specifies the semaphore handle in a call to one of the <a href="synchro_5vqr.htm">wait functions</a>. When the wait function returns, it decreases the semaphore's count by one. When the thread has finished using the resource, it calls <b>ReleaseSemaphore</b> to increase the semaphore's count by one. </p>
<p>
Another use of <b>ReleaseSemaphore</b> is during an application's initialization. The application can create a semaphore with an initial count of zero. This sets the semaphore's state to nonsignaled and blocks all threads from accessing the protected resource. When the application finishes its initialization, it uses <b>ReleaseSemaphore</b> to increase the count to its maximum value, to permit normal access to the protected resource. </p>
<h4>QuickInfo</h4>
<p>
<b>&nbsp;&nbsp;Windows NT: </b>Requires version 3.1 or later.<br>
<b>&nbsp;&nbsp;Windows: </b>Requires Windows 95 or later.<br>
<b>&nbsp;&nbsp;Windows CE: </b>Unsupported.<br>
<b>&nbsp;&nbsp;Header: </b>Declared in winbase.h.<br>
<b>&nbsp;&nbsp;Import Library: </b>Use kernel32.lib.</p>
<h4>See Also</h4>
<p>
<a href="synchro_4q3y.htm">Synchronization Overview</a>, <a href="synchro_08z7.htm">Synchronization Functions</a>, <a href="synchro_9zol.htm"><b>CreateSemaphore</b></a>, <a href="synchro_3y3p.htm"><b>OpenSemaphore</b></a> </p>
<p>&nbsp;</p></body>
</HTML>
