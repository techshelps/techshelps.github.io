<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Client Logon Sessions</title>
<link disabled rel=stylesheet href=../../backsdk3.css>
<style type="text/css">
@import url(../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h2><a name="_win32_client_logon_sessions"></a>Client Logon Sessions</h2>
<p>
A server with the SE_TCB_NAME privilege, such as a Win32 service running in <a href="services_11tg.htm">the LocalSystem account</a>, can call the <a href="accclsrv_9cfm.htm"><b>LogonUser</b></a> function to log a client on to the server's computer. <b>LogonUser</b> starts a new logon session and returns a primary access token that contains the client's security information. You can use this primary token in a call to the <a href="accclsrv_0jle.htm"><b>ImpersonateLoggedOnUser</b></a> function to impersonate the client or in a call to the <a href="prothred_6pf6.htm"><b>CreateProcessAsUser</b></a> function to create a process that runs in the security context of the client. </p>
<p>
The advantage of logging on the client is that the server impersonating the logged on client or a process created in the context of the logged on client can connect to remote network resources as the client. If the server does not log on the client, it can connect to network resources only if it knows the account name and password to pass to the <object id=alink_1 type="application/x-oleobject"
	classid="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
<PARAM name="Command" value="ALink,MENU">
<PARAM name="DefaultTopic" value="../../notopic_0pk4.htm">
<PARAM name="Item1" value="">
<PARAM name="Item2" value="_win32_wnetaddconnection2">
</object><a href=JavaScript:alink_1.Click()><b>WNetAddConnection2</b></a> function.</p>
<p>
The problem with logging on a client is that the server needs the client's credentials (domain name, user name, and password). If a server gets credentials from a remote client, it is the responsibility of the client and server applications to ensure that the credentials are transmitted in a secure manner. The <b>LogonUser</b> function uses Windows NT authentication which does not transmit the password over the network. </p>
<p>&nbsp;</p></body>
</HTML>
