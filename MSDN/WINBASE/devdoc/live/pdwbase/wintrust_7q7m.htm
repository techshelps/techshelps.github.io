<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>WIN_TRUST_ACTDATA_CONTEXT_WITH_SUBJECT NT]</title>
<link disabled rel=stylesheet href=../../backsdk3.css>
<style type="text/css">
@import url(../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h1><a name="_win32_win_trust_actdata_context_with_subject_str"></a>WIN_TRUST_ACTDATA_CONTEXT_WITH_SUBJECT</h1>
<p>
The <b>WIN_TRUST_ACTDATA_CONTEXT_WITH_SUBJECT</b> structure identifies the subject to be evaluated in some <a href="wintrust_86gk.htm"><b>WinVerifyTrust</b></a> verification operations. For example, Microsoft's Software Publisher Trust Provider uses this structure with some of its action identifiers.</p>
<pre><code>typedef struct _WIN_TRUST_ACTDATA_CONTEXT_WITH_SUBJECT {
    HANDLE            hClientToken;
    GUID *            SubjectType;
    WIN_TRUST_SUBJECT Subject;

} WIN_TRUST_ACTDATA_CONTEXT_WITH_SUBJECT, *LPWIN_TRUST_ACTDATA_CONTEXT_WITH_SUBJECT ;
 </code></pre>
<h4>Members</h4>
<dl>
<dt>
<b>hClientToken</b></dt>
<dd>
Handle to the access token of the calling process. </dd>
<dt>
<b>SubjectType</b></dt>
<dd>
Pointer to a <object id=alink_1 type="application/x-oleobject"
	classid="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
<PARAM name="Command" value="ALink,MENU">
<PARAM name="DefaultTopic" value="../../notopic_0pk4.htm">
<PARAM name="Item1" value="">
<PARAM name="Item2" value="_rpc_guid">
</object><a href=JavaScript:alink_1.Click()><b>GUID</b></a> structure that identifies the type of subject that a trust provider must evaluate. The value of this member determines the type of data pointed to by the <b>Subject</b> member.
<p>
The WinTrust service is designed to work with trust providers and subject interface packages (SIPs) implemented by third parties. Each SIP provides its own unique set of subject type identifiers, and each trust provider specifies the set of subject types that it can evaluate for a specified action identifier. For information about the subject and action identifiers supported by a trust provider, see the documentation for that trust provider. 

<p>
For example, for the WIN_SPUB_ACTION_PUBLISHED_SOFTWARE action, Microsoft's Software Publisher Trust Provider supports the following subject types.

<table cellspacing=4 cols=2>
<tr valign=top>
<th align=left width=19%>Value</th>
<th align=left width=81%>Description</th>
</tr>
<tr valign=top>
<td colspan=2 width=100%>WIN_TRUST_SUBJTYPE_PE_IMAGE</td>
</tr>
<tr valign=top>
<td width=19%></td>
<td width=81%>Microsoft Portable Executable image files. </td>
</tr>
<tr valign=top>
<td colspan=2 width=100%>WIN_TRUST_SUBJTYPE_JAVA_CLASS</td>
</tr>
<tr valign=top>
<td width=19%></td>
<td width=81%>Java class files.</td>
</tr>
<tr valign=top>
<td colspan=2 width=100%>WIN_TRUST_SUBJTYPE_CABINET</td>
</tr>
<tr valign=top>
<td width=19%></td>
<td width=81%></td>
</tr>
<tr valign=top>
<td colspan=2 width=100%>WIN_TRUST_SUBJTYPE_RAW_FILE</td>
</tr>
<tr valign=top>
<td width=19%></td>
<td width=81%></td>
</tr>
</table><br>

</dd>
<dt>
<b>Subject</b></dt>
<dd>
Pointer to a buffer that a trust provider uses to access the subject. The format of this data depends on the type of subject. For example, the subject types supported by the WIN_SPUB_ACTION_PUBLISHED_SOFTWARE action use a <b>WIN_TRUST_SUBJECT_FILE</b> structure that contains a handle or a path to the file to be evaluated. 
</dd>
</dl>
<h4>Remarks</h4>
<p>
The <b>WIN_TRUST_ACTDATA_CONTEXT_WITH_SUBJECT</b> structure is one of the data structures defined in WINBASE.H for use with the <i>ActionData</i> parameter of the <b>WinVerifyTrust</b> function. Trust providers can use one of the predefined structures, or define their own. </p>
<h4>QuickInfo</h4>
<p>
<b>&nbsp;&nbsp;Windows NT: </b>Requires version 4.0 or later.<br>
<b>&nbsp;&nbsp;Windows: </b>Unsupported.<br>
<b>&nbsp;&nbsp;Windows CE: </b>Unsupported.<br>
<b>&nbsp;&nbsp;Header: </b>Declared in winbase.h.</p>
<h4>See Also</h4>
<p>
<a href="wintrust_5vlg.htm">WinTrust Overview</a>, <a href="wintrust_1wab.htm">WinTrust Structures</a>, <object id=alink_2 type="application/x-oleobject"
	classid="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
<PARAM name="Command" value="ALink,MENU">
<PARAM name="DefaultTopic" value="../../notopic_0pk4.htm">
<PARAM name="Item1" value="">
<PARAM name="Item2" value="_rpc_guid">
</object><a href=JavaScript:alink_2.Click()><b>GUID</b></a>, <a href="wintrust_96r6.htm"><b>WIN_TRUST_ACTDATA_SUBJECT_ONLY</b></a>, <a href="wintrust_0oaa.htm"><b>WIN_TRUST_SUBJECT_FILE</b></a>, <a href="wintrust_86gk.htm"><b>WinVerifyTrust</b></a> </p>
<p>&nbsp;</p></body>
</HTML>
