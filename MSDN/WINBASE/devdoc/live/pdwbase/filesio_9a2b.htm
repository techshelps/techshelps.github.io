<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>SetFileAttributes</title>
<link disabled rel=stylesheet href=../../backsdk3.css>
<style type="text/css">
@import url(../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h1><a name="_win32_setfileattributes"></a>SetFileAttributes</h1>
<p>
The <b>SetFileAttributes</b> function sets a file's attributes. </p>
<pre><code><b>BOOL SetFileAttributes(
  LPCTSTR</b><i> lpFileName</i><b>,  </b>// pointer to filename
<b>  DWORD</b><i> dwFileAttributes</i>   // attributes to set
<b>);</b>
 </code></pre>
<h4>Parameters</h4>
<dl>
<dt>
<i>lpFileName</i></dt>
<dd>
Pointer to a string that specifies the name of the file whose attributes are to be set. 
<p>
<b>Windows 95:</b> This string must not exceed MAX_PATH characters.

<p>
<b>Windows NT:</b> There is a default string size limit for paths of MAX_PATH characters. This limit is related to how the <b>SetFileAttributes </b>function parses paths. An application can transcend this limit and send in paths longer than MAX_PATH characters by calling the wide (W) version of <b>SetFileAttributes</b> and prepending "<code>\\?\</code>" to the path. However, each component in the path cannot be more than MAX_PATH characters long. The "<code>\\?\</code>" tells the function to turn off path parsing; it lets paths longer than MAX_PATH be used with <b>SetFileAttributesW</b>. However, each component in the path cannot be more than MAX_PATH characters long. This also works with UNC names. The "<code>\\?\</code>" is ignored as part of the path. For example, "<code>\\?\C:\myworld\private</code>" is seen as "<code>C:\myworld\private</code>", and "<code>\\?\UNC\wow\hotstuff\coolapps</code>" is seen as "<code>\\wow\hotstuff\coolapps</code>".
</dd>
<dt>
<i>dwFileAttributes</i></dt>
<dd>
Specifies the file attributes to set for the file. This parameter can be a combination of the following values. However, all other values override FILE_ATTRIBUTE_NORMAL. 
<table cellspacing=4 cols=2>
<tr valign=top>
<th align=left width=51%>Attribute</th>
<th align=left width=49%>Meaning</th>
</tr>
<tr valign=top>
<td width=51%>FILE_ATTRIBUTE_ARCHIVE</td>
<td width=49%>The file is an archive file. Applications use this attribute to mark files for backup or removal.</td>
</tr>
<tr valign=top>
<td width=51%>FILE_ATTRIBUTE_HIDDEN</td>
<td width=49%>The file is hidden. It is not included in an ordinary directory listing.</td>
</tr>
<tr valign=top>
<td width=51%>FILE_ATTRIBUTE_NORMAL</td>
<td width=49%>The file has no other attributes set. This attribute is valid only if used alone.</td>
</tr>
<tr valign=top>
<td width=51%>FILE_ATTRIBUTE_OFFLINE</td>
<td width=49%>The data of the file is not immediately available. Indicates that the file data has been physically moved to offline storage.</td>
</tr>
<tr valign=top>
<td width=51%>FILE_ATTRIBUTE_READONLY</td>
<td width=49%>The file is read-only. Applications can read the file but cannot write to it or delete it.</td>
</tr>
<tr valign=top>
<td width=51%>FILE_ATTRIBUTE_SYSTEM</td>
<td width=49%>The file is part of the operating system or is used exclusively by it.</td>
</tr>
<tr valign=top>
<td width=51%>FILE_ATTRIBUTE_TEMPORARY</td>
<td width=49%>The file is being used for temporary storage. File systems attempt to keep all of the data in memory for quicker access rather than flushing the data back to mass storage. A temporary file should be deleted by the application as soon as it is no longer needed.</td>
</tr>
</table><br>

</dd>
</dl>
<h4>Return Values</h4>
<p>
If the function succeeds, the return value is nonzero.</p>
<p>
If the function fails, the return value is zero. To get extended error information, call <a href="errors_3uwi.htm"><b>GetLastError</b></a>. </p>
<h4>Remarks</h4>
<p>
The following table describes how to set the attributes that cannot be set using <b>SetFileAttributes</b>..</p>
<table cellspacing=4 cols=2>
<tr valign=top>
<th align=left width=55%>Attribute</th>
<th align=left width=45%>How to Set</th>
</tr>
<tr valign=top>
<td width=55%>FILE_ATTRIBUTE_COMPRESSED</td>
<td width=45%>To set a file's compression state, use the <a href="devio_9quk.htm"><b>DeviceIoControl</b></a> function with the <b>FSCTL_SET_COMPRESSION</b> operation. </td>
</tr>
<tr valign=top>
<td width=55%>FILE_ATTRIBUTE_DIRECTORY</td>
<td width=45%>Files cannot be converted into directories. To create a directory, use the <a href="filesio_4sft.htm"><b>CreateDirectory</b></a> or <a href="filesio_9veg.htm"><b>CreateDirectoryEx</b></a> function. </td>
</tr>
<tr valign=top>
<td width=55%>FILE_ATTRIBUTE_ENCRYPTED</td>
<td width=45%>To encrypt a file, use the <a href="fsys_41k5.htm"><b>EncryptFile</b></a> function. </td>
</tr>
<tr valign=top>
<td width=55%>FILE_ATTRIBUTE_REPARSE_POINT</td>
<td width=45%>To associate a reparse point with a file, use the <a href="devio_9quk.htm"><b>DeviceIoControl</b></a> function with the <b>FSCTL_SET_REPARSE_POINT</b> operation. </td>
</tr>
<tr valign=top>
<td width=55%>FILE_ATTRIBUTE_SPARSE_FILE</td>
<td width=45%>To set a file's sparse attribute, use the <a href="devio_9quk.htm"><b>DeviceIoControl</b></a> function with the <b>FSCTL_SET_SPARSE</b> operation.</td>
</tr>
<tr valign=top>
<td width=55%>FILE_ATTRIBUTE_SYSTEM</td>
<td width=45%>This attribute cannot be set.</td>
</tr>
</table><br>
<p>
<b>Windows CE:</b> If the function succeeds, the return value is TRUE. If the function fails, the return value is FALSE. To get extended error information, call <b>GetLastError</b>.</p>
<h4>QuickInfo</h4>
<p>
<b>&nbsp;&nbsp;Windows NT: </b>Requires version 3.1 or later.<br>
<b>&nbsp;&nbsp;Windows: </b>Requires Windows 95 or later.<br>
<b>&nbsp;&nbsp;Windows CE: </b>Requires version 1.0 or later.<br>
<b>&nbsp;&nbsp;Header: </b>Declared in winbase.h.<br>
<b>&nbsp;&nbsp;Import Library: </b>Use kernel32.lib.<br>
<b>&nbsp;&nbsp;Unicode: </b>Implemented as Unicode and ANSI versions on Windows NT.</p>
<h4>See Also</h4>
<p>
<a href="filesio_2xm7.htm">File I/O Overview</a>, <a href="filesio_3n5f.htm">File Functions</a>, <a href="filesio_9pgz.htm"><b>GetFileAttributes</b></a> </p>
<p>&nbsp;</p></body>
</HTML>
