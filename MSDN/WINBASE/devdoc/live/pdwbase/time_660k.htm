<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>SetSystemTimeAdjustment</title>
<link disabled rel=stylesheet href=../../backsdk3.css>
<style type="text/css">
@import url(../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h1><a name="_win32_setsystemtimeadjustment"></a>SetSystemTimeAdjustment</h1>
<p>
The <b>SetSystemTimeAdjustment</b> function tells the system to enable or disable periodic time adjustments to its time of day clock. Such time adjustments are used to synchronize the time of day with some other source of time information. When periodic time adjustments are enabled, they are applied at each clock interrupt.</p>
<pre><code><b>BOOL SetSystemTimeAdjustment(
  DWORD</b><i> dwTimeAdjustment</i><b>,  </b>// size, in 100-nanosecond units, of a 
                           // periodic time adjustment
<b>  BOOL</b><i> bTimeAdjustmentDisabled</i>
<i>                           </i>// whether periodic time adjustment is to 
                           // be disabled or enabled
<b>);</b>
 </code></pre>
<h4>Parameters</h4>
<dl>
<dt>
<i>dwTimeAdjustment</i></dt>
<dd>
Specifies the number of 100-nanosecond units added to the time-of-day clock at each clock interrupt if periodic time adjustment is enabled.</dd>
<dt>
<i>bTimeAdjustmentDisabled</i></dt>
<dd>
Specifies the time adjustment mode that the system is to use. Periodic system time adjustments can be disabled or enabled.
<p>
A value of TRUE specifies that periodic time adjustment is to be disabled. The system is free to adjust time of day using its own internal mechanisms. The value of <i>dwTimeAdjustment</i> is ignored. The system's internal adjustment mechanisms may cause the time-of-day clock to jump noticeably when adjustments are made.

<p>
A value of FALSE specifies that periodic time adjustment is to be enabled, and will be used to adjust the time-of-day clock. The system will not interfere with the time adjustment scheme, and will not attempt to synchronize time of day on its own. The system will add the value of <i>dwTimeAdjustment</i> to the time of day at each clock interrupt.

</dd>
</dl>
<h4>Return Values</h4>
<p>
If the function succeeds, the return value is nonzero. </p>
<p>
If the function fails, the return value is zero. To get extended error information, call <a href="errors_3uwi.htm"><b>GetLastError</b></a>. One way the function can fail is if the caller does not possess the SE_SYSTEMTIME_NAME privilege.</p>
<h4>Remarks</h4>
<p>
The <a href="time_4df8.htm"><b>GetSystemTimeAdjustment</b></a> and <b>SetSystemTimeAdjustment </b>functions support algorithms that synchronize the time-of-day clock, reported via <a href="time_56p1.htm"><b>GetSystemTime</b></a> and <a href="time_7rj9.htm"><b>GetLocalTime</b></a>, with another time source using a periodic time adjustment.</p>
<p>
The <b>SetSystemTimeAdjustment</b> function supports two modes of time synchronization: time-adjustment – disabled and time-adjustment – enabled.</p>
<p>
In the first mode, <i>bTimeAdjustmentDisabled</i> is set to FALSE.  At each clock interrupt, the system adds the value of <i>dwTimeAdjustment</i> to the time of day. The clock interrupt rate may be determined by calling <b>GetSystemTimeAdjustment</b>, and looking at the returned value of the <b>DWORD</b> value pointed to by <i>lpTimeIncrement</i>.</p>
<p>
In the second mode, <i>bTimeAdjustmentDisabled</i> is set to TRUE.  At each clock interrupt, the system adds the interval between clock interrupts to the time of day. No adjustment to that interval is made. The system is free to periodically refresh the time-of-day clock using other techniques. Such other techniques may cause the time-of-day clock to jump noticeably when adjustments are made.</p>
<p>
An application must have system-time privilege (the SE_SYSTEMTIME_NAME privilege) for this function to succeed. The SE_SYSTEMTIME_NAME privilege is disabled by default. Use the <b>AdjustTokenPrivileges</b> function to enable the privilege before calling <b>SetSystemTimeAdjustment</b>,<b> </b>and then to disable the privilege after the <b>SetSystemTimeAdjustment</b> call.</p>
<h4>QuickInfo</h4>
<p>
<b>&nbsp;&nbsp;Windows NT: </b>Requires version 3.5 or later.<br>
<b>&nbsp;&nbsp;Windows: </b>Unsupported.<br>
<b>&nbsp;&nbsp;Windows CE: </b>Unsupported.<br>
<b>&nbsp;&nbsp;Header: </b>Declared in winbase.h.<br>
<b>&nbsp;&nbsp;Import Library: </b>Use kernel32.lib.</p>
<h4>See Also</h4>
<p>
<a href="time_4jol.htm">Time Overview</a>, <a href="time_4po3.htm">Time Functions</a>, <a href="accctrl_6xbn.htm"><b>AdjustTokenPrivileges</b></a>, <a href="time_4df8.htm"><b>GetSystemTimeAdjustment</b></a>, <a href="time_85gl.htm"><b>SetLocalTime</b></a>, <a href="time_9xyd.htm"><b>SetSystemTime</b></a>, <a href="time_138l.htm"><b>SystemTimeToTzSpecificLocalTime</b></a> </p>
<p>&nbsp;</p></body>
</HTML>
