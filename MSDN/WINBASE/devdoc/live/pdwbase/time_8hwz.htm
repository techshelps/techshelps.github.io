<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>File Times</title>
<link disabled rel=stylesheet href=../../backsdk3.css>
<style type="text/css">
@import url(../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h2><a name="_win32_file_times"></a>File Times</h2>
<p>
A <i>file time</i> represents the specific date and time at which a given file was created, last accessed, or last written to. The system records file times whenever applications create, access, and write to files. The system records the times using a 64-bit value specifying the number of 100-nanosecond intervals that have elapsed since 12:00 a.m. January 1, 1601 (UTC). Writing to a file changes the last write time; writing to or reading from the file (including running an executable file) changes the last access time.</p>
<p>
<b>Note</b>&nbsp;&nbsp;Not all file systems can record creation and last access time. In particular, the file allocation table (FAT) file system records only last-write times.</p>
<p>
You can retrieve the file times for a given file by using the <a href="time_5r51.htm"><b>GetFileTime</b></a> function. <b>GetFileTime</b> copies the creation, last access, and last write times to individual <a href="time_0fzm.htm"><b>FILETIME</b></a> structures. Each structure consists of two 32-bit values that combine to form the single 64-bit value. You can also retrieve the file times by using the <a href="filesio_4qcl.htm"><b>FindFirstFile</b></a> and <a href="filesio_4ndx.htm"><b>FindNextFile</b></a> functions. These functions copy the times to <b>FILETIME</b> structures in a <a href="filesio_4xv6.htm"><b>WIN32_FIND_DATA</b></a> structure.</p>
<p>
You can set the file times for a file by using the <a href="time_33qd.htm"><b>SetFileTime</b></a> function. This function lets you modify creation, last access, and last write times without changing the content of the file. You can compare the times of different files by using the <a href="time_91d1.htm"><b>CompareFileTime</b></a> function. The function compares two file times and returns a value indicating which time is greater or returns zero if the times are equal.</p>
<p>
To make a file time more meaningful to a user, you can extract the month, day, year, and time of day from a file time by using the <a href="time_8cdh.htm"><b>FileTimeToSystemTime</b></a> function. <b>FileTimeToSystemTime</b> converts the file time and copies the individual values for date and time of day to a <a href="time_6sfm.htm"><b>SYSTEMTIME</b></a> structure.</p>
<p>
The system records all file times in UTC-based times, but you can convert a file time to the local time for your time zone by using the <a href="time_2fj9.htm"><b>FileTimeToLocalFileTime</b></a> function. Before displaying a file time to a user, applications typically convert the file time to local time, then extract the month, day, year and time of day using <b>FileTimeToSystemTime</b>.</p>
<p>
If you plan to modify file times for given files, you can convert a date and time of day to a file time by using the <a href="time_5dph.htm"><b>SystemTimeToFileTime</b></a> function. You can also obtain the system time <a href="time_0fzm.htm"><b>FILETIME</b></a> structure by calling the <a href="time_7uzp.htm"><b>GetSystemTimeAsFileTime</b></a> function.</p>
<p>
If the original date and time of day are given in the local time for your time zone, you can convert the resulting file time to UTC by using the <a href="time_7nz9.htm"><b>LocalFileTimeToFileTime</b></a> function. Always make sure the file times you set using <b>SetFileTime</b> are valid UTC-based times. The <b>FileTimeToLocalFileTime</b> and <b>LocalFileTimeToFileTime</b> functions use the current settings for the time zone and daylight saving time. Therefore, if it is daylight saving time, these functions will take daylight saving time into account, even if the time you are converting is in standard time. </p>
<p>&nbsp;</p></body>
</HTML>
