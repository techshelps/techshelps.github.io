<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>DRIVE_MAP_INFO</title>
<link disabled rel=stylesheet href=../../../backsdk3.css>
<style type="text/css">
@import url(../../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h1><a name="_win95_drive_map_info_str"></a>DRIVE_MAP_INFO</h1>
<p>
Contains information about the drive specified in the call to Get Drive Map Info (Interrupt 2lh Function 440Dh Minor Code 6Fh). </p>
<pre><code>DRIVE_MAP_INFO    struc 
    dmiAllocationLength   db ?
    dmiInfoLength         db ?
    dmiFlags              db ?
    dmiInt13Unit          db ?
    dmiAssociatedDriveMap dd ?
    dmiPartitionStartRBA  dq ?
DRIVE_MAP_INFO    ends
</code></pre>
<h4>Members </h4>
<dl>
<dt>
<b>dmiAllocationLength</b></dt>
<dd>
Length of the buffer provided by the application calling Get Drive Map Info. This value should be the size of the <b>DRIVE_MAP_INFO</b> structure.</dd>
<dt>
<b>dmiInfoLength</b></dt>
<dd>
Number of bytes that Get Drive Map Info used in the buffer provided by the calling application. Typically, this value is the size of the <b>DRIVE_MAP_INFO</b> structure.</dd>
<dt>
<b>dmiFlags</b></dt>
<dd>
Flags describing the given drive. This member, which is filled by Get Drive Map Info, can be a combination of these values:

<table cellspacing=4 cols=2>
<tr valign=top>
<td width=49%>PROT_MODE_LOGICAL_DRIVE (01h)</td>
<td width=51%>A protected-mode driver is in use for this logical drive.</td>
</tr>
<tr valign=top>
<td width=49%>PROT_MODE_PHYSICAL_DRIVE (02h)</td>
<td width=51%>A protected-mode driver is in use for the physical drive corresponding to this logical drive.</td>
</tr>
<tr valign=top>
<td width=49%>PROT_MODE_ONLY_DRIVE&nbsp;&nbsp;&nbsp;&nbsp;(04h)</td>
<td width=51%>The drive is not available when running with MS-DOS.</td>
</tr>
<tr valign=top>
<td width=49%>PROT_MODE_EJECT (08h)</td>
<td width=51%>A protected-mode drive supports an electronic eject operation.</td>
</tr>
<tr valign=top>
<td width=49%>PROT_MODE_ASYNC_NOTIFY (10h)</td>
<td width=51%>The drive issues media arrival and removal notifications. This value is currently used for CD-ROM drives that are controlled by the protected-mode driver and that cause a broadcast message when media is removed or inserted without the application having to make a request to the drive. It can also be used by disk drivers.</td>
</tr>
</table><br>

</dd>
<dt>
<b>dmiInt13Unit</b></dt>
<dd>
Physical drive number of the given drive. This member, which is filled by Get Drive Map Info, can be one of these values:

<table cellspacing=4 cols=2>
<tr valign=top>
<td width=19%>00 - 7Fh</td>
<td width=81%>Floppy disk drive (00 for the first floppy drive, 01 for the second, and so on).</td>
</tr>
<tr valign=top>
<td width=19%>80 - FEh</td>
<td width=81%>Hard disk drive (80 for the first hard disk drive, 81 for the second, and so on).</td>
</tr>
<tr valign=top>
<td width=19%>FFh</td>
<td width=81%>The given drive does not map to a physical drive.</td>
</tr>
</table><br>

</dd>
<dt>
<b>dmiAssociatedDriveMap</b></dt>
<dd>
Logical drive numbers that are associated with the given physical drive. For example, a host drive C with child drive letters A and B would return with bits 0 and 1 set.</dd>
<dt>
<b>dmiPartitionStartRBA</b></dt>
<dd>
Relative block address offset from the start of the physical volume to the start of the given partition.
</dd>
</dl>
<h4>Remarks</h4>
<p>
Before an application makes a call to Get Drive Map Info, the <b>dmiAllocationLength</b> member must be set to the size of the <b>DRIVE_MAP_INFO</b> structure. All other members of the structure are filled in by Get Drive Map Info.</p>
<p>&nbsp;</p></body>
</HTML>
