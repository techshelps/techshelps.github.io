<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Interrupt 21h Function 71A8h</title>
<link disabled rel=stylesheet href=../../../backsdk3.css>
<style type="text/css">
@import url(../../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h1><a name="_win95_interrupt_21h_function_71a8h"></a>Interrupt 21h Function 71A8h</h1>
<p>
Generates an alias (a filename in the 8.3 format) for the specified long filename.</p>
<pre><code>mov ax, 71a8h               ; generate short name
mov si, seg LongFilename    ; see below 
mov ds, si
mov si, offset LongFilename
mov di, seg ShortFilename   ; see below 
mov es, di 
mov di, offset ShortFilename
mov dh, ShortNameFormat     ; see below
mov dl, CharSet             ; see below
int 21h
 </code></pre>
<h4>Parameters</h4>
<dl>
<dt>
<i>LongFilename</i></dt>
<dd>
Address of null-terminated string that names the long filename to generate an alias for. This string must contain only a filename, not a path.</dd>
<dt>
<i>ShortFilename</i></dt>
<dd>
Address of null-terminated string that receives the generated alias.</dd>
<dt>
<i>ShortNameFormat</i></dt>
<dd>
Format for the returned alias (0 is specified for an 11 character directory entry format or 1 for an 8.3 format).</dd>
<dt>
<i>CharSet</i></dt>
<dd>
Character set of both the long filename and alias. This parameter is a packed 8-bit value with the following form:
<table cellspacing=4 cols=2>
<tr valign=top>
<th align=left width=8%>Bits</th>
<th align=left width=92%>Contents</th>
</tr>
<tr valign=top>
<td width=8%>0–3</td>
<td width=92%>Specifies the character set of the source long filename. </td>
</tr>
<tr valign=top>
<td width=8%>4–7</td>
<td width=92%>Specifies the character set of the destination alias.</td>
</tr>
</table><br>


<p>
One of the following values is specified to indicate the character set for the long filename and alias:

<table cellspacing=4 cols=2>
<tr valign=top>
<td width=27%>BCS_WANSI (0)</td>
<td width=73%>Windows ANSI character set</td>
</tr>
<tr valign=top>
<td width=27%>BCS_OEM (1)</td>
<td width=73%>Current OEM character set</td>
</tr>
<tr valign=top>
<td width=27%>BCS_UNICODE (2)</td>
<td width=73%>Unicode character set</td>
</tr>
</table><br>

</dd>
</dl>
<h4>Return Value</h4>
<p>
Returns the generated alias in the specified buffer if successful.</p>
<h4>Remarks</h4>
<p>
This function generates the alias using the same algorithm that the system uses with the exception that the returned alias will never have a numeric tail. A numeric tail is appended to the end of an alias and consists of the tilde character (~) followed a number. When the system generates an alias, it may attach a numeric tail if the default alias already exists in the current directory. Because this function does not check the current directory to see if the alias already exists, the returned alias will never have a numeric tail. This service is useful for disk utilities that are trying to establish whether the alias, which seems to be associated with a long filename, is correctly associated.</p>
<p>&nbsp;</p></body>
</HTML>
