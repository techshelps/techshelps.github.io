<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Boot Sector and Bootstrap Modifications</title>
<link disabled rel=stylesheet href=../../../backsdk3.css>
<style type="text/css">
@import url(../../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h1><a name="_win95_boot_sector_and_bootstrap_modifications"></a>Boot Sector and Bootstrap Modifications</h1>
<table cellspacing=4 cols=2>
<tr valign=top>
<td colspan=2 width=100%><b>Reserved Sectors</b> </td>
</tr>
<tr valign=top>
<td width=10%></td>
<td width=90%>FAT32 drives contain more reserved sectors than FAT16 or FAT12 drives. The number of reserved sectors is usually 32, but can vary. </td>
</tr>
<tr valign=top>
<td colspan=2 width=100%><b>Boot Sector Modifications</b> </td>
</tr>
<tr valign=top>
<td width=10%></td>
<td width=90%>Because a FAT32 BIOS Parameter Block (BPB), represented by the <b>BPB (FAT32)</b> structure, is larger than a standard BPB, the boot record on FAT32 drives is greater than 1 sector. In addition, there is a sector in the reserved area on FAT32 drives that contains values for the count of free clusters and the cluster number of the most recently allocated cluster. These values are members of the <b>BIGFATBOOTFSINFO (FAT32)</b> structure which is contained within this sector. These additional fields allow the system to initialize the values without having to read the entire file allocation table. </td>
</tr>
<tr valign=top>
<td colspan=2 width=100%><b>Root Directory</b> </td>
</tr>
<tr valign=top>
<td width=10%></td>
<td width=90%>The root directory on a FAT32 drive is not stored in a fixed location as it is on FAT16 and FAT12 drives. On FAT32 drives, the root directory is an ordinary cluster chain. The <b>A_BF_BPB_RootDirStrtClus</b> member in the <b>BPB (FAT32)</b> structure contains the number of the first cluster in the root directory. This allows the root directory to grow as needed. In addition, the <b>BPB_RootEntries</b> member of <b>BPB (FAT32)</b> is ignored on a FAT32 drive. </td>
</tr>
<tr valign=top>
<td colspan=2 width=100%><b>Sectors Per FAT</b> </td>
</tr>
<tr valign=top>
<td width=10%></td>
<td width=90%>The <b>A_BF_BPB_SectorsPerFAT</b> member of <b>BPB (FAT32)</b> is <i>always</i> zero on a FAT32 drive. Additionally, the <b>A_BF_BPB_BigSectorsPerFat</b> and <b>A_BF_BPB_BigSectorsPerFatHi</b> members of the updated <b>BPB (FAT32)</b> provide equivalent information for FAT32 media. </td>
</tr>
</table><br>
<p>&nbsp;</p></body>
</HTML>
