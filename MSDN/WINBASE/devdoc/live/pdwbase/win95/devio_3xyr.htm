<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Processing Control Codes</title>
<link disabled rel=stylesheet href=../../../backsdk3.css>
<style type="text/css">
@import url(../../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h2><a name="_win95_processing_control_codes"></a>Processing Control Codes</h2>
<p>
When an application calls <a href="../devio_9quk.htm"><b>DeviceIoControl</b></a>, the system calls the control procedure of the VxD identified by the given device handle. The EAX register contains the <a href="95msg_8muk.htm">W32_DEVICEIOCONTROL</a> message, and the ESI register contains the address of a <a href="95str_42gi.htm"><b>DIOCParams</b></a> structure. The structure contains all of the parameters that the application specified in the <b>DeviceIoControl</b> function as well as additional information. The VxD should examine the <b>dwIoControlCode</b> member of the <b>DIOCParams</b> structure to determine the action to perform. The <b>lpvInBuffer</b> member contains supporting data that the VxD needs to complete the action. After processing the control code, the VxD should copy any information that it needs to return to the application to the buffer specified by the <b>lpvOutBuffer</b> member. </p>
<p>
If the VxD successfully processes the control code, it should clear the EAX register before returning. Otherwise, the VxD should set EAX to a nonzero value.</p>
<p>&nbsp;</p></body>
</HTML>
