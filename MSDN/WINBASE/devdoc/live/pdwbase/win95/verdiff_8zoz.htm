<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>System Bitmap and Color Differences</title>
<link disabled rel=stylesheet href=../../../backsdk3.css>
<style type="text/css">
@import url(../../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h1><a name="_win95_system_bitmap_and_color_differences"></a>System Bitmap and Color Differences</h1>
<p>
In 16-bit version 3.<i>x</i> applications, purpose windows, such as dialog boxes, message boxes, and system-defined control windows, receive WM_CTLCOLOR messages when they are about to be drawn. The high-order word of the <i>lParam</i> parameter indicates the type of special purpose window about to be drawn (CTLCOLOR_BTN, CTLCOLOR_EDIT, and so on). By default, a special purpose window passes the WM_CTLCOLOR message to the parent or owner window (for both subsystem versions), allowing the parent or owner to set the foreground and background colors of the special purpose window. The same is true for 32-bit applications, except that the special purpose window receives one or more of the following messages instead of WM_CTLCOLOR.</p>
<table cellspacing=4 cols=2>
<tr valign=top>
<td width=48%>WM_CTLCOLORBTN<br>
WM_CTLCOLORDLG<br>
WM_CTLCOLOREDIT<br>
WM_CTLCOLORLISTBOX</td>
<td width=52%>WM_CTLCOLORMSGBOX<br>
WM_CTLCOLORSCROLLBAR<br>
WM_CTLCOLORSTATIC</td>
</tr>
</table><br>
<p>
In 32-bit applications, the message itself indicates the type of special purpose window about to be drawn. The <i>lParam</i> parameter contains the window's 32-bit handle. </p>
<p>
Display drivers for Windows version 3.<i>x</i> provide the bitmaps, icons, and cursors used by previous versions of Windows. Because Windows 95 renders and scales the system bitmaps, icons, and cursors itself, its display drivers do not (and should not) contain any OBM_, OIC_, or OCR_ resources. </p>
<p>
For a version 3.<i>x</i> application, the default handling of the WM_CTLCOLORSTATIC and WM_CTLCOLORDLG messages is to use the COLOR_WINDOW value for the background and the COLOR_WINDOWTEXT value for the foreground. For a version 4.0 application, Windows 95 uses the COLOR_3DFACE value for the background and the COLOR_WINDOWTEXT value for the foreground.</p>
<p>
When an application calls the <object id=alink_1 type="application/x-oleobject"
	classid="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
<PARAM name="Command" value="ALink,MENU">
<PARAM name="DefaultTopic" value="../../../notopic_0pk4.htm">
<PARAM name="Item1" value="">
<PARAM name="Item2" value="_win32_getclientrect">
</object><a href=JavaScript:alink_1.Click()><b>GetClientRect</b></a> function to retrieve the client rectangle of a minimized window created by a version 3.<i>x</i> application, Windows 95 retrieves the old dimensions for a minimized window (0, 0, 36, 36). For a minimized window in a version 3.1 or 4.0 application, Windows 95 retrieves 0, 0, <object id=alink_2 type="application/x-oleobject"
	classid="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
<PARAM name="Command" value="ALink,MENU">
<PARAM name="DefaultTopic" value="../../../notopic_0pk4.htm">
<PARAM name="Item1" value="">
<PARAM name="Item2" value="_win32_getsystemmetrics">
</object><a href=JavaScript:alink_2.Click()><b>GetSystemMetrics</b></a>(SM_CXMINIMIZED), <b>GetSystemMetrics</b>(SM_CYMINIMIZED). These metrics change if the user changes the title bar height or minimized window width by using Control Panel. In other words, the <b>GetClientRect</b> function returns the dimensions of the entire minimized window, preventing an application from causing a general protection (GP) fault because of an unexpectedly empty client rectangle.</p>
<p>&nbsp;</p></body>
</HTML>
