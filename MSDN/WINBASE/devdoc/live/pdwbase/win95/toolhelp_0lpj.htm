<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Heap Lists and Heap Walking</title>
<link disabled rel=stylesheet href=../../../backsdk3.css>
<style type="text/css">
@import url(../../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h2><a name="_win32_heap_lists_and_heap_walking"></a>Heap Lists and Heap Walking</h2>
<p>
A snapshot that includes the heap list for a specified process contains identification information for each heap associated with the specified process and detailed information about each heap. You can retrieve an identifier for the first heap of the heap list by using the <a href="toolhelp_8iic.htm"><b>Heap32ListFirst</b></a> function. After retrieving the first heap in the list, you can traverse the heap list for subsequent heaps associated with the process by using the <a href="toolhelp_3bzo.htm"><b>Heap32ListNext</b></a> function. <b>Heap32ListFirst</b> and <b>Heap32ListNext</b> fill a <a href="toolhelp_9nqq.htm"><b>HEAPLIST32</b></a> structure with the process identifier, the heap identifier, and flags describing the heap.</p>
<p>
You can retrieve information about the first block of a heap by using the <a href="toolhelp_9xh0.htm"><b>Heap32First</b></a> function. After retrieving the first block of a heap, you can retrieve information about subsequent blocks of the same heap by using the <a href="toolhelp_08ac.htm"><b>Heap32Next</b></a> function. <b>Heap32First</b> and <b>Heap32Next</b> fill a <a href="toolhelp_8agi.htm"><b>HEAPENTRY32</b></a> structure with information for the appropriate block of a heap.</p>
<p>
You can retrieve an extended error status code for <a href="toolhelp_8iic.htm"><b>Heap32ListFirst</b></a>, <b>Heap32ListNext</b>, <b>Heap32First</b>, and <b>Heap32Next</b> by using the <a href="../errors_3uwi.htm"><b>GetLastError</b></a> function. </p>
<p>
<b>Note</b>  The heap identifier, which is specified in the <b>th32HeapID</b> member of the <b>HEAPENTRY32</b> structure, has meaning only to the tool help functions. It is not a handle, nor is it usable by Win32 API elements.</p>
<p>&nbsp;</p></body>
</HTML>
