<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Interrupt 21h Function 71A0h</title>
<link disabled rel=stylesheet href=../../../backsdk3.css>
<style type="text/css">
@import url(../../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h1><a name="_win95_interrupt_21h_function_71a0h"></a>Interrupt 21h Function 71A0h</h1>
<p>
Returns information about the volume associated with the given root directory. </p>
<pre><code>mov ax, 71A0h          ; Get Volume Information
mov di, seg Buffer     ; see below
mov es, di
mov di, offset Buffer
mov cx, BufSize        ; see below
mov dx, seg RootName   ; see below
mov ds, dx
mov dx, offset RootName
int 21h

jc  error
mov [Flags], bx        ; file system flags
mov [MaxFilename], cx  ; max. filename length, excluding null
mov [MaxPath], dx      ; max. path length, including null
</code></pre>
<h4>Parameters</h4>
<dl>
<dt>
<i>Buffer</i></dt>
<dd>
Address of a buffer that receives a null-terminated string specifying the name of the file system.</dd>
<dt>
<i>BufSize</i></dt>
<dd>
Size, in bytes, of the buffer that receives the name. The buffer should include space for the terminating null character.</dd>
<dt>
<i>RootName</i></dt>
<dd>
Address of a null-terminated string specifying the name of the root directory of the volume to check. This parameter must not be NULL, or the function will fail. The format for this parameter is "C:\".
</dd>
</dl>
<h4>Return Value</h4>
<p>
Clears the carry flag, copies the file system name to the buffer given by the ES:DI register pair, and sets the BX, CX, and DX registers to the following values if successful:</p>
<table cellspacing=4 cols=2>
<tr valign=top>
<td width=24%>BX</td>
<td width=76%>File system flags, which can be a combination of these values:</td>
</tr>
</table><br>
<table cellspacing=4 cols=1>
<tr valign=top>
<td class=indent1 width=100%>FS_CASE_SENSITIVE (0001h)<br>
Specifies that searches are case-sensitive.</td>
</tr>
<tr valign=top>
<td class=indent1 width=100%>FS_CASE_IS_PRESERVED (0002h)<br>
Preserves case in directory entries.</td>
</tr>
<tr valign=top>
<td class=indent1 width=100%>FS_UNICODE_ON_DISK (0004h)<br>
Uses Unicode characters in file and directory names.</td>
</tr>
<tr valign=top>
<td class=indent1 width=100%>FS_LFN_APIS (4000h)<br>
Supports new long filename functions.</td>
</tr>
<tr valign=top>
<td class=indent1 width=100%> FS_VOLUME_COMPRESSED (8000h)<br>
Specifies that the volume is compressed.</td>
</tr>
</table><br>
<table cellspacing=4 cols=2>
<tr valign=top>
<td width=23%>CX</td>
<td width=77%>Maximum allowed length, excluding the terminating null character, of a filename for this volume. For example, on the protected-mode FAT file system, this value is 255.</td>
</tr>
</table><br>
<table cellspacing=4 cols=2>
<tr valign=top>
<td width=23%>DX</td>
<td width=77%>Maximum allowed length of a path for this volume, including the drive letter, colon, leading slash, and terminating null character. For example, on the protected-mode FAT file system, this value is 260.</td>
</tr>
</table><br>
<p>
Otherwise, the function sets the carry flag and sets the AX register to an error value.</p>
<h4>Remarks</h4>
<p>
This function accesses the disk the first time it is called, but subsequent calls do not access the disk.</p>
<p>&nbsp;</p></body>
</HTML>
