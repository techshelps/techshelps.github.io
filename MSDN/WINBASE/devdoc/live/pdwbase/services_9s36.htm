<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>SERVICE_STATUS</title>
<link disabled rel=stylesheet href=../../backsdk3.css>
<style type="text/css">
@import url(../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h1><a name="_win32_service_status_str"></a>SERVICE_STATUS</h1>
<p>
The <b>SERVICE_STATUS</b> structure contains information about a service. The <a href="services_3fs5.htm"><b>ControlService</b></a>, <a href="services_094j.htm"><b>EnumDependentServices</b></a>, <a href="services_8cvn.htm"><b>EnumServicesStatus</b></a>, and <a href="services_8coj.htm"><b>QueryServiceStatus</b></a> functions use this structure to return information about a service. A service uses this structure in the <a href="services_90oj.htm"><b>SetServiceStatus</b></a> function to report its current status to the service control manager. </p>
<pre><code>typedef struct _SERVICE_STATUS { // ss 
    DWORD dwServiceType; 
    DWORD dwCurrentState; 
    DWORD dwControlsAccepted; 
    DWORD dwWin32ExitCode; 
    DWORD dwServiceSpecificExitCode; 
    DWORD dwCheckPoint; 
    DWORD dwWaitHint; 
} SERVICE_STATUS, *LPSERVICE_STATUS; 
 </code></pre>
<h4>Members</h4>
<dl>
<dt>
<b>dwServiceType</b></dt>
<dd>
The value returned includes one of the following service type flags to indicate the type of service. In addition, for a SERVICE_WIN32 service, the SERVICE_INTERACTIVE_PROCESS flag might be set, indicating that the service process can interact with the desktop.
<table cellspacing=4 cols=2>
<tr valign=top>
<td width=51%><b>Value</b></td>
<th align=left width=49%>Meaning</th>
</tr>
<tr valign=top>
<td width=51%>SERVICE_WIN32_OWN_PROCESS</td>
<td width=49%>A service type flag that indicates a Win32 service that runs in its own process.</td>
</tr>
<tr valign=top>
<td width=51%>SERVICE_WIN32_SHARE_PROCESS</td>
<td width=49%>A service type flag that indicates a Win32 service that shares a process with other services.</td>
</tr>
<tr valign=top>
<td width=51%>SERVICE_KERNEL_DRIVER</td>
<td width=49%>A service type flag that indicates a device driver.</td>
</tr>
<tr valign=top>
<td width=51%>SERVICE_FILE_SYSTEM_DRIVER</td>
<td width=49%>A service type flag that indicates a file system driver.</td>
</tr>
<tr valign=top>
<td width=51%>SERVICE_INTERACTIVE_PROCESS </td>
<td width=49%>A flag that indicates a Win32 service process that can interact with the desktop.</td>
</tr>
</table><br>

</dd>
<dt>
<b>dwCurrentState</b></dt>
<dd>
Indicates the current state of the service. One of the following values is specified: 
<table cellspacing=4 cols=2>
<tr valign=top>
<th align=left width=51%>Value</th>
<th align=left width=49%>Meaning</th>
</tr>
<tr valign=top>
<td width=51%>SERVICE_STOPPED</td>
<td width=49%>The service is not running.</td>
</tr>
<tr valign=top>
<td width=51%>SERVICE_START_PENDING</td>
<td width=49%>The service is starting.</td>
</tr>
<tr valign=top>
<td width=51%>SERVICE_STOP_PENDING</td>
<td width=49%>The service is stopping.</td>
</tr>
<tr valign=top>
<td width=51%>SERVICE_RUNNING</td>
<td width=49%>The service is running.</td>
</tr>
<tr valign=top>
<td width=51%>SERVICE_CONTINUE_PENDING</td>
<td width=49%>The service continue is pending.</td>
</tr>
<tr valign=top>
<td width=51%>SERVICE_PAUSE_PENDING</td>
<td width=49%>The service pause is pending.</td>
</tr>
<tr valign=top>
<td width=51%>SERVICE_PAUSED</td>
<td width=49%>The service is paused.</td>
</tr>
</table><br>

</dd>
<dt>
<b>dwControlsAccepted</b></dt>
<dd>
Specifies the control codes that the service will accept and process. A user interface process can control a service by specifying a control command in the <b>ControlService</b> function. By default, all services accept the SERVICE_CONTROL_INTERROGATE value. Any or all of the following flags can be specified to enable the other control codes. 
<table cellspacing=4 cols=2>
<tr valign=top>
<td width=16%><b>Value</b></td>
<th align=left width=84%>Meaning</th>
</tr>
<tr valign=top>
<td colspan=2 width=100%>SERVICE_ACCEPT_STOP</td>
</tr>
<tr valign=top>
<td width=16%></td>
<td width=84%>The service can be stopped. This enables the SERVICE_CONTROL_STOP value.</td>
</tr>
<tr valign=top>
<td colspan=2 width=100%>SERVICE_ACCEPT_PAUSE_CONTINUE</td>
</tr>
<tr valign=top>
<td width=16%></td>
<td width=84%>The service can be paused and continued. This enables the SERVICE_CONTROL_PAUSE and SERVICE_CONTROL_CONTINUE values.</td>
</tr>
<tr valign=top>
<td colspan=2 width=100%>SERVICE_ACCEPT_SHUTDOWN</td>
</tr>
<tr valign=top>
<td width=16%></td>
<td width=84%>The service is notified when system shutdown occurs. This enables the system to send a SERVICE_CONTROL_SHUTDOWN value to the service. The <b>ControlService</b> function cannot send this control code.</td>
</tr>
</table><br>

</dd>
<dt>
<b>dwWin32ExitCode</b></dt>
<dd>
Specifies an Win32 error code that the service uses to report an error that occurs when it is starting or stopping. To return an error code specific to the service, the service must set this value to ERROR_SERVICE_SPECIFIC_ERROR to indicate that the <b>dwServiceSpecificExitCode</b> member contains the error code. The service should set this value to NO_ERROR when it is running and on normal termination. </dd>
<dt>
<b>dwServiceSpecificExitCode</b></dt>
<dd>
Specifies a service specific error code that the service returns when an error occurs while the service is starting or stopping. This value is ignored unless the <b>dwWin32ExitCode</b> member is set to ERROR_SERVICE_SPECIFIC_ERROR. </dd>
<dt>
<b>dwCheckPoint</b></dt>
<dd>
Specifies a value that the service increments periodically to report its progress during a lengthy start, stop, pause, or continue operation. For example, the service should increment this value as it completes each step of its initialization when it is starting up. The user interface program that invoked the operation on the service uses this value to track the progress of the service during a lengthy operation. This value is not valid and should be zero when the service does not have a start, stop, pause, or continue operation pending. </dd>
<dt>
<b>dwWaitHint</b></dt>
<dd>
Specifies an estimate of the amount of time, in milliseconds, that the service expects a pending start, stop, pause, or continue operation to take before the service makes its next call to the <b>SetServiceStatus</b> function with either an incremented <b>dwCheckPoint</b> value or a change in <b>dwCurrentState</b>. If the amount of time specified by <b>dwWaitHint</b> passes, and <b>dwCheckPoint</b> has not been incremented, or <b>dwCurrentState</b> has not changed, the service control manager or service control program can assume that an error has occurred.
</dd>
</dl>
<h4>QuickInfo</h4>
<p>
<b>&nbsp;&nbsp;Windows NT: </b>Requires version 3.1 or later.<br>
<b>&nbsp;&nbsp;Windows: </b>Unsupported.<br>
<b>&nbsp;&nbsp;Windows CE: </b>Unsupported.<br>
<b>&nbsp;&nbsp;Header: </b>Declared in winsvc.h.</p>
<h4>See Also</h4>
<p>
<a href="services_0p0z.htm">Services Overview</a>, <a href="services_0ofn.htm">Service Structures</a>, <a href="services_3fs5.htm"><b>ControlService</b></a>, <a href="services_094j.htm"><b>EnumDependentServices</b></a>, <a href="services_8cvn.htm"><b>EnumServicesStatus</b></a>, <a href="services_8coj.htm"><b>QueryServiceStatus</b></a>, <a href="services_90oj.htm"><b>SetServiceStatus</b></a> </p>
<p>&nbsp;</p></body>
</HTML>
