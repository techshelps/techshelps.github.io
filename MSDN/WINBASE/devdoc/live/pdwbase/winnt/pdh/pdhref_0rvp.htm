<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>PdhCalculateCounterFromRawValue</title>
<link disabled rel=stylesheet href=../../../../backsdk3.css>
<style type="text/css">
@import url(../../../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h1><a name="_win32_pdhcalculatecounterfromrawvalue"></a>PdhCalculateCounterFromRawValue</h1>
<p>
The <b>PdhCalculateCounterFromRawValue</b> function computes the current value of a counter as referenced by the <i>hCounter</i> parameter, using the raw counter data passed in the parameter list.</p>
<pre><code><b>PDH_STATUS PdhCalculateCounterFromRawValue(
  IN HCOUNTER</b><i> hCounter</i><b>,           </b>// handle of the counter
<b>  IN DWORD</b><i> dwFormat</i><b>,              </b>// format code
<b>  IN PPDH_RAW_COUNTER</b><i> rawValue1</i><b>,  </b>// first raw counter
<b>  IN PPDH_RAW_COUNTER</b><i> rawValue2</i><b>,  </b>// second raw counter
<b>  IN PPDH_FMT_COUNTERVALUE</b><i> fmtValue  </i>// calculated value
<b>);</b>
 </code></pre>
<h4>Parameters</h4>
<dl>
<dt>
<i>hCounter</i></dt>
<dd>
The handle of the counter used for the computation. This determines how the data will be computed.</dd>
<dt>
<i>dwFormat</i></dt>
<dd>
The format code composed of the following values:
<table cellspacing=4 cols=2>
<tr valign=top>
<th align=left width=48%>Value</th>
<th align=left width=52%>Meaning</th>
</tr>
<tr valign=top>
<td width=48%>PDH_FMT_DOUBLE</td>
<td width=52%>Return the calculated value as a double-precision floating point real.</td>
</tr>
<tr valign=top>
<td width=48%>PDH_FMT_LARGE</td>
<td width=52%>Return the calculated value as a 64-bit integer.</td>
</tr>
<tr valign=top>
<td width=48%>PDH_FMT_LONG</td>
<td width=52%>Return the calculated value as a long integer.</td>
</tr>
</table><br>

</dd>
</dl>
<p>
The value selected from the previous table can be combined using the <b>OR</b> operator with one of the following scaling flags:</p>
<table cellspacing=4 cols=2>
<tr valign=top>
<th align=left width=50%>Flag</th>
<th align=left width=50%>Meaning</th>
</tr>
<tr valign=top>
<td width=50%>PDH_FMT_NOSCALE</td>
<td width=50%>Do not apply the counter's scaling factors in the calculation.</td>
</tr>
<tr valign=top>
<td width=50%>PDH_FMT_1000</td>
<td width=50%>Multiply the final value by 1000.</td>
</tr>
</table><br>
<dl>
<dt>
<i>rawValue1</i></dt>
<dd>
A pointer to the raw counter value used to compute the counter value. Some counters (for example, rate counters) require two raw values for a calculation. The format of the buffer depends on the type of counter to be processed.</dd>
<dt>
<i>rawValue2</i></dt>
<dd>
A pointer to the raw counter value used in computations for counters that require two raw values (for example, rate counters). This value must be the older of the two raw values.</dd>
<dt>
<i>fmtValue</i></dt>
<dd>
A pointer to the data buffer that will receive the calculated counter value.
</dd>
</dl>
<h4>Return Values</h4>
<p>
If the function succeeds, it returns ERROR_SUCCESS.</p>
<p>
If the function fails, the return value is a PDH error status defined in pdhmsg.h. The following are possible error values:</p>
<table cellspacing=4 cols=2>
<tr valign=top>
<th align=left width=48%>Value</th>
<th align=left width=52%>Meaning</th>
</tr>
<tr valign=top>
<td width=48%>PDH_INVALID_ARGUMENT</td>
<td width=52%>An argument is not correct or is incorrectly formatted.</td>
</tr>
<tr valign=top>
<td width=48%>PDH_INVALID_HANDLE</td>
<td width=52%>The counter handle is not valid.</td>
</tr>
</table><br>
<h4>See Also</h4>
<p>
<a href="perfdata_4982.htm">Performance Data Helper Overview</a>, <a href="perfdata_5bzn.htm">Performance Data Functions</a>, , <a href="pdhref_3x9h.htm"><b>PdhGetFormattedCounterValue</b></a>, <a href="pdhref_9bmt.htm"><b>PdhGetRawCounterValue</b></a>, <a href="pdhref_329e.htm"><b>PdhSetCounterScaleFactor</b></a></p>
<p>&nbsp;</p></body>
</HTML>
