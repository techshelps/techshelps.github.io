<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>PERF_COUNTER_DEFINITION</title>
<link disabled rel=stylesheet href=../../../../backsdk3.css>
<style type="text/css">
@import url(../../../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h1><a name="_win32_perf_counter_definition_str"></a>PERF_COUNTER_DEFINITION</h1>
<p>
The <b>PERF_COUNTER_DEFINITION</b> structure describes a performance counter. The Unicode names in this structure must appear in a message file. </p>
<pre><code>typedef struct _PERF_COUNTER_DEFINITION { // pcd 
    DWORD  ByteLength; 
    DWORD  CounterNameTitleIndex; 
    LPWSTR CounterNameTitle; 
    DWORD  CounterHelpTitleIndex; 
    LPWSTR CounterHelpTitle; 
    DWORD  DefaultScale; 
    DWORD  DetailLevel; 
    DWORD  CounterType; 
    DWORD  CounterSize; 
    DWORD  CounterOffset; 
} PERF_COUNTER_DEFINITION; 
 </code></pre>
<h4>Members</h4>
<dl>
<dt>
<b>ByteLength</b></dt>
<dd>
Contains the length, in bytes, of this structure. </dd>
<dt>
<b>CounterNameTitleIndex</b></dt>
<dd>
Contains the index of the counter name in the title database of the registry. </dd>
<dt>
<b>CounterNameTitle</b></dt>
<dd>
Points to the name of the counter. This member contains NULL, initially, but it can contain a pointer to the actual string once the string is located. </dd>
<dt>
<b>CounterHelpTitleIndex</b></dt>
<dd>
Contains the index to the counter's Help title in the title database of the registry. </dd>
<dt>
<b>CounterHelpTitle</b></dt>
<dd>
Points to the title of Help. This member contains NULL, initially, but it can contain a pointer to the actual string once the string is located. </dd>
<dt>
<b>DefaultScale</b></dt>
<dd>
Specifies the power of 10 by which to scale a chart line, assuming the vertical axis is 100. If this value is zero, the scale value is 1; if this value is 1, the scale value is 10; if this value is –1, the scale value is .10; and so on. </dd>
<dt>
<b>DetailLevel</b></dt>
<dd>
Specifies the level of detail for the counter. Applications use this value to control display complexity. This member can be one of the following values: 

<table cellspacing=4 cols=2>
<tr valign=top>
<th align=left width=44%>Value</th>
<th align=left width=56%>Meaning</th>
</tr>
<tr valign=top>
<td width=44%>PERF_DETAIL_NOVICE</td>
<td width=56%>The data can be understood by the uninformed user.</td>
</tr>
<tr valign=top>
<td width=44%>PERF_DETAIL_ADVANCED</td>
<td width=56%>The data is designed for the advanced user.</td>
</tr>
<tr valign=top>
<td width=44%>PERF_DETAIL_EXPERT</td>
<td width=56%>The data is designed for the expert user.</td>
</tr>
<tr valign=top>
<td width=44%>PERF_DETAIL_WIZARD</td>
<td width=56%>The data is designed for the system designer.</td>
</tr>
</table><br>

</dd>
<dt>
<b>CounterType</b></dt>
<dd>
Specifies the type of counter. This member is some combination of the following values. 
<p>
These values indicate the counter's data size: 


<table cellspacing=4 cols=2>
<tr valign=top>
<th align=left width=44%>Value</th>
<th align=left width=56%>Meaning</th>
</tr>
<tr valign=top>
<td width=44%>PERF_SIZE_DWORD</td>
<td width=56%>The counter data is a doubleword.</td>
</tr>
<tr valign=top>
<td width=44%>PERF_SIZE_LARGE</td>
<td width=56%>The counter data is a large integer.</td>
</tr>
<tr valign=top>
<td width=44%>PERF_SIZE_ZERO</td>
<td width=56%>The counter data is a zero-length field.</td>
</tr>
<tr valign=top>
<td width=44%>PERF_SIZE_VARIABLE_LEN</td>
<td width=56%>The size of the counter data is in the <b>CounterSize</b> member.</td>
</tr>
</table><br>


<p>
These values indicate the additional contents of this member: 


<table cellspacing=4 cols=2>
<tr valign=top>
<th align=left width=44%>Value</th>
<th align=left width=56%>Meaning</th>
</tr>
<tr valign=top>
<td width=44%>PERF_TYPE_NUMBER</td>
<td width=56%>The counter data is a number value but not a counter.</td>
</tr>
<tr valign=top>
<td width=44%>PERF_TYPE_COUNTER</td>
<td width=56%>The counter data is an increasing numeric value.</td>
</tr>
<tr valign=top>
<td width=44%>PERF_TYPE_TEXT</td>
<td width=56%>The counter data is a text field.</td>
</tr>
<tr valign=top>
<td width=44%>PERF_TYPE_ZERO</td>
<td width=56%>The counter data is always zero.</td>
</tr>
</table><br>


<p>
If PERF_TYPE_NUMBER is specified, one of these values is also specified to indicate the format of the number: 


<table cellspacing=4 cols=2>
<tr valign=top>
<th align=left width=44%>Value</th>
<th align=left width=56%>Meaning</th>
</tr>
<tr valign=top>
<td width=44%>PERF_NUMBER_HEX</td>
<td width=56%>The counter data should be displayed as a hexadecimal value.</td>
</tr>
<tr valign=top>
<td width=44%>PERF_NUMBER_DECIMAL</td>
<td width=56%>The counter data should be displayed as a decimal value.</td>
</tr>
<tr valign=top>
<td width=44%>PERF_NUMBER_DEC_1000</td>
<td width=56%>The counter data should be divided by 1000 and displayed as a decimal value.</td>
</tr>
</table><br>


<p>
If PERF_TYPE_COUNTER is specified, one of these values is also specified to indicate the type of counter: 


<table cellspacing=4 cols=2>
<tr valign=top>
<th align=left width=44%>Value</th>
<th align=left width=56%>Meaning</th>
</tr>
<tr valign=top>
<td width=44%>PERF_COUNTER_VALUE</td>
<td width=56%>The counter value is valid without additional calculation; that is, it should be displayed as is.</td>
</tr>
<tr valign=top>
<td width=44%>PERF_COUNTER_RATE</td>
<td width=56%>The counter value should be divided by the elapsed time.</td>
</tr>
<tr valign=top>
<td width=44%>PERF_COUNTER_FRACTION</td>
<td width=56%>The counter value should be divided by the base value indicated by the next counter if it is of type PERF_COUNTER_BASE or by the value of the counter subtype.</td>
</tr>
<tr valign=top>
<td width=44%>PERF_COUNTER_BASE</td>
<td width=56%>The counter value is the base value to use in fractions.</td>
</tr>
<tr valign=top>
<td width=44%>PERF_COUNTER_ELAPSED</td>
<td width=56%>The counter value is a start time to be subtracted from the current time.</td>
</tr>
<tr valign=top>
<td width=44%>PERF_COUNTER_QUEUELEN</td>
<td width=56%>The performance application should use the <b>Queuelen</b> counter — that is, the Queue Length Space-Time Product formula. The next counter is the number currently in the queue. Multiply it by the current time (units specified by this counter's subtype). Add the product to the original value of the counter. To obtain the average queue length, divide the result of the addition by the delta time.</td>
</tr>
<tr valign=top>
<td width=44%>PERF_COUNTER_HISTOGRAM</td>
<td width=56%>The counter value begins or ends a histogram.</td>
</tr>
</table><br>


<p>
If PERF_TYPE_COUNTER is specified, one of these values is also specified to indicate the subtype of counter: 


<table cellspacing=4 cols=2>
<tr valign=top>
<th align=left width=44%>Value</th>
<th align=left width=56%>Meaning</th>
</tr>
<tr valign=top>
<td width=44%>PERF_TIMER_TICK</td>
<td width=56%>The frequency of the high-resolution performance counter should be used as the base.</td>
</tr>
<tr valign=top>
<td width=44%>PERF_TIMER_100NS</td>
<td width=56%>The time base units of the 100-nanosecond timer should be used as the base.</td>
</tr>
<tr valign=top>
<td width=44%>PERF_OBJECT_TIMER</td>
<td width=56%>The object-timer frequency should be used as the base unit. This value is system-defined in this counter's <a href="pdhref_2n02.htm">PERF_OBJECT_TYPE</a> definition.</td>
</tr>
</table><br>


<p>
If PERF_TYPE_TEXT is specified, one of these values is also specified to indicate the type of text: 


<table cellspacing=4 cols=2>
<tr valign=top>
<th align=left width=44%>Value</th>
<th align=left width=56%>Meaning</th>
</tr>
<tr valign=top>
<td width=44%>PERF_TEXT_UNICODE</td>
<td width=56%>The counter data contains Unicode text.</td>
</tr>
<tr valign=top>
<td width=44%>PERF_TEXT_ASCII</td>
<td width=56%>The counter data contains ASCII text.</td>
</tr>
</table><br>


<p>
These values indicate how to use the counter data in a calculation: 


<table cellspacing=4 cols=2>
<tr valign=top>
<th align=left width=44%>Value</th>
<th align=left width=56%>Meaning</th>
</tr>
<tr valign=top>
<td width=44%>PERF_DELTA_COUNTER</td>
<td width=56%>The difference between the previous counter value and the current counter value is computed before proceeding.</td>
</tr>
<tr valign=top>
<td width=44%>PERF_DELTA_BASE</td>
<td width=56%>The difference between the previous base value and the current base value is computed before proceeding.</td>
</tr>
<tr valign=top>
<td width=44%>PERF_INVERSE_COUNTER</td>
<td width=56%>After other calculations, the counter should be inverted before displaying or converting to a percentage.</td>
</tr>
<tr valign=top>
<td width=44%>PERF_MULTI_COUNTER</td>
<td width=56%>This value is a sum of counters from several sources, the number of which is indicated by the next counter.</td>
</tr>
</table><br>


<p>
These values indicate the display suffix of the counter data: 


<table cellspacing=4 cols=2>
<tr valign=top>
<th align=left width=44%>Value</th>
<th align=left width=56%>Meaning</th>
</tr>
<tr valign=top>
<td width=44%>PERF_DISPLAY_NO_SUFFIX</td>
<td width=56%>There is no display suffix.</td>
</tr>
<tr valign=top>
<td width=44%>PERF_DISPLAY_PER_SEC</td>
<td width=56%>The display suffix is '/sec'.</td>
</tr>
<tr valign=top>
<td width=44%>PERF_DISPLAY_PERCENT</td>
<td width=56%>The display suffix is '%'.</td>
</tr>
<tr valign=top>
<td width=44%>PERF_DISPLAY_SECONDS</td>
<td width=56%>The display suffix is 'secs'.</td>
</tr>
<tr valign=top>
<td width=44%>PERF_DISPLAY_NOSHOW</td>
<td width=56%>The counter value should not be displayed.</td>
</tr>
</table><br>

</dd>
<dt>
<b>CounterSize</b></dt>
<dd>
Specifies the counter size, in bytes. </dd>
<dt>
<b>CounterOffset</b></dt>
<dd>
Specifies the offset from the start of the <a href="pdhref_6q9e.htm"><b>PERF_COUNTER_BLOCK</b></a> structure to the first byte of this counter. 
</dd>
</dl>
<h4>Remarks</h4>
<p>
This structure is part of the performance data provided by the <b>RegQueryValueEx</b> function when the <b>HKEY_PERFORMANCE_DATA</b> key is used. </p>
<h4>QuickInfo</h4>
<p>
<b>&nbsp;&nbsp;Windows NT: </b>Requires version 3.1 or later.<br>
<b>&nbsp;&nbsp;Windows: </b>Unsupported.<br>
<b>&nbsp;&nbsp;Windows CE: </b>Unsupported.<br>
<b>&nbsp;&nbsp;Header: </b>Declared in winperf.h.</p>
<h4>See Also</h4>
<p>
<a href="perfdata_4982.htm">Performance Data Helper Overview</a>, <a href="perfdata_91yr.htm">Performance Data Structures</a>, <a href="../../regapi_3wzc.htm"><b>RegQueryValueEx</b></a> </p>
<p>&nbsp;</p></body>
</HTML>
