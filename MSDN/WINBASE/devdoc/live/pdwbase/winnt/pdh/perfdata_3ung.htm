<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Creating the Performance DLL</title>
<link disabled rel=stylesheet href=../../../../backsdk3.css>
<style type="text/css">
@import url(../../../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h2><a name="_win32_creating_the_performance_dll"></a>Creating the Performance DLL</h2>
<p>
Your application's performance DLL defines the counter and object data structures that it uses to pass performance data to the performance monitor application. Your DLL also provides the following exported functions that are called by the system in response to requests for performance data. </p>
<table cellspacing=4 cols=2>
<tr valign=top>
<th align=left width=16%>Function</th>
<th align=left width=84%>Description</th>
</tr>
<tr valign=top>
<td width=16%><a href="perfdata_2qpa.htm">Open</a></td>
<td width=84%>Initializes performance monitoring for the application. </td>
</tr>
<tr valign=top>
<td width=16%><a href="perfdata_1fou.htm">Collect</a></td>
<td width=84%>Reports performance data when requested. </td>
</tr>
<tr valign=top>
<td width=16%><a href="perfdata_0wj2.htm">Close</a></td>
<td width=84%>Closes performance monitoring. </td>
</tr>
</table><br>
<p>
The prototypes for these functions, and the structures and constants used to define counters and counter objects, are defined in the WINPERF.H file distributed with the Platform SDK. </p>
<p>
Communication between an application and its performance DLL differs for user-mode and privileged-mode applications. The application's performance DLL executes in user mode. Because of this, user-mode applications, such as print and display applications, can use any technique for interprocess communication, such as named pipes, file mapping, or RPC. However, privileged-mode applications must provide an IOCTL interface that returns the performance data to the performance DLL. </p>
<p>&nbsp;</p></body>
</HTML>
