<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>PDH_BROWSE_DLG_CONFIG</title>
<link disabled rel=stylesheet href=../../../../backsdk3.css>
<style type="text/css">
@import url(../../../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h1><a name="_win32_pdh_browse_dlg_config_str"></a>PDH_BROWSE_DLG_CONFIG</h1>
<p>
The <b>PDH_BROWSE_DLG_CONFIG</b> structure is used by the <a href="pdhref_9vn7.htm"><b>PdhBrowseCounters</b></a> function to configure the <b>PDH Browse Counters</b> dialog box.</p>
<pre><code>typedef struct _BrowseDlgConfig {
    // Configuration flags
    DWORD   bIncludeInstanceIndex:1,
            bSingleCounterPerAdd:1,
            bSingleCounterPerDialog:1,
            bLocalCountersOnly:1,
            bWildCardInstances:1,
            bHideDetailBox:1,
            bInitializePath:1,
            bReserved:25;

    HWND                hWndOwner;
    LPTSTR              szReserved;
    LPTSTR              szReturnPathBuffer;
    DWORD               cchReturnPathLength;
    CounterPathCallBack pCallBack;
    DWORD               dwCallBackArg;
    PDH_STATUS          CallBackStatus;
    DWORD               dwDefaultDetailLevel;
    LPTSTR              szDialogBoxCaption;
} PDH_BROWSE_DLG_CONFIG, *PPDH_BROWSE_DLG_CONFIG;
 </code></pre>
<h4>Members</h4>
<dl>
<dt>
<b>Configuration Flags</b></dt>
<dd>
The initial <b>DWORD</b> of the <b>PDH_BROWSE_DLG_CONFIG</b> structure contains the following configuration flag fields. The default value for each field is FALSE.
<dl>
<dt>
<b>bIncludeInstanceIndex</b></dt>
<dd>
TRUE: The returned counter path will include the instance index for the instance.
<p>
FALSE: The returned counter path will not contain an instance number.
</dd>
<dt>
<b>bSingleCounterPerAdd</b></dt>
<dd>
TRUE: Multiple and wild card selections are permitted. Selected counters are returned as a MULTI_SZ string each time the <b>Add</b> button is clicked.
<p>
FALSE: Multiple selections are not permitted. Only one counter will be returned each time the <b>Add</b> button is clicked.
</dd>
<dt>
<b>bSingleCounterPerDialog</b></dt>
<dd>
TRUE: The dialog box is closed after the <b>Add</b> button is clicked the first time. Therefore, you can only add a single counter. 
<p>
FALSE: The dialog box is not closed until the <b>Close</b> button is clicked. The <b>Add</b> button can be clicked multiple times. 
</dd>
<dt>
<b>bLocalCountersOnly</b></dt>
<dd>
TRUE: The machine name will not prefix the counter path in the returned string.
<p>
FALSE: The machine name will prefix the counter path unless the user selects the <b>Local Counters Only</b> radio button.
</dd>
<dt>
<b>bWildCardInstances</b></dt>
<dd>
TRUE: If wild card instances (for example, ALL) are selected, then the returned counter path will include the wild-card syntax (for example, "*") for the instance field.
<p>
FALSE: If <b>All Instances </b>has been selected, all the instances currently found for that object will be returned in a MULTI_SZ string.
</dd>
<dt>
<b>bHideDetailBox</b></dt>
<dd>
TRUE: Removes the <b>Detail Level </b>combo box from the dialog box so the user cannot change the detail level of the counters displayed in the dialog box. The detail level will be fixed to the value of the <b>dwDefaultDetailLevel</b> member.
<p>
FALSE: Displays the <b>Detail Level </b>combo box in the dialog box, allowing the user to change the detail level of the counters displayed.

<p>
Note that the counters displayed will be those whose detail level is less than or equal to the current detail level selection. Selecting a detail level of <b>Wizard</b> will display all counters and objects.
</dd>
<dt>
<b>bInitializePath</b></dt>
<dd>
TRUE: Selects the counter and object based on the first counter path contained in the <b>szReturnPathBuffer</b> member when the dialog box is first displayed, instead of using the default counter and object specified by the machine.
<p>
FALSE: Selects the initial counter and object using the default counter and object information returned by the machine.

</dd>
</dl>
</dd>
<dt>
<b>hWndOwner</b></dt>
<dd>
The handle of the calling function's window.</dd>
<dt>
<b>szReserved</b></dt>
<dd>
Reserved. Must be NULL.</dd>
<dt>
<b>szReturnPathBuffer</b></dt>
<dd>
The buffer, allocated by the caller, that is used to initialize the first selection in the list boxes (<b>bInitializePath == TRUE)</b> and to return the selected counters to the calling function or the callback procedure.</dd>
<dt>
<b>cchReturnPathLength</b></dt>
<dd>
The current maximum size, in characters, of the buffer referenced by the <b>szReturnPathBuffer</b> member. If the callback function reallocates a new buffer, it must also update this value. </dd>
<dt>
<b>pCallBack</b></dt>
<dd>
The address of the callback function used to update application buffers and controls when a multiple-selection dialog box is configured. For more information, see <a href="pdhref_7oh7.htm"><b>CounterPathCallback</b></a>. </dd>
<dt>
<b>dwCallBackArg</b></dt>
<dd>
User-defined argument that is passed as the only argument to the callback function when it is called by the dialog box.</dd>
<dt>
<b>CallBackStatus</b></dt>
<dd>
On entry to the callback function, this member contains the status of the path buffer. On exit, the callback function sets the status value resulting from processing. 
<p>
If the buffer is too small to load the current selection, the browser will set this value to PDH_MORE_DATA. If the browser sets this member to ERROR_SUCCESS, then the <b>szReturnPathBuffer</b> member contains a valid counter path or counter path list. 

<p>
If the callback function reallocates a new buffer, it should set this member to PDH_RETRY so that the browser will try to load the buffer with the selected paths and call the callback function again. 

<p>
If some other error occurred, then the callback function should return the appropriate PDH error status value.
</dd>
<dt>
<b>dwDefaultDetailLevel</b></dt>
<dd>
The default detail level to show on startup in the <b>Detail Level </b>combo box. If the <b>Detail Level </b>combo box is not shown, this is the detail level to use in filtering the displayed performance counters and objects.</dd>
<dt>
<b>szDialogBoxCaption</b></dt>
<dd>
The optional caption to be displayed in the caption bar of the<b> PDH Browse Counters</b> dialog box. If this member is NULL, the caption will be <b>Browse Performance Counters</b>.
</dd>
</dl>
<h4>Remarks</h4>
<p>
Each time the <b>Add</b> button is clicked, the <b>szReturnPathBuffer</b> buffer contains the selected counter and the <b>pCallBack</b> callback function is called. The callback function should call the <b>PdhAddCounter</b> function for each counter in the buffer. </p>
<h4>See Also</h4>
<p>
<a href="perfdata_4982.htm">Performance Data Helper Overview</a>, <a href="perfdata_91yr.htm">Performance Data Structures</a>, <a href="pdhref_7oh7.htm"><b>CounterPathCallback</b></a>, <a href="pdhref_9quq.htm"><b>PdhAddCounter</b></a>, <a href="pdhref_9vn7.htm"><b>PdhBrowseCounters</b></a> </p>
<p>&nbsp;</p></body>
</HTML>
