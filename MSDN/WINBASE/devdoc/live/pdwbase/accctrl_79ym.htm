<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>SID Attributes in an Access Token</title>
<link disabled rel=stylesheet href=../../backsdk3.css>
<style type="text/css">
@import url(../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h3><a name="_win32_sid_attributes_in_an_access_token"></a>SID Attributes in an Access Token</h3>
<p>
<span style=color:#FF0000>[This is preliminary documentation and subject to change.]</span> </p>
<p>
Each user and group SID in an access token has a set of attributes that control how the system uses the SID in an access check. The following table lists the attributes that control access checking.</p>
<table cellspacing=4 cols=2>
<tr valign=top>
<th align=left width=45%>Attribute</th>
<th align=left width=55%>Description</th>
</tr>
<tr valign=top>
<td width=45%>SE_GROUP_ENABLED</td>
<td width=55%>A SID with this attribute is enabled for access checks. When the system performs an access check, it checks for access-allowed and access-denied ACEs that apply to one of the enabled SIDs in the access token. <p>
A SID without this attribute is ignored during an access check unless the SE_GROUP_USE_FOR_DENY_ONLY attribute is set.</p>
</td>
</tr>
<tr valign=top>
<td width=45%>SE_GROUP_USE_FOR_DENY_ONLY</td>
<td width=55%><b>Windows NT 5.0 and later:</b> A SID with this attribute is a deny-only SID. When the system performs an access check, it checks for access-denied ACEs that apply to the SID, but ignores access-allowed ACEs for the SID. <p>
If this attribute is set, the SE_GROUP_ENABLED is not set, and the SID cannot be re-enabled.</p>
</td>
</tr>
</table><br>
<p>
To set or clear the SE_GROUP_ENABLED attribute of a group SID, use the <a href="accctrl_4iur.htm"><b>AdjustTokenGroups</b></a> function. You cannot disable a group SID that has the SE_GROUP_MANDATORY attribute. You cannot use <b>AdjustTokenGroups</b> to disable the user SID of an access token. </p>
<p>
To determine whether a SID is enabled in a token, that is, whether it has the SE_GROUP_ENABLED attribute, call the <a href="accctrl_0oxc.htm"><b>CheckTokenMembership</b></a> function.</p>
<p>
To set the SE_GROUP_USE_FOR_DENY_ONLY attribute of a SID, include the SID in the list of deny-only SIDs that you specify when you call the <a href="accctrl_1h9q.htm"><b>CreateRestrictedToken</b></a> function. <b>CreateRestrictedToken</b> can apply the SE_GROUP_USE_FOR_DENY_ONLY attribute to any SID, including the user SID and group SIDs that have the SE_GROUP_MANDATORY attribute. However, you cannot remove the deny-only attribute from a SID; nor can you use <b>AdjustTokenGroups</b> to set the SE_GROUP_ENABLED attribute on a deny-only SID.</p>
<p>
To get the attributes of a SID, call the <a href="accctrl_2jvy.htm"><b>GetTokenInformation</b></a> function with the TokenGroups value. The function returns an array of <a href="accctrl_0esy.htm"><b>SID_AND_ATTRIBUTES</b></a> structures that identify the group SIDs and their attributes. </p>
<p>&nbsp;</p></body>
</HTML>
