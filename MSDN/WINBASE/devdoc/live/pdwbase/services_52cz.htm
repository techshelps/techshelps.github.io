<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>NotifyBootConfigStatus</title>
<link disabled rel=stylesheet href=../../backsdk3.css>
<style type="text/css">
@import url(../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h1><a name="_win32_notifybootconfigstatus"></a>NotifyBootConfigStatus</h1>
<p>
The <b>NotifyBootConfigStatus</b> function reports the boot status to the service control manager. It is used by boot verification programs. This function can be called only by a process running in the LocalSystem or Administrator's account. </p>
<pre><code><b>BOOL NotifyBootConfigStatus(
  BOOL</b><i> BootAcceptable</i>   // indicates acceptability of boot 
                        // configuration
<b>);</b>
 </code></pre>
<h4>Parameters</h4>
<dl>
<dt>
<i>BootAcceptable</i></dt>
<dd>
Specifies whether the configuration used when booting the system is acceptable. If the value is TRUE, the system saves the configuration as the last-known good configuration. If the value is FALSE, the system immediately reboots, using the previously saved last-known good configuration. 
</dd>
</dl>
<h4>Return Values</h4>
<p>
If the <i>BootAcceptable</i> parameter is FALSE, the function does not return. </p>
<p>
If the last-known good configuration was successfully saved, the return value is nonzero. </p>
<p>
If an error occurs, the return value is zero. To get extended error information, call <a href="errors_3uwi.htm"><b>GetLastError</b></a>. </p>
<h4>Errors</h4>
<p>
The following error codes may be set by the service control manager. Other error codes may be set by the registry functions that are called by the service control manager to set parameters in the configuration registry. </p>
<table cellspacing=4 cols=2>
<tr valign=top>
<th align=left width=40%>Value</th>
<th align=left width=60%>Meaning</th>
</tr>
<tr valign=top>
<td width=40%>ERROR_ACCESS_DENIED</td>
<td width=60%>The user does not have permission to perform this operation. <p>
A hard-coded DACL associated with the service control manager object determines who can perform a <b>NotifyBootConfigStatus</b> operation. Only the system and members of the Adminstrators group can do so.</p>
</td>
</tr>
</table><br>
<h4>Remarks</h4>
<p>
Saving the configuration of a running system with this function is an acceptable method for saving the last-known good configuration. If the boot configuration is unacceptable, use this function to reboot the system using the existing last-known good configuration. </p>
<h4>QuickInfo</h4>
<p>
<b>&nbsp;&nbsp;Windows NT: </b>Requires version 3.5 or later.<br>
<b>&nbsp;&nbsp;Windows: </b>Unsupported.<br>
<b>&nbsp;&nbsp;Windows CE: </b>Unsupported.<br>
<b>&nbsp;&nbsp;Header: </b>Declared in winsvc.h.<br>
<b>&nbsp;&nbsp;Import Library: </b>Use advapi32.lib.</p>
<h4>See Also</h4>
<p>
<a href="services_0p0z.htm">Services Overview</a>, <a href="services_2uwj.htm">Service Functions</a> </p>
<p>&nbsp;</p></body>
</HTML>
