<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>SplitSymbols</title>
<link disabled rel=stylesheet href=../../backsdk3.css>
<style type="text/css">
@import url(../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h1><a name="_win32_splitsymbols"></a>SplitSymbols</h1>
<p>
The <b>SplitSymbols</b> function strips symbols from the specified image.</p>
<pre><code><b>BOOL SplitSymbols(
  IN LPSTR</b><i> ImageName</i><b>,    </b>
<b>  IN LPSTR</b><i> SymbolsPath</i><b>,  </b>
<b>  OUT LPSTR</b><i> SymbolFilePath</i><b>,  </b>
<b>  IN DWORD</b><i> Flags         </i>
<b>);</b>
 </code></pre>
<h4>Parameters</h4>
<dl>
<dt>
<i>ImageName</i></dt>
<dd>
Pointer to a null-terminated string that specifies the name of the image from which to split symbols.</dd>
<dt>
<i>SymbolsPath</i></dt>
<dd>
Pointer to a null-terminated string that specifies a subdirectory for storing symbols. This parameter is optional.</dd>
<dt>
<i>SymbolFilePath</i></dt>
<dd>
Pointer to a null-terminated string that specifies the name of the generated symbol file. This file typically has a .DBG extension.</dd>
<dt>
<i>Flags</i></dt>
<dd>
Specifies the information to be split from the image. This parameter can be zero or a combination of the following values:
<table cellspacing=4 cols=2>
<tr valign=top>
<th align=left width=48%>Value</th>
<th align=left width=52%>Meaning</th>
</tr>
<tr valign=top>
<td width=48%>SPLITSYM_EXTRACT_ALL</td>
<td width=52%>Usually, an image with the symbols split off will still contain a MISC debug directory with the name of the symbol file. Therefore, the debugger can still find the symbols. Using this flag removes this link. The end result is similar to using the <b>-debug:none</b> switch on the Microsoft linker.</td>
</tr>
<tr valign=top>
<td width=48%>SPLITSYM_REMOVE_PRIVATE</td>
<td width=52%>This strips off the private CodeView symbolic information when generating the symbol file. It does this by making a call to the <a href="imgehlp1_52ub.htm"><b>RemovePrivateCvSymbolic</b></a> function.</td>
</tr>
</table><br>

</dd>
</dl>
<h4>Return Values</h4>
<p>
If the function succeeds, the return value is TRUE.</p>
<p>
If the function fails, the return value is FALSE. To retrieve extended error information, call <a href="errors_3uwi.htm"><b>GetLastError</b></a>.</p>
<h4>Remarks</h4>
<p>
The <b>SplitSymbols</b> function should be used when stripping symbols from an image. It will create a symbol file that all Win32-compatible debuggers understand. The format is defined in WINNT.H  and consists of an image header (IMAGE_SEPARATE_DEBUG_HEADER), followed by the array of section headers, the exception information (on RISC only) or FPO information (on X86 only), and all debug symbolic information from the image.</p>
<p>
If the <i>SymbolsPath</i> parameter is NULL<i>,</i> the symbol file is stored in the directory where the image exists. Otherwise, it is stored in the subdirectory below <i>SymbolsPath</i> that matches the extension of the image. Using this method reduces the chances of symbol file collision. For example, the symbols for myapp.exe will be in the <i>SymbolsPath</i>\exe directory and the symbols for myapp.dll will be in the <i>SymbolsPath</i>\dll directory.</p>
<h4>QuickInfo</h4>
<p>
<b>&nbsp;&nbsp;Windows NT: </b>Requires version 4.0 or later.<br>
<b>&nbsp;&nbsp;Windows: </b>Requires Windows 95 or later. Available as a redistributable for Windows 95.<br>
<b>&nbsp;&nbsp;Windows CE: </b>Unsupported.<br>
<b>&nbsp;&nbsp;Header: </b>Declared in imagehlp.h.<br>
<b>&nbsp;&nbsp;Import Library: </b>Use imagehlp.lib.</p>
<h4>See Also</h4>
<p>
<a href="imgehlp1_3hzz.htm">PE Image Helper (ImageHlp) Overview</a>, <a href="imgehlp1_9coj.htm">ImageHlp Image Modification Functions</a>, <a href="imgehlp1_52ub.htm"><b>RemovePrivateCvSymbolic</b></a> </p>
<p>&nbsp;</p></body>
</HTML>
