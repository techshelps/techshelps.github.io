<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>SetThreadPriority</title>
<link disabled rel=stylesheet href=../../backsdk3.css>
<style type="text/css">
@import url(../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h1><a name="_win32_setthreadpriority"></a>SetThreadPriority</h1>
<p>
The <b>SetThreadPriority</b> function sets the priority value for the specified thread. This value, together with the priority class of the thread's process, determines the thread's base priority level. </p>
<pre><code><b>BOOL SetThreadPriority(
  HANDLE</b><i> hThread</i><b>, </b>// handle to the thread
<b>  int</b><i> nPriority</i>   // thread priority level
<b>);</b>
 </code></pre>
<h4>Parameters</h4>
<dl>
<dt>
<i>hThread</i></dt>
<dd>
Handle to the thread whose priority value is to be set. 
<p>
<b>Windows NT:</b> The handle must have the THREAD_SET_INFORMATION access right associated with it.  
</dd>
<dt>
<i>nPriority</i></dt>
<dd>
Specifies the priority value for the thread. This parameter can be one of the following values: 
<table cellspacing=4 cols=2>
<tr valign=top>
<th align=left width=56%>Priority</th>
<th align=left width=44%>Meaning</th>
</tr>
<tr valign=top>
<td width=56%>THREAD_PRIORITY_ABOVE_NORMAL</td>
<td width=44%>Indicates 1 point above normal priority for the priority class.</td>
</tr>
<tr valign=top>
<td width=56%>THREAD_PRIORITY_BELOW_NORMAL</td>
<td width=44%>Indicates 1 point below normal priority for the priority class.</td>
</tr>
<tr valign=top>
<td width=56%>THREAD_PRIORITY_HIGHEST</td>
<td width=44%>Indicates 2 points above normal priority for the priority class.</td>
</tr>
<tr valign=top>
<td width=56%>THREAD_PRIORITY_IDLE</td>
<td width=44%>Indicates a base priority level of 1 for IDLE_PRIORITY_CLASS, NORMAL_PRIORITY_CLASS, or HIGH_PRIORITY_CLASS processes, and a base priority level of 16 for REALTIME_PRIORITY_CLASS processes.</td>
</tr>
<tr valign=top>
<td width=56%>THREAD_PRIORITY_LOWEST</td>
<td width=44%>Indicates 2 points below normal priority for the priority class.</td>
</tr>
<tr valign=top>
<td width=56%>THREAD_PRIORITY_NORMAL</td>
<td width=44%>Indicates normal priority for the priority class.</td>
</tr>
<tr valign=top>
<td width=56%>THREAD_PRIORITY_TIME_CRITICAL</td>
<td width=44%>Indicates a base priority level of 15 for IDLE_PRIORITY_CLASS, NORMAL_PRIORITY_CLASS, or HIGH_PRIORITY_CLASS processes, and a base priority level of 31 for REALTIME_PRIORITY_CLASS processes.</td>
</tr>
</table><br>


</dd>
</dl>
<h4>Return Values</h4>
<p>
If the function succeeds, the return value is nonzero.</p>
<p>
If the function fails, the return value is zero. To get extended error information, call <a href="errors_3uwi.htm"><b>GetLastError</b></a>. </p>
<h4>Remarks</h4>
<p>
Every thread has a base priority level determined by the thread's priority value and the priority class of its process. The system uses the base priority level of all executable threads to determine which thread gets the next slice of CPU time. Threads are scheduled in a round-robin fashion at each priority level, and only when there are no executable threads at a higher level does scheduling of threads at a lower level take place. </p>
<p>
The <b>SetThreadPriority</b> function enables setting the base priority level of a thread relative to the priority class of its process. For example, specifying THREAD_PRIORITY_HIGHEST in a call to <b>SetThreadPriority</b> for a thread of an IDLE_PRIORITY_CLASS process sets the thread's base priority level to 6. For a table that shows the base priority levels for each combination of priority class and thread priority value, see the <a href="prothred_9z1v.htm"><b>SetPriorityClass</b></a> function. </p>
<p>
For IDLE_PRIORITY_CLASS, NORMAL_PRIORITY_CLASS, and HIGH_PRIORITY_CLASS processes, the system dynamically boosts a thread's base priority level when events occur that are important to the thread. REALTIME_PRIORITY_CLASS processes do not receive dynamic boosts. </p>
<p>
All threads initially start at THREAD_PRIORITY_NORMAL. Use the <a href="prothred_83sj.htm"><b>GetPriorityClass</b></a> and <a href="prothred_9z1v.htm"><b>SetPriorityClass</b></a> functions to get and set the priority class of a process. Use the <a href="prothred_9uk9.htm"><b>GetThreadPriority</b></a> function to get the priority value of a thread. </p>
<p>
Use the priority class of a process to differentiate between applications that are time critical and those that have normal or below normal scheduling requirements. Use thread priority values to differentiate the relative priorities of the tasks of a process. For example, a thread that handles input for a window could have a higher priority level than a thread that performs intensive calculations for the CPU. </p>
<p>
When manipulating priorities, be very careful  to ensure that a high-priority thread does not consume all of the available CPU time. A thread with a base priority level above 11 interferes with the normal operation of the operating system. Using REALTIME_PRIORITY_CLASS may cause disk caches to not flush, hang the mouse, and so on. </p>
<p>
<b>Windows CE:</b> The thread's priority level is one of the following values: 
<dl>
<dt>
THREAD_PRIORITY_TIME_CRITICAL</dt>
<dd>
Indicates 3 points above normal priority. </dd>
<dt>
THREAD_PRIORITY_HIGHEST</dt>
<dd>
Indicates 2 points above normal priority. </dd>
<dt>
THREAD_PRIORITY_ABOVE_NORMAL</dt>
<dd>
Indicates 1 point above normal priority. </dd>
<dt>
THREAD_PRIORITY_NORMAL</dt>
<dd>
Indicates normal priority. </dd>
<dt>
THREAD_PRIORITY_BELOW_NORMAL</dt>
<dd>
Indicates 1 point below normal priority. </dd>
<dt>
THREAD_PRIORITY_LOWEST</dt>
<dd>
Indicates 2 points below normal priority. </dd>
<dt>
THREAD_PRIORITY_ABOVE_IDLE</dt>
<dd>
Indicates 3 points below normal priority. </dd>
<dt>
THREAD_PRIORITY_IDLE</dt>
<dd>
Indicates 4 points below normal priority. </dd>
</dl>
<p>
Windows CE does not support priority classes. The order in which threads are scheduled is determined only by their thread priorities.</p>
<p>
When manipulating priorities, ensure that a high-priority thread does not consume all of the available CPU time. A thread with a priority level of THREAD_PRIORITY_TIME_CRITICAL will execute until it explicitly yields processing to other threads. Processing of these threads is not yielded to other threads with the THREAD_PRIORITY_TIME_CRITICAL priority level. Such a thread can interfere with the normal operation of the operating system if the thread does not explicitly yield processing quickly. </p>
<h4>QuickInfo</h4>
<p>
<b>&nbsp;&nbsp;Windows NT: </b>Requires version 3.1 or later.<br>
<b>&nbsp;&nbsp;Windows: </b>Requires Windows 95 or later.<br>
<b>&nbsp;&nbsp;Windows CE: </b>Requires version 1.0 or later.<br>
<b>&nbsp;&nbsp;Header: </b>Declared in winbase.h.<br>
<b>&nbsp;&nbsp;Import Library: </b>Use kernel32.lib.</p>
<h4>See Also</h4>
<p>
<a href="prothred_86sz.htm">Processes and Threads Overview</a>, <a href="prothred_3mgj.htm">Process and Thread Functions</a>, <a href="prothred_83sj.htm"><b>GetPriorityClass</b></a>, <a href="prothred_9uk9.htm"><b>GetThreadPriority</b></a>, <a href="prothred_9z1v.htm"><b>SetPriorityClass</b></a> </p>
<p>&nbsp;</p></body>
</HTML>
