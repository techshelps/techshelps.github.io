<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Thread Handles and Identifiers</title>
<link disabled rel=stylesheet href=../../backsdk3.css>
<style type="text/css">
@import url(../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h3><a name="_win32_thread_handles_and_identifiers"></a>Thread Handles and Identifiers</h3>
<p>
When a new thread is created by the <a href="prothred_4084.htm"><b>CreateThread</b></a> or <a href="prothred_8b38.htm"><b>CreateRemoteThread</b></a> function, a handle to the thread is returned. By default, this handle has full access rights, and — subject to security access checking — can be used in any of the functions that accept a thread handle. This handle can be inherited by child processes, depending on the inheritance flag specified when it is created. The handle can be duplicated by <a href="handobj_2pyd.htm"><b>DuplicateHandle</b></a>, which enables you to create a thread handle with a subset of the access rights. The handle is valid until closed, even after the thread it represents has been terminated. </p>
<p>
The <b>CreateThread</b> and <b>CreateRemoteThread</b> functions also return an identifier that uniquely identifies the thread throughout the system. A thread can use the <a href="prothred_4nfo.htm"><b>GetCurrentThreadId</b></a> function to get its own thread identifier. The identifiers are valid from the time the thread is created until the thread has been terminated. </p>
<p>
The Win32 API does not provide a way to get the thread handle from the thread identifier. If the handles were made available this way, the owning process could fail because another process unexpectedly performed an operation on one of its threads, such as suspending it, resuming it, adjusting its priority, or terminating it. Instead, you must request the handle from the thread creator or the thread itself. </p>
<p>
A thread can use the <a href="prothred_8mn8.htm"><b>GetCurrentThread</b></a> function to retrieve a <i>pseudo handle</i> to its own thread object. This pseudo handle is valid only for the calling process; it cannot be inherited or duplicated for use by other processes. To get the real handle to the thread, given a pseudo handle, use the <a href="handobj_2pyd.htm"><b>DuplicateHandle</b></a> function. </p>
<p>&nbsp;</p></body>
</HTML>
