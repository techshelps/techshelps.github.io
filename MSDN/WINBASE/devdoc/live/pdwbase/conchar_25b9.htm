<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>SetConsoleMode</title>
<link disabled rel=stylesheet href=../../backsdk3.css>
<style type="text/css">
@import url(../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h1><a name="_win32_setconsolemode"></a>SetConsoleMode</h1>
<p>
The <b>SetConsoleMode</b> function sets the input mode of a console's input buffer or the output mode of a console screen buffer. </p>
<pre><code><b>BOOL SetConsoleMode(
  HANDLE</b><i> hConsoleHandle</i><b>,</b>
<b>                 </b>// handle to console input or screen buffer
<b>  DWORD</b><i> dwMode</i>   // input or output mode to set
<b>);</b>
 </code></pre>
<h4>Parameters</h4>
<dl>
<dt>
<i>hConsoleHandle</i></dt>
<dd>
Handle to a console input buffer or a screen buffer. The handle must have GENERIC_WRITE access. </dd>
<dt>
<i>dwMode</i></dt>
<dd>
Specifies the input or output mode to set. If the <i>hConsoleHandle</i> parameter is an input handle, the mode can be a combination of the following values. When a console is created, all input modes except ENABLE_WINDOW_INPUT are enabled by default. 
<table cellspacing=4 cols=2>
<tr valign=top>
<th align=left width=46%>Value</th>
<th align=left width=54%>Meaning</th>
</tr>
<tr valign=top>
<td width=46%>ENABLE_LINE_INPUT</td>
<td width=54%>The <a href="filesio_39id.htm"><b>ReadFile</b></a> or <a href="conchar_34h1.htm"><b>ReadConsole</b></a> function returns only when a carriage return character is read. If this mode is disabled, the functions return when one or more characters are available.</td>
</tr>
<tr valign=top>
<td width=46%>ENABLE_ECHO_INPUT</td>
<td width=54%>Characters read by the <b>ReadFile</b> or <b>ReadConsole</b> function are written to the active screen buffer as they are read. This mode can be used only if the ENABLE_LINE_INPUT mode is also enabled.</td>
</tr>
<tr valign=top>
<td width=46%>ENABLE_PROCESSED_INPUT</td>
<td width=54%>ctrl+c is processed by the system and is not placed in the input buffer. If the input buffer is being read by <a href="filesio_39id.htm"><b>ReadFile</b></a> or <a href="conchar_34h1.htm"><b>ReadConsole</b></a>, other control keys are processed by the system and are not returned in the <b>ReadFile</b> or <b>ReadConsole</b> buffer. If the ENABLE_LINE_INPUT mode is also enabled, backspace, carriage return, and linefeed characters are handled by the system.</td>
</tr>
<tr valign=top>
<td width=46%>ENABLE_WINDOW_INPUT</td>
<td width=54%>User interactions that change the size of the console screen buffer are reported in the console's input buffer. Information about these events can be read from the input buffer by applications using the <a href="conchar_4xmc.htm"><b>ReadConsoleInput</b></a> function, but not by those using <b>ReadFile</b> or <b>ReadConsole</b>.</td>
</tr>
<tr valign=top>
<td width=46%>ENABLE_MOUSE_INPUT</td>
<td width=54%>If the mouse pointer is within the borders of the console window and the window has the keyboard focus, mouse events generated by mouse movement and button presses are placed in the input buffer. These events are discarded by <a href="filesio_39id.htm"><b>ReadFile</b></a> or <a href="conchar_34h1.htm"><b>ReadConsole</b></a>, even when this mode is enabled.</td>
</tr>
</table><br>


<p>
If the <i>hConsoleHandle</i> parameter is a screen buffer handle, the mode can be a combination of the following values. When a screen buffer is created, both output modes are enabled by default. 

<table cellspacing=4 cols=2>
<tr valign=top>
<th align=left width=51%>Value</th>
<th align=left width=49%>Meaning</th>
</tr>
<tr valign=top>
<td width=51%>ENABLE_PROCESSED_OUTPUT</td>
<td width=49%>Characters written by the <a href="filesio_3kkl.htm"><b>WriteFile</b></a> or <a href="conchar_2679.htm"><b>WriteConsole</b></a> function or echoed by the <b>ReadFile</b> or <b>ReadConsole</b> function are examined for ASCII control sequences and the correct action is performed. Backspace, tab, bell, carriage return, and linefeed characters are processed.</td>
</tr>
<tr valign=top>
<td width=51%>ENABLE_WRAP_AT_EOL_OUTPUT</td>
<td width=49%>When writing with <b>WriteFile</b> or <b>WriteConsole</b> or echoing with <a href="filesio_39id.htm"><b>ReadFile</b></a> or <a href="conchar_34h1.htm"><b>ReadConsole</b></a>, the cursor moves to the beginning of the next row when it reaches the end of the current row. This causes the rows displayed in the console window to scroll up automatically when the cursor advances beyond the last row in the window. It also causes the contents of the screen buffer to scroll up (discarding the top row of the screen buffer) when the cursor advances beyond the last row in the screen buffer. If this mode is disabled, the last character in the row is overwritten with any subsequent characters.</td>
</tr>
</table><br>

</dd>
</dl>
<h4>Return Values</h4>
<p>
If the function succeeds, the return value is nonzero.</p>
<p>
If the function fails, the return value is zero. To get extended error information, call <a href="errors_3uwi.htm"><b>GetLastError</b></a>. </p>
<h4>Remarks</h4>
<p>
A console consists of an input buffer and one or more screen buffers. The mode of a console buffer determines how the console behaves during input and output (I/O) operations. One set of flag constants is used with input handles, and another set is used with screen buffer (output) handles. Setting the output modes of one screen buffer does not affect the output modes of other screen buffers. </p>
<p>
The ENABLE_LINE_INPUT and ENABLE_ECHO_INPUT modes only affect processes that use <a href="filesio_39id.htm"><b>ReadFile</b></a> or <a href="conchar_34h1.htm"><b>ReadConsole</b></a> to read from the console's input buffer. Similarly, the ENABLE_PROCESSED_INPUT mode primarily affects <b>ReadFile</b> and <b>ReadConsole</b> users, except that it also determines whether ctrl+c input is reported in the input buffer (to be read by the <a href="conchar_4xmc.htm"><b>ReadConsoleInput</b></a> function) or is passed to a <a href="conchar_5zz9.htm"><b>HandlerRoutine</b></a> function defined by the application. </p>
<p>
The ENABLE_WINDOW_INPUT and ENABLE_MOUSE_INPUT modes determine whether user interactions involving window resizing and mouse actions are reported in the input buffer or discarded. These events can be read by <b>ReadConsoleInput</b>, but they are always filtered by <b>ReadFile</b> and <b>ReadConsole</b>. </p>
<p>
The ENABLE_PROCESSED_OUTPUT and ENABLE_WRAP_AT_EOL_OUTPUT modes only affect processes using <b>ReadFile</b> or <b>ReadConsole</b> and <b>WriteFile</b> or <b>WriteConsole</b>. </p>
<p>
To determine the current mode of a console input buffer or a screen buffer, use the <b>GetConsoleMode</b> function. </p>
<h4>QuickInfo</h4>
<p>
<b>&nbsp;&nbsp;Windows NT: </b>Requires version 3.1 or later.<br>
<b>&nbsp;&nbsp;Windows: </b>Requires Windows 95 or later.<br>
<b>&nbsp;&nbsp;Windows CE: </b>Unsupported.<br>
<b>&nbsp;&nbsp;Header: </b>Declared in wincon.h.<br>
<b>&nbsp;&nbsp;Import Library: </b>Use kernel32.lib.</p>
<h4>See Also</h4>
<p>
<a href="conchar_4p6c.htm">Consoles and Character-Mode Support Overview</a>, <a href="conchar_3vg3.htm">Console Functions</a>, <a href="conchar_7opx.htm"><b>GetConsoleMode</b></a>, <a href="conchar_5zz9.htm"><b>HandlerRoutine</b></a>, <a href="conchar_34h1.htm"><b>ReadConsole</b></a>, <a href="conchar_4xmc.htm"><b>ReadConsoleInput</b></a>, <a href="filesio_39id.htm"><b>ReadFile</b></a>, <a href="conchar_2679.htm"><b>WriteConsole</b></a>, <a href="filesio_3kkl.htm"><b>WriteFile</b></a> </p>
<p>&nbsp;</p></body>
</HTML>
