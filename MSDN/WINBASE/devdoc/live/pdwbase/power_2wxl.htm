<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Power Management Policy</title>
<link disabled rel=stylesheet href=../../backsdk3.css>
<style type="text/css">
@import url(../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h2><a name="_win32_power_management_policy"></a>Power Management Policy</h2>
<p>
The system sends a message to all applications and installable drivers whenever a power management event occurs or whenever an application calls the <a href="power_4wv9.htm"><b>SetSystemPowerState</b></a> function to suspend operation. The system sends these messages through the <a href="power_0304.htm">WM_POWERBROADCAST</a> message, setting the <i>wParam</i> parameter to the appropriate message. For example, the <a href="power_1jfp.htm">PBT_APMPOWERSTATUSCHANGE</a> message indicates a system power status change. You must ensure that your application responds to the WM_POWERBROADCAST message to properly stop activity when the system enters the sleeping state and to recover transparently when the system enters the working state. When the system enters the sleeping state, it closes network connections. The user can change the hardware configuration or power supply while the system is in the sleeping state. </p>
<p>
The system sends a <a href="power_7ip0.htm">PBT_APMQUERYSUSPEND</a> message to request permission to suspend system operation. The system expects each application and driver to determine whether the requested event should occur and to return TRUE if it occurs, or return BROADCAST_QUERY_DENY otherwise. Any application or driver can deny the request and prevent the event from occurring.</p>
<p>
The system sends a <a href="power_9ias.htm">PBT_APMSUSPEND</a> message immediately before suspending operation. This gives applications and drivers one last chance to prepare for the event. In many cases, the system sends these messages without requesting permission to do so. This happens, for example, if an application forces suspension with the <a href="power_4wv9.htm"><b>SetSystemPowerState</b></a> function.</p>
<p>
The system sends the <a href="power_9pus.htm">PBT_APMQUERYSUSPENDFAILED</a> message whenever a requested event is denied. These messages notify applications and drivers to continue operation as usual. </p>
<p>
The system sends the <a href="power_0aqs.htm">PBT_APMRESUMESUSPEND</a> or <a href="power_586k.htm">PBT_APMRESUMECRITICAL</a> message when system operation has been restored. </p>
<p>&nbsp;</p></body>
</HTML>
