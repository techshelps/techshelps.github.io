<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>AddAccessAllowedAce</title>
<link disabled rel=stylesheet href=../../backsdk3.css>
<style type="text/css">
@import url(../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h1><a name="_win32_addaccessallowedace"></a>AddAccessAllowedAce</h1>
<p>
The <b>AddAccessAllowedAce</b> function adds an access-allowed ACE to an ACL. The access is granted to a specified SID. </p>
<p>
An ACE is an access-control entry. An ACL is an access-control list. A SID is a security identifier. </p>
<pre><code><b>BOOL AddAccessAllowedAce(
  PACL</b><i> pAcl</i><b>,            </b>// pointer to access-control list
<b>  DWORD</b><i> dwAceRevision</i><b>,  </b>// ACL revision level
<b>  DWORD</b><i> AccessMask</i><b>,     </b>// access mask
<b>  PSID</b><i> pSid</i>             // pointer to security identifier
<b>);</b>
 </code></pre>
<h4>Parameters</h4>
<dl>
<dt>
<i>pAcl</i></dt>
<dd>
Pointer to an <a href="accctrl_4h6a.htm"><b>ACL</b></a> structure. This function adds an access-allowed ACE to the end of this ACL. The ACE is in the form of an <a href="acctrlow_22r6.htm"><b>ACCESS_ALLOWED_ACE</b></a> structure. </dd>
<dt>
<i>dwAceRevision</i></dt>
<dd>
Specifies the revision level of the ACL being modified. Currently, this value must be ACL_REVISION. </dd>
<dt>
<i>AccessMask</i></dt>
<dd>
Specifies the mask of access rights to be granted to the specified SID. </dd>
<dt>
<i>pSid</i></dt>
<dd>
Pointer to the <a href="accctrl_5lyq.htm"><b>SID</b></a> structure representing a user, group, or logon account being granted access. 
</dd>
</dl>
<h4>Return Values</h4>
<p>
If the function succeeds, the return value is nonzero.</p>
<p>
If the function fails, the return value is zero. To get extended error information, call <a href="errors_3uwi.htm"><b>GetLastError</b></a>. </p>
<h4>Remarks</h4>
<p>
The addition of an access-allowed ACE to an ACL is the most common form of ACL modification. </p>
<p>
The <b>AddAccessAllowedAce</b> and <b>AddAccessDeniedAce</b> functions add a new ACE to the end of the list of ACEs for the ACL. These functions do not automatically place the new ACE in the proper canonical order. It is the caller's responsibility to ensure that the ACL is in canonical order by adding ACEs in the proper sequence. For Windows NT versions 4.0 and earlier, the canonical order for a DACL places all access-denied ACEs before any access-allowed ACEs. </p>
<p>
The <b>ACE_HEADER</b> structure placed in the ACE by the <b>AddAccessAllowedAce</b> function specifies a type and size, but provides no inheritance and no ACE flags. </p>
<h4>QuickInfo</h4>
<p>
<b>&nbsp;&nbsp;Windows NT: </b>Requires version 3.1 or later.<br>
<b>&nbsp;&nbsp;Windows: </b>Unsupported.<br>
<b>&nbsp;&nbsp;Windows CE: </b>Unsupported.<br>
<b>&nbsp;&nbsp;Header: </b>Declared in winbase.h.<br>
<b>&nbsp;&nbsp;Import Library: </b>Use advapi32.lib.</p>
<h4>See Also</h4>
<p>
<a href="acctrlow_0xik.htm">Low-Level Access-Control Overview</a>, <a href="acctrlow_6iyb.htm">Low-Level Access Control Functions</a>, <a href="acctrlow_22r6.htm"><b>ACCESS_ALLOWED_ACE</b></a>, <a href="accctrl_0gvm.htm"><b>ACE_HEADER</b></a>, <a href="accctrl_4h6a.htm"><b>ACL</b></a>, <a href="acctrlow_9wo5.htm"><b>AddAccessDeniedAce</b></a>, <a href="acctrlow_8gmd.htm"><b>AddAce</b></a>, <a href="acctrlow_68md.htm"><b>AddAuditAccessAce</b></a>, <a href="acctrlow_2ap1.htm"><b>DeleteAce</b></a>, <a href="acctrlow_21b9.htm"><b>GetAce</b></a> </p>
<p>&nbsp;</p></body>
</HTML>
