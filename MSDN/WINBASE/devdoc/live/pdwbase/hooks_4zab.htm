<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>SysMsgProc</title>
<link disabled rel=stylesheet href=../../backsdk3.css>
<style type="text/css">
@import url(../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h1><a name="_win32_sysmsgproc"></a>SysMsgProc</h1>
<p>
The <b>SysMsgProc</b> hook procedure is a library-defined callback function used with the <a href="hooks_7vaw.htm"><b>SetWindowsHookEx</b></a> function. The system calls this function after an input event occurs in a dialog box, message box, menu, or scroll bar, but before the message generated by the input event is processed. The function can monitor messages for any dialog box, message box, menu, or scroll bar in the system. </p>
<p>
The <b>HOOKPROC</b> type defines a pointer to this callback function. <b>SysMsgProc</b> is a placeholder for the library-defined function name. </p>
<pre><code><b>LRESULT CALLBACK SysMsgProc(
  int</b><i> nCode</i><b>,      </b>// message flag
<b>  WPARAM</b><i> wParam</i><b>,  </b>// undefined
<b>  LPARAM</b><i> lParam</i>   // address of structure with message data
<b>);</b>
 </code></pre>
<h4>Parameters</h4>
<dl>
<dt>
<i>nCode</i></dt>
<dd>
Specifies the type of input event that generated the message. This parameter can be one of the following values: 
<table cellspacing=4 cols=2>
<tr valign=top>
<th align=left width=38%>Value</th>
<th align=left width=62%>Meaning</th>
</tr>
<tr valign=top>
<td width=38%>MSGF_DIALOGBOX</td>
<td width=62%>The input event occurred in a message box or dialog box.</td>
</tr>
<tr valign=top>
<td width=38%>MSGF_MENU</td>
<td width=62%>The input event occurred in a menu.</td>
</tr>
<tr valign=top>
<td width=38%>MSGF_SCROLLBAR</td>
<td width=62%>The input event occurred in a scroll bar.</td>
</tr>
<tr valign=top>
<td width=38%>MSGF_NEXTWINDOW</td>
<td width=62%>The input event occurred as a result of the user's pressing the <small>alt+tab</small> key combination to activate a different window.</td>
</tr>
</table><br>


<p>
If <i>nCode</i> is less than zero, the hook procedure must pass the message to the <a href="hooks_57aw.htm"><b>CallNextHookEx</b></a> function without further processing and should return the value returned by <b>CallNextHookEx</b>. 
</dd>
<dt>
<i>wParam</i></dt>
<dd>
Specifies a NULL value. </dd>
<dt>
<i>lParam</i></dt>
<dd>
Pointer to an <object id=alink_1 type="application/x-oleobject"
	classid="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
<PARAM name="Command" value="ALink,MENU">
<PARAM name="DefaultTopic" value="../../notopic_0pk4.htm">
<PARAM name="Item1" value="">
<PARAM name="Item2" value="_win32_msg_str">
</object><a href=JavaScript:alink_1.Click()><b>MSG</b></a> message structure. 
</dd>
</dl>
<h4>Return Values</h4>
<p>
If <i>nCode</i> is less than zero, the hook procedure must return the value returned by <a href="hooks_57aw.htm"><b>CallNextHookEx</b></a>. </p>
<p>
If <i>nCode</i> is greater than or equal to zero, and the hook procedure did not process the message, it is highly recommended that you call <b>CallNextHookEx</b> and return the value it returns; otherwise, other applications that have installed WH_SYSMSGFILTER hooks will not receive hook notifications and may behave incorrectly as a result. If the hook procedure processed the message, it may return a nonzero value to prevent the system from passing the message to the target window procedure. </p>
<h4>Remarks</h4>
<p>
An application installs the hook procedure by specifying the WH_SYSMSGFILTER hook type and the address of the hook procedure in a call to the <a href="hooks_7vaw.htm"><b>SetWindowsHookEx</b></a> function. </p>
<h4>QuickInfo</h4>
<p>
<b>&nbsp;&nbsp;Windows NT: </b>Requires version 3.1 or later.<br>
<b>&nbsp;&nbsp;Windows: </b>Requires Windows 95 or later.<br>
<b>&nbsp;&nbsp;Windows CE: </b>Unsupported.<br>
<b>&nbsp;&nbsp;Header: </b>Declared in winuser.h.<br>
<b>&nbsp;&nbsp;Import Library: </b>User-defined.</p>
<h4>See Also</h4>
<p>
<a href="hooks_9rg3.htm">Hooks Overview</a>, <a href="hooks_31bn.htm">Hook Functions</a>, <a href="hooks_57aw.htm"><b>CallNextHookEx</b></a>, <object id=alink_2 type="application/x-oleobject"
	classid="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
<PARAM name="Command" value="ALink,MENU">
<PARAM name="DefaultTopic" value="../../notopic_0pk4.htm">
<PARAM name="Item1" value="">
<PARAM name="Item2" value="_win32_msg_str">
</object><a href=JavaScript:alink_2.Click()><b>MSG</b></a>, <a href="hooks_7vaw.htm"><b>SetWindowsHookEx</b></a> </p>
<p>&nbsp;</p></body>
</HTML>
