<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Scrolling a Screen Buffer's Window</title>
<link disabled rel=stylesheet href=../../backsdk3.css>
<style type="text/css">
@import url(../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h2><a name="_win32_scrolling_a_screen_buffer_s_window"></a>Scrolling a Screen Buffer's Window</h2>
<p>
The <a href="conchar_84mn.htm"><b>SetConsoleWindowInfo</b></a> function can be used to scroll the contents of a screen buffer in the console window. This function can also change the window size. The function can either specify the new upper left and lower right corners of the screen buffer's window as absolute screen buffer coordinates or specify the changes from the current window coordinates. The function fails if the specified window coordinates are outside the boundaries of the screen buffer. </p>
<p>
The following example scrolls the view of the screen buffer up one row by modifying the absolute window coordinates returned by the <a href="conchar_34dr.htm"><b>GetConsoleScreenBufferInfo</b></a> function. </p>
<pre><code>HANDLE hStdout; 
CONSOLE_SCREEN_BUFFER_INFO csbiInfo; 
SMALL_RECT srctWindow; 
 
hStdout = GetStdHandle(STD_OUTPUT_HANDLE); 
 
// Get the current screen buffer size and window position. 
 
if (! GetConsoleScreenBufferInfo(hStdout, &amp;csbiInfo)) 
    MyErrorExit("GetConsoleScreenBufferInfo"); 
 
// Set srctWindow to the current window size and location. 
 
srctWindow = csbiInfo.srWindow; 
 
// If window is not at the screen buffer top, move it up one line. 
 
if ( srctWindow.Top &gt; 0 ) 
{ 
    srctWindow.Top -= 1;      // move top up by one row 
    srctWindow.Bottom -= 1;   // move bottom up by one row 

    if (! SetConsoleWindowInfo( 
               hStdout,      // screen buffer handle 
               TRUE,         // absolute coordinates 
               &amp;srctWindow)) // specifies new location 
        MyErrorExit("SetConsoleWindowInfo"); 
} 
 </code></pre>
<p>
The same scrolling can be done by specifying changes in the window coordinates. </p>
<pre><code>// Get the current screen buffer window position. 
 
if (! GetConsoleScreenBufferInfo(hStdout, &amp;csbiInfo)) 
    MyErrorExit("GetConsoleScreenBufferInfo"); 
 
// If window is not at the screen buffer top, move it up one line. 
 
if (csbiInfo.srWindow.Top &gt; 0) 
{ 
    srctWindow.Top = -1;      // move top up by one row 
    srctWindow.Bottom = -1;   // move bottom up by one row 
    srctWindow.Left = 0;      // no change 
    srctWindow.Right = 0;     // no change 

    if (! SetConsoleWindowInfo( 
               hStdout,      // screen buffer handle 
               FALSE,        // deltas, not absolute 
               &amp;srctWindow)) // specifies new location 
    {
        MyErrorExit("SetConsoleWindowInfo"); 
    }
} 
 </code></pre>
<p>&nbsp;</p></body>
</HTML>
