<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Logoff Events</title>
<link disabled rel=stylesheet href=../../backsdk3.css>
<style type="text/css">
@import url(../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h2><a name="_win32_logoff_events"></a>Logoff Events</h2>
<p>
A logoff event occurs when a process calls the <object id=alink_1 type="application/x-oleobject"
	classid="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
<PARAM name="Command" value="ALink,MENU">
<PARAM name="DefaultTopic" value="../../notopic_0pk4.htm">
<PARAM name="Item1" value="">
<PARAM name="Item2" value="_win32_exitwindows">
</object><a href=JavaScript:alink_1.Click()><b>ExitWindows</b></a> or <object id=alink_2 type="application/x-oleobject"
	classid="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
<PARAM name="Command" value="ALink,MENU">
<PARAM name="DefaultTopic" value="../../notopic_0pk4.htm">
<PARAM name="Item1" value="">
<PARAM name="Item2" value="_win32_exitwindowsex">
</object><a href=JavaScript:alink_2.Click()><b>ExitWindowsEx</b></a> function. The logoff event is identified by the window station of the process calling <b>ExitWindowsEx</b>. </p>
<p>
When a logoff event occurs, the system notifies all processes in the system as follows:
<ul>
<li>
All windows of processes in the logon session being logged off receive the <object id=alink_3 type="application/x-oleobject"
	classid="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
<PARAM name="Command" value="ALink,MENU">
<PARAM name="DefaultTopic" value="../../notopic_0pk4.htm">
<PARAM name="Item1" value="">
<PARAM name="Item2" value="_win32_wm_queryendsession">
</object><a href=JavaScript:alink_3.Click()><b>WM_QUERYENDSESSION</b></a> and <object id=alink_4 type="application/x-oleobject"
	classid="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
<PARAM name="Command" value="ALink,MENU">
<PARAM name="DefaultTopic" value="../../notopic_0pk4.htm">
<PARAM name="Item1" value="">
<PARAM name="Item2" value="_win32_wm_endsession">
</object><a href=JavaScript:alink_4.Click()><b>WM_ENDSESSION</b></a> messages. All windows on the desktops of the window station being logged off receive these messages, even if the windows belong to processes running in another logon session.</li>
<li>
Every process in the system receives the CTRL_LOGOFF_EVENT control signal. This signal does not indicate which session is being logged off. The system sends this signal after sending the window messages. For more information on control signals, see the <a href="conchar_599u.htm"><b>SetConsoleCtrlHandler</b></a> function.</li>
</ul>
<p>
If the process that called <b>ExitWindowsEx</b> is running in the logon session of the interactive user, all processes in the logon session are terminated. If the process calling <b>ExitWindowsEx</b> is in some other logon session, only the notifications are made; no processes are terminated.</p>
<p>&nbsp;</p></body>
</HTML>
