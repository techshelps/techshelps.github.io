<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>The General Encode/Decode Model</title>
<link disabled rel=stylesheet href=../../backsdk3.css>
<style type="text/css">
@import url(../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h2><a name="_crypto2_the_general_encode_decode_model"></a>The General Encode/Decode Model</h2>
<p>
The encoding process involves encoding nested C structures. First, the lowest level structure must be encoded. This is depicted as Structure 3 in the following illustration. To do this, the <a href="wincert_9ius.htm"><b>CryptEncodeObject</b></a> function can be called with Structure 3 as its input, and its output will be a blob with the input information encoded and provided as a member of Structure 2. This process is repeated until the final encoded certificate (blob) is output from the function call.</p>
<p>
<img src="images/enc.gif" border=0></p>
<p>
The decoding process is just the opposite of the encoding process and involves taking an encoded certificate, usually in the form of a blob of bits, and decoding it into various predefined C structures. The following illustration depicts the decoding process.</p>
<p>
The process starts with the encoded certificate, an encoded blob (it also has a C structure encoded with it, which for the sake of clarity, is not shown here). When the <a href="wincert_0n90.htm"><b>CryptDecodeObject</b></a> function is run on this blob, the output from it is a C structure that has both usable (nonencoded) members, and encoded members that need further decoding. This is depicted as C structure 1 in the following illustration. If structure 1 is used as the input to the <b>CryptDecodeObject</b> function, the encoded members are decoded and output as structure 2. This will most likely still have encoded members, and the process must be run another time or two until all the members have been fully decoded (depicted as structure 3).</p>
<p>
<img src="images/enc_dec.gif" border=0></p>
<p>&nbsp;</p></body>
</HTML>
