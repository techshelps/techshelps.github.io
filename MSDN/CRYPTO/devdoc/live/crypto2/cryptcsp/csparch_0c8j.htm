<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Persistent Data Objects</title>
<link disabled rel=stylesheet href=../../../backsdk3.css>
<style type="text/css">
@import url(../../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h1><a name="_cryptcsp_persistent_data_objects"></a>Persistent Data Objects</h1>
<p>
Every CSP is responsible for storing public/private key pairs from session to session, in some sort of persistent memory. A CSP implemented completely in software might store these (encrypted) in the Windows Registry; those with a hardware component will likely store the key pairs in tamper-resistant hardware.</p>
<p>
The key pairs are stored in logical data objects known as <i>key containers</i>. The CSP maintains one key container for each user (or client) that uses the CSP. Each key container can store one key pair of each type that the CSP recognizes. For example, the Microsoft® Base Cryptographic Provider recognizes two key pair types, the key exchange key pair and the digital signature key pair.</p>
<p>
Several key containers may be "open" at any given time (either by a single application or multiple ones), but every call to a CryptoSPI function will specify the key container that is to be used via the first parameter to the function. This is illustrated by the following drawing.</p>
<p>
<img src="images/keycont.gif" border=0></p>
<p>
<b>Note</b>&nbsp;&nbsp;In the context of CryptoSPI, the <a href="../datatype_4ypi.htm"><b>HCRYPTPROV</b></a> data type is used to represent a handle to a particular key container within the CSP. This is slightly different than in the CryptoAPI context, where handles of the <b>HCRYPTPROV</b> data type also specify the CSP that is to be used.</p>
<p>&nbsp;</p></body>
</HTML>
