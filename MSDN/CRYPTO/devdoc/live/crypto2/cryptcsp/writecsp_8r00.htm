<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Setting the User Default CSP</title>
<link disabled rel=stylesheet href=../../../backsdk3.css>
<style type="text/css">
@import url(../../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h3><a name="_cryptcsp_setting_the_user_default_csp"></a>Setting the User Default CSP</h3>
<p>
One user default CSP can be specified for each CSP type. This entry is used when an application calls the <a href="../capifunc_0wvo.htm"><b>CryptAcquireContext</b></a> function with only a CSP type specified.</p>
<p>
The user defaults are stored in the Registry's HKEY_CURRENT_USER window, so the CSP Setup program can set this value only if the actual end user is currently logged on to the computer. In any case, the end user should be consulted and/or informed whenever the user default CSP is changed.</p>
<p>
The user default CSP is to be set via the <a href="../capifunc_57si.htm"><b>CryptSetProvider</b></a> function, which internally sets the following Registry entry:</p>
<p>
<b>HKEY_CURRENT_USER<br>
    Software<br>
        Microsoft<br>
            <a href="../overview_8395.htm">Cryptography</a><br>
                Providers<br>
                    Type </b><i>&lt;CSP type&gt;</i><b><br>
</b>                        &gt;Name:REG_SZ:<i>&lt;CSP name&gt;</i> </p>
<p>
The "CSP type" portion of the key name must be in decimal format, and exactly 3 digits in length.</p>
<p>
The "Name" entry must be set to the textual name of the CSP. This must exactly match the "CSP name" Registry key discussed earlier in this chapter.</p>
<p>&nbsp;</p></body>
</HTML>
