<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>The BLOBHEADER Structure</title>
<link disabled rel=stylesheet href=../../../backsdk3.css>
<style type="text/css">
@import url(../../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h2><a name="_cryptcsp_the_blobheader_structure"></a>The BLOBHEADER Structure</h2>
<p>
The <a href="../structs_7aya.htm"><b>BLOBHEADER</b></a> structure is located at the front of every key blob. This is not limited to the key blobs generated by the PROV_RSA_BASE and PROV_RSA_SIG provider types. Any additional key blob types that are defined should also specify that each key blob start with this structure.</p>
<p>
This structure contains fields that indicate the key blob type and the algorithm that the key uses.</p>
<pre><code>typedef struct _PUBLICKEYSTRUC {
    BYTE   bType;
    BYTE   bVersion;
    WORD   Reserved;
    ALG_ID aiKeyAlg;
} ,PUBLICKEYSTRUC;
 </code></pre>
<p>
The following table describes each of the fields in the <a href="../structs_7aya.htm"><b>BLOBHEADER</b></a> structure.</p>
<table cellspacing=4 cols=2>
<tr valign=top>
<th align=left width=17%>Field</th>
<th align=left width=83%>Description</th>
</tr>
<tr valign=top>
<td width=17%><b>bType</b></td>
<td width=83%>Key blob type. The only blob types currently defined are the public key blob, private key blob, and simple blob types. Other key blob types will be defined as needed.<p>
Public key blobs are used to transport RSA public keys, private key blobs are used to transport RSA public/private key pairs, and simple blobs are used to transport session keys.</p>
</td>
</tr>
<tr valign=top>
<td width=17%><b>bVersion</b></td>
<td width=83%>Version number of the key blob format. This currently must always have a value of "0x02".</td>
</tr>
</table><br>
<table cellspacing=4 cols=2>
<tr valign=top>
<td width=17%><b>Reserved</b></td>
<td width=83%>These 2 bytes are reserved for future use, and should be zero.</td>
</tr>
<tr valign=top>
<td width=17%><b>aiKeyAlg</b></td>
<td width=83%>Algorithm identifier for the key contained by the key blob. Some examples are CALG_RSA_SIGN, CALG_RSA_KEYX, CALG_RC2, and CALG_RC4.<p>
Not all algorithm identifiers are valid with all blob types. For example, you would never export an RC4 key into a public key blob.</p>
</td>
</tr>
</table><br>
<p>&nbsp;</p></body>
</HTML>
