<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Writing a CSP</title>
<link disabled rel=stylesheet href=../../../backsdk3.css>
<style type="text/css">
@import url(../../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h1><a name="_cryptcsp_writing_a_csp"></a>Writing a CSP</h1>
<p>
Once you have decided which cryptographic algorithms and data formats are to be included in your CSP and obtained implementations for each of them, putting together a CSP is comparatively straightforward.</p>
<p>
The procedure for creating a CSP is outlined as follows:
<ol>
<li>
Create a DLL that exports all of the CryptoSPI functions. <p>
If your CSP has hardware components, this might also involve writing a smart card device driver and/or the embedded code that runs on the card, but you are on your own with regard to generating the hardware-specific components.
</li>
<li>
Write a setup program for the CSP that creates the appropriate Registry entries.</li>
<li>
Test the CSP. This can only be done using the CSP Developer's Kit, and involves the following sub-steps:<ol type=A>
<li>
Sign the CSP with the Sign.exe utility, producing a debug signature (.SIG) file.</li>
<li>
Install the CSP using the setup program mentioned in step 2.</li>
<li>
Run test code that makes calls to the CSP via CryptoAPI.</li>
</ol>
</li>
<li>
Have the CSP signed by Microsoft®. This will enable the CSP to be used with the released versions of Microsoft Windows NT® or Microsoft Windows® 95. This procedure is described in <a href="signcsp_05us.htm">Getting CSPs Signed</a>.</li>
<li>
Test the CSP again. This is the same as step 3, except that the "real" signature and the release version of Windows NT are used.</li>
</ol>
<p>&nbsp;</p></body>
</HTML>
