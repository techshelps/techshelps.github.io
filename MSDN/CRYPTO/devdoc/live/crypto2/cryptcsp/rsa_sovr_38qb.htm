<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>The Protocol Engine's Contexts</title>
<link disabled rel=stylesheet href=../../../backsdk3.css>
<style type="text/css">
@import url(../../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h1><a name="_crypto2_the_protocol_engines_contexts"></a>The Protocol Engine's Contexts</h1>
<p>
The protocol engine will create one or more contexts via a call to <b>CryptAcquireContext</b> with the <i>dwProvType</i> parameter set to PROV_RSA_SCHANNEL. The <i>dwFlags</i> parameter will usually have the CRYPT_VERIFYCONTEXT flag set. These contexts are used to perform client-side operations as well as bulk encryption.</p>
<p>
When Secure Socket Layer (SSL) 3.0 or Transport Layer Security (TLS) 1.0 is enabled, the protocol engine will typically create an ephemeral key container holding a 512-bit AT_KEYEXCHANGE key pair. This key pair is used when creating the <b>ServerKeyExchange</b> message. Because the key pair is ephemeral, the CRYPT_VOLATILE flag must be specified when the <a href="../capifunc_4ptl.htm"><b>CryptGenKey</b></a> function is called to create it. This call requests that the key pair not be not written to permanent storage. When an ephemeral RSA key is used, the context used to create this key will most likely be acquired by calling <b>CryptAcquireContext</b> with the CRYPT_VERIFYCONTEXT flag value set in the <i>dwFlags</i> parameter.</p>
<p>&nbsp;</p></body>
</HTML>
