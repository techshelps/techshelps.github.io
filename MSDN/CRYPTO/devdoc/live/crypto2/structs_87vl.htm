<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>CRYPT_DECRYPT_MESSAGE_PARA</title>
<link disabled rel=stylesheet href=../../backsdk3.css>
<style type="text/css">
@import url(../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h1><a name="_crypto2_crypt_decrypt_message_para"></a>CRYPT_DECRYPT_MESSAGE_PARA</h1>
<p>
The <b>CRYPT_DECRYPT_MESSAGE_PARA</b> structures are used for decrypting messages.</p>
<pre><code>typedef struct _ CRYPT_DECRYPT_MESSAGE_PARA {
    DWORD                       cbSize;
    DWORD                       dwMsgAndCertEncodingType;
    DWORD                       cCertStore;
    HCERTSTORE*                 rghCertStore;
} CRYPT_DECRYPT_MESSAGE_PARA,  *PCRYPT_DECRYPT_MESSAGE_PARA;
 </code></pre>
<h4>Members</h4>
<dl>
<dt>
<b>cbSize</b></dt>
<dd>
Must be set to the size of this data structure<i>.</i></dd>
<dt>
<b>dwMsgAndCertEncodingType</b></dt>
<dd>
The type of encoding used. Note that both a certificate and message encoding type is required to be specified by combining them with a bitwise OR operation as shown in the following example:
<pre><code>X509_ASN_ENCODING | PKCS_7_ASN_ENCODING
 </code></pre>

<p>
Currently defined encoding types are shown in the following table.

<table cellspacing=4 cols=2>
<tr valign=top>
<th align=left width=49%>Encoding type</th>
<th align=left width=51%>Value</th>
</tr>
<tr valign=top>
<td width=49%>X509_ASN_ENCODING</td>
<td width=51%>0x00000001</td>
</tr>
<tr valign=top>
<td width=49%>PKCS_7_ASN_ENCODING</td>
<td width=51%>0x00010000</td>
</tr>
</table><br>

</dd>
<dt>
<b>cCertStore</b></dt>
<dd>
The number of elements in the array <b>rghCertStore</b>.</dd>
<dt>
<b>rghCertStore</b></dt>
<dd>
An array of certificate store handles.
<p>
These certificate store handles are used to obtain the certificate context to use for decrypting a message. See the decryption functions <a href="sca_73j9.htm"><b>CryptDecryptMessage</b></a>, and <a href="sca_20yt.htm"><b>CryptDecryptAndVerifyMessageSignature</b></a>. An encrypted message can have one or more recipients. The recipients are identified by their certificate ID (certificate issuer and serial number). The certificate stores are searched to find the certificate context corresponding to the certificate ID.

<p>
Only certificate contexts in the store with one of the following properties, CERT_KEY_PROV_INFO_PROP_ID, or CERT_KEY_CONTEXT_PROP_ID can be used. These properties specify the private exchange key to use.

</dd>
</dl>
<h4>See Also</h4>
<p>
<a href="sca_20yt.htm"><b>CryptDecryptAndVerifyMessageSignature</b></a>,<b> <a href="sca_73j9.htm">CryptDecryptMessage</a> </b></p>
<p>&nbsp;</p></body>
</HTML>
