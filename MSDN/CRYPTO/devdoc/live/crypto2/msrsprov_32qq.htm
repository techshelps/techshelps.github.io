<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>The RSA/Schannel Provider Simple Key Blob</title>
<link disabled rel=stylesheet href=../../backsdk3.css>
<style type="text/css">
@import url(../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h2><a name="_cryptcsp_the_rsa_schannel_provider_simple_key_blob"></a>The RSA/Schannel Provider Simple Key Blob</h2>
<p>
Simple key blobs (type SIMPLEBLOB) are used to store and transport session keys. These are always encrypted with a key exchange public key. They have the following format:</p>
<pre><code>BLOBHEADER blobheader;
ALG_ID algid;
BYTE encryptedkey[rsapubkey.bitlen/8];
 </code></pre>
<p>
The following table describes each simple blob components. The encrypted session key data is in the form of a PKCS #1, type 2 encryption block. For details on this data format, see The Public-Key Cryptography Standards (PKCS), published by RSA Data Security, Inc.</p>
<table cellspacing=4 cols=2>
<tr valign=top>
<th align=left width=21%>Field</th>
<th align=left width=79%>Description</th>
</tr>
<tr valign=top>
<td width=21%>blobheader</td>
<td width=79%>A <a href="structs_7aya.htm"><b>BLOBHEADER</b></a> structure. The <b>bType</b> member must have a value of SIMPLEBLOB.</td>
</tr>
<tr valign=top>
<td width=21%>algid</td>
<td width=79%>The algorithm identifier. This typically has a value of CALG_RSA_KEYX, indicating that the session key data was encrypted with a key exchange public key, using the RSA Public-Key exchange algorithm.</td>
</tr>
<tr valign=top>
<td width=21%>encryptedkey</td>
<td width=79%>The encrypted session key data is in the form of a PKCS #1, type 2 encryption block. For details on this data format, see the Public-Key Cryptography Standards (PKCS), published by RSA Data Security, Inc.</td>
</tr>
</table><br>
<p>
This data is always the same size as the public key's modulus. For example, public keys generated by the Microsoft Base Cryptographic Provider are always 512 bits (64 bytes) in length, so the encrypted session key data is also always 64 bytes.</p>
<p>&nbsp;</p></body>
</HTML>
