<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Verifying a DSS Signature</title>
<link disabled rel=stylesheet href=../../backsdk3.css>
<style type="text/css">
@import url(../../backsdk4.css);
</style>
</HEAD>
<BODY BGCOLOR = #FFFFFF TEXT = #000000>

<h3><a name="_crypto2_verifying_a_dss_signature"></a>Verifying a DSS Signature</h3>
<p>
To verify a DSS signature, the DSS public key of the signer must be imported, the signed data must be hashed, and then the signature can be verified. The steps necessary for this are shown in the following procedure.</p>
<h5><img src="../../images/wedge.gif" border=0>&nbsp;&nbsp;&nbsp;&nbsp;To verify a DSS Signature</h5>
<ol>
<li>
Call <a href="capifunc_0wvo.htm"><b>CryptAcquireContext</b></a> to get a pointer to the Microsoft DSS Cryptographic Provider.</li>
<li>
Call <a href="capifunc_5np5.htm"><b>CryptImportKey</b></a> to import the signer's DSS public key.</li>
<li>
Call <a href="capifunc_5kfc.htm"><b>CryptCreateHash</b></a> with the <i>Algid</i> argument set to CALG_SHA to get a pointer to an SHA hash object.</li>
<li>
Call <a href="capifunc_8c81.htm"><b>CryptHashData</b></a> with the <i>hHash</i> argument set to the pointer retrieved in the previous step, and with <i>pbData</i> pointing to the signed data. This creates a hash of the data and returns a handle to the hash in the <i>phHash</i> argument of the <b>CryptCreateHash</b> function call.</li>
<li>
Call <a href="capifunc_3fj9.htm"><b>CryptVerifySignature</b></a> with the following settings:<p class=indent1>
<i>hHash</i>. set to the handle to the hash performed in the previous step.</p>
<p class=indent1>
<i>pbSignature</i>. points to the signature to be verified.</p>
<p class=indent1>
<i>dwSigLen</i>. set to the length of the signature.</p>
<p class=indent1>
<i>hPubKey</i>. set to the handle of the public key imported in step 2.</p>
<p class=indent1>
<i>dwFlags</i>. set to zero.</p>
</li>
</ol>
<p>&nbsp;</p></body>
</HTML>
