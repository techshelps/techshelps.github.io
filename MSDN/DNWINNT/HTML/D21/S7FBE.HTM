<HTML><HEAD><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Why the Processor Queue Is Always Empty</TITLE><META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset= iso-8859-1"><style>@import url(/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="/msdn_ie3.css"></HEAD><BODY BGCOLOR="#FFFFFF">
<FONT FACE="verdana,arial,helvetica" SIZE="2"><FORM NAME="x"><OBJECT CLASSID="clsid:9c2ac687-ceef-11cf-96d9-00a0c903b016" NAME="iv"></OBJECT></FORM>
<H3>Why the Processor Queue Is Always Empty</H3><P>We haven't talked about all Processor counters yet, but if we're going to talk about gotchas, we might as well come clean now. The Processor Queue Length is a measure of the number of threads ready and waiting to execute program instructions when there is no free processor. Because there is only one such queue, the counter belongs to the System object (as opposed to each processor object).</P>
<P>You might be watching a uniprocessor system with lots of threads running and be disappointed to see that the Processor Queue Length counter is always zero. The reason is that in Windows&nbsp;NT, this counter is measured by counting ready threads. This cannot be done unless you also select at least one thread for measurement. Once you include some counter from some thread in your measurement, the count for the Processor Queue Length will be valid. This is mentioned in the Explain text for the Processor Queue Length, but this is a very important counter and a pretty subtle wart, so we thought we'd better tell you.</P></FONT></BODY></HTML>
