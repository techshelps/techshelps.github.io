<HTML><HEAD><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Mouse and Keyboard Driver Entries</TITLE><META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset= iso-8859-1"><style>@import url(/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="/msdn_ie3.css"></HEAD><BODY BGCOLOR="#FFFFFF">
<FONT FACE="verdana,arial,helvetica" SIZE="2"><FORM NAME="x"><OBJECT CLASSID="clsid:9c2ac687-ceef-11cf-96d9-00a0c903b016" NAME="iv"></OBJECT></FORM>
<H3>Mouse and Keyboard Driver Entries</H3><P>Parameters in this section are for the mouse and keyboard class and port drivers.</P>
<H4><A NAME="sec0"></A>Microsoft Bus Mouse Port Driver Entries</H4><P>The following value entry for the Microsoft bus mouse are found in this subkey:</P>
<P>|<P><BR></P>
<pre><code>HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services\Busmouse\Parameters</code></pre>
<P><B>MouseDataQueueSize     REG_DWORD     </B><I>&gt;= 0x1</I></P>
<P>Specifies the number of mouse events to be buffered internally by the driver, in nonpaged pool. The allocated size, in bytes, of the internal buffer is this value times the size of the MOUSE_INPUT_DATA structure (defined in NTDDMOU.H). Consider increasing the size if the System log in Event Viewer frequently contains this message from the Busmouse source: "The ring buffer that stores incoming mouse data has overflowed (buffer size is configurable via the Registry)." </P>
<P>Default: 0x64 (100)</P>
<P><B>SampleRate     REG_DWORD     </B><I>Mouse sample rate in Hz</I></P>
<P>Specifies the sample rate for the bus mouse. Intended for future use. This value might have no effect in the first release of Windows NT.</P>
<P>Default:  0x32 (50 Hz) </P>
<H4><A NAME="sec1"></A>Intel 8042 Port Driver Entries</H4><P>The i8042prt driver handles the keyboard and mouse port mouse (also known as a PS/2-compatible mouse) for the Intel 8042 controller. These value entries are found in the following subkey:</P>
<P>|<P><BR></P>
<pre><code>HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services\i8042prt\Parameters</code></pre>
<P><B>KeyboardDataQueueSize     REG_DWORD     </B><I>&gt;= 0x1</I></P>
<P>Specifies the number of keyboard events to be buffered internally by the driver, in nonpaged pool. The allocated size, in bytes, of the internal buffer is this value times the size of the KEYBOARD_INPUT_DATA structure (defined in NTDDKBD.H). Consider increasing the size if the System log in Event Viewer contains the following message from the i8042prt source:  "The ring buffer that stores incoming keyboard data has overflowed (buffer size is configurable via the Registry)."  </P>
<P>Default: 0x64 (100)</P>
<P><B>MouseDataQueueSize     REG_DWORD     </B><I>&gt;= 0x1</I></P>
<P>Specifies the number of mouse events to be buffered internally by the driver, in nonpaged pool. Consider increasing the size if the System log in Event Viewer contains the following message from the i8042prt source:  "The ring buffer that stores incoming mouse data has overflowed (buffer size is configurable via the Registry)." </P>
<P>Default: 0x64 (100)</P>
<P><B>PollStatusIterations     REG_DWORD     </B><I>Number</I></P>
<P>Specifies the maximum number of times to check the i8042 controller status register for interrupt verification before dismissing the interrupt as spurious. This value can be used to work around a problem experienced on some hardware (including the Olivetti MIPS computers) where the keyboard interrupt is raised before the Output Buffer Full bit is set in the i8042 status register.</P>
<P>Increase this value if the system seems to suddenly stop taking keyboard interrupts. This can happen if a keyboard interrupt is mistakenly dismissed as spurious, when instead it just took too long to set Output Buffer Full after raising the interrupt. Increasing the value of <B>PollStatusIterations</B> results in a longer execution time for the Interrupt Service Routine if the keyboard interrupt truly is spurious (there is a 1 microsecond delay following each check for Output Buffer Full).</P>
<P>To determine whether the driver is taking keyboard interrupts, press the NumLock key. If the NumLock light on the keyboard turns on or off, this indicates that the i8042prt driver handled the keyboard interrupt correctly. </P>
<P>Default:  1</P>
<P><B>PollingIterations     REG_DWORD     </B><I>&gt;= 0x400</I></P>
<P>Specifies the standard number of times to poll the hardware (in polling mode) before giving up and timing out the operation. Consider increasing this value if the driver fails to initialize or work correctly and the System log in Event Viewer contains the following message from the i8042prt source:  "The operation on ... timed out (time out is configurable via the Registry)."</P>
<P>Default:  0x400</P>
<P><B>PollingIterationsMaximum     REG_DWORD     </B><I>&gt;= 0x400</I></P>
<P>Specifies the maximum number of times to poll the hardware (in polling mode) before giving up and timing out the operation. This value is used instead of <B>PollingIterations</B> when an old-style AT keyboard is detected (see <B>OverrideKeyboardType</B>). </P>
<P>Consider increasing this value if the driver fails to initialize or work correctly and the System log in Event Viewer contains the following message from the i8042prt source:  "The operation on ... timed out (time out is configurable via the Registry)."</P>
<P>Default:  0x2EE0</P>
<P><B>ResendIterations     REG_DWORD     </B><I>&gt;= 0x1</I></P>
<P>Specifies the maximum number of times a hardware operation will be retried before timing out. Consider increasing this value if the driver fails to initialize or work correctly and the System log in Event Viewer contains the following message from the i8042prt source:  "Exceeded the allowable number of retries (configurable via the Registry) on device ..."</P>
<P>Default:  0x3</P>
<P><B>SampleRate     REG_DWORD     </B><I>Mouse sample rate in Hz</I></P>
<P>Specifies the sample rate for the mouse. Intended for future use. This value might have no effect in the first release of Windows NT.</P>
<P>Default:  0x3C (60 Hz) </P>
<H4><A NAME="sec2"></A>Microsoft InPort Bus Mouse Port Driver Entries</H4><P>The value entries for the Microsoft InPort&reg; bus mouse are found in the following subkey:</P>
<P>|<P><BR></P>
<pre><code>HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services\Inport\Parameters</code></pre>
<P><B>HzMode     REG_DWORD     </B><I>Mouse sample rate mode specifier</I></P>
<P>Specifies the value written to the Microsoft InPort mode register to set the mouse sample rate. Might be used in the first release of Windows NT, but should become obsolete.</P>
<P>Default:  0x2 (selects 50 Hz)</P>
<P><B>MouseDataQueueSize     REG_DWORD     </B><I>&gt;= 0x1</I></P>
<P>Specifies the number of mouse events to be buffered internally by the driver, in nonpaged pool. The allocated size, in bytes, of the internal buffer is this value times the size of the MOUSE_INPUT_DATA structure (defined in NTDDMOU.H). Consider increasing the size if the System log in Event Viewer contains the following message from the InPort source:  "The ring buffer that stores incoming mouse data has overflowed (buffer size is configurable via the Registry)." </P>
<P>Default: 0x64 (100)</P>
<P><B>SampleRate     REG_DWORD     </B><I>Mouse sample rate in Hz</I></P>
<P>Specifies the sample rate for the Microsoft InPort bus mouse. Intended for future use. This value might have no effect in the first release of Windows NT.</P>
<P>Default:  0x32 (50 Hz) </P>
<H4><A NAME="sec3"></A>Microsoft Serial Mouse Port Driver Entries</H4><P>The value entries for the Microsoft serial mouse are found in the following subkey:</P>
<P>|<P><BR></P>
<pre><code>HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services\Sermouse\Parameters</code></pre>
<P><B>MouseDataQueueSize     REG_DWORD     </B><I>&gt;= 0x1</I></P>
<P>Specifies the number of mouse events to be buffered internally by the driver, in nonpaged pool. The allocated size, in bytes, of the internal buffer is this value times the size of the MOUSE_INPUT_DATA structure (defined in NTDDMOU.H). Consider increasing the size if the System log in Event Viewer contains the following message from the Sermouse source:  "The ring buffer that stores incoming mouse data has overflowed (buffer size is configurable via the Registry)." </P>
<P>Default: 0x64 (100)</P>
<P><B>SampleRate     REG_DWORD     </B><I>Mouse sample rate in Hz</I></P>
<P>Specifies the sample rate for the serial mouse. Intended for future use. This value might have no effect in the first release of Windows NT.</P>
<P>Default:  0x28 (1200 baud) </P>
<H4><A NAME="sec4"></A>Mouse Class Driver Entries</H4><P>The value entries for the mouse class driver are found in the following subkey:</P>
<P>|<P><BR></P>
<pre><code>HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services\Mouclass\Parameters</code></pre>
<P><B>MouseDataQueueSize     REG_DWORD     </B><I>&gt;= 0x1</I></P>
<P>Specifies the number of mouse events to be buffered internally by the driver, in nonpaged pool. The allocated size, in bytes, of the internal buffer is this value times the size of the MOUSE_INPUT_DATA structure (defined in NTDDMOU.H). Consider increasing the size if the System log in Event Viewer frequently contains the following message from the Mouclass source: "The ring buffer that stores incoming mouse data has overflowed (buffer size is configurable via the Registry)." </P>
<P>Default: 0x64 (100)</P>
<H4><A NAME="sec5"></A>Keyboard Class Driver Entries</H4><P>The value entries for the keyboard class driver are found in the following subkey:</P>
<P>|<P><BR></P>
<pre><code>HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services\Kbdclass\Parameters</code></pre>
<P><B>KeyboardDataQueueSize     REG_DWORD     </B><I>&gt;= 0x1</I></P>
<P>Specifies the number of keyboard events to be buffered internally by the driver, in nonpaged pool. The allocated size, in bytes, of the internal buffer is this value times the size of the KEYBOARD_INPUT_DATA structure (defined in NTDDKBD.H). Consider increasing the size if the System log in Event Viewer contains the following message from the Kbdclass source: "The ring buffer that stores incoming keyboard data has overflowed (buffer size is configurable via the Registry)." </P>
<P>Default: 0x64 (100)</P></FONT></BODY></HTML>
