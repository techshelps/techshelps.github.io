<HTML><HEAD><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Server Service Entries</TITLE><META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset= iso-8859-1"><style>@import url(/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="/msdn_ie3.css"></HEAD><BODY BGCOLOR="#FFFFFF">
<FONT FACE="verdana,arial,helvetica" SIZE="2"><FORM NAME="x"><OBJECT CLASSID="clsid:9c2ac687-ceef-11cf-96d9-00a0c903b016" NAME="iv"></OBJECT></FORM>
<H3>Server Service Entries</H3><P>With Registry Editor, you can modify the startup parameters for the Server service. Unless otherwise noted, these parameters are found in this path:</P>
<P>|<P><BR></P>
<pre><code>HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services<BR>    \LanmanServer\Parameters</code></pre>
<P><B>AlertSched     REG_DWORD     </B><I>1 to 65535 minutes</I></P>
<P>Specifies in Microsoft LAN Manager and in Windows NT how often the server checks alert conditions and sends needed alert messages. </P>
<P>Default: 5</P>
<P><B>BlockingThreads     REG_DWORD     </B><I>1 to 9999 for NTAS</I></P>
<P>Specifies the number of threads set aside by the server to service requests that can block the thread for a significant amount of time. Larger values can increase performance but use more memory. A value that is too large can impede performance by causing excessive task switching.</P>
<P>Default:  (depends on configuration; max. 4 for Windows NT Workstation)</P>
<P><B>ConnectionlessAutoDisc     REG_DWORD     </B><I>15 minutes to infinity</I></P>
<P>Disconnect time for clients using direct hosted IPX. If the client does not send a request to the server during this interval, the client is disconnected regardless of whether it has open files or pipes.</P>
<P>Default:  15</P>
<P><B>CriticalThreads     REG_DWORD     </B><I>1 to 9999</I></P>
<P>Special-purpose threads used for time-critical tasks.</P>
<P>Default:  1</P>
<P><B>DiskSpaceThreshold     REG_DWORD     </B><I>0 to 100 percent</I></P>
<P>Specifies the percentage of free disk space remaining before an alert is sent.</P>
<P>Default: 10 percent</P>
<P><B>EnableFCBopens     REG_DWORD     </B><I>0 or 1</I></P>
<P>Specifies whether MS-DOS File Control Blocks (FCBs) are folded together, so multiple remote opens are performed as a single open on the server. This saves resources on the server.</P>
<P>Default: 1 (true)</P>
<P><B>EnableOplockForceClose     REG_DWORD</B>     0 or 1</P>
<P>If a client has an opportunistic lock (oplock) and does not respond to an oplock break, there are two possible behaviors that this parameter selects:</P>

<TABLE COLS="2" BORDER="0" CELLPADDING="7"><COLGROUP><COL WIDTH="58pt" VALIGN="TOP"><COL WIDTH="277pt" VALIGN="TOP"></COLGROUP><TBODY><TR><TD VALIGN="TOP"><P>Value</P></TD><TD VALIGN="TOP"><P>Meaning</P></TD></TR><TR><TD COLSPAN="2" VALIGN="TOP"><P></P></TD></TR><TR><TD VALIGN="TOP"><P>0 (false)</P></TD><TD VALIGN="TOP"><P>Fail the second open, thereby limiting access to the file. (This is typical behavior for a client running LAN Manager version 2.0.)</P></TD></TR><TR><TD VALIGN="TOP"><P>1 (true)</P></TD><TD VALIGN="TOP"><P>Force closed the open instance of the client that has the oplock, risking the loss of cached data. (This is typical behavior for a client running LAN Manager version 2.1.)</P></TD></TR></TBODY></TABLE>
<P>|<P><BR></P><P>Default:  0 (false)</P>
<P><B>EnableOplocks     REG_DWORD     </B><I>0 or 1</I></P>
<P>Specifies whether the server allows clients to use oplocks on files. Oplocks are a significant performance enhancement, but have the potential to cause lost cached data on some networks, particularly wide-area networks.</P>
<P>Default: 1 (true)</P>
<P><B>EnableRaw     REG_DWORD     </B><I>0 or 1</I></P>
<P>Specifies whether the server processes raw Server Message Blocks (SMBs). If enabled, this allows more data to be transferred per transaction and improves performance. However, it is possible that processing raw SMBs can impede performance on certain networks. This parameter is automatically tuned by the server.</P>
<P>Default: 1 (true)</P>
<P><B>ErrorThreshold     REG_DWORD     </B><I>1 to 65535</I></P>
<P>Sets the number of errors that can occur within an <B>AlertSched</B> interval before the server sends an alert message.</P>
<P>Default:  10</P>
<P><B>Hidden     REG_BINARY    </B><I>0 or 1</I></P>
<P>If this parameter is disabled, the server's name and comment can be viewed by others on the domain. If enabled, the server's name and comment will not be announced.</P>
<P>Default: 0 (False)</P>
<P><B>InitConnTable     REG_DWORD</B><I>     1 to 128</I></P>
<P>Specifies the initial number of tree connections to be allocated in the connection table. The server automatically increases the table as necessary, so setting the parameter to a higher value is an optimization.</P>
<P>Default: 8 </P>
<P><B>InitFileTable     REG_DWORD</B><I>     1 to 256</I></P>
<P>Specifies the initial number of file entries to be allocated in the file table of each server connection.</P>
<P>Default:  16</P>
<P><B>InitSearchTable     REG_DWORD</B><I>     1 to 2048</I></P>
<P>Specifies the initial number of entries in the connection's search table.</P>
<P>Default:  8</P>
<P><B>InitSessTable     REG_DWORD</B><I>     1 to 64</I></P>
<P>Specifies the initial number of session entries to be allocated in the session table of each server connection.</P>
<P>Default:  4</P>
<P><B>InitWorkItems     REG_DWORD</B><I>     1 to 512</I></P>
<P>Specifies the initial number of receive buffers, or work items, used by the server. Allocating work items costs a certain amount of memory initially, but not as much as having to allocate additional buffers later. </P>
<P>Default: (depends on configuration)</P>
<P><B>IRPstackSize     REG_DWORD</B><I>     1 to 12</I></P>
<P>Specifies the number of stack locations in I/O Request Packets (IRPs) used by the server. It may be necessary to increase this number for certain transports, MAC drivers, or local file system drivers. Each increment costs 36 bytes of memory per work item (that is, #work items * 36 bytes = total memory cost).</P>
<P>Default:  5</P>
<P><B>LinkInfoValidTime     REG_DWORD</B><I>     0 to 100,000 seconds</I></P>
<P>Specifies the amount of time during which the transport link information is still valid. If more than this amount of time has passed since the last query, the server requires transport link information. </P>
<P>Default:  60</P>
<P><B>MaxFreeConnections     REG_DWORD</B><I>     2 to 8 items</I></P>
<P>Specifies the maximum number of free connection blocks maintained per endpoint.</P>
<P>Default: Depends upon configuration</P>
<P><B>MaxGlobalOpenSearch     REG_DWORD     </B><I>1 to infinity</I></P>
<P>The maximum number of core searches that can be active in the server at one time. This is to ensure that resources used by active core searches cannot exceed a certain limit. A high value allows more searches to be active, but can use up more server resources. A low value would save server resources, but can affect clients that needs a lot of searches to be active.</P>
<P>Default:  4096</P>
<P><B>MaxLinkDelay     REG_DWORD</B><I>     0 to 100,000 seconds</I></P>
<P>Specifies the maximum time allowed for a link delay. If delays exceed this number, the server disables raw I/O for this connection.</P>
<P>Default: 60</P>
<P><B>MaxKeepSearch     REG_DWORD</B><I>     10 to 10000 seconds</I></P>
<P>Specifies the maximum time during which an incomplete MS-DOS search will be kept by the server. Larger values ensure better interoperability with MS-DOS utilities such as tree-copy and delete-node. However, larger values can cause unusual local behavior (such as a failure of a local directory-delete operation) and higher memory use on the server.</P>
<P>Default: 1800</P>
<P><B>MaxMpxCt     REG_DWORD</B><I>     1 to 100 requests</I></P>
<P>Provides a suggested maximum to clients for the number of simultaneous requests outstanding to this server. A higher value can increase server performance but requires higher use of server work items.</P>
<P>Default: 50</P>
<P><B>MaxNonpagedMemoryUsage     REG_DWORD</B><I>     1 MB to infinite bytes</I></P>
<P>Specifies the maximum size of nonpaged memory that the server can have allocated at any time. Adjust this parameter if you want to administer memory quota control.</P>
<P>Default: (depends on system and server configuration)</P>
<P><B>MaxPagedMemoryUsage     REG_DWORD</B><I>     1 MB to infinite bytes</I></P>
<P>Specifies the maximum size of pageable memory that the server can have allocated at any time. Adjust this parameter if you want to administer memory quota control.</P>
<P>Default: (depends on system and server configuration)</P>
<P><B>MaxRawWorkItems     REG_DWORD     </B><I>1 to 512 items</I></P>
<P>Sets the maximum raw work items the server can allocate. If this limit is reached, then the server will reject raw I/O operations from the client.</P>
<P>Default:  (depends on configuration)</P>
<P><B>MaxWorkItems     REG_DWORD</B><I>     1 to 512 items</I></P>
<P>Specifies the maximum number of receive buffers, or work items, the server can allocate. If this limit is reached, the transport must initiate flow control at a significant performance cost.</P>
<P>Default: (depends on configuration)</P>
<P><B>MinFreeConnections     REG_DWORD</B><I>     2 to 5 items</I></P>
<P>Specifies the minimum number of free connection blocks maintained per endpoint.</P>
<P>Default:  (depends upon configuration)</P>
<P><B>MinFreeWorkItems     REG_DWORD</B><I>     0 to 10 items</I></P>
<P>Specifies the minimum number of available receive work items that are needed for the server to begin processing a potentially blocking SMB. A larger value for this parameter ensures that work items are available more frequently for nonblocking requests, but it also increases the likelihood that blocking requests will be rejected.</P>
<P>Default: 2</P>
<P><B>MinLinkThroughput     REG_DWORD</B><I>     0 to infinite bytes per second</I></P>
<P>Specifies the minimum link throughput allowed by the server before it disables raw and opportunistic locks for this connection. </P>
<P>Default:  0</P>
<P><B>MinRcvQueue     REG_DWORD</B><I>     0 to 10 items</I></P>
<P>Specifies the minimum number of free receive work items needed by the server before it begins allocating more. A larger value for this parameter helps ensure that there will always be work items available, but a value that is too large is simply inefficient.</P>
<P>Default: 2</P>
<P><B>NetworkErrorThreshold     REG_DWORD     </B><I>1 to 100 percent</I></P>
<P>Triggers an alert whenever the percentage of failing network operations relative to total network operations exceeds this value during the <B>AlertSched</B> interval.</P>
<P>Default:  5 percent</P>
<P><B>NonBlockingThreads     REG_DWORD     </B><I>1 to 9999</I></P>
<P>Specifies the number of threads set aside by the server to service requests that cannot block the thread for a significant amount of time. Larger values can increase performance but use more memory. A value that is too large can impede performance by causing excessive task switching.</P>
<P>Default:  (depends on configuration; max. 8 for Windows NT Workstation)</P>
<P><B>OpenSearch     REG_DWORD</B><I>     1 to 2048 searches</I></P>
<P>Specifies the maximum number of outstanding searches on the server, per connection. A single client can have up to the <B>OpenSearch</B> number of active searches. This includes all types of searches, including MS-DOS, OS/2, and Windows NT. </P>
<P>Default:  2048</P>
<P><B>OplockBreakWait     REG_DWORD</B><I>     10 to 180 seconds</I></P>
<P>Specifies the time that the server waits for a client to respond to an oplock break request. Smaller values can allow detection of crashed clients more quickly but can potentially cause loss of cached data.</P>
<P>Default:  35</P>
<P><B>RawWorkItems     REG_DWORD</B><I>     1 to 512 items</I></P>
<P>Specifies the number of special work items for raw I/O that the server uses. A larger value for this parameter can increase performance but costs more memory.</P>
<P>Default: (depends on configuration)</P>
<P><B>RemoveDuplicateSearches     REG_DWORD     </B><I>True or false</I></P>
<P>Specifies whether the server should close duplicate searches from the same client. This lessens the likelihood of the server hitting the MaxGlobalOpenSearch limit by closing identical searches. This must be set to False if a client needs multiple identical searches to be active.</P>
<P>Default:  true</P>
<P><B>ScavTimeout     REG_DWORD     </B><I>1 to 300 seconds</I></P>
<P>Specifies the time that the scavenger remains idle before waking up to service requests. A smaller value for this parameter improves the response of the server to various events but costs CPU cycles.</P>
<P>Default: 30</P>
<P><B>ScavQosInfoUpdateTime     REG_DWORD     </B><I>0 to 100,000 seconds</I></P>
<P>Specifies the time that can pass before the scavenger goes through the list of active connections to update the link information.</P>
<P>Default: 300</P>
<P><B>SessConns     REG_DWORD</B><I>     1 to 2048 connections</I></P>
<P>Specifies the maximum number of tree connections that can be made on the server via a single virtual circuit.</P>
<P>Default: 2048</P>
<P><B>SessOpens     REG_DWORD</B><I>     1 to 2048 files</I></P>
<P>Specifies the maximum number of files that can be open on a single virtual circuit.</P>
<P>Default: 2048</P>
<P><B>SessUsers     REG_DWORD</B><I>     1 to 64 users</I></P>
<P>Specifies the maximum number of users that can be logged on to a server via a single virtual circuit.</P>
<P>Default: 32</P>
<P><B>SharingViolationRetries     REG_DWORD     </B><I>0 to 1000</I></P>
<P>The number of times the server retries an operation when it gets sharing violation back from the file system. Operations affected include opens, renames, and deletes. This minimizes network traffic in cases where the client keeps retrying these operations whenever it gets a sharing violation.</P>
<P>Default:  5</P>
<P><B>SharingViolationDelay     REG_DWORD     </B><I>0 to 1000 milliseconds</I></P>
<P>The number of milliseconds that the server delays for each retry. If this value is too low, then a sharing violation error is more likely at the server's next retry. If set too high, then the response to the client might get delayed much more than what is necessary and will negatively affect performance.</P>
<P>Default:  200</P>
<P><B>SizReqBuf     REG_DWORD</B><I>     512 to 65536 bytes</I></P>
<P>Specifies the size of request buffers that the server uses. Small buffers use less memory; large buffers may improve performance.</P>
<P>Default: 4356</P>
<P><B>ThreadPriority     REG_DWORD</B><I>     0, 1, 2, or 15</I></P>
<P>Specifies the priority of all server threads in relation to the base priority of the process. Higher priority can give better server performance at the cost of local responsiveness. Lower priority balances server needs with the needs of other processes on the system. Values 0 to 2 are relative to normal or background processes. The default value of 1 is equivalent to the foreground process. A value of 15 runs the server threads at real-time priority—which is not recommended. </P>
<P>Default: 1</P>
<P><B>Users     REG_DWORD     </B><I>1 to infinite</I></P>
<P>Specifies the maximum number of users that can be simultaneously logged on to the server.</P>
<P>Default:  0xffffffff (infinite); max. 10 for Windows NT Workstation</P>
<P><B>XactMemSize     REG_DWORD     </B><I>64K to 16 MB</I></P>
<P>Specifies the maximum amount of virtual memory used by the Xactsrv service. A larger value for this parameter helps ensure that memory is available for downlevel clients but costs virtual address space and potentially costs pageable memory.</P>
<P>Default:  1 MB</P></FONT></BODY></HTML>
