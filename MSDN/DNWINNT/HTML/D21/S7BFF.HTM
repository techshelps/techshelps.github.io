<HTML><HEAD><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>TCP/IP Transport Entries</TITLE><META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset= iso-8859-1"><style>@import url(/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="/msdn_ie3.css"></HEAD><BODY BGCOLOR="#FFFFFF">
<FONT FACE="verdana,arial,helvetica" SIZE="2"><FORM NAME="x"><OBJECT CLASSID="clsid:9c2ac687-ceef-11cf-96d9-00a0c903b016" NAME="iv"></OBJECT></FORM>
<H3>TCP/IP Transport Entries</H3><P>The various TCP/IP keys do not appear in the Registry unless TCP/IP is installed using the Network icon in Control Panel.</P>
<P> You must restart your machine for a change in any of these parameters to take effect.</P>
<H4><A NAME="sec0"></A>TCP/IP Parameters Subkey Entries</H4><P>The entries for TCP/IP parameters appear under the following Registry path:</P>
<P>|<P><BR></P>
<pre><code>HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services\Tcpip\Parameters</code></pre>
<P><B>ArpCacheLife     REG_DWORD</B><I>     Number of Seconds</I></P>
<P>Determines the default lifetime for entries in the ARP cache table. Once an entry is placed in the ARP cache, it is allowed to remain there until its lifetime expires or until its table entry is reused because it is the oldest entry.</P>
<P>Default: 600  (10 minutes)</P>
<P><B>ArpCacheSize     REG_DWORD</B><I>     Number</I></P>
<P>Determines the maximum number of entries that the ARP cache table can hold. The ARP cache is allowed to grow dynamically until this size is reached. After the table reaches this size, new entries can only be added by replacing the oldest entries that exist.</P>
<P>Default: 62</P>
<P><B>DefaultTTL     REG_DWORD</B><I>     1 to 255 seconds</I></P>
<P>Specifies the default Time To Live (TTL) value set in the header of outgoing IP packets. The TTL determines the maximum amount of time an IP packet may live in the network without reaching its destination. It is effectively a bound on the number of routers an IP packet may pass through before being discarded.</P>
<P>Default:  32</P>
<P><B>EnableDeadGWDetect     REG_DWORD</B><I>     0 or 1</I></P>
<P>Setting this parameter to 1 causes TCP to  perform Dead Gateway Detection. With this feature enabled, TCP will ask IP to change to a backup gateway if it retransmits a segment several times without receiving a response. Backup gateways may be defined in the Advanced section of the TCP/IP configuration dialog in the Network Control Panel option.</P>
<P>Default:  1 (true)</P>
<P><B>EnablePMTUBHDetect     REG_DWORD</B><I>     0 or 1</I></P>
<P>Setting this parameter to 1 (True) causes TCP to try to detect "Black Hole" routers while doing Path MTU Discovery. A "Black Hole" router does not return ICMP Destination Unreachable messages when it needs to fragment a TCP packet with the Don't Fragment bit set. TCP depends on receiving these messages to perform Path MTU Discovery. With this feature enabled, TCP will try to send segments without the Don't Fragment bit set if several retransmissions of a segment go unacknowledged. If the segment is acknowledged as a result, the MSS will be decreased and the Don't Fragment bit will be set in future packets on the connection. Enabling black hole detection increases the maximum number of retransmissions performed for a given segment.</P>
<P>Default:  0 (false)</P>
<P><B>EnablePMTUDiscovery     REG_DWORD</B><I>     0 or 1</I></P>
<P>Setting this parameter to 1 (True) causes TCP to attempt to discover the Maximum Transmission Unit (MTU or largest packet size) over the path to a remote machine. By discovering the Path MTU and limiting TCP segments to this size, TCP can eliminate fragmentation at routers along the path which connect networks with different MTUs. Fragmentation adversely affects TCP throughput and network congestion.</P>
<P>Default:  1 (true)</P>
<P><B>ForwardBufferMemory     REG_DWORD</B><I>     Number of bytes</I></P>
<P>This parameter determines how much memory IP allocates to store packet data in the router packet queue. When this buffer space is filled, the router begins discarding packets at random from its queue.  Packet queue data buffers are 256 bytes in length, so the value of this parameter should be a multiple of 256. Multiple buffers are chained together for larger packets. The IP header for a packet is stored separately. This parameter is ignored and no buffers are allocated if the IP router is not enabled.</P>
<P>Default:  74240 (enough for fifty 1480-byte packets, rounded to a multiple of 256). </P>
<P><B>IGMPLevel     REG_DWORD</B><I>     0, 1, or 2</I></P>
<P>This parameter determines to what extent the system supports IP multicasting and participates in the Internet Group Management Protocol. At level 0, the system provides no multicast support. At level 1, the system may only send IP multicast packets. At level 2, the system may send IP multicast packets and fully participate in IGMP to receive multicast packets.</P>
<P>Default:  2</P>
<P><B>IpReassemblyTimeout     REG_DWORD     </B><I>Number of seconds</I></P>
<P>Determines how long IP accepts fragments when attempting to reassemble a previously fragmented packet. That is, if a packet is fragmented, all of the fragments must make it to the destination within this time limit; otherwise, the fragments will be discarded and the packet will be lost.</P>
<P>Default: 60 seconds</P>
<P><B>KeepAliveInterval     REG_DWORD</B><I>     1 to 0xffffffff milliseconds</I></P>
<P>This parameter determines the interval separating keep alive retransmissions until a response is received. Once a response is receive, the delay until the next keep alive transmission is again controlled by the value of KeepAliveTime. The connection will be end after the number of retransmissions specified by TcpMaxDataRetransmissions have gone unanswered.</P>
<P>Default:  1000 (1 second)</P>
<P><B>KeepAliveTime     REG_DWORD</B><I>     1 to 0xffffffff milliseconds</I></P>
<P>The parameter controls how often TCP attempts to verify that an idle connection is still intact by sending a keep alive packet. If the remote system is still reachable and functioning, it will acknowledge the keep alive transmission. Keep alive packets are not sent by default. This feature may be enabled on a connection by an application.</P>
<P>Default:  7,200,000 (two hours)</P>
<P><B>NumForwardPackets     REG_DWORD</B><I>     Less than 0xffffffff</I></P>
<P>This parameter determines the number of IP packet headers which are allocated for the router packet queue. When all headers are in use, the router will begin to discard packets at random from the queue. This value should be at least as large as the ForwardBufferMemory value divided by the maximum IP data size of  the networks connected to the router. It should be no larger than the ForwardBufferMemory value divided by 256, since at least 256 bytes of forward buffer memory are used for each packet. The optimal number of forward packets for a given ForwardBufferMemory size depends on the type of traffic carried on the network and will be somewhere in between these two values.  This parameter is ignored and no headers are allocated if the router is not enabled.</P>
<P>Default:  50</P>
<P><B>TcpDisableReceiveChecksum    REG_DWORD </B><I>    0 or 1</I></P>
<P>Specifies whether Checksums is disabled on receive.</P>
<P>Default: 0 (false, that is, checksums will be checked on receives)</P>
<P><B>TcpDisableSendChecksum     REG_DWORD </B><I>    0 or 1</I></P>
<P>Specifies whether Checksums is disabled on send.</P>
<P>Default: 0 (false, that is, checksums will be generated on sends)</P>
<P><B>TcpKeepCnt     REG_DWORD     </B><I>Number in seconds</I></P>
<P>Specifies how often TCP/IP will generate keep-alive traffic. When TCP/IP determines that no activity has occurred on the connection within the specified time, it generates keep-alive traffic to probe the connection. After trying <B>TcpKeepTries</B> number of times to deliver the keep-alive traffic without success, it marks the connection as down.</P>
<P>Default: 120</P>
<P><B>TcpKeepTries     REG_DWORD     </B><I>Number</I></P>
<P>Specifies the maximum number of times that TCP/IP will attempt to deliver keep-alive traffic before marking a connection as down.</P>
<P>Default: 20</P>
<P><B>TcpLogLevel     REG_DWORD </B><I>  Number</I></P>
<P>Specifies how verbose TCP/IP should be about logging events in the event log. The highest level of verbosity is 16, and 1 is the lowest level. The following shows general information about these levels.</P>

<TABLE COLS="2" BORDER="0" CELLPADDING="7"><COLGROUP><COL WIDTH="48pt" VALIGN="TOP"><COL WIDTH="286pt" VALIGN="TOP"></COLGROUP><TBODY><TR><TD VALIGN="TOP"><P>Level</P></TD><TD VALIGN="TOP"><P>Events to be included</P></TD></TR><TR><TD VALIGN="TOP"><P>1 </P></TD><TD VALIGN="TOP"><P>Only the most critical errors</P></TD></TR><TR><TD VALIGN="TOP"><P>4 </P></TD><TD VALIGN="TOP"><P>Serious protocol violations</P></TD></TR><TR><TD VALIGN="TOP"><P>8 </P></TD><TD VALIGN="TOP"><P>Nonserious protocol violations</P></TD></TR><TR><TD VALIGN="TOP"><P>12 </P></TD><TD VALIGN="TOP"><P>Information about unusual events</P></TD></TR><TR><TD VALIGN="TOP"><P>16 </P></TD><TD VALIGN="TOP"><P>Information about unusual events that some networks normally allow</P></TD></TR></TBODY></TABLE>
<P>|<P><BR></P><P>Default:  16 (log everything)</P>
<P><B>TcpMaxConnectAttempts     REG_DWORD    </B><I>Number</I></P>
<P>Specifies the maximum number of times TCP/IP attempts to establish a connection before reporting failure. The initial delay between connection attempts is 3 seconds. This delay is doubled after each attempt.</P>
<P>Default: 3</P>
<P><B>TcpMaxConnectRetransmission     REG_DWORD</B><I>     0 to 0xffffffff</I></P>
<P>This parameter determines the number of times TCP will retransmit a connect request (SYN) before stoping the attempt. The retransmission timeout is doubled with each successive retransmission in a given connect attempt. The initial timeout value is three seconds.</P>
<P>Default:  3</P>
<P><B>TcpMaxDataRetransmissions     REG_DWORD</B><I>     0 to 0xffffffff</I></P>
<P>This parameter controls the number of times TCP will retransmit an individual data segment (non connect segment) before ending the connection. The retransmission timeout is doubled with each successive retransmission on a connection. It is reset when responses resume. The base timeout value is dynamically determined by the measured round-trip time on the connection.</P>
<P>Default:  5</P>
<P><B>TcpMaxRetransmissionAttempts     REG_DWORD      </B><I>Number</I></P>
<P>Specifies the maximum number of times that TCP/IP attempts to retransmit a piece of data on an established connection before ending the connection. The initial delay before retransmitting is based on the current estimate TCP/IP makes of the round-trip time on the connection. This delay is doubled after each retransmission. Acknowledgment of the data results in a recalculation of the estimate for the round-trip time.</P>
<P>Default: 7</P>
<P><B>TcpNumConnections     REG_DWORD</B><I>     0 to 0xffffFE</I></P>
<P>This parameter limits the maximum number of connections that TCP may have open simultaneously.</P>
<P>Default:  0xffffFE</P>
<P><B>TcpRecvSegmentSize     REG_DWORD</B><I>     Bytes</I></P>
<P>Specifies the maximum receive segment size. </P>
<P>Default:  1460</P>
<P><B>TcpSendDownMax     REG_DWORD</B><I>     Number</I></P>
<P>Specifies the maximum number of bytes queued by TCP/IP.</P>
<P>Default:  16384</P>
<P><B>TcpSendSegmentSize     REG_DWORD</B><I>     Bytes</I></P>
<P>Specifies the maximum send segment size. </P>
<P>Default: 1460</P>
<P><B>TcpWindowSize     REG_DWORD</B><I>     Number</I></P>
<P>This parameter determines the maximum TCP receive window size offered by the system. The receive window specifies the number of bytes a sender may transmit without receiving an acknowledgment. In general, larger receive windows will improve performance over high delay or high bandwidth networks. For maximum efficiency, the receive window should be an even multiple of the MTU of the underlying network less the size of the standard TCP and IP headers (40 bytes).</P>
<P>Default:  The smaller of: 0xffff OR the larger of: four times the maximum TCP data size on the network OR 8192 rounded up to an even multiple of the network TCP data size</P>
<P><B>UdpDisableReceiveChecksum   REG_DWORD </B><I>    0 or 1</I></P>
<P>Specifies whether Checksums is disabled on receive.</P>
<P>Default: 0 (false, that is, checksums will be checked on receives)</P>
<P><B>UdpDisableSendChecksum     REG_DWORD </B><I>    0 or 1</I></P>
<P>Specifies whether Checksums is disabled on send.</P>
<P>Default: 0 (false, that is, checksums will be generated on sends)</P>
<H4><A NAME="sec1"></A>Adapter Card Parameters for TCP/IP</H4><P>These parameters for TCP/IP are specific to individual network adapter cards. These appear under the following Registry path, where <I>adapter name#</I> refers to the Services subkey for the specific adapter card:</P>
<P>|<P><BR></P>
<pre><code>HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services<BR>    \<I>adapter name#</I>\Parameters\Tcpip</code></pre>
<P><B>ForwardBroadcasts     REG_DWORD     </B><I> 0 or 1 </I></P>
<P>Specifies whether broadcasts should be forwarded between adapters. If enabled, broadcasts seen by this interface are forwarded to other IP interfaces.</P>
<P>Default:  0 (false)</P>
<P><B>KeepAlive     REG_DWORD     </B><I>0 or 1</I></P>
<P>Determines whether TCP connections that request keep-alive packets result in keep-alive packets being sent. This feature is used to determine when inactive connections can be disconnected. When a connection becomes inactive, keep-alive packets are periodically exchanged. When 20 consecutive keep-alive packets go unanswered, the connection is broken. This disconnect is initiated by the endpoint that is sending keep-alive packets.</P>
<P>Default:  1 (true)</P>
<P><B>MTU     REG_DWORD     </B><I>Number in octets</I></P>
<P>Specifies the maximum transmission unit size of an interface. Each interface used by TCP/IP may have a different MTU value specified. The MTU is usually determined through negotiation with the lower driver, using that lower driver's value. However, that value may be overridden. </P>
<P>Ideally, the MTU should be large enough to hold any datagram in one frame. The limiting factor is usually the technology making the transfer. Some technologies limit the maximum size to as little as 128; Ethernet limits transfers to 1500; and proNet-10 allows as many as 2044 octets per frame.</P>
<P>Datagrams larger than the MTU value are automatically divided into smaller pieces called fragments; size is a multiple of eight octets. Fragmentation usually occurs somewhere through which the traffic must pass whose MTU is smaller than the encapsulated datagram. If fragmentation occurs, the fragments travel separately to the destination computer, where they are automatically reassembled before the datagram is processed.</P>
<P>Default: 0 (That is, use the value supplied by the adapter.)</P>
<P><B>RouterMTU     REG_DWORD     </B><I>Number in octets</I></P>
<P>Specifies the maximum transmission unit size that should be used when the destination IP address is on a different subnet. Each interface used by TCP/IP may have a different <B>RouterMTU</B> value specified. In many implementations, the value of <B>RouterMTU</B> is set to 576 octets. This is the minimum size that must be supported by any IP node. Because modern routers can usually handle MTUs larger than 576 octets, the default value for this parameter is the same value as that used by <B>MTU</B>.</P>
<P>Default: 0 (That is, use the value supplied by the lower interface.)</P>
<H4><A NAME="sec2"></A>DHCP Server Service Entries for TCP/IP</H4><P>You must restart the Microsoft DHCP Server service whenever you change any of these parameters.</P>
<P>The Registry parameters for DHCP servers are specified under the following key:</P>
<P>|<P><BR></P>
<pre><code>..SYSTEM\current\currentcontrolset\services\DHCPServer\Parameters</code></pre>
<P><B>BackupInterval     REG_DWORD     </B><I>Interval</I></P>
<P>Specifies the interval (unlimited) for backing up the database.</P>
<P>Default = 15 minutes</P>
<P><B>DatabaseCleanupInterval     REG_DWORD</B><I>     Interval in minutes</I></P>
<P>Specifies the interval (unlimited) for cleaning up expired client records from the DHCP database, freeing up those IP addresses for reuse.</P>
<P>Default = 1440 minutes (1 day)</P>
<P><B>DatabaseLoggingFlag     REG_DWORD</B><I>     0 or 1</I></P>
<P>Specifies whether to record the database changes in the JET.LOG file. This log file is used after a system crash to recover changes that have not been made to the database file defined by <B>DatabaseName</B>. Database logging affects system performance, so <B>DatabaseLogging</B> can be turned off if you believe the system is highly stable and if logging is adversely affecting system performance.</P>
<P>Default = 1 (true—that is, database logging is enabled)</P>
<H4><A NAME="sec3"></A>FTP Server Service Entries for TCP/IP</H4><P>The following Registry path contains parameters that affect the behavior of the FTP server service component:</P>
<P>|<P><BR></P>
<pre><code>HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services\Ftpsvc\Parameters</code></pre>
<P>The Ftpsvc subkey does not appear until you install the FTP service using the Network icon in Control Panel. Also, you must restart the FTP server service (Ftpsvc) using the Services icon in Control Panel for any changes to these values to take effect.</P>
<P>There can also be an AccessCheck subkey under Ftpsvc, which allows access to FTP for new users. If the AccessCheck subkey exists, but cannot be opened, the user is refused FTP services. If the subkey exists but can only be opened for read access, the user is granted read-only FTP access. If the subkey does not exist, it is not used to influence FTP access. By default, this subkey does not exist and therefore has no impact on FTP operations. An administrator can create this Registry subkey and attach specific access controls. which will serve to control user access to the FTP service. </P>
<P><B>AnnotateDirectories     REG_DWORD  </B><I>    0 or 1</I></P>
<P>When this value is 1, every time a user changes directories (that is, sends the server a CWD command), an attempt is made to open a file named ~FTPSVC~.CKM in the new directory. If this file is found, its contents are sent to the user as part of the successful reply to the CWD command. This may be used to attach annotations to specific directories.</P>
<P>This value is used as a default for new users. Users can toggle their own personal annotate directories flag with the site-specific CKM command (SITE CKM).</P>
<P>Default:  0 (false —do not send directory annotations)</P>
<P><B>ConnectionTimeout     REG_DWORD     </B><I>Seconds</I></P>
<P>Specifies the time to allow clients to remain idle before forcibly disconnecting them. This prevents idle clients from consuming server resources indefinitely.</P>
<P>This value may be set to 0 if time-outs are not to be enforced. If set to 0, idle clients may remain connected indefinitely.</P>
<P>Default: 600 (10 minutes)</P>
<P><B>LogAnonymous     REG_DWORD </B><I>    0 or 1</I></P>
<P>When this value is 1, all successful anonymous logins are logged to the system event log.</P>
<P>Default: 0 (false —do not log successful anonymous logins)</P>
<P><B>LogFileAccess     REG_DWORD     </B><I>0, 1, or 2</I></P>
<P>Specifies log file access method. Syntax is as follows:</P>

<TABLE COLS="2" BORDER="0" CELLPADDING="7"><COLGROUP><COL WIDTH="50pt" VALIGN="TOP"><COL WIDTH="283pt" VALIGN="TOP"></COLGROUP><TBODY><TR><TD VALIGN="TOP"><P>Value</P></TD><TD VALIGN="TOP"><P>Description</P></TD></TR><TR><TD VALIGN="TOP"><P>0</P></TD><TD VALIGN="TOP"><P>Do not log file accesses.</P></TD></TR><TR><TD VALIGN="TOP"><P>1</P></TD><TD VALIGN="TOP"><P>Log file accesses to FTPSVC.LOG</P></TD></TR><TR><TD VALIGN="TOP"><P>2</P></TD><TD VALIGN="TOP"><P>Log file accesses to FT<I>yymmdd</I>.LOG, where <I>yy</I> is the current year, <I>mm</I> is the current month, and <I>dd</I> is the current day. New log files are opened daily as necessary.</P></TD></TR></TBODY></TABLE>
<P>|<P><BR></P><P>Default:  0</P>
<P><B>LogNonAnonymous     REG_DWORD </B><I>    0 or 1</I></P>
<P>When this value is 1, all successful non-anonymous logins are logged to the system event log.</P>
<P>Default: 0 (false, that is, do not log successful non-anonymous logins)</P>
<P><B>MaxConnections     REG_DWORD </B><I>    0 or 1</I></P>
<P>Specifies the maximum number of simultaneous clients the server will service. This value may be set to 0 if there is to be no limit on simultaneous clients.</P>
<P>Default: 20</P>
<H4><A NAME="sec4"></A>NetBt Parameters for TCP/IP</H4><P>NetBt is the NetBIOS over TCP/IP service. Parameters for TCP/IP are also configured under NetBt in the following Registry path:</P>
<P>|<P><BR></P>
<pre><code>HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services\NetBt\Parameters</code></pre>
<P><B>BcastNameQueryCount     REG_DWORD     </B><I>1 to 0xffff repetitions</I></P>
<P>This value determines the number of times NBT broadcasts a query for a given name without receiving a response.</P>
<P>Default:  3</P>
<P><B>BcastQueryTimeout     REG_DWORD     </B><I>100 to 0xffffffff milliseconds</I></P>
<P>This value determines the time interval between successive broadcast name queries for the same name.</P>
<P>Default:  750 msec</P>
<P><B>CacheTimeout     REG_DWORD     </B><I>60000 to 0xffffffff milliseconds</I></P>
<P>This value determines the time interval that names are cached in the remote name table.</P>
<P>Default:  0x927C0 (10 minutes)</P>
<P><B>EnableProxyCheck     REG_DWORD     </B><I>0 or 1</I></P>
<P>When this is enabled, the proxy will check name registrations from Bnodes against the WINS database by doing a name query to WINS. If it finds the name in WINS with a different IP address, the proxy will send a name registration failure message to the Bnode. Set this value to 1 to verify that Bnodes do not claim names that Pnodes have.</P>
<P>Default:  0 (disabled)</P>
<P><B>InitialRefreshTimeout     REG_DWORD</B><I>     960,000 to 0xfffffff milliseconds</I></P>
<P>This parameter specifies the initial refresh timeout used by NBT during name registration. NBT tries to contact the WINS servers at 1/8th of this time interval when it is first registering names. When it receives a successful registration response, that response will contain the new refresh interval to use.</P>
<P>Default:  960,000 (16 minutes)</P>
<P><B>LmhostsTimeout     REG_DWORD</B><I>     1000 to 0xffffffff milliseconds</I></P>
<P>This parameter specifies the timeout value for Lmhosts and DNS name queries. The timer has a granularity of the timeout value, so the actual timeout could be as much as twice the value.</P>
<P>Default:  6000 (6 seconds)</P>
<P><B>MaxDgramBuffering     REG_DWORD</B><I>     0 to 0xffffffff bytes</I></P>
<P>This parameter specifies the maximum amount of memory that NBT will dynamically allocate for all outstanding datagram sends. Once this limit is reached, further sends will fail due to insufficient resources. </P>
<P>Default:  0x20,000 (128K)</P>
<P><B>MaxPreload     REG_DWORD</B><I>     Number</I></P>
<P>Specifies the maximum NetBt number of entries for LMHOSTS that are preloaded into the NetBt NetBIOS name cache. LMHOSTS is a file located in the directory specified by <B>DatabasePath.</B></P>
<P>Default: 100</P>
<P><B>NameSrvQueryCount     REG_DWORD     </B><I>0 to 0xffff milliseconds</I></P>
<P>This value determines the number of times NBT sends a query to a WINS server for a given name without receiving a response.</P>
<P>Default:  3</P>
<P><B>NameSrvQueryTimeout     REG_DWORD     </B><I>0 to 0xffffffff milliseconds</I></P>
<P>This value determines the time interval between successive name queries to WINS for a given name.</P>
<P>Default:  750 msec</P>
<P><B>NbtKeepAlive     REG_DWORD     </B><I>Number in seconds</I></P>
<P>Specifies how often NetBT will generate keep-alive traffic. When NetBt determines that no activity has occurred on a connection for the specified time interval, it will generate keep-alive traffic to probe the connection. If TCP/IP is unable to deliver this traffic, it marks the connection as down and notifies NetBT.</P>
<P>Default:  1 (Generate NetBt keep-alive traffic.)</P>
<P><B>NodeType     REG_DWORD     </B><I>1, 2, 4, or 8</I></P>
<P>1 = Bnode, 2 = Pnode, 4 = Mnode, 8 = Hnode. A Bnode system uses broadcasts. A Pnode system uses only point-to-point name queries to a name server (WINS). An Mnode system broadcasts first, then queries the name server. An Hnode system queries the name server first, then broadcasts. Resolution via Lmhosts and/or DNS, if enabled, will follow the these methods. If this key is present it will override the DhcpNodeType key. If neither key is present, the system defaults to Bnode if there are no WINS servers configured for the network. The system defaults to Hnode if there is at least one WINS server configured.</P>
<P>Default:  1 or 8 based on the WINS server configuration.</P>
<P><B>RandomAdapter     REG_DWORD</B><I>     0 or 1</I></P>
<P>This parameter applies to a multihomed machine only.  If it is set to 1 (True), then NBT will randomly choose the IP address to put in a name query response from all of its bound interfaces. Normally, the response contains the address of the interface on which the query arrived. This feature would be used by a server with two interfaces on the same network for load balancing. The SingleResponse parameter must be set to a value of 1 (True) for this parameter to take effect.</P>
<P>Default:  0 (false)</P>
<P><B>SessionKeepAlive     REG_DWORD     </B><I>60,000 to 0xffffffff</I></P>
<P>This value determines the time interval between keep alive transmissions on a session. Setting the value to 0xffffffff disables keep alives.</P>
<P>Default:  60,000 (1 hour)</P>
<P><B>Size/Small/Medium/Large     REG_DWORD</B><I>     1, 2, or 3</I></P>
<P>This value determines the size of the name tables used to store local and remote names. In general, Small (1) is adequate. If the system is acting as a proxy nameserver, then the value is automatically set to Large to increase the size of the name cache hash table. Large (3) sets the number of hash buckets to 256, Medium (2) to 128, Small to 16.</P>
<P>Default:  1 (Small)</P>
<P><B>WinsDownTimeout     REG_DWORD     </B><I>1000 to 0xffffffff milliseconds</I></P>
<P>This parameter determines the amount of  time NBT will wait before again trying to use WINS after it fails to contact any WINS server. This feature primarily allows machines which are temporarily disconnected from the network, such as laptops, to proceed through boot processing without waiting to timeout out each WINS name registration or query individually. </P>
<P>Default:  15,000 (15 seconds)</P>
<H4><A NAME="sec5"></A>Streams Parameters for TCP/IP</H4><P>The TCP/IP parameter for Streams are found under the following Registry path:</P>
<P>|<P><BR></P>
<pre><code>HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services\Streams\Parameters</code></pre>
<P><B>MaxMemoryUsage     REG_DWORD</B><I>     Number of bytes</I></P>
<P>Specifies the maximum amount of memory that can be allocated to the Streams environment. Once this limit is reached, Streams will fail allocation requests made by Streams-based drivers. </P>
<P>Default: No limit</P>
<H4><A NAME="sec6"></A>Windows Sockets Entries for TCP/IP</H4><P>All Windows Sockets parameters can be set by choosing the Network icon in Control Panel. These parameters are found in two locations, as shown here.</P>
<P>|<P><BR></P>
<pre><code>HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet    \Services
\Winsock\Parameters</code></pre>
<P>AFD is the driver that handles Winsock. These values are in the following Registry path:</P>
<P>|<P><BR></P>
<pre><code>HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet    \Services\Afd\Parameters</code></pre>
<P>Some of these values have three defaults, depending on amount of RAM:</P>

<TABLE COLS="2" BORDER="0" CELLPADDING="7"><COLGROUP><COL WIDTH="68pt" VALIGN="TOP"><COL WIDTH="282pt" VALIGN="TOP"></COLGROUP><TBODY><TR><TD VALIGN="TOP"><P>Default</P></TD><TD VALIGN="TOP"><P>Amount of RAM</P></TD></TR><TR><TD VALIGN="TOP"><P>First</P></TD><TD VALIGN="TOP"><P>12.5 MB or less</P></TD></TR><TR><TD VALIGN="TOP"><P>Second</P></TD><TD VALIGN="TOP"><P>12.5 to 20 MB</P></TD></TR><TR><TD VALIGN="TOP"><P>Third</P></TD><TD VALIGN="TOP"><P>More than 20 MB</P></TD></TR></TBODY></TABLE>
<P>|<P><BR></P><P><B>BufferMultiplier     REG_DWORD     </B><I>Multiplier</I></P>
<P>DefaultReceiveWindow and DefaultSendWindow get divided by this value to determine how many massages can be sent/received before flow control is imposed.</P>
<P>Default:  512</P>
<P><B>DefaultReceiveWindow     REG_DWORD     </B><I>Bytes</I></P>
<P>The number of receive bytes AFD will buffer on a connection before imposing flow control. for some applications. A larger value here will give slightly better performance at the expense of increased resource utilization. Note that applications can modify this value on a per-socket basis with the SO_RCVBUF socket option.</P>
<P>Default:  8192</P>
<P><B>DefaultSendWindow     REG_DWORD     </B><I>Bytes</I></P>
<P>Same as DefaultReceiveWindow, but for the send side of connections.</P>
<P>Default:  8192</P>
<P><B>InitialLargeBufferCount     REG_DWORD     </B><I>Buffer count</I></P>
<P>The count of large buffers allocated by AFD at system startup. Allocate more buffers to improve performance at the cost of physical memory.</P>
<P>Default:  0, 2, or 10 depending on RAM amount.</P>
<P><B>InitialMediumBufferCount     REG_DWORD     </B><I>Buffer count</I></P>
<P>Initial count of medium buffers.</P>
<P>Default:  2, 10, or 30 depending on RAM amount.</P>
<P><B>InitialSmallBufferCount     REG_DWORD     </B><I>Buffer count</I></P>
<P>Initial count of small buffers.</P>
<P>Default:  5, 20, or 50 depending on RAM amount.</P>
<P><B>LargeBufferSize     REG_DWORD     </B><I>Bytes</I></P>
<P>The size in bytes of large buffers used by AFD. Smaller values use less memory, larger values can improve performance.</P>
<P>Default:  4096</P>
<P><B>MediumBufferSize     REG_DWORD     </B><I>Bytes</I></P>
<P>The size in bytes of medium buffers used by AFD. Smaller values use less memory, larger values can improve performance.</P>
<P>Default:  1504</P>
<P><B>PriorityBoost     REG_DWORD     </B><I>Priority</I></P>
<P>The priority boost AFD gives to a thread when it completes I/O for that thread. If a multithreaded application experiences starvation of some threads, reducing this value may remedy the problem.</P>
<P>Default:  2</P>
<P><B>SmallBufferSize     REG_DWORD     </B><I>Bytes</I></P>
<P>The size in bytes of small buffers used by AFD. Smaller values use less memory, larger values can improve performance.</P>
<P>Default:  64</P>
<P><B>StandardAddressLength     REG_DWORD     </B><I>Length</I></P>
<P>The length of TDI addresses typically used for the machine. If the customer has a transport protocol like TP4 which uses very long addresses, then increasing this value will result in a slight performance improvement.</P>
<P>Default:  24</P>
<H4><A NAME="sec7"></A>WINS Entries for TCP/IP</H4><P>The Registry parameters for WINS servers are specified under the following subkey:</P>
<P>|<P><BR></P>
<pre><code>..\SYSTEM\CurrentControlSet\Services\Wins\Parameters</code></pre>
<P>This subkey lists all the nonreplication-related parameters needed to configure a WINS server. It also contains a \Datafiles subkey, which lists all the files that should be read by WINS to initialize or reinitialize its local database.</P>
<P><B>InitTimePause     REG_DWORD     </B><I>1-40</I></P>
<P>Set to 1 to instruct WINS to remain in the paused state until the first replication. If set to 1, it is recommended that WINS\Partners\Pull\InitTimeReplication be either set to 1 or removed. Either method ensures that WINS replicates with its listed partners on starting. Paused state means that WINS will not accept any name registrations/releases until the above replication happens.</P>
<P>Default:  0</P>
<P><B>NoOfWrkThds     REG_DWORD     </B><I>1-40</I></P>
<P>Specifies the number of worker threads (to handle name query packets from clients). This can be changed without restarting the WINS computer.</P>
<P>Default:  Number of processors on the system</P>
<P><B>PriorityClassHigh     REG_DWORD     </B><I>0-1</I></P>
<P>Specifies the priority class of WINS. Set to 1 for high priority class. This can be changed without restarting the WINS computer.</P>
<P>Default:  0</P>
<P>The HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services\Wins\Partners key has two subkeys, \Pull and<I> \</I>Push, under which are subkeys for the IP addresses of all push and pull partners, respectively, of the WINS server. </P>
<P>A push partner, listed under the \Partners\Pull key, is one from which a WINS server pulls replicas and from which it can expect update notification messages. The following parameter appears under the IP address for a specific push partner. This parameter can be set only by changing the value in Registry Editor:</P>
<P><B>MemberPrec     REG_DWORD     </B><I>0 or 1</I></P>
<P>Specifies the relative precedence of addresses in an Internet group (name with 16th byte being 0x1c). Addresses in the 0x1c names pulled from a WINS partner will be given the precedence assigned to the WINS. The value can be 0 (low) or 1 (high). The locally registered addresses always have a high precedence. Set this value to 1 if this WINS partner is serving a geogrphic location that is nearby. </P>
<P>Default:  0</P></FONT></BODY></HTML>
