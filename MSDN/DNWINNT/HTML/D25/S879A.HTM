<HTML><HEAD><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Installing Windows NT on an ESDI Disk Drive With More Than 1024 Cylinders</TITLE><META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset= iso-8859-1"><style>@import url(/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="/msdn_ie3.css"></HEAD><BODY BGCOLOR="#FFFFFF">
<FONT FACE="verdana,arial,helvetica" SIZE="2"><FORM NAME="x"><OBJECT CLASSID="clsid:9c2ac687-ceef-11cf-96d9-00a0c903b016" NAME="iv"></OBJECT></FORM>
<H3>Installing Windows&nbsp;NT on an ESDI Disk Drive With More Than 1024 Cylinders</H3><P>In some cases on disk drives with more than 1024 cylinders, Windows&nbsp;NT installation proceeds normally until the first boot from the hard drive where Windows&nbsp;NT is installed. The Windows&nbsp;NT Boot Loader will load various files and then produce a Fatal System Error: 0x0000006b with the message that Phase 1 Process Initialization failed. Following this message will be some type of hexadecimal dump and the system will lock up. If you experience this problem, the information in this section can help you.</P>
<P>Microsoft has tested ESDI controllers using a hard drive with a capacity exceeding 516 MB (1MB = 1,048,576 bytes), formatted. The MS-DOS limit of 1024 cylinders creates a situation where special BIOS mapping on the controller is used to change the geometry of the drive. </P>
<P>ESDI drives are capable of being prepped with various values of sector per track (SPT), such as 53 or 63 SPT geometry, during a low-level format. Here are two examples:</P>
<P>1024 cylinders x 15 heads x 53 SPT x 512 bytes per sector = 398 MB</P>
<P>1024 cylinders x 15 heads x 63 SPT x 512 bytes per sector = 472 MB</P>
<P>Thus, using 63 SPT yields 74 MB more space. Windows&nbsp;NT is compatible with either geometry, and, depending on the drive or controller, can access cylinders beyond 1024. This space can be partitioned and formatted but not accessed by MS-DOS. However, some controllers can remap the remaining cylinders beyond 1024 so that either MS-DOS or Windows&nbsp;NT can use the entire capacity. For example, </P>
<P>1632 cylinders x 15 heads x 53 SPT x 512 bytes per sector = 634 MB</P>
<P>Microsoft has tested the ESDI controllers described in the following table.</P>

<TABLE COLS="2" BORDER="0" CELLPADDING="7"><COLGROUP><COL WIDTH="117pt" VALIGN="TOP"><COL WIDTH="279pt" VALIGN="TOP"></COLGROUP><TBODY><TR><TD VALIGN="TOP"><P><B>Controller</B></P></TD><TD VALIGN="TOP"><P><B>Achieving Maximum Capacity</B></P></TD></TR><TR><TD COLSPAN="2" VALIGN="TOP"><P></P></TD></TR><TR><TD VALIGN="TOP"><P>Data Technology Corp. (DTC) Model 6282-24</P></TD><TD VALIGN="TOP"><P>The maximum Windows&nbsp;NT-compatible geometry is 63 sectors per track (SPT) and a limit of 1024 cylinders under MS-DOS. Windows&nbsp;NT will be able to access the cylinders beyond 1024. Do not perform a low-level format on the drive using Head Mapping mode.</P></TD></TR><TR><TD VALIGN="TOP"><P>Data Technology Corp. (DTC) Model 6290-24</P></TD><TD VALIGN="TOP"><P>The maximum Windows&nbsp;NT-compatible geometry is 63 SPT and a limit of 1024 cylinders under MS-DOS. Since this card does not have an on-board BIOS, Windows&nbsp;NT cannot access the cylinders beyond 1024.</P></TD></TR><TR><TD VALIGN="TOP"><P>Data Technology Corp. (DTC) Model 6290 SEZ (Dual SCSI/ESDI Controller)</P></TD><TD VALIGN="TOP"><P>The maximum Windows&nbsp;NT-compatible geometry is 63 SPT and a limit of 1024 cylinders under MS-DOS. Windows&nbsp;NT will be able to access the cylinders beyond 1024.</P></TD></TR><TR><TD VALIGN="TOP"><P>Data Technology Corp. (DTC) Model 6295-24</P></TD><TD VALIGN="TOP"><P>The maximum Windows&nbsp;NT-compatible geometry is 63 SPT and a limit of 1024 cylinders under MS-DOS. This card does have an on-board BIOS, so Windows&nbsp;NT will be able to access the cylinders beyond 1024. Do not perform a low-level format on the drive using Head Mapping mode.</P></TD></TR><TR><TD VALIGN="TOP"><P>Adaptec Model 2322D</P></TD><TD VALIGN="TOP"><P>Option 1. Disable drive translation and the on-board controller BIOS. Use a user-defined drive type with the actual drive parameters, such as Drive Type in CMOS=48, Cylinders=1632, Heads=15, SPT=53. This will give 634 MB capacity. MS-DOS is limited to the first 1024 cylinders, which makes 398 MB available. Windows&nbsp;NT can access beyond cylinder 1024, yielding another 236 MB.</P>
<P>Option 2. Both MS-DOS and Windows&nbsp;NT can access the entire drive. Set jumpers on the controller for Drive Splitting. Disable drive translation and the on-board controller BIOS. Set up the first physical drive in CMOS as Cylinders=1024, Heads=15, SPT=53. This gives a drive capacity of 398 MB. Set up the second drive (it appears as a physical drive) in the CMOS as Cylinders=606, Heads=15, SPT=53. This yields another 236 MB. Windows&nbsp;NT sees the drive as two physical drives.</P></TD></TR><TR><TD VALIGN="TOP"><P>UltraStor with PROM versions &lt; nnnn-009</P></TD><TD VALIGN="TOP"><P>Maximum Windows&nbsp;NT-compatible geometry is to use 63 SPT and a limit of 1024 cylinders under MS-DOS. Windows&nbsp;NT can access the cylinders beyond 1024.</P></TD></TR><TR><TD VALIGN="TOP"><P>UltraStor with PROM versions &gt; nnnn-009</P></TD><TD VALIGN="TOP"><P>Maximum Windows&nbsp;NT-compatible geometry is to use Track Mapping during low-level formatting. Both MS-DOS and Windows&nbsp;NT have access to the entire drive capacity.</P></TD></TR></TBODY></TABLE>
<P><BR></P><P></P></FONT></BODY></HTML>
