<HTML><HEAD><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>When the Security Log Is Full</TITLE><META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset= iso-8859-1"><style>@import url(/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="/msdn_ie3.css"></HEAD><BODY BGCOLOR="#FFFFFF">
<FONT FACE="verdana,arial,helvetica" SIZE="2"><FORM NAME="x"><OBJECT CLASSID="clsid:9c2ac687-ceef-11cf-96d9-00a0c903b016" NAME="iv"></OBJECT></FORM>
<H3>When the Security Log Is Full</H3><P>If you have set the security log either to "Overwrite Events Older than <I>n</I> Days" or "Do Not Overwrite Events (Clear Log Manually)", you might want to prevent auditable activities while the log is full and no new audit records can be written. To do so, use the Registry Editor to create or assign the following Registry key value:</P>

<TABLE COLS="2" BORDER="0" CELLPADDING="7"><COLGROUP><COL WIDTH="50pt" VALIGN="TOP"><COL WIDTH="308pt" VALIGN="TOP"></COLGROUP><TBODY><TR><TD VALIGN="TOP"><P>Hive:</P></TD><TD VALIGN="TOP"><P>HKEY_LOCAL_MACHINE\SYSTEM</P></TD></TR><TR><TD VALIGN="TOP"><P>Key:</P></TD><TD VALIGN="TOP"><P>\CurrentControlSet\Control\Lsa</P></TD></TR><TR><TD VALIGN="TOP"><P>Name:</P></TD><TD VALIGN="TOP"><P>CrashOnAuditFail</P></TD></TR><TR><TD VALIGN="TOP"><P>Type:</P></TD><TD VALIGN="TOP"><P>REG_DWORD</P></TD></TR><TR><TD VALIGN="TOP"><P>Value:</P></TD><TD VALIGN="TOP"><P>1</P></TD></TR></TBODY></TABLE>
<P><BR></P><P></P>
<P>The changes take effect the next time the computer is started. You might want to update the Emergency Repair Disk to reflect these changes.</P>
<P>If Windows&nbsp;NT halts as a result of the security log becoming full, the system must be restarted and reconfigured to restore it to high-level security. When Windows&nbsp;NT restarts, the Security log is full and so no auditable actions are recorded until the Security log is cleared.</P>
<P CLASS="proch"><B>To recover when Windows&nbsp;NT halts because it cannot generate an audit event record</B></P>
<P CLASS="ls">    1.    Restart the computer and log on using an account in the Administrators group.</P>
<P CLASS="ls">    2.    Use Event Viewer to clear all events from the Security log, archiving the currently logged events. For details, see the "Event Viewer" chapter in the Windows&nbsp;NT Workstation or Windows&nbsp;NT Server <I>System Guide</I>. </P>
<P CLASS="ls">    3.    Use the Registry Editor to delete and replace value entry <B>CrashOnAuditFail</B>, with data type <B>REG_DWORD</B> and value <B>1</B>, under HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\Lsa (as described earlier in this section).</P>
<P CLASS="ls">    4.    Exit, and then restart the computer.</P></FONT></BODY></HTML>
