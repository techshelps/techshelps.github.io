<HTML><HEAD><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Processing of an SNMP Request</TITLE><META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset= iso-8859-1"><style>@import url(/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="/msdn_ie3.css"></HEAD><BODY BGCOLOR="#FFFFFF">
<FONT FACE="verdana,arial,helvetica" SIZE="2"><FORM NAME="x"><OBJECT CLASSID="clsid:9c2ac687-ceef-11cf-96d9-00a0c903b016" NAME="iv"></OBJECT></FORM>
<H3>Processing of an SNMP Request</H3><P>This section describes, at a high level, the processing that occurs when a management system sends a request to a Windows&nbsp;NT SNMP agent.</P>
<P>    <img src="XUPN05.gif"></P>
<P>The numbers here correspond to the numbers in the preceding figure.</P>
<P CLASS="ls">    1.    The network management system initiates a request to SNMP agent Host A. The SNMP packet contains the following information:</P>
<UL><LI> <FONT FACE="symbol">•</FONT>    A <B>get</B>, <B>get-next</B>, or <B>set</B> request for one or more objects. In this case, the request is Get Active Session.</LI><LI> <FONT FACE="symbol">•</FONT>    A community name and other validating information.</LI></UL><P CLASS="ls">    2.    The request is passed by the application to socket 161, where the host name is resolved to an IP or IPX address. The packet is routed to socket 161 on the agent. </P>
<P CLASS="ls">    3.    The SNMP agent receives and processes the request.</P>
<P CLASS="lt1">The community name is verified. If the community name is invalid or the packet is ill-formed, the SNMP agent discards the request. </P>
<P CLASS="lt1">If the community name is valid, the agent verifies the source host name, IP address, or IPX address. The agent must be authorized to accept packets from the management system, or it discards the packet.</P>
<P CLASS="lt1">The SNMP agent passes the request to the appropriate DLL, which retrieves the information from the associated MIB. The table in the preceding section, "Windows&nbsp;NT Files Installed for SNMP," identifies the DLLs.</P>
<P CLASS="lt1">The DLL returns the information to the SNMP agent.</P>
<P CLASS="ls">    4.    The SNMP agent builds the "response" packet with the requested information and sends it to the SNMP manager.</P>
<P></P>
<P CLASS="nh"><B>Note</B></P>
<P>Port 161 is used for SNMP messages and port 162 is used for SNMP traps.</P>
<P></P></FONT></BODY></HTML>
