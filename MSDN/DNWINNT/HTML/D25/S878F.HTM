<HTML><HEAD><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>DHCP Server</TITLE><META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset= iso-8859-1"><style>@import url(/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="/msdn_ie3.css"></HEAD><BODY BGCOLOR="#FFFFFF">
<FONT FACE="verdana,arial,helvetica" SIZE="2"><FORM NAME="x"><OBJECT CLASSID="clsid:9c2ac687-ceef-11cf-96d9-00a0c903b016" NAME="iv"></OBJECT></FORM>
<H3>DHCP Server </H3><P>This section discusses DHCP server failures, redundancy, and lease time-outs.</P>
<P>There is no address sharing or DHCP server-to-server protocol.</P>
<P>A DHCP server failure is not nearly as critical as a WINS server failure. This is because a DHCP server must be down for half of the lease time until existing clients lose their leases. The only immediate problem when there is no DHCP server on the net is that new clients cannot get addresses.</P>
<P>Do not, under any circumstances, put the same address(es) on two or more DHCP servers. Any overlap in address pools on two DHCP servers will surely result in multiple machines on the network with the same IP address. </P>
<P>A mirrored backup machine would be a nightmare to keep correct, and it defeats the entire management simplicity DHCP is designed to provide.</P>
<P>To provide redundancy, simply break up each subnet's address pools over two DHCP servers. A 50/50 split is fine. The idea is to have unused addresses on both machines so that if one goes down, there will always be new addresses available on every subnet.</P>
<P>When a DHCP lease times out, the server will delete the lease and return the address to the address pool. (DHCP actually waits one day to return it to the pool as security against time zone problems.)</P>
<P>There is no special case to handle a client moving from one subnet to another on the same server. The old lease will be deleted only when it times out.</P>
<P>A reservation—a specific address given to a specific client—is handled differently. The lease times out but the server continues to hold the address for the client to use. It is not returned to the address pool.</P></FONT></BODY></HTML>
