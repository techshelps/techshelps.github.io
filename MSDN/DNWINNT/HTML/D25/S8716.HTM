<HTML><HEAD><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Backup Domain Controller over a RAS Link</TITLE><META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset= iso-8859-1"><style>@import url(/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="/msdn_ie3.css"></HEAD><BODY BGCOLOR="#FFFFFF">
<FONT FACE="verdana,arial,helvetica" SIZE="2"><FORM NAME="x"><OBJECT CLASSID="clsid:9c2ac687-ceef-11cf-96d9-00a0c903b016" NAME="iv"></OBJECT></FORM>
<H3>Backup Domain Controller over a RAS Link</H3><P>A Backup Domain Controller (BDC) can be connected to a remote domain using Windows&nbsp;NT Server's Remote Access Service (RAS) and a modem connection. </P>
<H4 CLASS="h4"><A NAME="sec0"></A>Using a RAS-connected BDC as a PDC</H4><P>If the RAS-connected BDC is ever expected to be promoted to Primary Domain Controller (PDC) while it is remotely connected to the domain, this BDC should be set up as a dial-out-only RAS client (RAS is not running on this computer). If you promote the RAS-connected client, NetLogon stops, changes roles, and restarts. RAS is dependent on NetLogon, so when NetLogon stops, you would lose your connection. By having just the RAS client dial-out services on this remote BDC, it can function as a PDC because that functionality does not depend on NetLogon running constantly. If neither the RAS server (which could also be a BDC) nor the RAS-connected BDC are expected to ever serve as PDC, this is not an issue. A RAS-connected BDC that has been promoted to PDC functions as it should, but possibly with slower response time, depending on line speed.</P>
<H4 CLASS="h4"><A NAME="sec1"></A>Partial Synchronization with a RAS-connected BDC</H4><P>If a remote site has a RAS-connected BDC that dials in nightly to do a partial synchronization of any changes, and on some days 2000 changes are made to the SAM/LSA database, then the default ChangeLogSize should be increased. This may be necessary if any BDC has been off-line while a lot of changes have occurred, or else this BDC may be forced to do a full synchronization of the database. If minimal changes (for example, fewer than 2000) occur during the time the RAS BDC or any BDC does not have a physical connection to the PDC, then the default size is sufficient. If an administrator begins to notice any BDCs doing full synchronizations, it could be that many changes are occurring and the ChangeLogSize needs to be increased. The default ChangeLogSize is 64K which is approximately 2000 changes.</P></FONT></BODY></HTML>
