<HTML><HEAD><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>HKEY_CURRENT_USER</TITLE><META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset= iso-8859-1"><style>@import url(/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="/msdn_ie3.css"></HEAD><BODY BGCOLOR="#FFFFFF">
<FONT FACE="verdana,arial,helvetica" SIZE="2"><FORM NAME="x"><OBJECT CLASSID="clsid:9c2ac687-ceef-11cf-96d9-00a0c903b016" NAME="iv"></OBJECT></FORM>
<H2>HKEY_CURRENT_USER </H2><P>HKEY_CURRENT_USER contains the database that describes the user profile for the user who is currently logged on the local computer. A user profile contains information that defines the appearance and behavior of the individual user's desktop, network connections, and other environment settings. A user profile ensures that Windows&nbsp;NT will look and act the same at any computer where that user logs on, if that person's profile is available at that computer or on the same domain in Windows&nbsp;NT Server.</P>
<P>HKEY_CURRENT_USER contains all the information necessary to set up a particular user environment on the computer. Information such as program groups, application preferences, screen colors, and other personal preferences and security rights are included. Many of these settings are the same kind of information that was stored in the WIN.INI file under Windows for MS-DOS. </P>
<P>HKEY_CURRENT_USER includes the default subkeys described in the following table. For details about managing the hives for user profiles, see "Managing User Profiles through the Registry" in Chapter 12, "Configuration Management and the Registry." For details about the contents of subkeys in HKEY_CURRENT_USER, see "Registry Entries for User Preferences" in Chapter 14, "Registry Value Entries."</P>
<P>Table 10.7    Default Subkeys in HKEY_CURRENT_USER</P>

<TABLE COLS="2" BORDER="0" CELLPADDING="7"><COLGROUP><COL WIDTH="68pt" VALIGN="TOP"><COL WIDTH="327pt" VALIGN="TOP"></COLGROUP><TBODY><TR><TD VALIGN="TOP"><P>Subkey</P></TD><TD VALIGN="TOP"><P>Contents</P></TD></TR><TR><TD VALIGN="TOP"><P>Console </P></TD><TD VALIGN="TOP"><P>Subkeys that define the options and window size for a console (the interface between the user and character-mode applications). This includes settings for the Windows&nbsp;NT command prompt. These settings should be changed by using the commands in the Control menu for each of the specific non-Windows–based applications. (The subkey for the command prompt does not appear unless the font or screen colors have been changed by the current user.)</P></TD></TR><TR><TD VALIGN="TOP"><P>Control Panel </P></TD><TD VALIGN="TOP"><P>Subkeys that have parameters adjusted by applications in Control Panel, for example, the Windows&nbsp;NT Desktop. This includes information that was stored in the WIN.INI and CONTROL.INI files under Windows for MS-DOS. </P></TD></TR><TR><TD VALIGN="TOP"><P>Environment </P></TD><TD VALIGN="TOP"><P>Value entries that correspond to the current user's settings for environment variables. This includes information that was stored in the AUTOEXEC.BAT file under MS-DOS. Values should be set by using the System icon in Control Panel.</P></TD></TR><TR><TD VALIGN="TOP"><P>Keyboard Layout </P></TD><TD VALIGN="TOP"><P>The value entry that gives the current active keyboard layout. This value should be set by using the International icon in Control Panel.</P></TD></TR><TR><TD VALIGN="TOP"><P>Printers </P></TD><TD VALIGN="TOP"><P>Subkeys that describe the printers installed for the current user. These values should be set by using Print Manager.</P></TD></TR><TR><TD VALIGN="TOP"><P>Program Groups </P></TD><TD VALIGN="TOP"><P>Subkeys that describe the names and settings for the current user's program groups. Values defining common program groups are stored in HKEY_LOCAL_MACHINE\SOFTWARE\ProgramGroups. Personal program groups should be set by using the menu commands or mouse techniques in Program Manager.</P></TD></TR><TR><TD VALIGN="TOP"><P>Software </P></TD><TD VALIGN="TOP"><P>Subkeys that describe the current user's configurable settings for installed software that the user can use. This information has the same structure as HKEY_LOCAL_MACHINE\SOFTWARE. This information contains application-specific information that was stored in the WIN.INI file or private initialization files under Windows for MS-DOS.</P></TD></TR></TBODY></TABLE>
<P><BR></P><P>Whenever similar data exists in HKEY_LOCAL_MACHINE and HKEY_CURRENT_USER, the data in HKEY_CURRENT_USER takes precedence, as described earlier, in "HKEY_LOCAL_MACHINE." The most significant example is environment variables, where variables defined for the user who is currently logged on take precedence over system variables, as defined by using the System icon in Control Panel.</P>
<P>HKEY_CURRENT_USER is mapped to HKEY_USER\<I>SID_#</I>, where <I>SID_#</I> is the Security ID string of the current user, as shown in the following example from Registry Editor. The Windows&nbsp;NT logon process builds a user's personal profile environment based upon what it finds in HKEY_USER\<I>SID_#. </I>If no such data is available, HKEY_CURRENT_USER is built from the data in HKEY_USER\.DEFAULT.</P>
<P><B>Note</B>   To find the name of the file that goes with a hive, see the HiveList subkey in HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control. To find which hive file goes with a user profile (whether or not the user is logged on), see the ProfileList subkey under HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Windows&nbsp;NT\CurrentVersion. You can use the Find Key command from the View menu in Registry Editor to locate a specific key quickly.</P>
<P><img src="XRGF23.gif"></P></FONT></BODY></HTML>
