<HTML><HEAD><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Changing Driver Loading Controls in the Registry</TITLE><META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset= iso-8859-1"><style>@import url(/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="/msdn_ie3.css"></HEAD><BODY BGCOLOR="#FFFFFF">
<FONT FACE="verdana,arial,helvetica" SIZE="2"><FORM NAME="x"><OBJECT CLASSID="clsid:9c2ac687-ceef-11cf-96d9-00a0c903b016" NAME="iv"></OBJECT></FORM>
<H3>Changing Driver Loading Controls in the Registry</H3><P>Under most circumstances, you should define the startup behavior of a device or a service by choosing the Devices icon or the Services icon in Control Panel, or by using Server Manager in Windows&nbsp;NT Server. Use these procedures in specific cases where you cannot define behavior using the other administrative tools.</P>
<P>You can change the basic value entries in the Registry for a specific driver to control driver loading. For example, you can change these things:</P>
<UL><LI>When the driver is loaded or the service is started, including turning off driver loading during startup </LI><LI>The load order for a driver, a service, or a group during system startup</LI><LI>Error control for a driver or service, so that startup continues or halts, depending on whether the item is initialized</LI><LI>Parameters that can be set for a driver or service</LI></UL><H4><A NAME="sec0"></A>To change the behavior of a driver or service</H4><OL><LI>Select the subkey for the driver or service in the following Registry path:
<P>HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet<BR>    \Services\DriverName</P></LI><LI>If you want to change how system startup proceeds if the driver is not loaded or the service is not started, change the value of <B>ErrorControl</B> as follows:</LI></OL><P></P>

<TABLE COLS="3" BORDER="0" CELLPADDING="7"><COLGROUP><COL WIDTH="75pt" VALIGN="TOP"><COL WIDTH="56pt" VALIGN="TOP"><COL WIDTH="202pt" VALIGN="TOP"></COLGROUP><TBODY><TR><TD VALIGN="TOP"><P>Error control </P></TD><TD VALIGN="TOP"><P>Value</P></TD><TD VALIGN="TOP"><P>Meaning</P></TD></TR><TR><TD VALIGN="TOP"><P>Critical</P></TD><TD VALIGN="TOP"><P>0x3</P></TD><TD VALIGN="TOP"><P>Fail the attempted system startup</P></TD></TR><TR><TD VALIGN="TOP"><P>Severe</P></TD><TD VALIGN="TOP"><P>0x2</P></TD><TD VALIGN="TOP"><P>Switch to LastKnownGood or, if already using LastKnownGood, continue on in case of error</P></TD></TR><TR><TD VALIGN="TOP"><P>Normal</P></TD><TD VALIGN="TOP"><P>0x1</P></TD><TD VALIGN="TOP"><P>Continue startup if the driver fails to load, but display a message noting the failure</P></TD></TR><TR><TD VALIGN="TOP"><P>Ignore</P></TD><TD VALIGN="TOP"><P>0x0</P></TD><TD VALIGN="TOP"><P>—</P></TD></TR></TBODY></TABLE>
<P><BR></P><OL><LI>If you want to change the dependencies for loading the service, specify new values under DependOnGroup, DependOnService, or Tag.</LI><LI>If you want to change when the service is started or the driver is loaded, change the Start value as follows: </LI></OL><P></P>

<TABLE COLS="3" BORDER="0" CELLPADDING="7"><COLGROUP><COL WIDTH="95pt" VALIGN="TOP"><COL WIDTH="51pt" VALIGN="TOP"><COL WIDTH="185pt" VALIGN="TOP"></COLGROUP><TBODY><TR><TD VALIGN="TOP"><P>Start type</P></TD><TD VALIGN="TOP"><P>Value</P></TD><TD VALIGN="TOP"><P>Meaning</P></TD></TR><TR><TD VALIGN="TOP"><P>Boot</P></TD><TD VALIGN="TOP"><P>0x0</P></TD><TD VALIGN="TOP"><P>Loaded by the Boot Loader</P></TD></TR><TR><TD VALIGN="TOP"><P>System</P></TD><TD VALIGN="TOP"><P>0x1</P></TD><TD VALIGN="TOP"><P>Loaded at Kernel initialization</P></TD></TR><TR><TD VALIGN="TOP"><P>Auto load</P></TD><TD VALIGN="TOP"><P>0x2</P></TD><TD VALIGN="TOP"><P>Loaded or started automatically at startup</P></TD></TR><TR><TD VALIGN="TOP"><P>Load on demand</P></TD><TD VALIGN="TOP"><P>0x3</P></TD><TD VALIGN="TOP"><P>Available, but started only by the user</P></TD></TR><TR><TD VALIGN="TOP"><P>Disabled</P></TD><TD VALIGN="TOP"><P>0x4</P></TD><TD VALIGN="TOP"><P>Not to be started under any conditions</P></TD></TR></TBODY></TABLE>
<P><BR></P><OL start=4><LI>Close Registry Editor, shut down, and restart the computer for these values to take effect.</LI></OL><P>For details about Start and ErrorControl values, see their definitions in "CurrentControlSet\Services Subkeys" in Chapter&nbsp;14, "Registry Value Entries."</P>
<P>You can also set parameters for many drivers and services, as described in Chapter&nbsp;14. For example, a modem that includes a National Semiconductor 16550 AUART chip can take advantage of FIFO buffer support. This capability is not turned on by default in Windows&nbsp;NT, however. If you are using such a modem, you can change the value of ForceFifoEnable to 1 to turn on FIFO support, under this subkey:</P>
<P><BR></P>
<pre><code>HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet<BR>    \Services\Serial\Parameters</code></pre></FONT></BODY></HTML>
