<HTML><HEAD><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Microsoft OS/2 Version 1.x Entries in the Registry</TITLE><META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset= iso-8859-1"><style>@import url(/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="/msdn_ie3.css"></HEAD><BODY BGCOLOR="#FFFFFF">
<FONT FACE="verdana,arial,helvetica" SIZE="2"><FORM NAME="x"><OBJECT CLASSID="clsid:9c2ac687-ceef-11cf-96d9-00a0c903b016" NAME="iv"></OBJECT></FORM>
<H2>Microsoft OS/2 Version 1.x Entries in the Registry</H2><P>The Microsoft OS/2 version 1.<I>x </I>subsystem starts whenever a user starts an OS/2 character-based application on an <I>x</I>86-based computer. The Registry entries for the OS/2 subsystem are found under this key:</P>
<P><BR></P>
<pre><code>HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet<BR>    \Control\Session Manager\SubSystems</code></pre>
<P>The Os2 entry in this subkey describes the path to the executable file used to start the OS/2 subsystem. The directory path for the OS/2 library is the Os2LibPath value defined under the Session Manager\Environment subkey.</P>
<P>When Windows&nbsp;NT is installed on a computer, if Setup finds a copy of CONFIG.SYS for OS/2, a copy is placed in the <I>SystemRoot</I>\SYSTEM32 directory. This information is used to configure the OS/2 subsystem whenever an OS/2 application is started. If a CONFIG.SYS file is not found, a substitute is created in the Registry, with the following values:</P>
<P><BR></P>
<pre><code>PROTSHELL=C:\os2\pmshell.exe c:\os2\os2.ini c:\os2\os2sys.ini<BR>    %SystemRoot%\system32\cmd.exe<BR>SET COMSPEC=%SystemRoot%\system32\cmd.exe</code></pre>
<P>The OS/2 CONFIG.SYS information is stored in the following Registry entry, which appears only after an OS/2 application has been run on the system:</P>
<P><BR></P>
<pre><code>HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\OS/2 Subsystem for NT\config.sys</code></pre>
<P>The other subkeys under the OS/2 Subsystem key do not contain entries.</P>
<P>If you subsequently edit the C:\CONFIG.SYS file using a text editor, LIBPTH=, SET PATH=, and Set WINDIR= entries are appended to the end of the file from the Windows&nbsp;NT environment. Any changes made to the path or environment variables take effect after the system is shut down and restarted.</P>
<P>For details about managing this environment under Windows&nbsp;NT, see Chapter 11, "Other Application Environments," in the <I>Windows&nbsp;NT System Guide.</I></P>
<P>You can disable an OS/2 subsystem in Windows&nbsp;NT and still run a bound application under a VDM. Many bound applications run better under a VDM than under the OS/2 subsystem.</P>
<H3><A NAME="sec0"></A>To disable the OS/2 subsystem in Windows&nbsp;NT</H3><UL><LI>In Registry Editor, change the value of GlobalFlag to 20100000 in the following Registry path:
<P>HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\SessionManager</P></LI></UL><P>You can also use FORCEDOS.EXE, a utility supplied with Windows&nbsp;NT in the <I>SystemRoot</I>\SYSTEM32 subdirectory. This allows you to run a bound application under a VDM. To see how to use the ForceDOS utility, type <B>forcedos /?</B> at the command prompt.</P></FONT></BODY></HTML>
