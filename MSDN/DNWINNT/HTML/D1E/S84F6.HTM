<HTML><HEAD><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>AppleTalk and MacFile Service Entries for SFM</TITLE><META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset= iso-8859-1"><style>@import url(/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="/msdn_ie3.css"></HEAD><BODY BGCOLOR="#FFFFFF">
<FONT FACE="verdana,arial,helvetica" SIZE="2"><FORM NAME="x"><OBJECT CLASSID="clsid:9c2ac687-ceef-11cf-96d9-00a0c903b016" NAME="iv"></OBJECT></FORM>
<H3>AppleTalk and MacFile Service Entries for SFM</H3><P>Services For Macintosh (SFM) does not appear in the Registry until you install SFM using the Network icon in Control Panel. After installation, the SFM value entries appear under several Services subkeys:  AppleTalk, MacFile, MacPrint, and MacSrv. You should let the system maintain entries in the MacPrint or MacSrv services. However, the AppleTalk and MacFile services contain definable parameters described in this section. </P>
<P>You should use the Network  icon in Control Panel to configure SFM, and use File Manager to administer file services, Server Manager to administer server services, and Print Manager to administer print services for SFM.</P>
<P>SFM is included with Windows&nbsp;NT ServerWindows NT Server and the AppleTalk transport service is on the <I>Windows&nbsp;NT Resource Guide</I> disk.</P>
<H4><A NAME="sec0"></A>AppleTalk Entries for SFM</H4><P>The values for the AppleTalk service are found in the following Registry path: </P>
<P><BR></P>
<pre><code>HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services\AppleTalk</code></pre>
<P>For changes to take effect, you must restart the File Server for Macintosh using the Devices icon in Control Panel.</P>
<P>Values for the AppleTalk Parameters and Adapters subkeys are described here. The settings in the Linkage subkey and the TCP/IP settings in the Winsock subkey for AppleTalk are maintained by the system and should not be changed by the user.</P>
<H4><A NAME="sec1"></A>AppleTalk Parameter Entries</H4><P>This is the Registry path for the AppleTalk parameters:</P>
<P><BR></P>
<pre><code>HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services<BR>    \AppleTalk\Parameters</code></pre>
<P>These values set port, zone, and router information. </P>
<P><B>DefaultPort     EG_SZ     </B><I>Adapter name</I></P>
<P>Specifies the network on which the SFM service names are registered. If the AppleTalk protocol is not routing, only Macintosh workstations connected to this network can see the file and print services. During initial installation, the default port is set automatically to the first Ethernet adapter found, or to the first Token Ring adapter, or to a LocalTalk adapter (in that order). </P>
<P>Default:  the first adapter found.</P>
<P><B>DesiredZone     REG_SZ     </B><I>Zone name</I></P>
<P>Specifies the zone in which the SFM service is present. If this value is not set, SFM is present in the default zone for that network. </P>
<P>There is no default.</P>
<P><B>EnableRouter     REG_DWORD     </B><I>0 or 1</I></P>
<P>Tells the AppleTalk protocol whether routing needs to be started on this computer. If routing is started, Macintosh workstations connected to any of the networks that this computer is on should be able to use the file and print servers for Macintosh. </P>
<P></P>
<P><B>Important</B>   This value is critical. Unless absolutely essential, do not set this value to 1. </P>
<P>Default:  0</P>
<H4><A NAME="sec2"></A>Adapter Card Entries for AppleTalk</H4><P>The entries for AppleTalk that are specific to network adapter cards are found under the following Registry path:</P>
<P><BR></P>
<pre><code>HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services<BR>    \AppleTalk\Adapters\<I>adapter_name</I></code></pre>
<P>There is one subkey for each adapter that is AppleTalk-compatible on the computer. These entries are found in each <I>Adapter_Name </I>subkey.</P>
<P><B>AarpRetries     REG_DWORD     </B><I>Number</I></P>
<P>Specifies the maximum number of AppleTalk address-resolution protocol packets to be sent by the AppleTalk protocol.</P>
<P>Default:  0xa</P>
<P><B>DdpCheckSums     REG_DWORD     </B><I>0 or 1</I></P>
<P>Tells the AppleTalk protocol whether to compute checksums in the DDP layer. If this entry is 1, the AppleTalk protocol uses sums in the DDP layer.</P>
<P>Default:  0</P>
<P><B>DefaultZone     REG_SZ     </B><I>Zone name</I></P>
<P>Contains the default zone for this network if this adapter is seeding the network. If the adapter is seeding the network, the default zone is chosen when you configure SFM using the Network icon in Control Panel.</P>
<P>There is no default.</P>
<P><B>NetworkRangeLowerEnd     REG_DWORD     </B><I>1 to 65279</I></P>
<P>Specifies the lower network number of the network range if this adapter is seeding the network. If the adapter is seeding the network, this number is set by using the Network icon in Control Panel to configure SFM.</P>
<P>There is no default.</P>
<P><B>NetworkRangeUpperEnd     REG_DWORD     </B><I>1 to 65279</I></P>
<P>Specifies the upper network number of the network range for this network if this adapter is seeding the network. If the adapter is seeding the network, this number is set by using the Network icon in Control Panel to configure SFM.</P>
<P>There is no default.</P>
<P><B>PortName     REG_SZ     </B><I>AdapterName@ComputerName</I></P>
<P>Specifies the name used to identify the AppleTalk protocol running on a particular adapter on a computer.</P>
<P>There is no default.</P>
<P><B>SeedingNetwork     REG_DWORD     </B><I>0 or 1</I></P>
<P>Used by the AppleTalk protocol during startup. If this value is 0, this adapter is not seeding the network and the AppleTalk protocol ignores any seeding information for the adapter, if specified. If this value is 1, the AppleTalk protocol reads all seeding information and seeds the network, if valid.</P>
<P>Default:  0.</P>
<P><B>ZoneList     REG_MULTI_SZ     </B><I>List of zones</I></P>
<P>This value is relevant only when the adapter is seeding the network. The network is seeded with this list of zones by the AppleTalk protocol. Changes can be made by using the Network icon in Control Panel to configure SFM.</P>
<P>There is no default.</P>
<H4><A NAME="sec3"></A>MacFile Entries for SFM</H4><P>The MacFile subkey contains the main entries for the AppleTalk File Protocol (AFP) server. All configuration information for the file server is in the following subkey:</P>
<P><BR></P>
<pre><code>HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services\MacFile</code></pre>
<P>For changes to take effect, you must restart the computer.</P>
<P>The MacFile\Parameters subkey includes Type_Creators, Icons, and Extensions subkeys. You should let the system maintain entries in the Icons or Extensions subkeys. This section describes value entries for the Parameters and Parameters\Type_Creator subkeys.</P>
<H4><A NAME="sec4"></A>MacFile Parameters Entries</H4><P>The Registry path for MacFile parameters is the following:</P>
<P><BR></P>
<pre><code>HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services\MacFile\Parameters</code></pre>
<P>The following value entries specify server options, which can be set from the Server Manager. All other entries are added to the Registry when changes to the default values occur.</P>
<P>For information about the Macintosh codepage, see the entry for MacCP in the NLS\CodePage subkey.</P>
<P><B>LoginMsg     REG_SZ     </B><I>1–198 characters</I></P>
<P>Specifies the message you want Macintosh users to see when they log on to the Windows&nbsp;NT ServerWindows NT Server network.</P>
<P>There is no default.</P>
<P><B>MaxSessions     REG_DWORD     </B><I>1 to unlimited (0xffffffff) </I></P>
<P>Specifies the maximum number of user sessions that the file server for Macintosh can accommodate.</P>
<P>Default:  0xff  (255in decimal)</P>
<P><B>PagedMemLimit     REG_DWORD     </B><I>1000K to 256000K</I></P>
<P>Specifies the maximum amount of page memory that the file server for Macintosh uses. Performance of the MacFile service increases with an increase in this value. However, the value should not be set lower than 1000K. It is especially important that you are well acquainted with memory issues before changing this resource parameter. You cannot change this value from Server Manager.</P>
<P>Default:  0x4e20 (20000 in decimal)</P>
<P><B>NonPagedMemLimit     REG_DWORD     </B><I>256K to 16000K</I></P>
<P>Specifies the maximum amount of RAM that is available to the file server for Macintosh. Increasing this value helps performance of the file server, but decreases performance of other system resources.</P>
<P>Default:  0xfa0 (4000 in decimal)</P>
<P><B>ServerName     REG_SZ     </B><I>Server name</I></P>
<P>Specifies the name of the server running SFM on a Windows&nbsp;NT ServerWindows NT Server network. Use the server's Windows&nbsp;NT ServerWindows NT Server name as the default if you need to add this entry.</P>
<P>There is no default.</P>
<P><B>ServerOptions     REG_DWORD     </B></P>
<P>Specifies server options that are set in Server Manager. If needed for repair purposes, change Bits 1 through 3; do not change any of the other bits. When on, Bit 1 allows guest logons, Bit 2 allows cleartext passwords, and Bit 3 allows Macintosh users to save passwords on their workstations.</P>
<P>The defaults are bit 1, 2, and 3 set to on.</P>
<P>Volume<B>     REG_MULTI_SZ    </B>MaxUses  Properties  Password  Path</P>
<P>Each entry specifies information about a Macintosh-accessible volume on the server on a Windows&nbsp;NT ServerWindows NT Server network. You should add Macintosh-accessible volumes using File Manager. </P>

<TABLE COLS="2" BORDER="0" CELLPADDING="7"><COLGROUP><COL WIDTH="72pt" VALIGN="TOP"><COL WIDTH="262pt" VALIGN="TOP"></COLGROUP><TBODY><TR><TD VALIGN="TOP"><P>Value</P></TD><TD VALIGN="TOP"><P>Meaning</P></TD></TR><TR><TD VALIGN="TOP"><P><I>MaxUses </I></P></TD><TD VALIGN="TOP"><P>Specifies the maximum number of simultaneous workstations that can be connected to the file server. The upper limit is unlimited. The practical limits are based on the server hardware and network media.</P></TD></TR><TR><TD VALIGN="TOP"><P><I>Properties</I></P></TD><TD VALIGN="TOP"><P>Specifies security options. When Bit 1 is set to On, the volume is read-only. When Bit 16 is set to On, guests can use this volume. The default is 1000000000000000 (in binary notation) (the volume is read-only;  guests can use this volume).</P></TD></TR><TR><TD VALIGN="TOP"><P><I>Password </I></P></TD><TD VALIGN="TOP"><P>Contains the encrypted password. Do not change this value. If a user forgets a password, you can delete this entry, thus removing a password requirement from the user's account. Then the user can specify a new password at logon.</P></TD></TR><TR><TD VALIGN="TOP"><P><I>Path</I></P></TD><TD VALIGN="TOP"><P>Specifies the path of the volume's root directory. If a volume has been deleted, the path may still be valid; consequently, you should not delete this value. If volumes are deleted using File Manager, you can delete this value.</P></TD></TR></TBODY></TABLE>
<P><BR></P><H4><A NAME="sec5"></A>Type_Creators Entries for MacFile</H4><P>The values in the following Registry subkey list all the Macintosh type-creators that are associated with MS-DOS–style filename extensions:</P>
<P><BR></P>
<pre><code>HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services<BR>    MacFile\Parameters\Type_Creators</code></pre>
<P>Change these values using File Manager by choosing the <B>Associate</B> command from the MacFile menu. The value entries that appear in the Registry for each type of creator have the following format:</P>
<P><I>##</I><B>     REG_MULTI_SZ     Creator=</B><I>Value</I> Type=<I>Value</I> Comment=<I>Value</I> </P>
<P>The three values appear for each entry. The value for Creator= must have from 1 through 4 characters. The value for Type= must have from 1 through 4 characters. The value for Comment= must have from 0 through 29 characters.</P></FONT></BODY></HTML>
