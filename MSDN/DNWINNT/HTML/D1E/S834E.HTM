<HTML><HEAD><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Excluding Files from Windows NT</TITLE><META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset= iso-8859-1"><style>@import url(/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="/msdn_ie3.css"></HEAD><BODY BGCOLOR="#FFFFFF">
<FONT FACE="verdana,arial,helvetica" SIZE="2"><FORM NAME="x"><OBJECT CLASSID="clsid:9c2ac687-ceef-11cf-96d9-00a0c903b016" NAME="iv"></OBJECT></FORM>
<H3>Excluding Files from Windows&nbsp;NT</H3><P>If you do not need to have all of the functionality that Windows&nbsp;NT provides, you can reduce the amount of disk space required for your installation of Windows&nbsp;NT by modifying the Setup script files so that supporting files for functionality you do not want are not installed. It is possible, for example, to save several megabytes of disk space by excluding help files, NTBACKUP.EXE (tape backup), Windows&nbsp;NT sequence files (.SEQ), and infrequently-used programs. However, it is important that you do not exclude files that are required for the functioning of Windows&nbsp;NT. Refer to Chapter 4, "Windows&nbsp;NT Files," for information on the files you are thinking about excluding. Chapter 4 describes the function of each file and helps to identify which ones you can safely exclude.</P>
<P>To exclude a file you must first comment out the filename in the DOSNET.INF file by prepending the appropriate line in the [Files] section with a pound sign (#). In the following example, EXE2BIN.EXE has been excluded:</P>
<P><BR></P>
<pre><code>[Files]
...
d1,EXEBYTE2.SYS
# d1,EXE2BIN.EXE
d1,EXPAND.EXE</code></pre>
<P>Next, if the file is listed in the INITIAL.INF file, comment out all occurrences of the file by adding a semicolon (;) to the beginning of the appropriate line(s).</P>
<P><B>Note</B>   Some files are listed more than once in the INITIAL.INF file. To exclude these files you must comment out both occurrences. If you comment out only one of them, Setup displays an error message. Use the searching capability of your text editor to verify that you have commented out all occurrences of any file you want to exclude.</P>
<P>In the following example, the line "2,EXE2BIN.EXE , SIZE=8424" has been commented out in the INITIAL.INF file:</P>
<P><BR></P>
<pre><code>[Files-I386-nt-system]
...
2,EVENTVWR.EXE , SIZE=204676
;2,EXE2BIN.EXE , SIZE=8424
2,EXPAND.EXE , SIZE=39284</code></pre>
<P>In the TXTSETUP.SIF file, comment out the file by inserting a semicolon (;) at the beginning of the appropriate line in the [Files] section. Four lines have been commented out in the following example:</P>
<P><BR></P>
<pre><code>[Files]
...
d2,MSMAIL32.HLP,2
d2,PERFMON.HLP,2
;d2,PIFEDIT.HLP,2
;d2,PRINTMAN.HLP,2
;d2,PROGMAN.HLP,2
d2,RASSETUP.HLP,2
;d2,REGEDT32.HLP,2
d2,SCHDPL32.HLP,2</code></pre>
<P><B>Note</B>   The <B>findstr </B>command can help you find out which files contain the name of a file you want to exclude.</P></FONT></BODY></HTML>
