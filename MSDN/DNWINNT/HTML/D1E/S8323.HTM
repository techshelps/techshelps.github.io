<HTML><HEAD><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Access Validation</TITLE><META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset= iso-8859-1"><style>@import url(/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="/msdn_ie3.css"></HEAD><BODY BGCOLOR="#FFFFFF">
<FONT FACE="verdana,arial,helvetica" SIZE="2"><FORM NAME="x"><OBJECT CLASSID="clsid:9c2ac687-ceef-11cf-96d9-00a0c903b016" NAME="iv"></OBJECT></FORM>
<H2>Access Validation</H2><P>When a user tries to access an object, Windows&nbsp;NT compares security information in the user's access token with the security information in the object's security descriptor, as shown in Figure 2.10:</P>
<P><img src="XRGU13.gif"></P>
<P>Figure 2.7    Access Validation</P>
<P>A <I>desired access mask</I> for the subject is created based on what type of access the user is attempting. This desired access mask, usually created by a program that the user is running, is compared with the object's ACL. (All generic access types in the ACL are mapped to standard and specific access types.) </P>
<P>Each ACE in the ACL is evaluated in this way:</P>
<OL><LI>    The security ID in the ACE is compared with the set of security IDs in the user's access token. If a match is not found, the ACE is skipped. 
<P>Further processing is based upon the type of the ACE. AccessDenied ACEs are ordered (and therefore processed) before AccessAllowed ACEs.</P></LI><LI>    If access is denied, the system checks to see if the original desired access  mask contained only a ReadControl and/or WRITE_DAC. If so, the system also checks to see if the requester is the owner of the object. In this case, access is granted.</LI><LI>    For an AccessDenied ACE, the accesses in the ACE access mask are compared with the desired access mask. If there are any accesses in both masks, further processing is not necessary, and access is denied. Otherwise, processing continues with the next requested ACE. </LI><LI>    For an AccessAllowed ACE, the accesses in the ACE are compared with those listed in the desired access mask. If all accesses in the desired access mask are matched by the ACE, no further processing is necessary, and access is granted. Otherwise, processing continues with the next ACE.</LI><LI>    At the end of the ACL, if the contents of desired access mask are still not completely matched, access is implicitly denied. </LI></OL><P>Four examples of this access validation process are described next.</P></FONT></BODY></HTML>
