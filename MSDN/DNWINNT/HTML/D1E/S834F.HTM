<HTML><HEAD><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Excluding the OS/2 Subsystem</TITLE><META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset= iso-8859-1"><style>@import url(/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="/msdn_ie3.css"></HEAD><BODY BGCOLOR="#FFFFFF">
<FONT FACE="verdana,arial,helvetica" SIZE="2"><FORM NAME="x"><OBJECT CLASSID="clsid:9c2ac687-ceef-11cf-96d9-00a0c903b016" NAME="iv"></OBJECT></FORM>
<H3>Excluding the OS/2 Subsystem</H3><P>If you do not need support for OS/2 applications, you can exclude the files needed for OS/2 support by commenting them out in the .INF files that install them. If you do so and a user tries to start an OS/2 application, they will receive a message saying the executable file could not be located or that the subsystem is not available.</P>
<P>In the INITIAL.INF file, comment out the lines specifying the OS/2 files by prepending the lines with a semicolon (;), as shown in the following example:</P>
<P><BR></P>
<pre><code>[Files-I386-nt-system-os2-dll]
;2,DOSCALLS.DLL , SIZE=12341
[Files-I386-nt-system]
;2,NETAPI.DLL , SIZE=119808
;2,OS2.EXE , SIZE=53552
;2,OS2SRV.EXE , SIZE=206848
;2,OS2SS.EXE , SIZE=15360</code></pre>
<P>In the DOSNET.INF file, comment out the lines specifying the OS/2 files by prepending the lines with a pound sign (#), as shown in the following example:</P>
<P><BR></P>
<pre><code># d1,DOSCALLS.DLL 
# d1,NETAPI.DLL 
# d1,OS2.EXE
# d1,OS2SRV.EXE
# d1,OS2SS.EXE</code></pre>
<P>In the TXTSETUP.SIF file, comment out the lines specifying the OS/2 files by prepending the lines with a semicolon (;).</P>
<P>If you are upgrading from an earlier version of Windows&nbsp;NT in which the OS/2 subsystem was used, list these same files in the [Files.DeleteOnUpgrade] section of the TXTSETUP.SIF file. Lines in this section use the following format:</P>
<P><I>file</I>, <I>dir</I></P>
<P>where <I>file</I> is the filename and <I>dir</I> is the code number that is assigned (in the [WinntDirectories] section) to the directory in which the file is found.</P></FONT></BODY></HTML>
