<HTML><HEAD><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Merging Profiles for Similar Systems</TITLE><META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset= iso-8859-1"><style>@import url(/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="/msdn_ie3.css"></HEAD><BODY BGCOLOR="#FFFFFF">
<FONT FACE="verdana,arial,helvetica" SIZE="2"><FORM NAME="x"><OBJECT CLASSID="clsid:9c2ac687-ceef-11cf-96d9-00a0c903b016" NAME="iv"></OBJECT></FORM>
<H3>Merging Profiles for Similar Systems</H3><P>If you have systems that are slightly different, you can merge profiles rather than dedicate space on master systems for a full profile for each of the similar systems. For example, suppose there are hundreds of computers in your organization that are identical in every respect except for the video cards  —  each computer has one of three different video cards. Despite the other similarities, these are three different configurations; they cannot all use the same CPS profile. However, you can make a master profile for one configuration (that is, for one of the video cards), and two other "difference" profiles for each of the other configurations, containing only the Registry and any additional files needed for the video cards used by these other configurations. </P>
<H4><A NAME="sec0"></A>To create difference profiles</H4><OL><LI>    On the distribution server, create the directory that is to receive the "difference" profile, and share this directory. This step is analagous to step 4 of the procedure "To upload the master system" that appeared earlier in this section.</LI><LI>    After you have completed the steps under "To upload the master system" for the first system, reconfigure the master system for the alternate configuration. In this example, you would be configuring it for a different video setup by changing the video cards and the associated settings.</LI><LI>    If you want, edit the PROFILE.INI file you have created, just as you would edit PROFILE.INI for the first configuration, using a text editor such as Windows Notepad. For example, to copy certain files (such as those used for a specific adapter driver) when uploading the profile with the "hives-only" parameter, you would list those files in the [HivesOnlyFilesToSubstitute] section of PROFILE.INI.</LI><LI>    On the master system computer, type the following:
<P><B>uplodprf -h -s:</B><I>diff_1</I> <B> -i:profile.ini </B> [<I>\dir1</I>] [<I>\dir2</I>] [<I>...</I>]</P>

<P>where <I>diff_1</I> is the UNC name of the directory you created in step 1 of this procedure (or the network path to that directory, if you have a network connection to it), and <I>dir1, dir2, ... </I>are the paths to additional directories on the master system computer that you want to preinstall on the target computers. The <B>-h</B> parameter indicates that only the hive is to be copied to the PROFILE.INI file in the indicated subdirectory.</P></LI></OL><P>When downloading the profile to the target machine, the user specifies the master profile, and if that computer uses one of the alternate video cards also specifies the appropriate "difference" profile. That is, follow the directions in the procedure "To distribute the master system profile to target computers," but in step 4 use a command of the form</P>
<P><B>winntp /r /s:\\</B><B><I>server</I></B><B>\</B><B><I>share</I></B><B>,\\</B><B><I>server</I></B><B>\</B><B><I>share2</I></B><B> /b</B></P>
<P>The first <B>\\</B><B><I>server</I></B><B>\</B><B><I>share</I></B> after the <B>/s:</B> is the one with the base configuration. The subdirectory with the differences is specified in the second <B>\\</B><B><I>server</I></B><B>\</B><B><I>share</I></B> entry, which is separated from the first with a comma and no spaces. </P></FONT></BODY></HTML>
