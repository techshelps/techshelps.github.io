<HTML><HEAD><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Session Manager Control Entries</TITLE><META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset= iso-8859-1"><style>@import url(/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="/msdn_ie3.css"></HEAD><BODY BGCOLOR="#FFFFFF">
<FONT FACE="verdana,arial,helvetica" SIZE="2"><FORM NAME="x"><OBJECT CLASSID="clsid:9c2ac687-ceef-11cf-96d9-00a0c903b016" NAME="iv"></OBJECT></FORM>
<H3>Session Manager Control Entries</H3><P>The Session Manager subkey contains the global variables used by the Session Manager. These values are stored under the following Registry path:</P>
<P><BR></P>
<pre><code>HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\Session Manager</code></pre>
<P><B>BootExecute     REG_MULTI_SZ</B></P>
<P>Specifies programs to run during startup. For example, if CONVERT.EXE has been used to convert the file system on a hard disk drive, this value is added to <B>BootExecute</B> so that conversion occurs when the system is restarted:</P>
<P><BR></P>
<pre><code>   BootExecute = autocheck autoconv \DosDevices\x: /FS:NTFS</code></pre>
<P>Default:  autocheck autochk *</P>
<P><B>CriticalSectionTimeout     REG_DWORD</B></P>
<P>Specifies the deadlock time-out for critical sections. Usually, retail installations of Windows&nbsp;NT will not time-out and detect deadlocks.</P>
<P>Default:  0x278d00</P>
<P><B>GlobalFlag     REG_DWORD</B></P>
<P>Controls various Windows&nbsp;NT internal operations. You can change this value to disable the OS/2 subsystem if you want to run bound applications in a VDM, rather than under the OS/2 subsystem. Set this value to 20100000 to disable the OS/2 subsystem.</P>
<P>Default:  0x21100000</P>
<P><B>ObjectDirectories     REG_MULTI_SZ</B></P>
<P>Lists the object directories to create during startup. Do not edit these entries.</P>
<P>Default:  \DosDevices<BR>\Windows<BR>\RPC Control</P>
<H4><A NAME="sec0"></A>DOS Devices Control Entries</H4><P>The DosDevices subkey lists the built-in symbolic links to create at startup. The values are stored under this subkey:</P>
<P><BR></P>
<pre><code>HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet<BR>    \Control\Session Manager\DOS Devices</code></pre>
<P>Entries in this subkey have the data type of REG_SZ. The following list shows the default entries under this subkey.</P>
<P><B>AUX=</B>\DosDevices\COM1<BR><B>MAILSLOT=</B>\Device\MailSlot<BR><B>NUL=</B>\Device\Null<BR><B>PIPE=</B>\Device\NamedPipe<BR><B>PRN=</B>\DosDevices\LPT1<BR><B>TELNET=</B>\Device\Telnet<BR><B>UNC=</B>\Device\Mup </P>
<H4><A NAME="sec1"></A>Environment Control Entries</H4><P>The Environment subkey defines environment variables that the system creates and that are used by Windows&nbsp;NT Logon and Program Manager.</P>
<P><B>Caution</B>   Use extreme care in changing these entry values. If the operating system cannot find the files specified for a subsystem, you will not be able to run non-Windows&nbsp;NT-based applications. </P>
<P>The Registry path for these values is the following:</P>
<P><BR></P>
<pre><code>HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet<BR>    \Control\Session Manager\Environment</code></pre>
<P><B>ComSpec     REG_EXPAND_SZ     </B><I>Filename</I></P>
<P>Defines the path and filename for the Windows&nbsp;NT command interpreter (the equivalent of MS-DOSCOMMAND.COM in MS-DOS).</P>
<P>Default: %systemRoot%\SYSTEM32\CMD.EXE</P>
<P><B>Os2LibPath     REG_EXPAND_SZ     </B><I>Filename</I></P>
<P>Defines the path for the Microsoft OS/2 version 1.<I>x</I> library.</P>
<P>Default: %systemRoot%\SYSTEM32\os2\dll</P>
<P><B>Path     REG_EXPAND_SZ     </B><I>Filename</I></P>
<P>Defines the path variable for Windows&nbsp;NT logon and Program Manager.</P>
<P>Default:  %systemRoot%\SYSTEM32; %SystemRoot%</P>
<P><B>Windir     REG_EXPAND_SZ     </B><I>Filename</I></P>
<P>Defines the path for the executable for WOW, as used by Windows&nbsp;NT logon and Program Manager.</P>
<P>Default:  %systemRoot%\SYSTEM32\CMD.EXE</P>
<H4><A NAME="sec2"></A>KnownDLLs Control Entries</H4><P>The KnownDlls subkey defines the set of DLLs that are first searched during system startup. In general, these are system DLLs that are loaded from disk into a section of memory and are checked for integrity. These DLLs consume some resources, even if no application loads them. These appear as separate entries under this Registry path:</P>
<P><BR></P>
<pre><code>HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\Session Manager\KnownDLLs</code></pre>
<P><I>driverName</I><B>     REG_SZ     </B><I>DLL Filename</I></P>
<P>This series of entries defines a driver name and the corresponding DLL filename. The following shows the default entries:</P>

<TABLE COLS="2" BORDER="0" CELLPADDING="7"><COLGROUP><COL WIDTH="183pt" VALIGN="TOP"><COL WIDTH="154pt" VALIGN="TOP"></COLGROUP><TBODY><TR><TD VALIGN="TOP"><P><B>advapi32=</B>advapi32.dll</P></TD><TD VALIGN="TOP"><P><B>olecli32</B>=olecli32.dll</P></TD></TR><TR><TD VALIGN="TOP"><P><B>comdlg32</B>=comdlg32.dll</P></TD><TD VALIGN="TOP"><P><B>olesvr32</B>=olesvr32.dll</P></TD></TR><TR><TD VALIGN="TOP"><P><B>crtdll</B>=crtdll.dll</P></TD><TD VALIGN="TOP"><P><B>rpcrt4</B>=rpcrt4.dll</P></TD></TR><TR><TD VALIGN="TOP"><P><B>DllDirectory</B>=%SystemRoot%\system32</P></TD><TD VALIGN="TOP"><P><B>shell32</B>=shell32.dll</P></TD></TR><TR><TD VALIGN="TOP"><P><B>gdi32</B>=gdi32.dll</P></TD><TD VALIGN="TOP"><P><B>user32</B>=user32.dll</P></TD></TR><TR><TD VALIGN="TOP"><P><B>kernel32</B>=kernel32.dll</P></TD><TD VALIGN="TOP"><P><B>version</B>=version.dll</P></TD></TR><TR><TD VALIGN="TOP"><P><B>lz32</B>=lz32.dll</P></TD><TD VALIGN="TOP"><P></P></TD></TR></TBODY></TABLE>
<P><BR></P><H4><A NAME="sec3"></A>Memory Management Control Entries</H4><P>The Memory Management subkey defines paging options under the following Registry path:</P>
<P><BR></P>
<pre><code>HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control<BR>    \Session Manager\Memory Management</code></pre>
<P>The paging file parameters should be defined by using the System icon in Control Panel and choosing the Virtual Memory button.</P>
<P><B>IoPageLockLimit     REG_DWORD      </B><I>Number of bytes</I></P>
<P>Specifies the limit of the number of bytes that can be locked for I/O operations. When this value is 0, the system uses the default (512K). The maximum value is about the equivalent of physical memory minus pad, which is 7 MB for a small system and grows as the amount of memory grows. For a 64 MB system, pad is about 16 MB; for a 512 MB system, pad is about 64 MB.</P>
<P>Default:  512K</P>
<P><B>LargeSystemCache     REG_DWORD     </B><I>Number</I></P>
<P>Specifies, for a nonzero value, that the system favor the system-cache working set rather than the processes working set. Set this value by choosing the Windows&nbsp;NT ServerWindows NT Server installation base.</P>
<P>Default:  0</P>
<P><B>NonPagedPoolSize     REG_DWORD     </B><I>Number of bytes</I></P>
<P>Specifies the size of nonpaged pool in bytes. When this value is 0, the system uses the default size (based on physical memory). The maximum amount is about 80 percent of physical memory.</P>
<P>Default:  0</P>
<P><B>PagedPoolSize     REG_DWORD    </B><I>0 to 128 MB</I></P>
<P>Specifies the size of paged pool in bytes. When this value is 0, the system uses the default size (32&nbsp;MB). See also the entry for <B>RegistrySizeLimit</B> at the beginning of this section.</P>
<P>Default:  0x3000000 (32 MB)</P>
<P><B>PagingFiles     REG_MULTI_SZ     </B><I>System_Paging_Files</I></P>
<P>Specifies page file information set by choosing the System icon in Control Panel.</P>
<P>Default:  C:\pagefile.sys 27</P>
<H4><A NAME="sec4"></A>Subsystem Startup Control Entries</H4><P>The following is the Registry path for the subsystem settings established at startup:</P>
<P><BR></P>
<pre><code>HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet<BR>    \Control\Session Manager\SubSystems</code></pre>
<P>These values should only be maintained by the system. You should not need to manually define these settings.</P>
<P><B>Debug     REG_EXPAND_SZ     </B><I>Names</I></P>
<P>Default:  (no value)</P>
<P><B>Optional     REG_MULTI_SZ     </B><I>Subsystem names</I></P>
<P>Defines subsystems that are only loaded when the user starts an application that requires this subsystem.</P>
<P>Default:  Os2 Posix</P>
<P><B>Os2      REG_EXPAND_SZ     </B><I>Path and filename</I></P>
<P>Defines the path to the executable file used to start the Microsoft OS/2 version 1.<I>x</I> subsystem. </P>
<P>Default:  %SystemRoot%\system32\os2ss.exe</P>
<P><B>Posix      REG_EXPAND_SZ     </B><I>Path and filename</I></P>
<P>Defines the path to the executable file used to start the POSIX subsystem. (There are no additional POSIX entries in the Registry.)</P>
<P>Default:  %SystemRoot%\system32\psxss.exe</P>
<P><B>Required     REG_MULTI_SZ     </B><I>Name</I></P>
<P>Default:  Debug Windows</P>
<P><B>SystemPages     REG_DWORD     </B><I>Number of entries</I></P>
<P>Defines the number of system page table entries reserved for mapping I/O buffers and other information into the system address space. Each entry maps a single page. The value 0 indicates that the default number of entries is to be used.</P>
<P>Default:  TBD</P>
<P><B>Windows      REG_EXPAND_SZ     </B><I>Path and filename</I></P>
<P>Defines the path to the executable file used to start the Win32 subsystem. </P>
<P>Default:  %SystemRoot%\system32\csrss.exe ObjectDirectory=\Windows SharedSection=1024,3072 Windows=On SubSystemType=Windows ServerDll=basesrv,1 ServerDll=winsrv:GdiServerDllInitialization,4 ServerDll=winsrv:UserServerDllInitialization,3 ServerDll=winsrv:ConServerDllInitialization,2 ServerDll=mmsndsrv,5 ProfileControl=Off MaxRequestThreads=16</P></FONT></BODY></HTML>
