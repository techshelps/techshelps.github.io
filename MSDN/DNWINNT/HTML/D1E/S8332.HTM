<HTML><HEAD><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Key Information Files Used by Setup</TITLE><META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset= iso-8859-1"><style>@import url(/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="/msdn_ie3.css"></HEAD><BODY BGCOLOR="#FFFFFF">
<FONT FACE="verdana,arial,helvetica" SIZE="2"><FORM NAME="x"><OBJECT CLASSID="clsid:9c2ac687-ceef-11cf-96d9-00a0c903b016" NAME="iv"></OBJECT></FORM>
<H3>Key Information Files Used by Setup</H3><P>Before customizing Setup for your organization, you need to become familiar with the following four files used by Setup. These files call the other .INF files and control the Setup process. For a complete list of the .INF files and what they do, see Chapter 4, "Windows&nbsp;NT Files." The four key files are described in the following table.</P>

<TABLE COLS="2" BORDER="0" CELLPADDING="7"><COLGROUP><COL WIDTH="72pt" VALIGN="TOP"><COL WIDTH="274pt" VALIGN="TOP"></COLGROUP><TBODY><TR><TD VALIGN="TOP"><P>Filename</P></TD><TD VALIGN="TOP"><P>Controls this part of Setup</P></TD></TR><TR><TD COLSPAN="2" VALIGN="TOP"><P></P></TD></TR><TR><TD VALIGN="TOP"><P>TXTSETUP.SIF</P></TD><TD VALIGN="TOP"><P>Text-mode installation of core Windows&nbsp;NT components. Used by Setup from CD or floppy disks, or via the <B>winnt </B>or<B> winnt32</B> utility (discussed later in this chapter).</P></TD></TR><TR><TD VALIGN="TOP"><P>INITIAL.INF</P></TD><TD VALIGN="TOP"><P>Graphical-mode installation of additional Windows&nbsp;NT components. Used by Setup via CD, floppy disks, or the <B>winnt </B>or<B> winnt32</B> utility.</P></TD></TR><TR><TD VALIGN="TOP"><P>PARTIAL.INF</P></TD><TD VALIGN="TOP"><P>Graphical-mode installation of optional Windows&nbsp;NT components and creation of Program Manager groups. Used by Setup via CD, floppy disks, or the <B>winnt </B>or<B> winnt32</B> utility.</P></TD></TR><TR><TD VALIGN="TOP"><P>DOSNET.INF</P></TD><TD VALIGN="TOP"><P>Contains the list of files copied to your local hard disk during <B>winnt </B>or<B> winnt32 </B>Setup. Used by the MS-DOS portion of <B>winnt</B>,<B> </B>and by <B>winnt32</B> Setup.</P></TD></TR></TBODY></TABLE>
<P><BR></P><P>This section explains how each of these files is used by Setup and how you might use them to customize your installation.</P>
<H4><A NAME="sec0"></A>The TXTSETUP.SIF File</H4><P>When you begin the Setup program from CD or floppy disks, Setup first prompts you where you want to install Windows&nbsp;NT and lets you reformat and repartition your hard disk. This stage uses text mode rather than Windows graphics mode. After the questions are answered, Setup copies the minimum set of files necessary for running Windows&nbsp;NT and completing the setup process.</P>
<P>During this text-mode phase of Setup, drivers for the keyboard, mouse, video, SCSI adapter, and the computer itself (the <I>hardware access layer</I>, or HAL) are installed. The TXTSETUP.SIF file provides the lists of choices for drivers for all of these components.</P>
<P>The TXTSETUP.SIF file is the file that specifies all the files to be copied during setup, and all the keys and values to be added or changed in the Registry during upgrades. Since this file is used at the very beginning of the text mode portion of setup, any changes made to it must be made on the first boot floppy disk itself or on the copy on the distribution share. Since this file is also used if a system needs to be repaired, any file that you add to your installation should also be added to the list at the end of this file.</P>
<H4><A NAME="sec1"></A>The INITIAL.INF File</H4><P>After the minimum set of files have been copied to your hard disk, Setup restarts the computer. The computer boots into the graphical Windows Setup. The INITIAL.INF file guides this next part of Setup.</P>
<P>The INITIAL.INF file causes Setup to install key components, including File Manager, Program Manager, fonts, and compatibility files for MS-DOS, Windows 16-bit, OS/2, and POSIX environments; but not optional components such as accessories.</P>
<P>The INITIAL.INF file initiates other parts of Setup, for example asking the user to choose optional components and install a printer.</P>
<P>You must change this file to change the fonts that are installed by Setup.</P>
<H4><A NAME="sec2"></A>The PARTIAL.INF File</H4><P>The PARTIAL.INF file contains the list of optional components, including screen savers, wallpapers, README files, and games. All optional components are automatically installed with Windows&nbsp;NT if you selected Express Setup. During Custom Setup, the user specifies which of the optional components are installed, choosing from the components listed in the PARTIAL.INF file.</P>
<P>The PARTIAL.INF file is also responsible for creating Program Manager groups and adding programs to those groups.</P>
<P>If you want to increase or restrict the set of optional components from which a user can choose, modify the PARTIAL.INF file. If you want new program groups to be added during installation, modify this file.</P>
<H4><A NAME="sec3"></A>The DOSNET.INF File</H4><P>The DOSNET.INF file is only used when setting up Windows&nbsp;NT across the network via the <B>winnt </B>or<B> winnt32</B> utility. These commands copy files from a distribution share or CD to the target computer. The distribution share includes the complete set of files from the Windows&nbsp;NT Setup CD or floppy disk set.</P>
<P>When you run the <B>winnt </B>or<B> winnt32</B> utility, all of the necessary files on the distribution share are copied to a temporary directory called $WIN_NT$.~LS on the hard disk of the target computer. The DOSNET.INF file defines which files are copied to this temporary directory. If you add files to the distribution share, you must add the filenames to the list in the DOSNET.INF file so that they will be copied. If you want to exclude files, you'll need to comment out the lines in the file list that refer to those files.</P>
<P>Once the files are copied to the temporary directory, the <B>winnt</B> or <B>winnt32</B> utility prompts you to restart the computer. From this point, Setup proceeds as though you were running Setup from a CD, except that files are copied from the $WIN_NT$.~LS directory rather than from the CD. At the end of Setup, the $WIN_NT$.~LS directory is deleted.</P>
<P>In addition, information from the DOSNET.INF file is used to create the boot floppy disks that are used to install Windows&nbsp;NT on x86 computers.</P>
<P></P>
<P><b>Important</b></P>
<P>Whenever you alter the DOSNET.INF file, you must alter the TXTSETUP.SIF file and at least one other .INF file (either the INITIAL.INF or PARTIAL.INF file).</P>
<P>For example, if you add a file to the INITIAL.INF, PARTIAL.INF, or TXTSETUP.SIF files, you must also add it to the DOSNET.INF file. Otherwise, Setup will not be able to find the file in the $WIN_NT$.~LS directory and generates an error when it tries to copy the file. Conversely, if you add a file to the DOSNET.INF file but do not add one to the TXTSETUP.SIF file or one of the other .INF files, then when you run the <B>winnt </B>or<B> winnt32</B> utility, the file will be copied to the $WIN_NT$.~LS directory but will not be installed on your computer.</P>
<P></P></FONT></BODY></HTML>
