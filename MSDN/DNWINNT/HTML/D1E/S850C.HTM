<HTML><HEAD><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Remote Access Service (RAS) Entries</TITLE><META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset= iso-8859-1"><style>@import url(/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="/msdn_ie3.css"></HEAD><BODY BGCOLOR="#FFFFFF">
<FONT FACE="verdana,arial,helvetica" SIZE="2"><FORM NAME="x"><OBJECT CLASSID="clsid:9c2ac687-ceef-11cf-96d9-00a0c903b016" NAME="iv"></OBJECT></FORM>
<H3>Remote Access Service (RAS) Entries</H3><P>The RemoteAccess subkey is created in the Registry when you install RAS on a server, using the Network icon in Control Panel. The default values in RemoteAccess and its subkeys work well for all Windows&nbsp;NT operations such as copying files, using network resources, and sending and receiving electronic mail. However, for some systems, you may want to adjust individual parameters to suit your particular performance and security needs.</P>
<P>Initially, there are no value entries in the Registry for the Remote Access subkey or its subkeys until you add them with new settings. (The only exception is <B>EnableNetbiosGateway</B>, the NetBIOS parameter.) Unlisted value entries are set to their default values, as described in this section. </P>
<P>For information on Remote Access configuration files and other parameters, see Appendix B, "Configuration Files," in the <I>Windows&nbsp;NT Remote Access Service Administrator's Guide. </I></P>
<P>The subkeys under the Remote Access subkey in HKEY_LOCAL_MACHINE<BR>\SYSTEM\CurrentControlSet\Services\ include the following:</P>
<UL><LI>     RemoteAccess\Parameters</LI><LI>     RemoteAccess\Parameters\NetbiosGateway</LI><LI>     AsyncMac<I>n</I>\Parameters</LI><LI>     RasHub\Parameters</LI><LI>     RasMan\Parameters</LI></UL><P>See also <B>WanNameQueryRetries</B> in "NBF (NetBEUI) Transport Entries," earlier in this chapter. </P>
<H4><A NAME="sec0"></A>Remote Access Parameters Subkey Entries</H4><P>The Parameters subkey for Remote Access has the following Registry path:</P>
<P><BR></P>
<pre><code>HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services<BR>    \RemoteAccess\Parameters</code></pre>
<P>For changes to take effect, you must stop and restart the Remote Access service. The functions and settings of these value entries are as follows:</P>
<P><B>AuthenticateRetries     REG_DWORD</B><I>     0 to 10</I></P>
<P>Sets the maximum number of unsuccessful retries allowed if the initial attempt at authentication fails.</P>
<P>Default:  2</P>
<P><B>AuthenticateTime     REG_DWORD</B><I>     20 to 600 seconds</I></P>
<P>Sets the maximum time limit within which a user must be successfully authenticated. If the client does not initiate the authentication process within this time, the user is disconnected.</P>
<P>Default:  120 seconds</P>
<P><B>CallbackTime     REG_DWORD</B><I>     2 to 12 seconds</I></P>
<P>Sets the time interval that the server waits before calling the client back when the Callback feature has been set. Each client communicates the value of its own callback time when connecting to a Remote Access server. If this value is not communicated (that is, if the client does not communicate a value for the callback time, as with Remote Access 1.0 and 1.1 clients), the value of the <B>CallbackTime</B> parameter becomes the default.</P>
<P>Default:  2 seconds</P>
<P><B>EnableAudit     REG_DWORD</B><I>     0 or 1</I></P>
<P>Determines whether Remote Access auditing is turned on or off. If this feature is enabled, all audits are recorded in the Security event log, which you can view using Event Viewer.</P>
<P>Default:  1 (enabled)</P>
<P><B>NetbiosGatewayEnabled     REG_DWORD</B><I>     0 or 1</I></P>
<P><B>Caution</B>   Do not change this value in Registry Editor, because various network bindings must also be changed. This parameter should only be changed by using the RAS Setup program.</P>
<P>Makes the server function like a NetBIOS gateway, allowing clients to access the LAN. If disabled, remote clients can access only the resources on the Remote Access server in a point-to-point connection; dial-in users cannot see the network or access network resources.</P>
<P>Default:  1 (enabled)</P>
<H4><A NAME="sec1"></A>RAS NetBIOSGateway Subkey Entries</H4><P>The Registry path for these entries is the following:</P>
<P><BR></P>
<pre><code>HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services<BR>    \RemoteAccess\Parameters</code></pre>
<P><B>AutoDisconnect     REG_DWORD</B><I>     0 to 1000 minutes</I></P>
<P>Sets the time interval after which inactive connections are terminated. Inactivity is measured by lack of NetBIOS session data transfer, such as copying files, accessing network resources, and sending and receiving electronic mail. You may want to set this value to 0 seconds if clients are running NetBIOS datagram applications. Setting this value to 0 turns off <B>AutoDisconnect</B>.</P>
<P>Default:  20 minutes</P>
<P><B>DisableMcastFwdWhenSessionTraffic     REG_DWORD</B><I>     0 or 1</I></P>
<P>Allows NetBIOS session traffic (for example, Windows&nbsp;NT-based applications) to have priority over multicast datagrams (such as server messages). In other words, multicast datagrams are transferred only when there is no session traffic. Unless you're using an application that depends on multicast datagrams, leave this parameter enabled.</P>
<P>Default:  1 (enabled)</P>
<P><B>EnableBroadcast     REG_DWORD</B><I>     0 or 1</I></P>
<P>Determines whether broadcast datagrams are forwarded to remote workstations. Broadcast datagrams are not often useful and take up too much bandwidth on a slow link. Unless you're using an application that relies on broadcast datagrams, leave this parameter disabled.</P>
<P>Default:  0 (disabled)</P>
<P><B>EnableNetbiosSessionsAuditing    REG_DWORD     </B><I>0 or 1</I></P>
<P>Enable this parameter to record in the event log the establishment of NetBIOS sessions between the remote clients and the LAN servers. Enable this parameter to track the NetBIOS resources accessed on the LAN.</P>
<P>Default:  0 (disabled)</P>
<P><B>MaxBcastDgBuffered     REG_DWORD</B><I>     16 to 255</I></P>
<P>Sets the number of broadcast datagrams that the gateway buffers for a client. If you're using an application that communicates extensively through multicast or broadcast datagrams, increase this parameter so that the Remote Access server can deliver all datagrams reliably.</P>
<P>Default:  32</P>
<P><B>MaxDgBufferedPerGroupName     REG_DWORD</B><I>     1 to 255</I></P>
<P>Sets the number of datagrams that can be buffered per group name. Increasing this value buffers more datagrams per group name but also takes up more virtual memory.</P>
<P>Default:  10</P>
<P><B>MaxDynMem     REG_DWORD</B><I>     131072 to  4294967295</I></P>
<P>Sets the amount of virtual memory used to buffer NetBIOS session data for each remote client.</P>
<P>Because the Remote Access server is a gateway between the slow line and the LAN, data is stored (buffered) in its memory when coming from the fast line (LAN) before it is forwarded to the slow line (asynchronous line).</P>
<P>The Remote Access server minimizes the usage of the system's physical memory by locking only a minimal set of pages (about 64K per client) and making use of virtual memory (up to <B>MaxDynMem</B>) to buffer the rest of the data. So, as long as there is enough space on the hard disk to expand PAGEFILE.SYS, you can increase this value if needed.</P>
<P>If you have an application with a LAN (fast) sender and an asynchronous (slow) receiver, and if the sender is sending more data at a time than the Remote Access server can buffer in <B>MaxDynMem</B>, the Remote Access server tries to apply a form of NetBIOS level flow control by not submitting NCB.RECEIVE on the session until it has enough buffer space to get incoming data. For this reason, if you have such an application, you should increase your NetBIOS SEND/RECEIVE time-outs so that the fast sender can keep pace with the slow receiver.</P>
<P>Default:  655350</P>
<P><B>MaxNames     REG_DWORD</B><I>     1 to 255</I></P>
<P>Sets the number of unique NetBIOS names each client can have, with a limit of 255 names for all clients together. </P>
<P>Remote clients running Windows&nbsp;NT and Windows for Workgroups may need as many as seven or eight names each. To accommodate these workstations, set the <B>MaxNames</B> value to 8 and reduce the number of ports on the Remote Access server. If you have Windows&nbsp;NT or Windows for Workgroups clients dialing in to servers running Remote Access version 1.1 or earlier, set this parameter to 8 or greater.</P>
<P>Default:  255</P>
<P><B>MaxSessions     REG_DWORD</B><I>     1 to 255</I></P>
<P>Sets the maximum number of simultaneous NetBIOS sessions each client can have, with a limit of 255 sessions for all clients together. If you have multiple clients connecting simultaneously with each running 4 or 5 sessions, decrease the value of this parameter so that the total number of sessions does not exceed 255.</P>
<P>Default:  255</P>
<P><B>MultiCastForwardRate     REG_DWORD</B><I>    –1 (disabled); 0 to 32,676 seconds</I></P>
<P>Governs the multicasting of group name datagrams to all remote workstations. This parameter filters datagrams sent on group names by forwarding them at a specified time interval. </P>
<P>The value –1 disables forwarding. The value 0 guarantees delivery of group name datagrams. The value <I>n</I> forwards datagrams every <I>n</I> seconds, when 1<FONT FACE="Symbol">£</FONT><I>n</I><FONT FACE="Symbol">£</FONT>32,676.</P>
<P>If the <B>EnableBroadcast</B> parameter is set to 0, broadcasts are not forwarded even if the <B>MultiCastForwardRate</B> parameter is set to a positive number (in this case, only multicast datagrams are forwarded). The line becomes overloaded. If <B>MultiCastForwardRate</B> is set to –1, broadcasts are still not forwarded even if <B>EnableBroadcast</B> is set to 1. See also <B>EnableBroadcast</B>.</P>
<P>To save bandwidth for session traffic, filter the datagrams. However, if you have an application based on multicast datagrams, set this parameter to 0. This value guarantees delivery of all datagrams sent on group names from the LAN to the remote client.</P>
<P>Default:  5</P>
<P><B>NumRecvQueryIndications     REG_DWORD     </B><I>1 to 32</I></P>
<P>Allows a Remote Access client to initiate multiple network connections simultaneously. If a remote client is running a NetBIOS application that does multiple NCB.CALL commands simultaneously, increase this parameter to improve performance.</P>
<P>Default:  3</P>
<P><B>RcvDgSubmittedPerGroupName     REG_DWORD</B><I>     1 to 32</I></P>
<P>Determines the number of NetBIOS commands of the type Receive Datagram that can be submitted simultaneously per group name on the LAN stack. Keep this setting as small as possible to minimize the amount of memory consumed by system resources. Each datagram command received locks about 1.5K of physical memory in the system.</P>
<P>Default:  3</P>
<P><B>RemoteListen     REG_DWORD</B><I>     0 to 2</I></P>
<P>Sets the remote NCB_LISTEN capability.</P>

<TABLE COLS="2" BORDER="0" CELLPADDING="7"><COLGROUP><COL WIDTH="48pt" VALIGN="TOP"><COL WIDTH="289pt" VALIGN="TOP"></COLGROUP><TBODY><TR><TD VALIGN="TOP"><P>Value</P></TD><TD VALIGN="TOP"><P>Meaning</P></TD></TR><TR><TD COLSPAN="2" VALIGN="TOP"><P></P></TD></TR><TR><TD VALIGN="TOP"><P>0</P></TD><TD VALIGN="TOP"><P>Disables a client's ability to post NCB_LISTEN for any NetBIOS name. Because every remote listen posted consumes one session, setting this parameter to 0 saves sessions.</P></TD></TR><TR><TD VALIGN="TOP"><P>1</P></TD><TD VALIGN="TOP"><P>Messages. Allows clients to post NCB_LISTEN on Windows&nbsp;NT ServerWindows NT Server message aliases only. If a remote client is running the Messenger service, it can then receive messages from LAN users, printers, and the like.</P></TD></TR><TR><TD VALIGN="TOP"><P>2</P></TD><TD VALIGN="TOP"><P>All. Enables NCB_LISTEN for all remote client NetBIOS names, allowing clients to run NetBIOS server applications. This setting allows all clients to function as NetBIOS servers on the network. </P></TD></TR></TBODY></TABLE>
<P><BR></P><P>It is best to leave the <B>RemoteListen</B> parameter set to the default, 1 (messages). Allowing NCB_LISTEN capability on remote clients can significantly drain system resources and therefore is not recommended. </P>
<P>If the <B>RemoteListen</B> parameter is set to 2, Remote Access posts an NCB_LISTEN on all NetBIOS names of Remote Access clients. Because the average Windows&nbsp;NT ServerWindows NT Server workstation has about seven or eight NetBIOS names assigned to it, the total number of NetBIOS names for which an NCB_LISTEN would be posted is 7 or 8 * 64 (the maximum number of clients per Remote Access server), which exceeds the 255 maximum.</P>
<P>Default:  1 (messages)</P>
<P><B>SizWorkBufs     REG_DWORD</B><I>     1024 to 65536</I></P>
<P>Sets the size of work buffers. The default setting is optimized for the server message block (SMB) protocol, the protocol between the workstation and the server running on the Windows&nbsp;NT ServerWindows NT Server system.</P>
<P>Default:  4500</P>
<H4><A NAME="sec2"></A>RAS AsyncMAC Subkey Entries</H4><P>The Registry path for these entries is the following:</P>
<P><BR></P>
<pre><code>HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services<BR>    \AsyncMac<I>n</I>\Parameters</code></pre>
<P>For changes to take effect, you must restart the computer.</P>
<P><B>MaxFrameSize     REG_DWORD</B><I>    576 to 1514 </I></P>
<P>Determines the maximum frame size. Use smaller frames for noisy links. A lower setting sends less data per frame, slowing performance. Do not change this parameter for previous versions of the Remote Access service. The value is negotiated between the server and Windows&nbsp;NT clients.</P>
<P>Default:  1514</P>
<H4><A NAME="sec3"></A>RAS PPP Subkey Entries</H4><P>The Registry path that contains entries for the Point-to-Point Protocol (PPP) service is the following:</P>
<P><BR></P>
<pre><code>HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services\Rasman\PPP</code></pre>
<P><B>ForceEncryptedPassword     REG_DWORD     </B><I>Boolean</I></P>
<P>This is a server-side parameter only. It is used to force the use of the Crypto-Handshake Authentication Protocol while authenticating clients. This means that the cleartest password will not get sent on the wire during authentication.</P>
<P>Default:  1 (enabled)</P>
<P><B>MaxConfigure     REG_DWORD     </B><I>Number</I></P>
<P>Indicates the number of Configure-Request packets sent without receiving a valid Configure-Ack, Configure-Nak or Configure-Reject before assuming that the peer is unable to respond.</P>
<P>Default:  10</P>
<P><B>MaxFailure     REG_DWORD     </B><I>Number</I></P>
<P>Indicates the number of Configure-Nak packets send without sending a Configure-Ack before assuming that the configuration in not converging.</P>
<P>Default:  10</P>
<P><B>MaxReject     REG_DWORD     </B><I>Number</I></P>
<P>Indicates the number of Config-Rejects sent before assuming that the PPP negotiation will not converge.</P>
<P>Default:  5</P>
<P><B>MaxTerminate     REG_DWORD     </B><I>Number</I></P>
<P>Indicates the number of Terminate-Request packets sent without receiving a Terminate-Ack before assuming that the peer is unable to respond.</P>
<P>Default:  2</P>
<P>Additional PPP entries are found in the following subkey:</P>
<P><BR></P>
<pre><code>HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services\Rasman\PPP<BR>   \IPCP</code></pre>
<P><B>PriorityBasedOnSubNetwork     DWORD     </B><I>0 or 1</I></P>
<P>Local and remote subnets are part of the same network number range. By default, RAS forwards packets over the RAS link when the two interfaces belong to the same network. RAS forwards packets based on the subnet number and lets you see this machine on the LAN even when called in over RAS if this value is set to 1.</P>
<P>Default: 0</P>
<H4><A NAME="sec4"></A>RAS RasHub Subkey Entries</H4><P>The Registry path for the RasHub subkey is the following:</P>
<P><BR></P>
<pre><code>HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services\RasHub\Parameters</code></pre>
<P>For changes to take effect, you must restart the computer.</P>
<P>The subkeys RasHub01 and RasHub02 show, for example, that this installation of Remote Access is configured for two COM ports. In configuring ports, you can determine whether clients have access to the Remote Access server only (point-to-point connection) or to the network.</P>
<P><B>NetworkAddress     REG_SZ      </B><I>"</I> <I>xxxxxx"</I>     </P>
<P>Reassigns the first four bytes of the 6-byte IEEE address. For example, for the address "03-1F-2C-81-92-34" only the first four bytes are looked at. </P>
<P>Some applications depend on an IEEE adapter address being available. However, because the Remote Access Service uses modems (not real Ethernet adapters), it does not have an IEEE Ethernet address per se. This parameter lets you manually set an IEEE adapter address for Remote Access adapter bindings where applications demand it.</P>
<H4><A NAME="sec5"></A>RAS RasMan Subkey Entries</H4><P>The Registry path for the RasMan subkey is the following:</P>
<P><BR></P>
<pre><code>HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services\RasMan\Parameters</code></pre>
<P><B>Logging     REG_DWORD      </B><I>0 or 1</I>     </P>
<P>Turns on information tracking for the modem using the DEVICE.LOG file. Set this value to 1 if you have modem problems that you cannot solve following documented procedures in the <I>Microsoft Windows&nbsp;NT Remote Access Administrator's Guide.</I> Logging begins the next time you dial in to connect through RAS. You do not need to restart your computer for the DEVICE.LOG file to be created.</P></FONT></BODY></HTML>
