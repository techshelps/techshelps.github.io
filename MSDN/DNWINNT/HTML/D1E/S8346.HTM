<HTML><HEAD><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Adding a File to the Windows NT Installation</TITLE><META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset= iso-8859-1"><style>@import url(/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="/msdn_ie3.css"></HEAD><BODY BGCOLOR="#FFFFFF">
<FONT FACE="verdana,arial,helvetica" SIZE="2"><FORM NAME="x"><OBJECT CLASSID="clsid:9c2ac687-ceef-11cf-96d9-00a0c903b016" NAME="iv"></OBJECT></FORM>
<H3>Adding a File to the Windows&nbsp;NT Installation</H3><P>If you want to add files during the installation of Windows&nbsp;NT, but don't need the file added to a Program Manager group, you only need to put the files on the distribution share and modify the TXTSETUP.SIF and DOSNET.INF files.</P>
<P>For example, suppose an administrator at Terra Flora, Inc. wants to add an online help file that employees can use to help resolve common problems for Terra Flora's business. The administrator adds TERRA.HLP to the distribution share, then makes changes to the TXTSETUP.SIF and DOSNET.INF files as described in the following sections.</P>
<P><B>Note</B>   When you add files to Setup, be sure to change the minimum required disk space needed for installation. For more information, see "Changing Minimum Disk Space Requirements" later in this chapter.</P>
<H4><A NAME="sec0"></A>The TXTSETUP.SIF File</H4><P>After the file has been created and placed in the distribution share, it must be added to the [Files] section of the TXTSETUP.SIF file. If you want Setup to create a special subdirectory in the Windows&nbsp;NT root directory for this file, it should be specified in the [WinntDirectories] section. For example, you might add the following line to the [WinntDirectories] section:</P>
<P><BR></P>
<pre><code>[WinntDirectories]
...
19  = TerraFlora</code></pre>
<P>This directory could then be specified when adding the Terra Flora help file, TERRA.HLP, to the end of the [Files] section, as follows:</P>
<P><BR></P>
<pre><code>[Files]
...
terra.hlp = dx,d33,,19,0,0</code></pre>
<P>This causes the file to be copied to directory 19 (the \TERRAFLORA subdirectory of the Windows&nbsp;NT root directory); it will be copied whenever anyone upgrades or installs Windows&nbsp;NT for the first time from this distribution share.</P>
<P>For more information on the format of the [WinntDirectories] and [Files] sections, see "Format of the TXTSETUP.SIF" section earlier in this chapter.</P>
<H4><A NAME="sec1"></A>The DOSNET.INF File</H4><P>All files that need to be copied from the Setup share when a user runs the <B>winnt </B>or<B> winnt32</B> utility are listed in the [Files] section of the DOSNET.INF file, preceded by "<B>d1,</B>".</P>
<P>To add the TERRA.HLP file, the Terra Flora administrator adds a line specifying the file in the [Files] section of the DOSNET.INF file. In the following example, the line has been added at the end of the section:</P>
<P><BR></P>
<pre><code>[Files]
d1,256COLOR.BMP
d1,40291730.PPD
d1,40293930.PPD
d1,terra.hlp</code></pre></FONT></BODY></HTML>
