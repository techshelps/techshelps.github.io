<HTML><HEAD><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Rules for LMHOSTS</TITLE><META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset= iso-8859-1"><style>@import url(/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="/msdn_ie3.css"></HEAD><BODY BGCOLOR="#FFFFFF">
<FONT FACE="verdana,arial,helvetica" SIZE="2"><FORM NAME="x"><OBJECT CLASSID="clsid:9c2ac687-ceef-11cf-96d9-00a0c903b016" NAME="iv"></OBJECT></FORM>
<H3>Rules for LMHOSTS</H3><P>Use the following rules for entries in LMHOSTS:</P>
<UL><LI>Each entry should be placed on a separate line. </LI><LI>The IP address should begin in the first column, followed by the corresponding computer name. </LI><LI>The address and the computer name should be separated by at least one space or tab. </LI><LI>NetBIOS names can contain uppercase and lowercase characters and special characters. If a name is placed between double quotation marks, it is used exactly as entered. For example, "AccountingPDC" is a mixed-case name, and "HumanRscSr    \0x03" generates a name with a special character.</LI></UL><P><b>Note</b></P>
<P>With Microsoft networks, a NetBIOS computer name displayed within straight quotation marks that is less than 16 characters long is padded with spaces. If you do not want this behavior, make sure the quoted string is 16 characters long.</P>
<P></P>
<UL><LI>The pound sign (#) character is usually used to mark the start of a comment. However, it can also designate special keywords, as described in this section.</LI></UL><P>The keywords listed in the following table can be used in LMHOSTS under Windows NT. (LAN Manager 2.<I>x</I>, which also uses LMHOSTS for NetBIOS over TCP/IP name resolution, treats these keywords as comments.)</P>
<P><B>Table 15.1    LMHOSTS Keywords</B></P>

<TABLE COLS="2" BORDER="0" CELLPADDING="7"><COLGROUP><COL WIDTH="108pt" VALIGN="TOP"><COL WIDTH="234pt" VALIGN="TOP"></COLGROUP><TBODY><TR><TD VALIGN="TOP"><P>Keyword</P></TD><TD VALIGN="TOP"><P>Description</P></TD></TR><TR><TD VALIGN="TOP"><P>#PRE</P></TD><TD VALIGN="TOP"><P>Added after an entry to cause that entry to be preloaded into the name cache. By default, entries are not preloaded into the name cache but are parsed only after WINS and name query broadcasts fail to resolve a name. The #PRE keyword must be appended for entries that also appear in #INCLUDE statements; otherwise, the entry in #INCLUDE is ignored.</P></TD></TR><TR><TD VALIGN="TOP"><P>#DOM:&lt;<I>domain</I>&gt;</P></TD><TD VALIGN="TOP"><P>Added after an entry to associate that entry with the domain specified by &lt;<I>domain</I>&gt;. This keyword affects how the Browser and Logon services behave in routed TCP/IP environments. To preload a #DOM entry, you must also add the #PRE keyword to the line.</P></TD></TR><TR><TD VALIGN="TOP"><P>#INCLUDE &lt;<I>filename</I>&gt;</P></TD><TD VALIGN="TOP"><P>Forces the system to seek the specified &lt;<I>filename</I>&gt; and parse it as if it were local. Specifying a Uniform Naming Convention (UNC) &lt;<I>filename</I>&gt; allows you to use a centralized LMHOSTS file on a server. If the server is located outside of the local broadcast area, you must add a mapping for the server before its entry in the #INCLUDE section and also append the #PRE keyword to ensure that it preloaded.</P></TD></TR><TR><TD VALIGN="TOP"><P>#BEGIN_ALTERNATE</P></TD><TD VALIGN="TOP"><P>Used to group multiple #INCLUDE statements. Any single successful #INCLUDE causes the group to succeed.</P></TD></TR><TR><TD VALIGN="TOP"><P>#END_ALTERNATE</P></TD><TD VALIGN="TOP"><P>Used to mark the end of an #INCLUDE statement grouping.</P></TD></TR><TR><TD VALIGN="TOP"><P>\0x<I>nn</I></P></TD><TD VALIGN="TOP"><P>Support for nonprinting characters in NetBIOS names. Enclose the NetBIOS name in double quotation marks and use \0x<I>nn</I> notation to specify a hexadecimal value for the character. This allows custom applications that use special names to function properly in routed topologies. However, LAN Manager TCP/IP does not recognize the hexadecimal format, so you surrender backward compatibility if you use this feature.</P>
<P>Note that the hexadecimal notation applies only to one character in the name. The name should be padded with blanks so the special character is last in the string (character 16).</P></TD></TR></TBODY></TABLE>
<P><BR></P><P>The following example shows how all of these keywords are used:</P>
<P><BR></P>
<pre><code><BR>102.54.94.98   localsrv   #PRE
102.54.94.97   trey       #PRE   #DOM:networking   #net group's PDC
102.54.94.102  "appname        \0x14"              #special app server
102.54.94.123  popular    #PRE                     #source server

#BEGIN_ALTERNATE
#INCLUDE \\localsrv\public\lmhosts       #adds LMHOSTS from this server
#INCLUDE \\trey\public\lmhosts       #adds LMHOSTS from this server
#END_ALTERNATE</code></pre>
<P>In the above example:</P>
<UL><LI>The servers named <B>localsrv</B> and <B>trey</B> are specified so they can be used later in an #INCLUDE statement in a centrally maintained LMHOSTS file.</LI><LI>The server named <B>"appname   \0x14" </B>contains a special character after the 15 characters in its name (including the blanks), so its name is enclosed in double quotation marks.</LI><LI>The server named <B>popular</B> is preloaded, based on the #PRE keyword.</LI></UL></FONT></BODY></HTML>
