<HTML><HEAD><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Configuring Replication Partners</TITLE><META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset= iso-8859-1"><style>@import url(/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="/msdn_ie3.css"></HEAD><BODY BGCOLOR="#FFFFFF">
<FONT FACE="verdana,arial,helvetica" SIZE="2"><FORM NAME="x"><OBJECT CLASSID="clsid:9c2ac687-ceef-11cf-96d9-00a0c903b016" NAME="iv"></OBJECT></FORM>
<H3>Configuring Replication Partners</H3><P>WINS servers communicate among themselves to fully replicate their databases, ensuring that a name registered with one WINS server is eventually replicated to all other WINS servers within the internetwork. All mapping changes converge within the <I>replication period</I> for the entire WINS system, which is the maximum time for propagating changes to all WINS servers. All released names are propagated to all WINS servers after they become extinct, based on the interval specified in WINS Manager.</P>
<P>Replication is carried out among replication partners, rather than each server replicating to all other servers. In the following illustration, Server1 has only Server2 as a partner, but Server2 has three partners. So, for example, Server1 gets all replicated information from Server2, but Server2 gets information from Server1, Server3, and Server4.</P>
<P><img src="xtc05_06.gif"></P>
<P>Figure 14.1    Replication Configuration Example for WINS Servers</P>
<P>Ultimately, all replications are pulled from the other WINS servers on an internetwork, but triggers are sent by WINS servers to indicate when a replication should be pulled. To achieve replication, each WINS server is a push partner or pull partner with at least one other WINS server. A pull partner is a WINS server that pulls in database replicas from its push partner by requesting and then accepting replicas of new database entries in order to synchronize its own database. A push partner is a WINS server that sends notification of changes and then sends replicas to its pull partner upon receiving a request. When the server's pull partner replicates the information, it pulls replicas by asking for all records with a higher version number than the last record stored from the last replication with the server or another partner.</P>
<P>Choosing whether to configure another WINS server as a push partner or pull partner depends on several considerations, including the specific configuration of servers at your site, whether the partner is across a wide area network (WAN), and how important it is to propagate the changes.</P>
<UL><LI>If Server2, for example, needs to perform pull replications with ServerB, make sure it is a push partner of Server3.</LI><LI>If Server2 needs to push replications to Server3, it should be a pull partner of WINS ServerB.</LI></UL><P>Replication is triggered when a WINS server polls another server to get a replica. This can begin at system startup and can then repeat at the time interval specified for periodic replication. Replication is also triggered when a WINS server reaches a threshold set by the administrator, which is an <I>update count</I> for registrations and changes. In this case, the server notifies its pull partners that it has reached this threshold, and the other servers may then decide to pull replicas. Additionally, the administrator can cause a replication immediately or at a specified time. Replication at a specified time is a one-time only event. If the time specified has already passed, replication does not occur.</P>
<H4><A NAME="sec0"></A>To add a replication partner for a WINS server</H4><OL><LI>From the Server menu, choose the Replication Partners command to display the Replication Partners dialog box. </LI></OL><P>This command is available only if you are logged on as a member of the Administrators group for the local server.</P>
<P><img src="xtc5_7a.gif"></P>
<OL start=2><LI>Choose the Add button to display the Add WINS Server dialog box. </LI><LI>Type the name or IP address of the WINS server that you want to add to the list, and then choose the OK button. </LI></OL><P>If WINS Manager can find this server, it adds it to the WINS Server list in the Replication Partners dialog box. </P>
<OL start=4><LI>From the WINS Server list in the Replication Partners dialog box, select the server you want to configure, and then complete the actions described in "Configuring Replication Partner Properties" later in this chapter.</LI><LI>If you want to limit which WINS servers are displayed in the Replication Partners dialog box, check or clear the options as follows:

<UL><LI>Check Push Partners to display push partners for the current WINS server.</LI><LI>Check Pull Partners to display pull partners for the current WINS server.</LI><LI>Check Other to display the WINS servers that are neither push partners nor pull partners for the current WINS server.</LI></UL></LI><LI>To specify replication triggers for the partners you add, follow the procedures described in "Triggering Replication Between Partners" later in this chapter.</LI><LI>When you finish adding replication partners, choose the OK button.</LI></OL><H4><A NAME="sec1"></A>To delete replication partners</H4><OL><LI>From the Server menu, choose the Replication Partners command to display the Replication Partners dialog box. </LI><LI>Select one or more servers in the WINS Server list, and then choose the Delete button, or press DEL.</LI></OL><P>WINS Manager asks you to confirm the deletion if you checked the related confirmation option in the Preference dialog box, as described in "Setting Preferences for WINS Manager" later in this chapter.</P>
<H4><A NAME="sec2"></A>Configuring Replication Partner Properties</H4><P>When you designate replication partners, you need to specify parameters for when replication will begin.</P>
<H4><A NAME="sec3"></A>To configure replication partners for a WINS server</H4><OL><LI>In the WINS Server list of the Replication Partners dialog box, select the server you want to configure.</LI><LI>Check either Push Partner or Pull Partner or both to indicate the replication partnership you want, and then choose the related Configure button. </LI><LI>Complete the entries in the appropriate Properties dialog box, as described in the following procedures.</LI></OL><H4><A NAME="sec4"></A>To define pull partner properties</H4><OL><LI>In the Start Time box of the Pull Partner Properties dialog box, type a time to indicate when replication should begin. </LI></OL><P>You can use any separator for hours, minutes, and seconds. You can type <B>AM</B> or <B>PM</B>, for example, only if these designators are part of your time setting, as defined using the International option in Control Panel.</P>
<P><img src="xtc5_8a.gif"></P>
<OL start=2><LI>In the Replication Interval box, type a time in hours, minutes, and seconds to indicate how often replications will occur, or use the spin buttons to set the time you want.</LI></OL><P>If you want to return to the values specified in the Preferences dialog box, choose the Set Default Values button.</P>
<OL start=3><LI>Choose the OK button to return to the Replication Partners dialog box.</LI></OL><H4><A NAME="sec5"></A>To define push partner properties</H4><OL><LI>In the Update Count box of the Push Partner Properties dialog box, type a number for how many additions and updates made to records in the database will result in changes that need replication.</LI></OL><P>Replications that have been pulled in from partners do not count as insertions or updates in this context.</P>
<P>The minimum value for Update Count is 5. </P>
<P><img src="xtc5_9a.gif"></P>
<P>If you want to return to the value specified in the Preferences dialog box, choose the Set Default Values button.</P>
<OL start=2><LI>Choose the OK button to return to the Replication Partners dialog box.</LI></OL><H4><A NAME="sec6"></A>Triggering Replication Between Partners</H4><P>You can also replicate the database between the partners immediately, rather than waiting for the start time or replication interval specified in the Preference dialog box, as described in "Setting Preferences for WINS Manager" later in this chapter.</P>
<P>You probably want to begin replication immediately after you make a series of changes, such as entering a range of static address mappings.</P>
<H4><A NAME="sec7"></A>To send a replication trigger</H4><UL><LI>Complete one of the following tasks using the Replication Partners dialog box.

<UL><LI>Select the WINS servers to which you want to send a replication trigger, and then choose the Push or Pull button, depending on whether you want to send the trigger to push partners or pull partners.
<P>– Or –</P></LI><LI>If you want the selected WINS server to propagate the trigger to all its pull partners, select the Push With Propagation checkbox.
<P>If the Push With Propagation checkbox is not selected, the selected WINS server does not propagate the trigger to its other partners. </P>

<P>If the Push With Propagation checkbox is selected, the selected WINS server sends a propagate push trigger to its pull partners after it has pulled in the latest information from the source WINS server. If it does not need to pull in any replicas because it has the same or more up-to-date replicas than the source WINS server, it does not propagate the trigger to its pull partners.</P></LI></UL></LI></UL><H4><A NAME="sec8"></A>To start replication immediately</H4><UL><LI>In the Replication Partners dialog box, choose the Replicate Now button.</LI></UL></FONT></BODY></HTML>
