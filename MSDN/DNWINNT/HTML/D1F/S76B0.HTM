<HTML><HEAD><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Managing Special Names</TITLE><META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset= iso-8859-1"><style>@import url(/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="/msdn_ie3.css"></HEAD><BODY BGCOLOR="#FFFFFF">
<FONT FACE="verdana,arial,helvetica" SIZE="2"><FORM NAME="x"><OBJECT CLASSID="clsid:9c2ac687-ceef-11cf-96d9-00a0c903b016" NAME="iv"></OBJECT></FORM>
<H3>Managing Special Names</H3><P>WINS recognizes special names for groups, multihomed devices, and internet groups. This section describes these special names and presents some background details to help you understand how WINS manages these groups.</P>
<H4><A NAME="sec0"></A>Normal Group Names</H4><P>A group name does not have an address associated with it. It can be valid on any subnet and can be registered with more than one WINS server. A group's timestamp shows the last time for any change received for the group. If the WINS server receives a query for the group name, it returns FFFFFFFF (the limited broadcast address). The client then broadcasts on the subnet. The group name is renewed when any member of the group renews the group name.</P>
<H4><A NAME="sec1"></A>Multihomed Names</H4><P>A multihomed name is a single, unique name storing multiple addresses. A multihomed device is a computer with multiple network cards and/or multiple IP addresses bound to NetBIOS over TCP/IP. A multihomed device with multiple IP addresses can register one or more addresses by sending one address at a time in a special name registration packet. A multihomed name in a WINS database can have one or more addresses. The timestamp for the record reflects any changes made for any members of the name. </P>
<P>Each multihomed group name can contain a maximum of 25 IP addresses.</P>
<P>When you configure TCP/IP manually on a Windows NT computer, you use the Advanced Microsoft TCP/IP dialog box to specify the IP address and other information for each adapter on a multihomed computer.</P>
<P>If WINS is running on a multihomed computer, the IP address of the WINS service is that of the first adapter to which Netbt is bound. When you configure clients' WINS addresses, you must specify this address, and not another one, such as that of an adapter that might be on the same subnet as the client. In some cases, the client needs to determine when WINS sends a message, and all WINS messages originate from the first adapter to which Netbt is bound.</P>
<P>A multihomed computer that runs on more than one network should not be used as a WINS server. Because a multihomed computer running WINS server always registers its names locally and a computer can run only one instance of WINS, the computer cannot register its name with two networks. Additionally, MS-DOS–based clients always use the first IP address supplied by the WINS server. When a client attempts a connection, the WINS server could give it the IP address for the other network as the first address. In that case, the client's connection attempt would fail. </P>
<P>A multihomed WINS client on more than one network can be configured to register with a different WINS server for each adapter card. The computers on each network would use the WINS server on their network to resolve names.</P>
<H4><A NAME="sec2"></A>Internet Group Names</H4><P>The internet group name is read as configuration data. When dynamic name registrations for internet groups are received, the actual address (rather than the subnet broadcast address) is stored in the group with a timestamp and the owner&nbsp;ID, which indicates the WINS server registering that address. </P>
<P>The internet group name (which has a 16th byte ending in 0x1C reserved for domain names, as described in the following section) can contain a maximum of 25 IP addresses for primary and backup domain controllers in a domain. Dynamically registered names are added if the list is not static and has fewer than 25 members. If the list has 25 members, WINS removes a replica member (that is, a member registered by another WINS server) and then adds the new member. If all members are owned by this WINS server, the oldest member is replaced by the new one.</P>
<P>WINS gives precedence over remote members to members in an internet group name that registered with it. This preference means that the group name always contains the geographically closest Windows NT Server computers. To establish the preference of members of internet groups registered with other WINS servers under the \Partners\Pull key in the Registry, a precedence is assigned for each WINS partner as a value of the MemberPrec Registry parameter. Preference should be given to WINS servers near the WINS server you are configuring. For more information about the value of this parameter, see its entry in "Advanced Configuration Parameters for WINS" later in this chapter.</P>
<P>The internet group name is handled specially by WINS, which returns the 24 closest Windows NT Server computers in the domain, plus the domain controller. The name ending in 1C is also used to discover a Windows NT Server computer in a domain when a computer running Windows NT Workstation or Windows NT Server needs a server for pass-through authentication.</P>
<P>If your network still has domain controllers running Windows NT Advanced Server version 3.1 to be included in the internet group name, you must add these to the group manually using WINS Manager. When you manually add such a computer to the internet group name, the list becomes static and no longer accepts dynamic updates from WINS-enabled computers. </P>
<P>For information about related issues in LMHOSTS for #DOM entries, see "Designating Domain Controllers Using #DOM" in Chapter 15, "Setting Up LMHOSTS."</P>
<H4><A NAME="sec3"></A>How WINS Handles Special Names</H4><P>Special names are indicated by a 16th byte appended to the computer name or domain name. The following table shows some special names that can be defined for static entries in the Add Static Mappings dialog box.</P>
<P><B>Table 14.4    Special Names for Static Mappings</B></P>

<TABLE COLS="3" BORDER="0" CELLPADDING="7"><COLGROUP><COL WIDTH="58pt" VALIGN="TOP"><COL WIDTH="130pt" VALIGN="TOP"><COL WIDTH="158pt" VALIGN="TOP"></COLGROUP><TBODY><TR><TD VALIGN="TOP"><P>Name ending</P></TD><TD VALIGN="TOP"><P>Usage</P></TD><TD VALIGN="TOP"><P>How WINS handles queries</P></TD></TR><TR><TD VALIGN="TOP"><P>0x1E</P></TD><TD VALIGN="TOP"><P>A normal group. Browsers broadcast to this name and listen on it to elect a master browser. The broadcast is done on the local subnet and should not cross routers.</P></TD><TD VALIGN="TOP"><P>WINS always returns the limited broadcast address (FFFFFFFF).</P></TD></TR><TR><TD VALIGN="TOP"><P>0x1D</P></TD><TD VALIGN="TOP"><P>Clients resolve this name to access the master browser for server lists. There is one master browser on a subnet.</P></TD><TD VALIGN="TOP"><P>WINS always returns a negative response. If the node is h-node or m-node, the client broadcasts a name query to resolve the name. For registrations, WINS returns a positive response even though the names are not put into the database.</P></TD></TR><TR><TD VALIGN="TOP"><P>0x1C</P></TD><TD VALIGN="TOP"><P>The internet group name, which contains a list of the specific addresses of systems that have registered the name. The domain controller registers this name.</P>
<P></P></TD><TD VALIGN="TOP"><P>WINS treats this as an internet group, where each member of the group must renew its name individually or be released. The internet group is limited to 25 names. (Note, however, that there is no limit for #DOM entries in LMHOSTS.) </P>
<P>WINS returns a positive response for a dynamic registration of a static 1C name, but the address is not added to the list. When a static 1C name is replicated that clashes with a dynamic 1C name on another WINS server, a union of the members is added, and the record is marked as static. If the record is static, members of the group do not have to renew their IP addresses.</P></TD></TR></TBODY></TABLE>
<P><BR></P><P>The following example illustrates a sample NetBIOS name table for a Windows NT Server domain controller, such as the list that appears if you type <B>nbtstat&nbsp;-n </B>at the command prompt. This example shows the 16th byte for special names, plus the type (unique or group).</P>

<TABLE COLS="4" BORDER="0" CELLPADDING="7"><COLGROUP><COL WIDTH="113pt" VALIGN="TOP"><COL WIDTH="81pt" VALIGN="TOP"><COL WIDTH="69pt" VALIGN="TOP"><COL WIDTH="101pt" VALIGN="TOP"></COLGROUP><TBODY><TR><TD VALIGN="TOP"><P>Name</P></TD><TD VALIGN="TOP"><P>NetBIOS</P></TD><TD VALIGN="TOP"><P>Local Name</P></TD><TD VALIGN="TOP"><P>Name Table Status</P></TD></TR><TR><TD VALIGN="TOP"><P>&lt;0C29870B&gt;</P></TD><TD VALIGN="TOP"><P></P></TD><TD VALIGN="TOP"><P>Unique</P></TD><TD VALIGN="TOP"><P>Registered</P></TD></TR><TR><TD VALIGN="TOP"><P>ANNIEP5</P></TD><TD VALIGN="TOP"><P>&lt;20&gt;</P></TD><TD VALIGN="TOP"><P>UNIQUE</P></TD><TD VALIGN="TOP"><P>Registered</P></TD></TR><TR><TD VALIGN="TOP"><P>ANNIEP5</P></TD><TD VALIGN="TOP"><P>&lt;00&gt;</P></TD><TD VALIGN="TOP"><P>UNIQUE</P></TD><TD VALIGN="TOP"><P>Registered</P></TD></TR><TR><TD VALIGN="TOP"><P>ANNIEPDOM</P></TD><TD VALIGN="TOP"><P>&lt;00&gt;</P></TD><TD VALIGN="TOP"><P>GROUP</P></TD><TD VALIGN="TOP"><P>Registered</P></TD></TR><TR><TD VALIGN="TOP"><P>ANNIEPDOM</P></TD><TD VALIGN="TOP"><P>&lt;1C&gt;</P></TD><TD VALIGN="TOP"><P>GROUP</P></TD><TD VALIGN="TOP"><P>Registered</P></TD></TR><TR><TD VALIGN="TOP"><P>ANNIEPDOM</P></TD><TD VALIGN="TOP"><P>&lt;1B&gt;</P></TD><TD VALIGN="TOP"><P>UNIQUE</P></TD><TD VALIGN="TOP"><P>Registered</P></TD></TR><TR><TD VALIGN="TOP"><P>ANNIEP5</P></TD><TD VALIGN="TOP"><P>&lt;03&gt;</P></TD><TD VALIGN="TOP"><P>UNIQUE</P></TD><TD VALIGN="TOP"><P>Registered</P></TD></TR><TR><TD VALIGN="TOP"><P>ANNIEP5</P></TD><TD VALIGN="TOP"><P>&lt;1E&gt;</P></TD><TD VALIGN="TOP"><P>GROUP</P></TD><TD VALIGN="TOP"><P>Registered</P></TD></TR><TR><TD VALIGN="TOP"><P>ANNIEP5</P></TD><TD VALIGN="TOP"><P>&lt;1D&gt;</P></TD><TD VALIGN="TOP"><P>UNIQUE</P></TD><TD VALIGN="TOP"><P>Registered</P></TD></TR><TR><TD VALIGN="TOP"><P>.._MSBROWSE_.</P></TD><TD VALIGN="TOP"><P>&lt;01&gt;</P></TD><TD VALIGN="TOP"><P>GROUP</P></TD><TD VALIGN="TOP"><P>Registered</P></TD></TR></TBODY></TABLE>
<P><BR></P><P>As shown in this example, several special names are identified for both the computer and the domain. These special names include the following:</P>
<UL><LI>0x0<B> </B>(shown as &lt;00&gt; in the example), the redirector name, which is used with <B>net view</B>. </LI><LI>0x3, the Messenger service name for sending messages.</LI><LI>0x20, the LAN Manager server name.</LI><LI>_MSBROWSE_, the name master browsers broadcast to on the local subnet to announce their domains to other master browsers. WINS handles this name by returning the broadcast address FFFFFFFF. </LI><LI>0x1B, the domain master browser name, which clients and browsers use to contact the domain master browser. A domain master browser gets the names of all domain master browsers. When WINS is queried for the domain master browser name, it handles the query like any other name query and returns its address.</LI></UL><P>WINS assumes that the computer that registers a domain name with the 1B character is the primary domain controller (PDC). This name is registered by the browser running on the PDC. This ensures that the PDC is in the internet group name list that is returned when a 1C name is queried, for which WINS always returns the address of the 1B name along with the members of a 1C name. </P>
<P>If the PDC is not a Windows NT Server 3.5 computer, you should statically initialize WINS with the  0x1B name of the PDC. The address should be the IP address of the primary domain controller. Using 0x1B in this situation is not required, but clients will find the PDC much more quickly and with less network traffic.</P></FONT></BODY></HTML>
