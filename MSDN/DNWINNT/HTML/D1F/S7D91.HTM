<HTML><HEAD><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>Domain Announcements</TITLE><META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset= iso-8859-1"><style>@import url(/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="/msdn_ie3.css"></HEAD><BODY BGCOLOR="#FFFFFF">
<FONT FACE="verdana,arial,helvetica" SIZE="2"><FORM NAME="x"><OBJECT CLASSID="clsid:9c2ac687-ceef-11cf-96d9-00a0c903b016" NAME="iv"></OBJECT></FORM>
<H2>Domain Announcements</H2><P>Client computers sometimes need to retrieve lists of domains, as well as lists of servers in those domains. The Windows&nbsp;NT <B>NetServerEnum</B> API has a level of information to allow this.</P>
<P>When a browser becomes a master browser, it broadcasts a DomainAnnouncement datagram every minute for the first five minutes, and then broadcasts once every 15 minutes after that. Master browsers on other domains receive these DomainAnnouncement datagrams and add the specified domain to the browse list.</P>
<P><I>DomainAnnouncement datagrams</I> contain the name of the domain, the name of the domain master browser, and whether the master browser is running Windows&nbsp;NT Server or Windows&nbsp;NT Workstation. If the master browser if running Windows&nbsp;NT Server, the datagram also specifies whether that browser is the domain's PDC.</P>
<P>If a domain has not announced itself for three consecutive announcement periods, the domain is removed from the browse list.</P>
<P><B>Note</B>   A domain might be down for as long as 45 minutes before it is removed from the browse list.</P>
<P>The domain master browser augments this list of domains with the list of domains that have registered a domain NetBIOS address with the Windows Internet Name Service (WINS). Checking against WINS ensures that the browser maintains a complete list of domain names in an environment with subnetworks. For information on special NetBIOS names, see "Managing Special Names" in Chapter&nbsp;14, "Installing and Configuring WINS Servers."</P></FONT></BODY></HTML>
