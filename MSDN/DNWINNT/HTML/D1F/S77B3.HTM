<HTML><HEAD><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>rcp</TITLE><META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset= iso-8859-1"><style>@import url(/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="/msdn_ie3.css"></HEAD><BODY BGCOLOR="#FFFFFF">
<FONT FACE="verdana,arial,helvetica" SIZE="2"><FORM NAME="x"><OBJECT CLASSID="clsid:9c2ac687-ceef-11cf-96d9-00a0c903b016" NAME="iv"></OBJECT></FORM>
<H2>rcp</H2><P>This connectivity command copies files between a Window NT computer and a system running <B>rshd</B>, the remote shell server. The <B>rcp</B> command can also be used for third-party transfer to copy files between two computers running <B>rshd</B> when the command is issued from a Windows NT computer. The <B>rshd</B> server is available on UNIX computers, but not on Windows NT, so the Windows NT computer can only participate as the system from which the commands are issued.</P>
<H3><A NAME="sec0"></A>Syntax</H3><P><B>rcp</B> [<B>-a</B> | <B>-b</B>] [<B>-h</B>] [<B>-r</B>] <I>source1 source2 ... sourceN destination</I></P>
<H3><A NAME="sec1"></A>Parameters</H3><P><B>-a</B></P>
<P>Specifies ASCII transfer mode. This mode converts the carriage return/linefeed characters to carriage returns on outgoing files, and linefeed characters to carriage return/linefeeds for incoming files. This is the default transfer mode.</P>
<P><B>-b</B></P>
<P>Specifies binary image transfer mode. No carriage return/linefeed conversion is performed.</P>
<P><B>-h</B></P>
<P>Transfers source files marked with the hidden attribute on the Windows NT computer. Without this option, specifying a hidden file on the <B>rcp</B> command line has the same effect as if the file did not exist.</P>
<P><B>-r</B></P>
<P>Recursively copies the contents of all subdirectories of the source to the destination. Both the <I>source</I> and <I>destination</I> must be directories.</P>
<P><I>source</I><B> </B>and <I>destination</I></P>
<P>Must be of the form [<I>host</I>[.<I>user</I>]:]<I>filename</I>. If the [<I>host</I>[.<I>user</I>]:] portion is omitted, the host is assumed to be the local computer. If the <I>user</I> portion is omitted, the currently logged on Windows NT username is used. If a fully qualified host name is used, which contains the period (.) separators, then the [.<I>user</I>] must be included. Otherwise, the last part of the hostname is interpreted as the username. If multiple source files are specified, the <I>destination</I> must be a directory. </P>
<P>If the filename does not begin with a forward slash ( / ) for UNIX or a backward slash ( \ ) for Windows NT systems, it is assumed to be relative to the current working directory. On Windows NT, this is the directory from which the command is issued. On the remote system, it is the logon directory for the remote user. A period (.) means the current directory. Use the escape characters ( \ , ", or ') in remote paths to use wildcard characters on the remote host.</P>
<H3><A NAME="sec2"></A>Notes</H3><P><B>Remote Privileges</B></P>
<P>The <B>rcp</B> command does not prompt for passwords; the current or specified user name must exist on the remote host and enable remote command execution via <B>rcp</B>.</P>
<P>The .rhosts file specifies which remote system or users can assess a local account using <B>rsh</B> or <B>rcp</B>. This file (or a HOSTS equivalent) is required on the remote system for access to a remote system using these commands. <B>Rsh</B> and <B>rcp</B> both transmit the local username to the remote system. The remote system uses this name plus the IP address (usually resolved to a host name) or the requesting system to determine whether access is granted. There is no provision for specifying a password to access an account using these commands.</P>
<P>If the user is logged on to a Windows NT Server domain, the domain controller must be available to resolve the currently logged on name, because the logged on name is not cached on the local computer. Because the username is required as part of the <B>rsh</B> protocol, the command fails if the username cannot be obtained.</P>
<P><B>The .rhosts File</B></P>
<P>The .rhosts file is a text file where each line is an entry. An entry consists of the local host name, the local user name, and any comments about the entry. Each entry is separated by a tab or space, and comments begin with a hash mark (#), for example:</P>
<P><BR></P>
<pre><code><BR>computer5    marie    #This computer is in room 31A</code></pre>
<P>The .rhosts file must be in the user's home directory on the remote computer. For more information about a remote computer's specific implementation of the .rhosts file, see the remote system's documentation.</P>
<P>Additionally, have your host name added to the remote system's /ETC/HOSTS file. This enables the remote system to authenticate remote requests for your computer using the Microsoft TCP/IP utilities.</P>
<P><B>Specifying Hosts</B></P>
<P>Use the <I>host</I><B><I>.</I></B><I>user</I> variables to use a user name other than the current user name. If <I>host</I><B><I>.</I></B><I>user</I> is specified with <I>source</I>, the .rhosts file on the remote host must contain an entry for <I>user</I>. For example,</P>
<P><BR></P>
<pre><code><BR>rcp rhino.johnb:file1  buffalo.admin:file2</code></pre>
<P>The .rhosts file on BUFFALO<B> </B>should have an entry for Johnb<B> </B>on RHINO.</P>
<P>If a host name is supplied as a full domain name containing dots, a user name must be appended to the host name, as previously described. This prevents the last element of the domain name from being interpreted as a user name. For example,</P>
<P><BR></P>
<pre><code>rcp domain-name1.user:johnm  domain-name2.user:billr</code></pre>
<P><B>Remote Processing</B></P>
<P>Remote processing is performed by a command run from the user's logon shell on most UNIX systems. The user's .profile<I> </I>or .cshrc is executed before parsing filenames, and exported shell variables can be used (using the escape character or quotation marks) in remote filenames.</P>
<P><B>Copying Files</B></P>
<P>If you attempt to copy a number of files to a file rather than a directory, only the last file is copied. Also, the <B>rcp</B> command cannot copy a file onto itself.</P>
<P><B>Examples</B></P>
<P>These examples show syntax for some common uses of <B>rcp</B>.</P>
<P>To copy a local file to the logon directory of a remote computer:</P>
<P><BR></P>
<pre><code><BR>rcp filename remotecomputer:</code></pre>
<P>To copy a local file to an existing directory and a new filename on a remote computer:</P>
<P><BR></P>
<pre><code><BR>rcp filename remotecomputer:/directory/newfilename</code></pre>
<P>To copy multiple local files to a subdirectory of a remote logon directory:</P>
<P><BR></P>
<pre><code><BR>rcp file1 file2 file3 remotecomputer:subdirectory/filesdirectory</code></pre>
<P>To copy from a remote source to the current directory of the local computer:</P>
<P><BR></P>
<pre><code><BR>rcp remotecomputer:filename .</code></pre>
<P>To copy from multiple files from multiple remote sources to a remote destination with different usernames:</P>
<P><BR></P>
<pre><code><BR>rcp remote1.user1:file1 remote2.user2:file2 remotedest.destuser:directory</code></pre>
<P>To copy from a remote system using an IP address to a local computer (where the username is mandatory because a period is used in the remote system name):</P>
<P><BR></P>
<pre><code><BR>rcp 11.101.12.1.user:filename filename</code></pre></FONT></BODY></HTML>
