<HTML><HEAD><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><title>How Clients Receive Browser Information</TITLE><META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset= iso-8859-1"><style>@import url(/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="/msdn_ie3.css"></HEAD><BODY BGCOLOR="#FFFFFF">
<FONT FACE="verdana,arial,helvetica" SIZE="2"><FORM NAME="x"><OBJECT CLASSID="clsid:9c2ac687-ceef-11cf-96d9-00a0c903b016" NAME="iv"></OBJECT></FORM>
<H2>How Clients Receive Browser Information</H2><P>When an application running on a client issues a <B>NetServerEnum</B> API call, the client sends the API call to a browser.</P>
<P>If this is the first time a <B>NetServerEnum</B> API call has been issued by an application running on the client, the client must first determine which computers are the browsers in its workgroup or domain. The client does this by sending a QueryBrowserServers directed datagram. This request is processed by the master browser for the domain and subnetwork on which the client is located. The master browser then returns a list of browsers active in the workgroup or domain being queried. The client selects the names of three browsers from the list, and then stores these names for future use. For future <B>NetServerEnum </B>API calls, a browser is chosen randomly from the three browser names that were saved by the client.</P>
<P>If the client cannot find the master browser after three attempts, the client issues a <I>ForceElection</I> broadcast to the domain being queried. A ForceElection broadcast forces the election of a new master browser in the domain. To indicate that the master browser could not be found, the client then returns an error (ERROR_BAD_NETPATH) to the application. For more information on browser elections, see "Determining Browser Roles," earlier in this chapter.</P></FONT></BODY></HTML>
