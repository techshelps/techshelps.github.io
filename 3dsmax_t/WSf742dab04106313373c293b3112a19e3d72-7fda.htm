<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=iso8859-1">
   <script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><TITLE>Animating Vertex Paint Layer Opacity</title><link rel="stylesheet" type="text/css" href="./style/cpm.css"><link rel="stylesheet" type="text/css" href="./style/isd.css"><link rel="stylesheet" type="text/css" href="./style/commons.css"><link rel="stylesheet" type="text/css" href="./style/contents.css"><link rel="stylesheet" type="text/css" href="./style/header.css"><link rel="stylesheet" type="text/css" href="./style/indexes.css"><link rel="stylesheet" type="text/css" href="./style/search.css"><link rel="stylesheet" type="text/css" href="./style/med.css"><script type="text/javascript" src="./scripts/ac.strings.js"></script><script type="text/javascript" src="./ac_common.js"></script><script type="text/javascript" src="./scripts/acmap.js"></script><script type="text/javascript" src="./scripts/ac.acad_ak.js"></script><script type="text/javascript" src="./scripts/index-processing.js"></script><script type="text/javascript" src="./scripts/search-processing.js"></script><script type="text/javascript" src="./scripts/toc-processing.js"></script><script type="text/javascript" src="./scripts/highlight.js"></script><script type="text/javascript" src="./scripts/favorites.js"></script><script type="text/javascript" src="./scripts/commons-processing.js"></script><script language="javascript">
            function hideInfo() {
                info = document.getElementById('infoline');
                info.innerHTML = ' ';
                info.style.visibility = 'hidden';
            }
            function showInfo(title) {
                info = document.getElementById('infoline');
                info.innerHTML = title;
                info.style.visibility='visible';
            }
        </script><meta name="description" content="Animating Vertex Paint Layer Opacity"><meta name="keywords" content=""><meta name="topic-type" content="concept"></head><body><!--
							Name = Topic;
							Class =  CPM-Topic ISD-Topic ;
							Url = WSf742dab04106313373c293b3112a19e3d72-7fda.htm--><div class="head"><div class="head-block"><div class="nav-group"><!--browse buttons--><div class="browse"><nobr><!--No Additional browse buttons are defined--><div id="prevTitle" style="display:none">Painting the Garage with VertexPaint</div><a href="WSf742dab04106313373c293b3112a19e3d72-7fdb.htm" class="headNavLink" onmouseover="showInfo(document.getElementById('prevTitle').innerHTML);" onmouseout="hideInfo();"><img src="./images/nav-prev-xp.gif" border="0"></a><div id="parentTitle" style="display:none">Painting Vertex Color</div><a href="WSf742dab04106313373c293b3112a19e3d72-7fdd.htm" class="headNavLink" onmouseover="showInfo(document.getElementById('parentTitle').innerHTML);" onmouseout="hideInfo();"><img src="./images/nav-up-xp.gif" border="0"></a><div id="nextTitle" style="display:none">Rendering to Texture</div><a href="WSf742dab04106313373c293b3112a19e3d72-7fd9.htm" class="headNavLink" onmouseover="showInfo(document.getElementById('nextTitle').innerHTML);" onmouseout="hideInfo();"><img src="./images/nav-next-xp.gif" border="0"></a></nobr></div><!--end browse buttons--></div><div class="button-info"><span id="infoline">&nbsp;</span></div><div class="ancestry"><a href="welcome.htm">Autodesk 3ds Max Tutorials</a>&nbsp;&gt;&nbsp;<a href="WSf742dab04106313373c293b3112a19e3d72-8000.htm">Materials and Mapping Tutorials</a>&nbsp;&gt;&nbsp;<a href="WSf742dab04106313373c293b3112a19e3d72-7fde.htm">Vertex Color and Interactive Shading</a>&nbsp;&gt;&nbsp;<a href="WSf742dab04106313373c293b3112a19e3d72-7fdd.htm">Painting Vertex Color</a>&nbsp;&gt;&nbsp;</div><div class="head-text"><span>Animating Vertex Paint Layer Opacity</span></div></div></div><div class="head-margin">&nbsp;</div><div style="line-height: 0pt">&nbsp;</div><div class="head-margin">&nbsp;</div><span style="display:none"><a name="WSf742dab04106313373c293b3112a19e3d72-7fda"></a></span>

<!--Body-->
<p><span style="display:none"><a name="WS73099cc142f4875513f8d121131880ab2f-6c15"></a></span>In this lesson you will separate the lighting
information from the individual objects onto independent layers.
We'll show you how its done, then you will load a file that has
the work completed. </p>
<p><span style="display:none"><a name="WS73099cc142f4875513f8d121131880ab2f-6c14"></a></span>You'll create the illusion of a flickering fluorescent
tube by animating the opacity value of the vertex paint layer, and
then keyframing the material self illumination color.</p>
<!--UList--><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7b31"></a></span>
<p class="list-intro"><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7b30"></a></span>Set
up the lesson:</p>
<ul><li>Continue
from the previous procedure.</li></ul>

<!--OList--><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7b2f"></a></span>
<p class="list-intro"><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7b2e"></a></span>Create
separate radiosity layers:</p>
<ol type="1" start="1"><li>
<img src="./images/MED/3dsMaxTut/English/but/but_trash.png"> With
the garage walls still selected, hold down the <span class="keyCaps">Ctrl</span> key, then on the Modify panel
select the two VertexPaint modifiers in the stack and delete them
using the Remove Modifier From Stack button below the modifier window.<p><span style="display:none"><a name="WS73099cc142f4875513f8d121131880ab2f-6c13"></a></span>You can use the Layer Manager to quickly hide
and unhide parts of your scene. You'll hide all the lights but one,
then create a radiosity pass for that and bake it into a vertex
paint layer.</p>
</li><li>
<img src="./images/MED/3dsMaxTut/English/but/but_layer_properties_max.png"> On the
toolbar, click the Layer Manager button.<p><span style="display:none"><a name="WS73099cc142f4875513f8d121131880ab2f-6c12"></a></span></p>
</li><li>On
the Layer Manager dialog, click Hide for all the objects except <em class="mild">FlourescentFlicker</em> and <em class="mild">Misc</em>.<span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7b2d"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/ill/ill_tut_vertpaint_garage16.png"></p>
<p></p><p class="figure-title">Layer Manager</p>
</div>
<p><span style="display:none"><a name="WS73099cc142f4875513f8d121131880ab2f-6c11"></a></span>Now the only objects visible in the scene are
the garage elements and the one fluorescent tube.</p>
</li><li>On
the Rendering menu, choose Render. Then on the Advanced Lighting
Tab, click Reset. Then click Start.<p><span style="display:none"><a name="WS73099cc142f4875513f8d121131880ab2f-6c10"></a></span>The radiosity solution is calculated for the
light coming from the single fluorescent tube.</p>
<span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7b2c"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/ill/ill_tut_vertpaint_garage17.png"></p>
<p></p><p class="figure-title">Radiosity from single fluorescent fixture</p>
</div>
<p><span style="display:none"><a name="WS73099cc142f4875513f8d121131880ab2f-6c0f"></a></span>Of course, the next step is to create the vertex
color layer.</p>
</li><li>On
the Utilities Panel, click More &gt; Assign Vertex Colors. Make sure
the selection set named<em class="mild">VertsPT_set</em> is selected, then
click Assign To Selected.<p><span style="display:none"><a name="WS73099cc142f4875513f8d121131880ab2f-6c0e"></a></span>The lighting coming from the one fluorescent
tube is applied to this vertex color layer.</p>
</li><li>Click
the Edit button to jump to the Modify panel.<p><span style="display:none"><a name="WS73099cc142f4875513f8d121131880ab2f-6c0d"></a></span>In the Modifier stack, highlight the Vertex
Paint layer and right-click, then rename it <em class="mild">VertexPaint Flicker</em>.</p>
</li><li>Repeat
the procedure for the another light layer. On the Layer Manager,
unhide the layer named <em class="mild">Fluorescent Lights</em>, and hide the
layer named <em class="mild">Fluorescent Flicker</em>. Repeat the
above steps to reset radiosity, create a new radiosity solution,
and assign it to a vertex color layer.<span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7b2b"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/ill/ill_tut_vertpaint_garage18.png"></p>
<p></p><p class="figure-title">Radiosity for the rest of the fluorescent
tubes.</p>
</div>
<p><span style="display:none"><a name="WS73099cc142f4875513f8d121131880ab2f-6c0c"></a></span>You could do the same for the skylights.</p>
<span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7b2a"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/ill/ill_tut_vertpaint_garage19.png"></p>
<p></p><p class="figure-title">Radiosity for the skylights</p>
</div>
<p><span style="display:none"><a name="WS73099cc142f4875513f8d121131880ab2f-6c0b"></a></span>We've provided a finished file that has all
the work done for you.</p>
</li><li>Save
your file if you wish, then open <span class="filePath">tut_vertexpaint_anim_start.max</span> to
continue.</li></ol>








<!--OList--><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7b29"></a></span>
<p class="list-intro"><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7b28"></a></span>Animate
the layer opacity:</p>
<p><span style="display:none"><a name="WS73099cc142f4875513f8d121131880ab2f-6c0a"></a></span>Now you can create the illusion of a flickering
fluorescent tube. The technique you use is simple. You select the
layer with the lighting information, then in Auto Key mode, keyframe
the opacity of the layer. You'll then complete the illusion by keyframing
the self-illumination color of the material.</p>
<ol type="1" start="1"><li>In
the new file you just opened, look at the modifier stack for the <em class="mild">VertPT_set</em> objects.<p><span style="display:none"><a name="WS73099cc142f4875513f8d121131880ab2f-6c09"></a></span>There are six vertex paint layers in this file.</p>
</li><li>In
the modifier stack, highlight <em class="mild">VertPT_Flicker</em>,
then click the Edit button to display the vertex paintbox if it
isn't already visible.</li><li>
<img src="./images/MED/3dsMaxTut/English/but/but_auto_key_off.png"> Turn
on the Auto Key button.</li><li>Move
the time slider to frame 10.</li><li>On
the floating vertex paintbox, move the opacity slider down slightly,
then back to <em class="strong">100</em>.<p><span style="display:none"><a name="WS73099cc142f4875513f8d121131880ab2f-6c08"></a></span>This sets a key at frame 10, and frame 0.</p>
<p><span style="display:none"><a name="WS73099cc142f4875513f8d121131880ab2f-6c07"></a></span></p>
</li><li>Move
to frame 12 and slide the opacity slider down to <em class="strong">0</em>.</li><li>Move
to frame 14 and slide the opacity slider up slightly, then back
down to <em class="strong">0</em>.</li><li>Advance
to frame 16 and slide the opacity slider up to <em class="strong">100</em>.</li><li>Play
the animation in the viewport. The light flickers once.</li><li> Open
the Material Editor and find the <em class="mild">Flourescent_light</em> material.
In the Advanced Lighting Override Material rollout, click the Base
Material name.<p><span style="display:none"><a name="WS73099cc142f4875513f8d121131880ab2f-6c06"></a></span>The Base material parameters appear.</p>
</li><li>Move
to frame 10 and click the Self-Illumination color swatch. Move the
whiteness slider toward grey, then back to white. <p><span style="display:none"><a name="WS73099cc142f4875513f8d121131880ab2f-6c05"></a></span>The color swatch is outlined in red, to show
it is animated.</p>
</li><li> Move
to frame 12. Change the Self-illumination color to Black using the
Whiteness slider.<p><span style="display:none"><a name="WS73099cc142f4875513f8d121131880ab2f-6c04"></a></span>Move to frame 14, and keyframe the color as
Black again.</p>
</li><li> Move
to frame 16 and keyframe the Self-Illumination back to white.</li><li>
<img src="./images/MED/3dsMaxTut/English/but/but_auto_key_on.png"> Turn
off Auto Key and close the Material Editor.</li><li> In
the track bar, drag a selection rectangle around the keys. Hold
down <span class="keyCaps">Shift</span> and drag
the keys to make copies so the flickering repeats.<p><span style="display:none"><a name="WS73099cc142f4875513f8d121131880ab2f-6c03"></a></span>If you play the animation now, its a little
slow. You can improve the performance by collapsing the layers. </p>
</li></ol>















<!--OList--><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7b27"></a></span>
<p class="list-intro"><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7b26"></a></span>Preserve
the flickering layer:</p>
<p><span style="display:none"><a name="WS73099cc142f4875513f8d121131880ab2f-6c02"></a></span>You'll use the Preserve Layer command to keep
the animated layer while condensing the remaining ones.</p>
<ol type="1" start="1"><li>On
the Parameters rollout, with the <em class="mild">VertPt_Flicker</em> layer
still selected, turn on Preserve Layer.</li><li>Now
highlight the Layer at the top of the stack.</li><li>
<img src="./images/MED/3dsMaxTut/English/but/but_condense_layer.png"> On the
floating vertex paintbox, click Condense To Single Layer.<p><span style="display:none"><a name="WS73099cc142f4875513f8d121131880ab2f-6c01"></a></span>The five other layers are collapsed into a single
layer, while the flicker layer is preserved.</p>
</li><li>In
the Modifier stack drag the Flicker layer so it is at the top of the
stack, then play the animation in the viewport.</li></ol>




<div class="section"><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7b25"></a></span>
<p class="section_title_h1"><a name="TOC_ENTRY__d0e69574"></a>Summary</p>
<p><span style="display:none"><a name="WS73099cc142f4875513f8d121131880ab2f-6c00"></a></span>In this tutorial you have explored the use of
the VertexPaint modifier. You have learned to bake radiosity into
vertex color using the Assign Vertex Color Utility, and how to add
paint layers in the modify panel. You have learned to animate the
opacity of the layers to create a flickering lighting effect that
can be exported to a game engine.</p>
</div>

<!----><div class="footer-block"><a href="javascript:doComments('./html/ac.cmtdialog.htm');"><span class="comments-link">Please send us your comment about this page</span></a></div><br></body><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script></html>
