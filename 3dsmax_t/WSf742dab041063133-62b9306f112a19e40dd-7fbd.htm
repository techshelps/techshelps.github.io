<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=iso8859-1">
   <title>Adding a Streetlight Using XRefs</title><link rel="stylesheet" type="text/css" href="./style/cpm.css"><link rel="stylesheet" type="text/css" href="./style/isd.css"><link rel="stylesheet" type="text/css" href="./style/commons.css"><link rel="stylesheet" type="text/css" href="./style/contents.css"><link rel="stylesheet" type="text/css" href="./style/header.css"><link rel="stylesheet" type="text/css" href="./style/indexes.css"><link rel="stylesheet" type="text/css" href="./style/search.css"><link rel="stylesheet" type="text/css" href="./style/med.css"><script type="text/javascript" src="./scripts/ac.strings.js"></script><script type="text/javascript" src="./ac_common.js"></script><script type="text/javascript" src="./scripts/acmap.js"></script><script type="text/javascript" src="./scripts/ac.acad_ak.js"></script><script type="text/javascript" src="./scripts/index-processing.js"></script><script type="text/javascript" src="./scripts/search-processing.js"></script><script type="text/javascript" src="./scripts/toc-processing.js"></script><script type="text/javascript" src="./scripts/highlight.js"></script><script type="text/javascript" src="./scripts/favorites.js"></script><script type="text/javascript" src="./scripts/commons-processing.js"></script><script language="javascript">
            function hideInfo() {
                info = document.getElementById('infoline');
                info.innerHTML = ' ';
                info.style.visibility = 'hidden';
            }
            function showInfo(title) {
                info = document.getElementById('infoline');
                info.innerHTML = title;
                info.style.visibility='visible';
            }
        </script><meta name="description" content="Adding a Streetlight Using XRefs"><meta name="keywords" content="streetlight using xrefs, level design:using xrefs to add streetlight,"><meta name="topic-type" content="concept"></head><body><!--
							Name = Topic;
							Class =  CPM-Topic ISD-Topic ;
							Url = WSf742dab041063133-62b9306f112a19e40dd-7fbd.htm--><div class="head"><div class="head-block"><div class="nav-group"><!--browse buttons--><div class="browse"><nobr><!--No Additional browse buttons are defined--><div id="prevTitle" style="display:none">Merging the Building into a Neighborhood</div><a href="WSf742dab041063133-62b9306f112a19e40dd-7fbe.htm" class="headNavLink" onmouseover="showInfo(document.getElementById('prevTitle').innerHTML);" onmouseout="hideInfo();"><img src="./images/nav-prev-xp.gif" border="0"></a><div id="parentTitle" style="display:none">Modeling Level Design</div><a href="WSf742dab041063133-62b9306f112a19e40dd-7fc1.htm" class="headNavLink" onmouseover="showInfo(document.getElementById('parentTitle').innerHTML);" onmouseout="hideInfo();"><img src="./images/nav-up-xp.gif" border="0"></a><div id="nextTitle" style="display:none">Painting Vertex Color in a Level</div><a href="WSf742dab041063133-62b9306f112a19e40dd-7fbc.htm" class="headNavLink" onmouseover="showInfo(document.getElementById('nextTitle').innerHTML);" onmouseout="hideInfo();"><img src="./images/nav-next-xp.gif" border="0"></a></nobr></div><!--end browse buttons--></div><div class="button-info"><span id="infoline">&nbsp;</span></div><div class="ancestry"><a href="welcome.htm">Autodesk 3ds Max Tutorials</a>&nbsp;&gt;&nbsp;<a href="WSf742dab041063133-62b9306f112a19e40dd-8000.htm">		Modeling Tutorials</a>&nbsp;&gt;&nbsp;<a href="WSf742dab041063133-62b9306f112a19e40dd-7fc1.htm">Modeling Level Design</a>&nbsp;&gt;&nbsp;</div><div class="head-text"><span>Adding a Streetlight Using XRefs</span></div></div></div><div class="head-margin">&nbsp;</div><div style="line-height: 0pt">&nbsp;</div><div class="head-margin">&nbsp;</div><span style="display:none"><a name="WSf742dab041063133-62b9306f112a19e40dd-7fbd"></a></span>

<!--Body-->
<p><span style="display:none"><a name="WS73099cc142f4875513f8d121131880ab2f-68e4"></a></span>

You
can add a streetlight to the scene using XRef Objects. First, you
will open the streetlight scene and use XRefs to help correct the
scale of the streetlight before you add it to the street.</p>
<!--UList--><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7572"></a></span>
<p class="list-intro"><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7571"></a></span>Use
XRef objects:</p>
<ul><li>Choose
File &gt; Open <span class="filePath">streetlight.max</span>.<span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7570"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/ill/ill_streetlight.png"></p>
</div>
<p><span style="display:none"><a name="WS73099cc142f4875513f8d121131880ab2f-68e3"></a></span>Instead of using measuring tools like the Tape
helper or the Measure utility, you will instead use the scene itself,
through XRefs.</p>
</li></ul>

<!--OList--><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-756f"></a></span>
<p class="list-intro"><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-756e"></a></span>Scale
the street lamp:</p>
<ol type="1" start="1"><li>Choose
File &gt; XRef Scene.</li><li>In
the XRef Scene dialog, click Add.</li><li>Navigate
to the <em class="mild">\tutorials\level_design </em>directory
and select <span class="filePath">toonstreet.max</span>.
A thumbnail appears in the Open File dialog when you highlight the
name in the list.<span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-756d"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/tut/t17_51.png"></p>
</div>
<p><span style="display:none"><a name="WS73099cc142f4875513f8d121131880ab2f-68e2"></a></span>The path and name of the XRef scene appears
in the XRef Scenes dialog. After a pause, the scene also appears
in the viewports.</p>
<span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-756c"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/ill/ill_xrefscene_toonstreet.png"></p>
</div>
</li><li>Close
the Xref Scene dialog.</li><li>
<img src="./images/MED/3dsMaxTut/English/but/but_uscale_max.png"> Click
Select and Uniform Scale and then select the street light. Scale
down the street lamp using the scale gizmo so that it fits in the
scene.</li><li>Move
the scaled lamp so it's on the street corner. <span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-756b"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/ill/ill_streetlight_scalegizmo.png"></p>
</div>
</li><li>
<img src="./images/MED/3dsMaxTut/English/but/but_arcrotate_max.png"> Use
Arc Rotate to rotate the viewport for a look from a different angle.
Scale the streetlight some more, if necessary.<span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-756a"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/ill/ill_streetlight_scaled.png"></p>
</div>
</li><li>Now
remove the XRef Scene. Choose File &gt; XRef Scene to open the XRef
Scene dialog. Select <span class="filePath">toonstreet.max</span> and then
the Remove button. The lamp post stands alone, in place and proportionate
to the street.<span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7569"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/ill/ill_streetlight_alone.png"></p>
</div>
</li><li>Save
the lamp as <em class="strong">mystreetlight.max</em>.</li><li>Choose
File &gt; Open and choose <span class="filePath">toonstreet.max</span> again.
After a pause the file opens.</li><li>In
the Perspective viewport, navigate to the street corner where you
had moved the street light. Zoom in if necessary.</li><li>On
the File menu, choose XRef Objects.</li><li>
<img src="./images/MED/3dsMaxTut/English/but/but_xref_create_record.png"> On the
XRef Objects dialog click Create XRef Record from File, and then
navigate to the <em class="mild">\tutorials\level_design</em> directory,
and chose <span class="filePath">mystreetlight.max</span>.</li><li>From
the XRef Merge dialog, choose the object <em class="mild">LampPostwSign</em>.
Click OK.</li><li>Close
the XRef Objects dialog.<p><span style="display:none"><a name="WS73099cc142f4875513f8d121131880ab2f-68e1"></a></span>The lamp appears on the street corner, where
you had scaled it.</p>
<span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7568"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/ill/ill_streetlight_xrefobject.png"></p>
</div>
</li><li>Select
the street light, then right-click and choose Move from the quad
menu. Move the streetlight to the corner near the yellow-and-black
striped barricade.<p><span style="display:none"><a name="WS73099cc142f4875513f8d121131880ab2f-68e0"></a></span>Next, you will create a light to associate with
the streetlight geometry. </p>
</li></ol>
















<!--OList--><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7567"></a></span>
<p class="list-intro"><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7566"></a></span>Add
lights:</p>
<ol type="1" start="1"><li>Select
the streetlight if it isn't already selected.</li><li>
<img src="./images/MED/3dsMaxTut/English/ico/i_display.png"> In the
Display panel, in the Hide rollout, click Hide Unselected.</li><li>
<img src="./images/MED/3dsMaxTut/English/ico/i_zoomextentsel.png"> Use
Zoom Extents Selected so the streetlight is clearly visible in the
viewport. </li><li>
<img src="./images/MED/3dsMaxTut/English/ico/i_lights.png"> On the
Create panel, click the Lights button.</li><li>In
the Object Type rollout, click Omni, and then turn on AutoGrid.</li><li>Move
your cursor over the streetlight. A creation tripod is displayed
and is projected from whichever face you touch.<span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7565"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/ill/ill_streetlight_omni.png"></p>
</div>
</li><li>Click
to create the light on the surface of the globe.</li><li>Raise
the light up slightly above the globe.<span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7564"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/ill/ill_streetlight_omnimoved.png"></p>
</div>
</li><li>On
the Modify panel, in the General Parameters rollout, turn on Shadows.</li><li>On
the Intensity/Color/Attenuation Parameters rollout, in the Decay
group, choose Inverse Square as the type of Decay. </li><li>In
the Near Attenuation group, turn on Show and change Start to <em class="strong">20</em>.
You can see the Decay Start Attenuation gizmo in the viewport.</li><li>On
the Display panel, in the Hide rollout, click Unhide All so that
you can judge the decay size in the scene geometry.<span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7563"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/ill/ill_streetlight_decay.png"></p>
</div>
</li><li>Go
to the Modify panel, and turn off Show in the Intensity/Color/Attenuation
rollout when you've set the Decay.</li></ol>













<!--OList--><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7562"></a></span>
<p class="list-intro"><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7561"></a></span>Clone
the lamps and lights:</p>
<ol type="1" start="1"><li>Change
the lower Perspective viewport to Wireframe shading.<div><span style="display:none"><a name="WS1a9193826455f5ffba22e1113c6c30c0eb99"></a></span><div class="note-tip"><span class="label">Tip</span>If
you want, you can disable the two viewports on the left. Right-click
to activate the viewport, then press <span class="keyCaps">D</span> to
disable. This will prevent unnecessary redraws.</div></div>
</li><li>Press <span class="keyCaps">H</span> on the keyboard to select objects
in the scene by name. Choose <em class="mild">Omni 01</em> and
the <em class="mild">LampPostwSign</em> object.<div><span style="display:none"><a name="WS1a9193826455f5ffba22e1113c6c30c0eb9a"></a></span><div class="note-tip"><span class="label">Tip</span>Press the <span class="keyCaps">Ctrl</span> key
to select multiple objects in the dialog.</div></div>
</li><li>On
the main toolbar, in the Named Selection Sets field, name the selection <em class="strong">lit
lamp</em>.<p><span style="display:none"><a name="WS73099cc142f4875513f8d121131880ab2f-68df"></a></span>Now you can retrieve the light and the lamp
in one touch.</p>
</li><li>
<img src="./images/MED/3dsMaxTut/English/ico/i_select_move.png"> Hold
down the <span class="keyCaps">Shift</span> key, then
move the selection to create a clone of the lit lamp. </li><li>In
the Clone Options dialog, choose Instance, so you can control all
the lights by changing one.<span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7560"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/tut/t17_64.png"></p>
</div>
</li><li>Repeat
the last two steps to add streetlights up and down both sides of
the street. If performance is slow, use wireframe shading when you drag
in the lamps.<span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-755f"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/ill/ill_streetlights_cloned.png"></p>
</div>
</li></ol>






<!--OList--><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-755e"></a></span>
<p class="list-intro"><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-755d"></a></span>Add
global lighting:</p>
<p><span style="display:none"><a name="WS73099cc142f4875513f8d121131880ab2f-68de"></a></span>Next, you will give a little color to the Omni
lights and add directional lighting.</p>
<ol type="1" start="1"><li>Select
the light <em class="mild">Omni01</em>.</li><li>On
the Modify panel, In the Intensity/Color/Attenuation rollout, General
Parameters rollout, click the color swatch next to the Multiplier
field. <p><span style="display:none"><a name="WS73099cc142f4875513f8d121131880ab2f-68dd"></a></span>A color selector appears. </p>
</li><li>Click
in the left middle of the color selector to choose an orange color
for the Omni light. Close the dialog.<span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-755c"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/il/il_color_selector_spectrum.png"></p>
</div>
</li><li>To
add directional lighting to your scene, right-click in the Top viewport
and press <span class="keyCaps">Alt+W</span> to maximize it.</li><li>
<img src="./images/MED/3dsMaxTut/English/ico/i_lights.png"> In the
Create Panel, click the Lights icon.</li><li>On
the Object Type rollout, click Target Direct.</li><li>In
the Top viewport, click and drag from the lower left of the geometry
to the center of the street.<p><span style="display:none"><a name="WS73099cc142f4875513f8d121131880ab2f-68dc"></a></span>The target directional light is displayed in
the viewport.</p>
<span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-755b"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/ill/ill_targetlight_topview.png"></p>
</div>
</li><li>Adjust
the size of the light coverage by using the Hotspot/Beam spinner
In the Directional Parameters rollout. Notice that increasing the hotspot/beam
automatically expands the falloff/field as well. When you decrease
the hotspot/beam, the falloff/field remains unchanged.<span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-755a"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/ill/ill_targetlight_hotspotbeam.png"></p>
</div>
</li><li>
<img src="./images/MED/3dsMaxTut/English/but/but_minmax.png"> Click
Maximize Viewport Toggle to display the four viewports again, then
rotate a perspective viewport so you can see the directional light.</li><li>Select
and move the directional light to raise it up. The target stays
on the street.<span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7559"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/ill/ill_targetlight_raised.png"></p>
</div>
</li><li>On
the Modify panel, in the Name and Color group, click the color swatch.
Click Add Custom Colors and select a medium to dark blue to give
the light a blue color for a moonlight setting. <span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7558"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/il/il_t17_70.png"></p>
</div>
</li><li>On
the toolbar, in the Selection filters, choose Geometry from the
list. This excludes the lights from the selection operation. </li><li>
<img src="./images/MED/3dsMaxTut/English/ico/i_select.png"> In the
Top viewport, drag a selection rectangle around the entire scene
in the viewport. Do a Zoom Extents All out if necessary.<p><span style="display:none"><a name="WS73099cc142f4875513f8d121131880ab2f-68db"></a></span>All the geometry except for the lights are selected.</p>
</li><li>You
can name this selection <em class="strong">Vertex Lighting</em> in the Named Selection
Sets field on the Main toolbar.</li></ol>














<!--OList--><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7557"></a></span>
<p class="list-intro"><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7556"></a></span>Create
vertex lighting:</p>
<p><span style="display:none"><a name="WS73099cc142f4875513f8d121131880ab2f-68da"></a></span>Here you can take the lighting information and
map it into the color of the vertices.</p>
<ol type="1" start="1"><li> Continue
from before, or load <span class="filePath">city_vertex_color.max</span> from
the <em class="mild">\tutorials\level_design </em>directory.</li><li>If
you do choose to load the supplied scene file, then choose <em class="mild">Vertex
Lighting</em> from the named selection sets on the toolbar.</li><li>On
the Utilities panel, click the More button, then choose Assign Vertex
Colors. </li><li>If
Mapping is on in the Render Options group, turn it off. This means
to use the map's colors rather than the scene lighting.</li><li>Turn
on Shadows.</li><li>Click
Assign To Selected.<p><span style="display:none"><a name="WS73099cc142f4875513f8d121131880ab2f-68d9"></a></span>A series of calculations will result. You will
observe a progress bar flying by furiously at the bottom of the
screen, rendering vertices for each of the objects in the scene.
When this finishes, left-click in the viewport to deselect everything
in the scene to see the affect of the lighting without any selection
highlights.</p>
<span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7555"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/ill/ill_darkstreet.png"></p>
</div>
<p><span style="display:none"><a name="WS73099cc142f4875513f8d121131880ab2f-68d8"></a></span>The scene is a little dark, so you'll make some
adjustments to the lights.</p>
</li><li>Right-click
in the active viewport, and from the Display quadrant, choose Unhide
All.</li><li>Click
Select by Name, and select <em class="mild">Omni20</em> through <em class="mild">Omni28</em>.
Make sure <em class="mild">Omni01</em> is not selected.<span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7554"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/ill/ill_hide_objects_omni.png"></p>
</div>
</li><li>Right-click
in the active viewport, and from the Display quadrant, choose Hide
Selection.</li><li>Select <em class="mild">Omni01</em>.</li><li>In
the Modify panel, change the Multiplier value to <em class="strong">2</em>.</li><li>Select
the <em class="mild">Direct01</em> light and turn on Shadows.</li><li>Choose
Vertex Lighting from the named selection sets on the toolbar, and
in the Modify panel &gt; Assign Vertex Colors rollout, again click
Assign.<span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7553"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/tut/t17_71.png"></p>
</div>
<p><span style="display:none"><a name="WS73099cc142f4875513f8d121131880ab2f-68d7"></a></span>Next you'll use Vertex Paint to change some
of the vertex lighting. </p>
</li></ol>













<div class="section"><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7552"></a></span>
<p class="section_title_h1"><a name="TOC_ENTRY__d0e20385"></a>Next</p>
<p><span style="display:none"><a name="WS73099cc142f4875513f8d121131880ab2f-68d6"></a></span>
<span class="hypertext">
<span class="char_link"><a href="WSf742dab041063133-62b9306f112a19e40dd-7fbc.htm"><!--Reference = WSf742dab041063133-62b9306f112a19e40dd-7fbc; Target topic = WSf742dab041063133-62b9306f112a19e40dd-7fbc.htm-->Painting Vertex Color in a Level</a></span>
</span>
</p>
</div>

<!----><div class="footer-block"><a href="javascript:doComments('./html/ac.cmtdialog.htm');"><span class="comments-link">Please send us your comment about this page</span></a></div><br></body><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-1');</script></html>
