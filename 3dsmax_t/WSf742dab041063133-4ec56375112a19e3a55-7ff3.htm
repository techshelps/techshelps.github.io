<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=iso8859-1">
   <script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><TITLE>Final Gather</title><link rel="stylesheet" type="text/css" href="./style/cpm.css"><link rel="stylesheet" type="text/css" href="./style/isd.css"><link rel="stylesheet" type="text/css" href="./style/commons.css"><link rel="stylesheet" type="text/css" href="./style/contents.css"><link rel="stylesheet" type="text/css" href="./style/header.css"><link rel="stylesheet" type="text/css" href="./style/indexes.css"><link rel="stylesheet" type="text/css" href="./style/search.css"><link rel="stylesheet" type="text/css" href="./style/med.css"><script type="text/javascript" src="./scripts/ac.strings.js"></script><script type="text/javascript" src="./ac_common.js"></script><script type="text/javascript" src="./scripts/acmap.js"></script><script type="text/javascript" src="./scripts/ac.acad_ak.js"></script><script type="text/javascript" src="./scripts/index-processing.js"></script><script type="text/javascript" src="./scripts/search-processing.js"></script><script type="text/javascript" src="./scripts/toc-processing.js"></script><script type="text/javascript" src="./scripts/highlight.js"></script><script type="text/javascript" src="./scripts/favorites.js"></script><script type="text/javascript" src="./scripts/commons-processing.js"></script><script language="javascript">
            function hideInfo() {
                info = document.getElementById('infoline');
                info.innerHTML = ' ';
                info.style.visibility = 'hidden';
            }
            function showInfo(title) {
                info = document.getElementById('infoline');
                info.innerHTML = title;
                info.style.visibility='visible';
            }
        </script><meta name="description" content="Final Gather"><meta name="keywords" content=""><meta name="topic-type" content="concept"></head><body><!--
							Name = Topic;
							Class =  CPM-Topic ISD-Topic ;
							Url = WSf742dab041063133-4ec56375112a19e3a55-7ff3.htm--><div class="head"><div class="head-block"><div class="nav-group"><!--browse buttons--><div class="browse"><nobr><!--No Additional browse buttons are defined--><div id="prevTitle" style="display:none">Rendering with mental ray: Final Gather and Global Illumination</div><a href="WS73099cc142f4875514c01ac112a7acef16-7f05.htm" class="headNavLink" onmouseover="showInfo(document.getElementById('prevTitle').innerHTML);" onmouseout="hideInfo();"><img src="./images/nav-prev-xp.gif" border="0"></a><div id="parentTitle" style="display:none">Rendering with mental ray: Final Gather and Global Illumination</div><a href="WS73099cc142f4875514c01ac112a7acef16-7f05.htm" class="headNavLink" onmouseover="showInfo(document.getElementById('parentTitle').innerHTML);" onmouseout="hideInfo();"><img src="./images/nav-up-xp.gif" border="0"></a><div id="nextTitle" style="display:none">Final Gather and Ambient Occlusion</div><a href="WSf742dab041063133-4ec56375112a19e3a55-7ff2.htm" class="headNavLink" onmouseover="showInfo(document.getElementById('nextTitle').innerHTML);" onmouseout="hideInfo();"><img src="./images/nav-next-xp.gif" border="0"></a></nobr></div><!--end browse buttons--></div><div class="button-info"><span id="infoline">&nbsp;</span></div><div class="ancestry"><a href="welcome.htm">Autodesk 3ds Max Tutorials</a>&nbsp;&gt;&nbsp;<a href="WS73099cc142f4875514c01ac112a7acef16-8000.htm">Lighting and Rendering</a>&nbsp;&gt;&nbsp;<a href="WS73099cc142f4875514c01ac112a7acef16-7f05.htm">Rendering with mental ray: Final Gather and Global
Illumination</a>&nbsp;&gt;&nbsp;</div><div class="head-text"><span>Final Gather</span></div></div></div><div class="head-margin">&nbsp;</div><div style="line-height: 0pt">&nbsp;</div><div class="head-margin">&nbsp;</div><span style="display:none"><a name="WSf742dab041063133-4ec56375112a19e3a55-7ff3"></a></span>

<!--Body-->
<p><span style="display:none"><a name="WS1a9193826455f5ffba679e112c9ef5a71-1f8e"></a></span>Final gather shoots rays into the scene. For
each pixel (surface point on the geometry like walls) it shoots
many rays into the scene. It measures the brightness of the rays
to compute how much light gets to a given surface point.</p>
<!--OList--><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7ef9"></a></span>
<p class="list-intro"><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7ef8"></a></span>Set
up final gather:</p>
<ol type="1" start="1"><li>From
the <em class="mild">\tutorials\mental_ray</em> folder,
open the scene file <span class="filePath">fg+gi_start.max</span>.<p><span style="display:none"><a name="WS1a9193826455f5ffba679e112c9ef5a71-1f8d"></a></span>The scene
is set to render with mental ray.</p>
</li><li>Press <span class="keyCaps">F9</span> to render the scene.<p><span style="display:none"><a name="WS1a9193826455f5ffba679e112c9ef5a71-1f8c"></a></span>As shown
in the previous section, the interior is very dark, with daylight
coming in from the window.</p>
<span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7ef7"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/il/il_direct_illum.png"></p>
<p></p><p class="figure-title">Scene rendered</p>
</div>
</li><li>Press <span class="keyCaps">F10</span> to open the Render Scene dialog.
On the Indirect Illumination panel &gt; Final Gather rollout, turn
on Enable Final Gather and then choose the Draft preset.<span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7ef6"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/rol/rol_fg_gi_fg_on.png"></p>
<p></p><p class="figure-title">Activate FG</p>
</div>
</li><li>Click
the Render button to compute an image.<p><span style="display:none"><a name="WS1a9193826455f5ffba679e112c9ef5a71-1f8b"></a></span>Final gather
provides more realistic lighting, allowing the daylight to illuminate
the darker portions of the scene.</p>
<span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7ef5"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/il/il_fg_draft.png"></p>
</div>
</li></ol>




<!--OList--><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7ef4"></a></span>
<p class="list-intro"><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7ef3"></a></span>Visualize
final gather points:</p>
<p><span style="display:none"><a name="WS1a9193826455f5ffba679e112c9ef5a71-1f8a"></a></span>To best understand and use final gather, it
helps to have a notion of the underlying concepts. You'll start
with final gather points.</p>
<ol type="1" start="1"><li>On
the Processing panel &gt; Diagnostics rollout, turn on Visual &gt; Enable
and then choose Final Gather.<span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7ef2"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/rol/rol_fg_gi_diag.png"></p>
<p></p><p class="figure-title">FG diagnostic enabled</p>
</div>
</li><li>Render
the scene again.<p><span style="display:none"><a name="WS1a9193826455f5ffba679e112c9ef5a71-1f89"></a></span>Each final gather point is displayed as a green
dot.</p>
<span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7ef1"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/il/il_fg_draft_diagnostics.png"></p>
</div>
<p><span style="display:none"><a name="WS1a9193826455f5ffba679e112c9ef5a71-1f88"></a></span>At each
final gather point mental ray shoots a bundle of rays into the scene
to check how much light is hitting the point. You control the number
of rays with the Rays Per FG Point setting.</p>
</li></ol>


<div class="section"><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7ef0"></a></span>
<p class="section_title_h1"><a name="TOC_ENTRY__d0e73209"></a>Interpolate FG Points:</p>
<p><span style="display:none"><a name="WS1a9193826455f5ffba679e112c9ef5a71-1f87"></a></span>One of easiest-to-understand parameters is Interpolate
Over Num FG Points. This determines how many FG points are used
to compute the final result. By default the parameter value is 30,
which causes 29 neighbors to be combined with each FG point.</p>
<p><span style="display:none"><a name="WS1a9193826455f5ffba679e112c9ef5a71-1f86"></a></span>The following illustration shows a zoomed area
of the image. One pixel is marked with a red cross. The eight closest
FG points are inside a red outline. If Interpolate Over Num FG Points
is set to 8, mental ray would take these eight points to interpolate.</p>
<span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7eef"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/il/il_interpolation_schematic.png"></p>
<p class="figure-title">Eight points (green) interpolated to get color
at red cross</p>
</div>
<p><span style="display:none"><a name="WS1a9193826455f5ffba679e112c9ef5a71-1f85"></a></span>The following images show the results of setting
Interpolate Over Num FG Points to values between 1 and 200.</p>
<span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7eee"></a></span><table cellpadding="0" cellspacing="0" class="ruled"><colgroup><col style="width:2.213in"><col style="width:2.213in">
<tr class="RuledOddRow">
<td class="table-body">
<span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7eed"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/il/il_fg_interpolation_1.png"></p>
<p class="figure-title">Interpolate Over Num FG Points=1</p>
</div>
</td>
<td class="table-body">
<span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7eec"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/il/il_fg_interpolation_5.png"></p>
<p class="figure-title">Interpolate Over Num FG Points=5</p>
</div>
</td>
</tr>
<tr class="RuledEvenRow">
<td class="table-body">
<span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7eeb"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/il/il_fg_interpolation_30.png"></p>
<p class="figure-title">Interpolate Over Num FG Points=30</p>
</div>
</td>
<td class="table-body">
<span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7eea"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/il/il_fg_interpolation_200.png"></p>
<p class="figure-title">Interpolate Over Num FG Points=200</p>
</div>
</td>
</tr>
</colgroup></table>
<p><span style="display:none"><a name="WS1a9193826455f5ffba679e112c9ef5a71-1f84"></a></span>Feel free to try each of these to see the results
on your screen.</p>
<p><span style="display:none"><a name="WS1a9193826455f5ffba679e112c9ef5a71-1f83"></a></span>At 1 the image is very noisy; at 5 it's a bit
smoother but still noisy. At 30, the rendered image looks quite
realistic, and at 200 the result is absolutely smooth. The great
news is that increasing Interpolate Over Num FG Points costs very
little performance: Setting it to 200 takes, at most, only a few
minutes longer to render than at 1, even with large, complex scenes
that take a long time to render.</p>
<p><span style="display:none"><a name="WS1a9193826455f5ffba679e112c9ef5a71-1f82"></a></span>So why not always use 200? Because interpolation
removes local details. For example, the ceiling near the window
looks very flat in the 200 image.</p>
<p><span style="display:none"><a name="WS1a9193826455f5ffba679e112c9ef5a71-1f81"></a></span>Interpolation is the best choice when you need
a noiseless image but long rendering times aren't practical.</p>
</div>
<div class="section"><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7ee5"></a></span>
<p class="section_title_h1"><a name="TOC_ENTRY__d0e73300"></a>Density</p>
<p><span style="display:none"><a name="WS1a9193826455f5ffba679e112c9ef5a71-1f80"></a></span>The next parameter we discuss is Initial FG
Point Density. This is the density of the final gather points grid,
which covers the entire image. Density species the grid spacing.
The following images start with the Draft preset and vary only the
density. Note that Noise Filtering is off (None).</p>
<p><span style="display:none"><a name="WS1a9193826455f5ffba679e112c9ef5a71-1f7f"></a></span>Density varies from 0.01 at the top to 4.0 at
the bottom. As the value increases, so does the number of green
dots (final gather points) in the diagnostic images.</p>
<span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7ee4"></a></span><table cellpadding="0" cellspacing="0" class="ruled"><colgroup><col style="width:2.213in"><col style="width:2.213in">
<tr class="RuledOddRow">
<td class="table-body">
<span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7ee3"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/il/il_fg_density_001.png"></p>
<p class="figure-title">Initial FG Point Density=0.01</p>
</div>
</td>
<td class="table-body">
<span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7ee2"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/il/il_fg_density_001_diagnostic.png"></p>
<p class="figure-title">Initial FG Point Density=0.01 (diagnostic)</p>
</div>
</td>
</tr>
<tr class="RuledEvenRow">
<td class="table-body">
<span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7ee1"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/il/il_fg_density_01.png"></p>
<p class="figure-title">Initial FG Point Density=0.1</p>
</div>
</td>
<td class="table-body">
<span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7ee0"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/il/il_fg_density_01_diagnostic.png"></p>
<p class="figure-title">Initial FG Point Density=0.1 (diagnostic)</p>
</div>
</td>
</tr>
<tr class="RuledOddRow">
<td class="table-body">
<span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7edf"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/il/il_fg_density_1.png"></p>
<p class="figure-title">Initial FG Point Density=1.0</p>
</div>
</td>
<td class="table-body">
<span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7ede"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/il/il_fg_density_1_diagnostic.png"></p>
<p class="figure-title">Initial FG Point Density=1.0 (diagnostic)</p>
</div>
</td>
</tr>
<tr class="RuledEvenRow">
<td class="table-body">
<span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7edd"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/il/il_fg_density_4.png"></p>
<p class="figure-title">Initial FG Point Density=4.0</p>
</div>
</td>
<td class="table-body">
<span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7edc"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/il/il_fg_density_4_diagnostic.png"></p>
<p class="figure-title">Initial FG Point Density=4.0 (diagnostic)</p>
</div>
</td>
</tr>
</colgroup></table>
<p><span style="display:none"><a name="WS1a9193826455f5ffba679e112c9ef5a71-1f7e"></a></span>This image shows perfect details already, but
it also introduces some noise. Increasing the interpolation is one
way to resolve the noise. An alternative way is shown below.</p>
<p><span style="display:none"><a name="WS1a9193826455f5ffba679e112c9ef5a71-1f7d"></a></span>Higher density shows more detail. Whenever you
need more detail in a scene, increase the density.</p>
</div>
<div class="section"><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7ed3"></a></span>
<p class="section_title_h1"><a name="TOC_ENTRY__d0e73424"></a>Rays Per Point</p>
<p><span style="display:none"><a name="WS1a9193826455f5ffba679e112c9ef5a71-1f7c"></a></span>Each FG point shoots a bundle of rays into the
scene. You can specify the number of rays with the Rays Per FG Point
parameter. Using a low value is faster but can generate noise. A
high value can reduce or eliminate noise, but takes longer to compute.
To show how this influences rendering, start with the Low preset
and then turn off interpolation by setting Interpolate Over Num.
FG Points to <em class="strong">1</em>. </p>
<p><span style="display:none"><a name="WS1a9193826455f5ffba679e112c9ef5a71-1f7b"></a></span>Set Rays Per FG Point to <em class="strong">1</em> and then render.</p>
<p><span style="display:none"><a name="WS1a9193826455f5ffba679e112c9ef5a71-1f7a"></a></span>Here you see individual FG points, with each
FG point shooting exactly one ray.</p>
<span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7ed2"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/il/il_fg_rays1.png"></p>
<p class="figure-title">One ray per FG Point</p>
</div>
<span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7ed1"></a></span><table cellpadding="0" cellspacing="0" class="ruled"><colgroup><col style="width:2.213in"><col style="width:2.213in">
<tr class="RuledOddRow">
<td class="table-body">
<span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7ed0"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/il/il_fg_rays4.png"></p>
<p class="figure-title">Rays Per FG Point=4</p>
</div>
</td>
<td class="table-body">
<span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7ecf"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/il/il_fg_rays50.png"></p>
<p class="figure-title">Rays Per FG Point=50</p>
</div>
</td>
</tr>
<tr class="RuledEvenRow">
<td class="table-body">
<span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7ece"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/il/il_fg_rays500.png"></p>
<p class="figure-title">Rays Per FG Point=500</p>
</div>
</td>
<td class="table-body">
<span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7ecd"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/il/il_fg_rays10000.png"></p>
<p class="figure-title">Rays Per FG Point=10000</p>
</div>
</td>
</tr>
</colgroup></table>
<p><span style="display:none"><a name="WS1a9193826455f5ffba679e112c9ef5a71-1f79"></a></span>The image with 10,000 rays can take some time
to render. The image is quite good without any interpolation. Adding
a bit of interpolation can resolve any remaining noise.</p>
</div>
<div class="section"><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7ec8"></a></span>
<p class="section_title_h1"><a name="TOC_ENTRY__d0e73512"></a>Density versus Rays</p>
<p><span style="display:none"><a name="WS1a9193826455f5ffba679e112c9ef5a71-1f78"></a></span>When should you increase grid density, and when
should you increase the number of rays per FG point? Why not have
a single control? And when should you modify the number of rays
per FG point?</p>
<p><span style="display:none"><a name="WS1a9193826455f5ffba679e112c9ef5a71-1f77"></a></span>More rays are required for scenes with a small
bright window (high contrast inside the scene).</p>
<p><span style="display:none"><a name="WS1a9193826455f5ffba679e112c9ef5a71-1f76"></a></span>Fewer rays are required for a scene with even
illumination, like a white office room with many light sources at
night (no daylight).</p>
<p><span style="display:none"><a name="WS1a9193826455f5ffba679e112c9ef5a71-1f75"></a></span>Typical values are:</p>
<!--UList--><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7ec7"></a></span>
<ul><li>fewer
than 50 rays for even illumination (low contrast)</li><li>100-500
for average scenes</li><li>1,000-10,000
for high-contrast scenes</li></ul>



<p><span style="display:none"><a name="WS1a9193826455f5ffba679e112c9ef5a71-1f74"></a></span>The scene for this tutorial has very high contrast,
with close to 100,000 lux in the sun near the window. The rest of
the scene receives no direct illumination, because there are no
light sources inside the room.</p>
</div>
<!--OList--><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7ec6"></a></span>
<p class="list-intro"><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7ec5"></a></span>Multibounce</p>
<p><span style="display:none"><a name="WS1a9193826455f5ffba679e112c9ef5a71-1f73"></a></span>The image still has dark corners. This is because
we've been using final gather with no bouncing of light from one
object to another. For example, illumination of a windowless hallway
comes only from light bouncing several times: from window to wall
to wall to hallway. In our scene, the area behind the sofa needs
several bounces to &#8220;see" the sun.</p>
<p><span style="display:none"><a name="WS1a9193826455f5ffba679e112c9ef5a71-1f72"></a></span>To solve this we increase the Diffuse Bounces
value to 5:</p>
<span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7ec4"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/rol/rol_fg_gi_bounce.png"></p>
</div>
<p><span style="display:none"><a name="WS1a9193826455f5ffba679e112c9ef5a71-1f71"></a></span>More bounces will distribute light correctly
in the scene. For average scenes, five bounces are sufficient. Extremely
white scenes could require up to 10 bounces, while dark-textured
interiors might not need more than three.</p>
<p><span style="display:none"><a name="WS1a9193826455f5ffba679e112c9ef5a71-1f70"></a></span>Increasing the number of bounces increases rendering
time. Using five bounces needs roughly five times as long to render.</p>
<ol type="1" start="1"><li>Try
a test rendering with the Draft preset and Diffuse Bounces set to <em class="strong">5</em>.<p><span style="display:none"><a name="WS1a9193826455f5ffba679e112c9ef5a71-1f6f"></a></span>This produces
a fairly bright image.</p>
<span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7ec3"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/il/il_fg_draft5bounces.png"></p>
</div>
<p><span style="display:none"><a name="WS1a9193826455f5ffba679e112c9ef5a71-1f6e"></a></span>If that's
too bright, adjust the Logarithmic Exposure Control &gt; Brightness
setting. The default value is 65.5, but in this scene it's set to 28.8.</p>
<span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7ec2"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/rol/rol_fg_gi_log_exp_ctrl.png"></p>
</div>
<p><span style="display:none"><a name="WS1a9193826455f5ffba679e112c9ef5a71-1f6d"></a></span>It's generally
good practice to test total brightness with a draft rendering. Adjusting
the exposure control is then easy.</p>
<p><span style="display:none"><a name="WS1a9193826455f5ffba679e112c9ef5a71-1f6c"></a></span>Later you
can add detail (density) and reduce noise by adjusting interpolation
and increasing the number of rays per FG point.</p>
</li><li>The
Medium preset can help reduce noise and artifacts. Choose the Medium
preset, set Diffuse Bounces to <em class="strong">5</em>, and then
render.<span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7ec1"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/il/il_fg_medium_5bounces.png"></p>
</div>
<p><span style="display:none"><a name="WS1a9193826455f5ffba679e112c9ef5a71-1f6b"></a></span>The image
looks quite good, but to improve quality further you can:</p>
<!--UList--><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7ec0"></a></span>
<ul><li>increase
density to see more details, such as contact shadows.</li></ul>

<!--UList--><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7ebf"></a></span>
<ul><li>increase
interpolation to get a smoother image.</li></ul>

<!--UList--><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7ebe"></a></span>
<ul><li>increase
the number of rays.</li></ul>

</li><li>The
Medium preset didn't show significant noise, so increase Initial
FG Point Density (this controls lighting detail) to <em class="strong">2.0</em>,
and Interpolate Over Num. FG Points to <em class="strong">50</em>. Also, turn
on Final Gather Map &gt; Read/Write File, click the ellipsis [...]
button, and enter the file name <em class="strong">tut_mediumPlus.fgm</em>.
This saves the final gather information to disk, so you can then
quickly try different values for interpolation.<span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7ebd"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/rol/rol_fg_gi_fg_map.png"></p>
</div>
</li><li>To
further improve the image, reduce the aliasing around the window
by increasing oversampling (Samples per Pixel) to <em class="strong">4-16</em>.
This works independent of final gathering, for any rendering.<span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7ebc"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/rol/rol_fg_gi_samp_qual.png"></p>
</div>
<span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7ebb"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/il/il_fg_mediumplus.png"></p>
<p></p><p class="figure-title">Initial FG Point Density=2.0; Rays per FG Point=250</p>
</div>
</li><li>Re-rendering
with Interpolate Over Num. FG Points set to <em class="strong">100</em> gives a
perfectly smooth image. An even better image can be achieved by
increasing Rays Per FG Point.</li></ol>





<div class="section"><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7eba"></a></span>
<p class="section_title_h1"><a name="TOC_ENTRY__d0e73670"></a>Next</p>
<p><span style="display:none"><a name="WS1a9193826455f5ffba679e112c9ef5a71-1f6a"></a></span>
<span class="hypertext">
<span class="char_link"><a href="WSf742dab041063133-4ec56375112a19e3a55-7ff2.htm"><!--Reference = WSf742dab041063133-4ec56375112a19e3a55-7ff2; Target topic = WSf742dab041063133-4ec56375112a19e3a55-7ff2.htm-->Final Gather and Ambient Occlusion</a></span>
</span>
</p>
</div>

<!----><div class="footer-block"><a href="javascript:doComments('./html/ac.cmtdialog.htm');"><span class="comments-link">Please send us your comment about this page</span></a></div><br></body><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script></html>
