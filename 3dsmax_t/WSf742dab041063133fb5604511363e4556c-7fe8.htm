<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=iso8859-1">
   <title>Creating Multiple BIP Files</title><link rel="stylesheet" type="text/css" href="./style/cpm.css"><link rel="stylesheet" type="text/css" href="./style/isd.css"><link rel="stylesheet" type="text/css" href="./style/commons.css"><link rel="stylesheet" type="text/css" href="./style/contents.css"><link rel="stylesheet" type="text/css" href="./style/header.css"><link rel="stylesheet" type="text/css" href="./style/indexes.css"><link rel="stylesheet" type="text/css" href="./style/search.css"><link rel="stylesheet" type="text/css" href="./style/med.css"><script type="text/javascript" src="./scripts/ac.strings.js"></script><script type="text/javascript" src="./ac_common.js"></script><script type="text/javascript" src="./scripts/acmap.js"></script><script type="text/javascript" src="./scripts/ac.acad_ak.js"></script><script type="text/javascript" src="./scripts/index-processing.js"></script><script type="text/javascript" src="./scripts/search-processing.js"></script><script type="text/javascript" src="./scripts/toc-processing.js"></script><script type="text/javascript" src="./scripts/highlight.js"></script><script type="text/javascript" src="./scripts/favorites.js"></script><script type="text/javascript" src="./scripts/commons-processing.js"></script><script language="javascript">
            function hideInfo() {
                info = document.getElementById('infoline');
                info.innerHTML = ' ';
                info.style.visibility = 'hidden';
            }
            function showInfo(title) {
                info = document.getElementById('infoline');
                info.innerHTML = title;
                info.style.visibility='visible';
            }
        </script><meta name="description" content="Creating Multiple BIP Files"><meta name="keywords" content=""><meta name="topic-type" content="concept"></head><body><!--
							Name = Topic;
							Class =  CPM-Topic ISD-Topic ;
							Url = WSf742dab041063133fb5604511363e4556c-7fe8.htm--><div class="head"><div class="head-block"><div class="nav-group"><!--browse buttons--><div class="browse"><nobr><!--No Additional browse buttons are defined--><div id="prevTitle" style="display:none">Setting Up Behaviors</div><a href="WSf742dab041063133fb5604511363e4556c-7fe9.htm" class="headNavLink" onmouseover="showInfo(document.getElementById('prevTitle').innerHTML);" onmouseout="hideInfo();"><img src="./images/nav-prev-xp.gif" border="0"></a><div id="parentTitle" style="display:none">Animating Biped Crowds</div><a href="WS1a9193826455f5ff13cfd6e1136132a36f-7cbf.htm" class="headNavLink" onmouseover="showInfo(document.getElementById('parentTitle').innerHTML);" onmouseout="hideInfo();"><img src="./images/nav-up-xp.gif" border="0"></a><div id="nextTitle" style="display:none">Troubleshooting the Simulation</div><a href="WSf742dab041063133fb5604511363e4556c-7fe7.htm" class="headNavLink" onmouseover="showInfo(document.getElementById('nextTitle').innerHTML);" onmouseout="hideInfo();"><img src="./images/nav-next-xp.gif" border="0"></a></nobr></div><!--end browse buttons--></div><div class="button-info"><span id="infoline">&nbsp;</span></div><div class="ancestry"><a href="welcome.htm">Autodesk 3ds Max Tutorials</a>&nbsp;&gt;&nbsp;<a href="WSf742dab04106313311b7d0e3112a19e3350-8000.htm">Character Animation Tutorials</a>&nbsp;&gt;&nbsp;<a href="WS1a9193826455f5ff13cfd6e1136132a36f-7cbf.htm">Animating Biped Crowds</a>&nbsp;&gt;&nbsp;</div><div class="head-text"><span>Creating Multiple BIP Files</span></div></div></div><div class="head-margin">&nbsp;</div><div style="line-height: 0pt">&nbsp;</div><div class="head-margin">&nbsp;</div><span style="display:none"><a name="WSf742dab041063133fb5604511363e4556c-7fe8"></a></span>

<!--Body-->
<p><span style="display:none"><a name="WS1a9193826455f5ff13cfd6e1136132a36f-7c14"></a></span>In this lesson, you'll learn how to create a
different motion clip from an existing clip so you can use it in
a motion flow network. You'll take an existing motion clip and convert
it from freeform to footstep animation. Then you'll alter the motion
somewhat, convert it back to freeform animation, and insert it as
a new clip into the shared motion flow network.</p>
<!--UList--><span style="display:none"><a name="WS1a9193826455f5ff13cfd6e1136132a36f-7c13"></a></span>
<p class="list-intro"><span style="display:none"><a name="WS1a9193826455f5ff13cfd6e1136132a36f-7c12"></a></span>Set
up this lesson:</p>
<ul><li>Open
the file <em class="mild">my_biped_crowds04.max</em> that you
created in the previous lesson, or open <em class="mild">tut_biped_crowds04.max</em>.<span style="display:none"><a name="WS1a9193826455f5ff13cfd6e1136132a36f-7c11"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/ill/ill_biped_crowds_setting_up_behaviors_final.png"></p>
</div>
<p><span style="display:none"><a name="WS1a9193826455f5ff13cfd6e1136132a36f-7c10"></a></span>In the previous lesson, you might have noticed
that some of the turns taken by the panda characters seem too extreme.
That's because the bipeds are limited to the motion clips available
to them in the motion flow network. For best results in your biped-based
crowd simulations, provide as many different appropriate motion
clips as possible. </p>
</li></ul>

<!--OList--><span style="display:none"><a name="WS1a9193826455f5ff13cfd6e1136132a36f-7c0f"></a></span>
<p class="list-intro"><span style="display:none"><a name="WS1a9193826455f5ff13cfd6e1136132a36f-7c0e"></a></span>Examine
an existing motion clip:</p>
<ol type="1" start="1"><li>Load <em class="mild">tut_black_papa.max</em>.<p><span style="display:none"><a name="WS1a9193826455f5ff13cfd6e1136132a36f-7c0d"></a></span>The original black-and-white panda stands motionless
in the scene.</p>
</li><li>
<img src="./images/MED/3dsMaxTut/English/cs/i_mx01.png"> Select
any part of the biped and go to the Motion panel.</li><li>
<img src="./images/MED/3dsMaxTut/English/cs/genload.png"> From
the Biped rollout, click Load File and load <em class="mild">panda_walk.bip</em>.
Play the animation.<p><span style="display:none"><a name="WS1a9193826455f5ff13cfd6e1136132a36f-7c0c"></a></span>The panda takes several steps in a straight
line.</p>
<span style="display:none"><a name="WS1a9193826455f5ff13cfd6e1136132a36f-7c0b"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/ill/ill_biped_crowds_multiple_bip_walk.png"></p>
</div>
<p><span style="display:none"><a name="WS1a9193826455f5ff13cfd6e1136132a36f-7c0a"></a></span>This motion consists entirely of freeform animation.
In general, it is easier to use freeform clips in a crowd simulation
because they minimize clutter in the viewports. However, for editing
motion data, it is much easier to work with the motion if you convert
it to footsteps first.</p>
</li></ol>



<!--OList--><span style="display:none"><a name="WS1a9193826455f5ff13cfd6e1136132a36f-7c09"></a></span>
<p class="list-intro"><span style="display:none"><a name="WS1a9193826455f5ff13cfd6e1136132a36f-7c08"></a></span>Convert
freeform animation to footsteps:</p>
<ol type="1" start="1"><li>
<img src="./images/MED/3dsMaxTut/English/cs/gencon.png"> In the
Biped rollout, click Convert. The Convert to Footsteps dialog opens.<span style="display:none"><a name="WS1a9193826455f5ff13cfd6e1136132a36f-7c07"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/dlg/dlg_biped_crowds_multiple_bip_convert.png"></p>
</div>
<div style="margin-top:9pt"><span style="display:none"><a name="WS1a9193826455f5ff662ffb11407b58d52-7146"></a></span><div class="note-note"><span class="label">Note</span>The
state and name of this dialog varies depending on whether the biped
already contains either freeform or footstep animation.</div></div>
</li><li>Make
sure that Flatten Footsteps to Z=0 is turned on, and Generate a
Keyframe per Frame is turned off. Click OK.</li><li>
<img src="./images/MED/3dsMaxTut/English/but/but_show_footsteps.png"> If footsteps
don't appear in viewports, click the expansion bar on the Biped
rollout to unhide the Display Group, and click the Show Footsteps.<span style="display:none"><a name="WS1a9193826455f5ff13cfd6e1136132a36f-7c06"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/ill/ill_biped_crowds_multiple_bip_footstep.png"></p>
</div>
<p><span style="display:none"><a name="WS1a9193826455f5ff13cfd6e1136132a36f-7c05"></a></span>The converted freeform animation now appears
as a simple series of editable footsteps.</p>
</li></ol>



<!--OList--><span style="display:none"><a name="WS1a9193826455f5ff13cfd6e1136132a36f-7c04"></a></span>
<p class="list-intro"><span style="display:none"><a name="WS1a9193826455f5ff13cfd6e1136132a36f-7c03"></a></span>Edit
the footsteps:</p>
<ol type="1" start="1"><li>
<img src="./images/MED/3dsMaxTut/English/cs/genfoot.png">  In
the Biped rollout, turn on Footstep mode.</li><li>In
the Top viewport, select all footsteps except the first one, footstep
0.<span style="display:none"><a name="WS1a9193826455f5ff13cfd6e1136132a36f-7c02"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/ill/ill_biped_crowds_multiple_bip_footstep_select.png"></p>
</div>
</li><li>In
the Footstep Operations rollout, change the Bend parameter to 10.0.<p><span style="display:none"><a name="WS1a9193826455f5ff13cfd6e1136132a36f-7c01"></a></span>In the Top viewport, you can see the footsteps
bend subtly to the left. The biped updates to reflect the edited
footsteps.</p>
<p><span style="display:none"><a name="WS1a9193826455f5ff13cfd6e1136132a36f-7c00"></a></span>Now, you'll convert the edited footsteps back
to freeform animation and save the motion as a separate motion clip.</p>
</li></ol>



<!--OList--><span style="display:none"><a name="WS1a9193826455f5ff13cfd6e1136132a36f-7bff"></a></span>
<p class="list-intro"><span style="display:none"><a name="WS1a9193826455f5ff13cfd6e1136132a36f-7bfe"></a></span>Convert
footsteps to freeform animation:</p>
<ol type="1" start="1"><li>
<img src="./images/MED/3dsMaxTut/English/cs/genfoot.png"> Turn
off Footstep mode.</li><li>
<img src="./images/MED/3dsMaxTut/English/cs/gencon.png"> Click
Convert to open the Convert to Freeform dialog.<span style="display:none"><a name="WS1a9193826455f5ff13cfd6e1136132a36f-7bfd"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/dlg/dlg_biped_crowds_multiple_bip_convert2.png"></p>
</div>
</li><li>Make
sure that Generate a Keyframe per Frame is turned on, and click
OK.<p><span style="display:none"><a name="WS1a9193826455f5ff13cfd6e1136132a36f-7bfc"></a></span>The edited footstep motion is converted back
to freeform animation.</p>
</li><li>
<img src="./images/MED/3dsMaxTut/English/cs/gensave.png"> In the
Biped rollout, click Save File, and save the motion clip as <em class="mild">my_panda_walk_L10.bip</em>.</li></ol>




<!--OList--><span style="display:none"><a name="WS1a9193826455f5ff13cfd6e1136132a36f-7bfb"></a></span>
<p class="list-intro"><span style="display:none"><a name="WS1a9193826455f5ff13cfd6e1136132a36f-7bfa"></a></span>Modify
the motion flow network:</p>
<p><span style="display:none"><a name="WS1a9193826455f5ff13cfd6e1136132a36f-7bf9"></a></span>Next, you'll modify the motion flow network
by adding the new moderate turn motion. You'll then create additional
transitions between the new clips and the existing clips. </p>
<ol type="1" start="1"><li>Re-open
the file <em class="mild">my_biped_crowds04.max</em> that you
created in the previous lesson, or open <em class="mild">tut_biped_crowds04.max</em>.</li><li>Select
any part of any biped.</li><li>
<img src="./images/MED/3dsMaxTut/English/but/b_motionflowmode.png">  Open
the Motion panel. On the Biped rollout, make sure that Motion Flow
Mode is turned on.</li><li>
<img src="./images/MED/3dsMaxTut/English/cs/mofldia.png"> On the
Motion Flow rollout, click Show Graph.</li><li>
<img src="./images/MED/3dsMaxTut/English/but/but_moflowgraph_create_clip.png"> On the
Motion Flow Graph toolbar, click Create Clip. Click in an empty
place near the bottom of the graph to place an empty clip. Right-click
an empty part of the graph to turn off Create Clip mode.<span style="display:none"><a name="WS1a9193826455f5ff13cfd6e1136132a36f-7bf8"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/dlg/dlg_biped_crowds_multiple_bip_motion_flow_new_clip.png"></p>
</div>
</li><li>Right-click
the new clip in the graph. The Edit Clip dialog opens.</li><li> In
the Edit Clip dialog, click on Browse and open the <em class="mild">panda_walk_L10.bip</em> motion
file. Click OK to close the Edit Clip dialog.<span style="display:none"><a name="WS1a9193826455f5ff13cfd6e1136132a36f-7bf7"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/dlg/dlg_biped_crowds_multiple_bip_edit_clip.png"></p>
</div>
</li><li>
<img src="./images/MED/3dsMaxTut/English/but/but_moflowgraph_create_all_transitions.png"> Draw
a selection region around all clips and transitions to select them,
and click Create All Transitions in the Motion Flow Graph toolbar.
Click Yes on the dialog that appears.<p><span style="display:none"><a name="WS1a9193826455f5ff13cfd6e1136132a36f-7bf6"></a></span>Transitions are created between the new clip
and all other existing clips.</p>
</li><li>
<img src="./images/MED/3dsMaxTut/English/cs/moflsav.png"> In the
Motion Flow rollout, click the Save File button. Save the motion
flow network as <em class="mild">my_panda_crowd_multiple.mfe</em>. Close
the Motion Flow Graph.</li><li>Select
the Crowd object, go into the Modify panel, and solve the simulation
again.<p><span style="display:none"><a name="WS1a9193826455f5ff13cfd6e1136132a36f-7bf5"></a></span>The new motion clip is integrated into the crowd motion.</p>
</li></ol>










<p><span style="display:none"><a name="WS1a9193826455f5ff13cfd6e1136132a36f-7bf4"></a></span>Save your work as <em class="mild">my_biped_crowds05.max</em>
</p>
<p><span style="display:none"><a name="WS1a9193826455f5ff13cfd6e1136132a36f-7bf3"></a></span>In your work with the panda crowd simulation,
you might have noticed that the baby pandas don't walk properly.
This sometimes occurs when clips made for a specific biped (such
these clips, which were made for the father panda) are used with
a different-sized biped.</p>
<p><span style="display:none"><a name="WS1a9193826455f5ff13cfd6e1136132a36f-7bf2"></a></span>You can solve this problem by loading each motion
clip onto the baby panda, and working with the motion to make it
work for that biped. You would then create a new motion flow network
with the new clips, and apply it to the baby pandas in the crowd
scene.</p>
<p><span style="display:none"><a name="WS1a9193826455f5ff13cfd6e1136132a36f-7bf1"></a></span>When working with the motion clips, you might
have to deactivate footsteps and create new keys for them. If you
create new keys for the footsteps, you will lose the arm motion
currently in the clip. To keep the arm motion, copy the biped arm
motion to a track before working with footsteps, then paste the
arm tracks back to the biped before saving the BIP file.</p>
<p><span style="display:none"><a name="WS1a9193826455f5ff13cfd6e1136132a36f-7bf0"></a></span>To see another version of the crowd simulation
that uses different clips and a new motion flow network for the
baby pandas, load the file <em class="mild">tut_biped_crowds06.max</em>.</p>
<div class="section"><span style="display:none"><a name="WS1a9193826455f5ff13cfd6e1136132a36f-7bef"></a></span>
<p class="section_title_h1"><a name="TOC_ENTRY__d0e44987"></a>Next</p>
<p><span style="display:none"><a name="WS1a9193826455f5ff13cfd6e1136132a36f-7bee"></a></span>
<span class="hypertext">
<span class="char_link"><a href="WSf742dab041063133fb5604511363e4556c-7fe7.htm"><!--Reference = WSf742dab041063133fb5604511363e4556c-7fe7; Target topic = WSf742dab041063133fb5604511363e4556c-7fe7.htm-->Troubleshooting the Simulation</a></span>
</span>
</p>
</div>

<!----><div class="footer-block"><a href="javascript:doComments('./html/ac.cmtdialog.htm');"><span class="comments-link">Please send us your comment about this page</span></a></div><br></body></html>
