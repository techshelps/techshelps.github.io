<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=iso8859-1">
   <title>Creating Particle Motion</title><link rel="stylesheet" type="text/css" href="./style/cpm.css"><link rel="stylesheet" type="text/css" href="./style/isd.css"><link rel="stylesheet" type="text/css" href="./style/commons.css"><link rel="stylesheet" type="text/css" href="./style/contents.css"><link rel="stylesheet" type="text/css" href="./style/header.css"><link rel="stylesheet" type="text/css" href="./style/indexes.css"><link rel="stylesheet" type="text/css" href="./style/search.css"><link rel="stylesheet" type="text/css" href="./style/med.css"><script type="text/javascript" src="./scripts/ac.strings.js"></script><script type="text/javascript" src="./ac_common.js"></script><script type="text/javascript" src="./scripts/acmap.js"></script><script type="text/javascript" src="./scripts/ac.acad_ak.js"></script><script type="text/javascript" src="./scripts/index-processing.js"></script><script type="text/javascript" src="./scripts/search-processing.js"></script><script type="text/javascript" src="./scripts/toc-processing.js"></script><script type="text/javascript" src="./scripts/highlight.js"></script><script type="text/javascript" src="./scripts/favorites.js"></script><script type="text/javascript" src="./scripts/commons-processing.js"></script><script language="javascript">
            function hideInfo() {
                info = document.getElementById('infoline');
                info.innerHTML = ' ';
                info.style.visibility = 'hidden';
            }
            function showInfo(title) {
                info = document.getElementById('infoline');
                info.innerHTML = title;
                info.style.visibility='visible';
            }
        </script><meta name="description" content="Creating Particle Motion"><meta name="keywords" content=""><meta name="topic-type" content="concept"></head><body><!--
							Name = Topic;
							Class =  CPM-Topic ISD-Topic ;
							Url = WSf742dab041063133fb5604511363e4556c-7fe4.htm--><div class="head"><div class="head-block"><div class="nav-group"><!--browse buttons--><div class="browse"><nobr><!--No Additional browse buttons are defined--><div id="prevTitle" style="display:none">Setting Up the Particle System</div><a href="WSf742dab041063133fb5604511363e4556c-7fe5.htm" class="headNavLink" onmouseover="showInfo(document.getElementById('prevTitle').innerHTML);" onmouseout="hideInfo();"><img src="./images/nav-prev-xp.gif" border="0"></a><div id="parentTitle" style="display:none">Visualizing Flow Through Tubes</div><a href="WSf742dab041063133fb5604511363e4556c-7fe6.htm" class="headNavLink" onmouseover="showInfo(document.getElementById('parentTitle').innerHTML);" onmouseout="hideInfo();"><img src="./images/nav-up-xp.gif" border="0"></a><div id="nextTitle" style="display:none">Creating Branching Paths</div><a href="WSf742dab041063133fb5604511363e4556c-7fe3.htm" class="headNavLink" onmouseover="showInfo(document.getElementById('nextTitle').innerHTML);" onmouseout="hideInfo();"><img src="./images/nav-next-xp.gif" border="0"></a></nobr></div><!--end browse buttons--></div><div class="button-info"><span id="infoline">&nbsp;</span></div><div class="ancestry"><a href="welcome.htm">Autodesk 3ds Max Tutorials</a>&nbsp;&gt;&nbsp;<a href="WS73099cc142f4875514c01ac112a7acef16-73a2.htm">Special Effects</a>&nbsp;&gt;&nbsp;<a href="WSf742dab04106313315bef0fb112a19e466a-7fff.htm">Particle Animation Tutorials</a>&nbsp;&gt;&nbsp;<a href="WSf742dab04106313315bef0fb112a19e466a-7ffb.htm">Working with Particle Flow</a>&nbsp;&gt;&nbsp;<a href="WSf742dab041063133fb5604511363e4556c-7fe6.htm">Visualizing Flow Through Tubes</a>&nbsp;&gt;&nbsp;</div><div class="head-text"><span>Creating Particle Motion</span></div></div></div><div class="head-margin">&nbsp;</div><div style="line-height: 0pt">&nbsp;</div><div class="head-margin">&nbsp;</div><span style="display:none"><a name="WSf742dab041063133fb5604511363e4556c-7fe4"></a></span>

<!--Body-->
<!--OList--><span style="display:none"><a name="WS1a9193826455f5ff13cfd6e1136132a36f-7ba4"></a></span>
<p class="list-intro"><span style="display:none"><a name="WS1a9193826455f5ff13cfd6e1136132a36f-7ba3"></a></span>Create
particle motion:</p>
<p><span style="display:none"><a name="WS1a9193826455f5ff13cfd6e1136132a36f-7ba2"></a></span>In this procedure you&#8217;ll use the Speed By Icon
operator and a Path constraint to define the motion of particles
along a spline through the main tube.</p>
<p><span style="display:none"><a name="WS1a9193826455f5ff13cfd6e1136132a36f-7ba1"></a></span>Within an event, a Speed-type operator (Speed,
Speed By Icon, Speed By Surface) can give particles velocity: that
is, speed and direction. Moving particles along a specific path
can be difficult, but luckily there&#8217;s a convenient method within
Particle Flow. Using the Speed By Icon operator, you can define
motion along a path that the particles can follow with a variety
of controls.</p>
<ol type="1" start="1"><li>Continue
from the previous lesson or load the file <span class="filePath">VizGasFlow_create_motion.max </span>from
the <em class="mild">\tutorials\mech_design</em> folder.
Open Particle View if necessary.</li><li>In
the Emit Particles event, right-click and choose Append &gt; Operator
&gt; Speed By Icon.<p><span style="display:none"><a name="WS1a9193826455f5ff13cfd6e1136132a36f-7ba0"></a></span>This adds a Speed By Icon operator to the bottom
of the event.</p>
<span style="display:none"><a name="WS1a9193826455f5ff13cfd6e1136132a36f-7b9f"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/ill/ill_tut_vizflow11.png"></p>
</div>
<p><span style="display:none"><a name="WS1a9193826455f5ff13cfd6e1136132a36f-7b9e"></a></span>This also automatically creates a new object
in your scene at the world origin (0,0,0): a helper object named <em class="mild">Speed
By Icon 01</em>. If you animate this icon, the particles can
inherit its motion.</p>
<span style="display:none"><a name="WS1a9193826455f5ff13cfd6e1136132a36f-7b9d"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/ill/ill_tut_vizflow12.png"></p>
<p></p><p class="figure-title">The Speed By Icon helper object appears at
the world origin.</p>
</div>
</li><li>Press <em class="strong">H</em> to
open the Select From Scene dialog, choose the Speed By Icon helper
object, then from the 3ds Max main menu, choose Animation &gt;
Constraints &gt; Path Constraint.<p><span style="display:none"><a name="WS1a9193826455f5ff13cfd6e1136132a36f-7b9c"></a></span>If you move the mouse in the viewport, you can
see a rubber-band dashed line connecting the icon to the mouse cursor.
The software is requesting a path (spline) to follow.</p>
</li><li>In
the viewport, click the spline running through the center of the
main tube (PathMain), or press <em class="strong">H</em> and then double-click
PathMain.</li><li>On
the Motion panel, which opened when you applied the Path constraint,
find the Path Parameters rollout. Turn on Follow, and then, in the
Axis group, choose the Z option.<span style="display:none"><a name="WS1a9193826455f5ff13cfd6e1136132a36f-7b9b"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/ill/ill_tut_vizflow13.png"></p>
</div>
<p><span style="display:none"><a name="WS1a9193826455f5ff13cfd6e1136132a36f-7b9a"></a></span>The Speed By Icon 01 icon is now constrained
to the PathMain spline over the course of the animation and is oriented
perpendicular to the spline. If you play the animation at this point
you&#8217;ll see that the particles explicitly follow the Speed By Icon
01 helper object.</p>
<span style="display:none"><a name="WS1a9193826455f5ff13cfd6e1136132a36f-7b99"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/ill/ill_tut_vizflow14.png"></p>
</div>
</li><li>Rename
the Speed By Icon 01 helper <em class="strong">Icon Main</em> for
easier reference.</li><li>In
Particle View, click the Speed By Icon operator (named Icon Main),
then in the parameters panel Icon Animation group, make sure Event
Duration is active.<span style="display:none"><a name="WS1a9193826455f5ff13cfd6e1136132a36f-7b98"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/ill/ill_tut_vizflow15.png"></p>
</div>
<p><span style="display:none"><a name="WS1a9193826455f5ff13cfd6e1136132a36f-7b97"></a></span>This will allow the particles to reference the
animation of the icon regardless of when they were emitted, as long
as they are still contained within the Emit Particles event.</p>
</li></ol>







<!--OList--><span style="display:none"><a name="WS1a9193826455f5ff13cfd6e1136132a36f-7b96"></a></span>
<p class="list-intro"><span style="display:none"><a name="WS1a9193826455f5ff13cfd6e1136132a36f-7b95"></a></span>Turn
the particles into arrows:</p>
<p><span style="display:none"><a name="WS1a9193826455f5ff13cfd6e1136132a36f-7b94"></a></span>In this procedure you&#8217;ll use the Shape Instance
and Display operators to cause the particles to appear in the scene
as arrow-shaped objects.</p>
<p><span style="display:none"><a name="WS1a9193826455f5ff13cfd6e1136132a36f-7b93"></a></span>The flow currently contains Render and Display
operators, but there isn&#8217;t any geometry assigned to the particles.
The particles appear in the viewports as arbitrary shapes, but they
don&#8217;t render at all. You can use the Display operator to change
the way in which particles appear.</p>
<ol type="1" start="1"><li>Click
the Display operator and change Type to Geometry.<span style="display:none"><a name="WS1a9193826455f5ff13cfd6e1136132a36f-7b92"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/ill/ill_tut_vizflow16.png"></p>
</div>
<p><span style="display:none"><a name="WS1a9193826455f5ff13cfd6e1136132a36f-7b91"></a></span>The particles now appear as X shapes. Particle
Flow uses this display method to indicate an error when it is trying
to display particles as geometry, but there is no geometry to display.
To resolve this, you'll define the geometry for particles that are
in the Emit Particles event.</p>
</li><li>From
the depot, drag a Shape Instance operator into the Emit Particles
event. You can place it anywhere in the event, but be sure to drop it
when the blue line appears; if you drop it when a red line appears,
you'll replace the action under the mouse cursor.<span style="display:none"><a name="WS1a9193826455f5ff13cfd6e1136132a36f-7b90"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/ill/ill_tut_vizflow17.png"></p>
</div>
<p><span style="display:none"><a name="WS1a9193826455f5ff13cfd6e1136132a36f-7b8f"></a></span>The Shape Instance operator lets you use mesh
objects in your scene as particles. With the non-event-driven particle
systems such as PArray, you can only use one object at a time, but
Shape Instance enables more flexibility by letting you assign groups
of objects and cycle through them as particles are emitted.</p>
</li><li>Click
the Shape Instance operator in the Emit Particles event, click the
Particle Geometry Object button (currently labeled &#8220;None&#8221;), and select
the ArrowMesh object in the scene.<p><span style="display:none"><a name="WS1a9193826455f5ff13cfd6e1136132a36f-7b8e"></a></span>The name &#8220;ArrowMesh&#8221; appears on the button.</p>
<span style="display:none"><a name="WS1a9193826455f5ff13cfd6e1136132a36f-7b8d"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/ill/ill_tut_vizflow18.png"></p>
</div>
<p><span style="display:none"><a name="WS1a9193826455f5ff13cfd6e1136132a36f-7b8c"></a></span>You&#8217;ve now defined the ArrowMesh object to be
the geometry all particles will use within the Emit Particles event.
Because you previously set the Display operator to Geometry, you
should now see ArrowMesh particles when you play the animation.
They&#8217;re too big and not aligned properly, but both conditions are
easy to fix.</p>
<p><span style="display:none"><a name="WS1a9193826455f5ff13cfd6e1136132a36f-7b8b"></a></span>To make the particles smaller, you could assign
a Scale operator, or you could just scale the ArrowMesh object itself,
but Shape Instance includes some scaling options to save you a step.</p>
</li><li>In
the Shape Instance 01 operator parameters, make sure the Scale check
box is on, then set Scale % to <em class="strong">25.0</em>.<span style="display:none"><a name="WS1a9193826455f5ff13cfd6e1136132a36f-7b8a"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/ill/ill_tut_vizflow19.png"></p>
</div>
<p><span style="display:none"><a name="WS1a9193826455f5ff13cfd6e1136132a36f-7b89"></a></span>Now the arrows are smaller and fit within the
tube without crowding.</p>
<span style="display:none"><a name="WS1a9193826455f5ff13cfd6e1136132a36f-7b88"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/ill/ill_tut_vizflow20.png"></p>
</div>
<p><span style="display:none"><a name="WS1a9193826455f5ff13cfd6e1136132a36f-7b87"></a></span>Next, you'll adjust the arrows' alignment.</p>
</li><li>Right-click
the Emit Particles event and choose Append &gt; Operator &gt; Rotation
from the menu.<p><span style="display:none"><a name="WS1a9193826455f5ff13cfd6e1136132a36f-7b86"></a></span>This adds a Rotation operator to the bottom
of the Emit Particles event that you can use to specify the orientation
of particles in the event.</p>
</li><li>Click
the Rotation operator, change the Orientation Matrix setting to
Speed Space Follow, and then set the X value to <em class="strong">90.0</em>.<span style="display:none"><a name="WS1a9193826455f5ff13cfd6e1136132a36f-7b85"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/ill/ill_tut_vizflow21.png"></p>
</div>
<p><span style="display:none"><a name="WS1a9193826455f5ff13cfd6e1136132a36f-7b84"></a></span>This forces the particles to constantly orient
themselves in the direction they are traveling. Particle Flow provides
two Speed Space methods: Speed Space sets the orientation once,
when each particle first enters the event, while Speed Space Follow
continually adjusts the orientation as particles move through the
scene. By default, the three axis values are set to 0.0. However,
because the ArrowMesh object is pointing along the X axis, it&#8217;s
necessary to tell the Rotation operator to rotate particles 90 degrees
about the X axis.</p>
<p><span style="display:none"><a name="WS1a9193826455f5ff13cfd6e1136132a36f-7b83"></a></span>If you play the animation now, you should see
the arrows moving correctly along the PathMain spline.</p>
<p><span style="display:none"><a name="WS1a9193826455f5ff13cfd6e1136132a36f-7b82"></a></span>Next you'll set up tests that will cause some
particles to branch off along the other splines.</p>
</li></ol>






<div class="section"><span style="display:none"><a name="WS1a9193826455f5ff13cfd6e1136132a36f-7b81"></a></span>
<p class="section_title_h1"><a name="TOC_ENTRY__d0e83042"></a>Next</p>
<p><span style="display:none"><a name="WS1a9193826455f5ff13cfd6e1136132a36f-7b80"></a></span>
<span class="hypertext">
<span class="char_link"><a href="WSf742dab041063133fb5604511363e4556c-7fe3.htm"><!--Reference = WSf742dab041063133fb5604511363e4556c-7fe3; Target topic = WSf742dab041063133fb5604511363e4556c-7fe3.htm-->Creating Branching Paths</a></span>
</span>
</p>
</div>

<!----><div class="footer-block"><a href="javascript:doComments('./html/ac.cmtdialog.htm');"><span class="comments-link">Please send us your comment about this page</span></a></div><br></body><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-1');</script></html>
