<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=iso8859-1">
   <title>Animating the Falling Sand</title><link rel="stylesheet" type="text/css" href="./style/cpm.css"><link rel="stylesheet" type="text/css" href="./style/isd.css"><link rel="stylesheet" type="text/css" href="./style/commons.css"><link rel="stylesheet" type="text/css" href="./style/contents.css"><link rel="stylesheet" type="text/css" href="./style/header.css"><link rel="stylesheet" type="text/css" href="./style/indexes.css"><link rel="stylesheet" type="text/css" href="./style/search.css"><link rel="stylesheet" type="text/css" href="./style/med.css"><script type="text/javascript" src="./scripts/ac.strings.js"></script><script type="text/javascript" src="./ac_common.js"></script><script type="text/javascript" src="./scripts/acmap.js"></script><script type="text/javascript" src="./scripts/ac.acad_ak.js"></script><script type="text/javascript" src="./scripts/index-processing.js"></script><script type="text/javascript" src="./scripts/search-processing.js"></script><script type="text/javascript" src="./scripts/toc-processing.js"></script><script type="text/javascript" src="./scripts/highlight.js"></script><script type="text/javascript" src="./scripts/favorites.js"></script><script type="text/javascript" src="./scripts/commons-processing.js"></script><script language="javascript">
            function hideInfo() {
                info = document.getElementById('infoline');
                info.innerHTML = ' ';
                info.style.visibility = 'hidden';
            }
            function showInfo(title) {
                info = document.getElementById('infoline');
                info.innerHTML = title;
                info.style.visibility='visible';
            }
        </script><meta name="description" content="Animating the Falling Sand"><meta name="keywords" content=""><meta name="topic-type" content="concept"></head><body><!--
							Name = Topic;
							Class =  CPM-Topic ISD-Topic ;
							Url = WSf742dab041063133-62b9306f112a19e40dd-7fea.htm--><div class="head"><div class="head-block"><div class="nav-group"><!--browse buttons--><div class="browse"><nobr><!--No Additional browse buttons are defined--><div id="prevTitle" style="display:none">Animating the Sand Level with Slice Modifiers</div><a href="WSf742dab041063133-62b9306f112a19e40dd-7feb.htm" class="headNavLink" onmouseover="showInfo(document.getElementById('prevTitle').innerHTML);" onmouseout="hideInfo();"><img src="./images/nav-prev-xp.gif" border="0"></a><div id="parentTitle" style="display:none">Creating a Realistic Hourglass</div><a href="WSf742dab041063133-62b9306f112a19e40dd-7ff2.htm" class="headNavLink" onmouseover="showInfo(document.getElementById('parentTitle').innerHTML);" onmouseout="hideInfo();"><img src="./images/nav-up-xp.gif" border="0"></a><div id="nextTitle" style="display:none">Creating the Sand Build-Up</div><a href="WSf742dab041063133-62b9306f112a19e40dd-7fe9.htm" class="headNavLink" onmouseover="showInfo(document.getElementById('nextTitle').innerHTML);" onmouseout="hideInfo();"><img src="./images/nav-next-xp.gif" border="0"></a></nobr></div><!--end browse buttons--></div><div class="button-info"><span id="infoline">&nbsp;</span></div><div class="ancestry"><a href="welcome.htm">Autodesk 3ds Max Tutorials</a>&nbsp;&gt;&nbsp;<a href="WSf742dab041063133-62b9306f112a19e40dd-8000.htm">		Modeling Tutorials</a>&nbsp;&gt;&nbsp;<a href="WSf742dab041063133-62b9306f112a19e40dd-7ff2.htm">Creating a Realistic Hourglass</a>&nbsp;&gt;&nbsp;</div><div class="head-text"><span>Animating the Falling Sand</span></div></div></div><div class="head-margin">&nbsp;</div><div style="line-height: 0pt">&nbsp;</div><div class="head-margin">&nbsp;</div><span style="display:none"><a name="WSf742dab041063133-62b9306f112a19e40dd-7fea"></a></span>

<!--Body-->
<p><span style="display:none"><a name="WS73099cc142f4875513f8d121131880ab2f-6ada"></a></span>Particle systems create effects that would be
too laborious to make using geometry.</p>
<!--OList--><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-798d"></a></span>
<p class="list-intro"><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-798c"></a></span>Create
the particle system:</p>
<ol type="1" start="1"><li>Continue
from the previous lesson or open <span class="filePath">sands_of_time3.max</span> from
the <em class="mild">\tutorials\hourglass</em> directory.</li><li>Select
the <em class="mild">sand in upper globe</em> object in
the viewport. Make sure you see its name in the Name field, then
right-click and choose Hide Selection.<p><span style="display:none"><a name="WS73099cc142f4875513f8d121131880ab2f-6ad9"></a></span>This hides the sand.</p>
</li><li>On
the menu bar, choose Create &gt; Particles &gt; Snow.</li><li>In
an empty area of the Perspective viewport, click and drag outward
to create a Snow emitter.<p><span style="display:none"><a name="WS73099cc142f4875513f8d121131880ab2f-6ad8"></a></span>The emitter specifies where the particles are
generated.</p>
<span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-798b"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/ill/ill_tut_hrglass41.png"></p>
<p></p><p class="figure-title">Snow emitter</p>
</div>
</li><li>Play
the animation and watch the snow particles in the viewport.<span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-798a"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/ill/ill_tut_hrglass42.png"></p>
<p></p><p class="figure-title">Play the snow system animation.</p>
</div>
</li><li>
<img src="./images/MED/3dsMaxTut/English/but/but_move_max.png"> On the
toolbar, click the Select And Move button, and then enter in the
Coordinate Display:<!--UList--><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7989"></a></span>
<ul><li>X=<em class="strong">0</em>
</li></ul>

<!--UList--><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7988"></a></span>
<ul><li>Y=<em class="strong">0</em>
</li></ul>

<!--UList--><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7987"></a></span>
<ul><li>Z=<em class="strong">30</em>
</li></ul>

<div><span style="display:none"><a name="WS1a9193826455f5ffba22e1113c6c30c0eb59"></a></span><div class="note-tip"><span class="label">Tip</span>To
quickly set the X and Y axis coordinates to 0, right-click the spinner
arrows.</div></div>
<p><span style="display:none"><a name="WS73099cc142f4875513f8d121131880ab2f-6ad7"></a></span>The Snow emitter moves to the correct location
at the neck, separating the top and bottom chambers of the hourglass.</p>
</li><li>On
the Modify panel &gt; Parameters rollout, in the Emitter group, set
the Width and Length values of the emitter to <em class="strong">1.5</em>.<span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7986"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/ill/ill_tut_hrglass43.png"></p>
<p></p><p class="figure-title">Snow particle system falling through the neck</p>
</div>
</li></ol>







<!--OList--><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7985"></a></span>
<p class="list-intro"><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7984"></a></span>Create
space warps:</p>
<p><span style="display:none"><a name="WS73099cc142f4875513f8d121131880ab2f-6ad6"></a></span>You can use space warp objects to control the
particles in various ways. You'll create two different space warps:
Gravity and UDeflector. Gravity gives you better control over the
particles' downward motion, and UDeflector will prevent the particles
from passing through the bottom of the hourglass.</p>
<ol type="1" start="1"><li>On
the menu bar, choose Create &gt; Space Warps &gt; Forces &gt; Gravity.</li><li>In
an empty area of the viewport, click and drag outward to create
a Gravity space warp.<p><span style="display:none"><a name="WS73099cc142f4875513f8d121131880ab2f-6ad5"></a></span>The placement of the space warps is not important;
you can put them anywhere in the scene.</p>
</li><li>On
the menu bar, choose Create &gt; Space Warps &gt; Deflectors &gt; UDeflector.
In an empty area of the viewport, click and drag outward to create
a UDeflector.</li><li>In
the Basic Parameters rollout, in the Object-Based Deflector group,
click Pick Object, then in the viewport click the bottom plate (ChamferCyl02)
of the hourglass.</li><li>In
the Particle Bounce group, set Bounce to <em class="strong">0</em>. This lets
the particles &#8220;collect&#8221; on the UDeflector.</li><li>
<img src="./images/MED/3dsMaxTut/English/but/but_objsel_max.png"> Select the Snow emitter
in the viewport.</li><li>
<img src="./images/MED/3dsMaxTut/English/but/but_bind.png"> On the toolbar, click the
Bind To Space Warp button, and then drag from the Snow emitter to
the Gravity space warp.<span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7983"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/ill/ill_tut_hrglass44.png"></p>
<p></p><p class="figure-title">Binding
the Snow emitter to the Gravity space warp</p>
</div>
</li><li>Repeat
the process for the UDeflector, binding the Snow emitter to the
UDeflector.</li></ol>








<!--OList--><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7982"></a></span>
<p class="list-intro"><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7981"></a></span>Adjust
the appearance:</p>
<ol type="1" start="1"><li>
<img src="./images/MED/3dsMaxTut/English/but/but_play.png"> Click
the Play button to play the animation.<p><span style="display:none"><a name="WS73099cc142f4875513f8d121131880ab2f-6ad4"></a></span>You'll change the appearance of the snowflakes
so that they look like falling sand.</p>
</li><li>Stop
the animation. Select the Snow emitter in the Modify stack, then
in the Parameters rollout, enter these settings in the Particles
group: <!--UList--><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7980"></a></span>
<ul><li>Viewport
Count: <em class="strong">375</em>
</li></ul>

<!--UList--><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-797f"></a></span>
<ul><li>Render
Count <em class="strong">888</em>
</li></ul>

<!--UList--><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-797e"></a></span>
<ul><li>Flake Size:<em class="strong">0.8</em>
</li></ul>

<!--UList--><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-797d"></a></span>
<ul><li>Speed:<em class="strong">0.5</em>
</li></ul>

<!--UList--><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-797c"></a></span>
<ul><li>Variation:<em class="strong">0.5</em>
<div><span style="display:none"><a name="WS1a9193826455f5ffba22e1113c6c30c0eb5a"></a></span><div class="note-warning"><span class="label">Warning</span>In general, it is not a good idea to increase
the Viewport Count very much. This can seriously slow down 3ds Max.
If you do increase the Viewport Count, don't use the spinner to
do so. If you inadvertently set the spinner to a very high amount,
you could incur a long wait. Always enter the values using the keyboard
or number keys.</div></div>
</li></ul>

<p><span style="display:none"><a name="WS73099cc142f4875513f8d121131880ab2f-6ad3"></a></span>Next you'll make an adjustment in the Timing group.</p>
</li><li>In
the Timing group, turn off Constant. Set Life to <em class="strong">60</em> and
Birth Rate to <em class="strong">1.0</em>.<span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-797b"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/ill/ill_tut_hrglass45.png"></p>
<p></p><p class="figure-title">The snow is under control.</p>
</div>
</li></ol>



<!--OList--><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-797a"></a></span>
<p class="list-intro"><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7979"></a></span>Animate
the falling sand:</p>
<ol type="1" start="1"><li>
<img src="./images/MED/3dsMaxTut/English/but/but_assgnm.png"> With
the Snow emitter selected, open the Material Editor (if it isn't
already open), and select the Sand material, then click Assign Material
To Selection.</li><li>Right-click
the viewport and choose Unhide All, and then play the animation.<span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7978"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/ill/ill_tut_hrglass46.png"></p>
<p></p><p class="figure-title">Sand made from particles and animated Slice modifier</p>
</div>
<p><span style="display:none"><a name="WS73099cc142f4875513f8d121131880ab2f-6ad2"></a></span>To make the effect of the particles disappearing,
you'll animate the Birth Rate of the particles.</p>
</li><li>
<img src="./images/MED/3dsMaxTut/English/but/but_time_configuration_max.png"> In the
animation controls section, near the lower-right corner of the interface,
click the Time Configuration button. On the Time Configuration dialog,
in the Animation group, set Length to <em class="strong">120</em>. Click OK.</li><li>
<img src="./images/MED/3dsMaxTut/English/but/but_auto_key_on-2.png"> Click
the Auto Key button to activate it, then with the Snow emitter selected,
move the time slider to frame 102.<p><span style="display:none"><a name="WS73099cc142f4875513f8d121131880ab2f-6ad1"></a></span> In the Parameters rollout, change the Birth
Rate to <em class="strong">0.0</em>. This stops the particles
emitting at frame 102, since the birth will stop. </p>
<p><span style="display:none"><a name="WS73099cc142f4875513f8d121131880ab2f-6ad0"></a></span>The particles that were already emitted will
continue to fall.</p>
<p><span style="display:none"><a name="WS73099cc142f4875513f8d121131880ab2f-6acf"></a></span>Next you'll move backwards in time to where
the sand in the upper chamber is getting smaller and the stream
in the lower chamber needs to be stronger.</p>
</li><li>Move
the time slider to Frame 86, and set the Birth rate to <em class="strong">6.0</em>.<p><span style="display:none"><a name="WS73099cc142f4875513f8d121131880ab2f-6ace"></a></span>This ensures a solid fall of sand at this frame.</p>
</li><li>Move
backwards to Frame 78, and set the Birth rate to <em class="strong">5.9</em>.<p><span style="display:none"><a name="WS73099cc142f4875513f8d121131880ab2f-6acd"></a></span>This keeps the falling sand falling.</p>
</li><li>Move
backwards to Frame 15, and set the Birth rate to <em class="strong">6.9</em>
<p><span style="display:none"><a name="WS73099cc142f4875513f8d121131880ab2f-6acc"></a></span>This adds momentum to the falling sand.</p>
</li><li>Move
backwards to Frame 0, and set the Birth rate to <em class="strong">5.0.</em>
<p><span style="display:none"><a name="WS73099cc142f4875513f8d121131880ab2f-6acb"></a></span>This keyframe starts the fall of the sand while
the sand level drops in the upper chamber.</p>
</li><li>Move
the time slider forward in time to frame 106 and set the Birth rate
to <em class="strong">1</em>.<p><span style="display:none"><a name="WS73099cc142f4875513f8d121131880ab2f-6aca"></a></span>This will allow you to set a key at frame 106.
Once the key is set you'll change its values using the track bar
right-click menu.</p>
</li><li>On
the track bar, select the key at frame 106, right-click and choose
Snow01: Birth Rate from the list. </li><li>In
the Snow01 Birth Rate dialog, change the Value to <em class="strong">&#8211;52</em>
<span class="charspan-special"> and set the In and Out tangents to Smooth</span>.<div><span style="display:none"><a name="WS1a9193826455f5ffba22e1113c6c30c0eb5b"></a></span><div class="note-note"><span class="label">Note</span>The tangent settings, which determine the
relative motion immediately before and after the key, are represented
by the large graph buttons at the bottom of the dialog. These buttons
act as flyouts; click and hold on a button, and then drag to the
new setting. The Smooth tangents are shown in the following illustration.</div></div>
<span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7977"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/ill/ill_ptu1_snowkey.png"></p>
</div>
<p><span style="display:none"><a name="WS73099cc142f4875513f8d121131880ab2f-6ac9"></a></span>This works to end the stream of falling sand.</p>
</li><li>
<img src="./images/MED/3dsMaxTut/English/but/but_auto_key_off.png"> <img src="./images/MED/3dsMaxTut/English/but/but_play.png"> Turn
off the Auto Key button and then play the animation.<p><span style="display:none"><a name="WS73099cc142f4875513f8d121131880ab2f-6ac8"></a></span>The sand descends, the stream falls in concert
with the sand in the upper chamber.</p>
<span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7976"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/ill/ill_tut_hrglass47.png"></p>
<p></p><p class="figure-title">Sand
falling at frames 15, 86 and 120</p>
</div>
<p><span style="display:none"><a name="WS73099cc142f4875513f8d121131880ab2f-6ac7"></a></span>If you had any trouble, you can open <span class="filePath">sands_of_time4.max</span> to see the file
with the correct settings. It's easy to miss a step or make a mistake
and not get the correct results.</p>
</li><li>Save
your work as <em class="strong">MyHourglass6.max</em>. </li></ol>













<p><span style="display:none"><a name="WS73099cc142f4875513f8d121131880ab2f-6ac6"></a></span>Next you'll use an animated hemisphere to create
the sand building up in the bottom of the lower chamber.</p>
<div class="section"><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7975"></a></span>
<p class="section_title_h1"><a name="TOC_ENTRY__d0e7436"></a>Next</p>
<p><span style="display:none"><a name="WS73099cc142f4875513f8d121131880ab2f-6ac5"></a></span>
<span class="hypertext">
<span class="char_link"><a href="WSf742dab041063133-62b9306f112a19e40dd-7fe9.htm"><!--Reference = WSf742dab041063133-62b9306f112a19e40dd-7fe9; Target topic = WSf742dab041063133-62b9306f112a19e40dd-7fe9.htm-->Creating the Sand Build-Up</a></span>
</span>
</p>
</div>

<!----><div class="footer-block"><a href="javascript:doComments('./html/ac.cmtdialog.htm');"><span class="comments-link">Please send us your comment about this page</span></a></div><br></body><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script></html>
