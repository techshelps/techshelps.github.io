<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=iso8859-1">
   <title>Photons</title><link rel="stylesheet" type="text/css" href="./style/cpm.css"><link rel="stylesheet" type="text/css" href="./style/isd.css"><link rel="stylesheet" type="text/css" href="./style/commons.css"><link rel="stylesheet" type="text/css" href="./style/contents.css"><link rel="stylesheet" type="text/css" href="./style/header.css"><link rel="stylesheet" type="text/css" href="./style/indexes.css"><link rel="stylesheet" type="text/css" href="./style/search.css"><link rel="stylesheet" type="text/css" href="./style/med.css"><script type="text/javascript" src="./scripts/ac.strings.js"></script><script type="text/javascript" src="./ac_common.js"></script><script type="text/javascript" src="./scripts/acmap.js"></script><script type="text/javascript" src="./scripts/ac.acad_ak.js"></script><script type="text/javascript" src="./scripts/index-processing.js"></script><script type="text/javascript" src="./scripts/search-processing.js"></script><script type="text/javascript" src="./scripts/toc-processing.js"></script><script type="text/javascript" src="./scripts/highlight.js"></script><script type="text/javascript" src="./scripts/favorites.js"></script><script type="text/javascript" src="./scripts/commons-processing.js"></script><script language="javascript">
            function hideInfo() {
                info = document.getElementById('infoline');
                info.innerHTML = ' ';
                info.style.visibility = 'hidden';
            }
            function showInfo(title) {
                info = document.getElementById('infoline');
                info.innerHTML = title;
                info.style.visibility='visible';
            }
        </script><meta name="description" content="Photons"><meta name="keywords" content=""><meta name="topic-type" content="concept"></head><body><!--
							Name = Topic;
							Class =  CPM-Topic ISD-Topic ;
							Url = WSf742dab041063133-4ec56375112a19e3a55-7ff1.htm--><div class="head"><div class="head-block"><div class="nav-group"><!--browse buttons--><div class="browse"><nobr><!--No Additional browse buttons are defined--><div id="prevTitle" style="display:none">Final Gather and Ambient Occlusion</div><a href="WSf742dab041063133-4ec56375112a19e3a55-7ff2.htm" class="headNavLink" onmouseover="showInfo(document.getElementById('prevTitle').innerHTML);" onmouseout="hideInfo();"><img src="./images/nav-prev-xp.gif" border="0"></a><div id="parentTitle" style="display:none">Rendering with mental ray: Final Gather and Global Illumination</div><a href="WS73099cc142f4875514c01ac112a7acef16-7f05.htm" class="headNavLink" onmouseover="showInfo(document.getElementById('parentTitle').innerHTML);" onmouseout="hideInfo();"><img src="./images/nav-up-xp.gif" border="0"></a><div id="nextTitle" style="display:none">Photons and Final Gather</div><a href="WSf742dab041063133-4ec56375112a19e3a55-7ff0.htm" class="headNavLink" onmouseover="showInfo(document.getElementById('nextTitle').innerHTML);" onmouseout="hideInfo();"><img src="./images/nav-next-xp.gif" border="0"></a></nobr></div><!--end browse buttons--></div><div class="button-info"><span id="infoline">&nbsp;</span></div><div class="ancestry"><a href="welcome.htm">Autodesk 3ds Max Tutorials</a>&nbsp;&gt;&nbsp;<a href="WS73099cc142f4875514c01ac112a7acef16-8000.htm">Lighting and Rendering</a>&nbsp;&gt;&nbsp;<a href="WS73099cc142f4875514c01ac112a7acef16-7f05.htm">Rendering with mental ray: Final Gather and Global
Illumination</a>&nbsp;&gt;&nbsp;</div><div class="head-text"><span>Photons</span></div></div></div><div class="head-margin">&nbsp;</div><div style="line-height: 0pt">&nbsp;</div><div class="head-margin">&nbsp;</div><span style="display:none"><a name="WSf742dab041063133-4ec56375112a19e3a55-7ff1"></a></span>

<!--Body-->
<p><span style="display:none"><a name="WS1a9193826455f5ffba679e112c9ef5a71-1f60"></a></span>Using photons requires a certain degree of expertise,
which you'll gain in this lesson. In many cases, final gather and
final gather multibounce will suffice and be easier to control,
with good performance.</p>
<p><span style="display:none"><a name="WS1a9193826455f5ffba679e112c9ef5a71-1f5f"></a></span>Using photons without final gather rarely gives
better results or performance. Combining final gather with photons
can give a speedup of up to five times (see below).</p>
<div class="section"><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7eaf"></a></span>
<p class="section_title_h1"><a name="TOC_ENTRY__d0e73830"></a>When to use photons</p>
<p><span style="display:none"><a name="WS1a9193826455f5ffba679e112c9ef5a71-1f5e"></a></span>Use photons to distribute energy rapidly in
a scene. Photons can easily perform many bounces.</p>
<p><span style="display:none"><a name="WS1a9193826455f5ffba679e112c9ef5a71-1f5d"></a></span>When shouldn't you use photons? Photons don't
like to jump through a keyholes. Imagine a dark room that is lit
only through a keyhole.</p>
<p><span style="display:none"><a name="WS1a9193826455f5ffba679e112c9ef5a71-1f5c"></a></span>Use photons when a room is rather evenly lit,
in which case the photons can replace FG multibounces. Set Diffuse
Bounces to 1, and combine it with photons.</p>
</div>
<div class="section"><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7eae"></a></span>
<p class="section_title_h1"><a name="TOC_ENTRY__d0e73845"></a>Preconditions for using photons</p>
<p><span style="display:none"><a name="WS1a9193826455f5ffba679e112c9ef5a71-1f5b"></a></span>It is very important to use "physically correct"
lights with photons. If the photons shot by the lights do not match
the "direct light" shot by the lights, images will not look good.</p>
<p><span style="display:none"><a name="WS1a9193826455f5ffba679e112c9ef5a71-1f5a"></a></span>In 3ds Max, all lights in the Photometric
category do this automatically, whereas the standard lights are
not guaranteed to perform in the same way, automatically. This is
another reason for recommending that you mostly use FG. It works
with any light, no matter how "unphysical,&#8221; since it is concerned
only with the transport of light from surface to surface, not the transport
of light from the light to the surface.</p>
<p><span style="display:none"><a name="WS1a9193826455f5ffba679e112c9ef5a71-1f59"></a></span>Also note that the <a href="ms-its:3dsmax.chm::/WSf742dab041063133-7b9a88c4112a1ce8f13-7fdc.htm">mental ray Sky light</a> does
not shoot photons, which explains why the following renderings will
be darker compared with FG. Until it does, you can use blue tinted
photometric area lights in windows as a substitute, although we
will not do that here. Also, the color tint is different, as blue
light from the sky is missing, and most light (photons) from the
sun hit the wooden floor first, which adds a tint.</p>
<p><span style="display:none"><a name="WS1a9193826455f5ffba679e112c9ef5a71-1f58"></a></span>Regarding interior renderings with lights other
than sun/sky: If you plan to use photons, stick to the photometric
lights. If you plan to use only FG multibounce, any light will work.</p>
</div>
<div class="section"><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7ead"></a></span>
<p class="section_title_h1"><a name="TOC_ENTRY__d0e73869"></a>What are photons?</p>
<p><span style="display:none"><a name="WS1a9193826455f5ffba679e112c9ef5a71-1f57"></a></span>Photons in mental ray simulate real-world photons.
They're reflected by mirrors, refracted through glass, and scattered
on diffuse and glossy surfaces. The tutorial scene uses mostly diffuse
surfaces; the walls in the scene have a heavily diffuse material.
The sunlight that directly hits the wooden floor scatters into the
room, and photons continue to bounce from wall to wall, due to the
bright materials.</p>
<div><span style="display:none"><a name="WS1a9193826455f5ff662ffb11407b58d52-74ba"></a></span><div class="note-note"><span class="label">Note</span>For most scenes, using only photons is not
the best choice. For best results, combine photons and FG. The goal
of this section is to provide information required to understand
photons in depth. This serves as a good basis for later combining
photons with FG.</div></div>
<p><span style="display:none"><a name="WS1a9193826455f5ffba679e112c9ef5a71-1f56"></a></span>The following steps explain the usage of photons
in mental ray. First we show that we indeed have individual photons,
and then later we show how to get a smooth image.</p>
<!--OList--><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7eac"></a></span>
<ol type="1" start="1"><li>If
not continuing from the previous lesson, from the <em class="mild">\tutorials\mental_ray\</em> folder,
open the scene file <span class="filePath">fg+gi_start.max</span>.
Open the Render Scene dialog, and on the Render Scene dialog &gt;
Indirect Illumination panel, turn on Global Illumination (photons).</li><li>If
you're continuing from the previous lesson, on the Render Scene
dialog &gt; Indirect Illumination panel, turn off Enable Final Gather and
turn on Global Illumination (photons).<span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7eab"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/rol/rol_fg_gi_fg_off.png"></p>
<p></p><p class="figure-title">Enable Final Gather is off.</p>
</div>
<span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7eaa"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/rol/rol_fg_gi_gi_on.png"></p>
<p></p><p class="figure-title">Global Illumination (photons) is on.</p>
</div>
</li><li>Set
Maximum Num. Photons Per Sample to <em class="strong">2</em>, set Maximum
Sampling Radius to <em class="strong">10.0mm</em>, and make sure Light Properties
&gt; Average GI Photons Per Light is set to <em class="strong">10000</em>.<span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7ea9"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/il/il_photons_r001.png"></p>
</div>
<p><span style="display:none"><a name="WS1a9193826455f5ffba679e112c9ef5a71-1f55"></a></span>This image
shows the photons. In nature, areas that have a higher density of
photons are brighter. The major advantage of photons in mental ray
is that they simulate this natural phenomenon, including reflections
from metal and refraction through glass.</p>
<p><span style="display:none"><a name="WS1a9193826455f5ffba679e112c9ef5a71-1f54"></a></span>To get
from individual photons to a smooth image, increase the radius and
the number of photons looked up.</p>
</li><li>Set
Maximum Sampling Radius to <em class="strong">100mm</em> (0.1 meter).<span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7ea8"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/il/il_photons_r01.png"></p>
</div>
<p><span style="display:none"><a name="WS1a9193826455f5ffba679e112c9ef5a71-1f53"></a></span>The image
isn't smooth yet, but we have brightness nearly everywhere.</p>
</li><li>Increase
the radius even further:<span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7ea7"></a></span><table cellpadding="0" cellspacing="0" class="ruled"><colgroup><col style="width:2.213in"><col style="width:2.213in">
<tr class="RuledOddRow">
<td class="table-body">
<span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7ea6"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/il/il_photons_r02.png"></p>
<p></p><p class="figure-title">Maximum Sampling Radius=200.0mm (0.2m)</p>
</div>
</td>
<td class="table-body">
<span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7ea5"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/il/il_photons_r05.png"></p>
<p></p><p class="figure-title">Maximum Sampling Radius=500.0mm (0.5m)</p>
</div>
</td>
</tr>
</colgroup></table>
<p><span style="display:none"><a name="WS1a9193826455f5ffba679e112c9ef5a71-1f52"></a></span>Even with larger Radius settings (see preceding
illustrations), the image is nearly identical. Why? Because we need
more photons in the lookup. So far we've looked for only two photons,
but a medium-quality image needs around 100 photons in the lookup.
A high-quality image starts at 1,000 photons in the lookup. The
following renderings increase the number of photons looked up, keeping
the radius at 0.5 meter.</p>
</li><li>Set
Maximum Num. Photons Per Sample to <em class="strong">100</em> and render.<span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7ea2"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/il/il_photons_r05_100p.png"></p>
<p></p><p class="figure-title">100 (max.) photons per sample</p>
</div>
<p><span style="display:none"><a name="WS1a9193826455f5ffba679e112c9ef5a71-1f51"></a></span>This image
shows something to watch out for with photons: a light leak. Because
mental ray is looking up photons in a large radius (0.5 meters),
it might actually pick up some photons that have struck an object on
the other side of the wall! This is what causes the bright streak
in the far corner.</p>
<p><span style="display:none"><a name="WS1a9193826455f5ffba679e112c9ef5a71-1f50"></a></span>Otherwise,
this image is already quite good, and rendering time is fast. The
next step is to further increase the number of photons.</p>
</li><li>Set
Maximum Num. Photons Per Sample to <em class="strong">1000</em> and render.<span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7ea1"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/il/il_photons_r05_1000p.png"></p>
<p></p><p class="figure-title">1,000 (max.) photons per sample</p>
</div>
<p><span style="display:none"><a name="WS1a9193826455f5ffba679e112c9ef5a71-1f4f"></a></span>The image
is now smooth, but looks washed out.</p>
<p><span style="display:none"><a name="WS1a9193826455f5ffba679e112c9ef5a71-1f4e"></a></span>Further
increasing the number of photons to be looked up will not increase
image quality. We have a total of only 10,000 photons in the whole
scene. We simply do not find more than 1,000 photons inside a radius
of 0.5m. We could ask for a million, but we will not find more.
To find more one could increase the radius, to catch more photons.</p>
<p><span style="display:none"><a name="WS1a9193826455f5ffba679e112c9ef5a71-1f4d"></a></span>The image
with a radius of 0.5m and 1,000 photons to be looked up is smooth,
but lacks detail. How to add it?</p>
<p><span style="display:none"><a name="WS1a9193826455f5ffba679e112c9ef5a71-1f4c"></a></span>We can
suggest 2 1/2 strategies: The first is to shoot more photons into
the scene. This lets you reduce the radius again, resulting in increasingly
greater detail. We will describe this shortly with regard to the following
three images, with the intent to increase your understanding of photon
density versus image quality. The second strategy is to add final gather,
which is often the best solution. The additional &#8220;1/2&#8221; strategy
is to use photons for the overall light distribution, and ambient
occlusion for the detail.</p>
<p><span style="display:none"><a name="WS1a9193826455f5ffba679e112c9ef5a71-1f4b"></a></span>The silver
rule for photons is: Shoot four times more photons from the light
to decrease the radius by 2. This keeps roughly the same number
of photons inside the area covered by the radius.</p>
</li><li>Render
three images:<!--UList--><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7ea0"></a></span>
<ul><li>one
with Light Properties &gt; Average GI Photons per Light=<em class="strong">40000</em> at
radius <em class="strong">250mm</em> (0.25m)<span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7e9f"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/rol/rol_fg_gi_avg_photons_40k.png"></p>
</div>
</li></ul>

<!--UList--><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7e9e"></a></span>
<ul><li>one
with <em class="strong">160000</em> photons at radius <em class="strong">125mm</em> (0.125m)</li></ul>

<!--UList--><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7e9d"></a></span>
<ul><li>one
with <em class="strong">640000</em> photons at radius <em class="strong">70mm</em> (0.07m)</li></ul>

<span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7e9c"></a></span><table cellpadding="0" cellspacing="0" class="ruled"><colgroup><col style="width:2.213in"><col style="width:2.213in">
<tr class="RuledOddRow">
<td class="table-body">
<span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7e9b"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/il/il_photons_r025_1000p_40k.png"></p>
<p></p><p class="figure-title">radius 0.25m, 40k photons</p>
</div>
</td>
<td class="table-body">
<span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7e9a"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/il/il_photons_r0125_1000p_160k.png"></p>
<p></p><p class="figure-title">radius 0.125m, 160k photons</p>
</div>
</td>
</tr>
</colgroup></table>
<span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7e99"></a></span><table cellpadding="0" cellspacing="0" class="ruled"><colgroup><col style="width:2.213in">
<tr class="RuledOddRow">
<td class="table-body">
<span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7e98"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/il/il_photons_r007_1000p_640k.png"></p>
<p></p><p class="figure-title">radius 0.07m, 640k photons</p>
</div>
</td>
</tr>
</colgroup></table>
<p><span style="display:none"><a name="WS1a9193826455f5ffba679e112c9ef5a71-1f4a"></a></span>As the radius gets smaller, the light leak in
the rear corner on the right wall shrinks, and, in general, detail
returns. However, some low-frequency noise is visible.</p>
<p><span style="display:none"><a name="WS1a9193826455f5ffba679e112c9ef5a71-1f49"></a></span>This happens
primarily because when the radius is smaller we see more detail,
including more noise. This leads us to the golden rule for photons:
To reduce the radius by 2, shoot 4 x 1.4 times the number of photons,
and increase the number in the lookup by 1.4.</p>
<p><span style="display:none"><a name="WS1a9193826455f5ffba679e112c9ef5a71-1f48"></a></span> You can
save and reuse the photon map independent of geometry and image
size; doing so can dramatically speed up rendering for a camera
walkthrough. Here we save it to try different lookup options to resolve
the low-frequency noise. We run once with 2.5 million photons shot
from the light source and store it in the photon map file.</p>
</li><li>On
the Caustics And Global Illumination (GI) rollout, set Light Properties
&gt; Average GI Photons Per Light to <em class="strong">2500000</em>.<span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7e94"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/rol/rol_fg_gi_daylight_photons.png"></p>
</div>
</li><li>On
the Caustics And Global Illumination (GI) rollout, in the Photon
Map group, turn on Read/Write File and then click the ellipsis [...] button.
Specify a path and filename, and then render the scene. The render
should take a few minutes.<span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7e93"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/rol/rol_fg_gi_photon_map.png"></p>
</div>
<p><span style="display:none"><a name="WS1a9193826455f5ffba679e112c9ef5a71-1f47"></a></span>You can
use a saved photon map arbitrarily, even with a completely different
scene for artistic purposes. The photon-emission phase takes place
instantaneously with a saved photon map. When tuning lookup with
a large number of photons, using a photon map can save a great deal
of time.</p>
<p><span style="display:none"><a name="WS1a9193826455f5ffba679e112c9ef5a71-1f46"></a></span>To remove the low-frequency noise you can increase
the number of photons in the lookup; for example, to 10000. If the
rendering time doesn't go up, it means that there are not more photons
inside a 125mm radius. You then need to increase the radius a bit,
to get to a point where mental ray finds more photons again.</p>
<p><span style="display:none"><a name="WS1a9193826455f5ffba679e112c9ef5a71-1f45"></a></span>In this
image the low-frequency noise is gone, but the light leak remains.</p>
<span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7e92"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/il/il_photons_r007_10000p_2comma5M.png"></p>
<p></p><p class="figure-title">Maximum Sampling Radius=70.0mm</p>
</div>
<p><span style="display:none"><a name="WS1a9193826455f5ffba679e112c9ef5a71-1f44"></a></span>Here the
light leak is gone, but noise is visible.</p>
<span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7e91"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/il/il_photons_r003_10000p_2comma5M.png"></p>
<p></p><p class="figure-title">Maximum Sampling Radius=30.0mm</p>
</div>
<p><span style="display:none"><a name="WS1a9193826455f5ffba679e112c9ef5a71-1f43"></a></span>How to
resolve this? To remove the noise you could increase the radius,
but this also causes the light leak. An easy fix would be to place
a black object on the outside of the building so photons don't get
stored there. If this isn't suitable, you need more photons in the
lookup. A frequent misunderstanding is simply to increase the lookup,
for example to 20,000 instead of 10,000. This helps only if mental
ray indeed finds enough photons inside the radius. If not, you need
to shoot more from the light source.</p>
<p><span style="display:none"><a name="WS1a9193826455f5ffba679e112c9ef5a71-1f42"></a></span>The limit
to quality with photon maps is memory. For small radii, mental ray
needs many photons. Most 32-bit versions of Windows can access up
to two gigabytes of memory, while the extended version allows up
to three gigabytes. If you export an MI file to the standalone version
of mental ray, you can eliminate the application's (3ds Max)
memory footprint, thus making additional memory available to the
renderer.</p>
</li></ol>










</div>
<div class="section"><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7e90"></a></span>
<p class="section_title_h1"><a name="TOC_ENTRY__d0e74195"></a>Photon merging</p>
<p><span style="display:none"><a name="WS1a9193826455f5ffba679e112c9ef5a71-1f41"></a></span>Photon merging is a new feature in mental ray
3.5 that lets you create an optimized photon map, which enables
bringing more photons to dark areas of a scene. Photons inside a
given radius are merged, and thus consume less memory. Especially
bright areas have many photons close to each other, consuming a
lot of memory. Using merging in bright areas reduces memory requirements.
You can shoot many more photons before hitting memory limits. Typical
values can be 10 million to 50 million photons.</p>
<p><span style="display:none"><a name="WS1a9193826455f5ffba679e112c9ef5a71-1f40"></a></span>Use photon merging only when a larger number
of photons is required. This feature is intended primarily for advanced
users. The procedure is:</p>
<!--OList--><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7e8f"></a></span>
<ol type="1" start="1"><li>Set
the merge radius to 3-5 percent of the regular lookup radius.</li><li>Massively
increase the number of photons shot from light sources.</li></ol>


<p><span style="display:none"><a name="WS1a9193826455f5ffba679e112c9ef5a71-1f3f"></a></span>Using a merge radius larger than 5 percent typically
does not help. Shooting more photons from light sources is a must.
Merging alone solves memory. Shooting more photons improves quality.</p>
<!--UList--><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7e8e"></a></span>
<ul><li>As
an example of photon merging, we can use the current scene, which
has 2.5 million photons. Now try shooting 10 million. Turn on Merge
Nearby Photons and set the merge radius to <em class="strong">1.0mm</em>. The lookup
(Maximum Sampling) radius is <em class="strong">30.0mm</em>, as before.<span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7e8d"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/il/il_photons_r003_10000p_10M_merge1mm.png"></p>
<p></p><p class="figure-title">Merge radius=1.0mm</p>
</div>
<p><span style="display:none"><a name="WS1a9193826455f5ffba679e112c9ef5a71-1f3e"></a></span>The result
shows how you can achieve a new level of quality with merging. As
a bonus, you can save the merged photon map just like any other
photon map.</p>
<p><span style="display:none"><a name="WS1a9193826455f5ffba679e112c9ef5a71-1f3d"></a></span>The conclusion for photons is that they are
useful for distributing energy within a scene. Even a small number
of photons can provide beneficial overall illumination. However,
the Draft preset for final gather often does the same job more easily.
Photon maps can increase memory use and lookup time when details
are required.</p>
<p><span style="display:none"><a name="WS1a9193826455f5ffba679e112c9ef5a71-1f3c"></a></span>A better
alternative to get details is to combine photons and final gather.</p>
</li></ul>

</div>
<div class="section"><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7e8c"></a></span>
<p class="section_title_h1"><a name="TOC_ENTRY__d0e74248"></a>Next</p>
<p><span style="display:none"><a name="WS1a9193826455f5ffba679e112c9ef5a71-1f3b"></a></span>
<span class="hypertext">
<span class="char_link"><a href="WSf742dab041063133-4ec56375112a19e3a55-7ff0.htm"><!--Reference = WSf742dab041063133-4ec56375112a19e3a55-7ff0; Target topic = WSf742dab041063133-4ec56375112a19e3a55-7ff0.htm-->Photons and Final Gather</a></span>
</span>
</p>
</div>

<!----><div class="footer-block"><a href="javascript:doComments('./html/ac.cmtdialog.htm');"><span class="comments-link">Please send us your comment about this page</span></a></div><br></body><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script></html>
