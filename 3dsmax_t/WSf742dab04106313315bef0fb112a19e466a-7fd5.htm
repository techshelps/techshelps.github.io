<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=iso8859-1">
   <title>Using Rag Doll Constraints</title><link rel="stylesheet" type="text/css" href="./style/cpm.css"><link rel="stylesheet" type="text/css" href="./style/isd.css"><link rel="stylesheet" type="text/css" href="./style/commons.css"><link rel="stylesheet" type="text/css" href="./style/contents.css"><link rel="stylesheet" type="text/css" href="./style/header.css"><link rel="stylesheet" type="text/css" href="./style/indexes.css"><link rel="stylesheet" type="text/css" href="./style/search.css"><link rel="stylesheet" type="text/css" href="./style/med.css"><script type="text/javascript" src="./scripts/ac.strings.js"></script><script type="text/javascript" src="./ac_common.js"></script><script type="text/javascript" src="./scripts/acmap.js"></script><script type="text/javascript" src="./scripts/ac.acad_ak.js"></script><script type="text/javascript" src="./scripts/index-processing.js"></script><script type="text/javascript" src="./scripts/search-processing.js"></script><script type="text/javascript" src="./scripts/toc-processing.js"></script><script type="text/javascript" src="./scripts/highlight.js"></script><script type="text/javascript" src="./scripts/favorites.js"></script><script type="text/javascript" src="./scripts/commons-processing.js"></script><script language="javascript">
            function hideInfo() {
                info = document.getElementById('infoline');
                info.innerHTML = ' ';
                info.style.visibility = 'hidden';
            }
            function showInfo(title) {
                info = document.getElementById('infoline');
                info.innerHTML = title;
                info.style.visibility='visible';
            }
        </script><meta name="description" content="Using Rag Doll Constraints"><meta name="keywords" content="rag doll tutorial:rag doll constraints,"><meta name="topic-type" content="concept"></head><body><!--
							Name = Topic;
							Class =  CPM-Topic ISD-Topic ;
							Url = WSf742dab04106313315bef0fb112a19e466a-7fd5.htm--><div class="head"><div class="head-block"><div class="nav-group"><!--browse buttons--><div class="browse"><nobr><!--No Additional browse buttons are defined--><div id="prevTitle" style="display:none">Setting Up Knees, Elbows, Ankles and Wrists</div><a href="WSf742dab04106313315bef0fb112a19e466a-7fd6.htm" class="headNavLink" onmouseover="showInfo(document.getElementById('prevTitle').innerHTML);" onmouseout="hideInfo();"><img src="./images/nav-prev-xp.gif" border="0"></a><div id="parentTitle" style="display:none">Rag Doll Tutorial</div><a href="WS73099cc142f4875514c01ac112a7acef16-71bd.htm" class="headNavLink" onmouseover="showInfo(document.getElementById('parentTitle').innerHTML);" onmouseout="hideInfo();"><img src="./images/nav-up-xp.gif" border="0"></a><div id="nextTitle" style="display:none">Setting Up Hips, Back, Neck and Shoulders</div><a href="WSf742dab04106313315bef0fb112a19e466a-7fd4.htm" class="headNavLink" onmouseover="showInfo(document.getElementById('nextTitle').innerHTML);" onmouseout="hideInfo();"><img src="./images/nav-next-xp.gif" border="0"></a></nobr></div><!--end browse buttons--></div><div class="button-info"><span id="infoline">&nbsp;</span></div><div class="ancestry"><a href="welcome.htm">Autodesk 3ds Max Tutorials</a>&nbsp;&gt;&nbsp;<a href="WS73099cc142f4875514c01ac112a7acef16-73a2.htm">Special Effects</a>&nbsp;&gt;&nbsp;<a href="WS73099cc142f4875514c01ac112a7acef16-71bd.htm">Rag Doll Tutorial</a>&nbsp;&gt;&nbsp;</div><div class="head-text"><span>Using Rag Doll Constraints</span></div></div></div><div class="head-margin">&nbsp;</div><div style="line-height: 0pt">&nbsp;</div><div class="head-margin">&nbsp;</div><span style="display:none"><a name="WSf742dab04106313315bef0fb112a19e466a-7fd5"></a></span>

<!--Body-->
<p><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16118b"></a></span>
In
the previous lesson, you finished joining up the simpler bones in
the body. Now it's time to think about how to simulate joints such
as the hips or shoulders. These joints are more complex than the
knees or elbow, as they need to allow for rotation and they have
a range of motion of greater freedom than the hinge constraint provides.
To tackle these types of joints you will use <em class="strong">Rag Doll constraints</em>.</p>
<p><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16118c"></a></span>These are fairly complex, so this lesson will
serve as a brief overview. The following is a picture of two objects
connected by a Rag Doll constraint:</p>
<span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7176"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/ill/ill_ragdollaxesnumbers.png"></p>
<p class="figure-title">A. Twist Axis</p>
<p class="figure-title">B. Plane Axis</p>
<p class="figure-title">C. Twist x Plane Axis (outward)</p>
<p class="figure-title">1. Parent Body</p>
<p class="figure-title">2. Child Body</p>
</div>
<p><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16118d"></a></span>The Rag Doll constraint provides three axes
of importance: the <em class="strong">Twist Axis</em>, the <em class="strong">Plane Axis</em>,
and the <em class="strong">Twist x Plane Axis</em>. The twist
axis is probably the easiest to visualize and you can do so by simply stretching
out your arm and rotating it so that your thumb changes from pointing
upwards to downwards. Your movement is just a series of rotations along
the twist axis of the shoulder and elbow. In general, the twist
axis should follow the length of the child body in a joint. In reactor
you can specify how far on either side of neutral the constraint
can twist; this need not be symmetric.</p>
<span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7175"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/ill/ill_ragdolltwistnumbers.png"></p>
<p class="figure-title">A. Twist Axis</p>
<p class="figure-title">B. Plane Axis</p>
<p class="figure-title">C. Twist x Plane Axis (outward)</p>
<p class="figure-title">1. Twist Min.</p>
<p class="figure-title">2. Twist Max.</p>
<p class="figure-title">3. Twist Range</p>
</div>
<span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7174"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/ill/ill_ragdolltwistperspnumbers.png"></p>
<p class="figure-title">A. Twist Axis</p>
<p class="figure-title">B. Plane Axis</p>
<p class="figure-title">C. Twist x Plane Axis (outward)</p>
<p class="figure-title">1. Twist Range</p>
</div>
<p><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16118e"></a></span>The other two axes are interlinked and together
the control the allowed volume that the child body can occupy. So
first you'll have a look at the <em class="strong">cone</em> angles
that allow you to specify the volume that the child may move through:</p>
<span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7173"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/ill/ill_ragdollconeequalnumbers.png"></p>
<p class="figure-title">A. Twist Axis</p>
<p class="figure-title">B. Plane Axis</p>
<p class="figure-title">C. Twist x Plane Axis (outward)</p>
<p class="figure-title">1. Cone Min.</p>
<p class="figure-title">2. Cone Max.</p>
</div>
<span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7172"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/ill/ill_ragdollconeequalperspnumbers.png"></p>
<p class="figure-title">A. Twist Axis</p>
<p class="figure-title">B. Plane Axis</p>
<p class="figure-title">C. Twist x Plane Axis (outward)</p>
</div>
<p><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16118f"></a></span>If you imagine the constraint representing your
shoulder, the green volume is the range of allowed positions that
your upper arm may occupy. However, you can refine the allowed volume
further by using the plane axis to enforce <em class="strong">plane limits</em>.
These limits are used to generate two further cones:</p>
<span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7171"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/ill/ill_ragdollplanesabovenumbers.png"></p>
<p class="figure-title">A. Twist Axis</p>
<p class="figure-title">B. Plane Axis</p>
<p class="figure-title">C. Twist x Plane Axis (outward)</p>
<p class="figure-title">1. Plane</p>
<p class="figure-title">2. Plane Min. Cone</p>
<p class="figure-title">3. Plane Max. Cone</p>
<p class="figure-title">4. Plane Min.</p>
<p class="figure-title">5. Plane Max.</p>
</div>
<span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7170"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/ill/ill_ragdollplanesnumbers.png"></p>
<p class="figure-title">A. Twist Axis</p>
<p class="figure-title">B. Plane Axis</p>
<p class="figure-title">C. Twist x Plane Axis (outward)</p>
<p class="figure-title">1. Plane</p>
<p class="figure-title">2. Plane Min. Cone</p>
<p class="figure-title">3. Plane Max. Cone</p>
</div>
<p><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef161190"></a></span>This allows you to create two different scenarios;
one where the cones generated by the plane limits intersect with
cone produced by the cone angles and the one where they do not:</p>
<span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-716f"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/ill/ill_ragdollbigplaneconesnumbers.png"></p>
<p class="figure-title">A. Twist Axis</p>
<p class="figure-title">C. Twist x Plane Axis</p>
<p class="figure-title">1. Plane Min. Cone</p>
<p class="figure-title">2. Plane Max. Cone</p>
</div>
<span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-716e"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/ill/ill_ragdolllittleplanesandconenumbers.png"></p>
<p class="figure-title">A. Twist Axis</p>
<p class="figure-title">C. Twist x Plane Axis</p>
<p class="figure-title">1. Plane Min. Cone</p>
<p class="figure-title">2. Plane Max. Cone</p>
</div>
<p><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef161191"></a></span>If the volumes do not intersect, the plane limits
do not have any effect in the constraint; however, by allowing the
cones to intersect, and deeming the overlapping volume as invalid
body positions, you can limit the allowed positions for the child
body further still.</p>
<span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-716d"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/ill/ill_ragdollconelessbigplaneconesnumbers.png"></p>
<p class="figure-title">A. Twist Axis</p>
<p class="figure-title">B. Plane Axis</p>
<p class="figure-title">C. Twist x Plane Axis</p>
</div>
<p><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef161192"></a></span>These are the parameters that you will be adjusting
in reactor to tweak the behavior of the character. Hopefully this
brief overview will help clarify Rag Doll constraints a little for
you. </p>
<div class="section"><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-716c"></a></span>
<p class="section_title_h1"><a name="TOC_ENTRY__d0e89431"></a>Next</p>
<p><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef161193"></a></span>
<span class="hypertext">
<span class="char_link"><a href="WSf742dab04106313315bef0fb112a19e466a-7fd4.htm"><!--Reference = WSf742dab04106313315bef0fb112a19e466a-7fd4; Target topic = WSf742dab04106313315bef0fb112a19e466a-7fd4.htm-->Setting
Up Hips, Back, Neck and Shoulders</a></span>

</span>
</p>
</div>

<!----><div class="footer-block"><a href="javascript:doComments('./html/ac.cmtdialog.htm');"><span class="comments-link">Please send us your comment about this page</span></a></div><br></body></html>
