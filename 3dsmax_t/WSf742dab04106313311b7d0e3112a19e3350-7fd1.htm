<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=iso8859-1">
   <script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><TITLE>Using List Controllers</title><link rel="stylesheet" type="text/css" href="./style/cpm.css"><link rel="stylesheet" type="text/css" href="./style/isd.css"><link rel="stylesheet" type="text/css" href="./style/commons.css"><link rel="stylesheet" type="text/css" href="./style/contents.css"><link rel="stylesheet" type="text/css" href="./style/header.css"><link rel="stylesheet" type="text/css" href="./style/indexes.css"><link rel="stylesheet" type="text/css" href="./style/search.css"><link rel="stylesheet" type="text/css" href="./style/med.css"><script type="text/javascript" src="./scripts/ac.strings.js"></script><script type="text/javascript" src="./ac_common.js"></script><script type="text/javascript" src="./scripts/acmap.js"></script><script type="text/javascript" src="./scripts/ac.acad_ak.js"></script><script type="text/javascript" src="./scripts/index-processing.js"></script><script type="text/javascript" src="./scripts/search-processing.js"></script><script type="text/javascript" src="./scripts/toc-processing.js"></script><script type="text/javascript" src="./scripts/highlight.js"></script><script type="text/javascript" src="./scripts/favorites.js"></script><script type="text/javascript" src="./scripts/commons-processing.js"></script><script language="javascript">
            function hideInfo() {
                info = document.getElementById('infoline');
                info.innerHTML = ' ';
                info.style.visibility = 'hidden';
            }
            function showInfo(title) {
                info = document.getElementById('infoline');
                info.innerHTML = title;
                info.style.visibility='visible';
            }
        </script><meta name="description" content="Using List Controllers"><meta name="keywords" content="parameter wiring:character rig, wiring:character rig, custom attributes:character rig, rig:wiring, rotation list, list controller:character rigging, controller:character rigging, rig:animation controllers,"><meta name="topic-type" content="concept"></head><body><!--
							Name = Topic;
							Class =  CPM-Topic ISD-Topic ;
							Url = WSf742dab04106313311b7d0e3112a19e3350-7fd1.htm--><div class="head"><div class="head-block"><div class="nav-group"><!--browse buttons--><div class="browse"><nobr><!--No Additional browse buttons are defined--><div id="prevTitle" style="display:none">Wiring a Custom Attributeparameter wiring:character rig wiring:character rig custom attributes:character rig rig:wiring rig:custom attributes</div><a href="WSf742dab04106313311b7d0e3112a19e3350-7fd2.htm" class="headNavLink" onmouseover="showInfo(document.getElementById('prevTitle').innerHTML);" onmouseout="hideInfo();"><img src="./images/nav-prev-xp.gif" border="0"></a><div id="parentTitle" style="display:none">Introduction to Character Rigging</div><a href="WSf742dab04106313311b7d0e3112a19e3350-7fd6.htm" class="headNavLink" onmouseover="showInfo(document.getElementById('parentTitle').innerHTML);" onmouseout="hideInfo();"><img src="./images/nav-up-xp.gif" border="0"></a><div id="nextTitle" style="display:none">Skinningskinning skin modifier:character rigging rig:skin modifier</div><a href="WSf742dab04106313311b7d0e3112a19e3350-7fd0.htm" class="headNavLink" onmouseover="showInfo(document.getElementById('nextTitle').innerHTML);" onmouseout="hideInfo();"><img src="./images/nav-next-xp.gif" border="0"></a></nobr></div><!--end browse buttons--></div><div class="button-info"><span id="infoline">&nbsp;</span></div><div class="ancestry"><a href="welcome.htm">Autodesk 3ds Max Tutorials</a>&nbsp;&gt;&nbsp;<a href="WSf742dab04106313311b7d0e3112a19e3350-8000.htm">Character Animation Tutorials</a>&nbsp;&gt;&nbsp;<a href="WS73099cc142f4875514c01ac112a7acef16-6b04.htm">Character Animation without Biped</a>&nbsp;&gt;&nbsp;<a href="WSf742dab04106313311b7d0e3112a19e3350-7fd6.htm">Introduction to Character Rigging</a>&nbsp;&gt;&nbsp;</div><div class="head-text"><span>Using List Controllers</span></div></div></div><div class="head-margin">&nbsp;</div><div style="line-height: 0pt">&nbsp;</div><div class="head-margin">&nbsp;</div><span style="display:none"><a name="WSf742dab04106313311b7d0e3112a19e3350-7fd1"></a></span>

<!--Body-->
<p><span style="display:none"><a name="WS1a9193826455f5ffba679e112c9ef5a71-19c0"></a></span>When you create any object, including bones, default
controllers are placed on the object to control its position, rotation, and
scale.</p>
<p><span style="display:none"><a name="WS1a9193826455f5ffba679e112c9ef5a71-19bf"></a></span>For each transform, you can change the default
controller to a list controller. This type of controller allows
you to assign two or more controllers to the transform. The controllers
are evaluated from first to last, and their values are added up
to give the final transform value.</p>
<p><span style="display:none"><a name="WS1a9193826455f5ffba679e112c9ef5a71-19be"></a></span>When you assign a list controller to a transform,
the first controller on the list takes on the transform's current
XYZ values, and the next controller starts off with a value of [0,0,0].
Then you can make the second controller active, so any animation
will change the second controller's values only. </p>
<p><span style="display:none"><a name="WS1a9193826455f5ffba679e112c9ef5a71-19bd"></a></span>By assigning a list controller to the objects
in your scene, you effectively set their animation transforms to
[0,0,0] on the second controller regardless of how much you have
moved, rotated or scaled the objects up to that point. If you wire
parameters between two objects on the second controller, the transform
values will match, and one object's parameters will predictably
affect the other object's parameters.</p>
<p><span style="display:none"><a name="WS1a9193826455f5ffba679e112c9ef5a71-19bc"></a></span>In the case of a character rig, you have probably
rotated the bones and controls to fit them to the character. Wiring
the rotation of these objects to one another without using a list
controller will cause one object to take on the posed rotation of
another. For example, if you previously rotated a control shape
by 90 degrees on the X axis to make it fit the rig, then you wire
the control shape's X rotation to a bone's X rotation, the bone
will suddenly rotate by 90 degrees to match the wired parameter.
In such a case, you can use list controllers to cause both objects
to start from a 0 rotation, and ensure that the control object will
predictably affect the bone.</p>
<p><span style="display:none"><a name="WS1a9193826455f5ffba679e112c9ef5a71-19bb"></a></span>This lesson illustrates how you can use list
controllers in a character rig.</p>
<!--OList--><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-6a7a"></a></span>
<p class="list-intro"><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-6a79"></a></span>Prepare
the scene:</p>
<ol type="1" start="1"><li>Continue
from the previous lesson, or open the file <span class="filePath">tut_introrig_wired.max</span>.<span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-6a78"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/tut/tut_introrig_cont_start.png"></p>
</div>
</li><li>If
you are continuing from the previous lesson, go to frame 0.<p><span style="display:none"><a name="WS1a9193826455f5ffba679e112c9ef5a71-19ba"></a></span>Right now,
the control object <em class="mild">CtrlSpine</em> at the bottom of the
spine can be used to rotate the character's entire spine. But when
you twist your spine, your upper body rotates more than the lower
part. You will simulate this motion by causing the upper spine bone, <em class="mild">BoneSpine02,</em> to
rotate 1.5 times as much as <em class="mild">CtrlSpine</em> and <em class="mild">BoneSpine01</em>.</p>
<p><span style="display:none"><a name="WS1a9193826455f5ffba679e112c9ef5a71-19b9"></a></span>To achieve
this, you will wire the rotation of <em class="mild">BoneSpine02</em> directly
to <em class="mild">CtrlSpine</em>. When you rotate <em class="mild">CtrlSpine, BoneSpine02</em> will
rotate by the same amount due to its linkage to <em class="mild">BoneSpine01</em> and
an additional half of the rotation due to the wiring.</p>
</li></ol>


<!--OList--><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-6a77"></a></span>
<p class="list-intro"><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-6a76"></a></span>Align
the pivot points:</p>
<p><span style="display:none"><a name="WS1a9193826455f5ffba679e112c9ef5a71-19b8"></a></span>Before you can wire <em class="mild">BoneSpine02</em> to <em class="mild">CtrlSpine,</em> you
must make sure their pivot points are aligned. Later, when you wire
each rotation axis of <em class="mild">BoneSpine02</em> to <em class="mild">CtrlSpine,</em> you
will know that the rotation axes match.</p>
<ol type="1" start="1"><li>Select <em class="mild">CtrlSpine</em>.</li><li>
<img src="./images/MED/3dsMaxTut/English/tab/tab_hier.png"> On the
Hierarchy panel &gt; Pivot &gt; Adjust Pivot &gt; Move/Rotate/Scale
group, turn on Affect Pivot Only.</li><li>
<img src="./images/MED/3dsMaxTut/English/but/but_align_max.png"> Use
Align to align the <em class="mild">CtrlSpine</em> pivot point with the
pivot point of <em class="mild">BoneSpine02</em>. On the Align dialog,
choose Pivot Point for both the Current Object and Target Object.</li><li> Turn <em class="mild">off</em> X
Position, Y Position, and Z Position, then turn <em class="mild">on</em> X Axis, Y
Axis, and Z Axis in the Align Orientation group. Click OK.</li><li>Turn
off Affect Pivot Only.</li></ol>





<!--OList--><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-6a75"></a></span>
<p class="list-intro"><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-6a74"></a></span>Assign
a rotation list controller:</p>
<p><span style="display:none"><a name="WS1a9193826455f5ffba679e112c9ef5a71-19b7"></a></span>Now you will assign a Rotation List controller
to <em class="mild">CtrlSpine's</em> Rotation track.</p>
<ol type="1" start="1"><li>
<img src="./images/MED/3dsMaxTut/English/tab/tab_motion.png"> With <em class="mild">CtrlSpine</em> selected,
go to the Motion panel.</li><li>On
the Assign Controller rollout, highlight the Rotation: Euler XYZ
track.<p><span style="display:none"><a name="WS1a9193826455f5ffba679e112c9ef5a71-19b6"></a></span>Currently, the rotation track holds the default
rotation controller, Euler XYZ.</p>
</li><li>
<img src="./images/MED/3dsMaxTut/English/but/but_assigncontroller.png"> On the
Assign Controller rollout, click the Assign Controller button. Choose
Rotation List from the list of controllers, and click OK.</li><li>On
the Assign Controller rollout, expand the Rotation branch.<span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-6a73"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/tut/tut_introrig_cont_list.png"></p>
</div>
<p><span style="display:none"><a name="WS1a9193826455f5ffba679e112c9ef5a71-19b5"></a></span>The Rotation
controller branch now contains three items: Euler XYZ, Available,
and Weights. The Euler XYZ controller is the controller that was
previously on the Rotation track, and it holds any rotation applied
to the object up to this point. The Available controller is a placeholder
for any controllers you want to add to the list.</p>
</li><li>Highlight
the Available item.</li><li>
<img src="./images/MED/3dsMaxTut/English/but/but_assigncontroller.png"> Click
Assign Controller. Choose Euler XYZ from the list of controllers,
and click OK.<p><span style="display:none"><a name="WS1a9193826455f5ffba679e112c9ef5a71-19b4"></a></span>The Rotation List controller now shows two Euler
XYZ controllers.</p>
<span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-6a72"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/tut/tut_introrig_cont_list2.png"></p>
</div>
</li></ol>






<!--OList--><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-6a71"></a></span>
<p class="list-intro"><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-6a70"></a></span>Name
the controllers:</p>
<p><span style="display:none"><a name="WS1a9193826455f5ffba679e112c9ef5a71-19b3"></a></span>When you wire the second controller later on,
your work will be much easier if you give each of the controllers
a unique name now.</p>
<ol type="1" start="1"><li>On
the Rotation List rollout, highlight the first Euler XYZ listing under
Layers.</li><li>In
the entry area below the Layer listings, enter <em class="strong">InitialPose</em>.<p><span style="display:none"><a name="WS1a9193826455f5ffba679e112c9ef5a71-19b2"></a></span>The name
of the first Euler XYZ in the Layer listings changes to reflect
this new name. This controller holds the initial rotation for the object.</p>
</li><li>Highlight
the second controller in the Layer listing, and enter the name <em class="strong">Wiring</em>.<p><span style="display:none"><a name="WS1a9193826455f5ffba679e112c9ef5a71-19b1"></a></span>This is
the controller you will use for wiring.</p>
<p><span style="display:none"><a name="WS1a9193826455f5ffba679e112c9ef5a71-19b0"></a></span>When a
controller is active, a small arrow appears to its left in the Layer
listing. You will need to have the Wiring controller active when
you animate the scene.</p>
</li><li>On
the Rotation List rollout, click Set Active to make the Wiring controller
active.<div><span style="display:none"><a name="WS1a9193826455f5ff662ffb11407b58d52-7117"></a></span><div class="note-tip"><span class="label">Tip</span>You
can also double-click the controller in the Layer list to make it
active.</div></div>
</li></ol>




<!--OList--><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-6a6f"></a></span>
<p class="list-intro"><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-6a6e"></a></span>Assign
a list controller to the spine bone:</p>
<ol type="1" start="1"><li>Select <em class="mild">BoneSpine02</em>,
the highest spine bone.</li><li>On
the Motion panel, highlight the Rotation track, and click Assign
Controller. Choose the Rotation List controller from the list.</li><li>On
the Assign Controller rollout, expand the Rotation listing. Highlight
the Available listing, and assign a Euler XYZ controller to it.</li><li>In
the Rotation List rollout, name the two controllers <em class="strong">InitialPose</em> and <em class="strong">Wiring</em>.</li><li>Make
the controller named <em class="mild">Wiring</em> the active controller.</li><li>Save
the scene as <em class="strong">my_introrig_controllers.max</em>.<p><span style="display:none"><a name="WS1a9193826455f5ffba679e112c9ef5a71-19af"></a></span>You can
find a version of this scene in the file <span class="filePath">tut_introrig_controllers.max</span>.</p>
</li></ol>






<!--OList--><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-6a6d"></a></span>
<p class="list-intro"><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-6a6c"></a></span>Wire
the controllers together:</p>
<p><span style="display:none"><a name="WS1a9193826455f5ffba679e112c9ef5a71-19ae"></a></span>Now you can wire together the rotation axes
on each object's Wiring controller.</p>
<ol type="1" start="1"><li>Select <em class="mild">CtrlSpine</em>.</li><li>Right-click <em class="mild">CtrlSpine</em>,
and choose Wire Parameters. From the pop-up menu, choose Transform
&gt; Rotation &gt; Wiring &gt; X Rotation.</li><li>Click <em class="mild">BoneSpine02</em>,
and choose Transform &gt; Rotation &gt; Wiring &gt; X Rotation.</li><li>On
the Parameter Wiring dialog, enter <em class="strong">X_Rotation / 2</em> as
the expression.<p><span style="display:none"><a name="WS1a9193826455f5ffba679e112c9ef5a71-19ad"></a></span>This will add half of CtrlSpine's rotation to
BoneSpine02 on the X axis.</p>
</li><li>Turn
on the right arrow, and click Connect.</li><li>Highlight
the Y Rotation listing on each side of the dialog. Turn on the right
arrow, and click Connect.</li><li>Do
the same for the Z Rotation listings.</li><li>Close
the Parameter Wiring dialog.</li></ol>








<!--OList--><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-6a6b"></a></span>
<p class="list-intro"><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-6a6a"></a></span>Test
the wiring:</p>
<ol type="1" start="1"><li>Rotate
CtrlSpine on any axis.<p><span style="display:none"><a name="WS1a9193826455f5ffba679e112c9ef5a71-19ac"></a></span>The lowest
spine bone rotates by the same amount, but BoneSpine02, the higher
spine bone, rotates a little more.</p>
</li><li>Turn
on Auto Key.</li><li>Go
to frame 10.<p><span style="display:none"><a name="WS1a9193826455f5ffba679e112c9ef5a71-19ab"></a></span>The animation on CtrlSpine was lost when you
assigned the list controller. The character is out of balance on
this frame.</p>
</li><li>In
the Front viewport, rotate <em class="mild">CtrlSpine</em> so the character leans
in the direction opposite its hips.<span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-6a69"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/tut/tut_introrig_cont_lean.png"></p>
</div>
</li><li>Turn
off Auto Key.</li><li>Save
the scene as <em class="strong">my_introrig_spinebend.max</em>.<p><span style="display:none"><a name="WS1a9193826455f5ffba679e112c9ef5a71-19aa"></a></span>You can
find a version of this scene in the file <span class="filePath">tut_introrig_spinebend.max</span>.</p>
</li></ol>






<div class="section"><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-6a68"></a></span>
<p class="section_title_h1"><a name="TOC_ENTRY__d0e49117"></a>Next</p>
<p><span style="display:none"><a name="WS1a9193826455f5ffba679e112c9ef5a71-19a9"></a></span>
<span class="hypertext">
<span class="char_link"><a href="WSf742dab04106313311b7d0e3112a19e3350-7fd0.htm"><!--Reference = WSf742dab04106313311b7d0e3112a19e3350-7fd0; Target topic = WSf742dab04106313311b7d0e3112a19e3350-7fd0.htm-->Skinning</a></span>
</span>
</p>
</div>

<!----><div class="footer-block"><a href="javascript:doComments('./html/ac.cmtdialog.htm');"><span class="comments-link">Please send us your comment about this page</span></a></div><br></body><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script></html>
