<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=iso8859-1">
   <script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><TITLE>Final Gather and Ambient Occlusion</title><link rel="stylesheet" type="text/css" href="./style/cpm.css"><link rel="stylesheet" type="text/css" href="./style/isd.css"><link rel="stylesheet" type="text/css" href="./style/commons.css"><link rel="stylesheet" type="text/css" href="./style/contents.css"><link rel="stylesheet" type="text/css" href="./style/header.css"><link rel="stylesheet" type="text/css" href="./style/indexes.css"><link rel="stylesheet" type="text/css" href="./style/search.css"><link rel="stylesheet" type="text/css" href="./style/med.css"><script type="text/javascript" src="./scripts/ac.strings.js"></script><script type="text/javascript" src="./ac_common.js"></script><script type="text/javascript" src="./scripts/acmap.js"></script><script type="text/javascript" src="./scripts/ac.acad_ak.js"></script><script type="text/javascript" src="./scripts/index-processing.js"></script><script type="text/javascript" src="./scripts/search-processing.js"></script><script type="text/javascript" src="./scripts/toc-processing.js"></script><script type="text/javascript" src="./scripts/highlight.js"></script><script type="text/javascript" src="./scripts/favorites.js"></script><script type="text/javascript" src="./scripts/commons-processing.js"></script><script language="javascript">
            function hideInfo() {
                info = document.getElementById('infoline');
                info.innerHTML = ' ';
                info.style.visibility = 'hidden';
            }
            function showInfo(title) {
                info = document.getElementById('infoline');
                info.innerHTML = title;
                info.style.visibility='visible';
            }
        </script><meta name="description" content="Final Gather and Ambient Occlusion"><meta name="keywords" content=""><meta name="topic-type" content="concept"></head><body><!--
							Name = Topic;
							Class =  CPM-Topic ISD-Topic ;
							Url = WSf742dab041063133-4ec56375112a19e3a55-7ff2.htm--><div class="head"><div class="head-block"><div class="nav-group"><!--browse buttons--><div class="browse"><nobr><!--No Additional browse buttons are defined--><div id="prevTitle" style="display:none">Final Gather</div><a href="WSf742dab041063133-4ec56375112a19e3a55-7ff3.htm" class="headNavLink" onmouseover="showInfo(document.getElementById('prevTitle').innerHTML);" onmouseout="hideInfo();"><img src="./images/nav-prev-xp.gif" border="0"></a><div id="parentTitle" style="display:none">Rendering with mental ray: Final Gather and Global Illumination</div><a href="WS73099cc142f4875514c01ac112a7acef16-7f05.htm" class="headNavLink" onmouseover="showInfo(document.getElementById('parentTitle').innerHTML);" onmouseout="hideInfo();"><img src="./images/nav-up-xp.gif" border="0"></a><div id="nextTitle" style="display:none">Photons</div><a href="WSf742dab041063133-4ec56375112a19e3a55-7ff1.htm" class="headNavLink" onmouseover="showInfo(document.getElementById('nextTitle').innerHTML);" onmouseout="hideInfo();"><img src="./images/nav-next-xp.gif" border="0"></a></nobr></div><!--end browse buttons--></div><div class="button-info"><span id="infoline">&nbsp;</span></div><div class="ancestry"><a href="welcome.htm">Autodesk 3ds Max Tutorials</a>&nbsp;&gt;&nbsp;<a href="WS73099cc142f4875514c01ac112a7acef16-8000.htm">Lighting and Rendering</a>&nbsp;&gt;&nbsp;<a href="WS73099cc142f4875514c01ac112a7acef16-7f05.htm">Rendering with mental ray: Final Gather and Global
Illumination</a>&nbsp;&gt;&nbsp;</div><div class="head-text"><span>Final Gather and Ambient Occlusion</span></div></div></div><div class="head-margin">&nbsp;</div><div style="line-height: 0pt">&nbsp;</div><div class="head-margin">&nbsp;</div><span style="display:none"><a name="WSf742dab041063133-4ec56375112a19e3a55-7ff2"></a></span>

<!--Body-->
<p><span style="display:none"><a name="WS1a9193826455f5ffba679e112c9ef5a71-1f69"></a></span>In architectural rendering, one often needs
to present a new image to a customer in a very short time. To get
this done in a few minutes instead of hours, you can combine final
gather with ambient occlusion (AO).</p>
<p><span style="display:none"><a name="WS1a9193826455f5ffba679e112c9ef5a71-1f68"></a></span>What is ambient occlusion? Briefly, it darkens
occluded areas. For example, at the intersection of a wall and a
floor, occlusion is higher than in the middle of the floor. Ambient
occlusion does not transfer colors between surfaces; it simply darkens
them.</p>
<p><span style="display:none"><a name="WS1a9193826455f5ffba679e112c9ef5a71-1f67"></a></span>To get a quite good image in minutes instead
of hours, use final gather with a low density, such as 0.1. This
is very fast and distributes light, including colors, in the scene.
To get contact shadows and local details, add ambient occlusion.
mental ray has special support for ambient occlusion that makes
this fast.</p>
<p><span style="display:none"><a name="WS1a9193826455f5ffba679e112c9ef5a71-1f66"></a></span>The new mental ray Arch &amp; Design material
can do AO directly, in a single pass.</p>
<!--OList--><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7eb9"></a></span>
<p class="list-intro"><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7eb8"></a></span>Use
material-based Ambient Occlusion:</p>
<ol type="1" start="1"><li>If
not continuing from the previous lesson, from the <em class="mild">\tutorials\mental_ray\</em> folder,
open the scene file <span class="filePath">fg+gi_start.max</span>.
Open the Render Scene dialog, and on the Indirect Illumination panel
&gt; Final Gather rollout, turn on Enable Final Gather.</li><li>On
the Indirect Illumination panel &gt; Final Gather rollout, choose
the Draft preset and set Diffuse Bounces to <em class="strong">5</em>, if necessary.</li><li>Open
the Material Editor and modify the floor material: On the Special
Effects rollout, turn on Ambient Occlusion. Do the same for the wall
material.</li><li>Render
the scene.<span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7eb7"></a></span><table cellpadding="0" cellspacing="0" class="ruled"><colgroup><col style="width:2.213in"><col style="width:2.213in">
<tr class="RuledOddRow">
<td class="table-body">
<span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7eb6"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/il/il_fg_draft5bounces.png"></p>
<p></p><p class="figure-title">Final gather only</p>
</div>
</td>
<td class="table-body">
<span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7eb5"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/il/il_fg_ao.png"></p>
<p></p><p class="figure-title">Final gather combined with ambient occlusion</p>
</div>
</td>
</tr>
</colgroup></table>
<p><span style="display:none"><a name="WS1a9193826455f5ffba679e112c9ef5a71-1f65"></a></span>The image with AO has good contact shadows and edges.</p>
</li><li>A final
touch is to reduce the noise on the back side of the sofa. Increase
the Interpolate Over Num. FG Points value to <em class="strong">100</em>.<span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7eb2"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/il/il_fg_ao_ip100.png"></p>
<p></p><p class="figure-title">FG and AO with more interpolation</p>
</div>
<p><span style="display:none"><a name="WS1a9193826455f5ffba679e112c9ef5a71-1f64"></a></span>This is
the combination of the Draft FG preset with AO. You can also use
the Medium preset to improve quality at the cost of rendering time.</p>
</li></ol>





<div class="section"><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7eb1"></a></span>
<p class="section_title_h1"><a name="TOC_ENTRY__d0e73783"></a>General notes on AO</p>
<p><span style="display:none"><a name="WS1a9193826455f5ffba679e112c9ef5a71-1f63"></a></span>Make sure AO is applied only locally within
a small radius, just to bring out the small details, and let FG
handle the coarser transport of light. A good rule of thumb is to
set the AO radius to about 4 inches (<em class="strong">100mm</em>); this
is the default setting.</p>
<p><span style="display:none"><a name="WS1a9193826455f5ffba679e112c9ef5a71-1f62"></a></span>If you think the &#8220;darkening&#8221; effect of AO is
too strong, you can modify the Shadow Color value in the Ambient
Occlusion group to a lighter color, such as 50 percent gray (set
Value to <em class="strong">0.5</em>).</p>
</div>
<div class="section"><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7eb0"></a></span>
<p class="section_title_h1"><a name="TOC_ENTRY__d0e73801"></a>Next</p>
<p><span style="display:none"><a name="WS1a9193826455f5ffba679e112c9ef5a71-1f61"></a></span>
<span class="hypertext">
<span class="char_link"><a href="WSf742dab041063133-4ec56375112a19e3a55-7ff1.htm"><!--Reference = WSf742dab041063133-4ec56375112a19e3a55-7ff1; Target topic = WSf742dab041063133-4ec56375112a19e3a55-7ff1.htm-->Photons</a></span>
</span>
</p>
</div>

<!----><div class="footer-block"><a href="javascript:doComments('./html/ac.cmtdialog.htm');"><span class="comments-link">Please send us your comment about this page</span></a></div><br></body><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script></html>
