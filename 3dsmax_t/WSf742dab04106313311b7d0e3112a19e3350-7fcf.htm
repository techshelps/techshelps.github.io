<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=iso8859-1">
   <script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><TITLE>Using Spline IK</title><link rel="stylesheet" type="text/css" href="./style/cpm.css"><link rel="stylesheet" type="text/css" href="./style/isd.css"><link rel="stylesheet" type="text/css" href="./style/commons.css"><link rel="stylesheet" type="text/css" href="./style/contents.css"><link rel="stylesheet" type="text/css" href="./style/header.css"><link rel="stylesheet" type="text/css" href="./style/indexes.css"><link rel="stylesheet" type="text/css" href="./style/search.css"><link rel="stylesheet" type="text/css" href="./style/med.css"><script type="text/javascript" src="./scripts/ac.strings.js"></script><script type="text/javascript" src="./ac_common.js"></script><script type="text/javascript" src="./scripts/acmap.js"></script><script type="text/javascript" src="./scripts/ac.acad_ak.js"></script><script type="text/javascript" src="./scripts/index-processing.js"></script><script type="text/javascript" src="./scripts/search-processing.js"></script><script type="text/javascript" src="./scripts/toc-processing.js"></script><script type="text/javascript" src="./scripts/highlight.js"></script><script type="text/javascript" src="./scripts/favorites.js"></script><script type="text/javascript" src="./scripts/commons-processing.js"></script><script language="javascript">
            function hideInfo() {
                info = document.getElementById('infoline');
                info.innerHTML = ' ';
                info.style.visibility = 'hidden';
            }
            function showInfo(title) {
                info = document.getElementById('infoline');
                info.innerHTML = title;
                info.style.visibility='visible';
            }
        </script><meta name="description" content="Using Spline IK"><meta name="keywords" content="modifiers:spline IK control, spline IK:spline IK solver, path constraint, spline IK,"><meta name="topic-type" content="concept"></head><body><!--
							Name = Topic;
							Class =  CPM-Topic ISD-Topic ;
							Url = WSf742dab04106313311b7d0e3112a19e3350-7fcf.htm--><div class="head"><div class="head-block"><div class="nav-group"><!--browse buttons--><div class="browse"><nobr><!--No Additional browse buttons are defined--><div id="prevTitle" style="display:none">Skinningskinning skin modifier:character rigging rig:skin modifier</div><a href="WSf742dab04106313311b7d0e3112a19e3350-7fd0.htm" class="headNavLink" onmouseover="showInfo(document.getElementById('prevTitle').innerHTML);" onmouseout="hideInfo();"><img src="./images/nav-prev-xp.gif" border="0"></a><div id="parentTitle" style="display:none">Introduction to Character Rigging</div><a href="WSf742dab04106313311b7d0e3112a19e3350-7fd6.htm" class="headNavLink" onmouseover="showInfo(document.getElementById('parentTitle').innerHTML);" onmouseout="hideInfo();"><img src="./images/nav-up-xp.gif" border="0"></a><div id="nextTitle" style="display:none">Mirroring IK</div><a href="WSf742dab04106313311b7d0e3112a19e3350-7fce.htm" class="headNavLink" onmouseover="showInfo(document.getElementById('nextTitle').innerHTML);" onmouseout="hideInfo();"><img src="./images/nav-next-xp.gif" border="0"></a></nobr></div><!--end browse buttons--></div><div class="button-info"><span id="infoline">&nbsp;</span></div><div class="ancestry"><a href="welcome.htm">Autodesk 3ds Max Tutorials</a>&nbsp;&gt;&nbsp;<a href="WSf742dab04106313311b7d0e3112a19e3350-8000.htm">Character Animation Tutorials</a>&nbsp;&gt;&nbsp;<a href="WS73099cc142f4875514c01ac112a7acef16-6b04.htm">Character Animation without Biped</a>&nbsp;&gt;&nbsp;<a href="WSf742dab04106313311b7d0e3112a19e3350-7fd6.htm">Introduction to Character Rigging</a>&nbsp;&gt;&nbsp;</div><div class="head-text"><span>Using Spline IK</span></div></div></div><div class="head-margin">&nbsp;</div><div style="line-height: 0pt">&nbsp;</div><div class="head-margin">&nbsp;</div><span style="display:none"><a name="WSf742dab04106313311b7d0e3112a19e3350-7fcf"></a></span>

<!--Body-->
<p><span style="display:none"><a name="WS1a9193826455f5ffba679e112c9ef5a71-198f"></a></span>



Spline
IK is a type of IK control that uses a spline to control a bone
structure. You can change the object's shape by transforming the
spline vertices. This is useful for animating such objects as a
snake or a ponytail.</p>
<span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-6a45"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/ill/ill_tut_splineikpath_final.png"></p>
</div>
<p><span style="display:none"><a name="WS1a9193826455f5ffba679e112c9ef5a71-198e"></a></span>You can apply Spline IK when you create bones,
or add it to the bone structure later on.</p>
<p><span style="display:none"><a name="WS1a9193826455f5ffba679e112c9ef5a71-198d"></a></span>All the files necessary for this tutorial are
provided on the program disc in the <em class="mild">\tutorials\character_animation\intro_to_rigging</em> directory.
Before starting the tutorials, copy the <em class="mild">\tutorials</em> folder
from the disc to your local program installation. </p>
<!--OList--><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-6a44"></a></span>
<p class="list-intro"><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-6a43"></a></span>Create
a simple spline IK structure:</p>
<ol type="1" start="1"><li>Reset <span class="charspan-special">3ds Max</span>.</li><li>Choose
Animation menu &gt; Bone Tools.</li><li>On
the Bone Tools floater, click Create Bones.<p><span style="display:none"><a name="WS1a9193826455f5ffba679e112c9ef5a71-198c"></a></span>The Create
panel opens with the Systems category active, and the Bones button
highlights.</p>
</li><li>On
the IK Chain Assignment rollout of the Create panel, set IK Solver
to SplineIKSolver and turn on Assign To Children.</li><li>In
any viewport, create a series of at least six bones.<p><span style="display:none"><a name="WS1a9193826455f5ffba679e112c9ef5a71-198b"></a></span>When you
right-click to end bone creation, the Spline IK Solver dialog opens.</p>
<span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-6a42"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/ill/ill_tut_splineik_bones.png"></p>
</div>
</li><li>Change
Number Of Spline Knots to <em class="strong">4</em>, and click
OK.<p><span style="display:none"><a name="WS1a9193826455f5ffba679e112c9ef5a71-198a"></a></span>A spline is created in the shape of the bone
structure. At each vertex on the spline is a box-shaped Point helper.</p>
</li><li>Right-click
again in the viewport to exit bone-creation mode.</li><li>Select
and move one of the helper objects.<p><span style="display:none"><a name="WS1a9193826455f5ffba679e112c9ef5a71-1989"></a></span>Moving
a helper changes the shape of the spline, which in turn changes
the shape of the bone structure.</p>
<span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-6a41"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/ill/ill_tut_splineik_bones2.png"></p>
</div>
</li><li>
<img src="./images/MED/3dsMaxTut/English/but/but_auto_key_on-2.png"> Turn
on Auto Key.</li><li>Go
to frame 20 and move one of the box-shaped Point helpers.<p><span style="display:none"><a name="WS1a9193826455f5ffba679e112c9ef5a71-1988"></a></span>The bone
structure animates according to the helper&#8217;s movement.</p>
</li></ol>










<!--OList--><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-6a40"></a></span>
<p class="list-intro"><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-6a3f"></a></span>Apply
IK after bone creation: </p>
<ol type="1" start="1"><li>Load <span class="filePath">tut_splineik_start.max</span>.<span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-6a3e"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/ill/ill_tut_splineik_start.png"></p>
</div>
<p><span style="display:none"><a name="WS1a9193826455f5ffba679e112c9ef5a71-1987"></a></span>This scene
contains a snake mesh with a bone structure. The Skin modifier has
already been applied to the mesh. The mesh is frozen so you can
easily select the bones.</p>
</li><li>In
the Top viewport, use Create panel &gt; Shapes &gt; Line to draw
a curved line. Start the line near the bottom of the viewport, then
draw upward.<span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-6a3d"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/ill/ill_tut_splineik_line.png"></p>
</div>
<p><span style="display:none"><a name="WS1a9193826455f5ffba679e112c9ef5a71-1986"></a></span>Drawing
in this manner ensures the line&#8217;s first vertex will correspond to
the head of the snake. The location of the first vertex sets the
end at which the first bone in the IK chain will be placed. In this
case, the first bone in the IK chain is at the snake&#8217;s head.</p>
</li><li>Select
the snake&#8217;s head bone (<em class="mild">Bone_Head</em>).</li><li>Choose
Animation menu &gt; IK Solvers &gt; SplineIK Solver.<p><span style="display:none"><a name="WS1a9193826455f5ffba679e112c9ef5a71-1985"></a></span>A rubber
band line extends between the mouse cursor and the selected head
bone.</p>
</li><li>Click
the snake&#8217;s end bone, and then click the spline.<p><span style="display:none"><a name="WS1a9193826455f5ffba679e112c9ef5a71-1984"></a></span>The snake
jumps to the spline and assumes its shape. Also, behind the scenes,
the Spline IK Control modifier is applied to the spline, with box-shaped
Point helper objects placed at the spline vertices.</p>
<p><span style="display:none"><a name="WS1a9193826455f5ffba679e112c9ef5a71-1983"></a></span>The helper
objects might be a bit difficult to see at their default size in
this particular context, so you can enlarge them in the Spline IK Control
modifier.</p>
<span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-6a3c"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/ill/ill_tut_splineik_jump.png"></p>
</div>
</li><li>Press <span class="keyCaps">H</span> to open the Select Objects dialog,
and then double-click the <em class="mild">Line01</em> object name in the list
to select the object and close the dialog.</li><li>
<img src="./images/MED/3dsMaxTut/English/tab/tab_modify.png"> Go to
the Modify panel, where you'll see the Spline IK Control Parameters
rollout. Near the bottom, change the Helper Display &gt; Helper
Size value to <em class="strong">40.0</em>.<p><span style="display:none"><a name="WS1a9193826455f5ffba679e112c9ef5a71-1982"></a></span>The helpers
are now bigger, and thus easier to see and manipulate.</p>
<span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-6a3b"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/ill/ill_tut_splineik_jump2.png"></p>
</div>
<p><span style="display:none"><a name="WS1a9193826455f5ffba679e112c9ef5a71-1981"></a></span>Now you
can move and animate the helper objects to change the shape of the
snake.</p>
<span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-6a3a"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/ill/ill_tut_splineik_move.png"></p>
</div>
<div style="margin-top:9pt"><span style="display:none"><a name="WS1a9193826455f5ff662ffb11407b58d52-7115"></a></span><div class="note-tip"><span class="label">Tip</span>If
the snake turns to lie on its side, select the Spline IK control (the
cross hairs between the end bone and its parent). Go to the Motion panel,
and on the IK Solver Properties rollout, change the Twist Start
Angle to <span class="charspan-special">
<em class="strong">&#8211;90</em>
</span> or <span class="charspan-special">
<em class="strong">90</em>
</span>.</div></div>
</li></ol>







<!--OList--><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-6a39"></a></span>
<p class="list-intro"><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-6a38"></a></span>Use
Spline IK with a path constraint: </p>
<ol type="1" start="1"><li>Load
the file <span class="filePath">tut_splineikpath_start.max</span>.<span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-6a37"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/ill/ill_tut_splineikpath_start.png"></p>
</div>
<p><span style="display:none"><a name="WS1a9193826455f5ffba679e112c9ef5a71-1980"></a></span>This file
contains the snake and a long, curvy spline. The Spline IK Control
modifier has already been applied to the spline.</p>
</li><li>Select
the snake&#8217;s head bone (<em class="mild">Bone_Head</em>).</li><li>Choose
Animation menu &gt; IK Solvers &gt; SplineIK Solver.</li><li>Click
the snake&#8217;s end bone, then right-click the viewport to end the process.<p><span style="display:none"><a name="WS1a9193826455f5ffba679e112c9ef5a71-197f"></a></span>A spline
IK solver has been added to the bones, but is not associated with
the spline.</p>
</li><li>Select
the spline IK control by selecting the cross hairs between the end
bone and its parent bone.<span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-6a36"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/ill/ill_tut_splineikpath_select.png"></p>
</div>
</li><li>
<img src="./images/MED/3dsMaxTut/English/tab/tab_motion.png"> Go to
the Motion panel. On the Spline IK Solver rollout, click the button
under Pick Shape, and then click the spline.<p><span style="display:none"><a name="WS1a9193826455f5ffba679e112c9ef5a71-197e"></a></span>Now that
the spline is associated with the spline IK solver, you have two
choices for the remainder of the setup:</p>
<!--UList--><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-6a35"></a></span>
<ul><li>You
can use a Position constraint to constrain the head bone to the
first node (helper) on the spline. This is what happens automatically
when you pick a spline while setting up the spline IK solver, as in
the two previous procedures.</li></ul>

<!--UList--><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-6a34"></a></span>
<ul><li>You
can use a Path constraint to constrain the head bone to the spline,
which will allow us to animate the snake along the spline.</li></ul>

<p><span style="display:none"><a name="WS1a9193826455f5ffba679e112c9ef5a71-197d"></a></span>In this
lesson you'll use the Path constraint.</p>
</li><li>Select
the head bone.</li><li>Choose
Animation menu &gt; Constraints &gt; Path Constraint, and click
the spline.<p><span style="display:none"><a name="WS1a9193826455f5ffba679e112c9ef5a71-197c"></a></span>The snake jumps to the spline.</p>
<p><span style="display:none"><a name="WS1a9193826455f5ffba679e112c9ef5a71-197b"></a></span>The snake
is automatically animated moving along the path, but it slithers
backward.</p>
<span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-6a33"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/ill/ill_tut_splineikpath_jump.png"></p>
</div>
<div style="margin-top:9pt"><span style="display:none"><a name="WS1a9193826455f5ff662ffb11407b58d52-7114"></a></span><div class="note-tip"><span class="label">Tip</span>If
the snake turns to lie on its side, select the spline IK control and
go to the Motion panel. In the IK Solver Properties rollout, change
the Twist Start Angle to <span class="charspan-special">
<em class="strong">&#8211;90</em>
</span> or <span class="charspan-special">
<em class="strong">90</em>
</span>.</div></div>
</li><li>
<img src="./images/MED/3dsMaxTut/English/but/but_auto_key_on-2.png"> Turn
on Auto Key.</li><li>Select
the head bone if necessary, and go to the Motion panel.</li><li>In
the Path Parameters rollout, set % Along Path to <em class="strong">70</em>.</li><li>Go
to frame 100 and set % Along Path to <em class="strong">0</em>.</li><li>Play
the animation. The snake slithers along the path.<span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-6a32"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/ill/ill_tut_splineikpath_slither.png"></p>
</div>
<p><span style="display:none"><a name="WS1a9193826455f5ffba679e112c9ef5a71-197a"></a></span>You can
also animate the box helpers on the spline to further control the
animation.</p>
</li></ol>













<div class="section"><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-6a31"></a></span>
<p class="section_title_h1"><a name="TOC_ENTRY__d0e49858"></a>Next</p>
<p><span style="display:none"><a name="WS1a9193826455f5ffba679e112c9ef5a71-1979"></a></span>
<span class="hypertext">
<span class="char_link"><a href="WSf742dab04106313311b7d0e3112a19e3350-7fce.htm"><!--Reference = WSf742dab04106313311b7d0e3112a19e3350-7fce; Target topic = WSf742dab04106313311b7d0e3112a19e3350-7fce.htm-->Mirroring IK</a></span>
</span>
</p>
</div>

<!----><div class="footer-block"><a href="javascript:doComments('./html/ac.cmtdialog.htm');"><span class="comments-link">Please send us your comment about this page</span></a></div><br></body><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script></html>
