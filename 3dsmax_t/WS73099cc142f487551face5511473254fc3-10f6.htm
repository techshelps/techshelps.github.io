<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=iso8859-1">
   <title>Baking Scene Elements Into Textures</title><link rel="stylesheet" type="text/css" href="./style/cpm.css"><link rel="stylesheet" type="text/css" href="./style/isd.css"><link rel="stylesheet" type="text/css" href="./style/commons.css"><link rel="stylesheet" type="text/css" href="./style/contents.css"><link rel="stylesheet" type="text/css" href="./style/header.css"><link rel="stylesheet" type="text/css" href="./style/indexes.css"><link rel="stylesheet" type="text/css" href="./style/search.css"><link rel="stylesheet" type="text/css" href="./style/med.css"><script type="text/javascript" src="./scripts/ac.strings.js"></script><script type="text/javascript" src="./ac_common.js"></script><script type="text/javascript" src="./scripts/acmap.js"></script><script type="text/javascript" src="./scripts/ac.acad_ak.js"></script><script type="text/javascript" src="./scripts/index-processing.js"></script><script type="text/javascript" src="./scripts/search-processing.js"></script><script type="text/javascript" src="./scripts/toc-processing.js"></script><script type="text/javascript" src="./scripts/highlight.js"></script><script type="text/javascript" src="./scripts/favorites.js"></script><script type="text/javascript" src="./scripts/commons-processing.js"></script><script language="javascript">
            function hideInfo() {
                info = document.getElementById('infoline');
                info.innerHTML = ' ';
                info.style.visibility = 'hidden';
            }
            function showInfo(title) {
                info = document.getElementById('infoline');
                info.innerHTML = title;
                info.style.visibility='visible';
            }
        </script><meta name="description" content="Baking Scene Elements Into Textures"><meta name="keywords" content=""><meta name="topic-type" content="concept"></head><body><!--
							Name = Topic;
							Class =  CPM-Topic ISD-Topic ;
							Url = WS73099cc142f487551face5511473254fc3-10f6.htm--><div class="head"><div class="head-block"><div class="nav-group"><!--browse buttons--><div class="browse"><nobr><!--No Additional browse buttons are defined--><div id="prevTitle" style="display:none">Rendering to Texture</div><a href="WSf742dab04106313373c293b3112a19e3d72-7fd9.htm" class="headNavLink" onmouseover="showInfo(document.getElementById('prevTitle').innerHTML);" onmouseout="hideInfo();"><img src="./images/nav-prev-xp.gif" border="0"></a><div id="parentTitle" style="display:none">Rendering to Texture</div><a href="WSf742dab04106313373c293b3112a19e3d72-7fd9.htm" class="headNavLink" onmouseover="showInfo(document.getElementById('parentTitle').innerHTML);" onmouseout="hideInfo();"><img src="./images/nav-up-xp.gif" border="0"></a><div id="nextTitle" style="display:none">Lighting and Rendering</div><a href="WS73099cc142f4875514c01ac112a7acef16-8000.htm" class="headNavLink" onmouseover="showInfo(document.getElementById('nextTitle').innerHTML);" onmouseout="hideInfo();"><img src="./images/nav-next-xp.gif" border="0"></a></nobr></div><!--end browse buttons--></div><div class="button-info"><span id="infoline">&nbsp;</span></div><div class="ancestry"><a href="welcome.htm">Autodesk 3ds Max Tutorials</a>&nbsp;&gt;&nbsp;<a href="WSf742dab04106313373c293b3112a19e3d72-8000.htm">Materials and Mapping Tutorials</a>&nbsp;&gt;&nbsp;<a href="WSf742dab04106313373c293b3112a19e3d72-7fde.htm">Vertex Color and Interactive Shading</a>&nbsp;&gt;&nbsp;<a href="WSf742dab04106313373c293b3112a19e3d72-7fd9.htm">Rendering to Texture</a>&nbsp;&gt;&nbsp;</div><div class="head-text"><span>Baking Scene Elements Into Textures</span></div></div></div><div class="head-margin">&nbsp;</div><div style="line-height: 0pt">&nbsp;</div><div class="head-margin">&nbsp;</div><span style="display:none"><a name="WS73099cc142f487551face5511473254fc3-10f6"></a></span>

<!--Body-->
<!--OList--><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7b20"></a></span>
<p class="list-intro"><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7b1f"></a></span>Examine
the setup:</p>
<ol type="1" start="1"><li>Load
the file <span class="filePath">tut_texturebake_start.max</span>. This
file is in the <em class="mild">\tutorials\vertex_color</em> folder.<span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7b1e"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/tut/tut_texturebake01.png"></p>
</div>
<p><span style="display:none"><a name="WS73099cc142f4875513f8d121131880ab2f-6bfc"></a></span>The scene consists of a texture-mapped biplane
model and a single shadow-casting Omni light. First, you'll see
how the scene looks rendered in <span class="charspan-special">3ds Max</span>.</p>
</li><li>Make
sure the Perspective viewport is active. On the toolbar, click Quick
Render, or press <span class="keyCaps">Shift+Q</span> to render the
scene.<span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7b1d"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/tut/tut_texturebake02.png"></p>
</div>
<p><span style="display:none"><a name="WS73099cc142f4875513f8d121131880ab2f-6bfb"></a></span>In the rendered image, note the presence of
shadows, particularly those cast by the propeller blade and the
vertical strut between the upper and lower wings. These shadows
however, do not appear in the Perspective viewport.</p>
</li><li>Close
the rendered frame window.</li><li>Select
the Fuselage object; this is the body of the biplane.<p><span style="display:none"><a name="WS73099cc142f4875513f8d121131880ab2f-6bfa"></a></span>The Fuselage uses an Unwrap UVW modifier for
complex and precise texture mapping. Because this is the only texture-mapped
object in the scene, you'll concentrate on it for this lesson. First,
you'll take a look at the texture.</p>
</li><li>Go
to the Modify panel, and in the modifier stack display, make sure
the Unwrap UVW entry is highlighted.</li><li>On
the Parameters rollout, click Edit.<span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7b1c"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/tut/tut_texturebake03.png"></p>
</div>
<p><span style="display:none"><a name="WS73099cc142f4875513f8d121131880ab2f-6bf9"></a></span>This opens the Edit UVWs dialog. You can see
how the texture map is divided into various sections, with different
face clusters overlaid on each. These face clusters are UVW mapping
coordinates that correspond to different parts of the Fuselage mesh.</p>
</li><li>Close
the dialog.</li><li>Press <span class="keyCaps">M</span> to open the Material Editor, and
note that the fuselage is mapped with a standard material named Fuselage.
Close the editor window.</li></ol>








<!--OList--><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7b1b"></a></span>
<p class="list-intro"><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7b1a"></a></span>Bake
the texture:</p>
<ol type="1" start="1"><li>From
the Rendering menu, choose Render To Texture.<p><span style="display:none"><a name="WS73099cc142f4875513f8d121131880ab2f-6bf8"></a></span>The Render To Textures dialog opens.</p>
</li><li>On
the Objects to Bake rollout, note that the Fuselage is the only object
listed. Also note that the Selected Object Settings group &gt; Enabled check
box is on, and All Selected is chosen. This means that Render To Texture
will use any selected objects.<p><span style="display:none"><a name="WS73099cc142f4875513f8d121131880ab2f-6bf7"></a></span>If you like, try selecting different objects
in the Perspective viewport, and note that the Objects To Bake list
updates dynamically. Finish by selecting only the Fuselage object.</p>
</li><li>On
the Output rollout, click the Add button.<p><span style="display:none"><a name="WS73099cc142f4875513f8d121131880ab2f-6bf6"></a></span>This opens the Add Texture Elements dialog,
with a list of different types of texture elements you can render.
Typically, you want to combine all elements into a single texture,
so you use CompleteMap.</p>
</li><li>In
the Add Texture Elements dialog list, double-click CompleteMap or
highlight it, then click the Add Elements button.</li><li>When
you use Render To Texture, the software creates a new material.
You must specify where in this new material the rendered texture
will go. In the Selected Element Common Settings group, click the drop-down
list next to Target Map Slot and choose Diffuse Color.<p><span style="display:none"><a name="WS73099cc142f4875513f8d121131880ab2f-6bf5"></a></span>CompleteMap appears in the Output rollout list,
along with the default texture size to be generated: 256x 256. The
original texture map is fairly large, so you'll probably want to
render it to a bigger size.</p>
</li><li>Near
the bottom of the Output rollout, click the 768x768 button.<span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7b19"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/tut/tut_texturebake05.png"></p>
</div>
<p><span style="display:none"><a name="WS73099cc142f4875513f8d121131880ab2f-6bf4"></a></span>Other sizes are available from the preset buttons,
and you can use the Size setting to specify any output size you
want.</p>
<p><span style="display:none"><a name="WS73099cc142f4875513f8d121131880ab2f-6bf3"></a></span>This size is lower than that of the original
texture; using it will help you see the differences between it and
the one that Render To Texture generates.</p>
</li><li>In
the Name field, change the &#8220;CompleteMap&#8221; text to <em class="strong">MyCompleteMap</em>.
Press <span class="keyCaps">Tab</span> to refresh
the dialog.<p><span style="display:none"><a name="WS73099cc142f4875513f8d121131880ab2f-6bf2"></a></span>The name in the output list changes to reflect
your edit, as does the File Name And Type entry.</p>
</li><li>At
the bottom of the Render To Textures dialog, click the Render button.<span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7b18"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/tut/tut_texturebake06.png"></p>
</div>
<p><span style="display:none"><a name="WS73099cc142f4875513f8d121131880ab2f-6bf1"></a></span>Alerts appear briefly, displaying the progress
of flattening UVs and baking the texture, then a virtual frame buffer
window opens with the newly rendered CompleteMap texture. This image
looks similar to what you saw in the Edit UVWs window, but the texture
is subdivided differently.</p>
</li><li>Close
the rendered frame window, then close the Render To Textures dialog.</li></ol>









<!--OList--><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7b17"></a></span>
<p class="list-intro"><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7b16"></a></span>Examine
the results:</p>
<ol type="1" start="1"><li>Take
a look at the modifier stack display, then look at the biplane in
the Perspective viewport.<span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7b15"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/tut/tut_texturebake07.png"></p>
</div>
<p><span style="display:none"><a name="WS73099cc142f4875513f8d121131880ab2f-6bf0"></a></span>A second modifier, named Automatic Flatten UVs,
has been added to the Fuselage. This is an Unwrap UVW modifier,
but it was created and applied automatically by the Render To Texture
function.</p>
<span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7b14"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/tut/tut_texturebake08.png"></p>
</div>
<p><span style="display:none"><a name="WS73099cc142f4875513f8d121131880ab2f-6bef"></a></span>The Fuselage object is still mapped accurately,
but the cast shadows now appear in the viewport. For example, if
you move the light source, you can see that the shadows cast onto
the fuselage from the propeller don't change with as the light source
moves, because they're baked into the texture.</p>
<p><span style="display:none"><a name="WS73099cc142f4875513f8d121131880ab2f-6bee"></a></span>You can also see that the texture map as applied
to the fuselage in the viewport is of lower quality, but if you
render the image, the texture is of its original high quality. In
the next few steps, you'll see why.</p>
</li><li>Open
the Material Editor once again. Click the first material, which
was previously named Fuselage.<p><span style="display:none"><a name="WS73099cc142f4875513f8d121131880ab2f-6bed"></a></span>The software has renamed the material <em class="mild">orig_Fuselage</em>.</p>
</li><li>
<img src="./images/MED/3dsMaxTut/English/but/but_getmat.png"> Scroll
down to find an unused sample sphere, click it, then click the Get
Material button.</li><li>From
the Material/Map Browser dialog &gt; Browse From group, choose Selected.<p><span style="display:none"><a name="WS73099cc142f4875513f8d121131880ab2f-6bec"></a></span>A single material now appears in the list. Its
name is Fuselage (from the object it's applied to), and the type,
Shell Material, appears next to the name. This material was generated
automatically by Render To Texture, then applied to the Fuselage
object.</p>
<p><span style="display:none"><a name="WS73099cc142f4875513f8d121131880ab2f-6beb"></a></span>Basically, a Shell material lets you combine
two materials into one; you can see one material in the viewports
while rendering with the other. When Render To Texture generates
a Shell material, it uses the original material for rendering, and
the baked material for displaying in the viewports.</p>
</li><li>Double-click
the texture in the list to add it in the Material Editor. Close
the Material/Map Browser dialog.<p><span style="display:none"><a name="WS73099cc142f4875513f8d121131880ab2f-6bea"></a></span>You can find the scene to this point in <span class="filePath">tut_texturebake_finish.max</span>.</p>
<span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7b13"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/tut/tut_texturebake09.png"></p>
</div>
<p><span style="display:none"><a name="WS73099cc142f4875513f8d121131880ab2f-6be9"></a></span>This material has only one rollout: Shell Material
Parameters. It shows that the original material (orig_Fuselage)
is to be rendered with, while the baked material (baked_Fuselage,
generated by Render To Texture) is to be visible in the viewports.</p>
</li><li>
<img src="./images/MED/3dsMaxTut/English/but/b_showmap.png"> Click
the Original Material button, and then, on the Material Editor toolbar,
click the Show Map In Viewport button.<p><span style="display:none"><a name="WS73099cc142f4875513f8d121131880ab2f-6be8"></a></span>This step lets you see the material in the viewport
in the next step.</p>
</li><li>
<img src="./images/MED/3dsMaxTut/English/but/b_gotoparent.png"> Return
to the top level of the material, and on the Shell Material Parameters
rollout, under Viewport, click the top radio button (next to Original
Material).<p><span style="display:none"><a name="WS73099cc142f4875513f8d121131880ab2f-6be7"></a></span>In the Perspective viewport, the Fuselage returns
to its previous appearance, and the shadows go away.</p>
</li><li>Try
moving the light source, then render with the baked texture.<p><span style="display:none"><a name="WS73099cc142f4875513f8d121131880ab2f-6be6"></a></span>The original shadows remain where you baked
them. Depending on where you position the light source, you might
see an additional set of shadows, cast by the light during the rendering.</p>
</li><li>In
the shell material, return viewport display to the baked material.</li></ol>









<!--OList--><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7b12"></a></span>
<p class="list-intro"><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7b11"></a></span>Render
other elements:</p>
<p><span style="display:none"><a name="WS73099cc142f4875513f8d121131880ab2f-6be5"></a></span>Besides the CompleteMap, you can render individual
elements, one or more at a time.</p>
<ol type="1" start="1"><li>Open
the Render To Texture dialog and on the Output rollout, delete the
MyCompleteMap element, then add a ShadowsMap element. Set Target
Map Slot to Diffuse Color.</li><li>Click
Render.<p><span style="display:none"><a name="WS73099cc142f4875513f8d121131880ab2f-6be4"></a></span>The new material is unshaded, except where the
shadows fall. You can use this type of texture if your target rendering
engine supports compositing multiple textures.</p>
<p><span style="display:none"><a name="WS73099cc142f4875513f8d121131880ab2f-6be3"></a></span>Note that the rendered frame window still shows
the CompleteMap, even though Render To Texture didn't save one.
This is always the case, no matter which types of elements you render.
You can turn off the automatic display of the frame window on the
General Settings rollout.</p>
</li><li>On
the Render To Textures dialog, delete the ShadowsMap texture element
then add, at the same time, DiffuseMap and LightingMap elements.<p><span style="display:none"><a name="WS73099cc142f4875513f8d121131880ab2f-6be2"></a></span>They appear in that order in the list. With
multiple textures in the list, you can specify output settings for
each by clicking its list entry.</p>
</li><li>In
the list, click the DiffuseMap entry, then set Target Map Slot to
Diffuse Color.</li><li>Click
Render. When the Missing Map Targets alert appears, click the Continue
button.<p><span style="display:none"><a name="WS73099cc142f4875513f8d121131880ab2f-6be1"></a></span>The Missing Map Targets dialog shows any texture
elements that aren't assigned to target map slots.</p>
<p><span style="display:none"><a name="WS73099cc142f4875513f8d121131880ab2f-6be0"></a></span>The new Shell material is created for the first
element in the list only, as shown in the Perspective viewport.
However, all textures are saved in the target directory. You can
see the LightingMap texture in the viewport by deleting the DiffuseMap.</p>
</li><li>Delete
the DiffuseMap list entry, set the LightingMap's Target Map Slot
to Diffuse Color, then click the Render button.<p><span style="display:none"><a name="WS73099cc142f4875513f8d121131880ab2f-6bdf"></a></span>Render To Texture generates a new material and
applies it to the Fuselage, so it is now visible in the viewport.
The LightingMap element includes all shading and shadows, but no
diffuse coloring.</p>
<div><span style="display:none"><a name="WS1a9193826455f5ff662ffb11407b58d52-72fb"></a></span><div class="note-note"><span class="label">Note</span>Only
one texture element at a time can be set to any given target map
type. Also, if you add a texture element that was previously assigned
a target map type, the software automatically assigns the most recent
target map type that it used, if no other active texture element
is already using that target map type. If another active texture
element is using that target map type, the target map slot for the
newly assigned texture element is blank.</div></div>
</li></ol>






<div class="section"><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7b10"></a></span>
<p class="section_title_h1"><a name="TOC_ENTRY__d0e69960"></a>Summary</p>
<p><span style="display:none"><a name="WS73099cc142f4875513f8d121131880ab2f-6bde"></a></span>Render To Texture is a versatile tool that can
save you time in generating texture maps for real-time applications.
In this tutorial you learned how to bake different types of textures,
and how to work with the Shell material that Render To Texture generates.
Try generating other texture elements, then export them to your
real-time 3D engine.</p>
</div>

<!----><div class="footer-block"><a href="javascript:doComments('./html/ac.cmtdialog.htm');"><span class="comments-link">Please send us your comment about this page</span></a></div><br></body></html>
