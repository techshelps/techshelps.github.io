<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=iso8859-1">
   <title>Adding Control Objects</title><link rel="stylesheet" type="text/css" href="./style/cpm.css"><link rel="stylesheet" type="text/css" href="./style/isd.css"><link rel="stylesheet" type="text/css" href="./style/commons.css"><link rel="stylesheet" type="text/css" href="./style/contents.css"><link rel="stylesheet" type="text/css" href="./style/header.css"><link rel="stylesheet" type="text/css" href="./style/indexes.css"><link rel="stylesheet" type="text/css" href="./style/search.css"><link rel="stylesheet" type="text/css" href="./style/med.css"><script type="text/javascript" src="./scripts/ac.strings.js"></script><script type="text/javascript" src="./ac_common.js"></script><script type="text/javascript" src="./scripts/acmap.js"></script><script type="text/javascript" src="./scripts/ac.acad_ak.js"></script><script type="text/javascript" src="./scripts/index-processing.js"></script><script type="text/javascript" src="./scripts/search-processing.js"></script><script type="text/javascript" src="./scripts/toc-processing.js"></script><script type="text/javascript" src="./scripts/highlight.js"></script><script type="text/javascript" src="./scripts/favorites.js"></script><script type="text/javascript" src="./scripts/commons-processing.js"></script><script language="javascript">
            function hideInfo() {
                info = document.getElementById('infoline');
                info.innerHTML = ' ';
                info.style.visibility = 'hidden';
            }
            function showInfo(title) {
                info = document.getElementById('infoline');
                info.innerHTML = title;
                info.style.visibility='visible';
            }
        </script><meta name="description" content="Adding Control Objects"><meta name="keywords" content="rig:pivot points, rig:shapes, linking:character rigging, pivot points:character rigging, shapes:character rigging,"><meta name="topic-type" content="concept"></head><body><!--
							Name = Topic;
							Class =  CPM-Topic ISD-Topic ;
							Url = WSf742dab04106313311b7d0e3112a19e3350-7fd3.htm--><div class="head"><div class="head-block"><div class="nav-group"><!--browse buttons--><div class="browse"><nobr><!--No Additional browse buttons are defined--><div id="prevTitle" style="display:none">Setting Up IK Solvers</div><a href="WSf742dab04106313311b7d0e3112a19e3350-7fd4.htm" class="headNavLink" onmouseover="showInfo(document.getElementById('prevTitle').innerHTML);" onmouseout="hideInfo();"><img src="./images/nav-prev-xp.gif" border="0"></a><div id="parentTitle" style="display:none">Introduction to Character Rigging</div><a href="WSf742dab04106313311b7d0e3112a19e3350-7fd6.htm" class="headNavLink" onmouseover="showInfo(document.getElementById('parentTitle').innerHTML);" onmouseout="hideInfo();"><img src="./images/nav-up-xp.gif" border="0"></a><div id="nextTitle" style="display:none">Wiring a Custom Attributeparameter wiring:character rig wiring:character rig custom attributes:character rig rig:wiring rig:custom attributes</div><a href="WSf742dab04106313311b7d0e3112a19e3350-7fd2.htm" class="headNavLink" onmouseover="showInfo(document.getElementById('nextTitle').innerHTML);" onmouseout="hideInfo();"><img src="./images/nav-next-xp.gif" border="0"></a></nobr></div><!--end browse buttons--></div><div class="button-info"><span id="infoline">&nbsp;</span></div><div class="ancestry"><a href="welcome.htm">Autodesk 3ds Max Tutorials</a>&nbsp;&gt;&nbsp;<a href="WSf742dab04106313311b7d0e3112a19e3350-8000.htm">Character Animation Tutorials</a>&nbsp;&gt;&nbsp;<a href="WS73099cc142f4875514c01ac112a7acef16-6b04.htm">Character Animation without Biped</a>&nbsp;&gt;&nbsp;<a href="WSf742dab04106313311b7d0e3112a19e3350-7fd6.htm">Introduction to Character Rigging</a>&nbsp;&gt;&nbsp;</div><div class="head-text"><span>Adding Control Objects</span></div></div></div><div class="head-margin">&nbsp;</div><div style="line-height: 0pt">&nbsp;</div><div class="head-margin">&nbsp;</div><span style="display:none"><a name="WSf742dab04106313311b7d0e3112a19e3350-7fd3"></a></span>

<!--Body-->
<p><span style="display:none"><a name="WS1a9193826455f5ffba679e112c9ef5a71-19f9"></a></span>You can make it easier to manipulate the IK chains
and bones in a character rig by adding objects, shapes, or helpers
to the scene. You then connect the bones and IK chains to the control
objects in such a way that you can use the control objects to perform
all the necessary animation on the character.</p>
<p><span style="display:none"><a name="WS1a9193826455f5ffba679e112c9ef5a71-19f8"></a></span>It is possible to use a mix of shapes, helpers,
and 3D objects as control objects, but many animators find it more
useful to use only one type of object. This allows them to use a
selection filter during the animation process. The selection filter
limits selection of objects to one type of object only. During the
animation phase, you can use a selection filter to make it easy
to select the control objects, and prevent accidental selection
of bones, IK chains, and the character mesh.</p>
<p><span style="display:none"><a name="WS1a9193826455f5ffba679e112c9ef5a71-19f7"></a></span>In this lesson you will use shapes as control
objects, and will use linking and other tools to connect the bones
and IK chains to them. </p>
<!--OList--><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-6aba"></a></span>
<p class="list-intro"><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-6ab9"></a></span>Prepare
the scene:</p>
<ol type="1" start="1"><li>Continue
from the previous lesson, or open the file <span class="filePath">tut_introrig_swivel.max</span>.<span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-6ab8"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/tut/tut_introrig_swivel_start.png"></p>
</div>
</li><li>Activate
the Perspective viewport, and press the <span class="keyCaps">G</span> key
to remove the grid from the viewport.<p><span style="display:none"><a name="WS1a9193826455f5ffba679e112c9ef5a71-19f5"></a></span>This will
make it easier to see the control shapes you are about to create.</p>
</li></ol>


<!--OList--><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-6ab7"></a></span>
<p class="list-intro"><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-6ab6"></a></span>Create
the control shapes:</p>
<ol type="1" start="1"><li>
<img src="./images/MED/3dsMaxTut/English/but/but_shapes.png"> On the
Create panel, click Shapes.</li><li>In
the Top or Perspective viewport, create a rectangle slightly larger
than the foot. Name the shape <em class="strong">CtrlFoot</em>.<span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-6ab5"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/tut/tut_introrig_foot_control.png"></p>
</div>
<p><span style="display:none"><a name="WS1a9193826455f5ffba679e112c9ef5a71-19f3"></a></span>This is
the shape you will use to control the foot. Because the character
is standing on the construction plane, the shape is already positioned
under the character's foot.</p>
</li><li>
<img src="./images/MED/3dsMaxTut/English/but/but_zoom.png"> Zoom
out the Top viewport to give yourself room to make the next shape.</li><li>In
the Top viewport, create a rectangle about four times as large as
the first. Name the shape <em class="strong">CtrlBody</em>.<span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-6ab4"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/tut/tut_introrig_body_control.png"></p>
</div>
<p><span style="display:none"><a name="WS1a9193826455f5ffba679e112c9ef5a71-19f2"></a></span>You will
use this shape to control the entire body.</p>
</li><li>In
the Top viewport, create a Circle about twice as wide as the widest
bone. Name the shape <em class="strong">CtrlLeg</em>.<p><span style="display:none"><a name="WS1a9193826455f5ffba679e112c9ef5a71-19f1"></a></span>You will
use this shape to control the upper part of the leg.</p>
</li><li>
<img src="./images/MED/3dsMaxTut/English/but/but_align_max.png"> Use
Align to align the circle with the lowest spine bone, BoneSpine01.
On the Align dialog, choose Pivot Point for both the Current Object
and Target Object, and align the circle's position on the X, Y and
Z axes.<span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-6ab3"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/tut/tut_introrig_leg_control.png"></p>
</div>
</li></ol>






<!--OList--><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-6ab2"></a></span>
<p class="list-intro"><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-6ab1"></a></span>Use
a custom shape:</p>
<p><span style="display:none"><a name="WS1a9193826455f5ffba679e112c9ef5a71-19f0"></a></span>To control the spine and neck, you will use
a custom shape created from a circle and two lines. This shape has
been provided for you.</p>
<ol type="1" start="1"><li>Choose
File menu &gt; Merge, and choose the file <span class="filePath">tut_introrig_controlshape.max</span>.
On the Merge dialog, select <em class="mild">Control Shape</em>,
and click Merge.<p><span style="display:none"><a name="WS1a9193826455f5ffba679e112c9ef5a71-19ef"></a></span>The merged shape is a circle enclosed two crossed
lines. This shape was created by converting a circle to an Editable
Spline, and drawing two lines across its center. The lines will
distinguish this shape from the circle.</p>
<span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-6ab0"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/tut/tut_introrig_control_shape.png"></p>
</div>
</li><li>Name
the shape <em class="strong">CtrlSpine</em>.</li><li>
<img src="./images/MED/3dsMaxTut/English/but/but_align_max.png"> Align <em class="mild">CtrlSpine</em> with
the lowest spine bone, <em class="mild">BoneSpine01</em>. On the Align dialog,
choose Pivot Point for both the Current Object and Target Object,
and align the control shape's position on the X, Y and Z axes.<span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-6aaf"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/tut/tut_introrig_spine_control.png"></p>
</div>
</li><li>Make
a copy of the control shape, and name it <em class="strong">CtrlNeck</em>.</li><li>
<img src="./images/MED/3dsMaxTut/English/but/but_align_max.png"> Align <em class="mild">CtrlNeck</em> with
the head bone, <em class="mild">BoneHead</em>. On the Align dialog,
choose Pivot Point for both the Current Object and Target Object, and
align the control shape's position on the X, Y, and Z axes.<span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-6aae"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/tut/tut_introrig_neck_control.png"></p>
</div>
</li><li>Save
the scene with the filename <em class="strong">my_introrig_shapes.max</em>.<p><span style="display:none"><a name="WS1a9193826455f5ffba679e112c9ef5a71-19ee"></a></span>You can
find a scene with the rig control shapes correctly placed and named
in the file <span class="filePath">tut_introrig_shapes.max</span>.</p>
</li></ol>






<!--OList--><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-6aad"></a></span>
<p class="list-intro"><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-6aac"></a></span>Link
the bones and IK chains to the control objects:</p>
<p><span style="display:none"><a name="WS1a9193826455f5ffba679e112c9ef5a71-19ed"></a></span>Now you will link bones and IK chains to their
appropriate control objects.</p>
<ol type="1" start="1"><li>
<img src="./images/MED/3dsMaxTut/English/but/but_select_link_off.png"> Use
Select and Link to link <em class="mild">IKToe</em>, the IK chain at the tip
of the foot, to <em class="mild">CtrlFoot</em>.</li><li>
<img src="./images/MED/3dsMaxTut/English/but/but_select_link_off.png"> Link <em class="mild">BoneHip</em> to <em class="mild">CtrlLeg</em>,
the circle shape.</li><li>
<img src="./images/MED/3dsMaxTut/English/but/but_select_link_off.png"> Link <em class="mild">BoneSpine01</em> to <em class="mild">CtrlSpine</em>,
the control shape at the bottom of the spine.</li><li>
<img src="./images/MED/3dsMaxTut/English/but/but_select_link_off.png"> Link <em class="mild">BoneHead</em> to <em class="mild">CtrlNeck</em>.<p><span style="display:none"><a name="WS1a9193826455f5ffba679e112c9ef5a71-19ec"></a></span>Until this
point, BoneHead was linked to BoneSpine02, the topmost spine bone.
Now that you have linked it to CtrlNeck, the head is no longer linked
to the body.</p>
</li><li>
<img src="./images/MED/3dsMaxTut/English/but/but_select_link_off.png"> Link <em class="mild">CtrlNeck</em> to <em class="mild">BoneSpine02</em>.<p><span style="display:none"><a name="WS1a9193826455f5ffba679e112c9ef5a71-19eb"></a></span>Now the
head is linked to the spine again via the control shape CtrlNeck.</p>
<p><span style="display:none"><a name="WS1a9193826455f5ffba679e112c9ef5a71-19ea"></a></span>The spine
and leg were not linked when you created them. Now you will connect
them together by linking the control objects.</p>
</li><li>
<img src="./images/MED/3dsMaxTut/English/but/but_select_link_off.png"> Link <em class="mild">CtrlSpine</em> to <em class="mild">CtrlLeg</em>.</li></ol>






<!--OList--><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-6aab"></a></span>
<p class="list-intro"><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-6aaa"></a></span>Test
the rig:</p>
<p><span style="display:none"><a name="WS1a9193826455f5ffba679e112c9ef5a71-19e9"></a></span>Now you will test the rig to see how well it
works. To avoid moving the bones in their initial states, you will
leave the pose intact on frame 0, and animate the bone on another
frame.</p>
<ol type="1" start="1"><li>Turn
on Auto Key.</li><li>Go
to frame 10.<p><span style="display:none"><a name="WS1a9193826455f5ffba679e112c9ef5a71-19e8"></a></span>There is already animation on the IK chain at
the ball of the foot which makes the heel rise at frame 10. You
don't need this animation to test the rig.</p>
</li><li>Select
IKBall. On the track bar, select the key at frame 10, then right-click
and choose Delete Selected Keys.</li><li>Move <em class="mild">CtrlLeg</em> downward
to bend the leg.<span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-6aa9"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/tut/tut_introrig_animate_leg.png"></p>
</div>
<p><span style="display:none"><a name="WS1a9193826455f5ffba679e112c9ef5a71-19e7"></a></span>
<em class="mild">CtrlLeg</em> moves
and turns both the thigh and spine.</p>
</li><li>Select <em class="mild">CtrlSpine</em>.
In the Front viewport, rotate this control to make the spine bend
to your left.<span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-6aa8"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/tut/tut_introrig_animate_spine.png"></p>
</div>
<p><span style="display:none"><a name="WS1a9193826455f5ffba679e112c9ef5a71-19e6"></a></span>
<em class="mild">CtrlSpine</em> controls
just the upper body.</p>
</li><li>In
the Front viewport, rotate <em class="mild">CtrlNeck</em> to make the head bend
farther in the same direction as the spine.<span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-6aa7"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/tut/tut_introrig_animate_head.png"></p>
</div>
<p><span style="display:none"><a name="WS1a9193826455f5ffba679e112c9ef5a71-19e5"></a></span>Now the
character looks out of balance.</p>
</li><li>In
the Front viewport, move <em class="mild">CtrlLeg</em> to your right to balance
the character's weight.<span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-6aa6"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/tut/tut_introrig_animate_balance.png"></p>
</div>
</li><li>Drag
the time slider to scrub the animation.<span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-6aa5"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/tut/tut_introrig_animate_test.png"></p>
</div>
<p><span style="display:none"><a name="WS1a9193826455f5ffba679e112c9ef5a71-19e4"></a></span>The rig
makes the character very easy to animate. </p>
<div><span style="display:none"><a name="WS1a9193826455f5ff662ffb11407b58d52-7119"></a></span><div class="note-note"><span class="label">Note</span>If
you rotate <span class="charspan-special">
<em class="mild">CtrlLeg</em>
</span>,
both the spine and thigh will rotate. Some character riggers prefer
to keep the spine and thigh rotation separate by creating another
control around the hips and linking both the spine and leg controls
to this additional control. This type of setup allows you to rotate
the thigh without rotating the spine. </div></div>
</li></ol>








<!--OList--><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-6aa4"></a></span>
<p class="list-intro"><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-6aa3"></a></span>Finish
the rig:</p>
<p><span style="display:none"><a name="WS1a9193826455f5ffba679e112c9ef5a71-19e3"></a></span>The last necessary part of the rig is a control
that allows you to move the entire character to another part of
the scene. The object CtrlBody will accomplish this.</p>
<ol type="1" start="1"><li>
<img src="./images/MED/3dsMaxTut/English/but/but_select_link_off.png"> Link <em class="mild">CtrlFoot</em> to <em class="mild">CtrlBody</em>.</li><li>
<img src="./images/MED/3dsMaxTut/English/but/but_select_link_off.png"> Link <em class="mild">CtrlLeg</em> to <em class="mild">CtrlBody</em>.</li><li>Test
the setup by moving <em class="mild">CtrlBody</em>. The entire character
should move with it. Undo any movements before continuing.</li><li>Save
the scene as <em class="strong">my_introrig_controls.max</em>.<p><span style="display:none"><a name="WS1a9193826455f5ffba679e112c9ef5a71-19e2"></a></span>You can
find a version of this scene in the file <span class="filePath">tut_introrig_controls.max</span>.</p>
</li></ol>




<div class="section"><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-6aa2"></a></span>
<p class="section_title_h1"><a name="TOC_ENTRY__d0e48281"></a>Next</p>
<p><span style="display:none"><a name="WS1a9193826455f5ffba679e112c9ef5a71-19e1"></a></span>
<span class="hypertext">
<span class="char_link"><a href="WSf742dab04106313311b7d0e3112a19e3350-7fd2.htm"><!--Reference = WSf742dab04106313311b7d0e3112a19e3350-7fd2; Target topic = WSf742dab04106313311b7d0e3112a19e3350-7fd2.htm-->Wiring a Custom Attribute</a></span>
</span>
</p>
</div>

<!----><div class="footer-block"><a href="javascript:doComments('./html/ac.cmtdialog.htm');"><span class="comments-link">Please send us your comment about this page</span></a></div><br></body></html>
