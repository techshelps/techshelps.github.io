<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=iso8859-1">
   <title>Adding Radiosity to Vertex Color</title><link rel="stylesheet" type="text/css" href="./style/cpm.css"><link rel="stylesheet" type="text/css" href="./style/isd.css"><link rel="stylesheet" type="text/css" href="./style/commons.css"><link rel="stylesheet" type="text/css" href="./style/contents.css"><link rel="stylesheet" type="text/css" href="./style/header.css"><link rel="stylesheet" type="text/css" href="./style/indexes.css"><link rel="stylesheet" type="text/css" href="./style/search.css"><link rel="stylesheet" type="text/css" href="./style/med.css"><script type="text/javascript" src="./scripts/ac.strings.js"></script><script type="text/javascript" src="./ac_common.js"></script><script type="text/javascript" src="./scripts/acmap.js"></script><script type="text/javascript" src="./scripts/ac.acad_ak.js"></script><script type="text/javascript" src="./scripts/index-processing.js"></script><script type="text/javascript" src="./scripts/search-processing.js"></script><script type="text/javascript" src="./scripts/toc-processing.js"></script><script type="text/javascript" src="./scripts/highlight.js"></script><script type="text/javascript" src="./scripts/favorites.js"></script><script type="text/javascript" src="./scripts/commons-processing.js"></script><script language="javascript">
            function hideInfo() {
                info = document.getElementById('infoline');
                info.innerHTML = ' ';
                info.style.visibility = 'hidden';
            }
            function showInfo(title) {
                info = document.getElementById('infoline');
                info.innerHTML = title;
                info.style.visibility='visible';
            }
        </script><meta name="description" content="Adding Radiosity to Vertex Color"><meta name="keywords" content=""><meta name="topic-type" content="concept"></head><body><!--
							Name = Topic;
							Class =  CPM-Topic ISD-Topic ;
							Url = WSf742dab04106313373c293b3112a19e3d72-7fdc.htm--><div class="head"><div class="head-block"><div class="nav-group"><!--browse buttons--><div class="browse"><nobr><!--No Additional browse buttons are defined--><div id="prevTitle" style="display:none">Painting Vertex Color</div><a href="WSf742dab04106313373c293b3112a19e3d72-7fdd.htm" class="headNavLink" onmouseover="showInfo(document.getElementById('prevTitle').innerHTML);" onmouseout="hideInfo();"><img src="./images/nav-prev-xp.gif" border="0"></a><div id="parentTitle" style="display:none">Painting Vertex Color</div><a href="WSf742dab04106313373c293b3112a19e3d72-7fdd.htm" class="headNavLink" onmouseover="showInfo(document.getElementById('parentTitle').innerHTML);" onmouseout="hideInfo();"><img src="./images/nav-up-xp.gif" border="0"></a><div id="nextTitle" style="display:none">Painting the Garage with VertexPaint</div><a href="WSf742dab04106313373c293b3112a19e3d72-7fdb.htm" class="headNavLink" onmouseover="showInfo(document.getElementById('nextTitle').innerHTML);" onmouseout="hideInfo();"><img src="./images/nav-next-xp.gif" border="0"></a></nobr></div><!--end browse buttons--></div><div class="button-info"><span id="infoline">&nbsp;</span></div><div class="ancestry"><a href="welcome.htm">Autodesk 3ds Max Tutorials</a>&nbsp;&gt;&nbsp;<a href="WSf742dab04106313373c293b3112a19e3d72-8000.htm">Materials and Mapping Tutorials</a>&nbsp;&gt;&nbsp;<a href="WSf742dab04106313373c293b3112a19e3d72-7fde.htm">Vertex Color and Interactive Shading</a>&nbsp;&gt;&nbsp;<a href="WSf742dab04106313373c293b3112a19e3d72-7fdd.htm">Painting Vertex Color</a>&nbsp;&gt;&nbsp;</div><div class="head-text"><span>Adding Radiosity to Vertex Color</span></div></div></div><div class="head-margin">&nbsp;</div><div style="line-height: 0pt">&nbsp;</div><div class="head-margin">&nbsp;</div><span style="display:none"><a name="WSf742dab04106313373c293b3112a19e3d72-7fdc"></a></span>

<!--Body-->
<p><span style="display:none"><a name="WS73099cc142f4875513f8d121131880ab2f-6c3a"></a></span>You can take the lighting information from your file
and add it to the vertex color information. In this exercise, you
will open a scene of a garage, a typical game environment. The skylights
and fluorescent tubes in the garage have advanced lighting override
materials applied to them. You will calculate a radiosity solution
then &#8220;bake&#8221; it in the vertex color channels using the Assign Vertex
Colors Utility.</p>
<span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7b53"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/ill/ill_tut_vertpaint_garage2.png"></p>
<p class="figure-title">Radiosity with advanced lighting override materials</p>
</div>
<!--UList--><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7b52"></a></span>
<p class="list-intro"><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7b51"></a></span>Set
up the tutorial:</p>
<ul><li>Open <span class="filePath">tut_vertexpaint_garage_start.max</span>.</li></ul>

<p><span style="display:none"><a name="WS73099cc142f4875513f8d121131880ab2f-6c38"></a></span>This file has been prepared so that it has advanced
lighting override materials placed on the fluorescent tubes, the
overhead skylights, the hanging lamp, and the rear red skylight
in the back of the garage. First, you will adjust the luminance
scale on these materials.</p>
<!--OList--><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7b50"></a></span>
<p class="list-intro"><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7b4f"></a></span>Adjust
the Advanced Lighting Materials:</p>
<ol type="1" start="1"><li>Open
the Material Editor.<p><span style="display:none"><a name="WS73099cc142f4875513f8d121131880ab2f-6c37"></a></span>If you only see six material slots, do the next step.</p>
</li><li>Choose
Material Options and set Slots to 5 x 3.<p><span style="display:none"><a name="WS73099cc142f4875513f8d121131880ab2f-6c36"></a></span>Now you should be able to see 15 material slots.</p>
</li><li>Find
and highlight the <em class="mild">Skylight</em> material. </li><li>Increase
the Luminance Scale from 500 to <em class="strong">12000</em>.</li><li>Select
the <em class="mild">Cone_Light</em> material and increase
the Luminance Scale from 5000 to <em class="strong">10000</em>.</li><li>Select
the <em class="mild">Fluorescent_Light</em> material and
increase the Luminance Scale to <em class="strong">10000</em>.<p><span style="display:none"><a name="WS73099cc142f4875513f8d121131880ab2f-6c35"></a></span>The Advanced Lighting Override Material will
give the illusion that the objects are casting lighting in the scene.
By increasing these Luminance Scale values the garage will become
more brightly lit, once the radiosity is solved.</p>
<div><span style="display:none"><a name="WS1a9193826455f5ff662ffb11407b58d52-7308"></a></span><div class="note-note"><span class="label">Note</span>This tutorial does not use Exposure Control.
Generally, when working with radiosity, you can turn on Logarithmic
Exposure Control for best results.</div></div>
<p><span style="display:none"><a name="WS73099cc142f4875513f8d121131880ab2f-6c34"></a></span>Next, you will calculate the radiosity solution.</p>
</li></ol>






<!--OList--><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7b4e"></a></span>
<p class="list-intro"><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7b4d"></a></span>Calculate
the radiosity solution:</p>
<ol type="1" start="1"><li>On
the Rendering menu, choose Render.</li><li>On
the Render Scene dialog, click the Advanced Lighting tab.</li><li> Make
sure Display Radiosity In Viewport is turned on and Initial Quality
is set to 70%, then click Start.<p><span style="display:none"><a name="WS73099cc142f4875513f8d121131880ab2f-6c33"></a></span> The Radiosity solution is created, and the
viewport displays the shadowing created using the advanced lighting.</p>
<span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7b4c"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/ill/ill_tut_vertpaint_garage1.png"></p>
<p></p><p class="figure-title">Radiosity displayed in viewport</p>
</div>
<p><span style="display:none"><a name="WS73099cc142f4875513f8d121131880ab2f-6c32"></a></span>You'll now repeat the technique you just used
one more time.</p>
</li><li>In
the Material Editor, select the material named <em class="mild">Red_Light</em>.</li><li>In
the Special Effects group, increase the Luminance Scale to <em class="strong">40000</em>. </li><li>Close
the Material Editor.<p><span style="display:none"><a name="WS73099cc142f4875513f8d121131880ab2f-6c31"></a></span>On the Render Scene dialog, there is a message
saying the Solution is invalid at the current time frame.</p>
</li><li>On
the Render Scene dialog in the Radiosity Processing Parameters,
click Reset. Click Yes to confirm.<p><span style="display:none"><a name="WS73099cc142f4875513f8d121131880ab2f-6c30"></a></span>The viewport updates to reflect the reset Radiosity.</p>
</li><li>Click
Start again. <p><span style="display:none"><a name="WS73099cc142f4875513f8d121131880ab2f-6c2f"></a></span>The radiosity solution calculates then displays
in the viewport. The red light color is now splashed prominently
on the back walls.</p>
<span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7b4b"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/ill/ill_tut_vertpaint_garage2.png"></p>
<p></p><p class="figure-title">Red skylight color increased</p>
</div>
</li></ol>








<p><span style="display:none"><a name="WS73099cc142f4875513f8d121131880ab2f-6c2e"></a></span>Next, you will take the radiosity lighting information
and add it to the vertex color information by using the Assign Vertex
Color utility. This will create a vertex paint layer that you can
manipulate.</p>
<!--OList--><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7b4a"></a></span>
<p class="list-intro"><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7b49"></a></span>Bake
radiosity into the vertex paint layer:</p>
<ol type="1" start="1"><li>On
the toolbar, find the Named Selection Set drop-down list and click
the down arrow. Choose <em class="mild">VertPt_set</em> from the list.<p><span style="display:none"><a name="WS73099cc142f4875513f8d121131880ab2f-6c2d"></a></span>This will select all the objects in the scene,
except for the lights. </p>
</li><li>
<img src="./images/MED/3dsMaxTut/English/tab/tab_util.png"> On the
Utilities panel, choose More &gt; Assign Vertex Colors.</li><li>In
the Assign Vertex Colors rollout, leave the Channel set to Vertex
Color.</li><li>Make
sure in the Light Model group that Lighting + Diffuse is turned
on.</li><li>In
Color assignment, turn on Color By Vertex, if it isn&#8217;t already selected.</li><li>In
the Rendering Options rollout, make sure Mapping is on, and choose
Radiosity, Reuse Direct Illum. From Solution.</li><li>Click
Assign To Selected.<p><span style="display:none"><a name="WS73099cc142f4875513f8d121131880ab2f-6c2c"></a></span>The Radiosity information is assigned object
by object throughout the scene. You will see each object update
in the viewport.</p>
<span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7b48"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/ill/ill_tut_vertpaint_garage3.png"></p>
</div>
<p><span style="display:none"><a name="WS73099cc142f4875513f8d121131880ab2f-6c2b"></a></span>The vertex information has been applied to the
geometry, but the vertex isn't properly displaying it yet. To see
the vertex color information, you&#8217;ll use the floating vertex paintbox.</p>
</li><li>On
the Utility panel &gt; Assign Vertex Colors rollout, click Edit.<p><span style="display:none"><a name="WS73099cc142f4875513f8d121131880ab2f-6c2a"></a></span>The floating vertex paintbox appears, and the
Modify panel is now displayed instead of the Utility panel. The
VertexPaint modifier is now visible in the stack. It appears in
italics, indicating that it is an instanced modifier, shared by
several objects in the scene.</p>
</li></ol>








<!--OList--><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7b47"></a></span>
<p class="list-intro"><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7b46"></a></span>Display
the vertex color in the viewport:</p>
<p><span style="display:none"><a name="WS73099cc142f4875513f8d121131880ab2f-6c29"></a></span>At the top of the paintbox, a row of buttons
allow you to control the viewport display as you work.</p>
<span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7b45"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/ico/ico_vertex_color_display.png"></p>
</div>
<div style="margin-top:9pt"><span style="display:none"><a name="WS1a9193826455f5ff662ffb11407b58d52-7307"></a></span><div class="note-tip"><span class="label">Tip</span>It&#8217;s important to understand these modes.
Otherwise, you may find yourself painting over elements hidden in
the viewport.</div></div>
<ol type="1" start="1"><li>
<img src="./images/MED/3dsMaxTut/English/but/but_vertex_color_display_unshaded.png"> Click
the Vertex color display &#8211; unshaded button.<span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7b44"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/ill/ill_tut_vertpaint_garage4.png"></p>
<p></p><p class="figure-title">Unshaded vertex color displayed</p>
</div>
<p><span style="display:none"><a name="WS73099cc142f4875513f8d121131880ab2f-6c28"></a></span>The viewport now displays the vertex color without
the viewport lighting.</p>
</li><li>
<img src="./images/MED/3dsMaxTut/English/but/but_vertex_color_display_shaded.png"> Click
the Vertex color display &#8211; shaded button.<span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7b43"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/ill/ill_tut_vertpaint_garage5.png"></p>
<p></p><p class="figure-title">Shaded vertex color mode</p>
</div>
<p><span style="display:none"><a name="WS73099cc142f4875513f8d121131880ab2f-6c27"></a></span>The viewport now displays the vertex color <em class="mild">with</em> the
viewport lighting.</p>
</li><li>
<img src="./images/MED/3dsMaxTut/English/but/but_vertex_color_display_disable.png"> Click
the Vertex color display &#8211; disable vertex color button.<p><span style="display:none"><a name="WS73099cc142f4875513f8d121131880ab2f-6c26"></a></span>The vertex color is hidden.</p>
<span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7b42"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/ill/ill_tut_vertpaint_garage6.png"></p>
<p></p><p class="figure-title">Vertex color disabled</p>
</div>
</li><li> <img src="./images/MED/3dsMaxTut/English/but/but_vertex_color_display_shaded.png">Turn
display vertex color display &#8211; shaded on.<p><span style="display:none"><a name="WS73099cc142f4875513f8d121131880ab2f-6c25"></a></span>This is the mode you will use when you do your
vertex painting.</p>
<p><span style="display:none"><a name="WS73099cc142f4875513f8d121131880ab2f-6c24"></a></span>In the next section, you will explore using
the vertex paint tools to blur shadows, adjust color and paint directly
on the garage floor using multiple vertex color layers. But first
you should save your work.</p>
</li><li>Save
your file as <em class="strong">mygarage_vertexcolor01.max</em>.</li></ol>





<div class="section"><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7b41"></a></span>
<p class="section_title_h1"><a name="TOC_ENTRY__d0e69064"></a>Next</p>
<p><span style="display:none"><a name="WS73099cc142f4875513f8d121131880ab2f-6c23"></a></span>
<span class="hypertext">
<span class="char_link"><a href="WSf742dab04106313373c293b3112a19e3d72-7fdb.htm"><!--Reference = WSf742dab04106313373c293b3112a19e3d72-7fdb; Target topic = WSf742dab04106313373c293b3112a19e3d72-7fdb.htm-->Painting the Garage with VertexPaint</a></span>
</span>
</p>
</div>

<!----><div class="footer-block"><a href="javascript:doComments('./html/ac.cmtdialog.htm');"><span class="comments-link">Please send us your comment about this page</span></a></div><br></body><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script></html>
