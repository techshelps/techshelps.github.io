<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=iso8859-1">
   <title>Using Displacement Mapping with Surface Properties</title><link rel="stylesheet" type="text/css" href="./style/cpm.css"><link rel="stylesheet" type="text/css" href="./style/isd.css"><link rel="stylesheet" type="text/css" href="./style/commons.css"><link rel="stylesheet" type="text/css" href="./style/contents.css"><link rel="stylesheet" type="text/css" href="./style/header.css"><link rel="stylesheet" type="text/css" href="./style/indexes.css"><link rel="stylesheet" type="text/css" href="./style/search.css"><link rel="stylesheet" type="text/css" href="./style/med.css"><script type="text/javascript" src="./scripts/ac.strings.js"></script><script type="text/javascript" src="./ac_common.js"></script><script type="text/javascript" src="./scripts/acmap.js"></script><script type="text/javascript" src="./scripts/ac.acad_ak.js"></script><script type="text/javascript" src="./scripts/index-processing.js"></script><script type="text/javascript" src="./scripts/search-processing.js"></script><script type="text/javascript" src="./scripts/toc-processing.js"></script><script type="text/javascript" src="./scripts/highlight.js"></script><script type="text/javascript" src="./scripts/favorites.js"></script><script type="text/javascript" src="./scripts/commons-processing.js"></script><script language="javascript">
            function hideInfo() {
                info = document.getElementById('infoline');
                info.innerHTML = ' ';
                info.style.visibility = 'hidden';
            }
            function showInfo(title) {
                info = document.getElementById('infoline');
                info.innerHTML = title;
                info.style.visibility='visible';
            }
        </script><meta name="description" content="Using Displacement Mapping with Surface Properties"><meta name="keywords" content="moon - creating for close-up shot, close-up shot, displacement mapping, surface properties and displacement mapping,"><meta name="topic-type" content="concept"></head><body><!--
							Name = Topic;
							Class =  CPM-Topic ISD-Topic ;
							Url = WSf742dab04106313373c293b3112a19e3d72-7ff5.htm--><div class="head"><div class="head-block"><div class="nav-group"><!--browse buttons--><div class="browse"><nobr><!--No Additional browse buttons are defined--><div id="prevTitle" style="display:none">Texturing the Chessboard</div><a href="WSf742dab04106313373c293b3112a19e3d72-7ff6.htm" class="headNavLink" onmouseover="showInfo(document.getElementById('prevTitle').innerHTML);" onmouseout="hideInfo();"><img src="./images/nav-prev-xp.gif" border="0"></a><div id="parentTitle" style="display:none">Introduction to Materials and Mapping</div><a href="WSf742dab04106313373c293b3112a19e3d72-7fff.htm" class="headNavLink" onmouseover="showInfo(document.getElementById('parentTitle').innerHTML);" onmouseout="hideInfo();"><img src="./images/nav-up-xp.gif" border="0"></a><div id="nextTitle" style="display:none">Adding Stars to the Sky</div><a href="WSf742dab04106313373c293b3112a19e3d72-7ff4.htm" class="headNavLink" onmouseover="showInfo(document.getElementById('nextTitle').innerHTML);" onmouseout="hideInfo();"><img src="./images/nav-next-xp.gif" border="0"></a></nobr></div><!--end browse buttons--></div><div class="button-info"><span id="infoline">&nbsp;</span></div><div class="ancestry"><a href="welcome.htm">Autodesk 3ds Max Tutorials</a>&nbsp;&gt;&nbsp;<a href="WSf742dab04106313373c293b3112a19e3d72-8000.htm">Materials and Mapping Tutorials</a>&nbsp;&gt;&nbsp;<a href="WSf742dab04106313373c293b3112a19e3d72-7fff.htm">Introduction to Materials and Mapping</a>&nbsp;&gt;&nbsp;</div><div class="head-text"><span>Using Displacement Mapping with Surface Properties</span></div></div></div><div class="head-margin">&nbsp;</div><div style="line-height: 0pt">&nbsp;</div><div class="head-margin">&nbsp;</div><span style="display:none"><a name="WSf742dab04106313373c293b3112a19e3d72-7ff5"></a></span>

<!--Body-->
<span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7d8e"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/space/space99.png"></p>
</div>
<p><span style="display:none"><a name="WS73099cc142f4875513f8d121131880ab2f-6dca"></a></span>



In
this lesson, you make a moon with a detailed surface using displacement
mapping combined with Surface properties.</p>
<!--UList--><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7d89"></a></span>
<ul><li>Bitmaps
for this lesson can be found in the <em class="mild">tutorials/intro_to_materials</em> folder. </li></ul>

<!--OList--><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7d88"></a></span>
<p class="list-intro"><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7d87"></a></span>Create
a moon:</p>
<ol type="1" start="1"><li>Reset 3ds Max.</li><li>In
the Perspective viewport, create a sphere that fills the viewport. </li><li>On
the Create panel, set the Radius to <em class="strong">100</em>. Name the
sphere <em class="strong">Earth&#8217;s Moon</em>.</li><li>
<img src="./images/MED/3dsMaxTut/English/but/b_zoomea.png"> Click
Zoom Extents All to zoom out in all four viewports.</li></ol>




<!--OList--><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7d86"></a></span>
<p class="list-intro"><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7d85"></a></span>Set
up lights and cameras:</p>
<ol type="1" start="1"><li>Activate
the Perspective viewport, if necessary, then press <span class="keyCaps">Ctrl+C</span>. This creates a Target camera,
matches the camera to the Perspective viewport, and switches the
viewport to the camera view.</li><li>
<img src="./images/MED/3dsMaxTut/English/but/b_zoomea.png"> Click
Zoom Extents All. In the Top viewport, you see the camera is facing
the moon at about a 45 degree angle.<div><span style="display:none"><a name="WS1a9193826455f5ff662ffb11407b58d52-733d"></a></span><div class="note-note"><span class="label">Note</span>Your
sphere might be a different color than the one shown here.</div></div>
<span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7d84"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/ill/ill_camera_moon.png"></p>
</div>

</li><li>
<img src="./images/MED/3dsMaxTut/English/but/b_lights.png"> On the
Create panel, open the Lights sub-panel and click Omni.</li><li>In
the Top viewport, create an omni light by clicking at the bottom
of the viewport. Name this light <em class="strong">main light</em>.<span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7d82"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/ill/ill_main_light_moon.png"></p>
</div>
</li><li>On
the Modify panel, turn on Shadows and set Multiplier to <em class="strong">1.2</em>.</li><li>In
the Top viewport, create another omni light by clicking near the
top left of the viewport. Name this light <em class="strong">fill light</em>.<span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7d81"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/ill/ill_lights_moon.png"></p>
</div>
</li><li>On
the Modify panel, turn on Shadows and set Multiplier to <em class="strong">1.5</em>.
Then change the color of the fill light to orange. This adds some
warmth to the image.</li><li>Right-click
in the Camera viewport to activate it. Then press <span class="keyCaps">F9</span> to render the scene. <span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7d80"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/ill/ill_rend_sphere.png"></p>
</div>
<p><span style="display:none"><a name="WS73099cc142f4875513f8d121131880ab2f-6dc9"></a></span>In the rendered image, the highlights on the
moon appear very bright, and the edges of the moon need more detail.
You will fix both problems using mapping.</p>
</li></ol>








<!--OList--><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7d7f"></a></span>
<p class="list-intro"><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7d7e"></a></span>Map
the moon:</p>
<ol type="1" start="1"><li>Press <span class="keyCaps">M</span> to open the Material Editor.</li><li>Click
a material sample slot. Name the material <em class="strong">Earth's Moon</em>.</li><li>Choose
the Oren-Nayar-Blinn shader from the drop-down list on the Shader
Basic Parameters rollout. The highlights of the material darken,
giving the sample sphere a softer look.<span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7d7d"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/moon_oren1.png"></p>
<p></p><p class="figure-title">Comparing the Blinn (l) and Oren-Nayar-Blinn
(r) shaders</p>
</div>
</li><li>Click
the Diffuse map button; it's the blank gray button to the right
of the Diffuse color swatch. In the Material/Map Browser, choose
Bitmap and click OK.</li><li>Use
the Select Bitmap Image File dialog to open <span class="filePath">moon.jpg</span>. The moon map appears
on the sample sphere.</li><li>
<img src="./images/MED/3dsMaxTut/English/but/b_showmap.png"> Click
Show Map In Viewport, then drag the material onto the sphere.</li><li>Press <span class="keyCaps">F9</span> to do a test render. <span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7d7c"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/ill/ill_rend_moon.png"></p>
</div>
</li><li>
<img src="./images/MED/3dsMaxTut/English/but/b_gotopa.png"> In the
Material Editor, click Go To Parent.</li><li>Drag
from the Diffuse map button to the Diffuse Level map button, in
the Advanced Diffuse group. Choose Instance and click OK.</li><li>Press <span class="keyCaps">F9</span> to see the result.<span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7d7b"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/ill/ill_rend_moon_diffuse_lvl.png"></p>
<p></p><p class="figure-title">The dark areas of the map look even darker.</p>
</div>
</li></ol>










<!--OList--><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7d7a"></a></span>
<p class="list-intro"><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7d79"></a></span>Displace
the surface with a map:</p>
<p><span style="display:none"><a name="WS73099cc142f4875513f8d121131880ab2f-6dc8"></a></span>Displacement mapping uses an image or algorithm
to alter the geometry of an object. Unlike bump mapping, it actually
changes the mesh, so you can see the texture on the edges of an
object. Ordinarily this isn't visible until you render, although
you can see it in the viewports with the Disp Approx modifier. This
modifier is not covered in this tutorial.</p>
<ol type="1" start="1"><li>Open
the Maps rollout. Pull down the bottom edge of the Material Editor
so that you can see the entire rollout, if necessary.</li><li>Drag
the <span class="filePath">moon.jpg</span> map
from the Diffuse Level map component to the Displacement map component.
Choose Copy and click OK.<p><span style="display:none"><a name="WS73099cc142f4875513f8d121131880ab2f-6dc7"></a></span>The button next to Displacement is now labeled
"Map#2 (Moon.jpg)."</p>
</li><li>Set
Displacement amount to <em class="strong">-20</em>. </li><li>Select
the sphere. Right-click the sphere and choose Convert To Editable
Poly.</li><li>On
the Modify panel, scroll down to the Subdivision Displacement rollout
and open it. </li><li>In
the Subdivision Displacement rollout, turn on Subdivision Displacement
and click Low. This prevents the surface mesh from becoming too
complex.<span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7d78"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/rol/rol_epoly_subdiv_disp.png"></p>
</div>
</li><li>Press <span class="keyCaps">F9</span> to render. The surface of the moon
appears bumpy.<span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7d77"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/ill/ill_rend_moon_displace.png"></p>
</div>
</li><li>On
Material Editor &gt; Maps rollout, increase the Displacement amount
to <em class="strong">&#8211;50</em>.</li><li>Press <span class="keyCaps">F9</span> to render. The surface of the moon
appears even bumpier. <span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7d76"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/ill/ill_rend_moon_displace_n50.png"></p>
<p></p><p class="figure-title">Displacing the surface of the moon</p>
</div>
</li></ol>









<!--OList--><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7d75"></a></span>
<p class="list-intro"><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7d74"></a></span>Control
the areas of displacement:</p>
<p><span style="display:none"><a name="WS73099cc142f4875513f8d121131880ab2f-6dc6"></a></span>This procedure shows you how to control the
surface displacement so that it accentuates the areas of moderate
displacement. </p>
<ol type="1" start="1"><li>On
the Maps rollout of the Material Editor, click the Displacement
map button labeled "Map#2 (moon.jpg)."</li><li>On
the Bitmap Parameters rollout, click View Image. The close grayscale
values that you see in the map limit the amount of surface variation.</li><li>Close
the viewer window and scroll down to the Output rollout. </li><li>Open
the Output rollout and turn on Enable Color Map. Scroll to the bottom
so you can see both the graph and the gradient bar.<span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7d73"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/dlg/dlg_displace_output_graph.png"></p>
</div>
</li><li>Drag
the point on the right downward so the line is horizontal. <p><span style="display:none"><a name="WS73099cc142f4875513f8d121131880ab2f-6dc5"></a></span>The gradient bar and the sample slot turn black.</p>
</li><li>
<img src="./images/MED/3dsMaxTut/English/but/but_addpoint.png"> Click
Add Point. Then click to add two points to the curve at about one-third
intervals along its length.</li><li>
<img src="./images/MED/3dsMaxTut/English/but/b_movepoint.png"> Click
Move. Select the two points that you just created and move them
upward to form a trapezoidal graph. <span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7d72"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/dlg/dlg_displace_output_graph2.png"></p>
</div>
</li><li>Press <span class="keyCaps">F9</span>. The bumpiness increases across
the middle values of the map. <span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7d71"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/ill/ill_rend_moon_displace_graph.png"></p>
<p></p><p class="figure-title">The moon with mountains</p>
</div>
</li><li>
<img src="./images/MED/3dsMaxTut/English/but/b_gotopa.png"> Click
Go to Parent. Change the Displacement to <em class="strong">20</em> and press <span class="keyCaps">F9</span>. You now have a moon with craters.<span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7d70"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/ill/ill_rend_moon_w_craters.png"></p>
<p></p><p class="figure-title">Craters on the moon</p>
</div>
</li><li>Save
your file as <em class="strong">mymoon.max</em>.</li></ol>










<div class="section"><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7d6f"></a></span>
<p class="section_title_h1"><a name="TOC_ENTRY__d0e61828"></a>Next</p>
<p><span style="display:none"><a name="WS73099cc142f4875513f8d121131880ab2f-6dc4"></a></span>
<span class="hypertext">
<span class="char_link"><a href="WSf742dab04106313373c293b3112a19e3d72-7ff4.htm"><!--Reference = WSf742dab04106313373c293b3112a19e3d72-7ff4; Target topic = WSf742dab04106313373c293b3112a19e3d72-7ff4.htm-->Adding Stars to the Sky</a></span>
</span>
</p>
</div>

<!----><div class="footer-block"><a href="javascript:doComments('./html/ac.cmtdialog.htm');"><span class="comments-link">Please send us your comment about this page</span></a></div><br></body><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-1');</script></html>
