<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=iso8859-1">
   <title>Creating Gushing Water</title><link rel="stylesheet" type="text/css" href="./style/cpm.css"><link rel="stylesheet" type="text/css" href="./style/isd.css"><link rel="stylesheet" type="text/css" href="./style/commons.css"><link rel="stylesheet" type="text/css" href="./style/contents.css"><link rel="stylesheet" type="text/css" href="./style/header.css"><link rel="stylesheet" type="text/css" href="./style/indexes.css"><link rel="stylesheet" type="text/css" href="./style/search.css"><link rel="stylesheet" type="text/css" href="./style/med.css"><script type="text/javascript" src="./scripts/ac.strings.js"></script><script type="text/javascript" src="./ac_common.js"></script><script type="text/javascript" src="./scripts/acmap.js"></script><script type="text/javascript" src="./scripts/ac.acad_ak.js"></script><script type="text/javascript" src="./scripts/index-processing.js"></script><script type="text/javascript" src="./scripts/search-processing.js"></script><script type="text/javascript" src="./scripts/toc-processing.js"></script><script type="text/javascript" src="./scripts/highlight.js"></script><script type="text/javascript" src="./scripts/favorites.js"></script><script type="text/javascript" src="./scripts/commons-processing.js"></script><script language="javascript">
            function hideInfo() {
                info = document.getElementById('infoline');
                info.innerHTML = ' ';
                info.style.visibility = 'hidden';
            }
            function showInfo(title) {
                info = document.getElementById('infoline');
                info.innerHTML = title;
                info.style.visibility='visible';
            }
        </script><meta name="description" content="Creating Gushing Water"><meta name="keywords" content="gushing water, particle systems:creating gushing water,"><meta name="topic-type" content="concept"></head><body><!--
							Name = Topic;
							Class =  CPM-Topic ISD-Topic ;
							Url = WSf742dab04106313315bef0fb112a19e466a-7ffc.htm--><div class="head"><div class="head-block"><div class="nav-group"><!--browse buttons--><div class="browse"><nobr><!--No Additional browse buttons are defined--><div id="prevTitle" style="display:none">Creating Cigarette Smoke</div><a href="WSf742dab04106313315bef0fb112a19e466a-7ffd.htm" class="headNavLink" onmouseover="showInfo(document.getElementById('prevTitle').innerHTML);" onmouseout="hideInfo();"><img src="./images/nav-prev-xp.gif" border="0"></a><div id="parentTitle" style="display:none">Non-Event-Driven Particle Systems</div><a href="WSf742dab04106313315bef0fb112a19e466a-7ffe.htm" class="headNavLink" onmouseover="showInfo(document.getElementById('parentTitle').innerHTML);" onmouseout="hideInfo();"><img src="./images/nav-up-xp.gif" border="0"></a><div id="nextTitle" style="display:none">Working with Particle Flow</div><a href="WSf742dab04106313315bef0fb112a19e466a-7ffb.htm" class="headNavLink" onmouseover="showInfo(document.getElementById('nextTitle').innerHTML);" onmouseout="hideInfo();"><img src="./images/nav-next-xp.gif" border="0"></a></nobr></div><!--end browse buttons--></div><div class="button-info"><span id="infoline">&nbsp;</span></div><div class="ancestry"><a href="welcome.htm">Autodesk 3ds Max Tutorials</a>&nbsp;&gt;&nbsp;<a href="WS73099cc142f4875514c01ac112a7acef16-73a2.htm">Special Effects</a>&nbsp;&gt;&nbsp;<a href="WSf742dab04106313315bef0fb112a19e466a-7fff.htm">Particle Animation Tutorials</a>&nbsp;&gt;&nbsp;<a href="WSf742dab04106313315bef0fb112a19e466a-7ffe.htm">Non-Event-Driven Particle Systems</a>&nbsp;&gt;&nbsp;</div><div class="head-text"><span>Creating Gushing Water</span></div></div></div><div class="head-margin">&nbsp;</div><div style="line-height: 0pt">&nbsp;</div><div class="head-margin">&nbsp;</div><span style="display:none"><a name="WSf742dab04106313315bef0fb112a19e466a-7ffc"></a></span>

<!--Body-->
<p><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16fee"></a></span>

This
lesson uses particles to simulate gushing water. The techniques
are similar to those in the <span class="hypertext">
<span class="char_link"><a href="WSf742dab04106313315bef0fb112a19e466a-7ffd.htm"><!--Reference = WSf742dab04106313315bef0fb112a19e466a-7ffd; Target topic = WSf742dab04106313315bef0fb112a19e466a-7ffd.htm-->cigarette
smoke lesson</a></span>

</span>, but include some new methods.
For example, in the cigarette smoke tutorial, the Super Spray particle
system emitted particles from a single point in space. In this tutorial,
a slightly different particle system, PArray, emits particles from
an object surface.</p>
<span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7359"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/tut/t16b_finished.png"></p>
</div>
<p><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16fef"></a></span>Animation techniques used in this lesson:</p>
<!--UList--><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7358"></a></span>
<ul><li>Emitting
particles from geometry instead of from a point in space.</li><li>Using
Track View and a Noise controller to animate particle flow.</li><li>Using
motion blur to make the particles appear more like water.</li></ul>



<!--UList--><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7357"></a></span>
<p class="list-intro"><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7356"></a></span>Set
up the scene:</p>
<ul><li>Open <span class="filePath">gushing_water.max</span>.<p><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16ff1"></a></span>All the
files necessary for this tutorial are provided on the program disc
in the <em class="mild">\tutorials\simple_particle_effects</em> directory.
Before starting the tutorials, copy the <em class="mild">\tutorials</em> folder
from the disc to your local program installation.</p>
<p><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16ff2"></a></span>This is
a simple street scene with a brick wall, sidewalk, street, and fire
hydrant.</p>
</li></ul>

<div class="section"><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7355"></a></span>
<p class="section_title_h1"><a name="TOC_ENTRY__d0e81195"></a>Creating a Stream of Water</p>
<p><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16ff3"></a></span>To simulate water, the particles should be emitted
from the fire hydrant geometry. The PArray particle system can do
this.</p>
<!--OList--><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7354"></a></span>
<p class="list-intro"><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7353"></a></span>Make
a particle system that will be emitted from the fire hydrant:</p>
<ol type="1" start="1"><li>
<img src="./images/MED/3dsMaxTut/English/tut/t_create.png"> <img src="./images/MED/3dsMaxTut/English/but/b_geom.png"> On the
Create panel, make sure Geometry is active. Choose Particle Systems
from the drop-down list.</li><li>Turn
on PArray, then drag in the Right viewport to create a PArray particle
system.</li></ol>


<span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7352"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/tut/t16b_parray_right.png"></p>
<p class="figure-title">PArray in Right viewport</p>
</div>
<span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7351"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/tut/t16b_parray_camera.png"></p>
<p class="figure-title">PArray in Camera01 viewport</p>
</div>
<p><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16ff4"></a></span>The placement of the PArray system doesn't matter,
except for your convenience in selecting it. If you drag the time
slider or play the animation, you&#8217;ll notice that no particles are
emitted. PArray requires you to specify an object from which the
particles are emitted.</p>
<!--OList--><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7350"></a></span>
<p class="list-intro"><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-734f"></a></span>Choose
the fire hydrant nozzle as the particle emitter:</p>
<ol type="1" start="1"><li>
<img src="./images/MED/3dsMaxTut/English/tut/t_modify.png"> With
the PArray icon selected, go to the Modify panel.</li><li>Click
the Pick Object button at the top of the Basic Parameters rollout.</li><li>Press <span class="keyCaps">H</span>, and then choose <em class="mild">Firehydrant-nozzle01</em> in
the Select Objects dialog. Click Pick.<p><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16ff5"></a></span>Now if
you drag the time slider, you&#8217;ll notice that particles shoot out
in all directions. By default, PArray emits particles from the entire
surface of the selected object, in the direction of the polygons&#8217;
normals. (If the normals were flipped, the particles would emit
inward, toward the center of the hydrant.)</p>
<p><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16ff6"></a></span>For this
scene, the particles should emit only from the cap face at the end
of the nozzle. To do this, create a sub-object selection.</p>
</li></ol>



<!--OList--><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-734e"></a></span>
<p class="list-intro"><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-734d"></a></span>Create
a sub-object selection to restrict particle emission:</p>
<ol type="1" start="1"><li>
<img src="./images/MED/3dsMaxTut/English/but/b_objsel.png"> <img src="./images/MED/3dsMaxTut/English/tut/t_modify.png"> Select <em class="mild">Firehydrant-nozzle01,</em> and
then go to the Modify panel.</li><li>Choose
Modifiers &gt; Selection Modifiers &gt; Mesh Select.</li><li>
<img src="./images/MED/3dsMaxTut/English/ico/i_plus.png"> Open
the Mesh Select modifier's hierarchy, and choose Polygon as the
active sub-object level.<span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-734c"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/tut/t16b_meshselect_poly.png"></p>
</div>
</li><li>
<img src="./images/MED/3dsMaxTut/English/but/b_objsel.png"> Select
the circular polygon at the end of the cylinder used to model the
nozzle.</li></ol>




<span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-734b"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/tut/t16b_nozzle_face_right.png"></p>
<p class="figure-title">Nozzle sub-object polygon selection in Right viewport</p>
</div>
<span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-734a"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/tut/t16b_nozzle_face_rt_cam.png"></p>
<p class="figure-title">Nozzle sub-object polygon selection in Camera01 viewport</p>
</div>
<p><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16ff7"></a></span>Now you have a sub-object selection that the
PArray particle system can use.</p>
<!--OList--><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7349"></a></span>
<p class="list-intro"><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7348"></a></span>Set
the PArray to use the sub-object selection:</p>
<ol type="1" start="1"><li>Click
the Mesh Select entry in the modifier stack display to turn off
sub-object selection.</li><li>
<img src="./images/MED/3dsMaxTut/English/but/b_objsel.png"> In a
viewport, select the PArray icon.</li><li>
<img src="./images/MED/3dsMaxTut/English/tut/t_modify.png"> On the
Modify panel, go to the Basic Parameters rollout, and in the Particle
Formation group, turn on Use Selected SubObjects.<p><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16ff8"></a></span>Now particles
are emitted from only the end of the cylinder, as if it were an
actual nozzle.</p>
</li></ol>



<!--OList--><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7347"></a></span>
<p class="list-intro"><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7346"></a></span>Adjust
the particle generation parameters:</p>
<ol type="1" start="1"><li>
<img src="./images/MED/3dsMaxTut/English/tut/t_modify.png"> With
the PArray still selected and the Modify panel still active, go
to the Particle Generation rollout.</li><li>In
the Particle Quantity group, set the Use Rate value to <em class="strong">50</em>.<p><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16ff9"></a></span>Now 50
particles per frame are emitted. (Viewports preview only 10 percent
of the particles by default, so this change will be more obvious when
you render.)</p>
</li><li>In
the Particle Motion group, set the Divergence angle to <em class="strong">15 </em>degrees.<p><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16ffa"></a></span>This parameter
controls how much the stream of particles spreads. At a Divergence
of zero, particles are emitted in a straight line along the normals
of the emitter object.</p>
</li><li>In
the Particle Timing group, set the Emit Stop value to <em class="strong">100</em>.<p><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16ffb"></a></span>In other
words, particles are emitted for as long as the animation lasts
(100 frames).</p>
</li><li>Set
the Life value to <em class="strong">100.</em>
<p><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16ffc"></a></span>Particles
should live for the duration of the animation, too.</p>
</li></ol>





</div>
<div class="section"><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7345"></a></span>
<p class="section_title_h1"><a name="TOC_ENTRY__d0e81390"></a>Using Space Warps to Control the Stream</p>
<p><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16ffd"></a></span>To make the stream of particles behave more
effectively like water, you use two space warps: a Gravity space
warp to make the stream fall realistically, and a Deflector space
warp to model the roadbed.</p>
<!--OList--><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7344"></a></span>
<p class="list-intro"><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7343"></a></span>Add
gravity to control the stream:</p>
<ol type="1" start="1"><li>
<img src="./images/MED/3dsMaxTut/English/tut/t_create.png"> <img src="./images/MED/3dsMaxTut/English/but/b_swarp.png"> On the
Create Panel, click Space Warps.</li><li>With
Forces the active space warp category, click Gravity. Drag in the
Top viewport to create the space warp near the fire hydrant object.<p><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16ffe"></a></span>By default,
Gravity is exerted along the negative Z axis (away from the viewer)
in the viewport where you create it. So using the Top viewport to
create Gravity makes it pull downward, as one usually expects.</p>
</li></ol>


<span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7342"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/tut/t16b_gravity_top.png"></p>
<p class="figure-title">Gravity in Top viewport</p>
</div>
<span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7341"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/tut/t16b_gravity_camera.png"></p>
<p class="figure-title">Gravity in Camera01 viewport</p>
</div>
<p><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16fff"></a></span>The default parameters for the Gravity space
warp are satisfactory, so you don't need to adjust them. Gravity
is pretty straightforward: simply a directional force with realistic
acceleration.</p>
<!--OList--><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7340"></a></span>
<p class="list-intro"><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-733f"></a></span>Bind
the gravity space warp to the particles:</p>
<ol type="1" start="1"><li>
<img src="./images/MED/3dsMaxTut/English/but/but_bind_.png"> Click
Bind To Space Warp.</li><li>Drag
from the PArray particle system to the Gravity space warp. When
the cursor changes to notify you that the binding is legal, release the
mouse button.<p><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef161000"></a></span>The Gravity space warp highlights briefly to
let you know that the operation is complete.</p>
</li><li>Now
drag the time slider again.<p><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef161001"></a></span>Particles
emitted from the nozzle are now affected by gravity, and fall downwards.
Unfortunately, at this point they also fall through the street.
Renderable geometry does not deflect particles. To model the street, you&#8217;ll
create a Deflector space warp to stop the particles when they reach ground
level.</p>
</li></ol>



<!--OList--><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-733e"></a></span>
<p class="list-intro"><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-733d"></a></span>Add
a deflector at street level:</p>
<ol type="1" start="1"><li>
<img src="./images/MED/3dsMaxTut/English/tut/t_create.png"> <img src="./images/MED/3dsMaxTut/English/but/b_swarp.png"> On the
Create panel, click Space Warps if necessary. Change the active
space warp category to Deflectors, and then click Deflector.</li><li>Drag
in the Top viewport to create the Deflector space warp. This space
warp's icon should cover the area covered by the <em class="mild">Street</em> and <em class="mild">Curb</em> objects.
It can extend beyond their bounds, as well.<p><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef161002"></a></span>Creating
the Deflector in the Top viewport ensures that it is created at
ground level. Unlike some kinds of space warps, the size and location
of the Deflector icon have an effect in the scene. The deflector
controls the region where particles will be deflected. A deflector
doesn't render, but its placement affects particle interaction.</p>
<span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-733c"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/tut/t16b_deflector_top.png"></p>
<p></p><p class="figure-title">Deflector in top viewport</p>
</div>
</li></ol>


<!--OList--><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-733b"></a></span>
<p class="list-intro"><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-733a"></a></span>Bind
the deflector to the particles:</p>
<ol type="1" start="1"><li>
<img src="./images/MED/3dsMaxTut/English/but/but_bind_.png"> Turn
on Bind To Space Warp.</li><li>Drag
from the PArray particle system to the Deflector space warp. When
the cursor changes to notify you that the binding is legal, release
the mouse button.<p><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef161003"></a></span>The Deflector space warp highlights briefly
to let you know that the operation is complete.</p>
</li><li>Drag
the time slider.<p><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef161004"></a></span>The PArray particles emit from the nozzle, fall
downward due to Gravity, and then bounce off of the Deflector. At
this point, the particles bounce too much. In reality, when an object
bounces or reflects from an object, a certain amount of energy is
lost. Also, the particles don't come to rest but keep moving as
if the street object were a smooth sheet of glass. Both of these
problems can be corrected by adjusting Deflector parameters.</p>
</li><li>
<img src="./images/MED/3dsMaxTut/English/but/b_objsel.png"> <img src="./images/MED/3dsMaxTut/English/tut/t_modify.png"> Select
the Deflector space warp if necessary and go to the Modify panel.</li><li>In
the Parameters rollout, change the Bounce value to <em class="strong">0.2</em>,
and increase the Friction value to <em class="strong">10.0</em>.</li><li>Drag
the time slider.<p><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef161005"></a></span>Now particles reflect from the Deflector with
less velocity, and as they slide across its surface, the increased
friction makes them come to rest eventually.</p>
</li></ol>






</div>
<div class="section"><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7339"></a></span>
<p class="section_title_h1"><a name="TOC_ENTRY__d0e81538"></a>Modulating the Rate of Particle Emission</p>
<p><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef161006"></a></span>So far, the fire hydrant emits water in a steady
stream. This doesn't look too realistic, because gushing water tends
to pulse. To simulate this, you can animate the PArray system's
Speed parameter. In this tutorial, you combine a Bezier Float controller
with a Noise controller to apply some randomness to the Speed, creating
a pulsating motion.</p>
<!--OList--><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7338"></a></span>
<p class="list-intro"><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7337"></a></span>Assign
controllers to the Speed parameter:</p>
<ol type="1" start="1"><li>
<img src="./images/MED/3dsMaxTut/English/but/b_objsel.png"> <img src="./images/MED/3dsMaxTut/English/tut/t_modify.png"> Select
the PArray particle system in the viewport.</li><li>On
the Modify panel &gt; stack display, click the PArray system to activate
its controls, rather than one of the space warp bindings.<span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7336"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/tut/t16b_stack_bindings.png"></p>
</div>
<span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7335"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/tut/t16b_stack_parray.png"></p>
<p></p><p class="figure-title">Before and after selecting the PArray level</p>
</div>
</li><li>On
the Particle Generation rollout, right-click the PArray&#8217;s Speed
value.<div><span style="display:none"><a name="WS73099cc142f487551face55114134b88b1-7d9d"></a></span><div class="note-warning"><span class="label">Warning</span>Don't right-click the up/down arrows to
the right of the spinner. This resets the Speed to 0.0.</div></div>
</li><li>In
the pop-up menu, choose Show In Track View.<p><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef161007"></a></span>Track View
opens to show the various parameters for PArray.</p>
<span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7334"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/tut/t16b_parray_trackview.png"></p>
</div>
</li><li>Locate
the Speed parameter for the PArray Object by expanding Object (PArray).<div><span style="display:none"><a name="WS73099cc142f487551face55114134b88b1-7d9c"></a></span><div class="note-tip"><span class="label">Tip</span>If you can't locate <span class="charspan-special">
<em class="mild">PArray01</em>
</span> in the Track
View dialog, choose Display &gt; Filters, and assure that Objects
is selected in the Show group of the Filters dialog.</div></div>
</li><li>With
the Speed parameter chosen, choose Controller &gt; Assign. Choose
Bezier Float from the Assign Float Controller dialog.<p><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef161008"></a></span>The Bezier
Float controller inherits a value of 10 from the original Speed
setting. You can actually keyframe this value, but in this animation there
is no need to do so.</p>
</li><li>Choose
Controller &gt; Assign again, and choose Float List from the Assign
Float Controller dialog.<p><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef161009"></a></span>Float List
is a List controller that combines controller values. If you expand
the Speed hierarchy in Track View, a track labeled Available appears
at the bottom of the Speed tracks. This is where you add new controllers
to the list.</p>
</li><li>Click
the Available track to highlight it, then choose Controller &gt;
Assign once more, and choose Noise Float from the Assign Float Controller
dialog.</li><li>The
List Controller dialog appears. Dismiss it, and select the <em class="mild">Noise
Float: Noise Float</em> item in Trackview.</li><li>Right-click <em class="mild">Noise
Float: Noise Float</em> and select Properties from the quad
menu.<p><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16100a"></a></span>The Noise Controller dialog appears.</p>
<span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7333"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/tut/t16b_d_noise.png"></p>
</div>
</li></ol>










<!--OList--><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7332"></a></span>
<p class="list-intro"><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7331"></a></span>Adjust
the Noise parameters:</p>
<p><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16100b"></a></span>The Noise controller can generate a randomly
pulsating motion. The default settings for Noise don't accomplish
this, so you need to adjust them.</p>
<ol type="1" start="1"><li>On
the Noise Controller dialog, change the settings as follows:<!--UList--><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7330"></a></span>
<ul><li>Set
the Frequency to <em class="strong">0.2</em>. This makes the noise more
undulating and less jittery.</li></ul>

<!--UList--><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-732f"></a></span>
<ul><li>Turn
off Fractal Noise. This too makes the noise smoother by making value
changes less abrupt.</li></ul>

<!--UList--><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-732e"></a></span>
<ul><li>Turn
on the toggle labeled &gt; 0. This constrains the value to be greater
than zero. In terms of the Speed parameter, less-than-zero values
would be rounded to zero, causing particles to have no speed when
they are emitted.</li></ul>

<!--UList--><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-732d"></a></span>
<ul><li>Set
the Strength value to <em class="strong">10.0</em>. This constrains the value
to be no greater than 20. The Speed value will range between 10
and 20.</li></ul>

</li><li>Close
the Noise Controller dialog.</li><li>Close
the List Controller dialog that appears.<p><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16100c"></a></span>Notice
that there is still an Available track at the bottom of the Speed
hierarchy. You can add as many controllers to the list as you want. This
can be a powerful technique.</p>
<span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-732c"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/del/del_t16_trackview.png"></p>
</div>
<p><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16100d"></a></span>Combining
the Noise controller with Bezier Float gives you more control over
the variation. Specifically, the Noise value modifies the Bezier value.
With a Bezier value of 10 and a Noise range of 10, the result of
the Float List potentially will range between 10 and 20, at a mean
of 15. (It actually ranges from less than 12 to approximately 18.)</p>
<div><span style="display:none"><a name="WS73099cc142f487551face55114134b88b1-7d9b"></a></span><div class="note-note"><span class="label">Note</span>You can achieve a similar effect by using
the PArray Variation parameter for particle motion, but the controllers
give you more control and eliminate the need for keyframing.</div></div>
</li><li>Close
Track View.</li></ol>




<!--UList--><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-732b"></a></span>
<p class="list-intro"><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-732a"></a></span>Preview
the animation:</p>
<ul><li>
<img src="./images/MED/3dsMaxTut/English/but/b_play.png"> Activate
the Camera01 viewport, and then click Play.<p><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16100e"></a></span>Now particles
are emitted with a more realistic pulsing motion, with spurts here
and there.</p>
</li></ul>

<p><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16100f"></a></span>The animation is now ready to render, except
that the water particles need an appropriate material.</p>
</div>
<div class="section"><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7329"></a></span>
<p class="section_title_h1"><a name="TOC_ENTRY__d0e81722"></a>Creating a Water Material</p>
<p><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef161010"></a></span>For gushing water, you want a material that
appears like foamy water. This material is similar to the material
you created for smoke. Facing particles with a soft radial gradient
map causes rendered particles to blend together into a foamy stream
that approximates the look of water.</p>
<!--OList--><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7328"></a></span>
<p class="list-intro"><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7327"></a></span>Set
up particles to render as facing geometry:</p>
<ol type="1" start="1"><li>
<img src="./images/MED/3dsMaxTut/English/but/b_objsel.png"> <img src="./images/MED/3dsMaxTut/English/tut/t_modify.png"> Select
the PArray particle system and go to the Modify panel.</li><li>In
the Particle Type rollout, go to the Standard Particles group, and
choose Facing.</li><li>In
the Particle Generation rollout, go to the Particle Size group. Set
the Size value to <em class="strong">4.0</em>, and the Variation value to <em class="strong">25.0</em> %.<p><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef161011"></a></span>If you
render the scene right now you see that the particles are displayed
as square facings. As with smoke, you need to soften their edges to
make them appear more amorphous.</p>
<span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7326"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/il/il_t16_particle_faces.png"></p>
</div>
</li></ol>



<!--OList--><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7325"></a></span>
<p class="list-intro"><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7324"></a></span>Create
the material:</p>
<ol type="1" start="1"><li>
<img src="./images/MED/3dsMaxTut/English/but/b_mat.png"> Open
the Material Editor and select an unused sample slot.</li><li>Click
the Diffuse color swatch to display the Color Selector, and change
the diffuse color to blue-gray (for example, R=<em class="strong">150,</em> G=<em class="strong">181,</em> B=<em class="strong">205).</em>
</li><li>Make
the material very glossy by setting the Specular Level to <em class="strong">131</em> and
the Glossiness to <em class="strong">63</em>.</li></ol>



<!--OList--><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7323"></a></span>
<p class="list-intro"><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7322"></a></span>Apply
maps to control the material's opacity:</p>
<ol type="1" start="1"><li>Open
the Maps rollout and click the Opacity map button.</li><li>In
the Material/Map Browser, choose a Gradient map, and then click
OK.</li><li>In
the Gradient Parameters rollout, set the Gradient Type to Radial.</li><li>
<img src="./images/MED/3dsMaxTut/English/but/b_gotopa.png"> Click
Go To Parent to return to the parent material. In the Maps rollout,
click the Diffuse map button.</li><li>In
the Material/Map Browser, choose a Mask map, and then click OK.</li><li>In
the Mask Parameters rollout, click the Mask button.</li><li>In
the Material/Map Browser, choose a Gradient map, and then click
OK.</li><li>In
the Gradient Parameters rollout for the new gradient map, set the
Gradient Type to Radial.</li></ol>








<!--UList--><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7321"></a></span>
<p class="list-intro"><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7320"></a></span>Turn
on face mapping to match the particle system:</p>
<ul><li>
<img src="./images/MED/3dsMaxTut/English/but/b_gotopa.png"> Click
the Go To Parent button to return to the parent material. In the
Shader Basic Parameters rollout, turn on Face Map.<p><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef161012"></a></span>If Face
Map is turned off, the facing particles still retain their sharp
edges. This is because, by default, particles read gradient maps
over time, not at once as for other kinds of geometry.</p>
</li></ul>

<!--UList--><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-731f"></a></span>
<p class="list-intro"><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-731e"></a></span>Assign
the material:</p>
<ul><li>
<img src="./images/MED/3dsMaxTut/English/but/but_assgnm.png"> Assign
this new material to the PArray particle system.<p><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef161013"></a></span>Now when
you render the scene, the particles are blended together quite nicely.</p>
<span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-731d"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/il/il_t16_particle_faces_with_water.png"></p>
</div>
</li></ul>

<p><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef161014"></a></span>The particles still look a bit "blobby," for
water. To improve this, you can use Image Motion Blur.</p>
</div>
<div class="section"><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-731c"></a></span>
<p class="section_title_h1"><a name="TOC_ENTRY__d0e81864"></a>Adding Motion Blur</p>
<p><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef161015"></a></span>There are several ways to generate motion blur
in <span class="charspan-special">3ds Max</span>
<em class="strong">.</em> For
the water from the hydrant, you use the method called Image Motion
Blur.</p>
<!--OList--><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-731b"></a></span>
<p class="list-intro"><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-731a"></a></span>Assign
Image Motion Blur to the PArray:</p>
<ol type="1" start="1"><li>
<img src="./images/MED/3dsMaxTut/English/but/b_objsel.png"> Select
the PArray particle system, and then right-click it.</li><li>Choose
Properties from the quad menu (lower-right, Transform quadrant).</li><li>In
the Motion Blur group of the Object Properties dialog, set the blur
type to Image, and make sure Enabled is turned on. Click OK.<span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7319"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/tut/t16b_g_imblur.png"></p>
</div>
</li></ol>



<p><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef161016"></a></span>The scene is now complete.</p>
</div>
<div class="section"><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7318"></a></span>
<p class="section_title_h1"><a name="TOC_ENTRY__d0e81904"></a>The Final Animation</p>
<span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef16-7317"></a></span><div class="figure-anchor">
<p><img src="./images/MED/3dsMaxTut/English/tut/t16b_finished.png"></p>
</div>
<p><span style="display:none"><a name="WS73099cc142f4875514c01ac112a7acef161017"></a></span>You are now ready to activate the Camera01 viewport
and render the entire animation. Even at low resolution, this can
take about half an hour. Alternatively, you can play the file <span class="filePath">gushing_water.avi</span>, provided on
the program disc.</p>
</div>

<!----><div class="footer-block"><a href="javascript:doComments('./html/ac.cmtdialog.htm');"><span class="comments-link">Please send us your comment about this page</span></a></div><br></body></html>
