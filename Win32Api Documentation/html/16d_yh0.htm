<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>API Buffers</TITLE>
</HEAD>

<BODY BGCOLOR="#FFFFC8" TEXT="#341717">



<P><A NAME="16d_yh0"></A><B>API Buffers</B></P>

<P>The RPC run-time allocates the buffers required to remote the ported LAN Manager functions. This is a requirement for both efficiency and interoperability. Using the RPC run time to allocate the API transmission buffers results in the two significant differences between a Windows implementation and a LAN Manager 2.<I>x</I> implementation:</P>

<P>·For a set type function (data sent to the server) the function caller specifies a buffer containing the information structure relevant to the function level but does not specify the buffer length.</P>

<P>·For a get type function (data returned from the server) the caller does not preallocate a buffer for the return information. The caller passes a LPBYTE * to the function on input. On successful return the buffer pointer will contain a pointer to a buffer containing the return information. When the caller has finished processing the returned information the <A HREF="1arvkh1.htm"><B>NetApiBufferFree</B></A> function must be called. This simplifies the calling code, because the caller does not need to guess at the size of the buffer required and will not need to resize and reissue the function.</P>

<P></P>

</BODY>
</HTML>
