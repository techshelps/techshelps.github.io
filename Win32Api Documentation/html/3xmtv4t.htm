<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>WM_SYSCOMMAND</TITLE>
</HEAD>

<BODY BGCOLOR="#FFFFC8" TEXT="#341717">



<P><A NAME="3xmtv4t"></A><B>WM_SYSCOMMAND  <A HREF="165jy8g.htm"><IMG SRC="../images/bm1.gif" ALT="" BORDER=0></A>  <A HREF="2n5q1vx.htm"><IMG SRC="../images/bm3.gif" ALT="" BORDER=0></A>  <A HREF="llzv74.htm"><IMG SRC="../images/bm2.gif" ALT="" BORDER=0></A></B></P>

<P>A window receives this message when the user chooses a command from the <B>window</B> menu (also known as the System menu or Control menu) or when the user chooses the Maximize button or Minimize button.</P>

<P>WM_SYSCOMMAND  </P>

<P>uCmdType = wParam;        // type of system command requested </P>

<P>xPos = LOWORD(lParam);    // horizontal postion, in screen coordinates </P>

<P>yPos = HIWORD(lParam);    // vertical postion, in screen coordinates </P>

<P></P>

<P><B>Parameters</B></P>

<P><I>uCmdType</I></P>

<P>Specifies the type of system command requested. This can be one of these values:</P>

<TABLE cols=2>

<TR VALIGN="top">
<TD width=43%><B>Value</B></TD>
<TD width=57%><B>Meaning</B></TD>
</TR>

<TR VALIGN="top">
<TD width=43%>SC_CLOSE</TD>
<TD width=57%>Closes the window.</TD>
</TR>

<TR VALIGN="top">
<TD width=43%>SC_CONTEXTHELP</TD>
<TD width=57%>Changes the cursor to a question mark with a pointer. If the user then clicks a control in the dialog box, the control receives a WM_HELP message.</TD>
</TR>

<TR VALIGN="top">
<TD width=43%>SC_DEFAULT</TD>
<TD width=57%>Selects the default item; the user double-clicked the <B>window</B> menu.</TD>
</TR>

<TR VALIGN="top">
<TD width=43%>SC_HOTKEY</TD>
<TD width=57%>Activates the window associated with the application-specified hot key. The low-order word of <I>lParam</I> identifies the window to activate.</TD>
</TR>

<TR VALIGN="top">
<TD width=43%>SC_HSCROLL</TD>
<TD width=57%>Scrolls horizontally.</TD>
</TR>

<TR VALIGN="top">
<TD width=43%>SC_KEYMENU</TD>
<TD width=57%>Retrieves the <B>window</B> menu as a result of a keystroke.</TD>
</TR>

<TR VALIGN="top">
<TD width=43%>SC_MAXIMIZE (or SC_ZOOM)</TD>
<TD width=57%>Maximizes the window.</TD>
</TR>

<TR VALIGN="top">
<TD width=43%>SC_MINIMIZE (or SC_ICON)</TD>
<TD width=57%>Minimizes the window.</TD>
</TR>

<TR VALIGN="top">
<TD width=43%>SC_MONITORPOWER</TD>
<TD width=57%><B>Windows 95 only</B>: Sets the state of the display. This command supports devices that have power-saving features, such as a battery-powered personal computer.</TD>
</TR>

<TR VALIGN="top">
<TD width=43%>SC_MOUSEMENU</TD>
<TD width=57%>Retrieves the <B>window</B> menu as a result of a mouse click.</TD>
</TR>

<TR VALIGN="top">
<TD width=43%>SC_MOVE</TD>
<TD width=57%>Moves the window.</TD>
</TR>

<TR VALIGN="top">
<TD width=43%>SC_NEXTWINDOW</TD>
<TD width=57%>Moves to the next window.</TD>
</TR>

<TR VALIGN="top">
<TD width=43%>SC_PREVWINDOW</TD>
<TD width=57%>Moves to the previous window.</TD>
</TR>

<TR VALIGN="top">
<TD width=43%>SC_RESTORE</TD>
<TD width=57%>Restores the window to its normal position and size.</TD>
</TR>

<TR VALIGN="top">
<TD width=43%>SC_SCREENSAVE</TD>
<TD width=57%>Executes the screen saver application specified in the [boot] section of the SYSTEM.INI file.</TD>
</TR>

<TR VALIGN="top">
<TD width=43%>SC_SIZE</TD>
<TD width=57%>Sizes the window.</TD>
</TR>

<TR VALIGN="top">
<TD width=43%>SC_TASKLIST</TD>
<TD width=57%>Executes or activates Windows Task Manager.</TD>
</TR>

<TR VALIGN="top">
<TD width=43%>SC_VSCROLL</TD>
<TD width=57%>Scrolls vertically.</TD>
</TR>
</TABLE><BR>

<P></P>

<P><I>xPos</I></P>

<P>Specifies the horizontal position of the cursor, in screen coordinates, if a <B>window</B> menu command is chosen with the mouse. Otherwise, the <I>xPos</I> parameter is not used.</P>

<P><I>yPos</I></P>

<P>Specifies the vertical position of the cursor, in screen coordinates, if a <B>window</B> menu command is chosen with the mouse. This parameter is -1 if the command is chosen using a system accelerator, or zero if using a mnenomic.</P>

<P></P>

<P><B>Return Values</B></P>

<P>An application should return zero if it processes this message.</P>

<P><B>Remarks</B></P>

<P>The <A HREF="32d1nbh.htm"><B>DefWindowProc</B></A> function carries out the <B>window</B> menu request for the predefined actions specified in the previous table. </P>

<P>In WM_SYSCOMMAND messages, the four low-order bits of the <I>uCmdType</I> parameter are used internally by Windows. To obtain the correct result when testing the value of <I>uCmdType</I>, an application must combine the value 0xFFF0 with the <I>uCmdType</I> value by using the bitwise AND operator. </P>

<P>The menu items in a <B>window</B> menu can be modified by using the <A HREF="nh615u.htm"><B>GetSystemMenu</B></A>, <A HREF="12z._0t.htm"><B>AppendMenu</B></A>, <A HREF="1o2j7n8.htm"><B>InsertMenu</B></A>, <A HREF="1.zgukr.htm"><B>ModifyMenu</B></A>, <B>InsertMenuItem</B>, and <B>SetMenuItem</B> functions. Applications that modify the <B>window</B> menu must process WM_SYSCOMMAND messages.</P>

<P>An application can carry out any system command at any time by passing a WM_SYSCOMMAND message to <B>DefWindowProc</B>. Any WM_SYSCOMMAND messages not handled by the application must be passed to <B>DefWindowProc</B>. Any command values added by an application must be processed by the application and cannot be passed to <B>DefWindowProc</B>. </P>

<P>Accelerator keys that are defined to choose items from the <B>window</B> menu are translated into WM_SYSCOMMAND messages; all other accelerator keystrokes are translated into WM_COMMAND messages. </P>

<P><B>See Also</B></P>

<P><A HREF="12z._0t.htm"><B>AppendMenu</B></A>, <A HREF="32d1nbh.htm"><B>DefWindowProc</B></A>, <A HREF="nh615u.htm"><B>GetSystemMenu</B></A>, <A HREF="1o2j7n8.htm"><B>InsertMenu</B></A>, <A HREF="1.zgukr.htm"><B>ModifyMenu</B></A>, <A HREF="71v.3j.htm">WM_COMMAND</A> </P>

</BODY>
</HTML>
