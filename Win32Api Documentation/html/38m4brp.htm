<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><TITLE>Logoff Events</TITLE>
</HEAD>

<BODY BGCOLOR="#FFFFC8" TEXT="#341717">



<P><A NAME="38m4brp"></A><B>Logoff Events</B></P>

<P>A logoff event occurs when a process calls the <A HREF="hxsw5w.htm"><B>ExitWindows</B></A> or <A HREF="ma6lrq.htm"><B>ExitWindowsEx</B></A> function. The logoff event is identified by the window station of the process calling <B>ExitWindowsEx</B>. </P>

<P>When a logoff event occurs, the system notifies all processes in the system as follows:</P>

<P>·All windows of processes in the logon session being logged off receive the <A HREF="34xezju.htm"><B>WM_QUERYENDSESSION</B></A> and <A HREF="qybkqo.htm"><B>WM_ENDSESSION</B></A> messages. All windows on the desktops of the window station being logged off receive these messages, even if the windows belong to processes running in another logon session.</P>

<P>·Every process in the system receives the CTRL_LOGOFF_EVENT control signal. This signal does not indicate which session is being logged off. The system sends this signal after sending the window messages. For more information on control signals, see the <A HREF="6gcpc8.htm"><B>SetConsoleCtrlHandler</B></A> function.</P>

<P></P>

<P>If the process that called <B>ExitWindowsEx</B> is running in the logon session of the interactive user, all processes in the logon session are terminated. If the process calling <B>ExitWindowsEx</B> is in some other logon session, only the notifications are made; no processes are terminated.</P>

</BODY>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script></html>
