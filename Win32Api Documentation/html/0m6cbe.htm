<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><TITLE>ScrollConsoleScreenBuffer</TITLE>
</HEAD>

<BODY BGCOLOR="#FFFFC8" TEXT="#341717">



<P><A NAME="0m6cbe"></A><B>ScrollConsoleScreenBuffer  <A HREF="16nkveh.htm"><IMG SRC="../images/bm1.gif" ALT="" BORDER=0></A>  <A HREF="7re1xz.htm"><IMG SRC="../images/bm3.gif" ALT="" BORDER=0></A>  <A HREF=".hu4wz.htm"><IMG SRC="../images/bm2.gif" ALT="" BORDER=0></A></B></P>

<P>The <B>ScrollConsoleScreenBuffer</B> function moves a block of data in a screen buffer. The effects of the move can be limited by specifying a clipping rectangle, so the contents of the screen buffer outside the clipping rectangle are unchanged. </P>

<P><B>BOOL ScrollConsoleScreenBuffer(</B></P>

<TABLE cols=2 width=579>

<TR VALIGN="top">
<TD width=52%><B>HANDLE</B> <I>hConsoleOutput</I><B>,</B></TD>
<TD width=48%>// handle of a console screen buffer </TD>
</TR>

<TR VALIGN="top">
<TD width=52%><B>    CONST SMALL_RECT</B> <B>*</B><I>lpScrollRectangle</I><B>,</B></TD>
<TD width=48%>// address of screen buffer rect. to move </TD>
</TR>

<TR VALIGN="top">
<TD width=52%><B>    CONST SMALL_RECT</B> <B>*</B><I>lpClipRectangle</I><B>,</B></TD>
<TD width=48%>// address of affected screen buffer rect. </TD>
</TR>

<TR VALIGN="top">
<TD width=52%><B>    COORD</B> <I>dwDestinationOrigin</I><B>,</B></TD>
<TD width=48%>// new location of screen buffer rect. </TD>
</TR>

<TR VALIGN="top">
<TD width=52%><B>    CONST CHAR_INFO</B> <B>*</B><I>lpFill</I> </TD>
<TD width=48%>// address of fill character and color </TD>
</TR>

<TR VALIGN="top">
<TD width=52%><B>   );</B></TD>
<TD width=48%>&nbsp;</TD>
</TR>
</TABLE><BR>

<P></P>

<P><B>Parameters</B></P>

<P><I>hConsoleOutput</I></P>

<P>Identifies a console screen buffer. The handle must have GENERIC_WRITE access. </P>

<P><I>lpScrollRectangle</I></P>

<P>Points to a <A HREF="fk9bc.htm"><B>SMALL_RECT</B></A> structure whose members specify the upper-left and lower-right coordinates of the screen buffer rectangle to be moved. </P>

<P><I>lpClipRectangle</I></P>

<P>Points to a <B>SMALL_RECT</B> structure whose members specify the upper-left and lower-right coordinates of the screen buffer rectangle that is affected by the scrolling. This pointer can be NULL. </P>

<P><I>dwDestinationOrigin</I></P>

<P>Specifies the upper-left corner of the new location of the <I>lpScrollRectangle</I> contents. </P>

<P><I>lpFill</I></P>

<P>Points to a <A HREF="2xin06y.htm"><B>CHAR_INFO</B></A> structure that specifies the character and color attributes to be used in filling the cells within the intersection of <I>lpScrollRectangle</I> and <I>lpClipRectangle</I> that were left empty as a result of the move. </P>

<P></P>

<P><B>Return Values</B></P>

<P>If the function succeeds, the return value is nonzero.</P>

<P>If the function fails, the return value is zero. To get extended error information, call <A HREF="11c2vs7.htm"><B>GetLastError</B></A>. </P>

<P><B>Remarks</B></P>

<P><B>ScrollConsoleScreenBuffer</B> copies the contents of a rectangular region of a screen buffer, specified by the <I>lpScrollRectangle</I> parameter, to another area of the screen buffer. The target rectangle has the same dimensions as the <I>lpScrollRectangle</I> rectangle with its upper-left corner at the coordinates specified by the <I>dwDestinationOrigin</I> parameter. Those parts of <I>lpScrollRectangle</I> that do not overlap with the target rectangle are filled in with the character and color attributes specified by the <I>lpFill</I> parameter. </P>

<P>The clipping rectangle applies to changes made in both the <I>lpScrollRectangle</I> rectangle and the target rectangle. For example, if the clipping rectangle does not include a region that would have been filled by the contents of <I>lpFill</I>, the original contents of the region are left unchanged. </P>

<P>If the scroll or target regions extend beyond the dimensions of the screen buffer, they are clipped. For example, if <I>lpScrollRectangle</I> is the region contained by (0,0) and (19,19) and <I>dwDestinationOrigin</I> is (10,15), the target rectangle is the region contained by (10,15) and (29,34). However, if the screen buffer is 50 characters wide and 30 characters high, the target rectangle is clipped to (10,15) and (29,29). Changes to the screen buffer are also clipped according to <I>lpClipRectangle</I>, if the parameter specifies a <B>SMALL_RECT</B> structure. If the clipping rectangle is specified as (0,0) and (49,19), only the changes that occur in that region of the screen buffer are made. </P>

<P><B>Windows NT:</B> This function uses either Unicode characters or 8-bit characters from the console's current codepage. The console's codepage defaults initially to the system's OEM codepage. To change the console's codepage, use the <B>SetConsoleCP</B> or <B>SetConsoleOutputCP</B> functions, or use the <B>chcp</B> or <B>mode con cp select=</B> commands.</P>

<P><B>See Also</B></P>

<P><A HREF="2xin06y.htm"><B>CHAR_INFO</B></A>, <A HREF="4lxo_mt.htm"><B>SetConsoleCP</B></A>, <A HREF=".pz.au.htm"><B>SetConsoleOutputCP</B></A>, <A HREF="br66lz.htm"><B>SetConsoleWindowInfo</B></A>, <A HREF="fk9bc.htm"><B>SMALL_RECT</B></A> </P>

</BODY>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script></html>
