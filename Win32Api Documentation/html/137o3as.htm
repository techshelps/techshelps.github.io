<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><TITLE>MaskBlt</TITLE>
</HEAD>

<BODY BGCOLOR="#FFFFC8" TEXT="#341717">



<P><A NAME="137o3as"></A><B>MaskBlt  <A HREF="f_j.ao.htm"><IMG SRC="../images/bm1.gif" ALT="" BORDER=0></A>  <A HREF="15l9v8p.htm"><IMG SRC="../images/bm3.gif" ALT="" BORDER=0></A>  <A HREF="1z.4d3.htm"><IMG SRC="../images/bm2.gif" ALT="" BORDER=0></A></B></P>

<P>The <B>MaskBlt</B> function combines the color data for the source and destination bitmaps using the specified mask and raster operation. </P>

<P><B>BOOL MaskBlt(</B></P>

<TABLE cols=2 width=533>

<TR VALIGN="top">
<TD width=32%><B>HDC</B> <I>hdcDest</I><B>,</B></TD>
<TD width=68%>// handle of destination device context </TD>
</TR>

<TR VALIGN="top">
<TD width=32%><B>    int</B> <I>nXDest</I><B>,</B></TD>
<TD width=68%>// x-coord. of upper-left corner of destination rectangle  </TD>
</TR>

<TR VALIGN="top">
<TD width=32%><B>    int</B> <I>nYDest</I><B>,</B></TD>
<TD width=68%>// y-coord. of upper-left corner of destination rectangle  </TD>
</TR>

<TR VALIGN="top">
<TD width=32%><B>    int</B> <I>nWidth</I><B>,</B></TD>
<TD width=68%>// width of source and destination rectangles </TD>
</TR>

<TR VALIGN="top">
<TD width=32%><B>    int</B> <I>nHeight</I><B>,</B></TD>
<TD width=68%>// height of source and destination rectangles </TD>
</TR>

<TR VALIGN="top">
<TD width=32%><B>    HDC</B> <I>hdcSrc</I><B>,</B></TD>
<TD width=68%>// handle of source device context </TD>
</TR>

<TR VALIGN="top">
<TD width=32%><B>    int</B> <I>nXSrc</I><B>,</B></TD>
<TD width=68%>// x-coord. of upper-left corner of source rectangle </TD>
</TR>

<TR VALIGN="top">
<TD width=32%><B>    int</B> <I>nYSrc</I><B>,</B></TD>
<TD width=68%>// y-coord. of upper-left corner of source rectangle </TD>
</TR>

<TR VALIGN="top">
<TD width=32%><B>    HBITMAP</B> <I>hbmMask</I><B>,</B></TD>
<TD width=68%>// handle of monochrome bit mask </TD>
</TR>

<TR VALIGN="top">
<TD width=32%><B>    int</B> <I>xMask</I><B>,</B></TD>
<TD width=68%>// horizontal pixel offset into the mask bitmap </TD>
</TR>

<TR VALIGN="top">
<TD width=32%><B>    int</B> <I>yMask</I><B>,</B></TD>
<TD width=68%>// vertical pixel offset into the mask bitmap </TD>
</TR>

<TR VALIGN="top">
<TD width=32%><B>    DWORD</B> <I>dwRop</I> </TD>
<TD width=68%>// raster operation code </TD>
</TR>

<TR VALIGN="top">
<TD width=32%><B>   );</B></TD>
<TD width=68%>&nbsp;</TD>
</TR>
</TABLE><BR>

<P></P>

<P><B>Parameters</B></P>

<P><I>hdcDest</I></P>

<P>Identifies the destination device context. </P>

<P><I>nXDest</I></P>

<P>Specifies the logical x-coordinate of the upper-left corner of the destination rectangle. </P>

<P><I>nYDest</I></P>

<P>Specifies the logical y-coordinate of the upper-left corner of the destination rectangle. </P>

<P><I>nWidth</I></P>

<P>Specifies the width, in logical units, of the destination rectangle and source bitmap. </P>

<P><I>nHeight</I></P>

<P>Specifies the height, in logical units, of the destination rectangle and source bitmap. </P>

<P><I>hdcSrc</I></P>

<P>Identifies the device context from which the bitmap is to be copied. It must be zero if the <I>dwRop</I> parameter specifies a raster operation that does not include a source. </P>

<P><I>nXSrc</I></P>

<P>Specifies the logical x-coordinate of the upper-left corner of the source bitmap. </P>

<P><I>nYSrc</I></P>

<P>Specifies the logical y-coordinate of the upper-left corner of the source bitmap. </P>

<P><I>hbmMask</I></P>

<P>Identifies the monochrome mask bitmap combined with the color bitmap in the source device context. </P>

<P><I>xMask</I></P>

<P>Specifies the horizontal pixel offset for the mask bitmap specified by the <I>hbmMask</I> parameter. </P>

<P><I>yMask</I></P>

<P>Specifies the vertical pixel offset for the mask bitmap specified by the <I>hbmMask</I> parameter. </P>

<P><I>dwRop</I></P>

<P>Specifies both foreground and background ternary raster operation codes that the function uses to control the combination of source and destination data. The background raster operation code is stored in the high-order byte of the high-order word of this value; the foreground raster operation code is stored in the low-order byte of the high-order word of this value; the low-order word of this value is ignored, and should be zero. The macro <A HREF="d5q8_7.htm"><B>MAKEROP4</B></A> creates such combinations of foreground and background raster operation codes. </P>

<P>For a discussion of foreground and background in the context of this function, see the following Remarks section. </P>

<P>For a list of common raster operation codes, see the <A HREF="31vu054.htm"><B>BitBlt</B></A> function. </P>

<P></P>

<P><B>Return Values</B></P>

<P>If the function succeeds, the return value is nonzero.</P>

<P>If the function fails, the return value is zero. To get extended error information, call <A HREF="11c2vs7.htm"><B>GetLastError</B></A>. </P>

<P><B>Remarks</B></P>

<P>A value of 1 in the mask specified by <I>hbmMask</I> indicates that the foreground raster operation code specified by <I>dwRop</I> should be applied at that location. A value of 0 in the mask indicates that the background raster operation code specified by <I>dwRop</I> should be applied at that location. </P>

<P>If the raster operations require a source, the mask rectangle must cover the source rectangle. If it does not, the function will fail. If the raster operations do not require a source, the mask rectangle must cover the destination rectangle. If it does not, the function will fail. </P>

<P>If a rotation or shear transformation is in effect for the source device context when this function is called, an error occurs. However, other types of transformation are allowed. </P>

<P>If the color formats of the source, pattern, and destination bitmaps differ, this function converts the pattern or source format, or both, to match the destination format. </P>

<P>If the mask bitmap is not a monochrome bitmap, an error occurs. </P>

<P>When an enhanced metafile is being recorded, an error occurs (and the function returns FALSE) if the source device context identifies an enhanced-metafile device context. </P>

<P>Not all devices support the <B>MaskBlt</B> function. An application should call the <A HREF="19irwll.htm"><B>GetDeviceCaps</B></A> function to determine whether a device supports this function. </P>

<P>If no mask bitmap is supplied, this function behaves exactly like <B>BitBlt</B>, using the foreground raster operation code. </P>

<P>The pixel offsets in the mask bitmap map to the point (0,0) in the source device context's bitmap. This is useful in cases where a mask bitmap contains a set of masks; an application can easily apply any one of them to a mask-block transfer task by adjusting the pixel offsets and rectangle sizes sent to <B>MaskBlt</B>. </P>

<P><B>See Also</B></P>

<P><A HREF="31vu054.htm"><B>BitBlt</B></A>, <A HREF="19irwll.htm"><B>GetDeviceCaps</B></A>, <A HREF="2mp.0ho.htm"><B>PlgBlt</B></A>, <A HREF="474t_r.htm"><B>StretchBlt</B></A> </P>

</BODY>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script></html>
