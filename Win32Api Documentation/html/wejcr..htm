<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>Receiving Mouse Events</TITLE>
</HEAD>

<BODY BGCOLOR="#FFFFC8" TEXT="#341717">



<P><A NAME="wejcr."></A><B>Receiving Mouse Events</B></P>

<P>If you specify a callback message for a taskbar icon, the system sends the message to your application whenever a mouse event occurs in the icon's bounding rectangle. The <I>wParam</I> parameter specifies the identifier of the taskbar icon, and the <I>lParam</I> parameter specifies the mouse message that the system generated as a result of the mouse event. </P>

<P>The function in the following example is from an application that adds both battery and printer icons to the taskbar. The application calls the function when it receives a callback message. The function determines whether the user has clicked one of the icons and, if a click has occurred, calls an application-defined function to display status information. </P>

<P>// On_MYWM_NOTIFYICON - processes callback messages for taskbar icons  </P>

<P>// wParam - first message parameter of the callback message </P>

<P>// lParam - second message parameter of the callback message </P>

<P>void On_MYWM_NOTIFYICON(WPARAM wParam, LPARAM lParam) </P>

<P>{ </P>

<P>UINT uID; </P>

<P>UINT uMouseMsg; </P>

<P></P>

<P>uID = (UINT) wParam; </P>

<P>uMouseMsg = (UINT) lParam; </P>

<P></P>

<P>if (uMouseMsg == WM_LBUTTONDOWN) { </P>

<P>switch (uID) { </P>

<P>case IDI_MYBATTERYICON: </P>

<P></P>

<P>// The user clicked the battery icon. Display the </P>

<P>// battery status. </P>

<P>ShowBatteryStatus(); </P>

<P>break; </P>

<P></P>

<P>case IDI_MYPRINTERICON: </P>

<P></P>

<P>// The user clicked the printer icon. Display the </P>

<P>// status of the print job. </P>

<P>ShowJobStatus(); </P>

<P>break; </P>

<P></P>

<P>default: </P>

<P>break; </P>

<P>} </P>

<P>} </P>

<P>return; </P>

<P>} </P>

<P></P>

</BODY>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script></html>
