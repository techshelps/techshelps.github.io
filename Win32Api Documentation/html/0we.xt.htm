<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><TITLE>Displaying a Cursor</TITLE>
</HEAD>

<BODY BGCOLOR="#FFFFC8" TEXT="#341717">



<P><A NAME="0we.xt"></A><B>Displaying a Cursor</B></P>

<P>Windows automatically displays the class cursor (the cursor associated with the window to which the cursor is pointing). You can assign a class cursor while registering a window class. The following example illustrates this by assigning a cursor handle to the <B>hCursor</B> member of the <A HREF="1onjoi2.htm"><B>WNDCLASS</B></A> structure identified by the <I>wc</I> parameter. </P>

<P>WNDCLASS  wc;  </P>

<P></P>

<P>// Fill the window class structure with parameters that </P>

<P>// describe the main window. </P>

<P></P>

<P>wc.style = NULL;                        // class style(s) </P>

<P>wc.lpfnWndProc = (WNDPROC) MainWndProc; // window procedure </P>

<P>wc.cbClsExtra = 0;           // no per-class extra data </P>

<P>wc.cbWndExtra = 0;           // no per-window extra data </P>

<P>wc.hInstance = hinst;        // app that owns the class </P>

<P>wc.hIcon = LoadIcon(NULL, IDI_APPLICATION);     // class icon </P>

<P>wc.hCursor = LoadCursor(hinst, MAKEINTRESOURCE(230)); // class cursor </P>

<P>wc.hbrBackground = GetStockObject(WHITE_BRUSH); // class background </P>

<P>wc.lpszMenuName =  "GenericMenu";               // class menu </P>

<P>wc.lpszClassName = "GenericWClass"              // class name </P>

<P></P>

<P>// Register the window class. </P>

<P></P>

<P>return RegisterClass(&amp;wc); </P>

<P></P>

<P>When the window class is registered, the cursor identified by 230 in the application's resource-definition file will be the default cursor for all windows based on the class. </P>

<P>Your application can change the design of the cursor by using the <A HREF="5j4u25.htm"><B>SetCursor</B></A> function and specifying a different cursor handle. However, when the cursor moves, Windows redraws the class cursor at the new location. To prevent the class cursor from being redrawn, you must process the <A HREF="3.0b0yt.htm">WM_SETCURSOR</A> message. Each time the cursor moves and mouse input is not captured, Windows sends this message to the window in which the cursor is moving. </P>

<P>You can specify different cursors for different conditions while processing WM_SETCURSOR. For example, the following example shows how to display the <I>hCurs3</I> cursor whenever the cursor moves over the icon of a minimized application. </P>

<P>case WM_SETCURSOR:  </P>

<P></P>

<P>// If the window is minimized, draw the hCurs3 cursor. </P>

<P>// If the window is not minimized, draw the default </P>

<P>// cursor (class cursor). </P>

<P></P>

<P>if (IsIconic(hwnd)) </P>

<P>{ </P>

<P>SetCursor(hCurs3); </P>

<P>break; </P>

<P>} </P>

<P></P>

<P>When the window is not minimized, Windows displays the class cursor. </P>

<P>You can replace a class cursor by using the <A HREF="61hh_k6.htm"><B>SetClassLong</B></A> function. This function changes the default window settings for all windows of a given class. The following example replaces the existing class cursor with the <I>hCurs2</I> cursor. </P>

<P>// Change the cursor for window class represented by hwnd.  </P>

<P></P>

<P>SetClassLong(hwnd,    // window handle </P>

<P>GCL_HCURSOR,      // change cursor </P>

<P>(LONG) hCurs2);   // new cursor </P>

<P></P>

<P>For more information, see <A HREF="2lm.0ad.htm">Window Classes</A> and <A HREF="2sg9_qv.htm">Mouse Input</A>. </P>

</BODY>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script></html>
