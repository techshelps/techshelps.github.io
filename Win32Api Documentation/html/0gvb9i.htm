<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>Drawing a Minimized Window</TITLE>
</HEAD>

<BODY BGCOLOR="#FFFFC8" TEXT="#341717">



<P><A NAME="0gvb9i"></A><B>Drawing a Minimized Window</B></P>

<P>You can draw your own minimized windows rather than having Windows draw them for you. Most applications define a class icon when registering the window class for the window, and Windows draws the icon when the window is minimized. If you set the class icon to NULL, however, Windows sends a <A HREF="f55xz2.htm">WM_PAINT</A> message to your window procedure whenever the window is minimized, enabling the window procedure to draw in the minimized window. </P>

<P>In the following example, the window procedure draws a star in the minimized window. The procedure uses the <A HREF="l2zpfz.htm"><B>IsIconic</B></A> function to determine when the window is minimized. This ensures that the star is drawn only when the window is minimized. </P>

<P></P>

<P>POINT aptStar[6] = {50,2, 2,98, 98,33, 2,33, 98,98, 50,2}; </P>

<P></P>

<P>. </P>

<P>. </P>

<P>. </P>

<P></P>

<P>case WM_PAINT: </P>

<P>hdc = BeginPaint(hwnd, &amp;ps); </P>

<P></P>

<P>/* Determine whether the window is minimized. */ </P>

<P></P>

<P>if (IsIconic(hwnd)) { </P>

<P>GetClientRect(hwnd, &amp;rc); </P>

<P>SetMapMode(hdc, MM_ANISOTROPIC); </P>

<P>SetWindowExtEx(hdc, 100, 100, NULL); </P>

<P>SetViewportExtEx(hdc, rc.right, rc.bottom, NULL); </P>

<P>Polyline(hdc, aptStar, 6); </P>

<P>} else { </P>

<P>TextOut(hdc, 0,0, "Hello, Windows!", 15); </P>

<P>} </P>

<P>EndPaint(hwnd, &amp;ps); </P>

<P>return 0L; </P>

<P></P>

<P>You set the class icon to NULL by setting the <B>hIcon</B> member of the <A HREF="1onjoi2.htm"><B>WNDCLASS</B></A> structure to NULL before calling the <A HREF="6v_00hu.htm"><B>RegisterClass</B></A> function for the window class. </P>

</BODY>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script></html>
