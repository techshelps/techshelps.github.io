<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>Owner-Drawn Header Controls</TITLE>
</HEAD>

<BODY BGCOLOR="#FFFFC8" TEXT="#341717">



<P><A NAME="blelz"></A><B>Owner-Drawn Header Controls</B></P>

<P>You can define individual items of a header control to be owner-drawn items. Using this technique gives you more control than you would otherwise have over the appearance of a header item. </P>

<P>You can use the <A HREF="lk1iww.htm">HDM_INSERTITEM</A> message to insert a new owner-drawn item into a header control or the <A HREF="1mm6a2d.htm">HDM_SETITEM</A> message to change an existing item to an owner-drawn item. Both messages include the address of an <A HREF="ztw0wo.htm"><B>HD_ITEM</B></A> structure, which should have the <B>fmt</B> member set to the HDF_OWNERDRAW value. </P>

<P>When a header control must draw an owner-drawn item, it sends the <A HREF="70lqx9p.htm">WM_DRAWITEM</A> message to the parent window. The <I>wParam</I> parameter of the message is the child window identifier of the header control, and the <I>lParam</I> parameter is a pointer to a <A HREF="1sswtgp.htm"><B>DRAWITEMSTRUCT</B></A> structure. The parent window uses the information in the structure to draw the item. For an owner-drawn item in a header control, the <B>DRAWITEMSTRUCT</B> structure contains the following information.</P>

<TABLE cols=2>

<TR VALIGN="top">
<TD width=17%><B>Member</B></TD>
<TD width=83%><B>Description</B></TD>
</TR>

<TR VALIGN="top">
<TD width=17%><B>CtlType</B></TD>
<TD width=83%>ODT_HEADER owner-drawn control type.</TD>
</TR>

<TR VALIGN="top">
<TD width=17%><B>CtlID</B></TD>
<TD width=83%>Child-window identifier of the header control.</TD>
</TR>

<TR VALIGN="top">
<TD width=17%><B>itemID</B></TD>
<TD width=83%>Index of the item to be drawn.</TD>
</TR>

<TR VALIGN="top">
<TD width=17%><B>itemAction</B></TD>
<TD width=83%>ODA_DRAWENTIRE drawing-action flag.</TD>
</TR>

<TR VALIGN="top">
<TD width=17%><B>itemState</B></TD>
<TD width=83%>ODS_SELECTED drawing-action flag if the cursor is on the item and the mouse button is down. Otherwise, this member is zero.</TD>
</TR>

<TR VALIGN="top">
<TD width=17%><B>hwndItem</B></TD>
<TD width=83%>Handle of the header control.</TD>
</TR>

<TR VALIGN="top">
<TD width=17%><B>hDC</B></TD>
<TD width=83%>Handle of the device context of the header control.</TD>
</TR>

<TR VALIGN="top">
<TD width=17%><B>rcItem</B></TD>
<TD width=83%>Coordinates of the header item to be drawn. The coordinates are relative to the upper left corner of the header control.</TD>
</TR>

<TR VALIGN="top">
<TD width=17%><B>itemData</B></TD>
<TD width=83%>Application-defined 32-bit value associated with the item.</TD>
</TR>
</TABLE><BR>

<P></P>

</BODY>
</HTML>
