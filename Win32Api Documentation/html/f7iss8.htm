<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><TITLE>Callback Items and the Callback Mask</TITLE>
</HEAD>

<BODY BGCOLOR="#FFFFC8" TEXT="#341717">



<P><A NAME="f7iss8"></A><B>Callback Items and the Callback Mask</B></P>

<P>For each of its items, a list view control typically stores the label text, the <A HREF="xxb7qw.htm">image list index of the item's icons</A>, and a set of bit flags for the <A HREF="kbxs8g.htm">item's state</A>. You can define callback items or change the control's callback mask to indicate that the application ¾ rather than the control ¾ stores some or all of this information. You may want to use callbacks if your application already stores some of this information. </P>

<P>A <I>callback item</I> in a list view control is an item for which the application stores the text, icon index, or both. You can define callback items when you send the <A HREF="1nxjx0f.htm">LVM_INSERTITEM</A> message to add an item to the list view control. If the application stores the text for the item or subitem, set the <B>pszText</B> member of the item's <A HREF="3f10cr.htm"><B>LV_ITEM</B></A> structure to LPSTR_TEXTCALLBACK. If the application stores the icon index for an item, set the <B>iImage</B> member of the item's <B>LV_ITEM</B> structure to I_IMAGECALLBACK. </P>

<P>The <I>callback mask</I> of a list view control is a set of bit flags that specify the item states for which the application, rather than the control, stores the current data. The callback mask applies to all of the control's items, unlike the callback item designation, which applies to a specific item. The callback mask is zero by default, meaning that the list view control stores all item state information. After creating a list view control and initializing its items, you can send the <A HREF="myqvh1.htm">LVM_SETCALLBACKMASK</A> message to change the callback mask. To get the current callback mask, send the <A HREF="3.n._66.htm">LVM_GETCALLBACKMASK</A> message.</P>

<P>When a list view control must display or sort a list view item for which the application stores callback information, the control sends the <A HREF="mh7ghk.htm">LVN_GETDISPINFO</A> notification message to the control's parent window. This message specifies an <A HREF="czkuk0.htm"><B>LV_DISPINFO</B></A> structure that specifies the type of information required and identifies the item or subitem of interest. The parent window must process LVN_GETDISPINFO to provide the requested data.</P>

<P>If the list view control detects a change in an item's callback information (that is, a change in the text, icon, or state information being tracked by the application), the control sends an <A HREF="1oxacn.htm">LVN_SETDISPINFO</A> notification message to notify you of the change.</P>

<P>If you change a callback item's attributes or state bits, you can use the <A HREF="lt6lz0.htm">LVM_UPDATE</A> message to force the control to repaint the item. This message also causes the control to arrange its items if it has the LVS_AUTOARRANGE style. You can use the <A HREF="_p43.n.htm">LVM_REDRAWITEMS</A> message to redraw a range of items by invalidating the corresponding portions of the list view control's client area. </P>

<P>By effectively using callback items and the callback mask, you can ensure that each item attribute is maintained in only one place. Doing this can simplify your application, but the only space saved is the memory that would otherwise be required to store item labels and subitem text.</P>

</BODY>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script></html>
