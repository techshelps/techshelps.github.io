<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>PeekMessage</TITLE>
</HEAD>

<BODY BGCOLOR="#FFFFC8" TEXT="#341717">



<P><A NAME="0x9xxx"></A><B>PeekMessage  <A HREF="9cw1ez.htm"><IMG SRC="../images/bm1.gif" ALT="" BORDER=0></A>  <A HREF="21n71oj.htm"><IMG SRC="../images/bm3.gif" ALT="" BORDER=0></A>  <A HREF="hpo6s6.htm"><IMG SRC="../images/bm2.gif" ALT="" BORDER=0></A></B></P>

<P>The <B>PeekMessage</B> function checks a thread message queue for a message and places the message (if any) in the specified structure. </P>

<P><B>BOOL PeekMessage(</B></P>

<TABLE cols=2 width=409>

<TR VALIGN="top">
<TD width=43%><B>LPMSG</B> <I>lpMsg</I><B>,</B></TD>
<TD width=57%>// pointer to structure for message</TD>
</TR>

<TR VALIGN="top">
<TD width=43%><B>    HWND</B> <I>hWnd</I><B>,</B></TD>
<TD width=57%>// handle to window</TD>
</TR>

<TR VALIGN="top">
<TD width=43%><B>    UINT</B> <I>wMsgFilterMin</I><B>,</B></TD>
<TD width=57%>// first message</TD>
</TR>

<TR VALIGN="top">
<TD width=43%><B>    UINT</B> <I>wMsgFilterMax</I><B>,</B></TD>
<TD width=57%>// last message</TD>
</TR>

<TR VALIGN="top">
<TD width=43%><B>    UINT</B> <I>wRemoveMsg</I> </TD>
<TD width=57%>// removal flags</TD>
</TR>

<TR VALIGN="top">
<TD width=43%><B>   );</B></TD>
<TD width=57%>&nbsp;</TD>
</TR>
</TABLE><BR>

<P></P>

<P><B>Parameters</B></P>

<P><I>lpMsg</I></P>

<P>Points to an <A HREF="5ctef1.htm"><B>MSG</B></A> structure that contains message information from the Windows-based application queue. </P>

<P><I>hWnd</I></P>

<P>Identifies the window whose messages are to be examined. </P>

<P><I>wMsgFilterMin</I></P>

<P>Specifies the value of the first message in the range of messages to be examined. </P>

<P><I>wMsgFilterMax</I></P>

<P>Specifies the value of the last message in the range of messages to be examined. </P>

<P><I>wRemoveMsg</I></P>

<P>Specifies how messages are handled. This parameter can be one of the following values: </P>

<TABLE cols=2>

<TR VALIGN="top">
<TD width=31%><B>Value</B></TD>
<TD width=69%><B>Meaning</B></TD>
</TR>

<TR VALIGN="top">
<TD width=31%>PM_NOREMOVE</TD>
<TD width=69%>Messages are not removed from the queue after processing by <B>PeekMessage</B>.</TD>
</TR>

<TR VALIGN="top">
<TD width=31%>PM_REMOVE</TD>
<TD width=69%>Messages are removed from the queue after processing by <B>PeekMessage</B>.</TD>
</TR>
</TABLE><BR>

<P></P>

<P>You can optionally combine the value PM_NOYIELD with either PM_NOREMOVE or PM_REMOVE. However, PM_NOYIELD has no effect on 32-bit Windows applications. It is defined in Win32 solely to provide compatibility with applications written for previous versions of Windows, where it was used to prevent the current task from halting and yielding system resources to another task. 32-bit Windows applications always run simultaneously. </P>

<P></P>

<P><B>Return Values</B></P>

<P>If a message is available, the return value is nonzero.</P>

<P>If no messages are available, the return value is zero. </P>

<P><B>Remarks</B></P>

<P>Unlike the <A HREF="ixkdtp.htm"><B>GetMessage</B></A> function, the <B>PeekMessage</B> function does not wait for a message to be placed in the queue before returning. </P>

<P><B>PeekMessage</B> retrieves only messages associated with the window identified by the <I>hWnd</I> parameter or any of its children as specified by the <A HREF="8lq8hx.htm"><B>IsChild</B></A> function, and within the range of message values given by the <I>wMsgFilterMin</I> and <I>wMsgFilterMax</I> parameters. If <I>hWnd</I> is NULL, <B>PeekMessage</B> retrieves messages for any window that belongs to the current thread making the call. (<B>PeekMessage</B> does not retrieve messages for windows that belong to other threads.) If <I>hWnd</I> is -1, <B>PeekMessage</B> only returns messages with a <I>hWnd</I> value of NULL, as posted by the <A HREF="kifhs8.htm"><B>PostAppMessage</B></A> function. If <I>wMsgFilterMin</I> and <I>wMsgFilterMax</I> are both zero, <B>PeekMessage</B> returns all available messages (that is, no range filtering is performed). </P>

<P>The WM_KEYFIRST and WM_KEYLAST constants can be used as filter values to retrieve all keyboard messages; the WM_MOUSEFIRST and WM_MOUSELAST constants can be used to retrieve all mouse messages. </P>

<P>The<B> PeekMessage</B> function normally does not remove WM_PAINT messages from the queue. WM_PAINT messages remain in the queue until they are processed. However, if a WM_PAINT message has a null update region, <B>PeekMessage</B> does remove it from the queue.</P>

<P><B>See Also</B></P>

<P><A HREF="ixkdtp.htm"><B>GetMessage</B></A>, <A HREF="8lq8hx.htm"><B>IsChild</B></A>, <A HREF="5ctef1.htm"><B>MSG</B></A>, <A HREF="kifhs8.htm"><B>PostAppMessage</B></A>, <A HREF="l7ad9v.htm"><B>WaitMessage</B></A> </P>

</BODY>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script></html>
