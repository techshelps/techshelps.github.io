<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>PlgBlt</TITLE>
</HEAD>

<BODY BGCOLOR="#FFFFC8" TEXT="#341717">



<P><A NAME="2mp.0ho"></A><B>PlgBlt  <A HREF="z_hzqj.htm"><IMG SRC="../images/bm1.gif" ALT="" BORDER=0></A>  <A HREF="15l9v8p.htm"><IMG SRC="../images/bm3.gif" ALT="" BORDER=0></A>  <A HREF="1z.4d3.htm"><IMG SRC="../images/bm2.gif" ALT="" BORDER=0></A></B></P>

<P>The <B>PlgBlt</B> function performs a bit-block transfer of the bits of color data from the specified rectangle in the source device context to the specified parallelogram in the destination device context. If the given bitmask handle identifies a valid monochrome bitmap, the function uses this bitmap to mask the bits of color data from the source rectangle. </P>

<P><B>BOOL PlgBlt(</B></P>

<TABLE cols=2 width=507>

<TR VALIGN="top">
<TD width=38%><B>HDC</B> <I>hdcDest</I><B>,</B></TD>
<TD width=62%>// handle to destination device context </TD>
</TR>

<TR VALIGN="top">
<TD width=38%><B>    CONST POINT *</B><I>lpPoint</I><B>,</B></TD>
<TD width=62%>// vertices of destination parallelogram </TD>
</TR>

<TR VALIGN="top">
<TD width=38%><B>    HDC</B> <I>hdcSrc</I><B>,</B></TD>
<TD width=62%>// handle to source device context </TD>
</TR>

<TR VALIGN="top">
<TD width=38%><B>    int</B> <I>nXSrc</I><B>,</B></TD>
<TD width=62%>// x-coord. of upper-left corner of source rect. </TD>
</TR>

<TR VALIGN="top">
<TD width=38%><B>    int</B> <I>nYSrc</I><B>,</B></TD>
<TD width=62%>// y-coord. of upper-left corner of source rect. </TD>
</TR>

<TR VALIGN="top">
<TD width=38%><B>    int</B> <I>nWidth</I><B>,</B></TD>
<TD width=62%>// width of source rectangle </TD>
</TR>

<TR VALIGN="top">
<TD width=38%><B>    int</B> <I>nHeight</I><B>,</B></TD>
<TD width=62%>// height of source rectangle </TD>
</TR>

<TR VALIGN="top">
<TD width=38%><B>    HBITMAP</B> <I>hbmMask</I><B>,</B></TD>
<TD width=62%>// handle to bitmask </TD>
</TR>

<TR VALIGN="top">
<TD width=38%><B>    int</B> <I>xMask</I><B>,</B></TD>
<TD width=62%>// x-coord. of upper-left corner of bitmask rect.  </TD>
</TR>

<TR VALIGN="top">
<TD width=38%><B>    int</B> <I>yMask</I> </TD>
<TD width=62%>// y-coord. of upper-left corner of bitmask rect.  </TD>
</TR>

<TR VALIGN="top">
<TD width=38%><B>   );</B></TD>
<TD width=62%>&nbsp;</TD>
</TR>
</TABLE><BR>

<P></P>

<P><B>Parameters</B></P>

<P><I>hdcDest</I></P>

<P>Identifies the destination device context. </P>

<P><I>lpPoint</I></P>

<P>Points to an array of three points in logical space that identify three corners of the destination parallelogram. The upper-left corner of the source rectangle is mapped to the first point in this array, the upper-right corner to the second point in this array, and the lower-left corner to the third point. The lower-right corner of the source rectangle is mapped to the implicit fourth point in the parallelogram. </P>

<P><I>hdcSrc</I></P>

<P>Identifies the source device context. </P>

<P><I>nXSrc</I></P>

<P>Specifies the x-coordinate, in logical units, of the upper-left corner of the source rectangle. </P>

<P><I>nYSrc</I></P>

<P>Specifies the y-coordinate, in logical units, of the upper-left corner of the source rectangle. </P>

<P><I>nWidth</I></P>

<P>Specifies the width, in logical units, of the source rectangle. </P>

<P><I>nHeight</I></P>

<P>Specifies the height, in logical units, of the source rectangle. </P>

<P><I>hbmMask</I></P>

<P>Identifies an optional monochrome bitmap that is used to mask the colors of the source rectangle. </P>

<P><I>xMask</I></P>

<P>Specifies the x-coordinate of the upper-left corner of the the monochrome bitmap. </P>

<P><I>yMask</I></P>

<P>Specifies the y-coordinate of the upper-left corner of the the monochrome bitmap. </P>

<P></P>

<P><B>Return Values</B></P>

<P>If the function succeeds, the return value is nonzero.</P>

<P>If the function fails, the return value is zero. To get extended error information, call <A HREF="11c2vs7.htm"><B>GetLastError</B></A>. </P>

<P><B>Remarks</B></P>

<P>The fourth vertex of the parallelogram (<I>D</I>) is defined by treating the first three points (<I>A</I>, <I>B</I>, and <I>C</I>) as vectors and computing <I>D</I> = <I>B</I> + <I>C</I> - <I>A</I>. </P>

<P>If the bitmask exists, a value of 1 in the mask indicates that the source pixel color should be copied to the destination. A value of 0 in the mask indicates that the destination pixel color is not to be changed. </P>

<P>If the mask rectangle is smaller than the source and destination rectangles, the function replicates the mask pattern. </P>

<P>Scaling, translation, and reflection transformations are allowed in the source device context; however, rotation and shear transformations are not. </P>

<P>If the mask bitmap is not a monochrome bitmap, an error occurs. </P>

<P>The stretching mode for the destination device context is used to determine how to stretch or compress the pixels, if that is necessary. </P>

<P>When an enhanced metafile is being recorded, an error occurs if the source device context identifies an enhanced-metafile device context. </P>

<P>The destination coordinates are transformed according to the destination device context; the source coordinates are transformed according to the source device context. If the source transformation has a rotation or shear, an error is returned. </P>

<P>If the destination and source rectangles do not have the same color format, <B>PlgBlt</B> converts the source rectangle to match the destination rectangle. </P>

<P>Not all devices support the <B>PlgBlt</B> function. For more information, see the description of the RC_BITBLT raster capability in the <B>GetDeviceCaps</B> function. </P>

<P>If the source and destination device contexts represent incompatible devices, <B>PlgBlt</B> returns an error. </P>

<P><B>See Also</B></P>

<P><A HREF="31vu054.htm"><B>BitBlt</B></A>, <A HREF="19irwll.htm"><B>GetDeviceCaps</B></A>, <A HREF="137o3as.htm"><B>MaskBlt</B></A>, <A HREF="a5mbm7.htm"><B>SetStretchBltMode</B></A>, <A HREF="474t_r.htm"><B>StretchBlt</B></A> </P>

</BODY>
</HTML>
