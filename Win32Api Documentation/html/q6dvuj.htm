<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>TV_DISPINFO</TITLE>
</HEAD>

<BODY BGCOLOR="#FFFFC8" TEXT="#341717">



<P><A NAME="q6dvuj"></A><B>TV_DISPINFO  <A HREF="1_5jv2i.htm"><IMG SRC="../images/bm1.gif" ALT="" BORDER=0></A>  <A HREF="12.8kq_.htm"><IMG SRC="../images/bm3.gif" ALT="" BORDER=0></A>  <A HREF="asony4.htm"><IMG SRC="../images/bm2.gif" ALT="" BORDER=0></A></B></P>

<P>The <B>TV_DISPINFO</B> structure retrieves and sets information about a tree-view item. </P>

<P>typedef struct _TV_DISPINFO {  tvdi  </P>

<P>NMHDR   hdr; </P>

<P>TV_ITEM item; </P>

<P>} TV_DISPINFO; </P>

<P></P>

<P><B>Members</B></P>

<P><B>hdr</B></P>

<P>Specifies a <A HREF="99j.0.htm"><B>NMHDR</B></A> structure, which enables a tree-view control to pass a pointer to a <B>TV_DISPINFO</B> structure as the <I>lParam</I> parameter of a <A HREF="1mzt7br.htm">WM_NOTIFY</A> message.</P>

<P><B>item</B></P>

<P>Specifies a <A HREF="2ihaq35.htm"><B>TV_ITEM</B></A> structure that identifies and contains information about the tree-view item. The <B>mask</B> member of the <B>TV_ITEM</B> structure specifies which information is being set or retrieved; it can be one or more of the following values:</P>

<TABLE cols=2>

<TR VALIGN="top">
<TD width=34%><B>Value</B></TD>
<TD width=66%><B>Meaning</B></TD>
</TR>

<TR VALIGN="top">
<TD width=34%>TVIF_CHILDREN</TD>
<TD width=66%>The <B>cChildren</B> member specifies, or is to receive, a value that indicates whether the item has child items.</TD>
</TR>

<TR VALIGN="top">
<TD width=34%>TVIF_IMAGE</TD>
<TD width=66%>The <B>iImage</B> member specifies, or is to receive, the index of the item's non-selected icon in the image list.</TD>
</TR>

<TR VALIGN="top">
<TD width=34%>TVIF_SELECTEDIMAGE</TD>
<TD width=66%>The <B>iSelectedImage</B> member specifies, or is to receive, the index of the item's selected icon in the image list.</TD>
</TR>

<TR VALIGN="top">
<TD width=34%>TVIF_TEXT</TD>
<TD width=66%>The <B>pszText</B> member specifies the new item text or the pointer to a buffer that is to receive the item text.</TD>
</TR>
</TABLE><BR>

<P></P>

<P>If the structure is receiving item text, you typically copy the text to the buffer pointed to by the <B>pszText</B> member of the <A HREF="2ihaq35.htm"><B>TV_ITEM</B></A> structure. However, you can return a string in the <B>pszText</B> member instead. If you do so, you cannot change or delete the string until the corresponding item text is deleted or until two additional <A HREF="3ni5fze.htm">TVN_GETDISPINFO</A> notification messages have been sent.</P>

<P></P>

<P><B>Remarks</B></P>

<P>A pointer to a <B>TV_DISPINFO</B> structure is passed as the <I>lParam</I> parameter when a tree-view control sends a <A HREF="1mzt7br.htm">WM_NOTIFY</A> message with the <B>TVN_GETDISPINFO</B> and <B>TVN_SETDISPINFO</B> notification codes. A tree-view control sends these notifications in the following situations in which the parent window of the control stores information about a tree-view item:</P>

<P>·If the <B>pszText</B> member of the item's <B>TV_ITEM</B> structure is the LPSTR_TEXTCALLBACK value, the control sends these notifications to retrieve or set the item's text.</P>

<P>·If the <B>iImage</B> or <B>iSelectedImage</B> member of the item's <B>TV_ITEM</B> structure is the I_IMAGECALLBACK value, the control sends these notifications to retrieve or set the index of an item's icons in the control's image list.</P>

<P>·If the <B>cChildren</B> member of the item's <B>TV_ITEM</B> structure is the I_CHILDRENCALLBACK value, the control sends these notifications to retrieve or set a value that indicates whether the item has child items.</P>

<P></P>

<P><B>See Also</B></P>

<P><A HREF="99j.0.htm"><B>NMHDR</B></A>, <A HREF="2ihaq35.htm"><B>TV_ITEM</B></A>, <A HREF="3ni5fze.htm"><B>TVN_GETDISPINFO</B></A>, <A HREF="1152b0c.htm"><B>TVN_SETDISPINFO</B></A>, <A HREF="1mzt7br.htm">WM_NOTIFY</A> </P>

</BODY>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script></html>
