<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>Bitmap Storage</TITLE>
</HEAD>

<BODY BGCOLOR="#FFFFC8" TEXT="#341717">



<P><A NAME="19h8fmc"></A><B>Bitmap Storage</B></P>

<P>Bitmaps should be saved in a file that uses the established Windows format and assigned a name with the three-character .BMP extension. The established Windows format consists of a <A HREF="3p99xxp.htm"><B>BITMAPFILEHEADER</B></A> structure followed by a <A HREF="05za4g.htm"><B>BITMAPINFOHEADER</B></A> structure. An array of <A HREF="654who.htm"><B>RGBQUAD</B></A> structures (also called a color table) follows the <B>BITMAPINFOHEADER </B>structure. The color table is followed by a second array of indexes into the color table (the actual bitmap data).</P>

<P>The Windows format is shown in the following illustration. </P>

<P><IMG SRC="../images/bm51.gif" ALT="" BORDER=0></P>

<P>The members of the <B>BITMAPFILEHEADER</B> structure identify the file; specify the size of the file, in bytes; and specify the offset from the first byte in the header to the first byte of bitmap data. The members of the <B>BITMAPINFOHEADER</B> structure specify the bitmap's width and height, in pixels; the color format (count of color planes and color bits per pixel) of the display device on which the bitmap was created; whether the bitmap data was compressed before storage and the type of compression used; the number of bytes of bitmap data; the resolution of the display device on which the bitmap was created; and the number of colors represented in the data. The <B>RGBQUAD</B> structures specify the RGB intensity values for each of the colors in the device's palette. The color-index array maps indices values from the <B>RGBQUAD</B> array to pixels in a rectangular region on the display. </P>

<P>The following hexadecimal output shows the contents of the file REDBRICK.BMP. </P>

<P>0000    42 4d 76 02 00 00 00 00  00 00 76 00 00 00 28 00  </P>

<P>0010    00 00 20 00 00 00 20 00  00 00 01 00 04 00 00 00 </P>

<P>0020    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00 </P>

<P>0030    00 00 00 00 00 00 00 00  00 00 00 00 80 00 00 80 </P>

<P>0040    00 00 00 80 80 00 80 00  00 00 80 00 80 00 80 80 </P>

<P>0050    00 00 80 80 80 00 c0 c0  c0 00 00 00 ff 00 00 ff </P>

<P>0060    00 00 00 ff ff 00 ff 00  00 00 ff 00 ff 00 ff ff </P>

<P>0070    00 00 ff ff ff 00 00 00  00 00 00 00 00 00 00 00 </P>

<P>0080    00 00 00 00 00 00 00 00  00 00 00 00 00 00 09 00 </P>

<P>0090    00 00 00 00 00 00 11 11  01 19 11 01 10 10 09 09 </P>

<P>00a0    01 09 11 11 01 90 11 01  19 09 09 91 11 10 09 11 </P>

<P>00b0    09 11 19 10 90 11 19 01  19 19 10 10 11 10 09 01 </P>

<P>00c0    91 10 91 09 10 10 90 99  11 11 11 11 19 00 09 01 </P>

<P>00d0    91 01 01 19 00 99 11 10  11 91 99 11 09 90 09 91 </P>

<P>00e0    01 11 11 11 91 10 09 19  01 00 11 90 91 10 09 01 </P>

<P>00f0    11 99 10 01 11 11 91 11  11 19 10 11 99 10 09 10 </P>

<P>0100    01 11 11 11 19 10 11 09  09 10 19 10 10 10 09 01 </P>

<P>0110    11 19 00 01 10 19 10 11  11 01 99 01 11 90 09 19 </P>

<P>0120    11 91 11 91 01 11 19 10  99 00 01 19 09 10 09 19 </P>

<P>0130    10 91 11 01 11 11 91 01  91 19 11 00 99 90 09 01 </P>

<P>0140    01 99 19 01 91 10 19 91  91 09 11 99 11 10 09 91 </P>

<P>0150    11 10 11 91 99 10 90 11  01 11 11 19 11 90 09 11 </P>

<P>0160    00 19 10 11 01 11 99 99  99 99 99 99 99 99 09 99 </P>

<P>0170    99 99 99 99 99 99 00 00  00 00 00 00 00 00 00 00 </P>

<P>0180    00 00 00 00 00 00 90 00  00 00 00 00 00 00 00 00 </P>

<P>0190    00 00 00 00 00 00 99 11  11 11 19 10 19 19 11 09 </P>

<P>01a0    10 90 91 90 91 00 91 19  19 09 01 10 09 01 11 11 </P>

<P>01b0    91 11 11 11 10 00 91 11  01 19 10 11 10 01 01 11 </P>

<P>01c0    90 11 11 11 91 00 99 09  19 10 11 90 09 90 91 01 </P>

<P>01d0    19 09 91 11 01 00 90 10  19 11 00 11 11 00 10 11 </P>

<P>01e0    01 10 11 19 11 00 90 19  10 91 01 90 19 99 00 11 </P>

<P>01f0    91 01 11 01 91 00 99 09  09 01 10 11 91 01 10 91 </P>

<P>0200    99 11 10 90 91 00 91 11  00 10 11 01 10 19 19 09 </P>

<P>0210    10 00 99 01 01 00 91 01  19 91 19 91 11 09 10 11 </P>

<P>0220    00 91 00 10 90 00 99 01  11 10 09 10 10 19 09 01 </P>

<P>0230    91 90 11 09 11 00 90 99  11 11 11 90 19 01 19 01 </P>

<P>0240    91 01 01 19 09 00 91 10  11 91 99 09 09 90 11 91 </P>

<P>0250    01 19 11 11 91 00 91 19  01 00 11 00 91 10 11 01 </P>

<P>0260    11 11 10 01 11 00 99 99  99 99 99 99 99 99 99 99 </P>

<P>0270    99 99 99 99 99 90 </P>

<P></P>

<P>The following table shows the data bytes associated with the structures in a bitmap file. </P>

<TABLE cols=2>

<TR VALIGN="top">
<TD width=34%><B>Structure</B></TD>
<TD width=66%><B>Corresponding bytes</B></TD>
</TR>

<TR VALIGN="top">
<TD width=34%><A HREF="3p99xxp.htm"><B>BITMAPFILEHEADER</B></A></TD>
<TD width=66%>0x00 - 0x0D</TD>
</TR>

<TR VALIGN="top">
<TD width=34%><A HREF="05za4g.htm"><B>BITMAPINFOHEADER</B></A></TD>
<TD width=66%>0x0E - 0x31</TD>
</TR>

<TR VALIGN="top">
<TD width=34%><A HREF="654who.htm"><B>RGBQUAD</B></A> array</TD>
<TD width=66%>0x32 - 0x75</TD>
</TR>

<TR VALIGN="top">
<TD width=34%>Color-index array</TD>
<TD width=66%>0x76 - 0x275</TD>
</TR>
</TABLE><BR>

<P></P>

</BODY>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script></html>
