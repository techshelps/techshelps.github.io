<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>RemovePrivateCvSymbolic</TITLE>
</HEAD>

<BODY BGCOLOR="#FFFFC8" TEXT="#341717">



<P><A NAME="1l2d0sg"></A><B>RemovePrivateCvSymbolic  <A HREF="d1an69.htm"><IMG SRC="../images/bm1.gif" ALT="" BORDER=0></A></B></P>

<P>The <B>RemovePrivateCvSymbolic</B> function removes all but public information from the CodeView (CV) debug information.</P>

<P><B>BOOL RemovePrivateCvSymbolic(</B></P>

<TABLE cols=2 width=278>

<TR VALIGN="top">
<TD width=87%><B>IN PCHAR </B><I>DebugData</I><B>,</B></TD>
<TD width=13%>&nbsp;</TD>
</TR>

<TR VALIGN="top">
<TD width=87%><B>    OUT PCHAR </B><I>*NewDebugData</I><B>,</B></TD>
<TD width=13%>&nbsp;</TD>
</TR>

<TR VALIGN="top">
<TD width=87%><B>    OUT LPDWORD </B><I>NewDebugSize</I></TD>
<TD width=13%>&nbsp;</TD>
</TR>

<TR VALIGN="top">
<TD width=87%><B>   );</B></TD>
<TD width=13%>&nbsp;</TD>
</TR>
</TABLE><BR>

<P></P>

<P><B>Parameters</B></P>

<P><I>DebugData</I></P>

<P>A pointer to the CV debug data (found by mapping the image and searching the debug directories for debug type IMAGE_DEBUG_TYPE_CODEVIEW.</P>

<P><I>NewDebugData</I></P>

<P>A pointer to a block (allocated with <B>LocalAlloc</B>) with just the public CV symbolics.</P>

<P><I>NewDebugSize</I></P>

<P>The size of the public symbolics.</P>

<P></P>

<P><B>Return Values</B></P>

<P>If the function succeeds, the return value is TRUE.</P>

<P>If the function fails, then the return value is FALSE. To retrieve extended error information, call <B>GetLastError</B>.</P>

<P><B>Remarks</B></P>

<P>The <B>RemovePrivateCvSymbolic</B> function removes all but public information from the CV debug information. The intent is to allow the user to ship the debug symbols for an image without disclosing the data structures or source information. A consumer can only get a stack trace, place breakpoints on functions, and dump memory. All but the following CV sections are discarded:</P>

<P>·<I>sstSegMap</I> </P>

<P>·<I>sstSegName</I></P>

<P>·<I>sstOffsetMap16</I></P>

<P>·<I>sstOffsetMap3</I>2</P>

<P>·<I>sstModule</I></P>

<P>·<I>sstPublic</I></P>

<P>·<I>sstPublicSym</I></P>

<P>·<I>sstGlobalPub</I></P>

<P></P>

<P>It is the responsibility of the caller to free the new debug data when finished.</P>

</BODY>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script></html>
