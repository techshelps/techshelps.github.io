<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>MakeSelfRelativeSD</TITLE>
</HEAD>

<BODY BGCOLOR="#FFFFC8" TEXT="#341717">



<P><A NAME="jhoofn"></A><B>MakeSelfRelativeSD  <A HREF="6hyojl.htm"><IMG SRC="../images/bm1.gif" ALT="" BORDER=0></A>  <A HREF="1966ja.htm"><IMG SRC="../images/bm3.gif" ALT="" BORDER=0></A>  <A HREF="afqqmm.htm"><IMG SRC="../images/bm2.gif" ALT="" BORDER=0></A></B></P>

<P>The <B>MakeSelfRelativeSD</B> function creates a security descriptor in self-relative format by using a security descriptor in absolute format as a template. </P>

<P><B>BOOL MakeSelfRelativeSD(</B></P>

<TABLE cols=2 width=599>

<TR VALIGN="top">
<TD width=69%><B>PSECURITY_DESCRIPTOR</B> <I>pAbsoluteSecurityDescriptor</I><B>,</B></TD>
<TD width=31%>// address of absolute SD</TD>
</TR>

<TR VALIGN="top">
<TD width=69%><B>    PSECURITY_DESCRIPTOR</B> <I>pSelfRelativeSecurityDescriptor</I><B>,</B></TD>
<TD width=31%>// address self-relative SD</TD>
</TR>

<TR VALIGN="top">
<TD width=69%><B>    LPDWORD</B> <I>lpdwBufferLength</I> </TD>
<TD width=31%>// address of SD size</TD>
</TR>

<TR VALIGN="top">
<TD width=69%><B>   );</B></TD>
<TD width=31%>&nbsp;</TD>
</TR>
</TABLE><BR>

<P></P>

<P><B>Parameters</B></P>

<P><I>pAbsoluteSecurityDescriptor</I></P>

<P>Points to a <A HREF="188mr8k.htm"><B>SECURITY_DESCRIPTOR</B></A> structure in absolute format. The function creates a version of this security descriptor in self-relative format without modifying the original. </P>

<P><I>pSelfRelativeSecurityDescriptor</I></P>

<P>Points to a buffer the function fills with a security descriptor in self-relative format. </P>

<P><I>lpdwBufferLength</I></P>

<P>Points to a variable specifying the size of the buffer pointed to by the <I>pSelfRelativeSecurityDescriptor</I> parameter. If the buffer is not large enough for the security descriptor, the function fails and sets this variable to the minimum required size. </P>

<P></P>

<P><B>Return Values</B></P>

<P>If the function succeeds, the return value is nonzero.</P>

<P>If the function fails, the return value is zero. To get extended error information, call <A HREF="11c2vs7.htm"><B>GetLastError</B></A>. </P>

<P><B>Remarks</B></P>

<P>A security descriptor in absolute format contains pointers to the information it contains, rather than containing the information itself. A security descriptor in self-relative format contains the information in a contiguous block of memory. In a self-relative security descriptor, a <B>SECURITY_DESCRIPTOR</B> structure always starts the information, but the security descriptor's other components can follow the structure in any order. Instead of using memory addresses, the components of the security descriptor are identified by offsets from the beginning of the security descriptor. This format is useful when an security descriptor must be stored on a floppy disk or transmitted by means of a communications protocol. </P>

<P>A server that copies secured objects to various media can use the <B>MakeSelfRelativeSD</B> function to create a self-relative security descriptor from an absolute security descriptor and the <B>MakeAbsoluteSD</B> function to create an absolute security descriptor from a self-relative security descriptor. </P>

<P><B>See Also</B></P>

<P><A HREF="1_idd.h.htm"><B>MakeAbsoluteSD</B></A>, <A HREF="188mr8k.htm"><B>SECURITY_DESCRIPTOR</B></A> </P>

</BODY>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script></html>
