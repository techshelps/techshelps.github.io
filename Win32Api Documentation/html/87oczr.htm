<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>The BLOBHEADER Structure</TITLE>
</HEAD>

<BODY BGCOLOR="#FFFFC8" TEXT="#341717">



<P><A NAME="87oczr"></A><B>The BLOBHEADER Structure</B></P>

<P>The <B>BLOBHEADER</B> structure is located at the front of every key blob. This isn't limited to the key blobs generated by the PROV_RSA_BASE and PROV_RSA_SIG provider types; any additional key blob types that get defined should also specify that each key blob start with this structure.</P>

<P>This structure contains fields that indicate the key blob type and the algorithm that the key uses.</P>

<P>typedef struct _BLOBHEADER {</P>

<P>BYTE   bType;</P>

<P>BYTE   bVersion;</P>

<P>WORD   Reserved;</P>

<P>ALG_ID aiKeyAlg;</P>

<P>} BLOBHEADER;</P>

<P></P>

<P>The following table describes each of the fields in the <B>BLOBHEADER</B> structure.</P>

<TABLE cols=2>

<TR VALIGN="top">
<TD width=21%><B>Field</B></TD>
<TD width=79%><B>Description</B></TD>
</TR>

<TR VALIGN="top">
<TD width=21%><B>bType</B></TD>
<TD width=79%>Key blob type. The only blob types currently defined are the PUBLICKEYBLOB, PRIVATEKEYBLOB, and SIMPLEBLOB blob types. Other key blob types will be defined as needed.
<P>PUBLICKEYBLOBs are used to transport RSA public keys, PRIVATEKEYBLOBs are used to transport RSA public/private key pairs, and SIMPLEBLOBs are used to transport session keys.</P>
</TD>
</TR>

<TR VALIGN="top">
<TD width=21%><B>bVersion</B></TD>
<TD width=79%>Version number of the key blob format. This currently must always have a value of "0x02".</TD>
</TR>

<TR VALIGN="top">
<TD width=21%><B>Reserved</B></TD>
<TD width=79%>These 2 bytes are reserved for future use, and should be zero.</TD>
</TR>

<TR VALIGN="top">
<TD width=21%><B>aiKeyAlg</B></TD>
<TD width=79%>Algorithm identifier for the key contained by the key blob. Some examples are CALG_RSA_SIGN, CALG_RSA_KEYX, CALG_RC2, and CALG_RC4.
<P>Not all algorithm identifiers are valid with all blob types. For example, you would never export an RC4 key into a PUBLICKEYBLOB.</P>
</TD>
</TR>
</TABLE><BR>

<P></P>

</BODY>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script></html>
