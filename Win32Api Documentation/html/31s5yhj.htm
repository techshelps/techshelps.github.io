<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>Multiple Processors</TITLE>
</HEAD>

<BODY BGCOLOR="#FFFFC8" TEXT="#341717">



<P><A NAME="31s5yhj"></A><B>Multiple Processors</B></P>

<P>Windows NT uses a symmetric multiprocessing (SMP) model to schedule threads on multiple processors. With this model, any thread can be assigned to any processor. Therefore, scheduling threads on a computer with multiple processors is similar to scheduling threads on a computer with a single processor. However, the scheduler has a pool of processors, so that it can schedule threads to run concurrently. Scheduling is still determined by thread priority. However, on a multiprocessor computer, you can also affect scheduling by setting thread affinity and thread ideal processor, as discussed here. </P>

<P><B>Thread Affinity</B></P>

<P><I>Thread affinity</I> forces a thread to run on a specific subset of processors. Use the <A HREF="2zce_w.htm"><B>SetProcessAffinityMask</B></A> function to specify thread affinity for all threads of the process. To set the thread affinity for a single thread, use the <A HREF="lv8_p6.htm"><B>SetThreadAffinityMask</B></A> function. The thread affinity must be a subset of the process affinity. You can obtain the current process affinity by calling the <A HREF="9gy99o.htm"><B>GetProcessAffinityMask</B></A> function. </P>

<P>Setting thread affinity should generally be avoided, because it can interfere with the scheduler's ability to schedule threads effectively across processors. This can decrease the performance gains produced by parallel processing. An appropriate use of thread affinity is testing each processor. </P>

<P><B>Thread Ideal Processor</B></P>

<P>When you specify a <I>thread ideal processor</I>, the scheduler runs the thread on the specified processor when possible. Use the <A HREF="ddn13b.htm"><B>SetThreadIdealProcessor</B></A> function to specify a preferred processor for a thread. This does not guarantee that the ideal processor will be chosen, but provides a useful hint to the scheduler. </P>

</BODY>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script></html>
