<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>Power Management Events</TITLE>
</HEAD>

<BODY BGCOLOR="#FFFFC8" TEXT="#341717">



<P><A NAME="dn5st8"></A><B>Power Management Events</B></P>

<P>A power management event is a change in either the system power status or the operational mode of a device or the computer. Because these events can affect the operation of applications and installable drivers and can lead to loss of data, Windows notifies all applications and installable drivers by broadcasting a <A HREF="gcm3zp.htm">WM_POWERBROADCAST</A> message for each event.</P>

<P>A system power status event occurs when there is a change in the power supply or in the system battery status. For example, the system broadcasts a message whenever the user switches from battery to AC power or vice versa. The system also broadcasts a message when remaining battery power slips below 10%.</P>

<P>An operational mode event occurs when there is a change in power consumption, such as the system shutting itself down or the user turning the system back on. Some changes in operational mode can cause loss of data if applications and drivers do not prepare for them. Therefore, the system broadcasts messages about these changes before they actually occur. For example, if the system determines that it is idle, it broadcasts a message notifying applications and drivers that it is about to suspend operation and shut itself down to save power. The applications and drivers can prepare for this suspension by closing files and saving data that may otherwise be lost when power is shut off. </P>

<P>The system has  two ways to shut itself down. It can suspend operation or carry out critical suspension. An application can also shut the system down by using the <A HREF="l1da37.htm"><B>SetSystemPowerState</B></A> function to suspend operation.</P>

<P>When system operation is suspended, power to all devices is lost. The <A HREF="gcm3zp.htm">WM_POWERBROADCAST</A> messages, sent immediately before suspension, allow device drivers to save the state of the device. For many devices (but not all), saving the state means the driver can restore the state when power is eventually restored, allowing the device to continue operation as if power was never lost. </P>

<P>When the system carries out a critical suspension, battery power is too low to let the computer continue to run. Unlike for suspended operation, the system does not notify applications and drivers before carrying out a critical suspension. This means data may be lost.</P>

<P>When system operation is restored after having been suspended, the system notifies all applications and drivers. It also identifies how the system was previously shut down so that the application or driver can take appropriate steps to restore its data and continue its own operation. </P>

</BODY>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script></html>
