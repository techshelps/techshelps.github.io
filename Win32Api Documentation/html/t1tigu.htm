<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>Hiding a Caret</TITLE>
</HEAD>

<BODY BGCOLOR="#FFFFC8" TEXT="#341717">



<P><A NAME="t1tigu"></A><B>Hiding a Caret</B></P>

<P>Whenever your application redraws a screen while processing a message other than <A HREF="f55xz2.htm">WM_PAINT</A>, it must make the caret invisible by using the <A HREF="18gndlx.htm"><B>HideCaret</B></A> function. When your application is finished drawing, redisplay the caret by using the <A HREF="wvypvc.htm"><B>ShowCaret</B></A> function. If your application processes the WM_PAINT message, it is not necessary to hide and redisplay the caret, because this function does this automatically. </P>

<P>The following code sample shows how to have your application hide the caret while drawing a character on the screen and while processing the <A HREF="4gep_o2.htm">WM_CHAR</A> message. </P>

<P>HWND hwnd,   // window handle  </P>

<P>HDC hdc;     // device context </P>

<P></P>

<P>case WM_CHAR: </P>

<P>switch (wParam) </P>

<P>{ </P>

<P>case 0x08: </P>

<P>. </P>

<P>. // Process a backspace. </P>

<P>. </P>

<P>break; </P>

<P></P>

<P>case 0x09: </P>

<P>. </P>

<P>. // Process a tab.  </P>

<P>. </P>

<P>break; </P>

<P></P>

<P>case 0x0D: </P>

<P>. </P>

<P>. // Process a carriage return. </P>

<P>. </P>

<P>break; </P>

<P></P>

<P>case 0x1B: </P>

<P>. </P>

<P>. // Process an escape. </P>

<P>. </P>

<P>break; </P>

<P></P>

<P>case 0x0A: </P>

<P>. </P>

<P>. // Process a linefeed. </P>

<P>. </P>

<P>break; </P>

<P></P>

<P>default: </P>

<P>// Hide the caret. </P>

<P>HideCaret(hwnd); </P>

<P></P>

<P>// Draw the character on the screen. </P>

<P></P>

<P>hdc = GetDC(hwnd); </P>

<P>SelectObject(hdc, </P>

<P>GetStockObject(SYSTEM_FIXED_FONT)); </P>

<P></P>

<P>TextOut(hdc, x, y, lpszChar, 1); </P>

<P></P>

<P>ReleaseDC(hwnd, hdc); </P>

<P></P>

<P>// Display the caret. </P>

<P></P>

<P>ShowCaret(hwnd); </P>

<P></P>

<P>} </P>

<P></P>

<P>If your application calls the <A HREF="18gndlx.htm"><B>HideCaret</B></A> function several times without calling <A HREF="wvypvc.htm"><B>ShowCaret</B></A>, the caret will not be displayed until the application also calls <B>ShowCaret</B> the same number of times. </P>

</BODY>
</HTML>
