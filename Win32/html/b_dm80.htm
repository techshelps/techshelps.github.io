<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>RasSecurityDialogEnd [New - Windows NT]</TITLE>
</HEAD>

<BODY BGCOLOR="#FFFFC8" TEXT="#341717">



<P><A NAME="b_dm80"></A><B>RasSecurityDialogEnd  <A HREF="10ziuno.htm"><IMG SRC="../images/bm1.gif" ALT="" BORDER=0></A>  <A HREF="35kj_0r.htm"><IMG SRC="../images/bm3.gif" ALT="" BORDER=0></A>  <A HREF="1mpuhlc.htm"><IMG SRC="../images/bm2.gif" ALT="" BORDER=0></A></B></P>

<P>[New - Windows NT]</P>

<P>The <B>RasSecurityDialogEnd</B> function is a third-party RAS security DLL entry point that the Windows NT RAS server calls to terminate an authentication transaction. </P>

<P><B>DWORD WINAPI RasSecurityDialogEnd(</B></P>

<TABLE cols=2 width=311>

<TR VALIGN="top">
<TD width=42%><B>HPORT</B> <I>hPort</I></TD>
<TD width=58%>// RAS handle to the port</TD>
</TR>

<TR VALIGN="top">
<TD width=42%><B>   );</B></TD>
<TD width=58%>&nbsp;</TD>
</TR>
</TABLE><BR>

<P></P>

<P><B>Parameters</B></P>

<P><I>hPort</I></P>

<P>Specifies the port handle that the RAS server passed to the security DLL in the <A HREF="esjkc.htm"><B>RasSecurityDialogBegin</B></A> call for this authentication transaction. </P>

<P></P>

<P><B>Return Values</B></P>

<P>If the security DLL returns NO_ERROR, the RAS server does not terminate the authentication transaction. In this case, the security DLL must later call the <A HREF="cyizsj.htm"><B>RasSecurityDialogComplete</B></A> function when it is ready to terminate.</P>

<P>If the security DLL returns a nonzero error code, the RAS server terminates the authentication transaction. In this case, the security DLL does not need to make another <B>RasSecurityDialogComplete</B> call. You should return an error code defined in WINERROR.H or RASERROR.H, such as ERROR_PORT_DISCONNECTED.</P>

<P><B>Remarks</B></P>

<P>When a security DLL has finished authenticating the remote user, it calls the <A HREF="cyizsj.htm"><B>RasSecurityDialogComplete</B></A> function. The RAS server then performs a cleanup sequence that includes a call to the DLL's <B>RasSecurityDialogEnd</B> function. This gives the security DLL an opportunity to perform any necessary cleanup. To terminate the authentication transaction, <B>RasSecurityDialogEnd</B> must return a nonzero error code. </P>

<P>The RAS server may also call <B>RasSecurityDialogEnd</B> if it needs to abnormally terminate the authentication transaction before the security DLL calls <B>RasSecurityDialogComplete</B>. In this case, the security DLL should terminate the worker thread associated with the <I>hPort</I> port handle, and perform any other necessary cleanup. If <B>RasSecurityDialogEnd</B> returns a nonzero value, the security DLL does not need to call <B>RasSecurityDialogComplete</B>. </P>

<P>For either a normal or abnormal termination, your <B>RasSecurityDialogEnd</B> function can return NO_ERROR to delay the termination. If it does so, it must later call <B>RasSecurityDialogComplete</B> when it is ready to terminate.</P>

<P><B>See Also</B></P>

<P><A HREF="esjkc.htm"><B>RasSecurityDialogBegin</B></A>, <A HREF="cyizsj.htm"><B>RasSecurityDialogComplete</B></A> </P>

</BODY>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-1');</script><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script></html>
