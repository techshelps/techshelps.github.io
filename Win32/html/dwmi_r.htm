<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>Label Editing</TITLE>
</HEAD>

<BODY BGCOLOR="#FFFFC8" TEXT="#341717">



<P><A NAME="dwmi_r"></A><B>Label Editing</B></P>

<P>A list view control that has the LVS_EDITLABELS window style enables a user to edit item labels in place. The user begins editing by clicking the label of an item that has the focus. An application can begin editing automatically by using the <A HREF="5h5i_ml.htm">LVM_EDITLABEL</A> message. The list view control notifies the parent window when editing begins and when it is canceled or completed. When editing is completed, the parent window is responsible for updating the item's label, if appropriate.</P>

<P>When label editing begins, a list view control sends its parent window an <A HREF="5tszkv.htm">LVN_BEGINLABELEDIT</A> notification message. You can process this message to allow selective editing of specific labels; returning a nonzero value prevents label editing.</P>

<P>When label editing is canceled or completed, a list view control sends its parent window an <A HREF=".etyt9.htm">LVN_ENDLABELEDIT</A> notification message. The <I>lParam</I> parameter is the address of an <A HREF="czkuk0.htm"><B>LV_DISPINFO</B></A> structure. The <B>item</B> member of this structure is an <A HREF="3f10cr.htm"><B>LV_ITEM</B></A> structure whose <B>iItem</B> member identifies the item. If editing is canceled, the <B>pszText</B> member of the <B>LV_ITEM</B> structure is NULL; otherwise, <B>pszText</B> is a pointer to the edited text. The parent window is responsible for updating the item's label, if appropriate, perhaps after validating the edited string. </P>

<P>During label editing, you can get the handle of the edit control used for label editing by using the <A HREF="jl0emf.htm">LVM_GETEDITCONTROL</A> message. To limit the amount of text a user can enter, you can send the edit control an <A HREF="s006qd.htm">EM_LIMITTEXT</A> message. You can even subclass the edit control to intercept and discard invalid characters. The edit control is created after the <A HREF="5tszkv.htm">LVN_BEGINLABELEDIT</A> notification message is sent.</P>

</BODY>
</HTML>
