<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>WinTrustProviderClientInitialize [New - Windows NT]</TITLE>
</HEAD>

<BODY BGCOLOR="#FFFFC8" TEXT="#341717">



<P><A NAME="7zfj51"></A><B>WinTrustProviderClientInitialize  <A HREF="2hln6e.htm"><IMG SRC="../images/bm1.gif" ALT="" BORDER=0></A></B></P>

<P>[New - Windows NT]</P>

<P>The <B>WinTrustProviderClientInitialize</B> function is an initialization function that WinTrust calls when it loads the client component of a trust provider DLL. Each trust provider must export a <B>WinTrustProviderClientInitialize</B> function.</P>

<P><B>BOOL WinTrustProviderClientInitialize(</B></P>

<TABLE cols=2 width=768>

<TR VALIGN="top">
<TD width=56%><B>DWORD</B> <I>dwWinTrustRevision</I><B>,</B></TD>
<TD width=44%>// WinTrust revision level</TD>
</TR>

<TR VALIGN="top">
<TD width=56%><B>    LPWINTRUST_CLIENT_TP_INFO</B> <I>lpWinTrustInfo</I><B>,</B></TD>
<TD width=44%>// pointer to information about WinTrust</TD>
</TR>

<TR VALIGN="top">
<TD width=56%><B>    LPWSTR</B> <I>lpProviderName</I><B>,</B></TD>
<TD width=44%>// administrator-assigned name of the trust provider</TD>
</TR>

<TR VALIGN="top">
<TD width=56%><B>    LPWINTRUST_PROVIDER_CLIENT_INFO</B> *<I>lpTrustProviderInfo</I></TD>
<TD width=44%>// receives information about the trust provider</TD>
</TR>

<TR VALIGN="top">
<TD width=56%><B>   );</B></TD>
<TD width=44%>&nbsp;</TD>
</TR>
</TABLE><BR>

<P></P>

<P><B>Parameters</B></P>

<P><I>dwWinTrustRevision</I></P>

<P>Indicates the revision level of the WinTrust component that calls this function. WinTrust sets this value to WIN_TRUST_REVISION_1_0.</P>

<P><I>lpWinTrustInfo</I></P>

<P>Pointer to a <A HREF="dz86ps.htm"><B>WINTRUST_CLIENT_TP_INFO</B></A> structure that contains information that WinTrust passes to the trust provider. This structure includes a dispatch table of functions implemented by WinTrust for use by the client component of a trust provider. </P>

<P>The information in this buffer is read-only. It is valid until the trust provider DLL is unloaded. The trust provider can reference the information rather than copy it.</P>

<P><I>lpProviderName</I></P>

<P>Pointer to a null-terminated Unicode string that contains the trust provider name. The system administrator assigned this name to the registry key that stores configuration information for the trust provider. The pointer is read-only and valid until the trust provider DLL is unloaded. The trust provider can reference the information rather than copy it.</P>

<P><I>lpTrustProviderInfo</I></P>

<P>Pointer to a variable that receives a pointer to a buffer allocated by the trust provider. The buffer contains a <A HREF=".1.fi.htm"><B>WINTRUST_PROVIDER_CLIENT_INFO</B></A> structure with information about the trust provider. The information includes the revision level of the trust provider, a dispatch table, and an array of <B>GUID</B>s that identify the action identifiers that the trust provider supports. WinTrust treats the buffer as read-only, and continues to reference this buffer until it unloads the trust provider DLL. The trust provider must not change the information in the buffer, or deallocate the memory before it is unloaded; doing so could corrupt the system.</P>

<P></P>

<P><B>Return Values</B></P>

<P>If the function succeeds, the return value is a nonzero value.</P>

<P>If the function fails, the return value is zero. To get extended error information, call <A HREF="11c2vs7.htm"><B>GetLastError</B></A>.</P>

<P><B>Remarks</B></P>

<P>When WinTrust loads a trust provider, it calls the trust provider's <B>WinTrustProviderClientInitialize</B> function. This gives the trust provider an opportunity to initialize itself, and to exchange information between WinTrust and the trust provider. </P>

<P>The LPWINTRUST_PROVIDER_CLIENT_INITIALIZE type is a pointer to a <B>WinTrustProviderClientInitialize</B> function.</P>

<P><B>See Also</B></P>

<P><A HREF="dz86ps.htm"><B>WINTRUST_CLIENT_TP_INFO</B></A>, <A HREF=".1.fi.htm"><B>WINTRUST_PROVIDER_CLIENT_INFO</B></A> </P>

</BODY>
</HTML>
