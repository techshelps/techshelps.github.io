<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>Control-Color Messages</TITLE>
</HEAD>

<BODY BGCOLOR="#FFFFC8" TEXT="#341717">



<P><A NAME="1cbh2pp"></A><B>Control-Color Messages </B></P>

<P>Controls and Windows can send control-color messages when they want the dialog box procedure to paint the background of a control or other window by using a specific brush and colors. This can be useful when applications override the default colors used in dialog boxes and their controls. Following are the control-color messages, which have replaced the WM_CTLCOLOR message. </P>

<P><A HREF="jye4l6.htm">WM_CTLCOLORBTN</A><BR>
<A HREF="jye6cz.htm">WM_CTLCOLORDLG</A><BR>
<A HREF="1setlx3.htm">WM_CTLCOLOREDIT</A><BR>
<A HREF="_8qfjg.htm">WM_CTLCOLORLISTBOX</A><BR>
<A HREF="7a6d.v4.htm">WM_CTLCOLORMSGBOX</A><BR>
<A HREF="1yn91vj.htm">WM_CTLCOLORSCROLLBAR</A><BR>
<A HREF="4s_9ph5.htm">WM_CTLCOLORSTATIC</A></P>

<P>A control sends a control-color message to the dialog box procedure just before it paints its own background. The message allows the procedure to specify which brush to use and to set the background and foreground colors. The procedure specifies a brush by returning the brush handle. To set the background and foreground colors, the procedure uses the <A HREF=".d41rh.htm"><B>SetBkColor</B></A> and <A HREF="1hz4b4.htm"><B>SetTextColor</B></A> functions with the control's display device context. The control-color message passes a handle of the display device context to the procedure in the message's <I>wParam</I> parameter. </P>

<P>Windows sends a WM_CTLCOLORDLG message to the dialog box procedure if the procedure does not process the <A HREF="fey63i.htm">WM_ERASEBKGND</A> message. The predefined dialog box class does not have a class background brush, so this message lets the procedure define its own background without having to include the code to carry out the work. </P>

<P>In any case, when a dialog box procedure does not process a control-color message, Windows uses a brush with the default window color to paint the background for all controls and windows except scroll bars. An application can retrieve the default window color by passing the COLOR_WINDOW value to the <A HREF="9s7o1d.htm"><B>GetSysColor</B></A> function. While the background is painted, the foreground color for the display device context is set to the default text color (COLOR_WINDOWTEXT). For scroll bars, Windows uses a brush having the default scroll bar color (COLOR_SCROLLBAR). In this case, the background and foreground colors for the display device context are set to white and black, respectively. </P>

</BODY>
</HTML>
