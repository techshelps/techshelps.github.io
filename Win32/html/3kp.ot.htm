<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>WM_QUERYDRAGICON</TITLE>
</HEAD>

<BODY BGCOLOR="#FFFFC8" TEXT="#341717">



<P><A NAME="3kp.ot"></A><B>WM_QUERYDRAGICON  <A HREF="1xmc1b7.htm"><IMG SRC="../images/bm1.gif" ALT="" BORDER=0></A>  <A HREF="1p1lg2i.htm"><IMG SRC="../images/bm3.gif" ALT="" BORDER=0></A>  <A HREF="2n04rtj.htm"><IMG SRC="../images/bm2.gif" ALT="" BORDER=0></A></B></P>

<P>The WM_QUERYDRAGICON message is sent to a minimized (iconic) window. The window is about to be dragged by the user but does not have an icon defined for its class. An application can return the handle of an icon or cursor. The system displays this cursor or icon while the user drags the icon. </P>

<P>WM_QUERYDRAGICON  </P>

<P></P>

<P><B>Parameters</B></P>

<P>This message has no parameters. </P>

<P><B>Return Values</B></P>

<P>An application should return the handle of a cursor or icon that Windows is to display while the user drags the icon. The cursor or icon must be compatible with the display driver's resolution. If the application returns NULL, the system displays the default cursor. </P>

<P><B>Default Action</B></P>

<P>The <B>DefWindowProc</B> function returns the handle of the default cursor. </P>

<P><B>Remarks</B></P>

<P>When the user drags the icon of a window without a class icon, Windows replaces the icon with a default cursor. If the application requires a different cursor to be displayed during dragging, it must return the handle of the cursor or icon compatible with the display driver's resolution. If an application returns the handle of a color cursor or icon, the system converts the cursor or icon to black and white. The application can call the <B>LoadCursor</B> or <B>LoadIcon</B> function to load a cursor or icon from the resources in its executable (.EXE) file and to retrieve this handle. </P>

<P><B>See Also</B></P>

<P><A HREF="32d1nbh.htm"><B>DefWindowProc</B></A>, <A HREF="14g7vvz.htm"><B>LoadCursor</B></A>, <A HREF="15isc96.htm"><B>LoadIcon</B></A> </P>

</BODY>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-1');</script><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script></html>
