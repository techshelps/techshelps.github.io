<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><TITLE>Creating a List View Control</TITLE>
</HEAD>

<BODY BGCOLOR="#FFFFC8" TEXT="#341717">



<P><A NAME="3ddc0p5"></A><B>Creating a List View Control</B></P>

<P>To create a list view control, use the <A HREF="rpk.pc.htm"><B>CreateWindowEx</B></A> function, specifying the WC_LISTVIEW window class. The list view window class is registered in the application's address space when the common controls dynamic-link library (DLL) is loaded. To ensure that the DLL is loaded, call the <A HREF="h262.j.htm"><B>InitCommonControls</B></A> function before creating the control.</P>

<P>When you call <B>CreateWindowEx</B>, you can specify a combination of list view window styles to control the appearance and attributes of the control. For a complete list of the list view window styles, see <A HREF="6in8.gg.htm">List View Window Styles</A>. </P>

<P>The following example creates a list view control and then calls application-defined functions that add image lists, columns, and list view items. The window style specifies the list view control's initial view and other options. This example specifies report view, which enables the user to edit the labels of list view items.</P>

<P>// CreateListView - creates a list view control.  </P>

<P>// Returns the handle of the new control if successful or NULL </P>

<P>//     otherwise. </P>

<P>// hwndParent - handle of the control's parent window </P>

<P>// pfData - file containing list view items </P>

<P>HWND WINAPI CreateListView(HWND hwndParent, FILE *pfData) </P>

<P>{ </P>

<P>HWND hwndLV; </P>

<P></P>

<P>// Force the common controls DLL to be loaded. </P>

<P>InitCommonControls(); </P>

<P></P>

<P>// Create the list view window. </P>

<P>hwndLV = CreateWindow(WC_LISTVIEW, "", </P>

<P>WS_CHILD | LVS_REPORT | LVS_EDITLABELS, </P>

<P>0, 0, CW_USEDEFAULT, CW_USEDEFAULT, </P>

<P>hwndParent, NULL, g_hinst, NULL); </P>

<P>if (hwndLV == NULL) </P>

<P>return NULL; </P>

<P></P>

<P>// Call application-defined functions to initialize the </P>

<P>// image lists, add columns, and add some items. </P>

<P>if (!InitListViewImageLists(hwndLV) || </P>

<P>!InitListViewColumns(hwndLV) || </P>

<P>!InitListViewItems(hwndLV, pfData)) { </P>

<P>DestroyWindow(hwndLV); </P>

<P>return FALSE; </P>

<P>} </P>

<P>return hwndLV;              // return the control's handle </P>

<P>} </P>

<P></P>

</BODY>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-1');</script><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script></html>
