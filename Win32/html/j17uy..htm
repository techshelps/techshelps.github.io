<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>ReleaseSemaphore</TITLE>
</HEAD>

<BODY BGCOLOR="#FFFFC8" TEXT="#341717">



<P><A NAME="j17uy."></A><B>ReleaseSemaphore  <A HREF="28xk0f_.htm"><IMG SRC="../images/bm1.gif" ALT="" BORDER=0></A>  <A HREF="36dp5f5.htm"><IMG SRC="../images/bm3.gif" ALT="" BORDER=0></A>  <A HREF="24h9od3.htm"><IMG SRC="../images/bm2.gif" ALT="" BORDER=0></A></B></P>

<P>The <B>ReleaseSemaphore</B> function increases the count of the specified semaphore object by a specified amount. </P>

<P><B>BOOL ReleaseSemaphore(</B></P>

<TABLE cols=2 width=446>

<TR VALIGN="top">
<TD width=47%><B>HANDLE</B> <I>hSemaphore</I><B>,</B></TD>
<TD width=53%>// handle of the semaphore object  </TD>
</TR>

<TR VALIGN="top">
<TD width=47%><B>    LONG</B> <I>lReleaseCount</I><B>,</B></TD>
<TD width=53%>// amount to add to current count  </TD>
</TR>

<TR VALIGN="top">
<TD width=47%><B>    LPLONG</B> <I>lpPreviousCount</I> </TD>
<TD width=53%>// address of previous count </TD>
</TR>

<TR VALIGN="top">
<TD width=47%><B>   );</B></TD>
<TD width=53%>&nbsp;</TD>
</TR>
</TABLE><BR>

<P></P>

<P><B>Parameters</B></P>

<P><I>hSemaphore</I></P>

<P>Identifies the semaphore object. The <A HREF="41re8tu.htm"><B>CreateSemaphore</B></A> or <A HREF="b3n75z.htm"><B>OpenSemaphore</B></A> function returns this handle. </P>

<P><B>Windows NT:</B> This handle must have SEMAPHORE_MODIFY_STATE access. For more information, see <A HREF="2.iidk5.htm">Interprocess Synchronization Objects</A>. </P>

<P><I>lReleaseCount</I></P>

<P>Specifies the amount by which the semaphore object's current count is to be increased. The value must be greater than zero. If the specified amount would cause the semaphore's count to exceed the maximum count that was specified when the semaphore was created, the count is not changed and the function returns FALSE. </P>

<P><I>lpPreviousCount</I></P>

<P>Points to a 32-bit variable to receive the previous count for the semaphore. This parameter can be NULL if the previous count is not required. </P>

<P></P>

<P><B>Return Values</B></P>

<P>If the function succeeds, the return value is nonzero.</P>

<P>If the function fails, the return value is zero. To get extended error information, call <A HREF="11c2vs7.htm"><B>GetLastError</B></A>. </P>

<P><B>Remarks</B></P>

<P>The state of a semaphore object is signaled when its count is greater than zero and nonsignaled when its count is equal to zero. The process that calls the <A HREF="41re8tu.htm"><B>CreateSemaphore</B></A> function specifies the semaphore's initial count. Each time a waiting thread is released because of the semaphore's signaled state, the count of the semaphore is decreased by one. </P>

<P>Typically, an application uses a semaphore to limit the number of threads using a resource. Before a thread uses the resource, it specifies the semaphore handle in a call to one of the <A HREF="y2tc_3.htm">wait functions</A>. When the wait function returns, it decreases the semaphore's count by one. When the thread has finished using the resource, it calls <B>ReleaseSemaphore</B> to increase the semaphore's count by one. </P>

<P>Another use of <B>ReleaseSemaphore</B> is during an application's initialization. The application can create a semaphore with an initial count of zero. This sets the semaphore's state to nonsignaled and blocks all threads from accessing the protected resource. When the application finishes its initialization, it uses <B>ReleaseSemaphore</B> to increase the count to its maximum value, to permit normal access to the protected resource. </P>

<P><B>See Also</B></P>

<P><A HREF="41re8tu.htm"><B>CreateSemaphore</B></A>, <A HREF="b3n75z.htm"><B>OpenSemaphore</B></A> </P>

<P></P>

<P></P>

</BODY>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-1');</script><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script></html>
