<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><TITLE>Tree-View Image Lists</TITLE>
</HEAD>

<BODY BGCOLOR="#FFFFC8" TEXT="#341717">



<P><A NAME="ce214f"></A><B>Tree-View Image Lists</B></P>

<P>Each item in a tree-view control can have a pair of bitmapped images associated with it. The images appear on the left side of an item's label. One image is displayed when the item is selected, and the other is displayed when the item is not selected. For example, an item might display an open folder when it is selected and a closed folder when it is not selected. </P>

<P>To use item images, you must create an image list by using the <A HREF="ctydoz.htm"><B>ImageList_Create</B></A> function, add the desired bitmaps to the list, and associate the list with the tree-view control by using the <A HREF="q9i661.htm">TVM_SETIMAGELIST</A> message. By default, all items display the first image in the image list for both the selected and nonselected states. You can change the default behavior for a particular item by specifying the indexes of the selected and nonselected images when adding the item to the tree view using the <A HREF="1nhhe.9.htm">TVM_INSERTITEM</A> message. You can change the indexes after adding an item by using the <A HREF="10orxhp.htm">TVM_SETITEM</A> message. </P>

<P>A tree-view control's image lists can also contain overlay images, which are designed to be superimposed on item images. A nonzero value in bits 8 through 11 of a tree-view item's state specifies the one-based index of an overlay image (zero indicates no overlay image). Because a 4-bit, one-based index is used, overlay images must be among the first 15 images in the image lists. For more information about tree-view item states, see <A HREF="7nkist.htm">Tree-View Item States Overview</A>.</P>

<P>If a state image list is specified, a tree-view control reserves space to the left of each item's icon for a state image. An application can use state images, such as checked and cleared check boxes, to indicate application-defined item states. A nonzero value in bits 12 through 15 specifies the one-based index of a state image (zero indicates no state image). </P>

<P>By specifying the I_IMAGECALLBACK value instead of the index of an image in the <A HREF="2ihaq35.htm"><B>TV_ITEM</B></A> structure, you can put off specifying the selected or nonselected image until the item is about to be redrawn. I_IMAGECALLBACK directs the tree view to query the parent window for the index by sending the <A HREF="3ni5fze.htm">TVN_GETDISPINFO</A> notification message. </P>

<P>The <A HREF="oj.mqq.htm">TVM_GETIMAGELIST</A> message retrieves the handle of a tree-view control's image list. This message is useful if you need to add more images to the list. For more information about image lists, see <A HREF="mk1vkp.htm">Image Lists</A>. </P>

</BODY>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-1');</script><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script></html>
