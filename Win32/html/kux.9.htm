<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><TITLE>Owner-Drawn Menus and the WM_MEASUREITEM Message</TITLE>
</HEAD>

<BODY BGCOLOR="#FFFFC8" TEXT="#341717">



<P><A NAME="kux.9"></A><B>Owner-Drawn Menus and the WM_MEASUREITEM Message</B></P>

<P>Before Windows displays an owner-drawn menu item for the first time, it sends the <A HREF=".a2o7n.htm">WM_MEASUREITEM</A> message to the window procedure of the window that owns the item's menu. This message contains a pointer to a <A HREF="5k1k_8r.htm"><B>MEASUREITEMSTRUCT</B></A> structure that identifies the item and contains the item data that an application may have assigned to it. The window procedure must fill the <B>itemWidth</B> and <B>itemHeight</B> members of the structure before returning from processing the message. Windows uses the information in these members when creating the bounding rectangle in which an application draws the menu item. It also uses the information to detect when the user chooses the item. </P>

</BODY>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script></html>
