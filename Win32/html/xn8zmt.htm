<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>Word and Line Breaks</TITLE>
</HEAD>

<BODY BGCOLOR="#FFFFC8" TEXT="#341717">



<P><A NAME="xn8zmt"></A><B>Word and Line Breaks</B></P>

<P>A rich edit control calls a function called a <I>word break procedure</I> to find breaks between words and to determine where it can break lines. The control uses this information when performing word wrap operations and when processing the CTRL+LEFT and CTRL+RIGHT key combinations. An application can send messages to a rich edit control to replace the default word break procedure, to retrieve word break information, and to determine what line a given character falls on.</P>

<P>Word break procedures for rich edit controls are similar to those for edit controls, but they have additional capabilities. Word break procedures for both kinds of controls can determine whether a character is a delimiter and can find the nearest word break before or after the specified position. A <I>delimiter</I> is a character that marks the end of a word, such as a space. In an edit control, word breaks occur only after delimiters.</P>

<P>Word break procedures for rich edit controls also group characters into <I>character classes,</I> each identified by a value in the range 0x00 through 0x0F. Word breaks occur either after delimiters or between characters of different classes. Thus, a word break procedure with different classes for alphanumeric and punctuation characters would find two word breaks in the string "WIN.COM".</P>

<P>A character's class can be combined with zero or more <I>word break flags</I> to form an eight-bit value. When performing word wrap operations, a rich edit control uses word break flags to determine where it can break lines. There are the following word break flags.</P>

<TABLE cols=2>

<TR VALIGN="top">
<TD width=32%>WBF_BREAKAFTER</TD>
<TD width=68%>Lines may be broken after the character.</TD>
</TR>

<TR VALIGN="top">
<TD width=32%>WBF_BREAKLINE</TD>
<TD width=68%>The character is a delimiter. Delimiters mark the ends of words. Lines may be broken after delimiters.</TD>
</TR>

<TR VALIGN="top">
<TD width=32%>WBF_ISWHITE</TD>
<TD width=68%>The character is a white space character. Trailing white space characters are not included in the length of a line when wrapping.</TD>
</TR>
</TABLE><BR>

<P></P>

<P>The WBF_BREAKAFTER value is used to allow wrapping after a character that does not mark the end of a word, such as a hyphen.</P>

<P>You can replace a rich edit control's default word break procedure with your own by using the <A HREF="12vzvaw.htm">EM_SETWORDBREAKPROC</A> message. For more information about word break procedures, see the description of the <A HREF="2gqt2nn.htm"><B>EditWordBreakProc</B></A> function.</P>

<P>Alternately, you can use the <A HREF="1iczojp.htm">EM_SETWORDBREAKPROCEX</A> message to replace the default extended word break procedure with an <A HREF="26b.bkp.htm"><B>EditWordBreakProcEx</B></A> function. This function provides additional information about the text, such as the character set. You can use the <A HREF="2n54ehl.htm">EM_GETWORDBREAKPROCEX</A> message to retrieve the address of the current extended word break procedure.</P>

<P>You can use the <A HREF="cdzdwj.htm">EM_FINDWORDBREAK</A> message to find word breaks or to determine a character's class and word break flags. In turn, the control calls its word break procedure to get the requested information.</P>

<P>To determine which line a given character falls on, you can use the <A HREF="nts4pn.htm">EM_EXLINEFROMCHAR</A> message.</P>

</BODY>
</HTML>
