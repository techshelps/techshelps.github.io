<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>Nonclient Area</TITLE>
</HEAD>

<BODY BGCOLOR="#FFFFC8" TEXT="#341717">



<P><A NAME="_ngu9w"></A><B>Nonclient Area</B></P>

<P>Windows sends a <A HREF="l6ka1.htm">WM_NCPAINT</A> message to the window whenever a part of the nonclient area of the window, such as the title bar, menu bar, or window frame, must be updated. Windows may also send other messages to direct a window to update a portion of its client area; for example, when a window becomes active or inactive, it sends the <A HREF="2ip40jw.htm">WM_NCACTIVATE</A> message to update its title bar. In general, processing these messages for standard windows is not recommended, because the application must be able to draw all the required parts of the nonclient area for the window. For this reason, most applications pass these messages to <A HREF="32d1nbh.htm"><B>DefWindowProc</B></A> for default processing. </P>

<P>An application that creates custom nonclient areas for its windows must process these messages. When doing so, the application must use a window DC to carry out drawing in the window. The <I>window DC</I> enables the application to draw in all portions of the window, including the nonclient area. An application retrieves a window DC by using the <A HREF="5y6h_kv.htm"><B>GetWindowDC</B></A> or <A HREF="4m9cxu5.htm"><B>GetDCEx</B></A> function and, when drawing is complete, must release the window DC by using the <A HREF="p4bes3.htm"><B>ReleaseDC</B></A> function. </P>

<P>Windows maintains an update region for the nonclient area. When an application receives a WM_NCPAINT message, the <I>wParam</I> parameter contains the handle of a region defining the dimensions of the update region. The application can use the handle to combine the update region with the clipping region for the window DC. Windows does not automatically combine the update region when retrieving the window DC unless the application uses <B>GetDCEx</B> and specifies both the region handle and the DCX_INTERSECTRGN flag. If the application does not combine the update region, only drawing operations that would otherwise extend outside the window are clipped. The application is not responsible for clearing the update region, regardless of whether it uses the region. </P>

<P>If an application processes the WM_NCACTIVATE message, after processing it must return TRUE to direct Windows to complete the change of active window. If the window is minimized when the application receives the WM_NCACTIVATE message, it should pass the message to <B>DefWindowProc</B>. In such cases, the default function redraws the label for the icon. </P>

</BODY>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script></html>
