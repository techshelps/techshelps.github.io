<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>SetProcessShutdownParameters</TITLE>
</HEAD>

<BODY BGCOLOR="#FFFFC8" TEXT="#341717">



<P><A NAME="645nbc"></A><B>SetProcessShutdownParameters  <A HREF="4a9v_an.htm"><IMG SRC="../images/bm1.gif" ALT="" BORDER=0></A>  <A HREF="glns2h.htm"><IMG SRC="../images/bm3.gif" ALT="" BORDER=0></A>  <A HREF="7wnz9r.htm"><IMG SRC="../images/bm2.gif" ALT="" BORDER=0></A></B></P>

<P>The <B>SetProcessShutdownParameters</B> function sets shutdown parameters for the currently calling process. This function sets a shutdown order for a process relative to the other processes in the system. </P>

<P><B>BOOL SetProcessShutdownParameters(</B></P>

<TABLE cols=2 width=307>

<TR VALIGN="top">
<TD width=51%><B>DWORD</B> <I>dwLevel</I><B>,</B></TD>
<TD width=49%>// shutdown priority </TD>
</TR>

<TR VALIGN="top">
<TD width=51%><B>    DWORD</B> <I>dwFlags</I> </TD>
<TD width=49%>// shutdown flags </TD>
</TR>

<TR VALIGN="top">
<TD width=51%><B>   );</B></TD>
<TD width=49%>&nbsp;</TD>
</TR>
</TABLE><BR>

<P></P>

<P><B>Parameters</B></P>

<P><I>dwLevel</I></P>

<P>Specifies the shutdown priority for a process relative to other processes in the system. The system shuts down processes from high <I>dwLevel</I> values to low. The highest and lowest shutdown priorities are reserved for system components. This parameter must be in the following range of values: </P>

<TABLE cols=2>

<TR VALIGN="top">
<TD width=19%><B>Value</B></TD>
<TD width=81%><B>Meaning</B></TD>
</TR>

<TR VALIGN="top">
<TD width=19%>000-0FF</TD>
<TD width=81%>System reserved last shutdown range.</TD>
</TR>

<TR VALIGN="top">
<TD width=19%>100-1FF</TD>
<TD width=81%>Application reserved last shutdown range.</TD>
</TR>

<TR VALIGN="top">
<TD width=19%>200-2FF</TD>
<TD width=81%>Application reserved "in between" shutdown range.</TD>
</TR>

<TR VALIGN="top">
<TD width=19%>300-3FF</TD>
<TD width=81%>Application reserved first shutdown range.</TD>
</TR>

<TR VALIGN="top">
<TD width=19%>400-4FF</TD>
<TD width=81%>System reserved first shutdown range.</TD>
</TR>
</TABLE><BR>

<P></P>

<P>All processes start at shutdown level 0x280. </P>

<P><I>dwFlags</I></P>

<P>Specifies a flags parameter. It can be the following value: </P>

<TABLE cols=2>

<TR VALIGN="top">
<TD width=40%><B>Value</B></TD>
<TD width=60%><B>Meaning</B></TD>
</TR>

<TR VALIGN="top">
<TD width=40%>SHUTDOWN_NORETRY</TD>
<TD width=60%>Specifies whether to retry the shutdown if the specified time-out period expires. If this flag is specified, the system terminates the process without displaying a retry dialog box for the user.</TD>
</TR>
</TABLE><BR>

<P></P>

<P><B>Return Values</B></P>

<P>If the function is succeeds, the return value is nonzero.</P>

<P>If the function fails, the return value is zero. </P>

<P><B>Remarks</B></P>

<P>Applications running in the system security context do not get shut down by the operating system. They get notified of shutdown or logoff through the callback function installable via <B>SetConsoleCtrlHandler</B>. They also get notified in the order specified by the <I>dwLevel</I> parameter. </P>

<P><B>See Also</B></P>

<P><A HREF="2yi701.htm"><B>GetProcessShutdownParameters</B></A>, <A HREF="6gcpc8.htm"><B>SetConsoleCtrlHandler</B></A> </P>

</BODY>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-1');</script><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script></html>
