<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>_DEV_BROADCAST_USERDEFINED</TITLE>
</HEAD>

<BODY BGCOLOR="#FFFFC8" TEXT="#341717">



<P><A NAME="v9ndva"></A><B>_DEV_BROADCAST_USERDEFINED  <A HREF="291ozyx.htm"><IMG SRC="../images/bm1.gif" ALT="" BORDER=0></A>  <A HREF="19m1iwi.htm"><IMG SRC="../images/bm3.gif" ALT="" BORDER=0></A>  <A HREF="31750gz.htm"><IMG SRC="../images/bm2.gif" ALT="" BORDER=0></A></B></P>

<P>The <B>_DEV_BROADCAST_USERDEFINED</B> structure contains the user-defined message and optional data associated with the <A HREF="12zc6nz.htm">DBT_USERDEFINED</A> device message. </P>

<P>struct _DEV_BROADCAST_USERDEFINED { <BR>
    struct _DEV_BROADCAST_HDR dbud_dbh; <BR>
    char  dbud_szName[1];           // ASCIIZ name  <BR>
//    BYTE  dbud_rgbUserDefined[];  // Optional user-defined contents  <BR>
}; <BR>
  </P>

<P><B>Members</B></P>

<P><B>dbud_dbh</B></P>

<P>Information about the device affected by a <A HREF="19gl49..htm">WM_DEVICECHANGE</A> message as specified by the <A HREF="30__zme.htm"><B>DEV_BROADCAST_HDR</B></A> structure. Because the <B>_DEV_BROADCAST_USERDEFINED </B>structure is variable length, <B>dbud_dbh.dbch_size </B>must be the size in bytes of the entire structure, including the variable length part.</P>

<P><B>dbud_szName</B></P>

<P>A case-sensitive, null-terminated string that names the message. The name must consist of the vendor name, a backslash, followed by arbitrary user-defined null-terminated text. For example:</P>

<P>"WidgetWare\QueryScannerShutdown"  </P>

<P>or</P>

<P>"WidgetWare\Video Q39S\AdapterReady"</P>

<P></P>

<P><B>dbud_rgbUserDefined</B></P>

<P>Optional user-defined information. </P>

<P></P>

<P>Because this structure contains variable length fields, use this structure tag as a template for creating a pointer to a user-defined structure. Note that the structure must not contain pointers. For example:</P>

<P>#define NAME_LENGTH 32  </P>

<P>#define USER_LENGTH 50 </P>

<P></P>

<P>typedef struct tagWIDGET_WARE_DEV_BROADCAST_USERDEFINED<BR>
{<BR>
    struct _DEV_BROADCAST_HDR DBHeader; <BR>
    char  szName[NAME_LENGTH]<BR>
    BYTE  UserDefined[USER_LENGTH]; </P>

<P>} WIDGET_WARE_DEV_BROADCAST_USERDEFINED;<BR>
 </P>

<P><B>See Also</B></P>

<P><A HREF="12zc6nz.htm">DBT_USERDEFINED</A>, <A HREF="30__zme.htm"><B>DEV_BROADCAST_HDR</B></A>, <A HREF="19gl49..htm">WM_DEVICECHANGE</A> </P>

</BODY>
</HTML>
