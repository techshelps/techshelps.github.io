<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>Destroying a Window</TITLE>
</HEAD>

<BODY BGCOLOR="#FFFFC8" TEXT="#341717">



<P><A NAME="mcj4jl"></A><B>Destroying a Window</B></P>

<P>You can use the <A HREF="1vrgccm.htm"><B>DestroyWindow</B></A> function to destroy a window. Typically, an application sends the <A HREF="esa43n.htm">WM_CLOSE</A> message before destroying a window, giving the window the opportunity to prompt the user for confirmation before the window is destroyed. A window that includes a window menu automatically receives the WM_CLOSE message when the user chooses the Close command from the menu. If the user confirms that the window should be destroyed, the application calls <B>DestroyWindow</B>. Windows sends the <A HREF="0yqmho.htm">WM_DESTROY</A> message to the window after removing it from the screen. In response to WM_DESTROY, the window saves its data and frees any resources it allocated. A main window concludes its processing of WM_DESTROY by calling the <A HREF="2a2_ss3.htm"><B>PostQuitMessage</B></A> function to quit the application. </P>

<P>The following example shows how to prompt for user confirmation before destroying a window. In response to WM_CLOSE, the example displays a dialog box that contains Yes, OK, and Cancel buttons. If the user clicks the Yes button, <B>DestroyWindow</B> is called; otherwise, the window is not destroyed. Because the window being destroyed is a main window, the example calls <B>PostQuitMessage</B> in response to WM_DESTROY. </P>

<P>case WM_CLOSE:  </P>

<P></P>

<P>// Create the message box. If the user clicks </P>

<P>// the Yes button, destroy the main window. </P>

<P></P>

<P>if (MessageBox(hwnd, szConfirm, szAppName, </P>

<P>MB_YESNOCANCEL) == IDYES) </P>

<P>DestroyWindow(hwndMain); </P>

<P>else </P>

<P>return 0; </P>

<P></P>

<P>case WM_DESTROY: </P>

<P></P>

<P>// Post the WM_QUIT message to </P>

<P>// quit the application terminate. </P>

<P></P>

<P>PostQuitMessage(0); </P>

<P>return 0; </P>

<P></P>

</BODY>
</HTML>
