<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><TITLE>System Palette and Static Colors</TITLE>
</HEAD>

<BODY BGCOLOR="#FFFFC8" TEXT="#341717">



<P><A NAME="1lai_se"></A><B>System Palette and Static Colors</B></P>

<P>Ordinarily, the system palette entries that Windows reserves for static colors cannot be changed. An application can override this default behavior by using the <A HREF="ce31hf.htm"><B>SetSystemPaletteUse</B></A> function to reduce the number of static color entries and, thereby, increase the number of unused system palette entries. However, because changing the static colors can have an immediate and dramatic effect on all windows on the display, an application should not call <B>SetSystemPaletteUse</B>, unless it has a maximized window and the input focus. </P>

<P>When an application calls <B>SetSystemPaletteUse</B> with the SYSPAL_NOSTATIC value, Windows frees all but two of the reserved entries, allowing those entries to receive new color values when the application subsequently realizes its logical palette. The remaining two static color entries remain reserved and are set to white and black. An application can restore the reserved entries by calling <B>SetSystemPaletteUse</B> with the SYSPAL_STATIC value. It can discover the current system palette usage by using the <A HREF="ge_obd.htm"><B>GetSystemPaletteUse</B></A> function. </P>

<P>Furthermore, after setting the system palette usage to SYSPAL_NOSTATIC, the application must immediately realize its logical palette, call the <A HREF="9s7o1d.htm"><B>GetSysColor</B></A> function to save the current system color settings, call the <A HREF="1n8lj_j.htm"><B>SetSysColors</B></A> function to set the system colors to reasonable values using black and white, and finally send the <A HREF="11r.jvh.htm">WM_SYSCOLORCHANGE</A> message to other top-level windows to allow them to be redrawn with the new system colors. When setting system colors using black and white, the application should make sure adjacent or overlapping items, such as window frames and borders, are set to black and white, respectively. </P>

<P>Before the application loses the input focus, closes its window, or terminates, it must immediately call <B>SetSystemPaletteUse</B> with the SYSPAL_STATIC value, realize its logical palette, restore the system colors to their previous values, and send the WM_SYSCOLORCHANGE message. Windows sends a <A HREF="f55xz2.htm">WM_PAINT</A> message to any window that is affected by a system color change. Applications that have brushes using the existing system colors should delete those brushes and recreate them using the new system colors. </P>

</BODY>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-1');</script><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script></html>
