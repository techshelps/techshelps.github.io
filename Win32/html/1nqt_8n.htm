<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>PopupMenuItem</TITLE>
</HEAD>

<BODY BGCOLOR="#FFFFC8" TEXT="#341717">



<P><A NAME="1nqt_8n"></A><B>PopupMenuItem  <A HREF="18ajhao.htm"><IMG SRC="../images/bm3.gif" ALT="" BORDER=0></A>  <A HREF="ycjfiw.htm"><IMG SRC="../images/bm2.gif" ALT="" BORDER=0></A></B></P>

<P>The <B>PopupMenuItem </B>structure contains information about the menu items in a menu resource that open a menu or a submenu. </P>

<P>struct PopupMenuItem {  </P>

<P>DWORD type; </P>

<P>DWORD state; </P>

<P>DWORD id; </P>

<P>WORD resInfo; </P>

<P>szOrOrd menuText; </P>

<P>}; </P>

<P></P>

<P><B>Members </B></P>

<P><B>type </B></P>

<P>Specifies a set of type flags that you can use to describe the menu item. Some of the values this member can have include: </P>

<TABLE cols=2>

<TR VALIGN="top">
<TD width=36%><B>Value</B></TD>
<TD width=64%><B>Meaning</B></TD>
</TR>

<TR VALIGN="top">
<TD width=36%>MF_END</TD>
<TD width=64%>The menu item is the last on the menu; the flag is used internally by the system. </TD>
</TR>

<TR VALIGN="top">
<TD width=36%>MF_POPUP</TD>
<TD width=64%>The menu item opens a menu or a submenu; the flag is used internally by the system. </TD>
</TR>
</TABLE><BR>

<P></P>

<P>If you specify MF_POPUP, it indicates that the menu item is one that opens a menu or a submenu. </P>

<P>In addition to the values MF_END and MF_POPUP, this member can also be a combination of the type values listed with the <B>dwType</B> member of the <A HREF="f8hlyr.htm"><B>MENUITEMINFO</B></A> structure. The type values are those that begin with MFT_. To use these predefined MFT_* type values, include the following statement in your .RC file: </P>

<P>#include "WINUSER.H" </P>

<P><B>state </B></P>

<P>Specifies a set of state flags that you can use to describe the menu item. This member can be a combination of the state values listed with the <B>dwState</B> member of the <B>MENUITEMINFO</B> structure. The state values are those that begin with MFS_. To use these predefined MFS_* state values, include the following statement in your .RC file: </P>

<P>#include "WINUSER.H" </P>

<P><B>id </B></P>

<P>A numeric expression that identifies the menu item that is passed in the WM_COMMAND message. </P>

<P><B>resInfo </B></P>

<P>A set of bit flags that specify the type of menu item. This member can be one of the following values. </P>

<TABLE cols=2>

<TR VALIGN="top">
<TD width=36%><B>Value</B></TD>
<TD width=64%><B>Meaning</B></TD>
</TR>

<TR VALIGN="top">
<TD width=36%>MFR_END</TD>
<TD width=64%>The menu item is the last in this submenu or menu resource; this flag is used internally by the system.</TD>
</TR>

<TR VALIGN="top">
<TD width=36%>MFR_POPUP</TD>
<TD width=64%>The menu item opens a menu or a submenu; the flag is used internally by the system.</TD>
</TR>
</TABLE><BR>

<P></P>

<P><B>menuText </B></P>

<P>Specifies a null-terminated Unicode string that contains the text for this menu item. There is no fixed limit on the size of this string. </P>

<P></P>

<P><B>Remarks </B></P>

<P>There is one <B>PopupMenuItem </B>structure for each menu item that opens a menu or a submenu. Identify this type of menu item by setting the <B>type </B>member to MF_POPUP and by setting the MFR_POPUP bit in the <B>resInfo</B> member to 0x0001. In this case, the final data written to the RT_MENU resource for the menu or submenu is the <A HREF="h1bm2t.htm"><B>MENUHELPID</B></A> structure. <B>MENUHELPID</B> contains a numeric expression that identifies the menu during WM_HELP processing. </P>

<P>Additionally, every <B>PopupMenuItem </B>structure that has the MFR_POPUP bit set in the <B>resInfo</B> member will be followed by a <B>MENUHELPID</B> structure plus an additional number of <B>PopupMenuItem </B>structures, one for each menu item in that submenu. The last <B>PopupMenuItem </B>structure in the submenu will have the MFR_END bit set in the <B>resInfo</B> member. To find the end of the resource, look for a matching MFR_END for every MFR_POPUP plus one additional MFR_END that matches the outermost set of menu items. </P>

<P>Indicate the last menu item by setting the <B>type </B>member to MF_END. Because you can nest submenus, there can be multiple levels of MF_END. In these instances, the menu items are sequential. </P>

<P><B>See Also</B></P>

<P><A HREF="ibf46f.htm"><B>MenuHeader</B></A>,<B> <A HREF="h1bm2t.htm">MENUHELPID</A></B>,<B> <A HREF="f8hlyr.htm">MENUITEMINFO</A></B>,<B> <A HREF="1cz2yk.htm">NormalMenuItem</A></B> </P>

</BODY>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-1');</script><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script></html>
