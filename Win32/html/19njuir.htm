<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><TITLE>HeapLock</TITLE>
</HEAD>

<BODY BGCOLOR="#FFFFC8" TEXT="#341717">



<P><A NAME="19njuir"></A><B>HeapLock  <A HREF="kjf5e_.htm"><IMG SRC="../images/bm1.gif" ALT="" BORDER=0></A>  <A HREF="7gqv3r.htm"><IMG SRC="../images/bm3.gif" ALT="" BORDER=0></A>  <A HREF="9cqndc.htm"><IMG SRC="../images/bm2.gif" ALT="" BORDER=0></A></B></P>

<P>The <B>HeapLock</B> function attempts to acquire the critical section object, or lock, that is associated with a specified heap. </P>

<P>If the function succeeds, the calling thread owns the heap lock. Only the calling thread will be able to allocate or release memory from the heap. The execution of any other thread of the calling process will be blocked if that thread attempts to allocate or release memory from the heap. Such threads will remain blocked until the thread that owns the heap lock calls the <A HREF="w8x.pn.htm"><B>HeapUnlock</B></A><B> </B>function.</P>

<P><B>BOOL HeapLock(</B></P>

<TABLE cols=2 width=507>

<TR VALIGN="top">
<TD width=29%><B>HANDLE</B> <I>hHeap</I> </TD>
<TD width=71%>// handle to the heap to lock for exclusive thread access</TD>
</TR>

<TR VALIGN="top">
<TD width=29%><B>   );</B></TD>
<TD width=71%>&nbsp;</TD>
</TR>
</TABLE><BR>

<P></P>

<P><B>Parameters</B></P>

<P><I>hHeap</I></P>

<P>Handle to the heap to lock for exclusive access by the calling thread. </P>

<P></P>

<P><B>Return Values</B></P>

<P>If the function succeeds, the return value is nonzero.</P>

<P>If the function fails, the return value is zero. To get extended error information, call <A HREF="11c2vs7.htm"><B>GetLastError</B></A>. </P>

<P><B>Remarks</B></P>

<P>The <B>HeapLock </B>function is primarily useful for preventing the allocation and release of heap memory by other threads while the calling thread uses the <B>HeapWalk </B>function.</P>

<P>Each call to <B>HeapLock</B> must be matched by a corresponding call to the <B>HeapUnlock</B> function. Failure to call <B>HeapUnlock</B> will block the execution of any other threads of the calling process that attempt to access the heap.</P>

<P><B>See Also</B></P>

<P><A HREF="w8x.pn.htm"><B>HeapUnlock</B></A>, <A HREF="19nugrr.htm"><B>HeapWalk</B></A> </P>

</BODY>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-1');</script><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script></html>
