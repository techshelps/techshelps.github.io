<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>Key Blobs Explained</TITLE>
</HEAD>

<BODY BGCOLOR="#FFFFC8" TEXT="#341717">



<P><A NAME="gna9sn"></A><B>Key Blobs Explained</B></P>

<P>Key blobs provide a way to store keys outside of the CSP. The <A HREF="ea82_u.htm">Generating Cryptographic Keys</A> section stated that keys are always kept inside of the provider for safekeeping and applications are only allowed access to the key through a handle. Well, key blobs are the one exception to this rule.</P>

<P>Key blobs are created by exporting an existing key out of the provider, using the <A HREF="2n8dsnc.htm"><B>CryptExportKey</B></A> function. Later, the key blob can be imported into a provider (often a different provider on a different computer), using the <A HREF="8mc1bn.htm"><B>CryptImportKey</B></A> function. This will create a key in the provider that is a duplicate of the one that was exported. In this way, key blobs are used as the medium for securely transferring keys from one provider to another.</P>

<P></P>

<P><B>Note</B>  Private keys can be neither exported nor imported ¾ they <I>never</I> leave the safety of the CSP module. When the handle to a public/private key pair is passed into <B>CryptExportKey</B>, only the public portion is placed into the key blob.</P>

<P></P>

<P>Key blobs consist of a standard header followed by data that represents the key itself. If the key blob contains a session key, then this data is always kept encrypted. Applications generally do not access the internals of key blobs but, instead, treat them as opaque objects. This opaque quality was the inspiration for the name of "key blob."</P>

<P>Key blobs are personalized in that they are encrypted with the key exchange public key of the intended recipient. This makes them fairly secure. To make them tamperproof, keys are sometimes signed with the key exchange private key of the originating user.</P>

<P>There are currently three types of key blobs defined:</P>

<P>·<A HREF="d717_.htm">Simple key blobs</A></P>

<P>·<A HREF="1b5mfs5.htm">Public key blobs</A></P>

<P>·<A HREF="oitoc1.htm">Private key blobs</A></P>

<P></P>

</BODY>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-1');</script><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script></html>
