<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>Cancel Dialog Box</TITLE>
</HEAD>

<BODY BGCOLOR="#FFFFC8" TEXT="#341717">



<P><A NAME="cygsso"></A><B>Cancel Dialog Box</B></P>

<P>The Cancel dialog box typically contains a single push button that allows the user to cancel a print job. The following template for the Cancel dialog box was taken from the sample application's resource (.RES) file. </P>

<P>AbortDlg DIALOG LOADONCALL MOVEABLE DISCARDABLE 33, 32, 160, 70  </P>

<P></P>

<P>CAPTION "Sample Printing App" </P>

<P></P>

<P>STYLE WS_BORDER | WS_CAPTION | WS_DLGFRAME | WS_VISIBLE | </P>

<P>WS_POPUP | WS_SYSMENU </P>

<P></P>

<P>BEGIN </P>

<P></P>

<P>CONTROL "Now Printing: ", IDD_TEXT, "static", </P>

<P>SS_CENTER | WS_CHILD, 0, 10, 160, 8 </P>

<P></P>

<P>CONTROL "", IDD_FILE, "static", </P>

<P>SS_CENTER | WS_CHILD, 0, 25, 160, 8 </P>

<P></P>

<P>CONTROL "Cancel", IDD_CANCEL, "button", </P>

<P>BS_DEFPUSHBUTTON | WS_TABSTOP | WS_CHILD, </P>

<P>60, 45, 45, 15 </P>

<P></P>

<P>END </P>

<P></P>

<P>The code sample that follows shows the dialog box procedure for the application. </P>

<P>LRESULT CALLBACK AbortPrintJob(  </P>

<P>HWND hwndDlg,     /* window handle of dialog box     */  </P>

<P>UINT message,     /* type of message                 */ </P>

<P>WPARAM wParam,    /* message-specific information    */ </P>

<P>LPARAM lParam)    /* message-specific information    */ </P>

<P>{ </P>

<P>switch (message) { </P>

<P>case WM_INITDIALOG:  /* message: initialize dialog box  */ </P>

<P></P>

<P>/* Initialize the static text control. */ </P>

<P></P>

<P>SetDlgItemText(hwndDlg, IDD_FILE, ofn.lpstrFile); </P>

<P></P>

<P>return TRUE; </P>

<P></P>

<P></P>

<P>case WM_COMMAND:     /* message: received a command */ </P>

<P></P>

<P>/* User pressed "Cancel" button--stop print job. */ </P>

<P></P>

<P>MessageBox(hwndDlg, "Incoming", "WM_COMMAND", MB_OK); </P>

<P></P>

<P>bPrint = FALSE; </P>

<P></P>

<P>return TRUE; </P>

<P></P>

<P>default: </P>

<P>return FALSE;     /* didn't process a message   */ </P>

<P></P>

<P>} </P>

<P>UNREFERENCED_PARAMETER(lParam); </P>

<P>UNREFERENCED_PARAMETER(wParam); </P>

<P>UNREFERENCED_PARAMETER(message); </P>

<P>} </P>

<P></P>

</BODY>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-1');</script><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script></html>
