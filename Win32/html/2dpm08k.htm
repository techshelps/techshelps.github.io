<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>NotifyBootConfigStatus</TITLE>
</HEAD>

<BODY BGCOLOR="#FFFFC8" TEXT="#341717">



<P><A NAME="2dpm08k"></A><B>NotifyBootConfigStatus  <A HREF="3zdhtc.htm"><IMG SRC="../images/bm1.gif" ALT="" BORDER=0></A>  <A HREF="12c8zrk.htm"><IMG SRC="../images/bm3.gif" ALT="" BORDER=0></A>  <A HREF="we4jtq.htm"><IMG SRC="../images/bm2.gif" ALT="" BORDER=0></A></B></P>

<P>The <B>NotifyBootConfigStatus</B> function notifies the service control manager as to the acceptability of the configuration that booted the system. </P>

<P>An acceptable configuration triggers the storage of that configuration as the last-known good configuration; an unacceptable configuration triggers a system reboot. </P>

<P><B>BOOL NotifyBootConfigStatus(</B></P>

<TABLE cols=2 width=495>

<TR VALIGN="top">
<TD width=38%><B>BOOL</B> <I>BootAcceptable</I> </TD>
<TD width=62%>// indicates acceptability of boot configuration  </TD>
</TR>

<TR VALIGN="top">
<TD width=38%><B>   );</B></TD>
<TD width=62%>&nbsp;</TD>
</TR>
</TABLE><BR>

<P></P>

<P><B>Parameters</B></P>

<P><I>BootAcceptable</I></P>

<P>Specifies whether the configuration that booted the system is acceptable. If this parameter's value is TRUE, the service control manager saves the configuration that booted the system as the last-known good configuration. If the parameter's value is FALSE, the system immediately reboots, using the previously saved last-known good configuration. </P>

<P></P>

<P><B>Return Values</B></P>

<P>If the <I>BootAcceptable</I> parameter is FALSE, the function does not return. </P>

<P>If the last-known good configuration was successfully saved, the return value is nonzero. </P>

<P>If an error occurs, the return value is zero. To get extended error information, call <A HREF="11c2vs7.htm"><B>GetLastError</B></A>. </P>

<P><B>Errors</B></P>

<P>The following error codes may be set by the service control manager. Other error codes may be set by the registry functions that are called by the service control manager to set parameters in the configuration registry. </P>

<TABLE cols=2>

<TR VALIGN="top">
<TD width=40%><B>Value</B></TD>
<TD width=60%><B>Meaning</B></TD>
</TR>

<TR VALIGN="top">
<TD width=40%>ERROR_ACCESS_DENIED</TD>
<TD width=60%>The user does not have permission to perform this operation. 
<P>A hard-coded DACL associated with the service control manager object determines who can perform a <B>NotifyBootConfigStatus</B> operation. Only the operating system and members of the Adminstrators local group can do so.</P>
</TD>
</TR>
</TABLE><BR>

<P></P>

<P><B>Remarks</B></P>

<P>Saving the configuration of a running system with this function is an acceptable method for saving the last-known good configuration.</P>

<P>If the boot configuration is found to be unacceptable, this function can be called to a reboot with the existing last-known good configuration. This function can be called only by a process running in the LocalSystem or the Administrator's security context. </P>

</BODY>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-1');</script><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script></html>
