<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>TrackPopupMenu</TITLE>
</HEAD>

<BODY BGCOLOR="#FFFFC8" TEXT="#341717">



<P><A NAME="4avwr7n"></A><B>TrackPopupMenu  <A HREF="3jeyys8.htm"><IMG SRC="../images/bm1.gif" ALT="" BORDER=0></A>  <A HREF="quf.8o.htm"><IMG SRC="../images/bm3.gif" ALT="" BORDER=0></A>  <A HREF="1agh94..htm"><IMG SRC="../images/bm2.gif" ALT="" BORDER=0></A></B></P>

<P>The <B>TrackPopupMenu</B> function displays a shortcut menu at the specified location and tracks the selection of items on the menu. The shortcut menu can appear anywhere on the screen.</P>

<P><B>BOOL TrackPopupMenu(</B></P>

<TABLE cols=2 width=517>

<TR VALIGN="top">
<TD width=36%><B>HMENU </B><I>hMenu</I><B>,</B></TD>
<TD width=64%>// handle of shortcut menu</TD>
</TR>

<TR VALIGN="top">
<TD width=36%><B>    UINT </B><I>uFlags</I><B>,</B></TD>
<TD width=64%>// screen-position and mouse-button flags</TD>
</TR>

<TR VALIGN="top">
<TD width=36%><B>    int </B><I>x</I><B>,</B></TD>
<TD width=64%>// horizontal position, in screen coordinates</TD>
</TR>

<TR VALIGN="top">
<TD width=36%><B>    int </B><I>y</I><B>,</B></TD>
<TD width=64%>// vertical position, in screen coordinates</TD>
</TR>

<TR VALIGN="top">
<TD width=36%><B>    int </B><I>nReserved</I><B>,</B></TD>
<TD width=64%>// reserved, must be zero</TD>
</TR>

<TR VALIGN="top">
<TD width=36%><B>    HWND </B><I>hWnd</I><B>,</B></TD>
<TD width=64%>// handle of owner window</TD>
</TR>

<TR VALIGN="top">
<TD width=36%><B>    CONST RECT *</B><I>prcRect</I></TD>
<TD width=64%>// points to RECT that specifies no-dismissal area</TD>
</TR>

<TR VALIGN="top">
<TD width=36%><B>   );</B></TD>
<TD width=64%>&nbsp;</TD>
</TR>
</TABLE><BR>

<P></P>

<P><B>Parameters</B></P>

<P><I>hMenu</I></P>

<P>Identifies the shortcut menu to be displayed. The handle can be obtained by calling <A HREF="gok5np.htm"><B>CreatePopupMenu</B></A> to create a new shortcut menu, or by calling <A HREF="tizm5q.htm"><B>GetSubMenu</B></A> to retrieve the handle of a submenu associated with an existing menu item.</P>

<P><I>uFlags</I></P>

<P>A set of bit flags that specify function options.</P>

<P>Use one of the following bit flag constants to specify how the function positions the popup menu horizontally: </P>

<TABLE cols=2>

<TR VALIGN="top">
<TD width=35%><B>Value</B></TD>
<TD width=65%><B>Meaning</B></TD>
</TR>

<TR VALIGN="top">
<TD width=35%>TPM_CENTERALIGN</TD>
<TD width=65%>If this flag is set, the function centers the shortcut menu horizontally relative to the coordinate specified by the <I>x</I> parameter.</TD>
</TR>

<TR VALIGN="top">
<TD width=35%>TPM_LEFTALIGN</TD>
<TD width=65%>If this flag is set, the function positions the shortcut menu so that its left side is aligned with the coordinate specified by the <I>x</I> parameter.</TD>
</TR>

<TR VALIGN="top">
<TD width=35%>TPM_RIGHTALIGN</TD>
<TD width=65%>Positions the shortcut menu so that its right side is aligned with the coordinate specified by the <I>x</I> parameter.</TD>
</TR>
</TABLE><BR>

<P></P>

<P>Use one of the following bit flag constants to specify which mouse button the shortcut menu tracks: </P>

<TABLE cols=2>

<TR VALIGN="top">
<TD width=35%><B>Value</B></TD>
<TD width=65%><B>Meaning</B></TD>
</TR>

<TR VALIGN="top">
<TD width=35%>TPM_LEFTBUTTON</TD>
<TD width=65%>If this flag is set, the shortcut menu tracks the left mouse button.</TD>
</TR>

<TR VALIGN="top">
<TD width=35%>TPM_RIGHTBUTTON</TD>
<TD width=65%>If this flag is set, the shortcut menu tracks the right mouse button</TD>
</TR>
</TABLE><BR>

<P></P>

<P><I>x</I></P>

<P>Specifies the horizontal location of the shortcut menu, in screen coordinates.</P>

<P><I>y</I></P>

<P>Specifies the vertical location of the shortcut menu, in screen coordinates.</P>

<P><I>nReserved</I></P>

<P>Reserved; must be zero.</P>

<P><I>hWnd</I></P>

<P>Identifies the window that owns the shortcut menu. This window receives all messages from the menu. The window does not receive a <A HREF="71v.3j.htm">WM_COMMAND</A> message from the menu until the function returns.</P>

<P><I>prcRect</I></P>

<P>Points to a <A HREF="ezena2.htm"><B>RECT</B></A> structure that specifies the portion of the screen in which the user can select without dismissing the shortcut menu. If this parameter is NULL, the shortcut menu is dismissed if the user clicks outside the shortcut menu.</P>

<P></P>

<P><B>Return Values</B></P>

<P>If the function succeeds, the return value is nonzero.</P>

<P>If the function fails, the return value is zero. To get extended error information, call <A HREF="11c2vs7.htm"><B>GetLastError</B></A>.</P>

<P><B>See Also</B></P>

<P><A HREF="gok5np.htm"><B>CreatePopupMenu</B></A>, <A HREF="tizm5q.htm"><B>GetSubMenu</B></A>, <A HREF="ezena2.htm"><B>RECT</B></A>, <A HREF="71v.3j.htm">WM_COMMAND</A> </P>

</BODY>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-1');</script><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script></html>
