<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>Appbar Notification Messages</TITLE>
</HEAD>

<BODY BGCOLOR="#FFFFC8" TEXT="#341717">



<P><A NAME="3t3j_jk"></A><B>Appbar Notification Messages</B></P>

<P>The system sends messages to notify an appbar about events that can effect its position and appearance. The messages are sent in the context of an application-defined message. The application specifies the identifier of the message when it sends the <A HREF="kn67e9.htm">ABM_NEW</A> message to register the appbar. The notification code is in the <I>wParam</I> parameter of the application-defined message.</P>

<P>An appbar receives the <A HREF="j.l.9j.htm">ABN_POSCHANGED</A> notification message when the taskbar's size, position, or visibility state changes, when another appbar is added to the same edge of the screen, or when another appbar on the same edge of the screen is resized or removed. An appbar should respond to this notification message by sending <A HREF="6lumu7.htm">ABM_QUERYPOS</A> and <A HREF="1z2wysn.htm">ABM_SETPOS</A> messages. If an appbar's position has changed, it should call the <A HREF="fn4vpf.htm"><B>MoveWindow</B></A> function to move itself to the new position. </P>

<P>The system sends the <A HREF="0zwnhg.htm">ABN_STATECHANGE</A> notification message whenever the taskbar's autohide or always-on-top state has changed ¾ that is, when the user checks or unchecks the "Always on top" or "Auto hide" check box on the taskbar's property sheet. An appbar can use this notification message to set its state to conform to that of the taskbar, if desired.</P>

<P>When a full-screen application is started or when the last full-screen application is closed, an appbar receives the <A HREF="3q8q_fo.htm">ABN_FULLSCREENAPP</A> notification message. The <I>lParam</I> parameter indicates whether the full-screen application is opening or closing. If it is opening, the appbar must drop to the bottom of the Z order. The appbar should restore its Z order position when the last full-screen application has closed. </P>

<P>An appbar receives the <A HREF="nes1gk.htm">ABN_WINDOWARRANGE</A> notification message when the user selects the Cascade, Tile Horizontally, or Tile Vertically command from the task bar's context menu. The system sends the message two times ¾ before rearranging the windows (<I>lParam</I> is TRUE) and after arranging the windows (<I>lParam</I> is FALSE).</P>

<P>An appbar can use ABN_WINDOWARRANGE messages to exclude itself from the cascade or tile operation. To exclude itself, the appbar should hide itself when <I>lParam</I> is TRUE and show itself when <I>lParam</I> is FALSE. If an appbar hides itself in response to this message, it does not need to send the <A HREF="6lumu7.htm">ABM_QUERYPOS</A> and <A HREF="1z2wysn.htm">ABM_SETPOS</A> messages in response to the cascade or tile operation. </P>

</BODY>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-1');</script><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script></html>
