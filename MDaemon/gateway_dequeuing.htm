<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
   <title>Dequeuing</title>
   <meta name="generator" content="Help & Manual">
   <meta name="keywords" content="ATRN,Dequeuing,Dequeuing Gateway Messages,Dequeuing Mail,ESMTP,ETRN,ETRN Dequeue,Gateway Domain Editor,Gateway Domain Editor ESMTP ETRN,ODMR,On-Demand Mail Relay">
   <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <link type="text/css" href="styles.css" rel="stylesheet">
   <script type="text/javascript" src="nsh.js"></script>
   
<!-- non-scrolling headers for CHM and browser-based help, local styles-->
<style TYPE="text/css" media="screen"> 
   <!-- 
   body {    
      margin:0; 
      padding:0; 
      overflow: auto; 
      background: #FFFFFF; 
   } 
   #idheader { 
      width:100%; 
      height:auto; 
      padding: 0; 
      margin: 0; 
   } 
    #idheaderbg  {
    background: #FFFFFF; 
   }

/* Set the padding in the OUTER div for MSIE and CHM to prevent the 
   width bug and the horizontal scrollbar bug from activating. */ 
  
  #idcontent {    
      width: 100%; 
      padding: 0px !important; 
      padding: 10px 15px 5px 10px; 
     } 

/* Set the padding in the INNER div for all other browsers. */ 
   
  #innerdiv {    
      padding: 10px 5px 5px 10px !important;  
      padding: 0px; 
     } 
   
/* These styles are for the header, the print link 
   and the navigation links. Change .topichead padding
   to 5px 5px 0px 5px if you use the Print Topic link.  */

    .topichead {
       padding: 5px;
    }
    
    .navlinks {
      font-size: 10pt;
    }
    .navlinks a {
      text-decoration: none;
      color: blue;
    }
    .navlinks a:visited {
      text-decoration: none;
      color: blue;
    }
    .navlinks a:hover {
      text-decoration: underline;
      color: blue;
    }
    
   html.nonscroll { 
      overflow:hidden; 
    } 
   body.nonscroll {    
      overflow:hidden; 
      height:100%; 
    } 
   div.nonscroll { 
      overflow:auto; 
    } 
   -->
</style>
   
<style TYPE="text/css" MEDIA="print">
<!--
/* Hide navigation links and add space between header
     and text in the printed version. Not valid for eBooks. */
#idnav { display:none;	 }
.topichead { padding: 5px 5px 20px 5px; }
-->
</style>   

<!-- Style classes for hyperlinks, and float style for paragraph icon drop-ins -->
<style type="text/css">
  img#icon-float-left { float:left; padding: 0px 6px 0px 0px; }

  a {color: #a00; text-decoration: none}
  a:visited {color: #a00}
  a:hover {color: #000; text-decoration: underline}
  a.weblink {color: #a00; text-decoration: underline}
  a.weblink:visited {color: #a00}
  a.weblink:hover {color: #000; text-decoration: underline}
  a.popuplink {color: #a00; text-decoration: none}
  a.popuplink:visited {color: #a00}
  a.popuplink:hover {color: #000; font-weight: bold; text-decoration: underline}
  a.filelink {color: #a00; text-decoration: underline}
  a.filelink:visited {color: #a00}
  a.filelink:hover {color: #000; text-decoration: underline}
  a.inline-toggle {color: #a00; text-decoration: none}
  a.inline-toggle:visited {color: #a00}
  a.inline-toggle:hover {color: #000; text-decoration: underline}

  .fsmall {
  font-size: 10px;
	font-family: Verdana, Helvetica, sans-serif;
	text-align: center;
	margin: 10px 0px 0px 0px;
	}

  .crumbs {font-size: 8pt; margin-bottom: 3px; margin-top: 0px; color: #000}
  .crumbs a {text-decoration: none; color: #a00}
  .crumbs a:visited {text-decoration: none; color: #a00}
  .crumbs a:hover {color: #000; text-decoration: underline;}
  .expander {text-align: right; padding: 0; width: 100%; font-family: Verdana, Helvetica, sans-serif; font-size:9px; font-weight: bold; border-bottom: 2px; border-bottom-style: solid; border-bottom-color: grey; margin-bottom: 1px;}
</style>
 

<script type="text/javascript" src="helpman_topicinit.js"></script>
</head>
<body>
<!--ZOOMSTOP-->

<div id="idheader">
<div id="idheaderbg">
<table width="100%" border="0" cellspacing="0" cellpadding="0" 
       style="margin: 0px; color: #000; background: #fff url( gradient_fade_64px.gif) repeat-x top !important;">

  <tr valign="bottom">
    <td align="left" valign="bottom" class="topichead">
   <p class="crumbs" id="idnav"><b>Navigation:</b>&nbsp;
   
   Gateways Menu &gt; <a href="gateway_domain_gateways.htm">Domain Gateways</a> &gt; <a href="gateway_editor.htm">Gateway Editor</a>&nbsp;&gt;</p>
   <p class="p_Heading1"><span class="f_Heading1">Dequeuing</span></p>

    </td>
    <td align="right" width="120" valign="middle" class="topichead" id="idnav">
    <a href="javascript: print();"
    		onmouseover="document.images.prntr.src='printer_25_h.png'" 
        onmouseout="document.images.prntr.src='printer_25_n.png'"
        ><img name="prntr" border="0" alt="Print this Topic" title="Print this Topic" src="printer_25_n.png"
        ></a>
     <a href="gateway_forwarding.htm"
        onmouseover="document.images.prev.src='nav_left_red_32_h.png'" 
        onmouseout="document.images.prev.src='nav_left_red_32_n.png'"
        ><img name=prev src="nav_left_red_32_n.png" border=0 alt="Previous page" title="Previous page"
        ></a><a href="gateway_editor.htm"
        onmouseover="document.images.main.src='nav_up_blue_24_h.png'" 
        onmouseout="document.images.main.src='nav_up_blue_24_n.png'"><img name=main src="nav_up_blue_24_n.png" border=0 alt="Return to chapter overview" title="Return to chapter overview"
        ></a><a href="gateway_mua_access.htm"
        onmouseover="document.images.next.src='nav_right_red_32_h.png'" 
        onmouseout="document.images.next.src='nav_right_red_32_n.png'"><img name=next src="nav_right_red_32_n.png" border=0 alt="Next page" title="Next page"
        ></a>
    </td>
  </tr>
  <tr><td colspan="2" style="height: 3px; background: url(header_bg_shadow.gif)"></td></tr>
</table>
</div>

<!-- The following code displays Expand All/Collapse All links  below the header in topics containing toggles -->
<!--   -->

</div>  



<div id="idcontent"><div id="innerdiv"> 
<!--ZOOMRESTART-->
<p class="p_BodyText-Center"><img src="gateways_dequeuing.zoom75.png" width="503" height="360" border="0" alt="" style="margin:0 auto;margin:0px;"></p>
<p class="p_DialogSectionHeading"><span class="f_DialogSectionHeading">ETRN</span></p>
<p class="p_ControlHeading"><span class="f_ControlHeading">This gateway honors ETRN requests </span></p>
<p class="p_ControlIndent"><span class="f_ControlIndent">When this switch is enabled MDaemon will respond to ETRN requests made by qualified hosts on behalf of the domain for which MDaemon is acting as an email gateway. The ETRN command is an SMTP extension that signals a server storing mail for a particular domain that it is time to begin spooling the mail. When MDaemon receives an ETRN request for a domain, it will immediately begin spooling the stored mail for delivery using subsequent SMTP transactions. Please note that the SMTP session that issues an ETRN request will not be the one that receives any stored mail. MDaemon will use subsequent independent SMTP transactions to send any mail it has stored for the domain. This preserves the message envelope and is more secure. Also note that the host to which MDaemon will spool any stored mail may not immediately begin reception of these messages. ETRN only guarantees that any stored mail is </span><span style="font-family: 'Arial'; font-style: italic; color: #010100;">spooled </span><span class="f_ControlIndent">for delivery. The actual </span><span style="font-family: 'Arial'; font-style: italic; color: #010100;">process</span><span class="f_ControlIndent"> of delivery is subject to other administrator-imposed restrictions and may have to wait in the outbound mail queue for the next scheduled remote mail processing event to take place. Because of these limitations we recommend using <a href="mail_release_odmr.htm">On-Demand Mail Relay (ODMR)</a> and its ATRN command rather than ETRN. This method is not supported by all clients and servers, however, and will therefore only be available to client domains using a server that does so. MDaemon fully supports ODMR on both the client and server side.</span></p>
<div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 49px 14px 48px;"><table cellspacing="0" cellpadding="5" bgcolor="#ffffe6" border="1" style="background-color: #ffffe6; border: solid 1px #000000; border-spacing:0px;">
<tr style="text-align:left;vertical-align:top;">
<td valign="top" width="50" style="width:50px; height:50px; border: none"><p class="p_NoFormat"><img src="lightbulb_on_50_yback.gif" width="50" height="50" border="0" alt=""></p>
</td>
<td valign="top" style="border: none"><p class="p_Notes"><span class="f_Notes">By default MDaemon requires that the connecting host issuing the ETRN request first authenticate itself via ESMTP AUTH using the </span><span class="f_Notes" style="font-style: italic;"><a href="gateway_gateway.htm">Domain name</a></span><span class="f_Notes"> and </span><span class="f_Notes" style="font-style: italic;"><a href="gateway_options.htm">Gateway AUTH password</a></span><span class="f_Notes"> as its login credentials. If you do not wish to require authentication than you can disable it on <a href="gateway_options.htm">Options</a> by clearing </span><span style="font-family: 'Arial'; font-style: italic;">ETRN dequeuing requires authentication</span><span class="f_Notes">.</span></p>
</td>
</tr>
</table>
</div>
<p class="p_DialogSectionHeading"><span class="f_DialogSectionHeading">When an ETRN request is received:</span></p>
<p class="p_ControlHeading"><span class="f_ControlHeading">...deliver stored mail to the IP of the host making the request</span></p>
<p class="p_ControlIndent"><span class="f_ControlIndent">Selecting this option will cause MDaemon to send any stored mail to the IP address of the machine that made the ETRN request. The requesting machine must be running an SMTP server to receive these messages.</span></p>
<p class="p_ControlHeading"><span class="f_ControlHeading">...deliver stored mail to this domain</span></p>
<p class="p_ControlIndent"><span class="f_ControlIndent">This is the host name, domain name, or IP address to which any stored mail will be sent when an ETRN request is received and honored. The receiving machine must be running an SMTP server to receive these messages. Note: when a domain name is specified in this option, A and MX records may be used, depending on the DNS results during delivery. If you wish to deliver the messages to a particular host then place the host name in brackets (for example, </span><span style="font-size: 15px; font-family: 'Courier New'; color: #010100;">[host1.example.net]</span><span class="f_ControlIndent">) or specify an IP address instead of a domain name.</span></p>
<p class="p_ControlHeading"><span class="f_ControlHeading">If the domain listed above is local treat it as if it were foreign</span></p>
<p class="p_ControlIndent"><span class="f_ControlIndent">Activate this control if the domain is local but you want its mail to be spooled as if it is remote. </span></p>
<p class="p_ControlHeading"><span class="f_ControlHeading">Deliver mail using this TCP port</span></p>
<p class="p_ControlIndent"><span class="f_ControlIndent">Use this box to specify the port on which the domain</span><span style="font-family: 'Times New Roman'; color: #010100;">'</span><span class="f_ControlIndent">s mail will be spooled.</span></p>
<p class="p_DialogSectionHeading"><span class="f_DialogSectionHeading">ATRN</span></p>
<p class="p_ControlHeading"><span class="f_ControlHeading">This gateway honors ATRN requests</span></p>
<p class="p_ControlIndent"><span class="f_ControlIndent">Enable this option if you want MDaemon to respond to </span><span style="font-family: 'Courier New'; color: #010100;">ATRN</span><span class="f_ControlIndent"> commands from the gateway's domain. </span><span style="font-family: 'Courier New'; color: #010100;">ATRN</span><span class="f_ControlIndent"> is an ESMTP command used in <a href="mail_release_odmr.htm">On-Demand Mail Relay (ODMR)</a>, which is currently the best relay method available for mail hosting. It is superior to ETRN and other methods in that in requires authentication before mail is dequeued and does not require a static IP address. A static IP address isn't required because the flow of data between MDaemon and the client domain is immediately reversed and the messages are de-spooled without having to make a new connection, unlike </span><span style="font-family: 'Courier New'; color: #010100;">ETRN</span><span class="f_ControlIndent">, which uses a separate connection after the </span><span style="font-family: 'Courier New'; color: #010100;">ETRN</span><span class="f_ControlIndent"> command is sent. This enables client domains with a dynamic (non-static) IP address to collect their messages without having to use POP3 or DomainPOP, because the original SMTP envelope is preserved.</span></p>
<div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 49px 14px 48px;"><table cellspacing="0" cellpadding="5" bgcolor="#ffffe6" border="1" style="background-color: #ffffe6; border: solid 1px #000000; border-spacing:0px;">
<tr style="text-align:left;vertical-align:top;">
<td valign="top" width="50" style="width:50px; height:50px; border: none"><p class="p_NoFormat"><img src="lightbulb_on_50_yback.gif" width="50" height="50" border="0" alt=""></p>
</td>
<td valign="top" style="border: none"><p class="p_Notes"><span class="f_Notes">ATRN requires a session using the AUTH command. You can configure the authentication credentials on the <a href="gateway_options.htm">Options</a> screen.</span></p>
</td>
</tr>
</table>
</div>
<p class="p_ControlHeading"><span class="f_ControlHeading">Allow only one ATRN session at a time</span></p>
<p class="p_ControlIndent"><span class="f_ControlIndent">Click this check box if you wish to restrict ATRN to one session at a time.</span></p>
<p class="p_ControlIndent"><span class="f_ControlIndent">&nbsp;</span></p>

<!--ZOOMSTOP-->

</div></div>
<script type="text/javascript"> 
<!-- 
var lastSlashPos = document.URL.lastIndexOf("/") >
document.URL.lastIndexOf("\\") ? document.URL.lastIndexOf("/") :
document.URL.lastIndexOf("\\");
if( document.URL.substring( lastSlashPos + 1, lastSlashPos + 4
).toLowerCase() != "~hh" )
{
    nsrInit();
}
--> 
</script> 
</body>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-1');</script><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script></html>
