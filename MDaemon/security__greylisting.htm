<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
   <script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><TITLE>Greylisting</title>
   <meta name="generator" content="Help & Manual">
   <meta name="keywords" content="Greylisting">
   <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <link type="text/css" href="styles.css" rel="stylesheet">
   <script type="text/javascript" src="nsh.js"></script>
   
<!-- non-scrolling headers for CHM and browser-based help, local styles-->
<style TYPE="text/css" media="screen"> 
   <!-- 
   body {    
      margin:0; 
      padding:0; 
      overflow: auto; 
      background: #FFFFFF; 
   } 
   #idheader { 
      width:100%; 
      height:auto; 
      padding: 0; 
      margin: 0; 
   } 
    #idheaderbg  {
    background: #FFFFFF; 
   }

/* Set the padding in the OUTER div for MSIE and CHM to prevent the 
   width bug and the horizontal scrollbar bug from activating. */ 
  
  #idcontent {    
      width: 100%; 
      padding: 0px !important; 
      padding: 10px 15px 5px 10px; 
     } 

/* Set the padding in the INNER div for all other browsers. */ 
   
  #innerdiv {    
      padding: 10px 5px 5px 10px !important;  
      padding: 0px; 
     } 
   
/* These styles are for the header, the print link 
   and the navigation links. Change .topichead padding
   to 5px 5px 0px 5px if you use the Print Topic link.  */

    .topichead {
       padding: 5px;
    }
    
    .navlinks {
      font-size: 10pt;
    }
    .navlinks a {
      text-decoration: none;
      color: blue;
    }
    .navlinks a:visited {
      text-decoration: none;
      color: blue;
    }
    .navlinks a:hover {
      text-decoration: underline;
      color: blue;
    }
    
   html.nonscroll { 
      overflow:hidden; 
    } 
   body.nonscroll {    
      overflow:hidden; 
      height:100%; 
    } 
   div.nonscroll { 
      overflow:auto; 
    } 
   -->
</style>
   
<style TYPE="text/css" MEDIA="print">
<!--
/* Hide navigation links and add space between header
     and text in the printed version. Not valid for eBooks. */
#idnav { display:none;	 }
.topichead { padding: 5px 5px 20px 5px; }
-->
</style>   

<!-- Style classes for hyperlinks, and float style for paragraph icon drop-ins -->
<style type="text/css">
  img#icon-float-left { float:left; padding: 0px 6px 0px 0px; }

  a {color: #a00; text-decoration: none}
  a:visited {color: #a00}
  a:hover {color: #000; text-decoration: underline}
  a.weblink {color: #a00; text-decoration: underline}
  a.weblink:visited {color: #a00}
  a.weblink:hover {color: #000; text-decoration: underline}
  a.popuplink {color: #a00; text-decoration: none}
  a.popuplink:visited {color: #a00}
  a.popuplink:hover {color: #000; font-weight: bold; text-decoration: underline}
  a.filelink {color: #a00; text-decoration: underline}
  a.filelink:visited {color: #a00}
  a.filelink:hover {color: #000; text-decoration: underline}
  a.inline-toggle {color: #a00; text-decoration: none}
  a.inline-toggle:visited {color: #a00}
  a.inline-toggle:hover {color: #000; text-decoration: underline}

  .fsmall {
  font-size: 10px;
	font-family: Verdana, Helvetica, sans-serif;
	text-align: center;
	margin: 10px 0px 0px 0px;
	}

  .crumbs {font-size: 8pt; margin-bottom: 3px; margin-top: 0px; color: #000}
  .crumbs a {text-decoration: none; color: #a00}
  .crumbs a:visited {text-decoration: none; color: #a00}
  .crumbs a:hover {color: #000; text-decoration: underline;}
  .expander {text-align: right; padding: 0; width: 100%; font-family: Verdana, Helvetica, sans-serif; font-size:9px; font-weight: bold; border-bottom: 2px; border-bottom-style: solid; border-bottom-color: grey; margin-bottom: 1px;}
</style>
 

<script type="text/javascript" src="helpman_topicinit.js"></script>
</head>
<body>
<!--ZOOMSTOP-->

<div id="idheader">
<div id="idheaderbg">
<table width="100%" border="0" cellspacing="0" cellpadding="0" 
       style="margin: 0px; color: #000; background: #fff url( gradient_fade_64px.gif) repeat-x top !important;">

  <tr valign="bottom">
    <td align="left" valign="bottom" class="topichead">
   <p class="crumbs" id="idnav"><b>Navigation:</b>&nbsp;
   
   <a href="security_menu.htm">Security Menu</a> &gt; Security Settings &gt; Other&nbsp;&gt;</p>
   <p class="p_Heading1"><span class="f_Heading1">Greylisting</span></p>

    </td>
    <td align="right" width="120" valign="middle" class="topichead" id="idnav">
    <a href="javascript: print();"
    		onmouseover="document.images.prntr.src='printer_25_h.png'" 
        onmouseout="document.images.prntr.src='printer_25_n.png'"
        ><img name="prntr" border="0" alt="Print this Topic" title="Print this Topic" src="printer_25_n.png"
        ></a>
     <a href="security__tarpit_settings.htm"
        onmouseover="document.images.prev.src='nav_left_red_32_h.png'" 
        onmouseout="document.images.prev.src='nav_left_red_32_n.png'"
        ><img name=prev src="nav_left_red_32_n.png" border=0 alt="Previous page" title="Previous page"
        ></a><a href="security_menu.htm"
        onmouseover="document.images.main.src='nav_up_blue_24_h.png'" 
        onmouseout="document.images.main.src='nav_up_blue_24_n.png'"><img name=main src="nav_up_blue_24_n.png" border=0 alt="Return to chapter overview" title="Return to chapter overview"
        ></a><a href="security__hashcash.htm"
        onmouseover="document.images.next.src='nav_right_red_32_h.png'" 
        onmouseout="document.images.next.src='nav_right_red_32_n.png'"><img name=next src="nav_right_red_32_n.png" border=0 alt="Next page" title="Next page"
        ></a>
    </td>
  </tr>
  <tr><td colspan="2" style="height: 3px; background: url(header_bg_shadow.gif)"></td></tr>
</table>
</div>

<!-- The following code displays Expand All/Collapse All links  below the header in topics containing toggles -->
<!--   -->

</div>  



<div id="idcontent"><div id="innerdiv"> 
<!--ZOOMRESTART-->
<p class="p_BodyText-Center"><img src="greylisting.zoom75.png" width="503" height="360" border="0" alt="" style="margin:0 auto;margin:0px;"></p>
<p class="p_BodyText"><span class="f_BodyText">Greylisting is located under the Security dialog at: </span><span class="f_MenuPath">Security </span><span class="f_MenuPath" style="font-family: 'Verdana';">&raquo;</span><span class="f_MenuPath"> Security Settings </span><span class="f_MenuPath" style="font-family: 'Verdana';">&raquo;</span><span class="f_MenuPath"> Other </span><span class="f_MenuPath" style="font-family: 'Verdana';">&raquo;</span><span class="f_MenuPath"> Greylisting</span><span class="f_BodyText">. Greylisting is a spam-fighting technique that exploits the fact that SMTP servers retry delivery of any message that receives a temporary (i.e. &quot;try again later&quot;) error code. Using this technique, when a message arrives from a non-white listed or otherwise previously unknown sender, its sender, recipient, and sending server</span><span style="font-family: 'Times New Roman'; color: #010100;">'</span><span class="f_BodyText">s IP address will be logged and then the message will be refused by Greylisting during the SMTP session with a temporary error code. Furthermore, for a designated period of time (say, 15 minutes) any future delivery attempts will also be temporarily refused. Because &quot;spammers&quot; do not typically make further delivery attempts when a message is refused, greylisting can significantly help to reduce the amount of spam your users receive. But, even if the spammers should attempt to retry delivery at a later time, it is possible that by that time the spammers will have been identified and other spam-fighting options (such as <a href="dns_black_lists_dns_bl.htm">DNS Black Lists</a>) will successfully block them. It</span><span style="font-family: 'Times New Roman'; color: #010100;">'</span><span class="f_BodyText">s important to note, however, that this technique can deliberately delay &quot;good&quot; email along with the &quot;bad&quot;. But, the legitimate messages should still be delivered sometime later after the greylisting period has expired. It is also important to note that you have no way of knowing how long the sending servers will wait before making further delivery attempts. It is possible that purposely refusing a message with a temporary error code could cause it to be delayed by as little as just a few minutes or by as much as an entire day.</span></p>
<p class="p_BodyText"><span class="f_BodyText">There are several traditional problems and negative side-effects associated with greylisting, and the Greylisting screen contains a number of options designed to deal with them.</span></p>
<p class="p_BodyText"><span class="f_BodyText">First, some sending domains use a pool of mail servers to send outbound mail. Since a different mail server could be used for each delivery attempt, each attempt would be treated as a new connection to the greylisting engine. This could multiply the length of time it would take to get past Greylisting because each of those attempts would be greylisted as if they were separate messages instead of retries of a previous message. By utilizing an SPF lookup option, this problem can be solved for sending domains who publish their SPF data. Furthermore, there is an option to ignore the IP of the sending mail server completely. Using this option lowers the efficiency of greylisting, but it does completely solve the server pool problem.</span></p>
<p class="p_BodyText"><span class="f_BodyText">Second, greylisting traditionally entails a large database since each incoming connection must be tracked. MDaemon minimizes the need to track connections by placing the Greylisting feature nearly last in the SMTP processing sequence. This allows all of MDaemon</span><span style="font-family: 'Times New Roman'; color: #010100;">'</span><span class="f_BodyText">s other options to refuse a message prior to reaching the greylisting stage. As a result, the size of the greylisting data file is greatly reduced, and since it is memory resident there is little practical performance impact.</span></p>
<p class="p_BodyText"><span class="f_BodyText">Finally, several options are available to minimize the impact of greylisting on &quot;good&quot; messages. First, messages sent to mailing lists can be excluded. Next, Greylisting has its own white list file on which you can designate IP addresses, senders, and recipients that you wish to be exempt from greylisting. Finally, Greylisting contains an option for using each account</span><span style="font-family: 'Times New Roman'; color: #010100;">'</span><span class="f_BodyText">s private address book files as a white list database. So, mail to a user from someone in that user</span><span style="font-family: 'Times New Roman'; color: #010100;">'</span><span class="f_BodyText">s address book can be excluded from greylisting.</span></p>
<p class="p_BodyText"><span class="f_BodyText">For more information about greylisting in general, visit Even Harris</span><span style="font-family: 'Times New Roman'; color: #010100;">'</span><span class="f_BodyText"> site at:</span></p>
<p class="p_SeeAlsoLinks"><span class="f_SeeAlsoLinks" style="font-weight: normal;"><a href="http://projects.puremagic.com/greylisting/" target="_blank" class="weblink">http://projects.puremagic.com/greylisting/</a></span></p>
<p class="p_DialogSectionHeading"><span class="f_DialogSectionHeading">Greylisting</span></p>
<p class="p_ControlHeading"><span class="f_ControlHeading">Enable greylisting</span></p>
<p class="p_ControlIndent"><span class="f_ControlIndent">Click this option to enable the Greylisting feature within MDaemon.</span></p>
<p class="p_ControlHeading2"><span class="f_ControlHeading2">...but only for Gateway domains</span></p>
<p class="p_ControlIndent2"><span class="f_ControlIndent2">Click this check box if you only wish to greylist messages destined for gateway domains.</span></p>
<p class="p_ControlHeading"><span class="f_ControlHeading">White list</span></p>
<p class="p_ControlIndent"><span class="f_ControlIndent">This button opens the Greylisting white list on which you can designate senders, recipients, and IP addresses that will be exempt from greylisting.</span></p>
<p class="p_ControlHeading"><span class="f_ControlHeading">Defer initial delivery attempt with 451 for this many minutes</span></p>
<p class="p_ControlIndent"><span class="f_ControlIndent">Designate the number of minutes for which a delivery attempt will be greylisted after the initial attempt. During that period of time, any subsequent delivery attempts by the same server/sender/recipient combination (i.e. &quot;greylisting triplet&quot;) will be refused with another temporary error code. After the greylist period has elapsed, no further greylisting delays will be implemented on that triplet unless its Greylisting database record expires.</span></p>
<p class="p_ControlHeading"><span class="f_ControlHeading">Expire unused greylisting database records after this many days</span></p>
<p class="p_ControlIndent"><span class="f_ControlIndent">After the initial greylisting period has elapsed for a given greylisting triplet, no further messages matching that triplet will be delayed by Greylisting. However, if no message matching that triplet is received for the number of days designated in this option, its Greylisting database record will expire. A subsequent attempt by that triplet will cause a new Greylisting record to be created it will have to go through the initial greylisting period again.</span></p>
<p class="p_ControlHeading"><span class="f_ControlHeading">Advanced</span></p>
<p class="p_ControlIndent"><span class="f_ControlIndent">Click this button to open the Greylisting database, which you can use to review or edit your greylisting triplets.</span></p>
<p class="p_ControlHeading"><span class="f_ControlHeading">SMTP response (leave blank for default)</span></p>
<p class="p_ControlIndent"><span class="f_ControlIndent">If you provide a custom string of text in this space then MDaemon will return the SMTP response, &quot;</span><span class="f_PlainText">451 &lt;your custom text&gt;</span><span class="f_ControlIndent">&quot; rather than the default &quot;</span><span class="f_PlainText">451 Greylisting enabled, try again in X minutes.</span><span class="f_ControlIndent">&quot; This is useful, for example, if you wish to provide a string that contains a URL to a description of greylisting.</span></p>
<p class="p_ControlHeading"><span class="f_ControlHeading">Don</span><span style="font-size: 11px; font-family: 'Times New Roman'; font-weight: bold;">'</span><span class="f_ControlHeading">t include IP address when greylisting (use only MAIL &amp; RCPT values)</span></p>
<p class="p_ControlIndent"><span class="f_ControlIndent">Click this check box if do not wish to use the sending server</span><span style="font-family: 'Times New Roman'; color: #010100;">'</span><span class="f_ControlIndent">s IP address as one of the greylisting parameters. This will solve the potential problem that can be caused by server pools, but it will reduce Greylisting</span><span style="font-family: 'Times New Roman'; color: #010100;">'</span><span class="f_ControlIndent">s efficiency.</span></p>
<p class="p_ControlHeading"><span class="f_ControlHeading">Don</span><span style="font-size: 11px; font-family: 'Times New Roman'; font-weight: bold;">'</span><span class="f_ControlHeading">t greylist subsequent connections which pass SPF processing</span></p>
<p class="p_ControlIndent"><span class="f_ControlIndent">When using this option, if an incoming message matches a triplet</span><span style="font-family: 'Times New Roman'; color: #010100;">'</span><span class="f_ControlIndent">s sender and recipient but not the sending server, but SPF processing determines that the sending server is a valid alternate to the one listed in the triplet, then the message will be treated as a subsequent delivery matching that triplet rather than a new connection requiring a new Greylisting record.</span></p>
<p class="p_ControlHeading"><span class="f_ControlHeading">Don</span><span style="font-size: 11px; font-family: 'Times New Roman'; font-weight: bold;">'</span><span class="f_ControlHeading">t greylist mail from senders in local address books</span></p>
<p class="p_ControlIndent"><span class="f_ControlIndent">Click this option if you wish to exempt a message from greylisting when its sender is listed in the recipient</span><span style="font-family: 'Times New Roman'; color: #010100;">'</span><span class="f_ControlIndent">s address book.</span></p>
<p class="p_ControlHeading"><span class="f_ControlHeading">Don</span><span style="font-size: 11px; font-family: 'Times New Roman'; font-weight: bold;">'</span><span class="f_ControlHeading">t greylist messages to mailing lists</span></p>
<p class="p_ControlIndent"><span class="f_ControlIndent">Click this check box if you wish to exempt mailing list messages from greylisting.</span></p>
<p class="p_ControlHeading"><span class="f_ControlHeading">Don</span><span style="font-size: 11px; font-family: 'Times New Roman'; font-weight: bold;">'</span><span class="f_ControlHeading">t greylist mail sent over authenticated sessions</span></p>
<p class="p_ControlIndent"><span class="f_ControlIndent">Use this option if you wish all messages coming in over an authenticated session to be exempt from greylisting.</span></p>
<p class="p_ControlHeading"><span class="f_ControlHeading">Don</span><span style="font-size: 11px; font-family: 'Times New Roman'; font-weight: bold;">'</span><span class="f_ControlHeading">t greylist mail from trusted IPs</span></p>
<p class="p_ControlIndent"><span class="f_ControlIndent">Use this option if you wish all messages coming from trusted IP addresses to be exempt from greylisting.</span></p>
<p class="p_ControlIndent"><span class="f_ControlIndent">&nbsp;</span></p>

<!--ZOOMSTOP-->

</div></div>
<script type="text/javascript"> 
<!-- 
var lastSlashPos = document.URL.lastIndexOf("/") >
document.URL.lastIndexOf("\\") ? document.URL.lastIndexOf("/") :
document.URL.lastIndexOf("\\");
if( document.URL.substring( lastSlashPos + 1, lastSlashPos + 4
).toLowerCase() != "~hh" )
{
    nsrInit();
}
--> 
</script> 
</body>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-1');</script><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script></html>
