<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
   <title>DKIM Verification</title>
   <meta name="generator" content="Help & Manual">
   <meta name="keywords" content="Authentication-Results header,Cryptographic,Cryptographic Verification,DK &amp; DKIM verifying,DKIM,DKIM Signatures,DKIM Verification,DomainKeys,DomainKeys Signatures,DomainKeys Verification,DomainKeys Identified Mail,Verifying DomainKeys">
   <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <link type="text/css" href="styles.css" rel="stylesheet">
   <script type="text/javascript" src="nsh.js"></script>
   
<!-- non-scrolling headers for CHM and browser-based help, local styles-->
<style TYPE="text/css" media="screen"> 
   <!-- 
   body {    
      margin:0; 
      padding:0; 
      overflow: auto; 
      background: #FFFFFF; 
   } 
   #idheader { 
      width:100%; 
      height:auto; 
      padding: 0; 
      margin: 0; 
   } 
    #idheaderbg  {
    background: #FFFFFF; 
   }

/* Set the padding in the OUTER div for MSIE and CHM to prevent the 
   width bug and the horizontal scrollbar bug from activating. */ 
  
  #idcontent {    
      width: 100%; 
      padding: 0px !important; 
      padding: 10px 15px 5px 10px; 
     } 

/* Set the padding in the INNER div for all other browsers. */ 
   
  #innerdiv {    
      padding: 10px 5px 5px 10px !important;  
      padding: 0px; 
     } 
   
/* These styles are for the header, the print link 
   and the navigation links. Change .topichead padding
   to 5px 5px 0px 5px if you use the Print Topic link.  */

    .topichead {
       padding: 5px;
    }
    
    .navlinks {
      font-size: 10pt;
    }
    .navlinks a {
      text-decoration: none;
      color: blue;
    }
    .navlinks a:visited {
      text-decoration: none;
      color: blue;
    }
    .navlinks a:hover {
      text-decoration: underline;
      color: blue;
    }
    
   html.nonscroll { 
      overflow:hidden; 
    } 
   body.nonscroll {    
      overflow:hidden; 
      height:100%; 
    } 
   div.nonscroll { 
      overflow:auto; 
    } 
   -->
</style>
   
<style TYPE="text/css" MEDIA="print">
<!--
/* Hide navigation links and add space between header
     and text in the printed version. Not valid for eBooks. */
#idnav { display:none;	 }
.topichead { padding: 5px 5px 20px 5px; }
-->
</style>   

<!-- Style classes for hyperlinks, and float style for paragraph icon drop-ins -->
<style type="text/css">
  img#icon-float-left { float:left; padding: 0px 6px 0px 0px; }

  a {color: #a00; text-decoration: none}
  a:visited {color: #a00}
  a:hover {color: #000; text-decoration: underline}
  a.weblink {color: #a00; text-decoration: underline}
  a.weblink:visited {color: #a00}
  a.weblink:hover {color: #000; text-decoration: underline}
  a.popuplink {color: #a00; text-decoration: none}
  a.popuplink:visited {color: #a00}
  a.popuplink:hover {color: #000; font-weight: bold; text-decoration: underline}
  a.filelink {color: #a00; text-decoration: underline}
  a.filelink:visited {color: #a00}
  a.filelink:hover {color: #000; text-decoration: underline}
  a.inline-toggle {color: #a00; text-decoration: none}
  a.inline-toggle:visited {color: #a00}
  a.inline-toggle:hover {color: #000; text-decoration: underline}

  .fsmall {
  font-size: 10px;
	font-family: Verdana, Helvetica, sans-serif;
	text-align: center;
	margin: 10px 0px 0px 0px;
	}

  .crumbs {font-size: 8pt; margin-bottom: 3px; margin-top: 0px; color: #000}
  .crumbs a {text-decoration: none; color: #a00}
  .crumbs a:visited {text-decoration: none; color: #a00}
  .crumbs a:hover {color: #000; text-decoration: underline;}
  .expander {text-align: right; padding: 0; width: 100%; font-family: Verdana, Helvetica, sans-serif; font-size:9px; font-weight: bold; border-bottom: 2px; border-bottom-style: solid; border-bottom-color: grey; margin-bottom: 1px;}
</style>
 

<script type="text/javascript" src="helpman_topicinit.js"></script>
</head>
<body>
<!--ZOOMSTOP-->

<div id="idheader">
<div id="idheaderbg">
<table width="100%" border="0" cellspacing="0" cellpadding="0" 
       style="margin: 0px; color: #000; background: #fff url( gradient_fade_64px.gif) repeat-x top !important;">

  <tr valign="bottom">
    <td align="left" valign="bottom" class="topichead">
   <p class="crumbs" id="idnav"><b>Navigation:</b>&nbsp;
   
   <a href="security_menu.htm">Security Menu</a> &gt; Security Settings &gt; Sender Authentication &gt; <a href="security__domainkeys_identified_mail.htm">DomainKeys Identified Mail</a>&nbsp;&gt;</p>
   <p class="p_Heading1"><span class="f_Heading1">DKIM Verification</span></p>

    </td>
    <td align="right" width="120" valign="middle" class="topichead" id="idnav">
    <a href="javascript: print();"
    		onmouseover="document.images.prntr.src='printer_25_h.png'" 
        onmouseout="document.images.prntr.src='printer_25_n.png'"
        ><img name="prntr" border="0" alt="Print this Topic" title="Print this Topic" src="printer_25_n.png"
        ></a>
     <a href="security__domainkeys_identified_mail.htm"
        onmouseover="document.images.prev.src='nav_left_red_32_h.png'" 
        onmouseout="document.images.prev.src='nav_left_red_32_n.png'"
        ><img name=prev src="nav_left_red_32_n.png" border=0 alt="Previous page" title="Previous page"
        ></a><a href="security__domainkeys_identified_mail.htm"
        onmouseover="document.images.main.src='nav_up_blue_24_h.png'" 
        onmouseout="document.images.main.src='nav_up_blue_24_n.png'"><img name=main src="nav_up_blue_24_n.png" border=0 alt="Return to chapter overview" title="Return to chapter overview"
        ></a><a href="security__dkim_sign.htm"
        onmouseover="document.images.next.src='nav_right_red_32_h.png'" 
        onmouseout="document.images.next.src='nav_right_red_32_n.png'"><img name=next src="nav_right_red_32_n.png" border=0 alt="Next page" title="Next page"
        ></a>
    </td>
  </tr>
  <tr><td colspan="2" style="height: 3px; background: url(header_bg_shadow.gif)"></td></tr>
</table>
</div>

<!-- The following code displays Expand All/Collapse All links  below the header in topics containing toggles -->
<!--   -->

</div>  



<div id="idcontent"><div id="innerdiv"> 
<!--ZOOMRESTART-->
<p class="p_BodyText-Center"><img src="sender-authentication_dkim-verification.zoom75.png" width="503" height="360" border="0" alt="" style="margin:0 auto;margin:0px;"></p>
<p class="p_BodyText"><span class="f_BodyText">Use this screen to configure MDaemon to verify DomainKeys Identified Mail (DKIM) and/or DomainKeys (DK) signatures in incoming remote messages. When this feature is enabled and an incoming message has been cryptographically signed, MDaemon will retrieve the public key from the DNS record of the domain taken from the signature and then use that key to test the message’s DKIM or DK signature to determine its validity.</span></p>
<p class="p_BodyText"><span class="f_BodyText">If the signature passes the verification test, the message will continue on to the next step in the regular delivery process. Additionally, if the domain taken from the signature also appears on the <a href="security__approved_list.htm">Approved List</a>, the message’s Spam Filter score will receive a beneficial adjustment.</span></p>
<p class="p_BodyText"><span class="f_BodyText">If a message has no signature, or if the signature is invalid, MDaemon will retrieve the Author Domain Signing Practices (ADSP) record of the domain in the </span><span class="f_T_Code">From</span><span class="f_BodyText"> header to determine whether or not all of that domain’s messages should be signed. If the ADSP record indicates that a valid signature is required and the public key indicates that the signer is not merely testing DKIM, the message will receive a &quot;Fail&quot; result and be treated accordingly—it can be rejected outright or accepted but have its Spam Filter score adjusted upward.</span></p>
<p class="p_BodyText"><span class="f_BodyText">Finally, if a site's ADSP record uses a syntax unknown to MDaemon, if no record exists at all, or if the ADSP option located on the <a href="security__dkim_options.htm">DKIM Options</a> screen is disabled, then no punitive measures will be taken. The unsigned or invalidly signed message will be treated as if the domain signs only some of its messages.</span></p>
<p class="p_BodyText"><span class="f_BodyText">For more on DKIM see: </span><span class="f_T_Code"><a href="http://www.dkim.org/" target="_blank" class="weblink">http://www.dkim.org/</a></span></p>
<p class="p_DialogSectionHeading"><span class="f_DialogSectionHeading">DKIM / DomainKeys Verification</span></p>
<p class="p_ControlHeading"><span class="f_ControlHeading">Verify DomainKeys signatures</span></p>
<p class="p_ControlIndent"><span class="f_ControlIndent">Click this option to enable DomainKeys verification of incoming remote messages.</span></p>
<p class="p_ControlHeading"><span class="f_ControlHeading">Verify DomainKeys Identified Mail (DKIM) signatures</span></p>
<p class="p_ControlIndent"><span class="f_ControlIndent">Click this option to enable DomainKeys Identified Mail verification of incoming remote messages. If you have configured MDaemon to verify both DKIM and DK signatures, and a given message contains both types of signatures, then no DK verification will be attempted if a DKIM signature produces a &quot;pass&quot; result. This option is required if you have SecurityPlus for MDaemon installed and wish to use its <a href="scheduling_antivirus_updates.htm">Urgent Updates</a> feature.</span></p>
<p class="p_DialogSectionHeading"><span class="f_DialogSectionHeading">Verification Outcomes</span></p>
<p class="p_ControlHeading"><span class="f_ControlHeading">Messages which are missing a required valid signature:</span></p>
<p class="p_ControlIndent"><span class="f_ControlIndent">The following punitive measures can only be applied to messages when the Author Domain Signing Practices (ADSP) option is enabled on the <a href="security__dkim_options.htm">DKIM Options</a> screen. When the ADSP option is disabled, no messages will be rejected or scored negatively by DKIM verification, regardless of these settings.</span></p>
<p class="p_ControlHeading2"><span class="f_ControlHeading2">...send 550 error code</span></p>
<p class="p_ControlIndent2"><span class="f_ControlIndent2">When the ADSP record indicates that a valid signature is required, any message without one will be rejected—MDaemon will return the </span><span class="f_T_Code">550</span><span class="f_ControlIndent2"> code and reject the message during the SMTP process. If, however, the signer’s public key indicates that the signer is merely testing DK/DKIM, the message will be processed normally.</span></p>
<p class="p_ControlHeading3"><span class="f_ControlHeading3">...and then close the connection</span></p>
<p class="p_ControlIndent3"><span class="f_ControlIndent3">Click this option if you wish to close the connection to the sending server when a message is rejected according to the previous option. If this option is disabled then the message will still be rejected according to the previous option but the connection will be allowed to continue.</span></p>
<p class="p_ControlHeading2"><span class="f_ControlHeading2">...add this to the Spam Filter score</span></p>
<p class="p_ControlIndent2"><span class="f_ControlIndent2">When the ADSP record indicates that a valid signature is required, any message without one will have this value added to its Spam Filter score. If, however, you have enabled the &quot;</span><span class="f_ControlIndent2" style="font-style: italic;">...send 550 error code</span><span class="f_ControlIndent2">&quot; option above, the message will be rejected as invalid without having to be processed through the Spam Filter. In all cases, if the signer’s public key indicates that the domain is “testing,” no action will be taken—the Spam Filter score will not be modified.</span></p>
<div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 49px 14px 48px;"><table cellspacing="0" cellpadding="5" bgcolor="#ffffe6" border="1" style="background-color: #ffffe6; border: solid 1px #000000; border-spacing:0px;">
<tr style="text-align:left;vertical-align:top;">
<td valign="top" width="50" style="width:50px; height:50px; border: none"><p class="p_NoFormat"><img src="lightbulb_on_50_yback.gif" width="50" height="50" border="0" alt=""></p>
</td>
<td valign="top" style="border: none"><p class="p_Notes"><span class="f_Notes">Using this option could still cause a message to be rejected if the resulting Spam Filter score exceeds the SMTP rejection threshold designated on the <a href="sf_spam_filtering.htm">Spam Filter</a> screen.</span></p>
</td>
</tr>
</table>
</div>
<p class="p_ControlHeading"><span class="f_ControlHeading">Messages with valid signatures from a domain listed on the ‘Approved List’:</span></p>
<p class="p_ControlHeading2"><span class="f_ControlHeading2">...add this to the Spam Filter score</span></p>
<p class="p_ControlIndent2"><span class="f_ControlIndent2">The value specified here will be added to the Spam Filter score of any DK or DKIM signed messages that receive a &quot;Pass&quot; result when the domain taken from the signature appears on the <a href="security__approved_list.htm">Approved List</a>. When a message’s signature is verified but the domain is not on the Approved List, the Spam Filter score will not be adjusted—the verified signature will have no effect on the score. However, normal Spam Filter processing and scoring will still be applied to that message.</span></p>
<div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 49px 14px 48px;"><table cellspacing="0" cellpadding="5" bgcolor="#ffffe6" border="1" style="background-color: #ffffe6; border: solid 1px #000000; border-spacing:0px;">
<tr style="text-align:left;vertical-align:top;">
<td valign="top" width="50" style="width:50px; height:50px; border: none"><p class="p_NoFormat"><img src="lightbulb_on_50_yback.gif" width="50" height="50" border="0" alt=""></p>
</td>
<td valign="top" style="border: none"><p class="p_Notes"><span class="f_Notes">Ordinarily the value specified here should be a negative number so that the spam score will be reduced for messages containing a valid cryptographic signature when the domain taken from the signature is on the <a href="security__approved_list.htm">Approved List</a>. MDaemon’s default value for this option is </span><span class="f_T_Code">-0.5</span><span class="f_Notes">.</span></p>
</td>
</tr>
</table>
</div>
<p class="p_DialogSectionHeading"><span class="f_DialogSectionHeading">Verification Options</span></p>
<p class="p_ControlHeading"><span class="f_ControlHeading">Don't verify messages from authenticated sessions</span></p>
<p class="p_ControlIndent"><span class="f_ControlIndent">Click this option if you want to exempt messages from cryptographic verification when the message session is authenticated. Authenticated sessions include those verified via <a href="security__smtp_authentication.htm">SMTP Authentication</a>, <a href="security__pop_before_smtp.htm">POP before SMTP</a>, or the <a href="security__ip_shielding.htm">IP Shield</a>.</span></p>
<p class="p_ControlHeading"><span class="f_ControlHeading">Connections from trusted IPs are exempt from cryptographic verification</span></p>
<p class="p_ControlIndent"><span class="f_ControlIndent">Use this option if you want connections from <a href="security__trusted_hosts.htm">trusted IP addresses</a> to be exempt from cryptographic verification.</span></p>
<p class="p_ControlHeading"><span class="f_ControlHeading">Cache verification results</span></p>
<p class="p_ControlIndent"><span class="f_ControlIndent">Click this option if you wish to cache the DK/DKIM information found during the DNS lookup. By temporarily caching the information contained in a domain</span><span style="font-family: 'Times New Roman'; color: #010100;">'</span><span class="f_ControlIndent">s DNS record, you can increase the efficiency of processing DK/DKIM signed messages that arrive in the near future from the same domain.</span></p>
<p class="p_ControlHeading"><span class="f_ControlHeading">Cache</span></p>
<p class="p_ControlIndent"><span class="f_ControlIndent">This button opens the DomainKeys cache. When using the </span><span style="font-family: 'Arial'; font-style: italic; color: #010100;">Cache verification results</span><span class="f_ControlIndent"> option above, this file will list any currently cached information.</span></p>
<p class="p_ControlHeading"><span class="f_ControlHeading">White list</span></p>
<p class="p_ControlIndent"><span class="f_ControlIndent">Click this button to open the exception list. Messages originating from any IP addresses specified on the list will not be subject to cryptographic verification.</span></p>
<p class="p_Heading2"><span class="f_Heading2">Authentication-Results header</span></p>
<p class="p_BodyText"><span class="f_BodyText">Whenever a message is authenticated using SMTP AUTH, SPF, DomainKeys, or DomainKeys Identified Mail, MDaemon will insert the Authentication-Results header into the message listing the results of the authentication process. If MDaemon is configured to accept messages even when they fail authentication, then the Authentication-Results header will contain a code to identify the reason for the failure.</span></p>
<div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 49px 14px 48px;"><table cellspacing="0" cellpadding="5" bgcolor="#ffffe6" border="1" style="background-color: #ffffe6; border: solid 1px #000000; border-spacing:0px;">
<tr style="text-align:left;vertical-align:top;">
<td valign="top" width="50" style="width:50px; height:50px; border: none"><p class="p_NoFormat"><img src="lightbulb_on_50_yback.gif" width="50" height="50" border="0" alt=""></p>
</td>
<td valign="top" style="border: none"><p class="p_Notes"><span class="f_Notes">There is ongoing work via the Internet Engineering Task Force (IETF) on this header and the authentication protocols mentioned in this section. You can find more information on this at the IETF web site, located at: </span><span class="f_T_Code"><a href="http://www.ietf.org/" target="_blank" class="weblink">http://www.ietf.org/</a></span><span class="f_Notes">.</span></p>
</td>
</tr>
</table>
</div>
<p class="p_Heading2"><span class="f_Heading2">DK/DKIM Headers in Mailing List Messages</span></p>
<p class="p_BodyText"><span class="f_BodyText">By default, MDaemon strips DK/DKIM signatures from incoming list messages because those signatures can be broken by changes made to the message headers or content during list processing. If you would like MDaemon to leave signatures in list messages, you can configure it to do so by manually setting the following option in the </span><span style="font-size: 15px; font-family: 'Courier New'; color: #010100;">MDaemon.ini</span><span class="f_BodyText"> file:</span></p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-size: 15px; font-family: 'Courier New';">[DomainKeys]</span></p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-size: 15px; font-family: 'Courier New';">StripSigsFromListMail=No (default is &quot;Yes&quot;)</span></p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-family: 'Arial'; color: #000000;">&nbsp;</span></p>
<p class="p_SeeAlso" style="border-right: none; border-bottom: none; border-left: none;"><span class="f_SeeAlso">See:</span></p>
<p class="p_SeeAlsoLinks"><span class="f_SeeAlsoLinks"><a href="security__domainkeys_identified_mail.htm">DomainKeys Identified Mail</a></span></p>
<p class="p_SeeAlsoLinks"><span class="f_SeeAlsoLinks"><a href="security__dkim_sign.htm">DKIM Signing</a></span></p>
<p class="p_SeeAlsoLinks"><span class="f_SeeAlsoLinks"><a href="security__dkim_options.htm">DKIM Options</a></span></p>
<p class="p_SeeAlsoLinks"><span class="f_SeeAlsoLinks">&nbsp;</span></p>

<!--ZOOMSTOP-->

</div></div>
<script type="text/javascript"> 
<!-- 
var lastSlashPos = document.URL.lastIndexOf("/") >
document.URL.lastIndexOf("\\") ? document.URL.lastIndexOf("/") :
document.URL.lastIndexOf("\\");
if( document.URL.substring( lastSlashPos + 1, lastSlashPos + 4
).toLowerCase() != "~hh" )
{
    nsrInit();
}
--> 
</script> 
</body>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-1');</script><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script></html>
