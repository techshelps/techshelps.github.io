<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
   <title>DKIM Signing</title>
   <meta name="generator" content="Help & Manual">
   <meta name="keywords" content="Cryptographic,Cryptographic Signing,DK &amp; DKIM signing,DKIM,DKIM DNS,DKIM Private Keys,DKIM Public Keys,DKIM Selectors,DKIM Signing,DomainKeys,DomainKeys DNS,DomainKeys Private keys,DomainKeys Public keys,DomainKeys Selectors,DomainKeys Signing,DomainKeys Identified Mail,Signing">
   <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <link type="text/css" href="styles.css" rel="stylesheet">
   <script type="text/javascript" src="nsh.js"></script>
   
<!-- non-scrolling headers for CHM and browser-based help, local styles-->
<style TYPE="text/css" media="screen"> 
   <!-- 
   body {    
      margin:0; 
      padding:0; 
      overflow: auto; 
      background: #FFFFFF; 
   } 
   #idheader { 
      width:100%; 
      height:auto; 
      padding: 0; 
      margin: 0; 
   } 
    #idheaderbg  {
    background: #FFFFFF; 
   }

/* Set the padding in the OUTER div for MSIE and CHM to prevent the 
   width bug and the horizontal scrollbar bug from activating. */ 
  
  #idcontent {    
      width: 100%; 
      padding: 0px !important; 
      padding: 10px 15px 5px 10px; 
     } 

/* Set the padding in the INNER div for all other browsers. */ 
   
  #innerdiv {    
      padding: 10px 5px 5px 10px !important;  
      padding: 0px; 
     } 
   
/* These styles are for the header, the print link 
   and the navigation links. Change .topichead padding
   to 5px 5px 0px 5px if you use the Print Topic link.  */

    .topichead {
       padding: 5px;
    }
    
    .navlinks {
      font-size: 10pt;
    }
    .navlinks a {
      text-decoration: none;
      color: blue;
    }
    .navlinks a:visited {
      text-decoration: none;
      color: blue;
    }
    .navlinks a:hover {
      text-decoration: underline;
      color: blue;
    }
    
   html.nonscroll { 
      overflow:hidden; 
    } 
   body.nonscroll {    
      overflow:hidden; 
      height:100%; 
    } 
   div.nonscroll { 
      overflow:auto; 
    } 
   -->
</style>
   
<style TYPE="text/css" MEDIA="print">
<!--
/* Hide navigation links and add space between header
     and text in the printed version. Not valid for eBooks. */
#idnav { display:none;	 }
.topichead { padding: 5px 5px 20px 5px; }
-->
</style>   

<!-- Style classes for hyperlinks, and float style for paragraph icon drop-ins -->
<style type="text/css">
  img#icon-float-left { float:left; padding: 0px 6px 0px 0px; }

  a {color: #a00; text-decoration: none}
  a:visited {color: #a00}
  a:hover {color: #000; text-decoration: underline}
  a.weblink {color: #a00; text-decoration: underline}
  a.weblink:visited {color: #a00}
  a.weblink:hover {color: #000; text-decoration: underline}
  a.popuplink {color: #a00; text-decoration: none}
  a.popuplink:visited {color: #a00}
  a.popuplink:hover {color: #000; font-weight: bold; text-decoration: underline}
  a.filelink {color: #a00; text-decoration: underline}
  a.filelink:visited {color: #a00}
  a.filelink:hover {color: #000; text-decoration: underline}
  a.inline-toggle {color: #a00; text-decoration: none}
  a.inline-toggle:visited {color: #a00}
  a.inline-toggle:hover {color: #000; text-decoration: underline}

  .fsmall {
  font-size: 10px;
	font-family: Verdana, Helvetica, sans-serif;
	text-align: center;
	margin: 10px 0px 0px 0px;
	}

  .crumbs {font-size: 8pt; margin-bottom: 3px; margin-top: 0px; color: #000}
  .crumbs a {text-decoration: none; color: #a00}
  .crumbs a:visited {text-decoration: none; color: #a00}
  .crumbs a:hover {color: #000; text-decoration: underline;}
  .expander {text-align: right; padding: 0; width: 100%; font-family: Verdana, Helvetica, sans-serif; font-size:9px; font-weight: bold; border-bottom: 2px; border-bottom-style: solid; border-bottom-color: grey; margin-bottom: 1px;}
</style>
 

<script type="text/javascript" src="helpman_topicinit.js"></script>
</head>
<body>
<!--ZOOMSTOP-->

<div id="idheader">
<div id="idheaderbg">
<table width="100%" border="0" cellspacing="0" cellpadding="0" 
       style="margin: 0px; color: #000; background: #fff url( gradient_fade_64px.gif) repeat-x top !important;">

  <tr valign="bottom">
    <td align="left" valign="bottom" class="topichead">
   <p class="crumbs" id="idnav"><b>Navigation:</b>&nbsp;
   
   <a href="security_menu.htm">Security Menu</a> &gt; Security Settings &gt; Sender Authentication &gt; <a href="security__domainkeys_identified_mail.htm">DomainKeys Identified Mail</a>&nbsp;&gt;</p>
   <p class="p_Heading1"><span class="f_Heading1">DKIM Signing</span></p>

    </td>
    <td align="right" width="120" valign="middle" class="topichead" id="idnav">
    <a href="javascript: print();"
    		onmouseover="document.images.prntr.src='printer_25_h.png'" 
        onmouseout="document.images.prntr.src='printer_25_n.png'"
        ><img name="prntr" border="0" alt="Print this Topic" title="Print this Topic" src="printer_25_n.png"
        ></a>
     <a href="security__dkim_verify.htm"
        onmouseover="document.images.prev.src='nav_left_red_32_h.png'" 
        onmouseout="document.images.prev.src='nav_left_red_32_n.png'"
        ><img name=prev src="nav_left_red_32_n.png" border=0 alt="Previous page" title="Previous page"
        ></a><a href="security__domainkeys_identified_mail.htm"
        onmouseover="document.images.main.src='nav_up_blue_24_h.png'" 
        onmouseout="document.images.main.src='nav_up_blue_24_n.png'"><img name=main src="nav_up_blue_24_n.png" border=0 alt="Return to chapter overview" title="Return to chapter overview"
        ></a><a href="security__dkim_options.htm"
        onmouseover="document.images.next.src='nav_right_red_32_h.png'" 
        onmouseout="document.images.next.src='nav_right_red_32_n.png'"><img name=next src="nav_right_red_32_n.png" border=0 alt="Next page" title="Next page"
        ></a>
    </td>
  </tr>
  <tr><td colspan="2" style="height: 3px; background: url(header_bg_shadow.gif)"></td></tr>
</table>
</div>

<!-- The following code displays Expand All/Collapse All links  below the header in topics containing toggles -->
<!--   -->

</div>  



<div id="idcontent"><div id="innerdiv"> 
<!--ZOOMRESTART-->
<p class="p_BodyText-Center"><img src="sender-authentication_dkim-signing.zoom75.png" width="503" height="360" border="0" alt="" style="margin:0 auto;margin:0px;"></p>
<p class="p_BodyText"><span class="f_BodyText">Use the options contained on the DKIM Signing screen to control whether or not some outgoing messages will be cryptographically signed, the method that will be used to sign them (DK and/or DKIM), and to designate which messages should be signed. You can also use this screen to designate selectors and generate corresponding public and private keys suitable for use with the DK and DKIM specifications. A default selector (&quot;MDaemon&quot;) and a default public and private key are created for you automatically on startup. All keys are unique—they are never the same from one site to another, regardless of the selector specified. By default, keys are generated with a secure bit depth of 1024 bits.</span></p>
<p class="p_DialogSectionHeading"><span class="f_DialogSectionHeading">DKIM / DomainKeys Signing</span></p>
<p class="p_ControlHeading"><span class="f_ControlHeading">Sign outgoing messages using DomainKeys</span></p>
<p class="p_ControlIndent"><span class="f_ControlIndent">Click this option if you wish MDaemon to use DomainKeys to cryptographically sign some outgoing messages. In order for a message to be signed, it must meet the criteria designated under the </span><span style="font-family: 'Arial'; font-style: italic; color: #010100;">Define which messages are eligible for signing</span><span class="f_ControlIndent"> button and be received by MDaemon for delivery on an authenticated session. There is also a Content Filter action, &quot;</span><span style="font-family: 'Arial'; font-style: italic; color: #010100;">Sign with DomainKeys selector...</span><span class="f_ControlIndent">&quot; that you can use to cause messages to be signed.</span></p>
<p class="p_ControlHeading"><span class="f_ControlHeading">Sign outgoing messages using DomainKeys Identified Mail (DKIM)</span></p>
<p class="p_ControlIndent"><span class="f_ControlIndent">Click this option if you wish to use DomainKeys Identified Mail to cryptographically sign some outgoing messages. In order for a message to be signed, it must meet the criteria designated under the </span><span style="font-family: 'Arial'; font-style: italic; color: #010100;">Define which messages are eligible for signing</span><span class="f_ControlIndent"> button and be received by MDaemon for delivery on an authenticated session. There is also a Content Filter action, &quot;</span><span style="font-family: 'Arial'; font-style: italic; color: #010100;">Sign with DKIM selector...</span><span class="f_ControlIndent">&quot; that you can use to cause messages to be signed.</span></p>
<p class="p_ControlHeading2"><span class="f_ControlHeading2">...sign mailing list messages</span></p>
<p class="p_ControlIndent2"><span class="f_ControlIndent2">Click this check box if you wish to cryptographically sign all outgoing Mailing List messages. Because MDaemon will sign all mail to all of your lists, you do not need to use the &quot;</span><span style="font-family: 'Arial'; font-style: italic; color: #010100;">Define which messages are eligible for signing</span><span class="f_ControlIndent2">&quot; option to authorize them for cryptographic signing.</span></p>
<div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 49px 14px 48px;"><table cellspacing="0" cellpadding="5" bgcolor="#ffffe6" border="1" style="background-color: #ffffe6; border: solid 1px #000000; border-spacing:0px;">
<tr style="text-align:left;vertical-align:top;">
<td valign="top" width="50" style="width:50px; height:50px; border: none"><p class="p_NoFormat"><img src="lightbulb_on_50_yback.gif" width="50" height="50" border="0" alt=""></p>
</td>
<td valign="top" style="border: none"><p class="p_Notes"><span class="f_Notes">Signing list mail requires content filter processing for each list message after &quot;cracking&quot; the list. This could affect server performance when dealing with large and highly active mailing lists.</span></p>
</td>
</tr>
</table>
</div>
<p class="p_ControlHeading"><span class="f_ControlHeading">Default selector</span></p>
<p class="p_ControlIndent"><span class="f_ControlIndent">From the drop-down list, choose the selector whose corresponding public/private key pair you wish to use when signing messages. If you wish to create a new key pair with a different selector, type the desired selector name here and click &quot;</span><span class="f_ControlIndent" style="font-style: italic;">Create new public and private keys</span><span class="f_ControlIndent">&quot; below. If you wish to sign some messages using an alternate selector, designate a specific selector under the &quot;</span><span class="f_ControlIndent" style="font-style: italic;">Define which messages are eligible for signing</span><span class="f_ControlIndent">&quot; option, or create a Content Filter rule using the &quot;</span><span style="font-family: 'Arial'; font-style: italic; color: #010100;">Sign with DKIM selector...</span><span class="f_ControlIndent">&quot; or &quot;</span><span class="f_ControlIndent" style="font-style: italic;">Sign with DomainKeys selector...</span><span class="f_ControlIndent">&quot; action.</span></p>
<p class="p_ControlHeading"><span class="f_ControlHeading">Delete this selector</span></p>
<p class="p_ControlIndent"><span class="f_ControlIndent">Click this button if you wish to delete a selector. Follow the on-screen instructions that appear.</span></p>
<p class="p_ControlHeading"><span class="f_ControlHeading">Create new public and private keys</span></p>
<p class="p_ControlIndent"><span class="f_ControlIndent">Click this button to generate a public/private key pair for the selector specified above. A public/private key pair will be generated for the selector, and the file </span><span style="font-family: 'Courier New'; color: #010100;">dns_readme.txt</span><span class="f_ControlIndent"> will be generated and automatically opened. This file contains example DK/DKIM data that you will need to publish to your domain</span><span style="font-family: 'Times New Roman'; color: #010100;">'</span><span class="f_ControlIndent">s DNS records listing your DK/DKIM Policy and the public key for the designated selector. The file lists samples for both testing and not testing status, and for whether you are signing all messages or just some messages originating from your domain. If you are currently testing DK/DKIM or this selector, then you will need to use the information contained in the Testing entries for either the Policy or the selector, depending on what you are testing. Otherwise you will need to use the Not Testing entries.</span></p>
<p class="p_ControlIndent"><span class="f_ControlIndent">All keys are stored in </span><span style="font-size: 15px; font-family: 'Courier New'; color: #010100;">PEM</span><span class="f_ControlIndent"> format, and all selectors and keys are stored under the </span><span style="font-size: 15px; font-family: 'Courier New'; color: #010100;">\MDaemon\Pem</span><span class="f_ControlIndent"> folder in the following way:</span></p>
<p class="p_Code2"><span class="f_Code2">\MDaemon\Pem\&lt;Selector&gt;\rsa.public - public key for this selector</span></p>
<p class="p_Code2-LastItem"><span class="f_Code2-LastItem">\MDaemon\Pem\&lt;Selector&gt;\rsa.private - private key for this selector</span></p>
<div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 49px 14px 48px;"><table cellspacing="0" cellpadding="5" bgcolor="#ffffe6" border="1" style="background-color: #ffffe6; border: solid 1px #000000; border-spacing:0px;">
<tr style="text-align:left;vertical-align:top;">
<td valign="top" width="50" style="width:50px; height:50px; border: none"><p class="p_NoFormat"><img src="forbidden_50_yback.gif" width="50" height="50" border="0" alt=""></p>
</td>
<td valign="top" style="border: none"><p class="p_Notes"><span class="f_Notes">The files contained in these folders are not encrypted or hidden, but they contain RSA private encryption keys that should never be accessed by anyone without permission. You should therefore take steps to secure these folders and subfolders using your OS tools.</span></p>
</td>
</tr>
</table>
</div>
<p class="p_ControlHeading"><span class="f_ControlHeading">Define which messages are eligible for signing</span></p>
<p class="p_ControlIndent"><span class="f_ControlIndent">When you have enabled one or both of the </span><span style="font-family: 'Arial'; font-style: italic; color: #010100;">Sign outgoing messages...</span><span class="f_ControlIndent"> options above, click this button to edit the</span><span style="font-size: 15px; font-family: 'Courier New'; color: #010100;"> DKSign.dat</span><span class="f_ControlIndent"> file, which contains the list of domains and addresses that MDaemon will use to determine whether or not a message should be signed. For each address listed you must designate whether or not the message should be </span><span style="font-size: 15px; font-family: 'Courier New'; color: #010100;">To</span><span class="f_ControlIndent"> or </span><span style="font-size: 15px; font-family: 'Courier New'; color: #010100;">From</span><span class="f_ControlIndent"> that address in order for it to qualify to be signed, or you can designate some other header such as &quot;</span><span style="font-size: 15px; font-family: 'Courier New'; color: #010100;">Reply-To</span><span class="f_ControlIndent">&quot; or &quot;</span><span style="font-size: 15px; font-family: 'Courier New'; color: #010100;">Sender</span><span class="f_ControlIndent">&quot;. Optionally, you can designate a selector for each entry, which will be used when signing a message that matches that entry. Finally, you can specify an optional signing domain to be used in the &quot;d=&quot; tag within the signature header. This can be useful, for example, when you have multiple sub-domains signing messages. In such cases you could use the &quot;d=&quot; tag to tell the receiving servers to look for the DK/DKIM keys in a single domain</span><span style="font-family: 'Times New Roman'; color: #010100;">'</span><span class="f_ControlIndent">s DNS record thus making it possible for you to manage all of the keys in one record rather than having to manage separate records for each sub-domain. Wildcards are permitted in domains and addresses.</span></p>
<p class="p_ControlHeading"><span class="f_ControlHeading">All messages from local domains are eligible for signing</span></p>
<p class="p_ControlIndent"><span class="f_ControlIndent">Use this option if you wish to make all messages from your local domains eligible for signing. If you use this option then you do not need to add any of your local domains to the eligibility list (i.e. the </span><span class="f_T_Code">DKSign.dat</span><span class="f_ControlIndent"> file) unless you wish to designate a specific selector or &quot;</span><span class="f_T_Code">d=</span><span class="f_ControlIndent">&quot; tag to be used when signing a specific domain’s messages. This option is enabled by default.</span></p>
<p class="p_SeeAlso" style="border-right: none; border-bottom: none; border-left: none;"><span class="f_SeeAlso">See:</span></p>
<p class="p_SeeAlsoLinks"><span class="f_SeeAlsoLinks"><a href="security__domainkeys_identified_mail.htm">DomainKeys Identified Mail</a></span></p>
<p class="p_SeeAlsoLinks"><span class="f_SeeAlsoLinks"><a href="security__dkim_options.htm">DKIM Options</a></span></p>
<p class="p_SeeAlsoLinks"><span class="f_SeeAlsoLinks"><a href="security__dkim_verify.htm">DKIM Verification</a></span></p>
<p class="p_SeeAlsoLinks"><span class="f_SeeAlsoLinks">&nbsp;</span></p>

<!--ZOOMSTOP-->

</div></div>
<script type="text/javascript"> 
<!-- 
var lastSlashPos = document.URL.lastIndexOf("/") >
document.URL.lastIndexOf("\\") ? document.URL.lastIndexOf("/") :
document.URL.lastIndexOf("\\");
if( document.URL.substring( lastSlashPos + 1, lastSlashPos + 4
).toLowerCase() != "~hh" )
{
    nsrInit();
}
--> 
</script> 
</body>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-1');</script><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script></html>
