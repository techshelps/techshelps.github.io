<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>Setting a Thread Name</TITLE>
<LINK REL="Stylesheet" HREF="../scripts/Office10.css"></HEAD>
<BODY>



<H1><A NAME="vxtsksettingthreadname"></A>Setting a Thread Name</H1>

<P class=T><B>Unmanaged C/C++ only</B></P>

<P class=T>To set a thread name in your program, use the <B>SetThreadName</B> function, as shown in the following example:</P>

<PRE class=CT><CODE>//
// Usage: SetThreadName (-1, "MainThread");
//
typedef struct tagTHREADNAME_INFO
{
   DWORD dwType; // must be 0x1000
   LPCSTR szName; // pointer to name (in user addr space)
   DWORD dwThreadID; // thread ID (-1=caller thread)
   DWORD dwFlags; // reserved for future use, must be zero
} THREADNAME_INFO;

void SetThreadName( DWORD dwThreadID, LPCSTR szThreadName)
{
   THREADNAME_INFO info;
   info.dwType = 0x1000;
   info.szName = szThreadName;
   info.dwThreadID = dwThread;
   info.dwFlags = 0;

   __try 
   {
      RaiseException( 0x406D1388, 0, sizeof(info)/sizeof(DWORD), (DWORD*)&amp;info );
   }
except(EXCEPTION_CONTINUE_EXECUTION)
{
}
}</CODE></PRE>

</BODY>
</HTML>
