<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><TITLE>Using the Threads Window</TITLE>
<LINK REL="Stylesheet" HREF="../scripts/Office10.css"></HEAD>
<BODY>

<DIV STYLE="display:none;">
<OBJECT ID="hhobj_1" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink,MENU">
	<PARAM NAME="DefaultTopic" VALUE="_office_topic_not_found.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="_WIN32_SuspendThread">
</OBJECT>
<OBJECT ID="hhobj_2" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink,MENU">
	<PARAM NAME="DefaultTopic" VALUE="_office_topic_not_found.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="_WIN32_ResumeThread">
</OBJECT>
<OBJECT ID="hhobj_3" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink,MENU">
	<PARAM NAME="DefaultTopic" VALUE="_office_topic_not_found.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="_mfc_CWinThread.3a3a.SuspendThread">
</OBJECT>
<OBJECT ID="hhobj_4" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink,MENU">
	<PARAM NAME="DefaultTopic" VALUE="_office_topic_not_found.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="_mfc_CWinThread.3a3a.ResumeThread">
</OBJECT>
<OBJECT ID="hhobj_5" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink,MENU">
	<PARAM NAME="DefaultTopic" VALUE="_office_topic_not_found.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="_WIN32_GetLastError">
</OBJECT>
<OBJECT ID="hhobj_6" TYPE="application/x-oleobject" CLASSID="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
	<PARAM NAME="Command" VALUE="ALink,MENU">
	<PARAM NAME="DefaultTopic" VALUE="_office_topic_not_found.htm">
	<PARAM NAME="Item1" VALUE="">
	<PARAM NAME="Item2" VALUE="_CRT__malloc_dbg">
</OBJECT>
</DIV>



<H1><A NAME="_core_using_the_threads_dialog_box"></A>Using the Threads Window</H1>

<P><B>To display the Threads window</B>

<UL>
	<LI class=LB1>From the <B>Debug</B> menu, choose <B>Windows</B> and click <B>Threads</B>. (The debugger must be running or in <A HREF="_asug_halting_a_program.htm">break mode</A>.)</LI>
</UL>

<P class=T>With the Threads window, you can examine and control threads in the program you are debugging. A thread is a sequence of executable instructions created by a program. By default, a program has a single thread. Multithreaded programs create additional threads. One thread is active at a time. The active is the thread that is currently able to run.</P>

<P class=T>From the Threads window, you can set the active thread. In addition, you can freeze or thaw the execution of each individual thread. Freezing prevents the execution of a thread. Thawing allows it to continue. "Frozen" and "thawed" are states set by the debugger.</P>

<P><B>To set an active thread</B>

<UL>
	<LI class=LB1>In the Threads window, right-click a thread and choose <B>Switch to Thread</B> from the context menu.
<P class=LT1>-or-
</LI>

	<LI class=LB1>On the Debug Location toolbar, select the Program list box and choose the program you want to make current.</LI>
</UL>

<P><B>To freeze (prevent execution of) a thread</B>

<UL>
	<LI class=LB1>In the Threads window, right-click a thread and choose <B>Freeze</B> from the shortcut menu.</LI>
</UL>

<P><B>To thaw (allow execution of) a thread</B>

<UL>
	<LI class=LB1>In the Threads window, right-click a thread and choose <B>Thaw</B> from the shortcut menu.</LI>
</UL>

<P class=T>You can suspend or resume thread execution using calls to <A HREF="JavaScript:hhobj_1.Click()">SuspendThread</A> and <A HREF="JavaScript:hhobj_2.Click()">ResumeThread</A>. In MFC, you can use <A HREF="JavaScript:hhobj_3.Click()">CWinThread::SuspendThread</A> and <A HREF="JavaScript:hhobj_4.Click()">CWinThread::ResumeThread</A>.</P>

<P class=T>These calls change the Suspend Count shown in the Threads window. To execute, a thread must be unfrozen and have a Suspend Count of zero. You cannot change the Suspend Count or resume a suspended thread from the Threads window.</P>

<H3>Tips for Debugging Threads</H3>

<UL>
	<LI class=LB1>You can set the thread name in an unmanaged C/C++ program using the <B>SetThreadName</B> API. For an example , see <A HREF="vxtsksettingthreadname.htm">Setting a Thread Name</A>.</LI>

	<LI class=LB1>When debugging native Win32 code, you can view the contents of the Thread Information Block by entering the pseudoregister @TIB in the Watch window or QuickWatch dialog. For information on Thread Information Blocks, see "Under the Hood" in the May 1996 edition of the <I>Microsoft Systems Journal</I>.</LI>

	<LI class=LB1>When debugging native Win32 code, you can view the last error code for the current thread (the value returned by a call to <A HREF="JavaScript:hhobj_5.Click()">GetLastError</A>) by entering the pseudoregister @Err in the Watch window or QuickWatch dialog. </LI>

	<LI class=LB1>For an example showing how to use CRT functions for debugging a multithreaded application, see the code in the CRT topic <A HREF="JavaScript:hhobj_6.Click()">_malloc_dbg</A>.</LI>
</UL>

</BODY>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-1');</script><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script></html>
