<html>


<!-- Mirrored from www.jefferypsanders.com/autolisp_DCL_OverView.html by HTTrack Website Copier/3.x [XR&CO'2004], Thu, 23 Sep 2004 01:07:55 GMT -->
<head>
<meta name="description" content="AutoLisp Dialog Control Language">
<meta name="GENERATOR" content="Microsoft FrontPage 5.0">
<meta name="keywords" content="autolisp, DCL, dialog, control, language">
<title>The AutoLisp Ultimate Tutorial&nbsp; - DCL</title>
</head>

<body>

<p align="center"><font color="#000000"><big><big><big><strong>The
    AutoLisp Tutorial - DCL</strong></big></big></big></font><font face="Helvetica"></p>
    </font><p align="center"><font color="#000000"><big><big><strong>Dialog Control Language</strong></big></big></font></p>
    <hr size="4" color="#0000FF">
    <p><big><big><strong>&nbsp;&nbsp;&nbsp; Getting Started</strong></big></big></p>
    <hr size="4" color="#0000FF">
    <p>&nbsp;&nbsp;&nbsp; I'm not going to explain everything there is to know about Dialog
    Control Language.&nbsp; There are plenty of books on the subject.&nbsp; I will attempt to
    give you a good understanding of how DCL interacts with AutoLisp.&nbsp; You should be able
    to write your first DCL driven Autolisp program in no time.&nbsp; Let's get to it.</p>
    <hr size="4" color="#0000FF">
    <p>&nbsp; Here is the basic order for things to happen inside the AutoLisp file:</p>
    <table border="1" width="100%">
      <tr>
        <td width="100%"><font face="Courier New">(defun C:MyProgram()
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; </font><font color="#FF0000">; Define the main program</font><p><font face="Courier New">&nbsp; (defun
        myFunction1()&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        &nbsp;&nbsp; </font><font color="#FF0000">; Define the functions you need like saveVars</font></p>
        <p><font face="Courier New">&nbsp;&nbsp;&nbsp; ;do stuff here </font></p>
        <p><font face="Courier New">&nbsp;&nbsp; ) </font></p>
        <p><font face="Courier New">&nbsp;&nbsp; (defun myFunction2() </font></p>
        <p><font face="Courier New">&nbsp;&nbsp;&nbsp;&nbsp; ;do stuff here </font></p>
        <p><font face="Courier New">&nbsp;&nbsp; ) </font></p>
        <p><font face="Courier New">&nbsp;&nbsp; (setq list1(list &quot;a&quot; &quot;b&quot;
        &quot;c&quot; &quot;d&quot;)) </font><font color="#FF0000">; Build the list if any are
        required</font></p>
        <p><font face="Courier New">&nbsp;&nbsp; (setq list2(list &quot;1&quot; &quot;2&quot;
        &quot;3&quot; &quot;4&quot;)) </font></p>
        <p><font face="Courier New">&nbsp;&nbsp; (setq list3(list &quot;x&quot; &quot;y&quot;
        &quot;z&quot;)) </font></p>
        <p>&nbsp;</p>
        <p><font face="Courier New">&nbsp;&nbsp; load_dialog
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        </font><font color="#FF0000">;Load the DCL file</font></p>
        <p><font face="Courier New"><br>
        &nbsp;&nbsp; new_dialog
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        </font><font color="#FF0000">;Load the DCL definition</font></p>
        <p><br>
        <font face="Courier New">&nbsp;&nbsp; start_list
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        </font><font color="#FF0000">;Put the list in the dialog box</font> <br>
        <font face="Courier New">&nbsp;&nbsp; add_list </font><br>
        <font face="Courier New">&nbsp;&nbsp; end_list </font></p>
        <p><font face="Courier New">&nbsp;&nbsp; start_list</font>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        <font color="#FF0000">;As many list as you need</font><br>
        <font face="Courier New">&nbsp;&nbsp; add_list </font><br>
        <font face="Courier New">&nbsp;&nbsp; end_list </font></p>
        <p><br>
        <font face="Courier New">&nbsp;&nbsp; set_tile
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        </font><font color="#FF0000">; Set the tiles (if necessary) </font></p>
        <p><font face="Courier New">&nbsp;&nbsp; mode_tile </font><font color="#FF0000">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        ; Enable or disable tiles (as necessary)</font></p>
        <p><font color="#FF0000">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ;Set up as many action
        tiles as you need.</font></p>
        <p><font face="Courier New">&nbsp;&nbsp; (action_tile &quot;accept&quot; &quot;(setq d
        2)(myFunction1)(done_dialog)&quot;)</font><br>
        <font face="Courier New">&nbsp;&nbsp; (action_tile &quot;cancel&quot; &quot;(setq d
        1)(myFunction2)(done_dialog)&quot;)</font></p>
        <p><br>
        <font face="Courier New" color="#FF0000">&nbsp;&nbsp;&nbsp; </font><font color="#FF0000">;Two
        action tiles need to have the done_dialog call. One of these needs to save the settings
        before</font> <br>
        <font color="#FF0000">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ; the done_dialog
        call.</font> </p>
        <p><font face="Courier New">&nbsp;&nbsp;&nbsp; start_dialog
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        </font><font color="#FF0000">&nbsp;&nbsp;&nbsp; ; Start the dialog box</font><font face="Courier New"> &nbsp;&nbsp;&nbsp; </font></p>
        <p><font face="Courier New">&nbsp;&nbsp;&nbsp; unload_dialog&nbsp;&nbsp;&nbsp; </font><font color="#FF0000">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        ; Unload the dialog box</font></p>
        <p><font color="#FF0000">&nbsp;&nbsp;&nbsp; </font></p>
        <p><font color="#FF0000">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ; Do stuff
        if the user presses the cancel key</font></p>
        <p><font face="Courier New">&nbsp;&nbsp;&nbsp; (if (= d 1) </font></p>
        <p><font face="Courier New">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ;do stuff here if cancel was
        pressed</font></p>
        <p><font face="Courier New">&nbsp;&nbsp;&nbsp;&nbsp; ) </font></p>
        <p><font color="#FF0000">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ; Do stuff
        if the user presses the accept key</font></p>
        <p><font face="Courier New">&nbsp;&nbsp;&nbsp; (if (= d 2) </font></p>
        <p><font face="Courier New">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ;do stuff here if okay was
        pressed</font></p>
        <p><font face="Courier New">&nbsp;&nbsp;&nbsp;&nbsp; ) </font></p>
        <p><font face="Courier New">)</font>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        <font color="#FF0000">; close the program </font></td>
      </tr>
    </table>
    <p>&nbsp; We will discuss this in detail later on.</p>
    <hr size="4" color="#0000FF">
    <p>&nbsp;&nbsp; I've found the hardest thing to get a grip on is laying out the dialog
    box.&nbsp; Please take a look at the rows and columns section if you need help with laying
    out a dialog box.&nbsp; For now let's look at the basics. <em>I'm going to throw a lot at
    you, but don't panic.&nbsp; I'll cover them a little closer later on.</em>&nbsp; We will
    cover these items first:&nbsp;&nbsp; button, row, column, boxed_row, and boxed_column.</p>
    <p>&nbsp; <strong>Okay and Cancel Buttons</strong> - The DCL code for a these buttons look
    like this:</p>
    <p><strong><font face="Courier New">&nbsp; : button {
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font></strong>\\
    Define the button<strong><font face="Courier New">&nbsp;&nbsp;&nbsp;&nbsp; <br>
    &nbsp;&nbsp;&nbsp; key = &quot;accept&quot;;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </font></strong>\\
    Define the action key (This is my name assigned to this button) <strong><font face="Courier New">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>
    &nbsp;&nbsp;&nbsp; label = &quot; Okay &quot;;&nbsp;&nbsp;&nbsp;&nbsp; </font></strong>\\
    This is the text displayed on the button.<strong><font face="Courier New">
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>
    &nbsp;&nbsp;&nbsp; is_default = true;&nbsp;&nbsp;&nbsp; </font></strong>\\ Allows the
    button to activate when the user presses the enter key.<strong><font face="Courier New"><br>
    &nbsp; }
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font></strong>\\
    Close the button definition</p>
    <p><strong><font face="Courier New"><br>
    &nbsp; : button {
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font></strong>\\
    Define another button<strong><font face="Courier New"><br>
    &nbsp;&nbsp;&nbsp; key = &quot;cancel&quot;;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </font></strong>\\
    Define the action key. (I chose this name for the button.)<strong><font face="Courier New"><br>
    &nbsp;&nbsp;&nbsp; label = &quot; Cancel &quot;;&nbsp;&nbsp; </font></strong>\\ Text
    displayed on the button.<strong><font face="Courier New"><br>
    &nbsp;&nbsp;&nbsp; is_default = false;&nbsp;&nbsp; </font></strong>\\ Does not allow this
    key to activate when the enter key is pressed.<strong><font face="Courier New"><br>
    &nbsp;&nbsp;&nbsp; is_cancel = true;&nbsp;&nbsp;&nbsp;&nbsp; </font></strong>\\ Activate
    this key when the close button [ X ] is selected.<strong><font face="Courier New"><br>
    &nbsp; }
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font></strong>\\
    Close the button definition<strong><font face="Courier New"> </font></strong></p>
    <p>&nbsp; <strong>Rows and Columns</strong> designate areas to lay your controls on.
    &nbsp; [Controls are list boxes, edit boxes, buttons, etc. ].&nbsp; </p>
    <p>Here is the DCL code for a column:</p>
    <p><font face="Courier New"><strong>: column {</strong></font></p>
    <p><font face="Courier New"><strong>}&nbsp;&nbsp; </strong></font></p>
    <p>Here is the DCL code for a row:</p>
    <p><font face="Courier New"><strong>: row {</strong></font></p>
    <p><font face="Courier New"><strong>}&nbsp;&nbsp; </strong></font></p>
    <p>&nbsp;&nbsp; Simple right?</p>
    <hr size="4" color="#0000FF">
    <p><strong>&nbsp; Here is the code for a column with two buttons:</strong></p>
    <table border="1" width="100%">
      <tr>
        <td width="37%"><strong><font face="Courier New">: column {</font></strong><p><strong><font face="Courier New">&nbsp; : button {<br>
        &nbsp;&nbsp;&nbsp; key = &quot;accept&quot;;<br>
        &nbsp;&nbsp;&nbsp; label = &quot; Okay &quot;;<br>
        &nbsp;&nbsp;&nbsp; is_default = true;<br>
        &nbsp; }</font></strong></p>
        <p><strong><font face="Courier New">&nbsp; : button {<br>
        &nbsp;&nbsp;&nbsp; key = &quot;cancel&quot;;<br>
        &nbsp;&nbsp;&nbsp; label = &quot; Cancel &quot;;<br>
        &nbsp;&nbsp;&nbsp; is_default = false;<br>
        &nbsp;&nbsp;&nbsp; is_cancel = true;<br>
        &nbsp; }</font></strong></p>
        <p><font face="Courier New"><strong>} </strong></font></td>
        <td width="63%"><p align="center">
        <img src="images/DCL01.JPG" alt="DCL01.JPG (3288 bytes)" WIDTH="104" HEIGHT="87"></p>
        <p align="center">Notice the buttons are stacked on top of each other.</td>
      </tr>
    </table>
    <p>&nbsp;</p>
    <p><strong>Here is the code for a row with two buttons:</strong></p>
    <table border="1" width="100%">
      <tr>
        <td width="37%"><strong><font face="Courier New">: row {</font></strong><p><strong><font face="Courier New">&nbsp; : button {<br>
        &nbsp;&nbsp;&nbsp; key = &quot;accept&quot;;<br>
        &nbsp;&nbsp;&nbsp; label = &quot; Okay &quot;;<br>
        &nbsp;&nbsp;&nbsp; is_default = true;<br>
        &nbsp; }</font></strong></p>
        <p><strong><font face="Courier New">&nbsp; : button {<br>
        &nbsp;&nbsp;&nbsp; key = &quot;cancel&quot;;<br>
        &nbsp;&nbsp;&nbsp; label = &quot; Cancel &quot;;<br>
        &nbsp;&nbsp;&nbsp; is_default = false;<br>
        &nbsp;&nbsp;&nbsp; is_cancel = true;<br>
        &nbsp; }</font></strong></p>
        <p><font face="Courier New"><strong>} </strong></font></td>
        <td width="63%"><p align="center">
        <img src="images/DCL02.JPG" alt="DCL02.JPG (3976 bytes)" WIDTH="183" HEIGHT="81"></p>
        <p align="center">Notice the buttons are side by side.</td>
      </tr>
    </table>
    <hr size="4" color="#0000FF">
    <p><strong>&nbsp; Let's turn the above into Boxed Rows and Boxed Columns.&nbsp; Here is
    the code for a boxed_column with two buttons:</strong></p>
    <table border="1" width="100%">
      <tr>
        <td width="37%"><strong><font face="Courier New">: boxed_column {</font></strong><p><strong><font face="Courier New">&nbsp; : button {<br>
        &nbsp;&nbsp;&nbsp; key = &quot;accept&quot;;<br>
        &nbsp;&nbsp;&nbsp; label = &quot; Okay &quot;;<br>
        &nbsp;&nbsp;&nbsp; is_default = true;<br>
        &nbsp; }</font></strong></p>
        <p><strong><font face="Courier New">&nbsp; : button {<br>
        &nbsp;&nbsp;&nbsp; key = &quot;cancel&quot;;<br>
        &nbsp;&nbsp;&nbsp; label = &quot; Cancel &quot;;<br>
        &nbsp;&nbsp;&nbsp; is_default = false;<br>
        &nbsp;&nbsp;&nbsp; is_cancel = true;<br>
        &nbsp; }</font></strong></p>
        <p><font face="Courier New"><strong>} </strong></font></td>
        <td width="63%"><p align="center">
        <img src="images/DCL03.JPG" alt="DCL03.JPG (4383 bytes)" WIDTH="122" HEIGHT="113"></p>
        <p align="center">Notice the box around the buttons.</td>
      </tr>
    </table>
    <p>&nbsp;</p>
    <p><strong>Here is the code for a boxed_row with two buttons:</strong></p>
    <table border="1" width="100%">
      <tr>
        <td width="37%"><strong><font face="Courier New">: boxed_row {</font></strong><p><strong><font face="Courier New">&nbsp; : button {<br>
        &nbsp;&nbsp;&nbsp; key = &quot;accept&quot;;<br>
        &nbsp;&nbsp;&nbsp; label = &quot; Okay &quot;;<br>
        &nbsp;&nbsp;&nbsp; is_default = true;<br>
        &nbsp; }</font></strong></p>
        <p><strong><font face="Courier New">&nbsp; : button {<br>
        &nbsp;&nbsp;&nbsp; key = &quot;cancel&quot;;<br>
        &nbsp;&nbsp;&nbsp; label = &quot; Cancel &quot;;<br>
        &nbsp;&nbsp;&nbsp; is_default = false;<br>
        &nbsp;&nbsp;&nbsp; is_cancel = true;<br>
        &nbsp; }</font></strong></p>
        <p><font face="Courier New"><strong>} </strong></font></td>
        <td width="63%"><p align="center">
        <img src="images/DCL04.JPG" alt="DCL04.JPG (4955 bytes)" WIDTH="201" HEIGHT="85"></p>
        <p align="center">Notice the box around the buttons.</td>
      </tr>
    </table>
    <hr size="4" color="#0000FF">
    <p>&nbsp;&nbsp; Now we know the difference between a row and a boxed_row.&nbsp; We also
    know that controls inside a column get stacked on top of each other [ vertical ] and
    controls inside a row are next to each other [ horizontal ].&nbsp; </p>
    <p>&nbsp; <font color="#FF0000">Important:</font>&nbsp; You should never ever attempt to
    build a dialog box without a cancel button.&nbsp;&nbsp; Trust me.&nbsp; <em>Or you can do
    what I did and find out for yourself.</em></p>
    <hr size="4" color="#0000FF">
    <p><big><big><strong>Overview</strong></big></big></p>
    <p>Let's take a look at the entire code for the dialog box above, including the LSP file:</p>
    <p>DCL FILE NAMED: DCL_TEST.DCL&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; AUTOLISP
    PROGRAM NAMED: DCL_TEST.lsp</p>
    <table border="1" width="100%">
      <tr>
        <td width="37%"><strong><font face="Courier New">DCL_TEST : dialog {</font></strong><p><strong><font face="Courier New">&nbsp; : boxed_row {</font></strong></p>
        <p><strong><font face="Courier New">&nbsp;&nbsp;&nbsp; : button {<br>
        &nbsp; &nbsp;&nbsp;&nbsp; key = &quot;accept&quot;;<br>
        &nbsp;&nbsp;&nbsp; &nbsp; label = &quot; Okay &quot;;<br>
        &nbsp;&nbsp;&nbsp; &nbsp; is_default = true;<br>
        &nbsp;&nbsp;&nbsp; }</font></strong></p>
        <p><strong><font face="Courier New">&nbsp;&nbsp;&nbsp; : button {<br>
        &nbsp;&nbsp;&nbsp; &nbsp; key = &quot;cancel&quot;;<br>
        &nbsp;&nbsp;&nbsp; &nbsp; label = &quot; Cancel &quot;;<br>
        &nbsp;&nbsp;&nbsp; &nbsp; is_default = false;<br>
        &nbsp;&nbsp;&nbsp; &nbsp; is_cancel = true;<br>
        &nbsp;&nbsp;&nbsp; }</font></strong></p>
        <p><font face="Courier New"><strong>&nbsp; } </strong></font></p>
        <p><font face="Courier New"><strong>}</strong></font></td>
        <td width="63%"><small><small><font face="Courier New">(defun C:DCL_TEST()<br>
        &nbsp; (setq dcl_id (load_dialog &quot;DCL_TEST.dcl&quot;))<br>
        &nbsp; (if (not (new_dialog &quot;DCL_SAMPLE&quot; dcl_id) ) (exit))<br>
        &nbsp; (action_tile &quot;cancel&quot; &quot;(setq ddiag 1)(done_dialog)&quot;)<br>
        &nbsp; (action_tile &quot;accept&quot; &quot;(setq ddiag 2)(done_dialog)&quot;) <br>
        &nbsp; (start_dialog)&nbsp;<br>
        &nbsp; (unload_dialog dcl_id)<br>
        &nbsp; (if (= ddiag 1)<br>
        &nbsp;&nbsp;&nbsp; (princ &quot;\n \n ...DCL_TEST Cancelled. \n &quot;)<br>
        &nbsp; )<br>
        &nbsp; (if (= ddiag 2)<br>
        &nbsp;&nbsp;&nbsp; (alert &quot;You pressed the OKAY button!&quot;)<br>
        &nbsp; )<br>
        )</font></small></small><br>
        </td>
      </tr>
    </table>
    <p>&nbsp;</p>
    <p><big><strong>AutoLISP</strong></big></p>
    <p>Let's take a look at the AutoLisp part of this simple program.<br>
    </p>
    <p>&nbsp; First we defined our program:</p>
    <p><small><font face="Courier New">(defun C:DCL_TEST()</font></small></p>
    <p>&nbsp;</p>
    <p>&nbsp; The second thing was to load the DCL file from disk.&nbsp; Insert a path if
    necessary, but I always liked to use the autocad search path to find the file. &nbsp;
    Notice the dcl_id variable used.&nbsp; We will need this later on.&nbsp; This identifies
    the file opened.</p>
    <p><small><font face="Courier New">;;;--- Put up the dialog box<br>
    &nbsp; (setq dcl_id (load_dialog &quot;DCL_TEST.dcl&quot;))</font></small></p>
    <p>&nbsp;</p>
    <p>&nbsp; Since a DCL file can contain multiple dialog box definitions, [ I'll show you an
    example later on. ] we need to specify which dialog box we want to load.&nbsp; This is
    taken care of in the next statement.&nbsp; Notice the name matches the definition inside
    the DCL file.&nbsp; </p>
    <p><small><font face="Courier New">&nbsp; ;;;--- See if it is already loaded<br>
    &nbsp; (if (not (new_dialog &quot;DCL_SAMPLE&quot; dcl_id) ) (exit))</font></small></p>
    <p>&nbsp;</p>
    <p><small><font face="Courier New">&nbsp; Next, we define our action keys.&nbsp; These
    tell the program what to do whenever a user presses a button, selects an item in a list,
    etc.&nbsp; Notice the two action keys.&nbsp; &quot;cancel&quot; and &quot;accept&quot; .
    &nbsp; These match the keys in the DCL file.&nbsp; I made these names up.&nbsp; You can
    name them whatever you want as long as it is not a name used by AutoCAD and it only
    appears once in each DCL definition.&nbsp; You can't have two controls with the same key,
    the program would get confused.&nbsp; So would I!!!&nbsp;&nbsp; Whenever the user presses
    the cancel key, the program sets variable ddiag to 1 and closes the dialog box.&nbsp; Upon
    pressing the Okay button, [ key = accept ], the program sets variable ddiag to 2 and
    closes the dialog box.&nbsp; That's it.&nbsp; Nothing else to add except, you could have
    just about anything in here, including instructions to execute a function [ I'll
    demonstrate that later. ]<br>
    <br>
    &nbsp; ;;;--- If an action event occurs, do this function<br>
    &nbsp; (action_tile &quot;cancel&quot; &quot;(setq ddiag 1)(done_dialog)&quot;)<br>
    &nbsp; (action_tile &quot;accept&quot; &quot;(setq ddiag 2)(done_dialog)&quot;) <br>
    </font></small></p>
    <p>&nbsp;</p>
    <p><small><font face="Courier New">&nbsp; Finally, the big step.&nbsp; Everything is
    defined, let's display the dialog box.</font></small></p>
    <p><small><font face="Courier New"><br>
    &nbsp; ;;;--- Display the dialog box<br>
    &nbsp; (start_dialog)</font></small></p>
    <p>&nbsp;</p>
    <p><small><font face="Courier New">&nbsp; The program halts here until the dialog box is
    issued a &quot;done_dialog&quot; call.&nbsp; In the mean time the user is interacting with
    the action keys.&nbsp; When the user presses a button the program kills the dialog box
    with the unload_dialog call.&nbsp; Notice the dcl_id passed as a parameter.&nbsp; You
    could have more than one dialog file open at one time.&nbsp; So, the unload_dialog
    function needs to know which one to unload.</font></small></p>
    <p><small><font face="Courier New">&nbsp;&nbsp; ;;;--- Display the dialog box<br>
    &nbsp; (unload_dialog dcl_id)</font></small></p>
    <p>&nbsp;</p>
    <p><small><font face="Courier New">&nbsp; Finally the dialog box is gone.&nbsp; What next?
    &nbsp; Find out which button the user pressed?&nbsp; Exactly!&nbsp; Remember setting the
    ddiag variable to either 1 or 2.&nbsp; We will use that now to determine which button was
    pressed.&nbsp; <em>There is a better way to do this, I'll show you later.</em></font></small></p>
    <p><small><font face="Courier New">&nbsp; <br>
    &nbsp; ;;;--- If the cancel button was pressed - display message<br>
    &nbsp; (if (= ddiag 1)<br>
    &nbsp;&nbsp;&nbsp; (princ &quot;\n \n ...DCL_LSP Cancelled. \n &quot;)<br>
    &nbsp; )<br>
    <br>
    &nbsp; ;;;--- If the &quot;Create&quot; button was pressed<br>
    &nbsp; (if (= ddiag 2)<br>
    &nbsp;&nbsp;&nbsp; (alert &quot;You pressed the OKAY button!&quot;)<br>
    &nbsp; )</font></small></p>
    <p>&nbsp;</p>
    <p><small><font face="Courier New">&nbsp; And the last step, close the autolisp program.</font></small></p>
    <p><small><font face="Courier New"><br>
    )</font></small><big><br>
    </big></p>
    <hr size="4" color="#0000FF">
    <p><big><big><strong>The basic DCL model</strong></big></big></p>
    <p>&nbsp; I will now give you the model I use for 98% of all dialog based programs I
    write.&nbsp; I start with this basic program and build from there.&nbsp; It is basically
    the same thing we've gone over before.&nbsp; I put up a dialog box.&nbsp; I allow the user
    to press buttons and manipulate data.&nbsp; The only difference is, when the user presses
    the OKAY button I save the settings in the dialog file before it closes.&nbsp; I do this
    inside the action key call with a function called saveVars.&nbsp; Without further ado,
    here's the model:</p>
    <p><strong><big>The DCL File:</big></strong></p>
    <p><font face="Courier New">EXAMPLE : dialog {<br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; label = &quot;EXAMPLE.lsp&quot;;
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </font>\\ Puts a label on the
    dialog box<font face="Courier New"><br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; initial_focus =
    &quot;textval&quot;;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </font>\\ Sets the initial focus<font face="Courier New"><br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; : column {<br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; : row {<br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; :
    boxed_column {<br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    : edit_box {
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </font>\\
    The edit_box control - Something new!<font face="Courier New"> <br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    key = &quot;textval&quot;;<br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    label = &quot;Text Value to Find&quot;;<br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    edit_width = 30;<br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    value = &quot;&quot;;<br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    }<br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; } <br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; : row {<br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; : boxed_row
    {<br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    : button {<br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    key = &quot;accept&quot;;<br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    label = &quot; Okay &quot;;<br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    is_default = true;<br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    }<br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    : button {<br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    key = &quot;cancel&quot;;<br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    label = &quot; Cancel &quot;;<br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    is_default = false;<br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    is_cancel = true;<br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    }<br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; } <br>
    }</font></p>
    <p><big><strong>The AutoLisp File:</strong></big></p>
    <p><font face="Courier New">;;;--- EXAMPLE.lsp - Text Find<br>
    <br>
    (defun saveVars()<br>
    &nbsp; ;;;--- Save the input from the dialog box<br>
    &nbsp; (setq textVal (get_tile &quot;textval&quot;))<br>
    )<br>
    <br>
    <br>
    (defun C:EXAMPLE()<br>
    <br>
    &nbsp; ;;;--- Load the dcl file<br>
    &nbsp; (setq dcl_id (load_dialog &quot;EXAMPLE.dcl&quot;))<br>
    <br>
    &nbsp; ;;;--- Load the dialog definition if it is not already loaded<br>
    &nbsp; (if (not (new_dialog &quot;EXAMPLE&quot; dcl_id) ) (exit))<br>
    <br>
    &nbsp; ;;;--- If an action event occurs, do this function<br>
    &nbsp; (action_tile &quot;cancel&quot; &quot;(setq ddiag 1)(done_dialog)&quot;)<br>
    &nbsp; (action_tile &quot;accept&quot; &quot;(setq ddiag 2)(saveVars)(done_dialog)&quot;) <br>
    <br>
    &nbsp; ;;;--- Display the dialog box<br>
    &nbsp; (start_dialog)</font></p>
    <p><font face="Courier New">&nbsp; ;;;--- Unload the dialog<br>
    &nbsp; (unload_dialog dcl_id)</font></p>
    <p><font face="Courier New">&nbsp; ;;;--- If the cancel button was pressed - display
    message<br>
    &nbsp; (if (= ddiag 1)<br>
    &nbsp;&nbsp;&nbsp; (princ &quot;\n \n ...EXAMPLE Cancelled. \n &quot;)<br>
    &nbsp; )<br>
    <br>
    &nbsp; ;;;--- If the &quot;Okay&quot; button was pressed<br>
    &nbsp; (if (= ddiag 2)<br>
    &nbsp;&nbsp;&nbsp; (princ &quot;\n \n ...Example Complete!&quot;)<br>
    &nbsp; )<br>
    <br>
    &nbsp; ;;;--- Suppress the last echo for a clean exit<br>
    &nbsp; (princ)<br>
    <br>
    ) </font></p>
    <p><strong>Screen Shot:</strong></p>
    <p align="center">
    <img src="images/DCL05.JPG" alt="DCL05.JPG (9772 bytes)" WIDTH="355" HEIGHT="136"></p>
    <p>&nbsp; If you could not follow some of the autolisp functions, you can ignore them for
    now or read the <a href="autolispintr.html">Autolisp Tutorial</a>.&nbsp; </p>
    <p>&nbsp; This is the model.&nbsp; Very little will change from this setup.&nbsp; You may
    add some controls to the DCL file which in turn will add Action calls and influence the
    number of lines inside the saveVars routine.&nbsp; The only other thing that will change
    is inside the OKAY button function.&nbsp; [ When ddiag = 2 ].&nbsp;&nbsp; You will have to
    tell the program what to do when all of the information is gathered.&nbsp; We will cover
    these later.</p>
    <p align="center"><a href="autolisp_DCL.html">Back</a></p>
    <hr size="4" color="#0000FF">
    <p align="center"><a href="index.html">AutoLisp Tutorial Home</a></p>
</body>

</html>
