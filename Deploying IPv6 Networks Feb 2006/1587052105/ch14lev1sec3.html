<html>
<META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<head>
<title>Basic Services Design and Implementation</title>
<link rel="STYLESHEET" type="text/css" href="images/style.css">
<link rel="STYLESHEET" type="text/css" href="images/docsafari.css">
</head>
<body>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr><td><div STYLE="MARGIN-LEFT: 0.15in;">
<a href=ch14lev1sec2.html><img src="images/prev.gif" width="60" height="17" border="0" align="absmiddle" alt="Previous Page"></a>
<td align="right"><div STYLE="MARGIN-LEFT: 0.15in;">
<a href=ch14lev1sec4.html><img src="images/next.gif" width="60" height="17" border="0" align="absmiddle" alt="Next Page"></a>
</div></td></tr></table>
<br><table width="100%" border="0" cellspacing="0" cellpadding="0"><tr><TD valign="top"><a name="ch14lev1sec3"></a>
<h3 class="docSection1Title">Basic Services Design and Implementation</H3>
<p class="docText">RTPCom's IPv6 deployment strategy was set for dual stack, a framework that now shapes the design of all IPv6 services. The foundation of the deployment is the addressing plan.</P>
<a name="ch14lev2sec4"></a>
<h4 class="docSection2Title">Addressing Plan</H4>
<p class="docText"><a name="iddle1074"></a><a name="iddle1230"></a>RTPCom secured the 2600:A000::/24 prefix from the American Registry for Internet Numbers (ARIN) for its IPv6 nationwide deployment. It made a strong business case for such a large address space based on its current customer base growth rate. RTPCom's ARIN record for this allocation is shown in <a class="docLink" href="#ch14table03">Table 14-3</a>.</p>
<a name="ch14table03"></a><p><table cellspacing="0" class="allBorders" border="1" RULES="all" cellpadding="4"><caption><H5 class="docTableTitle">Table 14-3. RTPCom Address-Allocation Record</H5></caption><colgroup><col width="250"><col width="200"></colgroup><thead><TR><th class="thead" scope="col" align="left" valign="bottom"><p class="docText">network:ID:</p></th><th class="thead" scope="col" align="left" valign="bottom"><p class="docText">NET-RTPCom</p></th></tr></thead><TR><td class="docTableCell" align="left" valign="top"><p class="docText">network:Network-Name:</p></TD><TD class="docTableCell" align="left" valign="top"><p class="docText">RTPCOM</p></td></tr><tr><TD class="docTableCell" align="left" valign="top"><p class="docText">network:IP-Network:</p></td><TD class="docTableCell" align="left" valign="top"><p class="docText">2600:A000::/24</p></TD></tr><tr><td class="docTableCell" align="left" valign="top"><p class="docText">network:Org-Name:</p></td><td class="docTableCell" align="left" valign="top"><p class="docText">RTPCom Corporation</p></td></tr><tr><td class="docTableCell" align="left" valign="top"><p class="docText">network:Street-Address:</p></td><td class="docTableCell" align="left" valign="top"><p class="docText">4704 Davis Drive</p></TD></tr><tr><td class="docTableCell" align="left" valign="top"><p class="docText">network:City:</P></td><TD class="docTableCell" align="left" valign="top"><p class="docText">Research Triangle Park</P></td></TR><tr><td class="docTableCell" align="left" valign="top"><p class="docText">network:State:</P></TD><TD class="docTableCell" align="left" valign="top"><p class="docText">NC</p></td></tr><TR><td class="docTableCell" align="left" valign="top"><p class="docText">network:Postal-Code:</p></TD><TD class="docTableCell" align="left" valign="top"><p class="docText">27709</p></td></tr><tr><TD class="docTableCell" align="left" valign="top"><p class="docText">network:Country-Code:</p></td><TD class="docTableCell" align="left" valign="top"><p class="docText">US</p></TD></tr><tr><td class="docTableCell" align="left" valign="top"><p class="docText">network:Tech-Contact:</p></td><td class="docTableCell" align="left" valign="top"><p class="docText"><a class="docLink" href="mailto:rtpcom-ops@rtpcom.net">rtpcom-ops@rtpcom.net</a></p></td></tr><tr><td class="docTableCell" align="left" valign="top"><p class="docText">network:Updates:</p></td><td class="docTableCell" align="left" valign="top"><p class="docText">20050505</p></TD></tr><tr><td class="docTableCell" align="left" valign="top"><p class="docText">network:Updated-By:</P></td><TD class="docTableCell" align="left" valign="top"><p class="docText"><a class="docLink" href="mailto:jo@myrwhois.net">jo@myrwhois.net</a></P></td></TR><tr><td class="docTableCell" align="left" valign="top"><p class="docText">network:Class-Name:network:</P></TD><TD class="docTableCell" align="left" valign="top"><p class="docText">network</p></td></tr></table></P><br>
<p class="docText">In designing the addressing structure of the IPv6 deployment and service, RTPCom decided to use the following constraints:</p>
<UL><LI><p class="docList">Leverage the large address space to create a logical hierarchy in its addressing scheme.</p></li><li><p class="docList">Customers will be assigned either /64 or /56 prefixes.</p></LI><li><p class="docList">A portion of the address space will be reserved for internal infrastructure needs.</p></LI></ul>
<p class="docText">For administrative purposes, RTPCom's network was divided in two areas: East and West. Three bits are reserved to identify each L1 POP in each area. Four bits are reserved to identify the L2 POPs, and the subsequent 6 bits are used to identify the L3 POPs. <a class="docLink" href="#ch14table04">Table 14-4</a> summarizes the addressing scheme that will be implemented by RTPCom.</P>
<a name="ch14table04"></a><p><table cellspacing="0" class="allBorders" border="1" RULES="groups" cellpadding="5"><caption><h5 class="docTableTitle">Table 14-4. RTPCom Address Design</h5></caption><colgroup><col width="10"><col width="10"><col width="10"><col width="10"><col width="10"><col width="90"><col width="265"><col width="70"><col width="25"><col width="50"></colgroup><thead><tr><th class="rightBorder bottomBorder thead" scope="col" align="left" valign="bottom" colspan="7"><p class="docText">Admin Significance</p></th><th class="rightBorder bottomBorder thead" scope="col" align="left" valign="bottom"><p class="docText">Bits</p></th><th class="rightBorder bottomBorder thead" scope="col" align="left" valign="bottom"><p class="docText">Count</p></th><th class="bottomBorder thead" scope="col" align="left" valign="bottom"><p class="docText">Prefix</p></th></tr></thead><tr><td class="rightBorder bottomBorder" align="left" valign="top" colspan="7"><p class="docText">RTPCom</p></td><td class="rightBorder bottomBorder" align="left" valign="top"><p class="docText">124</p></TD><td class="rightBorder bottomBorder" align="left" valign="top">&nbsp;</td><td class="bottomBorder" align="left" valign="top"><p class="docText">2600:A000::/24</P></td></TR><TR><td class="bottomBorder" align="left" valign="top">&nbsp;</TD><td class="rightBorder bottomBorder" align="left" valign="top" colspan="6"><p class="docText">RTPComEast</p></TD><TD class="rightBorder bottomBorder" align="left" valign="top"><p class="docText">25</P></td><td class="rightBorder bottomBorder" align="left" valign="top"><p class="docText">1</p></TD><td class="bottomBorder" align="left" valign="top"><p class="docText">2600:A000::/25</p></TD></TR><tr><td class="docTableCell" align="left" valign="top">&nbsp;</td><td class="rightBorder" align="left" valign="top" colspan="6"><p class="docText">RTPComWest</P></td><td class="rightBorder bottomBorder" align="left" valign="top"><p class="docText">25</P></td><TD class="rightBorder bottomBorder" align="left" valign="top"><p class="docText">1</p></td><td class="bottomBorder" align="left" valign="top"><p class="docText">2600:A080::/25</p></td></tr><tr><td class="docTableCell" align="left" valign="top">&nbsp;</td><td class="docTableCell" align="left" valign="top">&nbsp;</td><td class="rightBorder" align="left" valign="top" colspan="5"><p class="docText">L1 POP ID East</p></td><td class="rightBorder bottomBorder" align="left" valign="top"><p class="docText">2628</P></td><td class="rightBorder bottomBorder" align="left" valign="top"><p class="docText">8</p></TD><td class="bottomBorder" align="left" valign="top"><p class="docText">2600:A010::/282600:A070::/28</P></TD></tr><TR><td class="bottomBorder" align="left" valign="top">&nbsp;</td><TD class="bottomBorder" align="left" valign="top">&nbsp;</TD><TD class="rightBorder bottomBorder" align="left" valign="top" colspan="5"><p class="docText">L1 POP ID West</p></td><td class="rightBorder bottomBorder" align="left" valign="top"><p class="docText">2628</P></td><td class="rightBorder bottomBorder" align="left" valign="top"><p class="docText">8</P></TD><td class="bottomBorder" align="left" valign="top"><p class="docText">2600:A090::/282600:A0F0::/28</p></td></tr><TR><td class="docTableCell" align="left" valign="top">&nbsp;</td><TD class="docTableCell" align="left" valign="top">&nbsp;</td><TD class="docTableCell" align="left" valign="top">&nbsp;</td><td class="rightBorder" align="left" valign="top" colspan="4"><p class="docText">L2 POP ID East</p></td><td class="rightBorder bottomBorder" align="left" valign="top"><p class="docText">2932</p></td><td class="rightBorder bottomBorder" align="left" valign="top"><p class="docText">16</p></td><td class="bottomBorder" align="left" valign="top"><p class="docText">2600:A01X::/32</p></td></tr><tr><TD class="docTableCell" align="left" valign="top">&nbsp;</td><td class="docTableCell" align="left" valign="top">&nbsp;</td><TD class="docTableCell" align="left" valign="top">&nbsp;</td><TD class="rightBorder" align="left" valign="top" colspan="4"><p class="docText">L2 POP ID West</P></td><TD class="rightBorder bottomBorder" align="left" valign="top"><p class="docText">2932</p></td><TD class="rightBorder bottomBorder" align="left" valign="top"><p class="docText">16</P></TD><td class="bottomBorder" align="left" valign="top"><p class="docText">2600:A09X::/32</p></td></TR><tr><td class="docTableCell" align="left" valign="top">&nbsp;</TD><TD class="docTableCell" align="left" valign="top">&nbsp;</td><td class="docTableCell" align="left" valign="top">&nbsp;</td><td class="docTableCell" align="left" valign="top">&nbsp;</TD><td class="rightBorder" align="left" valign="top" colspan="3"><p class="docText">L3 POP ID East</p></TD><td class="rightBorder bottomBorder" align="left" valign="top"><p class="docText">3338</P></td><td class="rightBorder bottomBorder" align="left" valign="top"><p class="docText">64</p></td><td class="bottomBorder" align="left" valign="top"><p class="docText">2600:A01X:Yy00::/38</p></td></tr><tr><td class="bottomBorder" align="left" valign="top">&nbsp;</td><td class="bottomBorder" align="left" valign="top">&nbsp;</td><td class="bottomBorder" align="left" valign="top">&nbsp;</td><TD class="bottomBorder" align="left" valign="top">&nbsp;</td><td class="rightBorder bottomBorder" align="left" valign="top" colspan="3"><p class="docText">L3 POP ID West</p></TD><td class="rightBorder bottomBorder" align="left" valign="top"><p class="docText">3338</P></TD><td class="rightBorder bottomBorder" align="left" valign="top"><p class="docText">64</P></td><td class="bottomBorder" align="left" valign="top"><p class="docText">2600:A09X:Yy00::/38</P></TD></TR><tr><td class="docTableCell" align="left" valign="top">&nbsp;</td><TD class="docTableCell" align="left" valign="top">&nbsp;</td><td class="docTableCell" align="left" valign="top">&nbsp;</TD><TD class="docTableCell" align="left" valign="top">&nbsp;</td><td class="docTableCell" align="left" valign="top">&nbsp;</td><td class="rightBorder" align="left" valign="top" colspan="2"><p class="docText">L3 POP Router ID East</P></td><td class="rightBorder bottomBorder" align="left" valign="top"><p class="docText">3944</P></td><TD class="rightBorder bottomBorder" align="left" valign="top"><p class="docText">64</p></td><td class="bottomBorder" align="left" valign="top"><p class="docText">2600:A01X:YyZ0::/44</p></td></tr><tr><td class="docTableCell" align="left" valign="top">&nbsp;</td><td class="docTableCell" align="left" valign="top">&nbsp;</td><td class="docTableCell" align="left" valign="top">&nbsp;</td><td class="docTableCell" align="left" valign="top">&nbsp;</td><TD class="docTableCell" align="left" valign="top">&nbsp;</td><td class="rightBorder" align="left" valign="top" colspan="2"><p class="docText">L3 POP Router ID West</p></TD><td class="rightBorder bottomBorder" align="left" valign="top"><p class="docText">3944</P></TD><td class="rightBorder bottomBorder" align="left" valign="top"><p class="docText">64</P></td><td class="bottomBorder" align="left" valign="top"><p class="docText">2600:A09X:YyZ0::/44</P></TD></TR><tr><td class="docTableCell" align="left" valign="top">&nbsp;</td><TD class="docTableCell" align="left" valign="top">&nbsp;</td><td class="docTableCell" align="left" valign="top">&nbsp;</TD><TD class="docTableCell" align="left" valign="top">&nbsp;</td><td class="docTableCell" align="left" valign="top">&nbsp;</td><td class="docTableCell" align="left" valign="top">&nbsp;</TD><td class="rightBorder" align="left" valign="top"><p class="docText">Customer Prefix East</p></TD><td class="rightBorder bottomBorder" align="left" valign="top"><p class="docText">4556</P></td><td class="rightBorder bottomBorder" align="left" valign="top"><p class="docText">4096</p></td><td class="bottomBorder" align="left" valign="top"><p class="docText">2600:A01X:YyZP:PP000::/56</p></td></tr><tr><td class="docTableCell" align="left" valign="top">&nbsp;</td><td class="docTableCell" align="left" valign="top">&nbsp;</td><td class="docTableCell" align="left" valign="top">&nbsp;</td><TD class="docTableCell" align="left" valign="top">&nbsp;</td><td class="docTableCell" align="left" valign="top">&nbsp;</td><TD class="docTableCell" align="left" valign="top">&nbsp;</td><TD class="rightBorder" align="left" valign="top"><p class="docText">Customer Prefix West</P></td><TD class="rightBorder" align="left" valign="top"><p class="docText">4556</p></td><TD class="rightBorder" align="left" valign="top"><p class="docText">4096</P></TD><td class="docTableCell" align="left" valign="top"><p class="docText">2600:A09X:YyZP:PP000::/56</p></td></TR></table></p><br>
<p class="docText">As an example, the prefixes used for the L1 POPs and their respective subdivisions are shown in <a class="docLink" href="#ch14table05">Table 14-5</a>.</P>
<a name="ch14table05"></a><P><table cellspacing="0" class="allBorders" border="1" RULES="all" cellpadding="4"><caption><h5 class="docTableTitle">Table 14-5. Prefix Distribution per L1 POPs</h5></caption><colgroup><col width="250"><col width="250"></colgroup><thead><tr><th class="thead" scope="col" align="left" valign="bottom"><p class="docText">L1 Name</p></th><th class="thead" scope="col" align="left" valign="bottom"><p class="docText">Prefix</P></th></tr></thead><tr><TD class="docTableCell" align="left" valign="top" colspan="2"><p class="docText">East</p></TD></tr><tr><td class="docTableCell" align="left" valign="top"><p class="docText">Atlanta</p></td><td class="docTableCell" align="left" valign="top"><p class="docText">2600:A010::/28</p></td></tr><tr><td class="docTableCell" align="left" valign="top"><p class="docText">New York</p></td><td class="docTableCell" align="left" valign="top"><p class="docText">2600:A020::/28</p></TD></tr><tr><td class="docTableCell" align="left" valign="top"><p class="docText">Miami</P></td><TD class="docTableCell" align="left" valign="top"><p class="docText">2600:A030::/28</P></td></TR><tr><td class="docTableCell" align="left" valign="top"><p class="docText">Chicago</P></TD><TD class="docTableCell" align="left" valign="top"><p class="docText">2600:A040::/28</p></td></tr><TR><td class="docTableCell" align="left" valign="top" colspan="2"><p class="docText">West</p></TD></TR><tr><td class="docTableCell" align="left" valign="top"><p class="docText">Houston</p></td><TD class="docTableCell" align="left" valign="top"><p class="docText">2600:A090::/28</p></td></TR><tr><TD class="docTableCell" align="left" valign="top"><p class="docText">Denver</p></td><td class="docTableCell" align="left" valign="top"><p class="docText">2600:A0A0::/28</p></td></tr><tr><td class="docTableCell" align="left" valign="top"><p class="docText">Seattle</p></td><td class="docTableCell" align="left" valign="top"><p class="docText">2600:A0B0::/28</p></td></tr><tr><TD class="docTableCell" align="left" valign="top"><p class="docText">San Francisco</p></td><td class="docTableCell" align="left" valign="top"><p class="docText">2600:A0C0::/28</P></td></TR></table></P><br>
<p class="docText"><a name="iddle1083"></a><a name="iddle1231"></a><a name="iddle2013"></a>The first prefix in both East (2600:A000::/28) and West (2600:A080::/28) ranges was reserved for infrastructure purposes. The 2600:A000::/28 prefix is used in the manner described in <a class="docLink" href="#ch14table06">Table 14-6</a>.</P>
<a name="ch14table06"></a><p><table cellspacing="0" class="allBorders" border="1" RULES="all" cellpadding="4"><caption><h5 class="docTableTitle">Table 14-6. RTPCom Infrastructure Addressing Scheme</H5></caption><colgroup><col width="150"><col width="100"><col width="250"></colgroup><thead><TR><th class="thead" scope="col" align="left" valign="bottom"><p class="docText">Use</P></th><th class="thead" scope="col" align="left" valign="bottom"><p class="docText">Bits</p></th><th class="thead" scope="col" align="left" valign="bottom"><p class="docText">Prefix</p></th></tr></thead><TR><td class="docTableCell" align="left" valign="top"><p class="docText">L1 POP Routers</p></TD><TD class="docTableCell" align="left" valign="top"><p class="docText">2932</p></td><td class="docTableCell" align="left" valign="top"><p class="docText">2600:A00(L1):0000:XX00::/56</p></TD></tr><tr><TD class="docTableCell" align="left" valign="top"><p class="docText">L2 POP Routers</p></TD><td class="docTableCell" align="left" valign="top"><p class="docText">3336</p></td><td class="docTableCell" align="left" valign="top"><p class="docText">2600:A00(L1):(L2)000:XX00::/56</p></td></tr><tr><td class="docTableCell" align="left" valign="top"><p class="docText">L3 POP Routers</p></td><td class="docTableCell" align="left" valign="top"><p class="docText">3744</p></td><td class="docTableCell" align="left" valign="top"><p class="docText">2600:A00(L1):(L2)(L3)(L3)0:XX00::/56</P></td></tr></table></p><BR>
<p class="docText">The 2600:A080::/28 is reserved for further growth needs. These prefixes will be protected against outside reach.</p>

<a name="ch14lev2sec5"></a>
<H4 class="docSection2Title">Unicast Connectivity</H4>
<p class="docText">Unicast connectivity between customers and between customers and the ISP provides the underlying service upon which all other services are built.</p>
<p class="docText">As it was mentioned earlier, RTPCom decided to deploy IPv6 in dual-stack mode, unlike the PPP/L2TP-based model used for the IPv4 service. RTPCom will switch the customer IPv6 traffic at layer 3 throughout its network, as depicted in <a class="docLink" href="ch14lev1sec2.html#ch14fig08">Figure 14-8</a>.</P>
<p class="docText">Router naming conventions in RTPCom's network are as follows:</p>
<ul><LI><p class="docList">Router_Name = (L1 name)-(L2 number)-(L3 number)-(POP router).</P></LI><li><p class="docList">For routers within an L2 POP the (L3 number) field is 0.</p></li><LI><p class="docList">For routers within and L1 POP the (L2 number) and (L3 number) fields are 0.</p></li><LI><p class="docList">Routers in the data center are marked with D in the (L2 number) field.</P></li></ul>
<p class="docText">The routers that are used in the following sections to exemplify the implementation of the design concepts are identified based on the naming convention in <a class="docLink" href="#ch14fig09">Figure 14-9</a>.</p>
<a name="ch14fig09"></a><p><center>
<H5 class="docFigureTitle">Figure 14-9. Example of Router-Naming Convention Within the New York L1 POP</h5>

<p class="docText">
<img border="0" alt="" width="500" height="667" SRC="images/14fig09.jpg"></p>

</center></P><br>
<p class="docText">RTPCom's addressing scheme presented earlier provides the prefixes relevant to the routers identified in <a class="docLink" href="#ch14fig09">Figure 14-9</a>:</P>
<ul><li><p class="docList">L1 = New York (2600:A020::/28)</p></li><li><p class="docList">L2 = 10 (2600:A02A::/32)</p></li><li><p class="docList">L3 = 12 (2600:A02A:3000::/38)</p></li><li><p class="docList">L3 POP Router = 16 (2600:A02A:30F0::/44)</p></li><li><p class="docList">L3 POP Router 16 subscriber (/64) = 10 (2600:A02A:30F0:0A01::/64)</p></LI><li><p class="docList">L3 POP Router 16 subscriber (/56) = 100 (2600:A02A:30F0:6400::/56)</p></li></UL>
<p class="docText"><a name="iddle1033"></a>These prefixes are used for service purposes, while the 2600:A002:A::/36 prefix range is used for infrastructure purposes.</p>
<p class="docText">From a routing perspective, the IPv6 deployment matches the IPv4 for the most part. The same routing protocols are operating in the same areas of the network. There is, however, a significant difference in that the IPv4 infrastructure is not aware of prefixes outside of it. RTPCom provides virtual pipes between the ISPs and the customers over its self-contained infrastructure. RTPCom's network is aware of the customer's IPv6 traffic, so it will have to carry prefixes used for the services provided by the content or Internet service providers.</P>
<a name="ch14lev3sec11"></a>
<H5 class="docSection3Title">Access</h5>
<p class="docText">At the access layer, it is important to note that the same virtual links (VLANs for FTTH and PVCs for ADSL) used to provide IPv4 address are used to provide IPv6 access, too. For IPv4 the access router merely bridges the customer initiated PPPoE sessions into an L2TP tunnel, although for IPv6, the access router represents the layer 3 gateway for the customer. Implementing this hybrid access model is straight forward on the FTTH interfaces. On the ATM interfaces, the access router has to know to bridge the IPv4 traffic and to route the IPv6. The IPv6 RBE feature will be used for this purpose.</P>
<p class="docText">RTPCom is in this case responsible for provisioning the customer and it decided to use the following two mechanisms:</p>
<ul><LI><p class="docList">For single-network customers, provide a /64 prefix through Router Advertisements. The user is instructed to obtain the other provisioning parameters via stateless DHCP (resources being provided by RTPCom). The stateful DHCPv6 option was not selected because it is not implemented in most host stacks.</P></LI><li><p class="docList">Customers that manage multiple networks on their site through a CPE router are provided a /56 prefix via DHCP-PD based on the DUID of their CPE router (see <a class="docLink" href="ch03.html#ch03">Chapter 3</a>). On the link between the access router and the CPE, no prefix is assigned.</p></li></UL>
<a name="ch14note04"></a><div class="docNote"><p class="docNoteTitle">Note</p>

<p class="docText">RTPCom considered a PPP-based solution at the access layer where PPPoE sessions initiated by the customer would be terminated by the access router and the traffic IP switched through the rest of the network. The advantage of this approach is that it allows RTPCom to leverage PPP for authenticating and authorizing the customer with the help of a RADIUS server. This would simplify provisioning by centralizing it in the RADIUS server. RTPCom decided, however, to keep the deployment simple and avoid the additional encapsulation even if that might imply more involved provisioning.</p>
</div><BR>
<p class="docText">Router NY-10-12-16 in <a class="docLink" href="#ch14fig09">Figure 14-9</a> provides ADSL access and has the relevant configuration shown in <a class="docLink" href="#ch14ex01">Example 14-1</a>.</P>
<a name="ch14ex01"></a><h5 class="docExampleTitle">Example 14-1. ADSL Access Router Configuration</h5><p><table cellspacing="0" width="90%" border="1" cellpadding="5"><tr><TD>


<pre>hostname NY-10-12-16
!
ipv6 unicast-routing
ipv6 cef
<span class="docEmphMark">ipv6 dhcp pool DHCP-Customers</span>
 <span class="docEmphMark">prefix-delegation 2600:A02A:30F0:6400::/56 00030001000BBFAA7400</span>
 <span class="docEmphMark">dns-server 2600:A002::1/64</span>
 <span class="docEmphMark">domain-name RTPCom.com</span>
!
interface ATM1/0
 no ip address
 load-interval 30
 atm pvp 0 70000
 atm pvp 1 70000
 no atm ilmi-keepalive
!
<span class="docEmphMark">interface ATM1/0.10 point-to-point</span>
 <span class="docEmphMark">atm route-bridged ipv6</span>
pvc 0/42
  encapsulation aal5snap
  protocol pppoe
 !
 <span class="docEmphMark">ipv6 address 2600:A02A:30F0:A01::1/64</span>
 ipv6 enable
 <span class="docEmphMark">ipv6 nd other-config-flag</span>
!
<span class="docEmphMark">interface ATM1/0.100 point-to-point</span>
 <span class="docEmphMark">atm route-bridged ipv6</span>
 pvc 0/132
  encapsulation aal5snap
 !
 <span class="docEmphMark">ipv6 dhcp server DHCP-Customers</span>
 ipv6 enable
 <span class="docEmphMark">ipv6 nd other-config-flag</span>
!</pre><br>

</td></TR></table></p>
<a name="ch14note05"></a><div class="docNote"><p class="docNoteTitle">Note</P>

<p class="docText">The DUID of subscriber 100 CPE is 00030001000BBFAA7400 and 2600:A002::1/64 is the address of the DNS server in the New York L1 POP.</p>
</div><br>
<p class="docText"><a name="iddle1024"></a><a name="iddle1309"></a><a name="iddle1643"></a>No routing protocol is running between the access router and the CPE while OSPFv3 is running between the L3 POP routers. The following three points have to be considered:</p>
<ul><li><p class="docList">For the single-network customers, the assigned /64 prefix is directly connected, so directly connected prefixes have to be redistributed.</p></li><li><p class="docList">For the multiple-network customers, a static route is installed by the access router for each /56 prefix assigned. These static routes have to be redistributed into OSPFv3.</p></li><li><p class="docList">Summarize prefixes up to the range assigned for this L3 POP router (2600:A02A:30F0::/44) to minimize the size of the routing tables.</p></li></ul>
<p class="docText">The relevant configuration that meets these constraints is shown in <a class="docLink" href="#ch14ex02">Example 14-2</a>.</p>
<a name="ch14ex02"></a><H5 class="docExampleTitle">Example 14-2. Access Router OSPFv3 Configuration</h5><p><table cellspacing="0" width="90%" border="1" cellpadding="5"><tr><TD>


<pre>interface GigabitEthernet6/1
 no ip address
 ipv6 address 2600:A002:A0C0:F001::2/64
 ipv6 enable
 <span class="docEmphMark">ipv6 ospf 100 area 10</span>
!
interface GigabitEthernet6/2
 no ip address
 ipv6 address 2600:A002:A0C0:F002::2/64
 ipv6 enable
 <span class="docEmphMark">ipv6 ospf 100 area 10</span>
!
ipv6 router ospf 100
 router-id 2.10.12.16
 log-adjacency-changes
 <span class="docEmphMark">summary-prefix 2600:A02A:30F0::/44</span>
 <span class="docEmphMark">redistribute connected</span>
 <span class="docEmphMark">redistribute static</span></pre><br>

</TD></TR></table></p>
<p class="docText">Interfaces GigabitEthernet6/1 and 6/2 link the access router NY-10-12-16 to the routers that connect this L3 POP to its L2 upstream POP.</P>

<a name="ch14lev3sec12"></a>
<h5 class="docSection3Title">Edge and Core</h5>
<p class="docText">The L2 POPs aggregate the L3 POPs and they do not run any specific features other than OSPFv3 and iBGP. One of the two L2 POP routers that interface with the New York L1 POP is named NY-10-0-1; the other is NY-10-0-2. The relevant routing points in this case are as follows:</P>
<UL><LI><p class="docList">Routers NY-10-0-1 and NY-10-0-2 should be set with higher priority to be elected DR and BDR in that respective order.</p></li><li><p class="docList">The OSPFv3 prefixes should be redistributed into iBGP.</P></li><li><p class="docList">The iBGP prefixes should be redistributed into OSPFv3.</P></LI><li><p class="docList">A loop avoidance mechanism should be implemented for the redistribution between OSPFv3 and iBGP because of the redundancy in the design.</p></li><li><p class="docList">OSPFv3 should summarize the prefixes to the L2 POP boundary (2600:A02A::/32).</P></li></ul>
<p class="docText">Router NY-10-0-1's IPv6 relevant configuration is shown in <a class="docLink" href="#ch14ex03">Example 14-3</a>.</P>
<a name="ch14ex03"></a><h5 class="docExampleTitle">Example 14-3. L2 POP Router NY-10-0-1 Configuration</H5><p><table cellspacing="0" width="90%" border="1" cellpadding="5"><tr><td>


<pre>hostname NY-10-0-1
!
ipv6 unicast-routing
ipv6 cef
!
interface SRP1/1
 no ip directed-broadcast
 ipv6 address 2600:A002:A000:1::1/64
 ipv6 enable
 <span class="docEmphMark">ipv6 ospf priority 3</span>
 <span class="docEmphMark">ipv6 ospf 100 area 0</span>
 srp clock-source line a
 srp clock-source line b
 no clns route-cache
!
interface TenGigabitEthernet9/1
 no ip address
 ipv6 address 2600:A002:A000:1100::2/64
 ipv6 enable
!
interface TenGigabitEthernet9/2
 no ip address
 ipv6 address 2600:A002:A000:1200::2/64
 ipv6 enable
!
router bgp 1600
 bgp router-id 2.10.0.1
 no bgp default ipv4-unicast
 bgp log-neighbor-changes
 <span class="docEmphMark">neighbor 2600:A002:A000:1100::1 remote-as 1600</span>
 neighbor 2600:A002:A000:1100::1 update-source TenGigabitEthernet9/1
 <span class="docEmphMark">neighbor 2600:A002:A000:1200::1 remote-as 1600</span>
 neighbor 2600:A002:A000:1200::1 update-source TenGigabitEthernet9/2
 !
 address-family ipv6
 neighbor 2600:A002:A000:1100::1 activate
 neighbor 2600:A002:A000:1200::1 activate
 no synchronization
 <span class="docEmphMark">redistribute ospf 100 match external 2 route-map OSPF-to-BGP</span>
 exit-address-family
!
<span class="docEmphMark">ipv6 router ospf 100</span>
 router-id 2.10.0.1
 log-adjacency-changes
 <span class="docEmphMark">summary-prefix 2600:A02A::/32</span>
 <span class="docEmphMark">redistribute bgp 1600 tag 1600</span>
!
!
<span class="docEmphMark">route-map OSPF-to-BGP deny 10</span>
 <span class="docEmphMark">match tag 100</span>
!
<span class="docEmphMark">route-map OSPF-to-BGP permit 20</span>
!</pre><br>

</td></tr></table></p>
<p class="docText">The TenGigabitEthernet9/1 and 9/2 interfaces provide the uplink to L1 POP, while the SRP1/1 interface provides the link to the rest of the routers in its L2 POP.</p>
<p class="docText">IPv6 prefixes redistributed from iBGP into OSPFv3 are marked with tag 100. When NY-10-0-1 is redistributing the external type 2 prefixes from OSPFv3 into iBGP, the prefixes with tag 100 are dropped. This avoids the loop created by the redistribution between the two routing protocols.</p>
<p class="docText">It is interesting to observe that even though NY-10-0-1 already peers with the L1 POP routers over IPv4, RTPCom decided to enable separate peering over IPv6. Another option would have been to simply add the IPv6 address family to the BGP processes and activate the IPv4 neighbors. Despite its apparent redundancy, RTPCom opted for the approach described in <a class="docLink" href="#ch14ex03">Example 14-3</a> for two reasons:</p>
<ul><li><p class="docList">Limit the impact of one protocol on the other. Terminating the IPv4 peer TCP session will not affect IPv6. Bringing it up would not lead to possible contention between the two protocols.</p></li><li><p class="docList">Allow for the possibility that the IPv4 and IPv6 topologies are not congruent.</P></li></ul>
<p class="docText">RTPCom assumes a certain level of risk because it uses the same routers as IPv4 and IPv6 route reflectors (RRs). The risk is further enhanced because in this design, the RRs are in the forwarding path (a risk assumed for IPv4, as well). Based on its operational experience with the current infrastructure, RTPCom is comfortable with this design. It is also studying the option of deploying dedicated RRs in each L1 POP. Considering the redundancy in the RR design, a migration to this alternate design would not imply a downtime for RTPCom's network.</p>
<p class="docText">The L1 routers are running OSPFv3 in area 0 for IGP. At the same time, the L1 routers that provide access to the core for the L1 POP data centers and for the L2 POPs are all part of the iBGP infrastructure shown in <a class="docLink" href="#ch14fig10">Figure 14-10</a>.</P>
<a name="ch14fig10"></a><p><center>
<H5 class="docFigureTitle">Figure 14-10. RTPCom Backbone iBGP Design</H5>
<p class="docText"><div class="v1"><a target="_self" href="images/14fig10_alt.jpg">[View full size image]</a></div><img border="0" alt="" width="500" height="568" SRC="images/14fig10.jpg"></p>
</center></P><br>
<p class="docText">The L1 routers providing access for the L1 POP data centers and for the L2 POPs are also acting as route reflectors for the IPv6 service. They in turn peer with the two pairs of second-level Top-RRs in L1-Denver and L1-Atlanta. This hierarchical RR design provides scalability for RTPCom's network core. The prefixes in the core of the network that are handled by OSPFv3 are redistributed into BGP but not the other way around. Under this design, the relevant configuration elements for NY-0-0-1 are shown in <a class="docLink" href="#ch14ex04">Example 14-4</a>.</p>
<a name="ch14ex04"></a><H5 class="docExampleTitle">Example 14-4. IPv6 Routing Configuration of NY-0-0-1</H5><P><table cellspacing="0" width="90%" border="1" cellpadding="5"><tr><td>


<pre>interface TenGigabitEthernet9/1
 no ip address
 ipv6 address 2600:A002:A000:1100::1/64
 ipv6 enable
!
interface TenGigabitEthernet9/2
 no ip address
 ipv6 address 2600:A002:A000:1200::1/64
 ipv6 enable
!
router bgp 1600
 bgp router-id 2.10.0.1
 no bgp default ipv4-unicast
 bgp log-neighbor-changes
 neighbor 2600:A002:A000:1100::2  remote-as 1600
 neighbor 2600:A002:A000:1100::2 update-source TenGigabitEthernet9/1
 neighbor 2600:A002:A000:1200::2 remote-as 1600
 neighbor 2600:A002:A000:1200::2 update-source TenGigabitEthernet9/2
 neighbor 2600:A001:0:F000::2 remote-as 1600
 neighbor 2600:A001:0:F000::2 update-source Loopback0
 neighbor 2600:A00A:0:F000::2 remote-as 1600
 neighbor 2600:A00A:0:F000::2 update-source Loopback0
 !
 address-family ipv6
 neighbor 2600:A002:A000:1100::2 activate
 <span class="docEmphMark">neighbor 2600:A002:A000:1100::2 route-reflector-client</span>
 neighbor 2600:A002:A000:1200::2 activate
 <span class="docEmphMark">neighbor 2600:A002:A000:1200::2 route-reflector-client</span>
 <span class="docEmphMark">neighbor 2600:A001:0:F000::2 activate</span>
 <span class="docEmphMark">neighbor 2600:A00A:0:F000::2 activate</span>
 no synchronization
 <span class="docEmphMark">redistribute ospf 100 match external</span> 2
 exit-address-family
!</pre><br>

</TD></tr></table></p>
<p class="docText">The address of the Top-RRs are 2600:A001:0:F000::2 (Atlanta) 2600:A00A:0:F000::2 (Denver).</P>
<p class="docText">The Top-RRs shown in <a class="docLink" href="#ch14fig10">Figure 14-10</a> are dedicated to the IPv6 deployment and were installed in L1-Denver and L1-Atlanta POPs in addition to the existent IPv4 RRs. RTPCom considers the investment in the additional equipment worthwhile for the benefit of further minimizing the interaction between the IPv4 and IPv6 services.</P>
<p class="docText">With the above configuration in place, RTPCom established unicast connectivity between its customers and some services, such as DNS and content hosting/storage, which can already operate. On the other hand, considering the new architecture used for IPv6, RTPCom has the responsibility to control user access based on its subscription. With the basic IPv6 unicast service, the user can reach other RTPCom customers but should not <a name="iddle1242"></a><a name="iddle1799"></a><a name="iddle1923"></a><a name="iddle2018"></a>have access to the Internet. To enforce this policy, RTPCom applies an IPv6 filter on the subscriber line at the access layer, as shown in <a class="docLink" href="#ch14ex05">Example 14-5</a>.</p>
<a name="ch14ex05"></a><h5 class="docExampleTitle">Example 14-5. User Access Control Configuration</h5><p><table cellspacing="0" width="90%" border="1" cellpadding="5"><TR><td>


<pre><span class="docEmphMark">interface ATM1/0.10 point-to-point</span>
 atm route-bridged ipv6
 pvc 0/42
  encapsulation aal5snap
  protocol pppoe
 !
 ipv6 address 2600:A02A:30F0:A01::1/64
 ipv6 enable
 <span class="docEmphMark">ipv6 traffic-filter Basic-Access in</span>
 ipv6 nd other-config-flag
!
<span class="docEmphMark">ipv6 access-list Basic-Access</span>
 <span class="docEmphMark">deny ipv6 any 2600:A000::/28</span>
 <span class="docEmphMark">deny ipv6 any 2600:A080::/28</span>
 <span class="docEmphMark">permit ipv6 any 2600:A000:/24</span></pre><br>

</TD></tr></table></P>
<p class="docText">Access list Basic-Access blocks access to the infrastructure address space (2600:A000::/28 and 2600:A080::/28), and allows access to the other RTPCom customers but not beyond that. This filter is modified based on the services paid for by the user.</p>

<a name="ch14lev3sec13"></a>
<h5 class="docSection3Title">Service Rollout Plan</h5>
<p class="docText">To safeguard the stability of its network, RTPCom intends to enable it for IPv6 unicast connectivity in phases. In the first phase, it will enable IPv6 in the backbone. In the subsequent phases, it will move toward the access layer based on customer demands. RTPCom's deployment will precede demand in the major metropolitan areas where the service will be aggressively advertised. The service rollout steps are summarized in <a class="docLink" href="#ch14table07">Table 14-7</a>.</p>
<a name="ch14table07"></a><p><table cellspacing="0" class="allBorders" border="1" RULES="all" cellpadding="4"><caption><h5 class="docTableTitle">Table 14-7. Unicast Connectivity Service Rollout Checklist</h5></caption><colgroup><col width="20"><col width="370"><col width="160"></colgroup><thead><tr><th class="thead" scope="col" align="left" valign="top">&nbsp;</th><th class="thead" scope="col" align="left" valign="bottom"><p class="docText">RTPCom Task</p></th><th class="thead" scope="col" align="left" valign="bottom"><p class="docText">Customer Task</p></th></tr></thead><tr><td class="docTableCell" align="left" valign="top"><p class="docText">1</p></td><TD class="docTableCell" align="left" valign="top"><p class="docText">Enable IPv6 throughout the backbone and the L1 POPs:</p>
<p class="docText">Install the IPv6 dedicated TOP-RRs in L1-Denver and L1-Atlanta.</p>
<p class="docText">Configure links for dual stack.</p>
<p class="docText">Enable OSPFv3.</P>
<p class="docText">Configure the iBGP peering between the L1 POP routers and the TOP-RRs.</p></TD><TD class="docTableCell" align="left" valign="top">&nbsp;</td></TR><tr><td class="docTableCell" align="left" valign="top"><p class="docText"><a name="iddle1202"></a><a name="iddle1233"></a><a name="iddle1237"></a><a name="iddle1278"></a>2</P></TD><TD class="docTableCell" align="left" valign="top"><p class="docText">Enable IPv6 in the L2 POPs in the major metropolitan areas:</p>
<p class="docText">Configure links for dual stack.</p>
<p class="docText">Enable OSPFv3.</p>
<p class="docText">Configure the iBGP peering between the L1 POP routers and the L2 POP routers.</P>
<p class="docText">Enable IPv6 in the access layer of the L2 POPs in the major metropolitan areas:</p>
<p class="docText">Configure links for dual stack.</p>
<p class="docText">Enable OSPFv3.</P>
<p class="docText">Configure the Basic-Access ACL on the access routers.</P>
<p class="docText">Configure the DNS relevant information.</p>
</td><td class="docTableCell" align="left" valign="top">&nbsp;</td></TR><tr><td class="docTableCell" align="left" valign="top">&nbsp;</TD><td class="docTableCell" align="left" valign="top">&nbsp;</TD><td class="docTableCell" align="left" valign="top"><p class="docText">Customer requests basic-access service.</p></td></tr><tr><td class="docTableCell" align="left" valign="top"><p class="docText">3</p></td><td class="docTableCell" align="left" valign="top"><p class="docText">Provision the customer access link:</p>
<p class="docText">Enable the virtual circuit for IPv6.</p>
<p class="docText">For a /64 service configure the IPv6 prefix assigned.</p>
<p class="docText">For a /56 service request the customer DUID, configure the pool entry and enable DHCP-PD on the virtual circuit (PVC or VLAN).</p>
<p class="docText">Configure the service control ACL Basic-Access.</p></td><TD class="docTableCell" align="left" valign="top"><p class="docText">The customer is provided with the prefixes that will be assigned to him. If a CPE is used, configure it as a DHCPPD client. This might be the responsibility of RTPCom if it manages the CPE.</p></td></tr></table></P><br>
<p class="docText">Steps 2 and 3 can be repeated for other L2 and L3 POPs based on customer demand for service. By the time the customer is provided access, the DNS and content resources are already installed in the data centers.</P>


<a name="ch14lev2sec6"></a>
<H4 class="docSection2Title">DNS and Content Hosting/Storage</h4>
<p class="docText">The DNS and content hosting/storage resources are installed in the data center of the L1 POPs. The unicast service enables the IPv6 customers to reach these resources and take advantage of these two services. The DNS server addresses are provided to users via DHCP. The addresses for the content hosting/storage servers are available on RTPCom's service web pages where subscribers are provided with all the information necessary to use these services.</P>

<a name="ch14lev2sec7"></a>
<h4 class="docSection2Title">Internet Access</h4>
<p class="docText"><a name="iddle1238"></a>To provide its customer with Internet access service, RTPCom partnered with USInternet, an ISP similar to EuropCom described in <a class="docLink" href="ch13.html#ch13">Chapter 13</a>. USInternet will provide IPv6 Internet access in addition to its existent IPv4 Internet access offering. It also packages e-mail services together with the Internet access subscription.</P>
<p class="docText">Like the other ISPs that provide IPv4 Internet access services to RTPCom's customers, USInternet has two routers collocated with RTPCom's edge routers in the data centers of the L1 POPs. These two routers aggregate the LNS routers that are dedicated to USInternet. Open Shortest Path First (OSPF) is used for routing purposes between the LNS, RTPCom edge and ISP edge routers. An interior gateway protocol (IGP) is seen as a simpler solution than the use of eBGP mainly because RTPCom does not need to use its global addresses and its autonomous system for the service. RTPCom can be viewed as merely a virtual access layer for the ISPs it partners with.</P>
<p class="docText">In the IPv6 service design, RTPCom plays a more involved role. It now routes the customer traffic throughout its network, it is responsible for providing addresses to customers and have them globally routed under its own autonomous system number. In this case, the use of just and IGP is not feasible. For this reason USInternet peers with the RTPCom at its L1 POPs through eBGP and the following constraints shape the configuration of NY-D-0-3:</P>
<ul><li><p class="docList">RTPCom's autonomous system number is 1600.</p></LI><li><p class="docList">It peers with USInternet and also with the routers that provide the data center with access to the core.</p></LI><LI><p class="docList">Dampening is used to minimize external impact on RTPCom's network.</p></li><li><p class="docList">The infrastructure prefixes are not advertised outside RTPCom's network.</p></LI></ul>
<p class="docText">The implementation of these constraints is shown in the configuration <a class="docLink" href="#ch14ex06">Example 14-6</a>.</p>
<a name="ch14ex06"></a><H5 class="docExampleTitle">Example 14-6. IPv6 eBGP Configuration of Router NY-D-0-3</h5><P><table cellspacing="0" width="90%" border="1" cellpadding="5"><tr><td>


<pre>router bgp 1600
 bgp router-id 2.0.255.1
 no bgp default ipv4-unicast
 bgp log-neighbor-changes
 <span class="docEmphMark">neighbor 2600:A002:D0:1100::1 remote-as 1600</span>
 neighbor 2600:A002:D0:1100::1 update-source TenGigabitEthernet1/1
 <span class="docEmphMark">neighbor 2600:A002:D0:2100::1 remote-as 1600</span>
 neighbor 2600:A002:D0:2100::1 update-source TenGigabitEthernet1/2
 <span class="docEmphMark">neighbor FE80::200:FF:FE01:F remote-as 500</span>
 neighbor FE80::200:FF:FE01:F update-source GigabitEthernet2/1
 !
 address-family ipv6
 neighbor 2600:A002:D0:1100::1 activate
 neighbor 2600:A002:D0:2100::1 activate
 neighbor FE80::200:FF:FE01:F activate
 <span class="docEmphMark">neighbor FE80::200:FF:FE01:F route-map Block-Infra out</span>
 <span class="docEmphMark">bgp dampening 15 750 3000 60</span>
 no synchronization
 exit-address-family
!
<span class="docEmphMark">ipv6 prefix-list Infra seq 5 permit 2600:A000::/28</span>
<span class="docEmphMark">ipv6 prefix-list Infra seq 10 permit 2600:A080::/28</span>
!
route-map <span class="docEmphMark">Block-Infra</span> deny 10
 <span class="docEmphMark">match ipv6 address prefix-list Infra</span>
!
route-map <span class="docEmphMark">Block-Infra</span> permit 20
!</pre><br>

</td></tr></table></p>
<p class="docText">The addresses of the data center RRs are 2600:A002:D0:1100::1 and 2600:A002: D0:2100::1. USInternet's autonomous system number is 500. The eBGP peering is done through the link-local addresses on the link between RTPCom and the USInternet. Route map Block-Infra is used to stop the infrastructure prefixes 2600:A000::/28 and 2600:A080::/28 from being advertised outside RTPCom's network.</p>
<a name="ch14note06"></a><div class="docNote"><p class="docNoteTitle">Note</p>

<p class="docText">The configuration shows the fact that the eBGP peering is done through link-local addresses. <a class="docLink" href="ch02.html#ch02">Chapter 2</a>, &quot;An IPv6 Refresher,&quot; describes the benefits of using this option. The important thing is to have a set of rules that make the link-local addresses of the peer deterministic. The details of how the link-local addresses are being assigned will not be discussed here because they were presented in a similar example in <a class="docLink" href="ch13.html#ch13">Chapter 13</a>.</p>
</div><br>
<p class="docText">These changes made on the ISP-facing routers open RTPCom's network to the wider IPv6 Internet. All of its customers could in principle access the Internet once they have IPv6 access to the RTPCom network. However, the service is controlled with the help of access lists. When a user decides to add Internet access to his service subscription, the access list applied to its access line is changed from Basic-Access to Internet-Access:</p>
<div class="docText"><pre>ipv6 access-list Internet-Access
 <span class="docEmphMark">deny ipv6 any 2600:A000::/28</span>
 <span class="docEmphMark">deny ipv6 any 2600:A080::/28</span>
 <span class="docEmphMark">permit ipv6 any any</span></pre></div><br>
<p class="docText">In the first phase of the IPv6 deployment, the services offered are contained within RTPCom's network or within a data center on USInternet's premises (e-mail services, for example). This way the services are easier to manage, and the corresponding business model is not complex. The Internet access service is turned on in a subsequent phase of the deployment when interest for it becomes relevant.</p>
<p class="docText"><a name="iddle1200"></a><a name="iddle1232"></a><a name="iddle1921"></a>The Internet access service rollout steps are summarized in <a class="docLink" href="#ch14table08">Table 14-8</a>. Basic connectivity is assumed to add Internet access.</p>
<a name="ch14table08"></a><p><table cellspacing="0" class="allBorders" border="1" RULES="all" cellpadding="4"><caption><H5 class="docTableTitle">Table 14-8. Internet Access Service Rollout Checklist</h5></caption><colgroup><col width="25"><col width="275"><col width="200"></colgroup><thead><tr><th class="thead" scope="col" align="left" valign="top">&nbsp;</th><th class="thead" scope="col" align="left" valign="bottom"><p class="docText">RTPCom Task</p></th><th class="thead" scope="col" align="left" valign="bottom"><p class="docText">Customer Task</P></th></tr></thead><TR><TD class="docTableCell" align="left" valign="top"><p class="docText">1</p></TD><td class="docTableCell" align="left" valign="top"><p class="docText">Enable connectivity to the ISP:</p>
<p class="docText">Configure the IPv6 eBGP peering to the ISP in the L1 POP data centers.</P>
<p class="docText">Configure the Internet-Access ACL on the access routers.</P></TD><td class="docTableCell" align="left" valign="top">&nbsp;</td></tr><TR><td class="docTableCell" align="left" valign="top">&nbsp;</td><TD class="docTableCell" align="left" valign="top">&nbsp;</TD><td class="docTableCell" align="left" valign="top"><p class="docText">Customer requests Internet access service.</p></td></tr><TR><td class="docTableCell" align="left" valign="top"><p class="docText">2</p></TD><td class="docTableCell" align="left" valign="top"><p class="docText">Provision the customer access link:</P>
<p class="docText">Provide basic connectivity if not available.</p>
<p class="docText">Replace the service control ACL Basic-Access with the Internet-Access one.</p></td><td class="docTableCell" align="left" valign="top">&nbsp;</td></tr></table></p><br>


<a href="22971536.html"><img src="images/pixel.jpg" alt="" width="1" height="1" border="0"></a></TD></TR></table>
<br>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr><td><div STYLE="MARGIN-LEFT: 0.15in;">
<a href=ch14lev1sec2.html><img src="images/prev.gif" width="60" height="17" border="0" align="absmiddle" alt="Previous Page"></a>
<td align="right"><div STYLE="MARGIN-LEFT: 0.15in;">
<a href=ch14lev1sec4.html><img src="images/next.gif" width="60" height="17" border="0" align="absmiddle" alt="Next Page"></a>
</div></td></tr></table>
</body></html>