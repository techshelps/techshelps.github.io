<html>
<META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<head>
<title>Unicast Connectivity</title>
<link rel="STYLESHEET" type="text/css" href="images/style.css">
<link rel="STYLESHEET" type="text/css" href="images/docsafari.css">
</head>
<body>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr><td><div STYLE="MARGIN-LEFT: 0.15in;">
<a href=ch01.html><img src="images/prev.gif" width="60" height="17" border="0" align="absmiddle" alt="Previous Page"></a>
<td align="right"><div STYLE="MARGIN-LEFT: 0.15in;">
<a href=ch01lev1sec2.html><img src="images/next.gif" width="60" height="17" border="0" align="absmiddle" alt="Next Page"></a>
</div></td></tr></table>
<br><table width="100%" border="0" cellspacing="0" cellpadding="0"><TR><TD valign="top"><a name="ch01lev1sec1"></a>
<H3 class="docSection1Title">Unicast Connectivity</h3>
<p class="docText"><a name="iddle1068"></a><a name="iddle1073"></a><a name="iddle1192"></a><a name="iddle1454"></a><a name="iddle2002"></a><a name="iddle2007"></a>The delivery of IP services relies on an infrastructure that provides unicast connectivity between IP hosts. The foundation of such an infrastructure consists of three elements: addressing, routing, and forwarding.</p>
<p class="docText">IP addresses represent a finite resource used in identifying hosts within private or global networks. The structure and allocation mechanisms of IP addresses are relevant in designing, deploying, and operating IP networks. A review of this topic is compelling; especially under the circumstances of a depleting IPv4 address space. After all, at the time of this writing, addressing is one of the main reasons for deploying IPv6.</p>
<p class="docText">Routing and forwarding provide the mechanisms to move traffic between IP hosts. Whereas forwarding's dependency on IP version is relatively straightforward, routing has multiple dependencies on addressing. For this reason, it is important to see whether any of the IPv4 routing challenges were resolved in IPv6.</p>
<a name="ch01lev2sec1"></a>
<h4 class="docSection2Title">Addressing</h4>
<p class="docText">IP addressing is a vast topic that influences most of the protocol layers and most of the services. It also represents a critical resource. This section briefly discusses address architecture and address allocation. For a complete and detailed presentation, the following books are helpful references:</p>
<ul><li><p class="docList"><span class="docEmphasis">IP Routing Fundamentals</span> by Mark A. Sportack</p></li><li><p class="docList"><span class="docEmphasis">Internet Routing Architectures</span> by Sam Halabi and Danny McPherson</P></li><li><p class="docList"><span class="docEmphasis">Routing in the Internet</span> by Christian Huitema</P></LI></ul>
<a name="ch01lev3sec1"></a>
<h5 class="docSection3Title">IPv4 Address Architecture</h5>
<p class="docText">A little bit of history is necessary to understand the debate around the IPv4 address space depletion. An address is used to uniquely identify hosts within the network. Even in a flat nonhierarchical simple world, some minimum requirements on the address structure enable network elements to operate efficiently. In IPv4, the address has a fixed size of 32 bits. That would allow <span class="docEmphasis">in theory</span> up to 2<sup>32</sup> addresses or somewhere around four billion. It is important to note that at the time of its specification, these four billion possible addresses appeared to be more than adequate for years if not centuries to come. As soon as early 1990s, however, the Internet community had to introduce a number of changes in the address architecture and the address-allocation scheme to accommodate growing address needs. IPv6, which is based on 128-bit-long addresses, appears to be safe for centuries to come, but who says that history cannot repeat itself?</p>
<p class="docText"><a name="iddle1176"></a><a name="iddle1183"></a><a name="iddle1633"></a><a name="iddle2043"></a>A considerable waste of IPv4 addresses was generated by two factors:</P>
<ul><li><p class="docList">The unwise allocation of classful addresses; often entities with just a little over 255 hosts asked for a Class B, capable of accommodating 65,000 hosts.</p></li><LI><p class="docList">Users were not challenged to justify their address requests. When people started to foresee address exhaustion, only 3 percent of the allocated addresses were actually in use!</P></LI></ul>
<p class="docText">The increasing number of hosts challenged the address space resources and led to the formalization of private addressing and Network Address Translation (NAT) as an address-conservation solution. The increase in the number of hosts is also matched by an increase in the number of networks and this leads to scalability problems for the routers. In 1994, the core routers had approximately 34,000 routes, doubling every year. By 2004, it was expected to reach millions routes. Variable-length subnet mask (VLSM), Classless Inter-Domain Routing (CIDR), and a new IP address-allocation strategy was the response to the routing table explosion.</p>
<p class="docText">Although the core routing table size was predicted to grow from 34,000 to 80,000 between 1994 and 1995, in fact it reached 76,000 routes only in 2000 and about 160,000 in mid 2004.</p>
<p class="docText">With IPv6 and its larger address space, one could fear that routing tables will further expand. Bigger addressing space might logically lead to more hosts followed by more networks. In reality, past experience has shown that the &quot;number of hosts&quot; and the &quot;number of networks&quot; are loosely related. With the proper aggregation mechanisms, partly driven by the right address-allocation strategy, the latter have been well under control. Assuming the same mechanisms are maintained and further enforced with IPv6, it is reasonable to believe that routing table size will remain within manageable limits.</p>
<a name="ch01note01"></a><div class="docNote"><p class="docNoteTitle">Note</p>

<p class="docText">For more details on CIDR, and related topics, you can read the following RFCs: RFC 1517, RFC 1518, RFC 1519, and RFC 1520. Also, RFC 1887 provides some hints on the reasoning behind IPv6 address allocation, and architectural implications.</p>
</div><br>
<p class="docText">The address-conservation mechanisms cannot stave off for long the need for global IP addresses. Past and current Internet growth rates (source BGP table statistics<a class="docLink" target="_blank" href="http://bgp.potaroo.net/">http://bgp.potaroo.net/</a>) can be extrapolated to predict the time left before the complete exhaustion of all available IPv4 address space. Conservative studies estimate the IPv4 address-space exhaustion by February 2041, and the exhaustion of the IPv4 unallocated address pool by April 2020. More aggressive models predict even earlier dates such as 2009. These predictions are based on the underlying assumption that the current growth models will remain applicable for years to come, which is not necessarily accurate.</p>
<p class="docText"><a name="iddle1076"></a><a name="iddle1732"></a><a name="iddle1749"></a><a name="iddle2009"></a>IPv6 might change these assumptions. With the combination of the Internet as an attractive and accessible communications medium, and the emergence of communicating gadgets and devices of all kind (even the most unexpected ones such as phones, home appliances, cars, and so on) you must be ready to see them proliferate and stimulate a growth in Internet usage that cannot be extrapolated from past patterns.</p>

<a name="ch01lev3sec2"></a>
<h5 class="docSection3Title">Private Versus Public Addresses</h5>
<p class="docText">Public addresses are registered, globally unique, and can be used to provide reachability over the Internet. By contrast, private addresses are meaningful only within a closed, physical or virtual domain. In IPv4, private addresses have been always associated with unregistered addresses, which in return have been associated with nonunique addresses.</p>
<p class="docText">There might be many reasons why an organization would want to use both public and private addresses. Public addresses are used to get connectivity across the Internet, to reach public resources. Private addresses are used to accomplish the following:</p>
<ul><LI><p class="docList">Increase the addressable space used internally</P></LI><LI><p class="docList">Avoid address registration pains</P></li><li><p class="docList">Decorrelate from public addressing changes (for instance, at peering points) to save the renumbering hassle</p></li><li><p class="docList">Protect the internal network from the public domain by preventing private addressing/topology exposure</p></li></ul>
<p class="docText">RFC 1918 identifies two categories of hosts that could deal with private addresses:</p>
<ul><li><p class="docList">Hosts that do not require access to hosts in other enterprises or the Internet</p></LI><li><p class="docList">Hosts that need access to a limited set of outside services (e-mail, FTP, and so on) that can be handled by intermediate gateways</p></LI></UL>
<p class="docText">For these two categories, RFC 1918 further defines three blocks of private addresses that should not be routed over the Internet, and therefore free to replicate.</p>
<ul><li><p class="docText"><span class="docEmphStrong">10.0.0.0/8</span> A Class A block</p></LI><li><p class="docText"><span class="docEmphStrong">172.16.0.0/12</span> A Class B block</p></li><li><p class="docText"><span class="docEmphStrong">192.168.0.0/16</span> A Class C block</P></LI></UL>
<p class="docText">In an ideal world, privately addressed hosts would be confined to the private network, whereas only hosts with public addresses would be able to access the public domain. In reality, most hosts need to leave the private network boundaries at some point. Usually, there are not enough public addresses for all hosts in the private network, so further mechanisms are necessary to interface them with the public domain. The simplest one is NAT, discussed in the section &quot;<a class="docLink" href="#ch01lev3sec5">Network Address Translation</a>.&quot;</p>
<p class="docText">One of the benefits of the private address space is the large number of addresses available at the discretion of an enterprise. It was, however, only logical to expect that the private address space will face depletion similar to the overall IPv4 address space. In 2005, <a name="iddle1081"></a><a name="iddle1259"></a><a name="iddle1288"></a><a name="iddle1300"></a><a name="iddle1439"></a><a name="iddle1471"></a><a name="iddle1948"></a><a name="iddle2011"></a>multiple-systems operators (MSOs; or cable operators) reported the fact that they are running out of private address space. This is due to the proliferation of cable modems, Voice over IP (VoIP) phones, and set-top boxes they have to manage over IP. This realization accelerated their plans to deploy IPv6 if not to provide services at least to manage their devices.</p>
<p class="docText">Some of the reasons to use private addresses become obsolete with IPv6 (there are now plenty of public addresses for everyone) although others will remain. VPN solutions exist for IPv6, too, and that could be sufficient to safeguard the privacy of addressing used within a network. The plethora of IPv6 addresses had suggested some different paradigms for private addressing, in particular the concept of unique yet private address. These concepts are presented in <a class="docLink" href="ch02.html#ch02">Chapter 2</a>, &quot;An IPv6 Refresher.&quot; The concepts and issues that arose when crossing the boundary between private and public domains are presented in <a class="docLink" href="ch07.html#ch07">Chapter 7</a>, &quot;VPN IPv6 Architecture and Services.&quot;</p>

<a name="ch01lev3sec3"></a>
<h5 class="docSection3Title">Static Versus Dynamic Addresses</h5>
<p class="docText">Addresses can be assigned to IP nodes either statically or dynamically. The static addresses are allocated &quot;indefinitely&quot; or until explicitly removed. Dynamic Host Configuration Protocol (DHCP) allows a computer to have a different IP address each time it connects to a network. This process enables multiple users to overload the use of a pool of dynamically assigned addresses. DHCP also enables mobile hosts to attach to visited subnets without requiring manual reconfiguration. In reality, dynamically allocated addresses might not change often either. In large networks, DHCP servers tend to allocate the same address to the same host over time, unless there is some shortage. For the home environment, there are two categories of users:</p>
<ul><li><p class="docList">Users with dialup connections will change their address often. Most Internet service providers (ISPs) make use of DHCP to assign an IP address to each user for the length of time they are connected, and reuse it for another customer after the dialup connection from the previous customer has been terminated.</p></li><li><p class="docList">Users with long-life connections such as Digital Subscriber Line (DSL), Integrated Services Digital Network (ISDN), or cable will tend to keep their address for a longer period of time.</p></li></ul>
<p class="docText">There are now advantages and disadvantages with the trend to use more stable source addresses than there were in the past. From a network operation perspective, one could find useful that the same user stays behind the same IP address; it is easier to manage, bill, filter, authenticate, and so on. However, this operational model eliminates address reuse, which conserves the IPv4 address space. For this reason, broadband services are a significant catalyst in the acceleration of IPv4 address consumption. When the address-shortage concerns are eliminated with the adoption of IPv6, there could be a tendency to allocate static addresses, or allocate dynamically the same address to the same user all the time. The advantages of having the IP address uniquely and permanently identify the device are counterbalanced by possible privacy issues. The same address used in multiple contexts (for instance, web surfing, gaming, and so on) can <a name="iddle1078"></a><a name="iddle1779"></a><a name="iddle2010"></a>be used to correlate seemingly unrelated activities. Note that with IPv6, which offers the possibility of using addresses that embed topological information such as link identifier, the concern will grow. The mechanisms to allocate IPv6 addresses dynamically are reviewed in <a class="docLink" href="ch03.html#ch03">Chapter 3</a>, &quot;Delivering IPv6 Unicast Services.&quot;</P>

<a name="ch01lev3sec4"></a>
<H5 class="docSection3Title">Renumbering</H5>
<p class="docText">Want to know a network administrator's worst nightmare? It is renumbering. Renumbering is the process of replacing existing network prefixes and host addresses considered as deprecated throughout the network with new ones.</P>
<p class="docText">There can be a large variety of reasons for renumbering:</P>
<ul><li><p class="docList">The topology outside the network has changed (for instance, because the ISP providing Internet access has changed).</p></li><li><p class="docList">The network is expanding, hence the internal topology is changing; more subnets need to interconnect; a reorganization of the existing ones; more hosts to address; and so on. Renumbering, although not always required in these cases, could potentially improve aggregation and is sometimes highly recommended.</p></li><li><p class="docList">The network is merging with another one (for instance, in the case of two companies merging).</p></li><li><p class="docList">The network was private and disconnected from the public network, and now wants to provide public access to its hosts and servers.</p></LI></ul>
<p class="docText">The complexity of the renumbering process comes from the fact that addresses are used in many different places within a network and for many different reasons. A single address or a set of addresses may have been configured statically or dynamically in various places such as the following:</p>
<UL><LI><p class="docList">BOOTP or DHCP servers</p></li><li><p class="docList">Applications servers of all kinds (HTTP, FTP, mail, and so on)</p></LI><li><p class="docList">Routers (interfaces, routing, and access lists configuration, and so on)</p></li><li><p class="docList">Firewalls (access list)</P></LI><LI><p class="docList">DNS servers</p></li></ul>
<p class="docText">Sometimes, simply changing the old address can make the new one operational; in many cases, however, the old address has been leaked in caches of all kinds (DNS caches, applications caches, routing caches, web caches, Address Resolution Protocol [ARP] caches). Many of these caches have expiration timers, which will make them invalidate the &quot;old&quot; addresses, but some do not. In most cases, changing the address and network prefix requires rebooting the host. When addresses are cached throughout the network, delays (mostly &quot;uncontrolled&quot;) will occur before the new addresses are operational.</p>
<p class="docText">Although some believe that renumbering issues have been entirely taken care of in IPv6, others believe that renumbering remains a problem without any good solution. The truth <a name="iddle1072"></a><a name="iddle1281"></a><a name="iddle2008"></a>lies somewhere in between. The renumbering issue is multidimensional, and IPv6 brings some innovative solutions in some areas, although it does not solve the entire problem.</p>
<p class="docText"><a class="docLink" href="ch02.html#ch02">Chapter 2</a> and <a class="docLink" href="ch03.html#ch03">Chapter 3</a> describe some built-in IPv6 mechanisms such as link-local addresses, autoconfiguration, and support for multiple addresses on the same interface that can ease aspects of network renumbering.</p>

<a name="ch01lev3sec5"></a>
<h5 class="docSection3Title">Network Address Translation</h5>
<p class="docText">Network Address Translation (NAT) has brought the best and the worst to IP deployments. Per NAT RFC authors, NAT was a short-term solution to enable address reuse and solve the address-depletion issue the IP Internet community was anticipating in 1993. That worked out well indeed, and what seemed to be a critical issue in 1993 is less critical more than 10 years later. NAT has enabled private addressing in all sorts of corporate networks, eliminating the need for publicly registered chunks of addresses. Nevertheless, NAT is a controversial subject in the networking community, and for that reason we dedicate this section to it.</p>
<p class="docText">For technical background and more details on NAT principles and operations, refer to RFC 1631 and books such as the Cisco Press book <span class="docEmphasis">Routing TCP/IP, Volume II</span> (CCIE Professional Development) by Jeff Doyle. Over the years, NAT has been deployed widely throughout the Internet. During this time, its use was given justifications beyond address conservation: from security to privacy, from preventing renumbering to providing high-availability mechanisms, from deployment of virtual clusters to providing Internet access over VPNs. Each of these justifications was prompted by some deployment scenario and was meant to solve deployment issues.</p>
<p class="docText">Although some of these reasons will become irrelevant after IPv6 is deployed, not all of them will. Although NAT has hurt the deployment of many applications, and many people would be happy to see this so-called &quot;short-term&quot; solution go away with IPv6, it will be interesting to understand and analyze NAT's place in today's networks and the problems it addresses. If we want to rid the world of the evil NAT, we must make sure IPv6 offers solutions for all problems NAT resolved.</p>
<p class="docText">NAT comes with a number of issues, out of which the most significant is the connection model that it implies. NAT is asymmetrical. Because of the way NAT works, it is mainly usable for client/server sessions where clients within the private network initiate the session with servers sitting in the public network. The client will typically issue a Domain Name System (DNS) query for some public server name, and get the public server address. On the way back, the server will see only the public NAT address, expectantly a globally reachable one. Going the reverse direction is more troublesome. Anybody sitting outside the private network (either on the public network or on a different private network) would have difficulties reaching a host behind NAT.</p>
<p class="docText">Some proxy servers can be used as &quot;middlemen&quot;: They can handle all necessary application signaling and enable hosts to use each others NAT addresses as the reachable public <a name="iddle1092"></a><a name="iddle1111"></a><a name="iddle1318"></a><a name="iddle1345"></a><a name="iddle1389"></a><a name="iddle1632"></a><a name="iddle1635"></a><a name="iddle1644"></a><a name="iddle1868"></a><a name="iddle1927"></a>address. Session Initiation Protocol (SIP) is a good example of such a solution. However, twisting every single peer-to-peer application to make it fit the client/server model appears to be a great limiting factor to the adoption and deployment of new applications.</p>
<p class="docText">Another issue with NAT is that it does not look at any information above IP/TCP/UDP/ICMP layers. Some applications have endpoint source addresses buried within their messages, which do not get translated by NAT at the same time as the IP header addresses. This typically happens with applications such as H.323 that tend to establish multiple connections within a single session. To solve those issues, application layer gateways (ALGs) may need to perform complex application-level translations. When an application that required an ALG is deployed, NAT devices must support this particular ALG.</p>
<p class="docText">NAT has some security issues, too. Any security mechanism based on signing or verifying part of the packet, whether header or payload including IP addresses, will have trouble when addresses are overwritten. For instance, with IPsec, both Authentication Header (AH) and Encapsulating Security Payload (ESP) have issues with NAT, although at a different order of magnitude.</P>
<a name="ch01lev4sec1"></a>
<H5 class="docSection4Title">Can IPv6 Eliminate NAT?</H5>
<p class="docText">NAT is used in the networks of 70 percent of Fortune 1000 companies, for better and worse. So, either NAT is not necessary anymore after IPv6 is deployed, and the worst is gone. Or, IPv6 does not have a proper solution for all deployment scenarios where NAT is in use and these networks will not transition. Although the large IPv6 address space eliminates the need for NAT, it is important to explain how IPv6 also provides similar capabilities as the &quot;perceived&quot; benefits of NAT. This is the main purpose of Network Architecture Protection (NAP), an Internet Draft addressing each NAT benefit (real or perceived) and matching it with an IPv6 solution. <a class="docLink" href="#ch01table01">Table 1-1</a> lists NAT features, and for each, it provides pointers to IPv6 documentation (RFC, Internet Drafts, and so on) and refers to chapters of this book where solutions are reviewed.</P>
<a name="ch01table01"></a><P><table cellspacing="0" class="allBorders" border="1" RULES="all" cellpadding="4"><caption><h5 class="docTableTitle">Table 1-1. IPv4 NAT vs. IPv6 NAP</h5></caption><colgroup><col width="100"><col width="200"><col width="200"></colgroup><thead><tr><th class="thead" scope="col" align="left" valign="bottom"><p class="docText">NAT Feature</p></th><th class="thead" scope="col" align="left" valign="bottom"><p class="docText">IPv6 Reference</p></th><th class="thead" scope="col" align="left" valign="bottom"><p class="docText">More Details In</p></th></tr></thead><tr><td class="docTableCell" align="left" valign="top"><p class="docText">Address depletion</p></td><td class="docTableCell" align="left" valign="top"><p class="docText"><span class="docEmphasis">IPv6 Addressing Architecture</span>, RFC 3513</P></td><td class="docTableCell" align="left" valign="top"><p class="docText"><a class="docLink" href="ch02.html#ch02">Chapter 2</a>, section &quot;<a class="docLink" href="ch02lev1sec1.html#ch02lev2sec2">IPv6 Address Architecture</a>&quot;</P></TD></tr><tr><td class="docTableCell" align="left" valign="top" rowspan="5"><p class="docText">Address management</p></TD><td class="docTableCell" align="left" valign="top"><p class="docText">Preferred lifetime per prefix &amp; multiple addresses per interface (ID)</p></td><td class="docTableCell" align="left" valign="top"><p class="docText"><a class="docLink" href="ch02.html#ch02">Chapter 2</a>, section &quot;<a class="docLink" href="ch02lev1sec1.html#ch02lev2sec2">IPv6 Address Architecture</a>&quot;</P></TD></TR><tr><td class="docTableCell" align="left" valign="top"><p class="docText"><span class="docEmphasis">IPv6 Unique Local Addresses</span>: RFC 4193</p></td><td class="docTableCell" align="left" valign="top"><p class="docText"><a class="docLink" href="ch02.html#ch02">Chapter 2</a>, section &quot;<a class="docLink" href="ch02lev1sec1.html#ch02lev2sec2">IPv6 Address Architecture</a>&quot;</p></td></tr><tr><td class="docTableCell" align="left" valign="top"><p class="docText"><span class="docEmphasis">IPv6 auto-configuration</span>: RFC 2462</p></td><td class="docTableCell" align="left" valign="top"><p class="docText"><a class="docLink" href="ch03.html#ch03">Chapter 3</a>, section &quot;<a class="docLink" href="ch03lev1sec2.html#ch03lev1sec2">IPv6 Provisioning</a>&quot;</p></TD></TR><TR><TD class="docTableCell" align="left" valign="top"><p class="docText"><span class="docEmphasis">Procedure for Renumbering an IPv6 Network without a flag day</span>: RFC 4192</P></td><td class="docTableCell" align="left" valign="top"><p class="docText"><a class="docLink" href="ch03.html#ch03">Chapter 3</a>, section &quot;<a class="docLink" href="ch03lev1sec2.html#ch03lev4sec2">IPv6 Address Renumbering</a>&quot;</p></td></tr><tr><td class="docTableCell" align="left" valign="top"><p class="docText">IPv6 VPNs (ID)</p></td><td class="docTableCell" align="left" valign="top"><p class="docText"><a class="docLink" href="ch07.html#ch07">Chapter 7</a> &quot;VPN IPv6 Architecture and Services&quot;</p></td></TR><tr><td class="docTableCell" align="left" valign="top"><p class="docText">Site multihoming<sup class="docFootnote"><a class="docLink" href="#ch01tn01">[1]</a></sup></P></TD><td class="docTableCell" align="left" valign="top"><p class="docText"><span class="docEmphasis">Goals for IPv6 Site-Multi-homing Architectures</span>: RFC 3582</p>
<p class="docText">IPv6 Multihoming Support at Site Exit Routers: RFC 3178</p>
<p class="docText">Architectural Approaches to Multi-homing for IPv6: RFC 4177</p></TD><td class="docTableCell" align="left" valign="top"><p class="docText"><a class="docLink" href="ch04.html#ch04">Chapter 4</a>, section &quot;<a class="docLink" href="ch04lev1sec6.html#ch04lev1sec6">Site Multihoming</a>&quot;</p></td></tr><TR><TD class="docTableCell" align="left" valign="top"><p class="docText">Server load balancing<sup class="docFootnote"><a class="docLink" href="#ch01tn02">[2]</a></sup></P></td><td class="docTableCell" align="left" valign="top">&nbsp;</td><td class="docTableCell" align="left" valign="top"><p class="docText"><a class="docLink" href="ch08.html#ch08">Chapter 8</a>, section &quot;<a class="docLink" href="ch08lev1sec4.html#ch08lev2sec11">Server Load Balancing</a>&quot;</p></td></tr><tr><td class="docTableCell" align="left" valign="top"><p class="docText">Failover<sup class="docFootnote"><a class="docLink" href="#ch01tn03">[3]</a></sup></p></td><td class="docTableCell" align="left" valign="top">&nbsp;</td><td class="docTableCell" align="left" valign="top"><p class="docText"><a class="docLink" href="ch15.html#ch15">Chapter 15</a>, section &quot;<a class="docLink" href="ch15lev1sec6.html#ch15lev3sec11">Enabling Cisco HSRP for IPv6</a>&quot;</P></TD></TR><TR><TD class="docTableCell" align="left" valign="top"><p class="docText">End-system privacy</p></td><td class="docTableCell" align="left" valign="top"><p class="docText"><span class="docEmphasis">Privacy Extensions for Stateless Address Auto-configuration in IPv6</span>: RFC 3041</p></td><td class="docTableCell" align="left" valign="top"><p class="docText"><a class="docLink" href="ch02.html#ch02">Chapter 2</a>, section &quot;<a class="docLink" href="ch02lev1sec1.html#ch02lev1sec1">IPv6 Addressing</a>&quot;</p></td></tr><tr><td class="docTableCell" align="left" valign="top" rowspan="2"><p class="docText">Topology hiding</p></TD><td class="docTableCell" align="left" valign="top"><p class="docText">IPv6 Network Architecture Protection (NAP) (ID)</p></TD><TD class="docTableCell" align="left" valign="top"><p class="docText"><a class="docLink" href="ch02.html#ch02">Chapter 2</a>, section &quot;<a class="docLink" href="ch02lev1sec1.html#ch02lev1sec1">IPv6 Addressing</a>&quot;</p></td></tr><tr><TD class="docTableCell" align="left" valign="top"><p class="docText">MIPv6 tunnels: NAP (ID) and RFC 3575</p></td><td class="docTableCell" align="left" valign="top"><p class="docText"><a class="docLink" href="ch08.html#ch08">Chapter 8</a>, section &quot;<a class="docLink" href="ch08lev1sec4.html#ch08lev2sec8">Topology Hiding</a>&quot;</p></TD></TR><TR><td class="docTableCell" align="left" valign="top" rowspan="2"><p class="docText">VPN Internet access<sup class="docFootnote"><a class="docLink" href="#ch01tn04">[4]</a></sup></p></td><td class="docTableCell" align="left" valign="top"><p class="docText"><span class="docEmphasis">IPv6 Unique Local Addresses</span>: RFC 4193</p></td><td class="docTableCell" align="left" valign="top"><p class="docText"><a class="docLink" href="ch02.html#ch02">Chapter 2</a>, section &quot;<a class="docLink" href="ch02lev1sec1.html#ch02lev1sec1">IPv6 Addressing</a>&quot;</p>
<p class="docText"><a class="docLink" href="ch07.html#ch07">Chapter 7</a>, section &quot;<a class="docLink" href="ch07lev1sec1.html#ch07lev2sec4">Addressing Considerations</a>&quot;</p></td></tr><tr><td class="docTableCell" align="left" valign="top"><p class="docText"><span class="docEmphasis">Recommendations on IPv6 Address Allocations to Sites</span>: RFC 3177</p></TD><TD class="docTableCell" align="left" valign="top"><p class="docText"><a class="docLink" href="ch13.html#ch13">Chapter 13</a>, &quot;Deploying IPv6 in an MPLS Service Provider Network&quot;</P></TD></TR><tr><td class="docTableCell" align="left" valign="top" rowspan="2"><p class="docText">Simple gateway</p></td><td class="docTableCell" align="left" valign="top"><p class="docText">DHCP-PD Customer prefix upstream: NAP (ID)</p></td><td class="docTableCell" align="left" valign="top"><p class="docText"><a class="docLink" href="ch03.html#ch03">Chapter 3</a>, section &quot;<a class="docLink" href="ch03lev1sec2.html#ch03lev1sec2">IPv6 Provisioning</a>&quot;</p></td></tr><tr><TD class="docTableCell" align="left" valign="top"><p class="docText">SLACC via RA downstream: NAP (ID)</p></td><TD class="docTableCell" align="left" valign="top">&nbsp;</TD></tr><tr><td class="docTableCell" align="left" valign="top"><p class="docText">Simple security</p></TD><td class="docTableCell" align="left" valign="top"><p class="docText">Context Based Access Control (ID)</p></td><td class="docTableCell" align="left" valign="top"><p class="docText"><a class="docLink" href="ch09.html#ch09">Chapter 9</a> &quot;Securing IPv6 Networks&quot;</P></TD></TR><tr><td class="docTableCell" align="left" valign="top"><p class="docText">Local usage tracking</p></td><td class="docTableCell" align="left" valign="top"><p class="docText"><span class="docEmphasis">Address Uniqueness</span>: RFC 3513</p></td><td class="docTableCell" align="left" valign="top"><p class="docText"><a class="docLink" href="ch02.html#ch02">Chapter 2</a>, section &quot;<a class="docLink" href="ch02lev1sec1.html#ch02lev1sec1">IPv6 Addressing</a>&quot;</p></td></tr></table></p><br><blockquote><p class="docFootnote"><sup><a name="ch01tn01">[1]</a></sup> A multihomed site can use NAT to translate the various provider addresses into a single set of private-use addresses.</p></blockquote><blockquote><p class="docFootnote"><sup><a name="ch01tn02">[2]</a></sup> NAT can be used to load balance traffic over a set of servers by hiding their individual addresses behind a single NAT address. Other techniques can be used for the same purpose, which do not rely on NAT, and can work with IPv6.</P></blockquote><blockquote><p class="docFootnote"><sup><a name="ch01tn03">[3]</a></sup> NAT is used in some high-availability scenarios by hiding active and standby hosts or routers addresses behind the same virtual address. Other techniques can be used for the same purpose, which do not rely on NAT, and can work with IPv6, such as HSRP (Hot Standby Router Protocol), VRRP (Virtual Router Redundancy Protocol), and GLBP (Gateway Load Balancing Protocol).</P></blockquote><blockquote><p class="docFootnote"><sup><a name="ch01tn04">[4]</a></sup> Sites or individual hosts configured with private addresses use NAT to expose a public address (rather than their private address) when connecting to a public resource.</P></blockquote>
<p class="docText"><a name="iddle1750"></a><a name="iddle1828"></a><a name="iddle2015"></a>In addition to verifying that IPv6 deployments do not create issues in areas where NAT has a specific purpose, you will also have to examine coexistence issues. Because IPv4 and IPv6 are likely to cohabit for a significant period of time, you need to know whether there are any IPv6 deployment issues with regard to traversing IPv4 NATs. Indeed, many of the transitioning mechanisms that <a class="docLink" href="ch03.html#ch03">Chapter 3</a> describes involve tunneling IPv6 traffic over IPv4. These IPv4 networks are full of NAT, and being able to properly traverse them is critical to IPv6 deployment.</P>



<a name="ch01lev2sec2"></a>
<H4 class="docSection2Title">Routing</h4>
<p class="docText">The engineering community has not really touched the routing foundations of unicast services in the context of IPv6. Of course, whenever an IPv4 routing protocol had some dependencies on IPv4 addresses, work was done to produce an IPv6 version of it. This is the case, for instance, with OSPFv3. <a class="docLink" href="ch04.html#ch04">Chapter 4</a> &quot;IPv6 Routing Protocols,&quot; reviews these changes in the routing protocols. But besides &quot;cosmetic differences,&quot; all IPv4 routing protocols are closely matched in IPv6, sharing the same design, often the same implementation, with the same area of applicability and the same issues. In IPv6, you will find the familiar Routing Information Protocol (RIP), Intermediate System-to-Intermediate System (IS-IS), Enhanced Interior Gateway Routing Protocol (EIGRP), Open Shortest Path First (OSPF), and Border Gateway Protocol (BGP).</p>
<p class="docText">Are you disappointed? You might have expected the IPv6 designers to take advantage of the new address structure to enhance the way routers handle network prefixes to achieve better aggregation. This would have indirectly led to new or significantly modified routing protocols. The opportunity was offered in the way the IPv6 address was structured. RFC 1887 describes some early attempts to form a hierarchical routing system, and RFC 3513 structures the IPv6 unicast address to enable efficient routing aggregation. So far, these attempts have not materialized into an innovative routing protocol. CIDR with BGP aggregation and allocation policies remain the solution for optimizing aggregation in IPv6, too.</p>


<a href="22971536.html"><img src="images/pixel.jpg" alt="" width="1" height="1" border="0"></a></TD></TR></table>
<br>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr><td><div STYLE="MARGIN-LEFT: 0.15in;">
<a href=ch01.html><img src="images/prev.gif" width="60" height="17" border="0" align="absmiddle" alt="Previous Page"></a>
<td align="right"><div STYLE="MARGIN-LEFT: 0.15in;">
<a href=ch01lev1sec2.html><img src="images/next.gif" width="60" height="17" border="0" align="absmiddle" alt="Next Page"></a>
</div></td></tr></table>
</body></html>