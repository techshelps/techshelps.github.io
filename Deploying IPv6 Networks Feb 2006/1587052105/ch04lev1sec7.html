<html>
<META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<head>
<title>Deploying IPv6 Routing Protocols</title>
<link rel="STYLESHEET" type="text/css" href="images/style.css">
<link rel="STYLESHEET" type="text/css" href="images/docsafari.css">
</head>
<body>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr><td><div STYLE="MARGIN-LEFT: 0.15in;">
<a href=ch04lev1sec6.html><img src="images/prev.gif" width="60" height="17" border="0" align="absmiddle" alt="Previous Page"></a>
<td align="right"><div STYLE="MARGIN-LEFT: 0.15in;">
<a href=ch05.html><img src="images/next.gif" width="60" height="17" border="0" align="absmiddle" alt="Next Page"></a>
</div></td></tr></table>
<br><table width="100%" border="0" cellspacing="0" cellpadding="0"><TR><TD valign="top"><a name="ch04lev1sec7"></a>
<H3 class="docSection1Title">Deploying IPv6 Routing Protocols</h3>
<p class="docText">One simple conclusion that can be drawn from the information presented in this chapter so far is that the implementation and operation of the IPv6 RPs are similar to their IPv4 counterparts. This means that as far as routing is concerned, all design rules and strategies used in deploying IPv4 networks apply to IPv6. The approach has to be hierarchical and it has to observe the specifics of each layer of the network: core, distribution/edge, and access.</p>
<a name="ch04lev2sec7"></a>
<h4 class="docSection2Title">Network Core</h4>
<p class="docText">The network core is highly redundant to ensure uninterrupted service. The routing protocols deployed in the core have to leverage the infrastructure by providing fast reconvergence around failures. The traffic should be load balanced across the redundant, equal-cost paths.</p>
<p class="docText">The following IGPs are suitable for the network core:</p>
<ul><li><p class="docList">EIGRPIt is commonly used in enterprise networks. It could be used in the core of ISP networks, but to date has not been.</p></li><li><p class="docList">OSPFIt is a scalable and fast-converging option that is commonly used in the core of both enterprise and ISP networks. It could be deployed in single or multiple areas, but it will impose topological constraints.</p></LI><li><p class="docList">IS-ISIt is commonly used in ISP networks and rarely in enterprise networks. Almost always, it is deployed in a single-area (level 2) design.</p></LI></UL>
<a name="ch04note10"></a><div class="docNote"><p class="docNoteTitle">Note</p>

<p class="docText">Because it is expected that traffic engineering (TE) will be considered in IPv6 MPLS networks, it is important to remember that TE requires IS-IS or OSPF.</p>
</div><br>
<p class="docText">One of the main design concerns is the scale of the network in terms of number of nodes. OSPF topologies are limited by the network and router LSA size. IS-IS topologies are limited by the LSP count. In a well-designed network, these scalability limitations should not be encountered. If the same RP is used across the distribution/edge layer, however, OSPF should be using multiple areas (whereas IS-IS scales comfortably with its flat design). It is important to make sure that the distribution/edge layer is injecting a small number of prefixes in the core RPs, thus ensuring stability and rapid reconvergence.</p>
<p class="docText">IPv4 and IPv6 are expected to coexist in networks for a long time. This implies the coexistence of at least two RPs that have to be managed by the network operator and by the network devices. Some operators might not be willing to take on this task and prefer to minimize this impact of deploying IPv6 services. From this point of view, you have two options to consider:</P>
<ul><li><p class="docList">If the IPv6 topology can be identical with the IPv4 one in a dual-stack deployment, ISISv6 in single-topology mode addresses the manageability and resource duplication concerns.</p></li><LI><p class="docList">When tunneling (transition tunnels or 6PE) is used as an overlay to provide transport for IPv6 traffic, the IPv6 RP is not a concern for the IPv4 core. Inside the IPv6 network, iBGP running on edge routers (see the following section) can be used to exchange the IPv6 routing information, too. This implies the use of a single, already running RP for both IPv4 and IPv6.</P></LI></ul>
<p class="docText">In both of these cases, the operator will have to run a familiar protocol while saving router resources at the cost of some topology constraints. As the significance and amount of IPv6 <a name="iddle1835"></a><a name="iddle1837"></a>traffic increases, the RP design of the network might need to be revisited to address new requirements.</p>

<a name="ch04lev2sec8"></a>
<h4 class="docSection2Title">Network Distribution/Edge</h4>
<p class="docText">This network layer provides the interface between the access and the core layers. It also provides the interface with external networks. At this layer, IGPs are used alongside BGP.</p>
<p class="docText">The same IGPs recommended for the core are suitable for the distribution/edge layer, too. In fact, the same RP often times covers both network layers. If the protocol used is OSPF, a hierarchical approach is suggested with the core in the backbone area and the distribution/edge split in multiple areas. IS-IS and EIGRP extend flatly over this layer.</p>
<p class="docText">BGP is also deployed at this network layer. iBGP is used between distribution/edge routers for the following reasons:</p>
<ul><li><p class="docList">Tie up eBGP speakers together by propagating BGP-specific attributes (NEXTHOP, AS_PATH) across the core</p></li><li><p class="docList">Avoid overloading the core with routing information that is not relevant to it that could impact its convergence time</p></li><LI><p class="docList">Exchange information with customers without having to expose the underlying IGP to the customer network complexities and instabilities</P></LI><LI><p class="docList">Enable services such as VPNs or 6PE</P></li></ul>
<p class="docText">The iBGP is deployed in a full mesh realized with the help of route reflectors, confederations, or by fully meshing all the participating routers.</p>
<p class="docText">eBGP is used in the following deployment cases:</p>
<ul><li><p class="docList">To exchange routing information between domains within large service provider or enterprise networks designed with multiple autonomous systems.</p></li><li><p class="docList">To exchange routing information with external networks. It enables the use of policies and aggregation.</p></li><li><p class="docList">To enable services such as &quot;<a class="docLink" href="ch13lev1sec2.html#ch13lev3sec3">Carrier supporting Carrier</a>&quot; (CsC), which allow an ISP to be a transit for other ISPs.</P></li></ul>
<p class="docText">Similar to IPv4 deployments, iBGP should be synchronized with the underlying IGP but, for scalability reasons, prefixes should not be distributed between them.</P>

<a name="ch04lev2sec9"></a>
<H4 class="docSection2Title">Network Access</h4>
<p class="docText">The devices in the access layer are exposed to multiple users, but they tend to have less processing power than the ones in the other network layers. Moreover, because of IPv6 address assignment guidelines, it is likely that these devices will be exposed to large numbers of prefixes in the /64 to /48 range. For these reasons, complex and process-intensive RPs are not deployed in this network layer.</p>
<p class="docText">Although OSPF is used at the access layer, simpler routing protocols such as RIPng or EIGRP are sometimes favored. Static routing is also used actively. Static routes are manually configured or are dynamically installed during the address-assignment process (as is the case of DHCP-PD). The redistribution of static routes is common in this part of the network. Summarization is also an important aspect of the routing design. The upstream layers should be presented with a smaller number of prefixes to preserve resource in the aggregation nodes.</p>


</TD></TR></table>
<br>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr><td><div STYLE="MARGIN-LEFT: 0.15in;">
<a href=ch04lev1sec6.html><img src="images/prev.gif" width="60" height="17" border="0" align="absmiddle" alt="Previous Page"></a>
<td align="right"><div STYLE="MARGIN-LEFT: 0.15in;">
<a href=ch05.html><img src="images/next.gif" width="60" height="17" border="0" align="absmiddle" alt="Next Page"></a>
</div></td></tr></table>
</body></html>