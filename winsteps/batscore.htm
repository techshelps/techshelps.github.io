<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
   <title>Batch mode example: Score Tables
   </title>
   <meta name="generator" content="Help &amp; Manual">
   <meta name="keywords" content="Winsteps, Rasch Measurement, Rasch Analysis, 1-PL, 1PL">
   <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <meta http-equiv="Content-Style-Type" content="text/css">
   <link type="text/css" href="default.css" rel="stylesheet">
<script type= "text/javascript">   
var min=10;
var max=300;
function increaseFontSize() {
   var p = document.getElementsByTagName('p');
   for(i=0;i<p.length;i++) {
      if(p[i].style.fontSize) {
         var s = parseInt(p[i].style.fontSize.replace("%",""));
      } else {
         var s = 100;
      }
      if(s<max) {
         s += 10;
      }
      p[i].style.fontSize = s+"%"
   }
}
function decreaseFontSize() {
   var p = document.getElementsByTagName('p');
   for(i=0;i<p.length;i++) {
      if(p[i].style.fontSize) {
         var s = parseInt(p[i].style.fontSize.replace("%",""));
      } else {
         var s = 100;
      }
      if(s>min) {
         s -= 10;
      }
      p[i].style.fontSize = s+"%"
   }   
}


</script>
<style type="text/css" media="print">
.printbutton {
  visibility: hidden;
  display: none;
}
</style>   

<script type="text/javascript" src="helpman_topicinit.js"></script>
</head>

<body style="margin: 0px 0px 0px 0px; background: #FFFFFF;">




<table width="100%" border="0" cellspacing="0" cellpadding="5" bgcolor="#FFFFFF">
  <tr valign="middle">
    <td align="left">
      <p class="p_Heading1"><span class="f_Heading1">Batch mode example: Score Tables</span></p>

    </td>
    <td align="right">
     <a href="controlindex.htm">Top</a>&nbsp;<a href="averagemeasures.htm">Up</a>&nbsp;<a href="between.htm">Down</a>&nbsp;
     <a href="javascript:decreaseFontSize();"><font size="-2"><b>A</b></font></a>&nbsp;<a href="javascript:increaseFontSize();"><font size="+2"><b>A</b></font></a><br>
<script  type= "text/javascript">
document.write("<input type='button' " +
"onClick='window.print()' " +
"class='printbutton' " +
"STYLE='background-color:00BFFF' " +
"value='Print This Page'>");
</script>
     

    </td>
  </tr>
</table>




<!-- Placeholder for topic body. -->
<div style="padding: 10px 10px 10px 5px; width: 100%;"> 
<p>Winsteps produces a Score Table in Table 20 which is for responses to every active item. You can use the Batch File feature to automate the production of Score Tables for subtests of items.</p>
<p>&nbsp;</p>
<p>(1) Do the calibration run:</p>
<p>&nbsp;</p>
<p class="p_CourierReg8"><span class="f_CourierReg8">&nbsp;title=&quot;Item&nbsp;calibration&quot;</span></p>
<p class="p_CourierReg8"><span class="f_CourierReg8">&nbsp;ni=3&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;;&nbsp;these&nbsp;match&nbsp;your&nbsp;data&nbsp;file</span></p>
<p class="p_CourierReg8"><span class="f_CourierReg8">&nbsp;item1=1</span></p>
<p class="p_CourierReg8"><span class="f_CourierReg8">&nbsp;name1=1</span></p>
<p class="p_CourierReg8"><span class="f_CourierReg8">&nbsp;codes=123</span></p>
<p class="p_CourierReg8"><span class="f_CourierReg8">&nbsp;ISGROUPS=0</span></p>
<p class="p_CourierReg8"><span class="f_CourierReg8">&nbsp;ifile=&nbsp;if.txt&nbsp;&nbsp;;&nbsp;item&nbsp;calibrations</span></p>
<p class="p_CourierReg8"><span class="f_CourierReg8">&nbsp;sfile=&nbsp;sf.txt&nbsp;&nbsp;;&nbsp;rating&nbsp;(or&nbsp;partial&nbsp;credit)&nbsp;scale&nbsp;structure</span></p>
<p class="p_CourierReg8"><span class="f_CourierReg8">&nbsp;data=data.txt</span></p>
<p class="p_CourierReg8"><span class="f_CourierReg8">&nbsp;&amp;end</span></p>
<p class="p_CourierReg8"><span class="f_CourierReg8">&nbsp;......</span></p>
<p class="p_CourierReg8"><span class="f_CourierReg8">&nbsp;END&nbsp;LABELS</span></p>
<p>&nbsp;</p>
<p>(2) Set up the control file for the batch run: </p>
<p>&nbsp;</p>
<p class="p_CourierReg8"><span class="f_CourierReg8">&nbsp;;&nbsp;This&nbsp;is&nbsp;scon.txt</span></p>
<p class="p_CourierReg8"><span class="f_CourierReg8">&nbsp;title=&quot;Produce&nbsp;score&nbsp;table&quot;</span></p>
<p class="p_CourierReg8"><span class="f_CourierReg8">&nbsp;ni=3&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;;&nbsp;match&nbsp;your&nbsp;data&nbsp;file</span></p>
<p class="p_CourierReg8"><span class="f_CourierReg8">&nbsp;item1=1</span></p>
<p class="p_CourierReg8"><span class="f_CourierReg8">&nbsp;name1=1</span></p>
<p class="p_CourierReg8"><span class="f_CourierReg8">&nbsp;codes=123</span></p>
<p class="p_CourierReg8"><span class="f_CourierReg8">&nbsp;ISGROUPS=0</span></p>
<p class="p_CourierReg8"><span class="f_CourierReg8">&nbsp;iafile&nbsp;=&nbsp;if.txt&nbsp;;&nbsp;item&nbsp;anchor&nbsp;file</span></p>
<p class="p_CourierReg8"><span class="f_CourierReg8">&nbsp;safile&nbsp;=&nbsp;sf.txt&nbsp;;&nbsp;rating&nbsp;(or&nbsp;partial&nbsp;credit)&nbsp;scale&nbsp;structure&nbsp;anchor&nbsp;file</span></p>
<p class="p_CourierReg8"><span class="f_CourierReg8">&nbsp;pafile=*</span></p>
<p class="p_CourierReg8"><span class="f_CourierReg8">&nbsp;1&nbsp;0&nbsp;&nbsp;&nbsp;;&nbsp;dummy&nbsp;person&nbsp;measures</span></p>
<p class="p_CourierReg8"><span class="f_CourierReg8">&nbsp;2&nbsp;0</span></p>
<p class="p_CourierReg8"><span class="f_CourierReg8">&nbsp;*</span></p>
<p class="p_CourierReg8"><span class="f_CourierReg8">&nbsp;CONVERGE=L&nbsp;&nbsp;;&nbsp;only&nbsp;logit&nbsp;change&nbsp;is&nbsp;used&nbsp;for&nbsp;convergence</span></p>
<p class="p_CourierReg8"><span class="f_CourierReg8">&nbsp;LCONV=0.005&nbsp;&nbsp;;&nbsp;logit&nbsp;change&nbsp;too&nbsp;small&nbsp;to&nbsp;appear&nbsp;on&nbsp;any&nbsp;report.</span></p>
<p class="p_CourierReg8"><span class="f_CourierReg8">&nbsp;&amp;end</span></p>
<p class="p_CourierReg8"><span class="f_CourierReg8">....</span></p>
<p class="p_CourierReg8"><span class="f_CourierReg8">END&nbsp;LABELS</span></p>
<p class="p_CourierReg8"><span class="f_CourierReg8">121....&nbsp;;&nbsp;two&nbsp;lines&nbsp;of&nbsp;dummy&nbsp;data&nbsp;-&nbsp;such&nbsp;that&nbsp;every&nbsp;item&nbsp;has&nbsp;a&nbsp;non-extreme&nbsp;score.</span></p>
<p class="p_CourierReg8"><span class="f_CourierReg8">212....</span></p>
<p>&nbsp;</p>
<p>(3) Set up the Batch (.bat or .cmd) file and <a href="batch.htm">run it.</a> Use IDFILE=* to select the items you want (or ISELECT=)</p>
<p>&nbsp;</p>
<p class="p_CourierReg8"><span class="f_CourierReg8">rem&nbsp;this&nbsp;is&nbsp;score.cmd</span></p>
<p class="p_CourierReg8"><span class="f_CourierReg8">del&nbsp;sc*.txt</span></p>
<p class="p_CourierReg8"><span class="f_CourierReg8">start&nbsp;/w&nbsp;..\winsteps&nbsp;sc.txt&nbsp;dummy&nbsp;SCOREFILE=sc001.txt&nbsp;batch=yes&nbsp;idfile=*&nbsp;+3&nbsp;*&nbsp;title=item3</span></p>
<p class="p_CourierReg8"><span class="f_CourierReg8">start&nbsp;/w&nbsp;..\winsteps&nbsp;sc.txt&nbsp;dummy&nbsp;SCOREFILE=sc010.txt&nbsp;batch=yes&nbsp;idfile=*&nbsp;+2&nbsp;*&nbsp;title=item2</span></p>
<p class="p_CourierReg8"><span class="f_CourierReg8">start&nbsp;/w&nbsp;..\winsteps&nbsp;sc.txt&nbsp;dummy&nbsp;SCOREFILE=sc100.txt&nbsp;batch=yes&nbsp;idfile=*&nbsp;+1&nbsp;*&nbsp;title=item1</span></p>
<p class="p_CourierReg8"><span class="f_CourierReg8">start&nbsp;/w&nbsp;..\winsteps&nbsp;sc.txt&nbsp;dummy&nbsp;SCOREFILE=sc011.txt&nbsp;batch=yes&nbsp;idfile=*&nbsp;+2&nbsp;+3&nbsp;*&nbsp;title=items23</span></p>
<p class="p_CourierReg8"><span class="f_CourierReg8">start&nbsp;/w&nbsp;..\winsteps&nbsp;sc.txt&nbsp;dummy&nbsp;SCOREFILE=sc101.txt&nbsp;batch=yes&nbsp;idfile=*&nbsp;+1&nbsp;+3&nbsp;*&nbsp;title=item13</span></p>
<p class="p_CourierReg8"><span class="f_CourierReg8">start&nbsp;/w&nbsp;..\winsteps&nbsp;sc.txt&nbsp;dummy&nbsp;SCOREFILE=sc110.txt&nbsp;batch=yes&nbsp;idfile=*&nbsp;+1&nbsp;+2&nbsp;*&nbsp;title=items12</span></p>
<p class="p_CourierReg8"><span class="f_CourierReg8">start&nbsp;/w&nbsp;..\winsteps&nbsp;sc.txt&nbsp;dummy&nbsp;SCOREFILE=sc111.txt&nbsp;batch=yes&nbsp;idfile=*&nbsp;+1&nbsp;+2&nbsp;+3&nbsp;*&nbsp;title=items123</span></p>
<p class="p_CourierReg8"><span class="f_CourierReg8">.....</span></p>
<p class="p_CourierReg8"><span class="f_CourierReg8">copy&nbsp;sc*.txt&nbsp;scores.txt</span></p>
<p>&nbsp;</p>
<p>(4) The Score Tables are in file scores.txt</p>
<p>&nbsp;</p>
<hr noshade size=1 style="color : #000000"><p>&nbsp;</p>
<p>Batch command to select one line from a file.</p>
<p>&nbsp;</p>
<p>Save the code below as oneline.bat</p>
<p>Then</p>
<p>c:&gt;oneline 23 infile.txt &gt;&gt;outfile.txt</p>
<p>selects line 24</p>
<p class="p_CourierReg7"><span class="f_CourierReg7">&nbsp;</span></p>
<p class="p_CourierReg7"><span class="f_CourierReg7">&nbsp;@echo&nbsp;off</span></p>
<p class="p_CourierReg7"><span class="f_CourierReg7">&nbsp;rem&nbsp;select&nbsp;one&nbsp;line&nbsp;&nbsp;from&nbsp;a&nbsp;file</span></p>
<p class="p_CourierReg7"><span class="f_CourierReg7">&nbsp;setlocal&nbsp;enabledelayedexpansion</span></p>
<p class="p_CourierReg7"><span class="f_CourierReg7">&nbsp;if&nbsp;[%1]&nbsp;==&nbsp;[]&nbsp;goto&nbsp;usage</span></p>
<p class="p_CourierReg7"><span class="f_CourierReg7">&nbsp;if&nbsp;[%2]&nbsp;==&nbsp;[]&nbsp;goto&nbsp;usage</span></p>
<p class="p_CourierReg7"><span class="f_CourierReg7">&nbsp;for&nbsp;/f&nbsp;&quot;skip=%1&nbsp;delims=&quot;&nbsp;%%a&nbsp;in&nbsp;(%2)&nbsp;do&nbsp;(</span></p>
<p class="p_CourierReg7"><span class="f_CourierReg7">&nbsp;echo&nbsp;%%a</span></p>
<p class="p_CourierReg7"><span class="f_CourierReg7">&nbsp;goto&nbsp;exit</span></p>
<p class="p_CourierReg7"><span class="f_CourierReg7">&nbsp;)</span></p>
<p class="p_CourierReg7"><span class="f_CourierReg7">&nbsp;goto&nbsp;exit</span></p>
<p class="p_CourierReg7"><span class="f_CourierReg7">&nbsp;:usage</span></p>
<p class="p_CourierReg7"><span class="f_CourierReg7">&nbsp;echo&nbsp;Usage:&nbsp;oneline.bat&nbsp;&nbsp;linebefore&nbsp;infile&nbsp;&nbsp;&nbsp;&gt;&gt;outfile</span></p>
<p class="p_CourierReg7"><span class="f_CourierReg7">&nbsp;:exit</span></p>
 
</div>



</body>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83731338-2"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-83731338-2');</script></html>
