<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
   <title>Simulated file specifications
   </title>
   <meta name="generator" content="Help &amp; Manual">
   <meta name="keywords" content="Winsteps, Rasch Measurement, Rasch Analysis, 1-PL, 1PL">
   <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <meta http-equiv="Content-Style-Type" content="text/css">
   <link type="text/css" href="default.css" rel="stylesheet">
<script type= "text/javascript">   
var min=10;
var max=300;
function increaseFontSize() {
   var p = document.getElementsByTagName('p');
   for(i=0;i<p.length;i++) {
      if(p[i].style.fontSize) {
         var s = parseInt(p[i].style.fontSize.replace("%",""));
      } else {
         var s = 100;
      }
      if(s<max) {
         s += 10;
      }
      p[i].style.fontSize = s+"%"
   }
}
function decreaseFontSize() {
   var p = document.getElementsByTagName('p');
   for(i=0;i<p.length;i++) {
      if(p[i].style.fontSize) {
         var s = parseInt(p[i].style.fontSize.replace("%",""));
      } else {
         var s = 100;
      }
      if(s>min) {
         s -= 10;
      }
      p[i].style.fontSize = s+"%"
   }   
}


</script>
<style type="text/css" media="print">
.printbutton {
  visibility: hidden;
  display: none;
}
</style>   

<script type="text/javascript" src="helpman_topicinit.js"></script>
</head>

<body style="margin: 0px 0px 0px 0px; background: #FFFFFF;">




<table width="100%" border="0" cellspacing="0" cellpadding="5" bgcolor="#FFFFFF">
  <tr valign="middle">
    <td align="left">
      <p class="p_Heading1"><span class="f_Heading1">Simulated file specifications</span></p>

    </td>
    <td align="right">
     <a href="controlindex.htm">Top</a>&nbsp;<a href="outputfilespecifications.htm">Up</a>&nbsp;<a href="svdsettings.htm">Down</a>&nbsp;
     <a href="javascript:decreaseFontSize();"><font size="-2"><b>A</b></font></a>&nbsp;<a href="javascript:increaseFontSize();"><font size="+2"><b>A</b></font></a><br>
<script  type= "text/javascript">
document.write("<input type='button' " +
"onClick='window.print()' " +
"class='printbutton' " +
"STYLE='background-color:00BFFF' " +
"value='Print This Page'>");
</script>
     

    </td>
  </tr>
</table>




<!-- Placeholder for topic body. -->
<div style="padding: 10px 10px 10px 5px; width: 100%;"> 
<p>This uses the estimated (or anchored) person, item and structure measures or person-response-string resampling-with-replacement to simulate a data file equivalent to the raw data. This can be used to investigate the stability of measures, distribution of fit statistics and amount of statistical bias. Each time <a href="sifile.htm">SIFILE=</a> is run, or selected from the <a href="outputfilesmenu.htm">Output Files</a> pull-down menu, a simulated data file produced. Do simulated analyses with several simulated datasets to verify their overall pattern. </p>
<p>&nbsp;</p>
<p style="text-align: center;"><img src="simul.gif" width="256" height="303" border="0" alt="" style="margin:0 auto;margin:0px;"></p>
<p style="text-align: center;">&nbsp;</p>
<p>&nbsp;</p>
<div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 0px;"><table cellspacing="0" cellpadding="5" border="0" style="border: none; border-spacing:0px; border-collapse: collapse;">
<tr style="text-align:left;vertical-align:top;">
<td colspan="2" valign="top" style="border: solid 1px #000000;"><p>The parts of the dialog box outside the red rectangle are described in <a href="outputfilespecifications.htm">Output file specifications</a>.</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td valign="top" style="border: solid 1px #000000;"><p><span style="font-weight: bold;">Simulated data files:  </span></p>
</td>
<td valign="top" style="border: solid 1px #000000;"><p>invoked with <a href="sifile.htm">SIFILE=</a></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td valign="top" style="border: solid 1px #000000;"><p><span style="font-weight: bold;">Number of files:</span></p>
</td>
<td valign="top" style="border: solid 1px #000000;"><p><a href="sinumber.htm">SINUMBER=</a>, specifies the number of simulated files to produce. If SINUMBER= is greater than 1, then the data file name is automatically incremented, and so is the <a href="siseed.htm">SISEED=</a> pre-set seed value</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td valign="top" style="border: solid 1px #000000;"><p><span style="font-weight: bold;">Seed number (0 for random):</span></p>
</td>
<td valign="top" style="border: solid 1px #000000;"><p><a href="siseed.htm">SISEED=</a>, controls whether the <a href="randomnumbergenerator.htm">pseudo-random number generator</a> is seeded with the system clock (0 or 1), or with a user-chosen value, (2 and above)</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td valign="top" style="border: solid 1px #000000;"><p><span style="font-weight: bold;">Simulate: use measures or use the data</span></p>
</td>
<td valign="top" style="border: solid 1px #000000;"><p><a href="simeasure.htm">SIMEASURE=</a>, chooses whether the simulated data is generated from the estimated measures (use measure), or by resampling from the observed data (use the data).</p>
<p>If you wish to over-ride the estimated measures, then use <a href="iafile.htm">IAFILE=</a>, <a href="pafile.htm">PAFILE=</a> and <a href="safile.htm">SAFILE=</a></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td valign="top" style="border: solid 1px #000000;"><p><span style="font-weight: bold;">Resample persons: No or Yes: Persons</span></p>
</td>
<td valign="top" style="border: solid 1px #000000;"><p><a href="siresample.htm">SIRESAMPLE=</a>, controls whether resampling occurs, and, if it does, how many person records to include in the simulated data file</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td valign="top" style="border: solid 1px #000000;"><p><span style="font-weight: bold;">Complete data: Yes or No - allow missing data</span></p>
</td>
<td valign="top" style="border: solid 1px #000000;"><p><a href="sicomplete.htm">SICOMPLETE=</a>, Yes for complete data. No for missing data patterns to be repeated in the simulated data file</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td valign="top" style="border: solid 1px #000000;"><p><span style="font-weight: bold;">Extreme scores: Yes or No - avoid extreme scores</span></p>
</td>
<td valign="top" style="border: solid 1px #000000;"><p><a href="siextreme.htm">SIEXTREME=</a>, Yes to allow the simulated data to include extreme (zero, minimum &nbsp;possible or perfect, maximum possible) scores. No to avoid generating extreme scores (when possible)</p>
</td>
</tr>
</table>
</div>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">Example 1</span>. It is desired to investigate the stability of the &quot;Liking for Science&quot; measures. </p>
<p>(1) Estimate measures from SF.txt</p>
<p>(2) Choose SIFILE= from the Output Files menu. SIFILE=SFSIMUL.TXT</p>
<p>(3) Rerun Winsteps with DATA=SFSIMUL.TXT on the &quot;Extra Specifications&quot; line.</p>
<p>(4) Compare person, item and structure measures.</p>
<p>&nbsp;</p>
<p>The file format matches the input data file if both are in fixed-field format. When SIFILE= is written with <a href="csv.htm">CSV=</a>Y, comma-separated or CSV=T, tab-separated, the item responses precede the person label.</p>
<p>&nbsp;</p>
<p>Example: KCT.txt simulated with CSV=N fixed field format (resampling response strings):</p>
<p>&nbsp;</p>
<p class="p_CourierReg8"><span class="f_CourierReg8">Dorothy&nbsp;F&nbsp;111111111100000000&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-.2594&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;13</span></p>
<p class="p_CourierReg8"><span class="f_CourierReg8">Elsie&nbsp;&nbsp;&nbsp;F&nbsp;111101111100000000&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-1.3696&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;14</span></p>
<p class="p_CourierReg8"><span class="f_CourierReg8">Thomas&nbsp;&nbsp;M&nbsp;111111111010000000&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-.2594&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;31</span></p>
<p class="p_CourierReg8"><span class="f_CourierReg8">Rick&nbsp;&nbsp;&nbsp;&nbsp;M&nbsp;111111111010000000&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-.2594&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;27</span></p>
<p>&nbsp;</p>
<p>KCT.txt simulated with comma-separated, CSV=Y, <a href="hlines.htm">HLINES=</a>Y, <a href="quoted.htm">QUOTED=</a>Y format &nbsp;(resampling person measures):</p>
<p>&nbsp;</p>
<p class="p_CourierReg8"><span class="f_CourierReg8">&quot;1-4&quot;,&quot;2-3&quot;,&quot;1-2-4&quot;,&quot;1-3-4&quot;,&quot;2-1-4&quot;,&nbsp;...&nbsp;,&quot;KID&quot;,&quot;Measure&quot;,&quot;Entry&quot;</span></p>
<p class="p_CourierReg8"><span class="f_CourierReg8">1,1,1,1,1,1,0,1,1,1,0,0,0,0,0,0,0,0,&quot;Rick&nbsp;&nbsp;&nbsp;&nbsp;M&quot;,-.2594,27</span></p>
<p class="p_CourierReg8"><span class="f_CourierReg8">1,1,1,1,1,1,1,1,1,0,1,0,0,0,0,0,0,0,&quot;Helen&nbsp;&nbsp;&nbsp;F&quot;,-.2594,16</span></p>
<p class="p_CourierReg8"><span class="f_CourierReg8">1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,&quot;Rod&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;M&quot;,1.9380,28</span></p>
<p class="p_CourierReg8"><span class="f_CourierReg8">1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,&quot;William&nbsp;M&quot;,.9229,34</span></p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">Example 2.</span> To estimate the measure standard errors in a linked <a href="equating.htm">equating</a> design. </p>
<p>1. Do a concurrent calibration with Winsteps</p>
<p>2. Simulate data files SIFILE= from the <a href="outputfilesmenu.htm">Output Files</a> menu.</p>
<p>Specify &quot;complete data&quot; <a href="sicomplete.htm">SICOMPLETE=</a> as &quot;No&quot; to maintain the same data pattern. </p>
<p>Save 10 simulated sets, SINUMBER=, as S.txt S2.txt ..... </p>
<p>3. Rerun your Winsteps analysis 10 times </p>
<p>Specify in <a href="extraspecifications.htm">Extra Specifications</a> &quot;<a href="data.htm">DATA=</a>S.txt <a href="pfile.htm">PFILE=</a>P1.txt <a href="csv.htm">CSV=</a>TAB&quot; etc. </p>
<p>This will produce 10 <a href="pfile.htm">PFILE=</a>s. Export them in Excel format. </p>
<p>4. Use Excel to compute the standard deviation of the measures for each person based on the 10 person measures</p>
<p>5. These are the model standard errors for the equating design for the measures. </p>
<p>6. Inflate these values by 20%, say, to allow for systematic equating errors, misfit, etc.</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">Example 3</span>. If you do need estimation-bias-correction (<a href="stbias.htm">STBIAS=</a>) that is as accurate as possible with your data set, you will need to discover the amount of bias in the estimates and correct for it:</p>
<p>1. In your control file, STBIAS=No and <a href="uscale.htm">USCALE=</a>1</p>
<p>2. Obtain the Winsteps estimates for your data</p>
<p>3. Simulate many datasets using those estimates. (SIFILE= on the Winsteps Output Files menu).</p>
<p>4. Obtain the Winsteps estimates from the simulated data sets</p>
<p>5. Regress the simulated estimates on your initial estimates. These will give a slope near 1.0.</p>
<p>6. Obtain the Winsteps estimates for your data with USCALE = 1/slope. The set of estimates in 6 is effectively unbiased.</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">Example 4</span>. You need to simulate data from generating values. You can use Winsteps to simulate a dataset.</p>
<p>&nbsp;</p>
<p>1. Obtain the generating item difficulties, person abilities and threshold values. If you need a normal distribution of person abilities, you can generate this with Excel.</p>
<p>&nbsp;</p>
<p>a. From your standard analysis, output IFILE=if.txt, SFILE=sf.txt</p>
<p>&nbsp;</p>
<p>b. Use Excel or similar to simulate a normal distribution of person abilities with the mean and S.D. that you want.</p>
<p>In Excel:</p>
<p>Cell A1 = Mean</p>
<p>Cell B1 = S.D.</p>
<p>Cell A2 = =ROW()-1</p>
<p>Cell B2 = =NORMINV(RAND(),$A$1,$B$1)</p>
<p>then copy A2, B2 for as many rows as you want the sample size.</p>
<p>&nbsp;</p>
<p>c. Copy Columns A and B into a text file, pf.txt. Delete row 1.</p>
<p>&nbsp;</p>
<p>d. In your Winsteps control file:</p>
<p>IAFILE=if.txt</p>
<p>SAFILE=sf.txt</p>
<p>PAFILE = pf.txt</p>
<p>SIFILE= simulated.txt</p>
<p>&nbsp;</p>
<p>2. Construct a Winsteps control file including the generating values in <a href="iafile.htm">IAFILE=</a>, <a href="pafile.htm">PAFILE=</a>, <a href="safile.htm">SAFILE=</a></p>
<p>&nbsp;</p>
<p>3. Make a rectangular dataset with a row of valid responses (can be the same one) as wide as the number of items</p>
<p>and with a column of valid responses (can be the same one) as long as the number of persons, e,g,</p>
<p>number of persons = 7</p>
<p>number of items =10</p>
<p>the artificial dataset can be:</p>
<p>&nbsp;</p>
<p class="p_CourierReg8"><span class="f_CourierReg8">1111111111&nbsp;;&nbsp;10&nbsp;items&nbsp;across</span></p>
<p class="p_CourierReg8"><span class="f_CourierReg8">1</span></p>
<p class="p_CourierReg8"><span class="f_CourierReg8">1</span></p>
<p class="p_CourierReg8"><span class="f_CourierReg8">1</span></p>
<p class="p_CourierReg8"><span class="f_CourierReg8">1</span></p>
<p class="p_CourierReg8"><span class="f_CourierReg8">1</span></p>
<p class="p_CourierReg8"><span class="f_CourierReg8">1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;;&nbsp;7&nbsp;person&nbsp;rows</span></p>
<p>&nbsp;</p>
<p>4. Run Winsteps. Choose <a href="sifile.htm">SIFILE=</a> option from the output files menu. Click on &quot;complete data&quot; to simulate the entire data matrix.</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">Example 5.</span> Multiple simulations in Batch mode. See <a href="batch.htm">BATCH=</a></p>
<p>These can construct bootstrap confidence intervals for DIF estimates, etc.</p>
<p>Set up 100 simulations in a batch file, and extract the relevant numbers from the 100 output DIF tables.</p>
<p><a href="http://www.powergrep.com" target="_blank" class="weblink">PowerGREP</a> is great software for extracting values from files. For instance:<br>
To pick out lines 10-35 in the output files (after line 9, for 26 lines):</p>
<p style="margin: 0px 0px 0px 24px;">Action type: Search</p>
<p style="margin: 0px 0px 0px 24px;">File sectioning: Search and collect sections</p>
<p style="margin: 0px 0px 0px 24px;">Section search: \A([^\r\n]*+\r\n){9}(([^\r\n]*+\r\n){0,26})</p>
<p style="margin: 0px 0px 0px 24px;">Section collect: \2</p>
<p style="margin: 0px 0px 0px 24px;">Search: the search string: .* for everything</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<hr noshade size=1 style="color : #000000"><p class="p_Heading1"><span class="f_Heading1">&nbsp;</span></p>
<p class="p_Heading1"><span class="f_Ind0Hang020MSReg10ShiftF4" style="font-weight: bold;">Performing multiple simulations in Batch mode</span></p>
<p class="p_Ind0Hang020MSReg10ShiftF4"><span class="f_Ind0Hang020MSReg10ShiftF4">1. Use NotePad to create a text file called &quot;Simulate.bat&quot;</span></p>
<p class="p_Ind0Hang020MSReg10ShiftF4"><span class="f_Ind0Hang020MSReg10ShiftF4">2. In this file:</span></p>
<p class="p_Ind0Hang020MSReg10ShiftF4"><span class="f_Ind0Hang020MSReg10ShiftF4">&nbsp;</span></p>
<p class="p_CourierReg8"><span class="f_CourierReg8">REM&nbsp;-&nbsp;produce&nbsp;the&nbsp;generating&nbsp;values:&nbsp;this&nbsp;example&nbsp;uses&nbsp;example0.txt:</span></p>
<p class="p_CourierReg8"><span class="f_CourierReg8">START&nbsp;/WAIT&nbsp;c:\winsteps\WINSTEPS&nbsp;BATCH=YES&nbsp;&nbsp;example0.txt&nbsp;example0.out.txt&nbsp;PFILE=pf.txt&nbsp;IFILE=if.txt&nbsp;SFILE=sf.txt</span></p>
<p class="p_CourierReg8"><span class="f_CourierReg8">&nbsp;</span></p>
<p class="p_CourierReg8"><span class="f_CourierReg8">REM&nbsp;-&nbsp;initialize&nbsp;the&nbsp;loop&nbsp;counter</span></p>
<p class="p_CourierReg8"><span class="f_CourierReg8">set&nbsp;/a&nbsp;test=1</span></p>
<p class="p_CourierReg8"><span class="f_CourierReg8">:loop</span></p>
<p class="p_CourierReg8"><span class="f_CourierReg8">&nbsp;</span></p>
<p class="p_CourierReg8"><span class="f_CourierReg8">REM&nbsp;-&nbsp;simulate&nbsp;a&nbsp;dataset&nbsp;-&nbsp;use&nbsp;anchor&nbsp;values&nbsp;to&nbsp;speed&nbsp;up&nbsp;processing&nbsp;(or&nbsp;use&nbsp;SINUMBER=&nbsp;to&nbsp;avoid&nbsp;this&nbsp;step)</span></p>
<p class="p_CourierReg8"><span class="f_CourierReg8">START&nbsp;/WAIT&nbsp;c:\winsteps\WINSTEPS&nbsp;&nbsp;BATCH=YES&nbsp;example0.txt&nbsp;example0%loop%.out.txt&nbsp;PAFILE=pf.txt&nbsp;IAFILE=if.txt&nbsp;SAFILE=sf.txt&nbsp;SIFILE=SIFILE%test%.txt&nbsp;SISEED=0</span></p>
<p class="p_CourierReg8"><span class="f_CourierReg8">&nbsp;</span></p>
<p class="p_CourierReg8"><span class="f_CourierReg8">REM&nbsp;-&nbsp;estimate&nbsp;from&nbsp;the&nbsp;simulated&nbsp;dataset</span></p>
<p class="p_CourierReg8"><span class="f_CourierReg8">START&nbsp;/WAIT&nbsp;c:\winsteps\WINSTEPS&nbsp;BATCH=YES&nbsp;example0.txt&nbsp;data=SIFILE%test%.txt&nbsp;SIFILE%test%.out.txt&nbsp;pfile=pf%test%.txt&nbsp;ifile=if%test%.txt&nbsp;sfile=sf%test%.txt</span></p>
<p class="p_CourierReg8"><span class="f_CourierReg8">REM&nbsp;-&nbsp;do&nbsp;100&nbsp;times</span></p>
<p class="p_CourierReg8"><span class="f_CourierReg8">set&nbsp;/a&nbsp;test=%test%+1</span></p>
<p class="p_CourierReg8"><span class="f_CourierReg8">if&nbsp;not&nbsp;&quot;%test%&quot;==&quot;101&quot;&nbsp;goto&nbsp;loop</span></p>
<p class="p_Ind0Hang020MSReg10ShiftF4"><span class="f_Ind0Hang020MSReg10ShiftF4">&nbsp;</span></p>
<p class="p_Ind0Hang020MSReg10ShiftF4"><span class="f_Ind0Hang020MSReg10ShiftF4">3. Save &quot;Simulate.bat&quot;, then double-click on it to launch it.</span></p>
<p class="p_Ind0Hang020MSReg10ShiftF4"><span class="f_Ind0Hang020MSReg10ShiftF4">4. The simulate files and their estimates are numbered 1 to 100.</span></p>
<p class="p_Ind0Hang020MSReg10ShiftF4"><span class="f_Ind0Hang020MSReg10ShiftF4">&nbsp;</span></p>
<p class="p_Ind0Hang020MSReg10ShiftF4"><span class="f_Ind0Hang020MSReg10ShiftF4">5. The files of estimates can be combined and sorted using MS-DOS commands, e.g.,</span></p>
<p><span style="font-size: 10pt;">Copy if*.txt combinedif.txt</span></p>
<p><span style="font-size: 10pt;">Sort /+(sort column) &lt;combinedif.txt &nbsp;&gt;sortedif.txt</span></p>
 
</div>



</body>
</html>
